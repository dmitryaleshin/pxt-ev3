"use strict";var AI,Microsoft,__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])});return function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}}();function _endsWith(e,t){var i=e.length,n=i-t.length;return e.substring(0<=n?n:0,i)===t}!function(e){e.ApplicationInsights||(e.ApplicationInsights={})}(Microsoft=Microsoft||{}),function(e){var t=function(){};(e.Telemetry||(e.Telemetry={})).Base=t}(Microsoft=Microsoft||{}),function(e){var t=function(){this.ver=1,this.sampleRate=100,this.tags={}};(e.Telemetry||(e.Telemetry={})).Envelope=t}(Microsoft=Microsoft||{}),function(e){(e=e.ApplicationInsights||(e.ApplicationInsights={})).Context||(e.Context={})}(Microsoft=Microsoft||{}),function(e){(e=e.ApplicationInsights||(e.ApplicationInsights={})).Context||(e.Context={})}(Microsoft=Microsoft||{}),function(e){(e=e.ApplicationInsights||(e.ApplicationInsights={})).Context||(e.Context={})}(Microsoft=Microsoft||{}),function(e){(e=e.ApplicationInsights||(e.ApplicationInsights={})).Context||(e.Context={})}(Microsoft=Microsoft||{}),function(e){(e=e.ApplicationInsights||(e.ApplicationInsights={})).Context||(e.Context={})}(Microsoft=Microsoft||{}),function(e){(e=e.ApplicationInsights||(e.ApplicationInsights={})).Context||(e.Context={})}(Microsoft=Microsoft||{}),function(e){(e=e.ApplicationInsights||(e.ApplicationInsights={})).Context||(e.Context={})}(Microsoft=Microsoft||{}),function(e){(e=e.ApplicationInsights||(e.ApplicationInsights={})).Context||(e.Context={})}(Microsoft=Microsoft||{}),function(e){e.ApplicationInsights||(e.ApplicationInsights={})}(Microsoft=Microsoft||{}),function(e){e.ApplicationInsights||(e.ApplicationInsights={})}(Microsoft=Microsoft||{}),function(e){e.ApplicationInsights||(e.ApplicationInsights={})}(Microsoft=Microsoft||{}),function(e){(e=e.SeverityLevel||(e.SeverityLevel={}))[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(AI=AI||{}),function(e){e.ApplicationInsights||(e.ApplicationInsights={})}(Microsoft=Microsoft||{}),function(e){function o(e,t,i,n){void 0===i&&(i=!1),this.messageId=e,this.message=(i?o.AiUserActionablePrefix:o.AiNonUserActionablePrefix)+l[e].toString();i=(t?" message:"+o.sanitizeDiagnosticText(t):"")+(n?" props:"+o.sanitizeDiagnosticText(JSON.stringify(n)):"");this.message+=i}function a(){}var r,s,l,c;r=e.ApplicationInsights||(e.ApplicationInsights={}),(e=s=r.LoggingSeverity||(r.LoggingSeverity={}))[e.CRITICAL=0]="CRITICAL",e[e.WARNING=1]="WARNING",(e=l=r._InternalMessageId||(r._InternalMessageId={}))[e.BrowserDoesNotSupportLocalStorage=0]="BrowserDoesNotSupportLocalStorage",e[e.BrowserCannotReadLocalStorage=1]="BrowserCannotReadLocalStorage",e[e.BrowserCannotReadSessionStorage=2]="BrowserCannotReadSessionStorage",e[e.BrowserCannotWriteLocalStorage=3]="BrowserCannotWriteLocalStorage",e[e.BrowserCannotWriteSessionStorage=4]="BrowserCannotWriteSessionStorage",e[e.BrowserFailedRemovalFromLocalStorage=5]="BrowserFailedRemovalFromLocalStorage",e[e.BrowserFailedRemovalFromSessionStorage=6]="BrowserFailedRemovalFromSessionStorage",e[e.CannotSendEmptyTelemetry=7]="CannotSendEmptyTelemetry",e[e.ClientPerformanceMathError=8]="ClientPerformanceMathError",e[e.ErrorParsingAISessionCookie=9]="ErrorParsingAISessionCookie",e[e.ErrorPVCalc=10]="ErrorPVCalc",e[e.ExceptionWhileLoggingError=11]="ExceptionWhileLoggingError",e[e.FailedAddingTelemetryToBuffer=12]="FailedAddingTelemetryToBuffer",e[e.FailedMonitorAjaxAbort=13]="FailedMonitorAjaxAbort",e[e.FailedMonitorAjaxDur=14]="FailedMonitorAjaxDur",e[e.FailedMonitorAjaxOpen=15]="FailedMonitorAjaxOpen",e[e.FailedMonitorAjaxRSC=16]="FailedMonitorAjaxRSC",e[e.FailedMonitorAjaxSend=17]="FailedMonitorAjaxSend",e[e.FailedMonitorAjaxGetCorrelationHeader=18]="FailedMonitorAjaxGetCorrelationHeader",e[e.FailedToAddHandlerForOnBeforeUnload=19]="FailedToAddHandlerForOnBeforeUnload",e[e.FailedToSendQueuedTelemetry=20]="FailedToSendQueuedTelemetry",e[e.FailedToReportDataLoss=21]="FailedToReportDataLoss",e[e.FlushFailed=22]="FlushFailed",e[e.MessageLimitPerPVExceeded=23]="MessageLimitPerPVExceeded",e[e.MissingRequiredFieldSpecification=24]="MissingRequiredFieldSpecification",e[e.NavigationTimingNotSupported=25]="NavigationTimingNotSupported",e[e.OnError=26]="OnError",e[e.SessionRenewalDateIsZero=27]="SessionRenewalDateIsZero",e[e.SenderNotInitialized=28]="SenderNotInitialized",e[e.StartTrackEventFailed=29]="StartTrackEventFailed",e[e.StopTrackEventFailed=30]="StopTrackEventFailed",e[e.StartTrackFailed=31]="StartTrackFailed",e[e.StopTrackFailed=32]="StopTrackFailed",e[e.TelemetrySampledAndNotSent=33]="TelemetrySampledAndNotSent",e[e.TrackEventFailed=34]="TrackEventFailed",e[e.TrackExceptionFailed=35]="TrackExceptionFailed",e[e.TrackMetricFailed=36]="TrackMetricFailed",e[e.TrackPVFailed=37]="TrackPVFailed",e[e.TrackPVFailedCalc=38]="TrackPVFailedCalc",e[e.TrackTraceFailed=39]="TrackTraceFailed",e[e.TransmissionFailed=40]="TransmissionFailed",e[e.FailedToSetStorageBuffer=41]="FailedToSetStorageBuffer",e[e.FailedToRestoreStorageBuffer=42]="FailedToRestoreStorageBuffer",e[e.InvalidBackendResponse=43]="InvalidBackendResponse",e[e.FailedToFixDepricatedValues=44]="FailedToFixDepricatedValues",e[e.InvalidDurationValue=45]="InvalidDurationValue",e[e.CannotSerializeObject=46]="CannotSerializeObject",e[e.CannotSerializeObjectNonSerializable=47]="CannotSerializeObjectNonSerializable",e[e.CircularReferenceDetected=48]="CircularReferenceDetected",e[e.ClearAuthContextFailed=49]="ClearAuthContextFailed",e[e.ExceptionTruncated=50]="ExceptionTruncated",e[e.IllegalCharsInName=51]="IllegalCharsInName",e[e.ItemNotInArray=52]="ItemNotInArray",e[e.MaxAjaxPerPVExceeded=53]="MaxAjaxPerPVExceeded",e[e.MessageTruncated=54]="MessageTruncated",e[e.NameTooLong=55]="NameTooLong",e[e.SampleRateOutOfRange=56]="SampleRateOutOfRange",e[e.SetAuthContextFailed=57]="SetAuthContextFailed",e[e.SetAuthContextFailedAccountName=58]="SetAuthContextFailedAccountName",e[e.StringValueTooLong=59]="StringValueTooLong",e[e.StartCalledMoreThanOnce=60]="StartCalledMoreThanOnce",e[e.StopCalledWithoutStart=61]="StopCalledWithoutStart",e[e.TelemetryInitializerFailed=62]="TelemetryInitializerFailed",e[e.TrackArgumentsNotSpecified=63]="TrackArgumentsNotSpecified",e[e.UrlTooLong=64]="UrlTooLong",e[e.SessionStorageBufferFull=65]="SessionStorageBufferFull",e[e.CannotAccessCookie=66]="CannotAccessCookie",e[e.IdTooLong=67]="IdTooLong",o.sanitizeDiagnosticText=function(e){return'"'+e.replace(/\"/g,"")+'"'},o.AiNonUserActionablePrefix="AI (Internal): ",o.AiUserActionablePrefix="AI: ",c=o,r._InternalLogMessage=c,a.throwInternal=function(e,t,i,n,o){t=new c(t,i,o=void 0===o?!1:o,n);if(this.enableDebugExceptions())throw t;void 0!==t&&t&&void 0!==t.message&&(o?(i=l[t.messageId],this._messageLogged[i]&&!this.verboseLogging()||(this.warnToConsole(t.message),this._messageLogged[i]=!0)):this.verboseLogging()&&this.warnToConsole(t.message),this.logInternalMessage(e,t))},a.warnToConsole=function(e){"undefined"!=typeof console&&console&&("function"==typeof console.warn?console.warn(e):"function"==typeof console.log&&console.log(e))},a.resetInternalMessageCount=function(){this._messageCount=0,this._messageLogged={}},a.clearInternalMessageLoggedTypes=function(){if(r.Util.canUseSessionStorage())for(var e=r.Util.getSessionStorageKeys(),t=0;t<e.length;t++)0===e[t].indexOf(a.AIInternalMessagePrefix)&&r.Util.removeSessionStorage(e[t])},a.setMaxInternalMessageLimit=function(e){if(!e)throw new Error("limit cannot be undefined.");this.MAX_INTERNAL_MESSAGE_LIMIT=e},a.logInternalMessage=function(e,t){var i,n;this._areInternalMessagesThrottled()||(n=!0,i=a.AIInternalMessagePrefix+l[t.messageId],r.Util.canUseSessionStorage()?r.Util.getSessionStorage(i)?n=!1:r.Util.setSessionStorage(i,"1"):this._messageLogged[i]?n=!1:this._messageLogged[i]=!0,n&&(!this.verboseLogging()&&e!==s.CRITICAL||(this.queue.push(t),this._messageCount++),this._messageCount==this.MAX_INTERNAL_MESSAGE_LIMIT)&&(n=new c(l.MessageLimitPerPVExceeded,i="Internal events throttle limit per PageView reached for this app.",!1),this.queue.push(n),this.warnToConsole(i)))},a._areInternalMessagesThrottled=function(){return this._messageCount>=this.MAX_INTERNAL_MESSAGE_LIMIT},a.AIInternalMessagePrefix="AITR_",a.enableDebugExceptions=function(){return!1},a.verboseLogging=function(){return!1},a.queue=[],a.MAX_INTERNAL_MESSAGE_LIMIT=25,a._messageCount=0,a._messageLogged={},r._InternalLogging=a}(Microsoft=Microsoft||{}),function(e){function t(){}e=e.ApplicationInsights||(e.ApplicationInsights={}),t.newId=function(){for(var e="",t=1073741824*Math.random();0<t;)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t%64),t=Math.floor(t/64);return e},e.UtilHelpers=t}(Microsoft=Microsoft||{}),function(e){var n=e.ApplicationInsights||(e.ApplicationInsights={});(e=o=o||{})[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage",r.disableStorage=function(){r._canUseLocalStorage=!1,r._canUseSessionStorage=!1},r._getLocalStorageObject=function(){return r.canUseLocalStorage()?r._getVerifiedStorageObject(o.LocalStorage):null},r._getVerifiedStorageObject=function(e){var t,i,n=null;try{i=new Date,(n=e===o.LocalStorage?window.localStorage:window.sessionStorage).setItem(i,i),t=n.getItem(i)!=i,n.removeItem(i),t&&(n=null)}catch(e){n=null}return n},r.isInternalApplicationInsightsEndpoint=function(e){return-1!==r._internalEndpoints.indexOf(e.toLowerCase())},r.canUseLocalStorage=function(){return r._canUseLocalStorage=void 0===r._canUseLocalStorage?!!r._getVerifiedStorageObject(o.LocalStorage):r._canUseLocalStorage},r.getStorage=function(e){var t=r._getLocalStorageObject();if(null!==t)try{return t.getItem(e)}catch(e){r._canUseLocalStorage=!1,n._InternalLogging.throwInternal(n.LoggingSeverity.WARNING,n._InternalMessageId.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+r.getExceptionName(e),{exception:r.dump(e)})}return null},r.setStorage=function(e,t){var i=r._getLocalStorageObject();if(null!==i)try{return i.setItem(e,t),!0}catch(e){r._canUseLocalStorage=!1,n._InternalLogging.throwInternal(n.LoggingSeverity.WARNING,n._InternalMessageId.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+r.getExceptionName(e),{exception:r.dump(e)})}return!1},r.removeStorage=function(e){var t=r._getLocalStorageObject();if(null!==t)try{return t.removeItem(e),!0}catch(e){r._canUseLocalStorage=!1,n._InternalLogging.throwInternal(n.LoggingSeverity.WARNING,n._InternalMessageId.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+r.getExceptionName(e),{exception:r.dump(e)})}return!1},r._getSessionStorageObject=function(){return r.canUseSessionStorage()?r._getVerifiedStorageObject(o.SessionStorage):null},r.canUseSessionStorage=function(){return r._canUseSessionStorage=void 0===r._canUseSessionStorage?!!r._getVerifiedStorageObject(o.SessionStorage):r._canUseSessionStorage},r.getSessionStorageKeys=function(){var e=[];if(r.canUseSessionStorage())for(var t in window.sessionStorage)e.push(t);return e},r.getSessionStorage=function(e){var t=r._getSessionStorageObject();if(null!==t)try{return t.getItem(e)}catch(e){r._canUseSessionStorage=!1,n._InternalLogging.throwInternal(n.LoggingSeverity.WARNING,n._InternalMessageId.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+r.getExceptionName(e),{exception:r.dump(e)})}return null},r.setSessionStorage=function(e,t){var i=r._getSessionStorageObject();if(null!==i)try{return i.setItem(e,t),!0}catch(e){r._canUseSessionStorage=!1,n._InternalLogging.throwInternal(n.LoggingSeverity.WARNING,n._InternalMessageId.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+r.getExceptionName(e),{exception:r.dump(e)})}return!1},r.removeSessionStorage=function(e){var t=r._getSessionStorageObject();if(null!==t)try{return t.removeItem(e),!0}catch(e){r._canUseSessionStorage=!1,n._InternalLogging.throwInternal(n.LoggingSeverity.WARNING,n._InternalMessageId.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+r.getExceptionName(e),{exception:r.dump(e)})}return!1},r.disableCookies=function(){r._canUseCookies=!1},r.canUseCookies=function(){if(void 0===r._canUseCookies){r._canUseCookies=!1;try{r._canUseCookies=void 0!==r.document.cookie}catch(e){n._InternalLogging.throwInternal(n.LoggingSeverity.WARNING,n._InternalMessageId.CannotAccessCookie,"Cannot access document.cookie - "+r.getExceptionName(e),{exception:r.dump(e)})}}return r._canUseCookies},r.disallowsSameSiteNone=function(e){return"string"==typeof e&&(-1!==e.indexOf("CPU iPhone OS 12")||-1!==e.indexOf("iPad; CPU OS 12")||-1!==e.indexOf("Macintosh; Intel Mac OS X 10_14")&&-1!==e.indexOf("Version/")&&-1!==e.indexOf("Safari")||!(-1===e.indexOf("Macintosh; Intel Mac OS X 10_14")||!_endsWith(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))||-1!==e.indexOf("Chrome/5")||-1!==e.indexOf("Chrome/6")||-1!==e.indexOf("UnrealEngine")&&-1===e.indexOf("Chrome")||-1!==e.indexOf("UCBrowser/12")||-1!==e.indexOf("UCBrowser/11"))},r.setCookie=function(e,t,i){var n="",o="";i&&(n=";domain="+i),!r.document.location||"https:"!==r.document.location.protocol||(o=";secure",r._uaDisallowsSameSiteNone=null===r._uaDisallowsSameSiteNone&&"undefined"!=typeof navigator?r.disallowsSameSiteNone(navigator.userAgent):r._uaDisallowsSameSiteNone)||(t+=";SameSite=None"),r.canUseCookies()&&(r.document.cookie=e+"="+t+n+";path=/"+o)},r.stringToBoolOrDefault=function(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString().toLowerCase()},r.getCookie=function(e){if(r.canUseCookies()){var t="";if(e&&e.length)for(var i=e+"=",n=r.document.cookie.split(";"),o=0;o<n.length;o++){var a=n[o];if((a=r.trim(a))&&0===a.indexOf(i)){t=a.substring(i.length,n[o].length);break}}return t}},r.deleteCookie=function(e){r.canUseCookies()&&(r.document.cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;")},r.trim=function(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")},r.newId=function(){return n.UtilHelpers.newId()},r.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},r.isError=function(e){return"[object Error]"===Object.prototype.toString.call(e)},r.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},r.toISOStringForIE8=function(e){var t;if(r.isDate(e))return Date.prototype.toISOString?e.toISOString():(t=function(e){e=String(e);return e=1===e.length?"0"+e:e},e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z")},r.getIEVersion=function(e){e=((e=void 0===e?null:e)||navigator.userAgent).toLowerCase();return-1!=e.indexOf("msie")?parseInt(e.split("msie")[1]):null},r.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,i=""+Math.floor(e/1e3)%60,n=""+Math.floor(e/6e4)%60,o=""+Math.floor(e/36e5)%24,e=Math.floor(e/864e5);return(0<e?e+".":"")+(o.length<2?"0"+o:o)+":"+(n.length<2?"0"+n:n)+":"+(i.length<2?"0"+i:i)+"."+(1===t.length?"00"+t:2===t.length?"0"+t:t)},r.isCrossOriginError=function(e,t,i,n,o){return("Script error."===e||"Script error"===e)&&!o},r.dump=function(e){var t=Object.prototype.toString.call(e),i=JSON.stringify(e);return t+(i="[object Error]"===t?"{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":i)},r.getExceptionName=function(e){return"[object Error]"===Object.prototype.toString.call(e)?e.name:""},r.addEventHandler=function(e,t){if(!window||"string"!=typeof e||"function"!=typeof t)return!1;var i="on"+e;if(window.addEventListener)window.addEventListener(e,t,!1);else{if(!window.attachEvent)return!1;window.attachEvent(i,t)}return!0},r.IsBeaconApiSupported=function(){return"sendBeacon"in navigator&&navigator.sendBeacon},r.document="undefined"!=typeof document?document:{},r._canUseCookies=void 0,r._canUseLocalStorage=void 0,r._canUseSessionStorage=void 0,r._uaDisallowsSameSiteNone=null,r._internalEndpoints=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],r.NotSpecified="not_specified";var o,e=r;function r(){}n.Util=e,i.parseUrl=function(e){return(i.htmlAnchorElement=i.htmlAnchorElement?i.htmlAnchorElement:i.document.createElement?i.document.createElement("a"):{host:i.parseHost(e)}).href=e,i.htmlAnchorElement},i.parseHost=function(e){e=e.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!=e&&2<e.length&&"string"==typeof e[2]&&0<e[2].length?e[2]:null},i.getAbsoluteUrl=function(e){var t,e=i.parseUrl(e);return t=e?e.href:t},i.getPathName=function(e){var t,e=i.parseUrl(e);return t=e?e.pathname:t},i.getCompleteUrl=function(e,t){return e?e.toUpperCase()+" "+t:t},i.document="undefined"!=typeof document?document:{};var s=i;function i(){}function t(){}n.UrlHelper=s,t.canIncludeCorrelationHeader=function(e,t,i){if(e&&e.disableCorrelationHeaders)return!1;if(!t)return!1;var n=s.parseUrl(t).host.toLowerCase();if(!(e&&e.enableCorsCorrelation||n===i))return!1;var o=e&&e.correlationHeaderExcludedDomains;if(o&&0!=o.length)for(var a=0;a<o.length;a++)if(new RegExp(o[a].toLowerCase().replace(/\./g,".").replace(/\*/g,".*")).test(n))return!1;return!0},t.getCorrelationContext=function(e){if(e){e=t.getCorrelationContextValue(e,n.RequestHeaders.requestContextTargetKey);if(e&&e!==t.correlationIdPrefix)return e}},t.getCorrelationContextValue=function(e,t){if(e)for(var i=e.split(","),n=0;n<i.length;++n){var o=i[n].split("=");if(2==o.length&&o[0]==t)return o[1]}},t.correlationIdPrefix="cid-v1:",n.CorrelationIdHelper=t}(Microsoft=Microsoft||{}),function(e){function g(){}var p,u;p=e.ApplicationInsights||(e.ApplicationInsights={}),(e=u=p.FieldType||(p.FieldType={}))[e.Default=0]="Default",e[e.Required=1]="Required",e[e.Array=2]="Array",e[e.Hidden=4]="Hidden",g.serialize=function(e){e=g._serializeObject(e,"root");return JSON.stringify(e)},g._serializeObject=function(e,t){var i="__aiCircularRefCheck",n={};if(e)if(e[i])p._InternalLogging.throwInternal(p.LoggingSeverity.WARNING,p._InternalMessageId.CircularReferenceDetected,"Circular reference detected while serializing object",{name:t},!0);else if(e.aiDataContract){for(var o in e[i]=!0,e.aiDataContract){var a=e.aiDataContract[o],r="function"==typeof a?a()&u.Required:a&u.Required,s="function"==typeof a?a()&u.Hidden:a&u.Hidden,a=a&u.Array,l=void 0!==e[o],c="object"==typeof e[o]&&null!==e[o];!r||l||a?s||void 0!==(r=c?a?g._serializeArray(e[o],o):g._serializeObject(e[o],o):e[o])&&(n[o]=r):p._InternalLogging.throwInternal(p.LoggingSeverity.CRITICAL,p._InternalMessageId.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:o,name:t})}delete e[i]}else if("measurements"===t)n=g._serializeStringMap(e,"number",t);else if("properties"===t)n=g._serializeStringMap(e,"string",t);else if("tags"===t)n=g._serializeStringMap(e,"string",t);else if(p.Util.isArray(e))n=g._serializeArray(e,t);else{p._InternalLogging.throwInternal(p.LoggingSeverity.WARNING,p._InternalMessageId.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:t},!0);try{JSON.stringify(e),n=e}catch(e){p._InternalLogging.throwInternal(p.LoggingSeverity.CRITICAL,p._InternalMessageId.CannotSerializeObject,e&&"function"==typeof e.toString?e.toString():"Error serializing object",null,!0)}}else p._InternalLogging.throwInternal(p.LoggingSeverity.CRITICAL,p._InternalMessageId.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:t},!0);return n},g._serializeArray=function(e,t){var i=void 0;if(e)if(p.Util.isArray(e))for(var i=[],n=0;n<e.length;n++){var o=e[n],o=g._serializeObject(o,t+"["+n+"]");i.push(o)}else p._InternalLogging.throwInternal(p.LoggingSeverity.CRITICAL,p._InternalMessageId.ItemNotInArray,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:t},!0);return i},g._serializeStringMap=function(e,t,i){var n=void 0;if(e)for(var o in n={},e){var a=e[o];"string"===t?void 0===a?n[o]="undefined":null===a?n[o]="null":a.toString?n[o]=a.toString():n[o]="invalid field: toString() is not defined.":"number"===t?void 0===a?n[o]="undefined":null===a?n[o]="null":(a=parseFloat(a),isNaN(a)?n[o]="NaN":n[o]=a):(n[o]="invalid field: "+i+" is of unknown type.",p._InternalLogging.throwInternal(p.LoggingSeverity.CRITICAL,n[o],null,!0))}return n},e=g,p.Serializer=e}(Microsoft=Microsoft||{}),function(e){var n,t,o,a;function i(e,t){var i=a.call(this)||this;return i.name=o.DataSanitizer.sanitizeString(t)||n.Util.NotSpecified,i.data=e,i.time=n.Util.toISOStringForIE8(new Date),i.aiDataContract={time:n.FieldType.Required,iKey:n.FieldType.Required,name:n.FieldType.Required,sampleRate:function(){return 100==i.sampleRate?n.FieldType.Hidden:n.FieldType.Required},tags:n.FieldType.Required,data:n.FieldType.Required},i}t=(n=e.ApplicationInsights||(e.ApplicationInsights={})).Telemetry||(n.Telemetry={}),o=t.Common||(t.Common={}),a=e.Telemetry.Envelope,__extends(i,a),o.Envelope=i}(Microsoft=Microsoft||{}),function(e){var t,i;function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.aiDataContract={},e}t=(t=(t=e.ApplicationInsights||(e.ApplicationInsights={})).Telemetry||(t.Telemetry={})).Common||(t.Common={}),i=e.Telemetry.Base,__extends(n,i),t.Base=n}(Microsoft=Microsoft||{}),(AI=AI||{}).ContextTagKeys=function(){this.applicationVersion="ai.application.ver",this.applicationBuild="ai.application.build",this.applicationTypeId="ai.application.typeId",this.applicationId="ai.application.applicationId",this.applicationLayer="ai.application.layer",this.deviceId="ai.device.id",this.deviceIp="ai.device.ip",this.deviceLanguage="ai.device.language",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceFriendlyName="ai.device.friendlyName",this.deviceNetwork="ai.device.network",this.deviceNetworkName="ai.device.networkName",this.deviceOEMName="ai.device.oemName",this.deviceOS="ai.device.os",this.deviceOSVersion="ai.device.osVersion",this.deviceRoleInstance="ai.device.roleInstance",this.deviceRoleName="ai.device.roleName",this.deviceScreenResolution="ai.device.screenResolution",this.deviceType="ai.device.type",this.deviceMachineName="ai.device.machineName",this.deviceVMName="ai.device.vmName",this.deviceBrowser="ai.device.browser",this.deviceBrowserVersion="ai.device.browserVersion",this.locationIp="ai.location.ip",this.locationCountry="ai.location.country",this.locationProvince="ai.location.province",this.locationCity="ai.location.city",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationRootId="ai.operation.rootId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.sessionIsNew="ai.session.isNew",this.userAccountAcquisitionDate="ai.user.accountAcquisitionDate",this.userAccountId="ai.user.accountId",this.userAgent="ai.user.userAgent",this.userId="ai.user.id",this.userStoreRegion="ai.user.storeRegion",this.userAuthUserId="ai.user.authUserId",this.userAnonymousUserAcquisitionDate="ai.user.anonUserAcquisitionDate",this.userAuthenticatedUserAcquisitionDate="ai.user.authUserAcquisitionDate",this.cloudName="ai.cloud.name",this.cloudRole="ai.cloud.role",this.cloudRoleVer="ai.cloud.roleVer",this.cloudRoleInstance="ai.cloud.roleInstance",this.cloudEnvironment="ai.cloud.environment",this.cloudLocation="ai.cloud.location",this.cloudDeploymentUnit="ai.cloud.deploymentUnit",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"},function(e){var t=function(){};((e=e.ApplicationInsights||(e.ApplicationInsights={})).Context||(e.Context={})).Application=t}(Microsoft=Microsoft||{}),function(e){var t=function(){this.id="browser",this.type="Browser"};((e=e.ApplicationInsights||(e.ApplicationInsights={})).Context||(e.Context={})).Device=t}(Microsoft=Microsoft||{}),function(e){var t,i=function(e){this.sdkVersion=(e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:"+t.Version};((t=e.ApplicationInsights||(e.ApplicationInsights={})).Context||(t.Context={})).Internal=i}(Microsoft=Microsoft||{}),function(e){var t=function(){};((e=e.ApplicationInsights||(e.ApplicationInsights={})).Context||(e.Context={})).Location=t}(Microsoft=Microsoft||{}),function(e){var t,i=function(){this.id=t.Util.newId(),window&&window.location&&window.location.pathname&&(this.name=window.location.pathname)};((t=e.ApplicationInsights||(e.ApplicationInsights={})).Context||(t.Context={})).Operation=i}(Microsoft=Microsoft||{}),function(e){function n(){}e=e.ApplicationInsights||(e.ApplicationInsights={}),n.prototype.getHashCodeScore=function(e){return this.getHashCode(e)/n.INT_MAX_VALUE*100},n.prototype.getHashCode=function(e){if(""==e)return 0;for(;e.length<n.MIN_INPUT_LENGTH;)e=e.concat(e);for(var t=5381,i=0;i<e.length;++i)t=(t<<5)+t+e.charCodeAt(i),t&=t;return Math.abs(t)},n.INT_MAX_VALUE=2147483647,n.MIN_INPUT_LENGTH=8,e.HashCodeScoreGenerator=n}(Microsoft=Microsoft||{}),function(e){var t;function i(){this.hashCodeGeneragor=new t.HashCodeScoreGenerator}t=e.ApplicationInsights||(e.ApplicationInsights={}),i.prototype.getSamplingScore=function(e){var t=new AI.ContextTagKeys;return e.tags[t.userId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[t.userId]):e.tags[t.operationId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[t.operationId]):Math.random()},t.SamplingScoreGenerator=i}(Microsoft=Microsoft||{}),function(e){var t;function i(e){this.INT_MAX_VALUE=2147483647,(100<e||e<0)&&(t._InternalLogging.throwInternal(t.LoggingSeverity.WARNING,t._InternalMessageId.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),this.sampleRate=100),this.sampleRate=e,this.samplingScoreGenerator=new t.SamplingScoreGenerator}e=(t=e.ApplicationInsights||(e.ApplicationInsights={})).Context||(t.Context={}),i.prototype.isSampledIn=function(e){return 100==this.sampleRate||this.samplingScoreGenerator.getSamplingScore(e)<this.sampleRate},e.Sample=i}(Microsoft=Microsoft||{}),function(e){var r;function t(){}function n(e){"function"!=typeof(e=e||{}).sessionExpirationMs&&(e.sessionExpirationMs=function(){return n.acquisitionSpan}),"function"!=typeof e.sessionRenewalMs&&(e.sessionRenewalMs=function(){return n.renewalSpan}),this.config=e,this.automaticSession=new t}(e=(r=e.ApplicationInsights||(e.ApplicationInsights={})).Context||(r.Context={})).Session=t,n.prototype.update=function(){this.automaticSession.id||this.initializeAutomaticSession();var e=r.dateTime.Now(),t=e-this.automaticSession.acquisitionDate>this.config.sessionExpirationMs(),i=e-this.automaticSession.renewalDate>this.config.sessionRenewalMs();t||i?(this.automaticSession.isFirst=void 0,this.renew()):(!this.cookieUpdatedTimestamp||e-this.cookieUpdatedTimestamp>n.cookieUpdateInterval)&&(this.automaticSession.renewalDate=e,this.setCookie(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate))},n.prototype.backup=function(){this.setStorage(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate)},n.prototype.initializeAutomaticSession=function(){var e=r.Util.getCookie("ai_session");e&&"function"==typeof e.split?this.initializeAutomaticSessionWithData(e):(e=r.Util.getStorage("ai_session"))&&this.initializeAutomaticSessionWithData(e),this.automaticSession.id||(this.automaticSession.isFirst=!0,this.renew())},n.prototype.initializeAutomaticSessionWithData=function(e){var t,i,n=e.split("|");0<n.length&&(this.automaticSession.id=n[0]);try{1<n.length&&(t=+n[1],this.automaticSession.acquisitionDate=+new Date(t),this.automaticSession.acquisitionDate=0<this.automaticSession.acquisitionDate?this.automaticSession.acquisitionDate:0),2<n.length&&(i=+n[2],this.automaticSession.renewalDate=+new Date(i),this.automaticSession.renewalDate=0<this.automaticSession.renewalDate?this.automaticSession.renewalDate:0)}catch(e){r._InternalLogging.throwInternal(r.LoggingSeverity.CRITICAL,r._InternalMessageId.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+r.Util.getExceptionName(e),{exception:r.Util.dump(e)})}0==this.automaticSession.renewalDate&&r._InternalLogging.throwInternal(r.LoggingSeverity.WARNING,r._InternalMessageId.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")},n.prototype.renew=function(){var e=r.dateTime.Now();this.automaticSession.id=r.Util.newId(),this.automaticSession.acquisitionDate=e,this.automaticSession.renewalDate=e,this.setCookie(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate),r.Util.canUseLocalStorage()||r._InternalLogging.throwInternal(r.LoggingSeverity.WARNING,r._InternalMessageId.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")},n.prototype.setCookie=function(e,t,i){var n=t+this.config.sessionExpirationMs(),o=i+this.config.sessionRenewalMs(),a=new Date,e=[e,t,i],t=(n<o?a.setTime(n):a.setTime(o),this.config.cookieDomain?this.config.cookieDomain():null);r.Util.setCookie("ai_session",e.join("|")+";expires="+a.toUTCString(),t),this.cookieUpdatedTimestamp=r.dateTime.Now()},n.prototype.setStorage=function(e,t,i){r.Util.setStorage("ai_session",[e,t,i].join("|"))},n.acquisitionSpan=864e5,n.renewalSpan=18e5,n.cookieUpdateInterval=6e4,e._SessionManager=n}(Microsoft=Microsoft||{}),function(e){var o;function a(e){var t,i=o.Util.getCookie(a.userCookieName),n=(i&&0<(i=i.split(a.cookieSeparator)).length&&(this.id=i[0]),this.config=e,this.id||(this.id=o.Util.newId(),i=new Date,n=o.Util.toISOStringForIE8(i),this.accountAcquisitionDate=n,i.setTime(i.getTime()+31536e6),n=[this.id,n],t=this.config.cookieDomain?this.config.cookieDomain():void 0,o.Util.setCookie(a.userCookieName,n.join(a.cookieSeparator)+";expires="+i.toUTCString(),t),o.Util.removeStorage("ai_session")),this.accountId=e.accountId?e.accountId():void 0,o.Util.getCookie(a.authUserCookieName));n&&((i=(n=decodeURI(n)).split(a.cookieSeparator))[0]&&(this.authenticatedId=i[0]),1<i.length)&&i[1]&&(this.accountId=i[1])}e=(o=e.ApplicationInsights||(e.ApplicationInsights={})).Context||(o.Context={}),a.prototype.setAuthenticatedUserContext=function(e,t,i){void 0===i&&(i=!1),!this.validateUserInput(e)||t&&!this.validateUserInput(t)?o._InternalLogging.throwInternal(o.LoggingSeverity.WARNING,o._InternalMessageId.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0):(this.authenticatedId=e,e=this.authenticatedId,t&&(this.accountId=t,e=[this.authenticatedId,this.accountId].join(a.cookieSeparator)),i&&o.Util.setCookie(a.authUserCookieName,encodeURI(e),this.config.cookieDomain()))},a.prototype.clearAuthenticatedUserContext=function(){this.authenticatedId=null,this.accountId=null,o.Util.deleteCookie(a.authUserCookieName)},a.prototype.validateUserInput=function(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))},a.cookieSeparator="|",a.userCookieName="ai_user",a.authUserCookieName="ai_authUser",e.User=a}(Microsoft=Microsoft||{}),function(e){function t(){}function i(){}function n(){}function o(){}function a(){}var r,s;r=e.ApplicationInsights||(e.ApplicationInsights={}),t.IsNullOrUndefined=function(e){return null==e},s=t,r.extensions=s,i.GetLength=function(e){var t=0;if(!s.IsNullOrUndefined(e)){var i="";try{i=e.toString()}catch(e){}t=i.length,t=isNaN(t)?0:t}return t},r.stringUtils=i,n.Now=window.performance&&window.performance.now&&window.performance.timing?function(){return window.performance.now()+window.performance.timing.navigationStart}:function(){return(new Date).getTime()},n.GetDuration=function(e,t){var i=null;return i=0===e||0===t||s.IsNullOrUndefined(e)||s.IsNullOrUndefined(t)?i:t-e},r.dateTime=n,o.AttachEvent=function(e,t,i){var n=!1;return s.IsNullOrUndefined(e)||(s.IsNullOrUndefined(e.attachEvent)?s.IsNullOrUndefined(e.addEventListener)||(e.addEventListener(t,i,!1),n=!0):(e.attachEvent("on"+t,i),n=!0)),n},o.DetachEvent=function(e,t,i){s.IsNullOrUndefined(e)||(s.IsNullOrUndefined(e.detachEvent)?s.IsNullOrUndefined(e.removeEventListener)||e.removeEventListener(t,i,!1):e.detachEvent("on"+t,i))},r.EventHelper=o,a.ParseDependencyPath=function(e,t,i){var n,o;return o=e&&0<e.length?(n=(o=r.UrlHelper.parseUrl(e)).host,null!=o.pathname?("/"!==(i=0===o.pathname.length?"/":o.pathname).charAt(0)&&(i="/"+i),r.Telemetry.Common.DataSanitizer.sanitizeString(t?t+" "+i:i)):r.Telemetry.Common.DataSanitizer.sanitizeString(e)):n=i,{target:n,name:o}},r.AjaxHelper=a}(Microsoft=Microsoft||{}),function(e){function t(){this.openDone=!1,this.setRequestHeaderDone=!1,this.sendDone=!1,this.abortDone=!1,this.onreadystatechangeCallbackAttached=!1}function i(e){this.completed=!1,this.requestHeadersSize=null,this.ttfb=null,this.responseReceivingDuration=null,this.callbackDuration=null,this.ajaxTotalDuration=null,this.aborted=null,this.pageUrl=null,this.requestUrl=null,this.requestSize=0,this.method=null,this.status=null,this.requestSentTime=null,this.responseStartedTime=null,this.responseFinishedTime=null,this.callbackFinishedTime=null,this.endTime=null,this.originalOnreadystatechage=null,this.xhrMonitoringState=new t,this.clientFailure=0,this.CalculateMetrics=function(){this.ajaxTotalDuration=Math.round(1e3*n.dateTime.GetDuration(this.requestSentTime,this.responseFinishedTime))/1e3},this.id=e}var n;(n=e.ApplicationInsights||(e.ApplicationInsights={})).XHRMonitoringState=t,i.prototype.getAbsoluteUrl=function(){return this.requestUrl?n.UrlHelper.getAbsoluteUrl(this.requestUrl):null},i.prototype.getPathName=function(){return this.requestUrl?n.Telemetry.Common.DataSanitizer.sanitizeUrl(n.UrlHelper.getCompleteUrl(this.method,this.requestUrl)):null},n.ajaxRecord=i}(Microsoft=Microsoft||{}),function(e){function t(){}e=e.ApplicationInsights||(e.ApplicationInsights={}),t.requestContextHeader="Request-Context",t.requestContextTargetKey="appId",t.requestContextAppIdFormat="appId=cid-v1:",t.requestIdHeader="Request-Id",t.sdkContextHeader="Sdk-Context",t.sdkContextHeaderAppIdRequest="appId",t.requestContextHeaderLowerCase="request-context",e.RequestHeaders=t}(Microsoft=Microsoft||{}),function(e){var t=function(){};(e.Telemetry||(e.Telemetry={})).Domain=t}(Microsoft=Microsoft||{}),function(e){t=Microsoft.Telemetry.Domain,__extends(n,t);var t,i=n;function n(){var e=t.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}e.EventData=i}(AI=AI||{}),function(e){t=e.EventData,__extends(n,t);var t,i=n;function n(){var e=t.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}e.PageViewData=i}(AI=AI||{}),function(e){t=Microsoft.Telemetry.Domain,__extends(n,t);var t,i=n;function n(){var e=t.call(this)||this;return e.ver=2,e.success=!0,e.properties={},e.measurements={},e}e.RemoteDependencyData=i}(AI=AI||{}),function(e){var n;function r(){}e=(e=(n=e.ApplicationInsights||(e.ApplicationInsights={})).Telemetry||(n.Telemetry={})).Common||(e.Common={}),r.sanitizeKeyAndAddUniqueness=function(e,t){var i=e.length,n=r.sanitizeKey(e);if(n.length!==i){for(var o=0,a=n;void 0!==t[a];)o++,a=n.substring(0,r.MAX_NAME_LENGTH-3)+r.padNumber(o);n=a}return n},r.sanitizeKey=function(e){return e&&(e=n.Util.trim(e.toString())).length>r.MAX_NAME_LENGTH&&(e=e.substring(0,r.MAX_NAME_LENGTH),n._InternalLogging.throwInternal(n.LoggingSeverity.WARNING,n._InternalMessageId.NameTooLong,"name is too long.  It has been truncated to "+r.MAX_NAME_LENGTH+" characters.",{name:e},!0)),e},r.sanitizeString=function(e,t){return void 0===t&&(t=r.MAX_STRING_LENGTH),e&&(t=t||r.MAX_STRING_LENGTH,(e=n.Util.trim(e)).toString().length>t)&&(e=e.toString().substring(0,t),n._InternalLogging.throwInternal(n.LoggingSeverity.WARNING,n._InternalMessageId.StringValueTooLong,"string value is too long. It has been truncated to "+t+" characters.",{value:e},!0)),e},r.sanitizeUrl=function(e){return r.sanitizeInput(e,r.MAX_URL_LENGTH,n._InternalMessageId.UrlTooLong)},r.sanitizeMessage=function(e){return e&&e.length>r.MAX_MESSAGE_LENGTH&&(e=e.substring(0,r.MAX_MESSAGE_LENGTH),n._InternalLogging.throwInternal(n.LoggingSeverity.WARNING,n._InternalMessageId.MessageTruncated,"message is too long, it has been truncated to "+r.MAX_MESSAGE_LENGTH+" characters.",{message:e},!0)),e},r.sanitizeException=function(e){return e&&e.length>r.MAX_EXCEPTION_LENGTH&&(e=e.substring(0,r.MAX_EXCEPTION_LENGTH),n._InternalLogging.throwInternal(n.LoggingSeverity.WARNING,n._InternalMessageId.ExceptionTruncated,"exception is too long, it has been truncated to "+r.MAX_EXCEPTION_LENGTH+" characters.",{exception:e},!0)),e},r.sanitizeProperties=function(e){if(e){var t,i={};for(t in e){var n=r.sanitizeString(e[t],r.MAX_PROPERTY_LENGTH);i[t=r.sanitizeKeyAndAddUniqueness(t,i)]=n}e=i}return e},r.sanitizeMeasurements=function(e){if(e){var t,i={};for(t in e){var n=e[t];i[t=r.sanitizeKeyAndAddUniqueness(t,i)]=n}e=i}return e},r.sanitizeId=function(e){return e&&r.sanitizeInput(e,r.MAX_ID_LENGTH,n._InternalMessageId.IdTooLong).toString()},r.sanitizeInput=function(e,t,i){return e&&(e=n.Util.trim(e)).length>t&&(e=e.substring(0,t),n._InternalLogging.throwInternal(n.LoggingSeverity.WARNING,i,"input is too long, it has been truncated to "+t+" characters.",{data:e},!0)),e},r.padNumber=function(e){e="00"+e;return e.substr(e.length-3)},r.MAX_NAME_LENGTH=150,r.MAX_ID_LENGTH=128,r.MAX_PROPERTY_LENGTH=8192,r.MAX_STRING_LENGTH=1024,r.MAX_URL_LENGTH=2048,r.MAX_MESSAGE_LENGTH=32768,r.MAX_EXCEPTION_LENGTH=32768,e.DataSanitizer=r}(Microsoft=Microsoft||{}),function(e){var g,p,u;function t(e,t,i,n,o,a,r,s,l){var c=u.call(this)||this,e=(c.aiDataContract={id:g.FieldType.Required,ver:g.FieldType.Required,name:g.FieldType.Default,resultCode:g.FieldType.Default,duration:g.FieldType.Default,success:g.FieldType.Default,data:g.FieldType.Default,target:g.FieldType.Default,type:g.FieldType.Default,properties:g.FieldType.Default,measurements:g.FieldType.Default,kind:g.FieldType.Default,value:g.FieldType.Default,count:g.FieldType.Default,min:g.FieldType.Default,max:g.FieldType.Default,stdDev:g.FieldType.Default,dependencyKind:g.FieldType.Default,dependencySource:g.FieldType.Default,commandName:g.FieldType.Default,dependencyTypeName:g.FieldType.Default},c.id=e,c.duration=g.Util.msToTimeSpan(n),c.success=o,c.resultCode=a+"",c.type="Ajax",c.data=p.Common.DataSanitizer.sanitizeUrl(i),g.AjaxHelper.ParseDependencyPath(t,r,i));return c.target=e.target,c.name=e.name,c.properties=g.Telemetry.Common.DataSanitizer.sanitizeProperties(s),c.measurements=g.Telemetry.Common.DataSanitizer.sanitizeMeasurements(l),c}g=e.ApplicationInsights||(e.ApplicationInsights={}),p=g.Telemetry||(g.Telemetry={}),u=AI.RemoteDependencyData,__extends(t,u),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",p.RemoteDependencyData=t}(Microsoft=Microsoft||{}),function(a){var r;function s(e){this.currentWindowHost="object"==typeof window?window.location.host&&window.location.host.toLowerCase():void 0,this.appInsights=e,this.initialized=!1,this.Init()}r=a.ApplicationInsights||(a.ApplicationInsights={}),s.prototype.Init=function(){this.supportsMonitoring()&&(this.instrumentOpen(),this.instrumentSend(),this.instrumentAbort(),this.initialized=!0)},s.prototype.isMonitoredInstance=function(e,t){return this.initialized&&(!0===t||!r.extensions.IsNullOrUndefined(e.ajaxData))&&!0!==e[s.DisabledPropertyName]},s.prototype.supportsMonitoring=function(){var t=!0;("function"!=typeof XMLHttpRequest||r.extensions.IsNullOrUndefined(XMLHttpRequest)||r.extensions.IsNullOrUndefined(XMLHttpRequest.prototype)||r.extensions.IsNullOrUndefined(XMLHttpRequest.prototype.open)||r.extensions.IsNullOrUndefined(XMLHttpRequest.prototype.send)||r.extensions.IsNullOrUndefined(XMLHttpRequest.prototype.abort))&&(t=!1);try{" a ".trim()}catch(e){t=!1}return t},s.prototype.instrumentOpen=function(){var n=XMLHttpRequest.prototype.open,o=this;XMLHttpRequest.prototype.open=function(e,t,i){try{!o.isMonitoredInstance(this,!0)||this.ajaxData&&this.ajaxData.xhrMonitoringState.openDone||o.openHandler(this,e,t,i)}catch(e){r._InternalLogging.throwInternal(r.LoggingSeverity.CRITICAL,r._InternalMessageId.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:s.getFailedAjaxDiagnosticsMessage(this),exception:a.ApplicationInsights.Util.dump(e)})}return n.apply(this,arguments)}},s.prototype.openHandler=function(e,t,i,n){var o="|"+this.appInsights.context.operation.id+"."+r.Util.newId(),o=new r.ajaxRecord(o);o.method=t,o.requestUrl=i,o.xhrMonitoringState.openDone=!0,e.ajaxData=o,this.attachToOnReadyStateChange(e)},s.getFailedAjaxDiagnosticsMessage=function(e){var t="";try{r.extensions.IsNullOrUndefined(e)||r.extensions.IsNullOrUndefined(e.ajaxData)||r.extensions.IsNullOrUndefined(e.ajaxData.requestUrl)||(t+="(url: '"+e.ajaxData.requestUrl+"')")}catch(e){}return t},s.prototype.instrumentSend=function(){var t=XMLHttpRequest.prototype.send,i=this;XMLHttpRequest.prototype.send=function(e){try{i.isMonitoredInstance(this)&&!this.ajaxData.xhrMonitoringState.sendDone&&i.sendHandler(this,e)}catch(e){r._InternalLogging.throwInternal(r.LoggingSeverity.CRITICAL,r._InternalMessageId.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:s.getFailedAjaxDiagnosticsMessage(this),exception:a.ApplicationInsights.Util.dump(e)})}return t.apply(this,arguments)}},s.prototype.sendHandler=function(e,t){var i;e.ajaxData.requestSentTime=r.dateTime.Now(),r.CorrelationIdHelper.canIncludeCorrelationHeader(this.appInsights.config,e.ajaxData.getAbsoluteUrl(),this.currentWindowHost)&&(e.setRequestHeader(r.RequestHeaders.requestIdHeader,e.ajaxData.id),this.appInsights.context)&&((i=this.appInsights.context.appId())&&e.setRequestHeader(r.RequestHeaders.requestContextHeader,r.RequestHeaders.requestContextAppIdFormat+i)),e.ajaxData.xhrMonitoringState.sendDone=!0},s.prototype.instrumentAbort=function(){var e=XMLHttpRequest.prototype.abort,t=this;XMLHttpRequest.prototype.abort=function(){try{t.isMonitoredInstance(this)&&!this.ajaxData.xhrMonitoringState.abortDone&&(this.ajaxData.aborted=1,this.ajaxData.xhrMonitoringState.abortDone=!0)}catch(e){r._InternalLogging.throwInternal(r.LoggingSeverity.CRITICAL,r._InternalMessageId.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:s.getFailedAjaxDiagnosticsMessage(this),exception:a.ApplicationInsights.Util.dump(e)})}return e.apply(this,arguments)}},s.prototype.attachToOnReadyStateChange=function(i){var e=this;i.ajaxData.xhrMonitoringState.onreadystatechangeCallbackAttached=r.EventHelper.AttachEvent(i,"readystatechange",function(){try{e.isMonitoredInstance(i)&&4===i.readyState&&e.onAjaxComplete(i)}catch(e){var t=a.ApplicationInsights.Util.dump(e);t&&-1!=t.toLowerCase().indexOf("c00c023f")||r._InternalLogging.throwInternal(r.LoggingSeverity.CRITICAL,r._InternalMessageId.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:s.getFailedAjaxDiagnosticsMessage(i),exception:a.ApplicationInsights.Util.dump(e)})}})},s.prototype.onAjaxComplete=function(e){var t,i;e.ajaxData.responseFinishedTime=r.dateTime.Now(),e.ajaxData.status=e.status,e.ajaxData.CalculateMetrics(),e.ajaxData.ajaxTotalDuration<0?r._InternalLogging.throwInternal(r.LoggingSeverity.WARNING,r._InternalMessageId.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",{ajaxDiagnosticsMessage:s.getFailedAjaxDiagnosticsMessage(e),requestSentTime:e.ajaxData.requestSentTime,responseFinishedTime:e.ajaxData.responseFinishedTime}):(t=new r.Telemetry.RemoteDependencyData(e.ajaxData.id,e.ajaxData.getAbsoluteUrl(),e.ajaxData.getPathName(),e.ajaxData.ajaxTotalDuration,200<=+e.ajaxData.status&&+e.ajaxData.status<400,+e.ajaxData.status,e.ajaxData.method),(i=this.getCorrelationContext(e))&&(t.target=t.target+" | "+i),this.appInsights.trackDependencyData(t),e.ajaxData=null)},s.prototype.getCorrelationContext=function(e){try{var t,i=e.getAllResponseHeaders();if(null!==i&&-1!==i.toLowerCase().indexOf(r.RequestHeaders.requestContextHeaderLowerCase))return t=e.getResponseHeader(r.RequestHeaders.requestContextHeader),r.CorrelationIdHelper.getCorrelationContext(t)}catch(i){r._InternalLogging.throwInternal(r.LoggingSeverity.WARNING,r._InternalMessageId.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:s.getFailedAjaxDiagnosticsMessage(e),exception:a.ApplicationInsights.Util.dump(i)})}},s.instrumentedByAppInsightsName="InstrumentedByAppInsights",s.DisabledPropertyName="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",r.AjaxMonitor=s}(Microsoft=Microsoft||{}),function(e){function t(e){this._config=e,this._buffer=[]}function i(e){this._bufferFullMessageSent=!1,this._config=e;var e=this.getBuffer(i.BUFFER_KEY),t=this.getBuffer(i.SENT_BUFFER_KEY);this._buffer=e.concat(t),this._buffer.length>i.MAX_BUFFER_SIZE&&(this._buffer.length=i.MAX_BUFFER_SIZE),this.setBuffer(i.SENT_BUFFER_KEY,[]),this.setBuffer(i.BUFFER_KEY,this._buffer)}var n;n=e.ApplicationInsights||(e.ApplicationInsights={}),t.prototype.enqueue=function(e){this._buffer.push(e)},t.prototype.count=function(){return this._buffer.length},t.prototype.clear=function(){this._buffer.length=0},t.prototype.getItems=function(){return this._buffer.slice(0)},t.prototype.batchPayloads=function(e){return e&&0<e.length?this._config.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},t.prototype.markAsSent=function(e){this.clear()},t.prototype.clearSent=function(e){},n.ArraySendBuffer=t,i.prototype.enqueue=function(e){this._buffer.length>=i.MAX_BUFFER_SIZE?this._bufferFullMessageSent||(n._InternalLogging.throwInternal(n.LoggingSeverity.WARNING,n._InternalMessageId.SessionStorageBufferFull,"Maximum buffer size reached: "+this._buffer.length,!0),this._bufferFullMessageSent=!0):(this._buffer.push(e),this.setBuffer(i.BUFFER_KEY,this._buffer))},i.prototype.count=function(){return this._buffer.length},i.prototype.clear=function(){this._buffer.length=0,this.setBuffer(i.BUFFER_KEY,[]),this.setBuffer(i.SENT_BUFFER_KEY,[]),this._bufferFullMessageSent=!1},i.prototype.getItems=function(){return this._buffer.slice(0)},i.prototype.batchPayloads=function(e){return e&&0<e.length?this._config.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},i.prototype.markAsSent=function(e){this._buffer=this.removePayloadsFromBuffer(e,this._buffer),this.setBuffer(i.BUFFER_KEY,this._buffer);var t=this.getBuffer(i.SENT_BUFFER_KEY);t instanceof Array&&e instanceof Array&&((t=t.concat(e)).length>i.MAX_BUFFER_SIZE&&(n._InternalLogging.throwInternal(n.LoggingSeverity.CRITICAL,n._InternalMessageId.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+t.length,!0),t.length=i.MAX_BUFFER_SIZE),this.setBuffer(i.SENT_BUFFER_KEY,t))},i.prototype.clearSent=function(e){var t=this.getBuffer(i.SENT_BUFFER_KEY),t=this.removePayloadsFromBuffer(e,t);this.setBuffer(i.SENT_BUFFER_KEY,t)},i.prototype.removePayloadsFromBuffer=function(e,t){var i,n=[];for(i in t){var o,a=!1;for(o in e)if(e[o]===t[i]){a=!0;break}a||n.push(t[i])}return n},i.prototype.getBuffer=function(e){try{var t=n.Util.getSessionStorage(e);if(t){var i=JSON.parse(t);if(i)return i}}catch(t){n._InternalLogging.throwInternal(n.LoggingSeverity.CRITICAL,n._InternalMessageId.FailedToRestoreStorageBuffer," storage key: "+e+", "+n.Util.getExceptionName(t),{exception:n.Util.dump(t)})}return[]},i.prototype.setBuffer=function(e,t){try{var i=JSON.stringify(t);n.Util.setSessionStorage(e,i)}catch(t){n.Util.setSessionStorage(e,JSON.stringify([])),n._InternalLogging.throwInternal(n.LoggingSeverity.WARNING,n._InternalMessageId.FailedToSetStorageBuffer," storage key: "+e+", "+n.Util.getExceptionName(t)+". Buffer cleared",{exception:n.Util.dump(t)})}},i.BUFFER_KEY="AI_buffer",i.SENT_BUFFER_KEY="AI_sentBuffer",i.MAX_BUFFER_SIZE=2e3,n.SessionStorageSendBuffer=i}(Microsoft=Microsoft||{}),function(e){var l;function t(e){this._XMLHttpRequestSupported=!1,this._consecutiveErrors=0,this._retryAt=null,this._lastSend=0,this._config=e,this._sender=null,this._buffer=new(l.Util.canUseSessionStorage()&&this._config.enableSessionStorageBuffer()?l.SessionStorageSendBuffer:l.ArraySendBuffer)(e),!this._config.isBeaconApiDisabled()&&l.Util.IsBeaconApiSupported()?this._sender=this._beaconSender:"undefined"!=typeof XMLHttpRequest&&("withCredentials"in new XMLHttpRequest?(this._sender=this._xhrSender,this._XMLHttpRequestSupported=!0):"undefined"!=typeof XDomainRequest&&(this._sender=this._xdrSender))}l=e.ApplicationInsights||(e.ApplicationInsights={}),t.prototype.send=function(e){try{var t,i,n;this._config.disableTelemetry()||(e?this._sender?(t=l.Serializer.serialize(e),i=this._buffer.getItems(),(n=this._buffer.batchPayloads(i))&&n.length+t.length>this._config.maxBatchSizeInBytes()&&this.triggerSend(),this._buffer.enqueue(t),this._setupTimer()):l._InternalLogging.throwInternal(l.LoggingSeverity.CRITICAL,l._InternalMessageId.SenderNotInitialized,"Sender was not initialized"):l._InternalLogging.throwInternal(l.LoggingSeverity.CRITICAL,l._InternalMessageId.CannotSendEmptyTelemetry,"Cannot send empty telemetry"))}catch(e){l._InternalLogging.throwInternal(l.LoggingSeverity.WARNING,l._InternalMessageId.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+l.Util.getExceptionName(e),{exception:l.Util.dump(e)})}},t.prototype._setupTimer=function(){var e,t=this;this._timeoutHandle||(e=this._retryAt?Math.max(0,this._retryAt-Date.now()):0,e=Math.max(this._config.maxBatchInterval(),e),this._timeoutHandle=setTimeout(function(){t.triggerSend()},e))},t.prototype._getSizeInBytes=function(e){var t=0;if(e&&e.length)for(var i=0;i<e.length;i++){var n=e[i];n&&n.length&&(t+=n.length)}return t},t.prototype.triggerSend=function(e){void 0===e&&(e=!0);try{var t;this._config.disableTelemetry()?this._buffer.clear():(0<this._buffer.count()&&(t=this._buffer.getItems(),this._sender(t,e)),this._lastSend=+new Date),clearTimeout(this._timeoutHandle),this._timeoutHandle=null,this._retryAt=null}catch(e){(!l.Util.getIEVersion()||9<l.Util.getIEVersion())&&l._InternalLogging.throwInternal(l.LoggingSeverity.CRITICAL,l._InternalMessageId.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+l.Util.getExceptionName(e),{exception:l.Util.dump(e)})}},t.prototype._setRetryTime=function(){e=this._consecutiveErrors<=1?10:(e=(Math.pow(2,this._consecutiveErrors)-1)/2,e=Math.floor(Math.random()*e*10)+1,Math.max(Math.min(e,3600),10));var e=Date.now()+1e3*e;this._retryAt=e},t.prototype._parseResponse=function(e){try{if(e&&""!==e){var t=JSON.parse(e);if(t&&t.itemsReceived&&t.itemsReceived>=t.itemsAccepted&&t.itemsReceived-t.itemsAccepted==t.errors.length)return t}}catch(t){l._InternalLogging.throwInternal(l.LoggingSeverity.CRITICAL,l._InternalMessageId.InvalidBackendResponse,"Cannot parse the response. "+l.Util.getExceptionName(t),{response:e})}return null},t.prototype._isRetriable=function(e){return 408==e||429==e||500==e||503==e},t.prototype._resendPayload=function(e){if(e&&0!==e.length){this._buffer.clearSent(e),this._consecutiveErrors++;for(var t=0,i=e;t<i.length;t++){var n=i[t];this._buffer.enqueue(n)}this._setRetryTime(),this._setupTimer()}},t.prototype._formatErrorMessageXhr=function(e,t){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+e.responseText||e.response||"":t},t.prototype._formatErrorMessageXdr=function(e,t){return e?"XDomainRequest,Response:"+e.responseText||"":t},t.prototype._xhrSender=function(t,e){var i=this,n=new XMLHttpRequest,e=(n[l.AjaxMonitor.DisabledPropertyName]=!0,n.open("POST",this._config.endpointUrl(),e),n.setRequestHeader("Content-type","application/json"),l.Util.isInternalApplicationInsightsEndpoint(this._config.endpointUrl())&&n.setRequestHeader(l.RequestHeaders.sdkContextHeader,l.RequestHeaders.sdkContextHeaderAppIdRequest),n.onreadystatechange=function(){return i._xhrReadyStateChange(n,t,t.length)},n.onerror=function(e){return i._onError(t,i._formatErrorMessageXhr(n),e)},this._buffer.batchPayloads(t));n.send(e),this._buffer.markAsSent(t)},t.prototype._xdrSender=function(t,e){var i=this,n=new XDomainRequest,o=(n.onload=function(){return i._xdrOnLoad(n,t)},n.onerror=function(e){return i._onError(t,i._formatErrorMessageXdr(n),e)},window.location.protocol);0!==this._config.endpointUrl().lastIndexOf(o,0)?(l._InternalLogging.throwInternal(l.LoggingSeverity.WARNING,l._InternalMessageId.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),this._buffer.clear()):(o=this._config.endpointUrl().replace(/^(https?:)/,""),n.open("POST",o),o=this._buffer.batchPayloads(t),n.send(o),this._buffer.markAsSent(t))},t.prototype._beaconSender=function(e,t){var i=this._config.endpointUrl(),n=this._buffer.batchPayloads(e),n=new Blob([n],{type:"text/plain;charset=UTF-8"});navigator.sendBeacon(i,n)?this._buffer.markAsSent(e):l._InternalLogging.throwInternal(l.LoggingSeverity.CRITICAL,l._InternalMessageId.TransmissionFailed,". Failed to send telemetry with Beacon API.")},t.prototype._xhrReadyStateChange=function(e,t,i){var n;4===e.readyState&&(n=null,this._appId||(n=this._parseResponse(e.responseText||e.response))&&n.appId&&(this._appId=n.appId),(e.status<200||300<=e.status)&&0!==e.status?!this._config.isRetryDisabled()&&this._isRetriable(e.status)?(this._resendPayload(t),l._InternalLogging.throwInternal(l.LoggingSeverity.WARNING,l._InternalMessageId.TransmissionFailed,". Response code "+e.status+". Will retry to send "+t.length+" items.")):this._onError(t,this._formatErrorMessageXhr(e)):206===e.status?(n=n||this._parseResponse(e.responseText||e.response))&&!this._config.isRetryDisabled()?this._onPartialSuccess(t,n):this._onError(t,this._formatErrorMessageXhr(e)):(this._consecutiveErrors=0,this._onSuccess(t,i)))},t.prototype._xdrOnLoad=function(e,t){var i;!e||e.responseText+""!="200"&&""!==e.responseText?(i=this._parseResponse(e.responseText))&&i.itemsReceived&&i.itemsReceived>i.itemsAccepted&&!this._config.isRetryDisabled()?this._onPartialSuccess(t,i):this._onError(t,this._formatErrorMessageXdr(e)):(this._consecutiveErrors=0,this._onSuccess(t,0))},t.prototype._onPartialSuccess=function(e,t){for(var i=[],n=[],o=0,a=t.errors.reverse();o<a.length;o++){var r=a[o],s=e.splice(r.index,1)[0];(this._isRetriable(r.statusCode)?n:i).push(s)}0<e.length&&this._onSuccess(e,t.itemsAccepted),0<i.length&&this._onError(i,this._formatErrorMessageXhr(null,["partial success",t.itemsAccepted,"of",t.itemsReceived].join(" "))),0<n.length&&(this._resendPayload(n),l._InternalLogging.throwInternal(l.LoggingSeverity.WARNING,l._InternalMessageId.TransmissionFailed,"Partial success. Delivered: "+e.length+", Failed: "+i.length+". Will retry to send "+n.length+" our of "+t.itemsReceived+" items"))},t.prototype._onError=function(e,t,i){l._InternalLogging.throwInternal(l.LoggingSeverity.WARNING,l._InternalMessageId.OnError,"Failed to send telemetry.",{message:t}),this._buffer.clearSent(e)},t.prototype._onSuccess=function(e,t){this._buffer.clearSent(e)},t.MaxBeaconPayloadSize=65536,l.Sender=t}(Microsoft=Microsoft||{}),function(e){t=Microsoft.Telemetry.Domain,__extends(n,t);var t,i=n;function n(){var e=t.call(this)||this;return e.ver=2,e.properties={},e}e.MessageData=i}(AI=AI||{}),function(e){var o,a,r;function t(e,t,i){var n=r.call(this)||this;return n.aiDataContract={ver:o.FieldType.Required,message:o.FieldType.Required,severityLevel:o.FieldType.Default,properties:o.FieldType.Default},e=e||o.Util.NotSpecified,n.message=a.Common.DataSanitizer.sanitizeMessage(e),n.properties=a.Common.DataSanitizer.sanitizeProperties(t),i&&(n.severityLevel=i),n}o=e.ApplicationInsights||(e.ApplicationInsights={}),a=o.Telemetry||(o.Telemetry={}),r=AI.MessageData,__extends(t,r),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",a.Trace=t}(Microsoft=Microsoft||{}),function(e){var o,a;function t(e,t,i){var n=a.call(this)||this;return n.aiDataContract={ver:o.FieldType.Required,name:o.FieldType.Required,properties:o.FieldType.Default,measurements:o.FieldType.Default},n.name=o.Telemetry.Common.DataSanitizer.sanitizeString(e)||o.Util.NotSpecified,n.properties=o.Telemetry.Common.DataSanitizer.sanitizeProperties(t),n.measurements=o.Telemetry.Common.DataSanitizer.sanitizeMeasurements(i),n}e=(o=e.ApplicationInsights||(e.ApplicationInsights={})).Telemetry||(o.Telemetry={}),a=AI.EventData,__extends(t,a),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",e.Event=t}(Microsoft=Microsoft||{}),(AI=AI||{}).ExceptionDetails=function(){this.hasFullStack=!0,this.parsedStack=[]},function(e){t=Microsoft.Telemetry.Domain,__extends(n,t);var t,i=n;function n(){var e=t.call(this)||this;return e.ver=2,e.exceptions=[],e.properties={},e.measurements={},e}e.ExceptionData=i}(AI=AI||{}),(AI=AI||{}).StackFrame=function(){},function(e){var a,r,i=(a=e.ApplicationInsights||(e.ApplicationInsights={})).Telemetry||(a.Telemetry={});function t(e,t,i,n){var o=r.call(this)||this;return o.aiDataContract={ver:a.FieldType.Required,exceptions:a.FieldType.Required,severityLevel:a.FieldType.Default,properties:a.FieldType.Default,measurements:a.FieldType.Default},o.properties=a.Telemetry.Common.DataSanitizer.sanitizeProperties(t),o.measurements=a.Telemetry.Common.DataSanitizer.sanitizeMeasurements(i),o.exceptions=[new s(e)],n&&(o.severityLevel=n),o}r=AI.ExceptionData,__extends(t,r),t.CreateSimpleException=function(e,t,i,n,o,a){return{exceptions:[{hasFullStack:!0,message:e,stack:o,typeName:t}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",i.Exception=t,o=AI.ExceptionDetails,__extends(c,o),c.prototype.parseStack=function(e){var t=void 0;if("string"==typeof e){for(var i=e.split("\n"),t=[],n=0,o=0,a=0;a<=i.length;a++){var r=i[a];u.regex.test(r)&&(o+=(r=new u(i[a],n++)).sizeInBytes,t.push(r))}if(32768<o)for(var s=0,l=t.length-1,c=0,g=s,p=l;s<l;){if(32768<(c+=t[s].sizeInBytes+t[l].sizeInBytes)){t.splice(g,p-g+1);break}g=s,p=l,s++,l--}}return t};var n,o,s=c,u=(n=AI.StackFrame,__extends(l,n),l.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,l.baseSize=58,l);function l(e,t){var i=n.call(this)||this,t=(i.sizeInBytes=0,i.aiDataContract={level:a.FieldType.Required,method:a.FieldType.Required,assembly:a.FieldType.Default,fileName:a.FieldType.Default,line:a.FieldType.Default},i.level=t,i.method="<no_method>",i.assembly=a.Util.trim(e),e.match(l.regex));return t&&5<=t.length&&(i.method=a.Util.trim(t[2])||i.method,i.fileName=a.Util.trim(t[4]),i.line=parseInt(t[5])||0),i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=l.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}function c(e){var t=o.call(this)||this,e=(t.aiDataContract={id:a.FieldType.Default,outerId:a.FieldType.Default,typeName:a.FieldType.Required,message:a.FieldType.Required,hasFullStack:a.FieldType.Default,stack:a.FieldType.Default,parsedStack:a.FieldType.Array},t.typeName=i.Common.DataSanitizer.sanitizeString(e.name)||a.Util.NotSpecified,t.message=i.Common.DataSanitizer.sanitizeMessage(e.message)||a.Util.NotSpecified,e.stack);return t.parsedStack=t.parseStack(e),t.stack=i.Common.DataSanitizer.sanitizeException(e),t.hasFullStack=a.Util.isArray(t.parsedStack)&&0<t.parsedStack.length,t}i._StackFrame=u}(Microsoft=Microsoft||{}),function(e){(e=e.DataPointType||(e.DataPointType={}))[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(AI=AI||{}),function(e){e.DataPoint=function(){this.kind=e.DataPointType.Measurement}}(AI=AI||{}),function(e){t=Microsoft.Telemetry.Domain,__extends(n,t);var t,i=n;function n(){var e=t.call(this)||this;return e.ver=2,e.metrics=[],e.properties={},e}e.MetricData=i}(AI=AI||{}),function(e){var t,i;function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.aiDataContract={name:t.FieldType.Required,kind:t.FieldType.Default,value:t.FieldType.Required,count:t.FieldType.Default,min:t.FieldType.Default,max:t.FieldType.Default,stdDev:t.FieldType.Default},e}e=(e=(t=e.ApplicationInsights||(e.ApplicationInsights={})).Telemetry||(t.Telemetry={})).Common||(e.Common={}),i=AI.DataPoint,__extends(n,i),e.DataPoint=n}(Microsoft=Microsoft||{}),function(l){var c,g,p;function e(e,t,i,n,o,a){var r=p.call(this)||this,s=(r.aiDataContract={ver:c.FieldType.Required,metrics:c.FieldType.Required,properties:c.FieldType.Default},new l.ApplicationInsights.Telemetry.Common.DataPoint);return s.count=0<i?i:void 0,s.max=isNaN(o)||null===o?void 0:o,s.min=isNaN(n)||null===n?void 0:n,s.name=g.Common.DataSanitizer.sanitizeString(e)||c.Util.NotSpecified,s.value=t,r.metrics=[s],r.properties=c.Telemetry.Common.DataSanitizer.sanitizeProperties(a),r}c=l.ApplicationInsights||(l.ApplicationInsights={}),g=c.Telemetry||(c.Telemetry={}),p=AI.MetricData,__extends(e,p),e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",g.Metric=e}(Microsoft=Microsoft||{}),function(e){var s,l,c;function t(e,t,i,n,o,a){var r=c.call(this)||this;return r.aiDataContract={ver:s.FieldType.Required,name:s.FieldType.Default,url:s.FieldType.Default,duration:s.FieldType.Default,properties:s.FieldType.Default,measurements:s.FieldType.Default,id:s.FieldType.Default},r.id=l.Common.DataSanitizer.sanitizeId(a),r.url=l.Common.DataSanitizer.sanitizeUrl(t),r.name=l.Common.DataSanitizer.sanitizeString(e)||s.Util.NotSpecified,isNaN(i)||(r.duration=s.Util.msToTimeSpan(i)),r.properties=s.Telemetry.Common.DataSanitizer.sanitizeProperties(n),r.measurements=s.Telemetry.Common.DataSanitizer.sanitizeMeasurements(o),r}s=e.ApplicationInsights||(e.ApplicationInsights={}),l=s.Telemetry||(s.Telemetry={}),c=AI.PageViewData,__extends(t,c),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",l.PageView=t}(Microsoft=Microsoft||{}),function(e){t=e.PageViewData,__extends(n,t);var t,i=n;function n(){var e=t.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}e.PageViewPerfData=i}(AI=AI||{}),function(e){var p,u,d;function h(e,t,i,n,o){var a,r,s,l,c=d.call(this)||this,g=(c.aiDataContract={ver:p.FieldType.Required,name:p.FieldType.Default,url:p.FieldType.Default,duration:p.FieldType.Default,perfTotal:p.FieldType.Default,networkConnect:p.FieldType.Default,sentRequest:p.FieldType.Default,receivedResponse:p.FieldType.Default,domProcessing:p.FieldType.Default,properties:p.FieldType.Default,measurements:p.FieldType.Default},c.isValid=!1,h.getPerformanceTiming());return g&&(a=h.getDuration(g.navigationStart,g.loadEventEnd),r=h.getDuration(g.navigationStart,g.connectEnd),s=h.getDuration(g.requestStart,g.responseStart),l=h.getDuration(g.responseStart,g.responseEnd),g=h.getDuration(g.responseEnd,g.loadEventEnd),0==a?p._InternalLogging.throwInternal(p.LoggingSeverity.WARNING,p._InternalMessageId.ErrorPVCalc,"error calculating page view performance.",{total:a,network:r,request:s,response:l,dom:g}):h.shouldCollectDuration(a,r,s,l,g)?a<Math.floor(r)+Math.floor(s)+Math.floor(l)+Math.floor(g)?p._InternalLogging.throwInternal(p.LoggingSeverity.WARNING,p._InternalMessageId.ClientPerformanceMathError,"client performance math error.",{total:a,network:r,request:s,response:l,dom:g}):(c.durationMs=a,c.perfTotal=c.duration=p.Util.msToTimeSpan(a),c.networkConnect=p.Util.msToTimeSpan(r),c.sentRequest=p.Util.msToTimeSpan(s),c.receivedResponse=p.Util.msToTimeSpan(l),c.domProcessing=p.Util.msToTimeSpan(g),c.isValid=!0):p._InternalLogging.throwInternal(p.LoggingSeverity.WARNING,p._InternalMessageId.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:a,network:r,request:s,response:l,dom:g})),c.url=u.Common.DataSanitizer.sanitizeUrl(t),c.name=u.Common.DataSanitizer.sanitizeString(e)||p.Util.NotSpecified,c.properties=p.Telemetry.Common.DataSanitizer.sanitizeProperties(n),c.measurements=p.Telemetry.Common.DataSanitizer.sanitizeMeasurements(o),c}p=e.ApplicationInsights||(e.ApplicationInsights={}),u=p.Telemetry||(p.Telemetry={}),d=AI.PageViewPerfData,__extends(h,d),h.prototype.getIsValid=function(){return this.isValid},h.prototype.getDurationMs=function(){return this.durationMs},h.getPerformanceTiming=function(){return h.isPerformanceTimingSupported()?window.performance.timing:null},h.isPerformanceTimingSupported=function(){return"undefined"!=typeof window&&window.performance&&window.performance.timing},h.isPerformanceTimingDataReady=function(){var e=window.performance.timing;return 0<e.domainLookupStart&&0<e.navigationStart&&0<e.responseStart&&0<e.requestStart&&0<e.loadEventEnd&&0<e.responseEnd&&0<e.connectEnd&&0<e.domLoading},h.getDuration=function(e,t){var i=void 0;return i=isNaN(e)||isNaN(t)?i:Math.max(t-e,0)},h.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=["googlebot","adsbot-google","apis-google","mediapartners-google"],n=navigator.userAgent,o=!1;if(n)for(var a=0;a<i.length;a++)o=o||-1!==n.toLowerCase().indexOf(i[a]);if(o)return!1;for(var r=0;r<e.length;r++)if(e[r]>=h.MAX_DURATION_ALLOWED)return!1;return!0},h.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",h.dataType="PageviewPerformanceData",h.MAX_DURATION_ALLOWED=36e5,u.PageViewPerformance=h}(Microsoft=Microsoft||{}),function(o){var r;function e(e){var t=this;this._config=e,this._sender=new r.Sender(e),this.appId=function(){return t._sender._appId},e.appId()&&(this._sender._appId=e.appId()),this.telemetryInitializers=[],"undefined"!=typeof window&&(this._sessionManager=new r.Context._SessionManager(e),this.application=new r.Context.Application,this.device=new r.Context.Device,this.internal=new r.Context.Internal(e),this.location=new r.Context.Location,this.user=new r.Context.User(e),this.operation=new r.Context.Operation,this.session=new r.Context.Session,this.sample=new r.Context.Sample(e.sampleRate())),this._addDefaultTelemetryInitializers()}r=o.ApplicationInsights||(o.ApplicationInsights={}),e.prototype.addTelemetryInitializer=function(e){this.telemetryInitializers.push(e)},e.prototype.track=function(e){return e?(e.name===r.Telemetry.PageView.envelopeType&&r._InternalLogging.resetInternalMessageCount(),this.session&&"string"!=typeof this.session.id&&this._sessionManager.update(),this._track(e)):r._InternalLogging.throwInternal(r.LoggingSeverity.CRITICAL,r._InternalMessageId.TrackArgumentsNotSpecified,"cannot call .track() with a null or undefined argument",null,!0),e},e.prototype._addDefaultTelemetryInitializers=function(){var n;this._config.isBrowserLinkTrackingEnabled()||(n=["/browserLinkSignalR/","/__browserLink/"],this.addTelemetryInitializer(function(e){if(e.name===o.ApplicationInsights.Telemetry.RemoteDependencyData.envelopeType){var t=e.data;if(t&&t.baseData)for(var i=0;i<n.length;i++)if(0<=t.baseData.name.indexOf(n[i]))return!1}return!0}))},e.prototype._track=function(e){this.session&&("string"==typeof this.session.id?this._applySessionContext(e,this.session):this._applySessionContext(e,this._sessionManager.automaticSession)),this._applyApplicationContext(e,this.application),this._applyDeviceContext(e,this.device),this._applyInternalContext(e,this.internal),this._applyLocationContext(e,this.location),this._applySampleContext(e,this.sample),this._applyUserContext(e,this.user),this._applyOperationContext(e,this.operation),e.iKey=this._config.instrumentationKey();var t,i=!1;try{for(var n=this.telemetryInitializers.length,o=0;o<n;++o){var a=this.telemetryInitializers[o];if(a&&!1===a.apply(null,[e])){i=!0;break}}}catch(e){i=!0,r._InternalLogging.throwInternal(r.LoggingSeverity.CRITICAL,r._InternalMessageId.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+r.Util.getExceptionName(e),{exception:r.Util.dump(e)},!0)}return i||(e.name===r.Telemetry.Metric.envelopeType||this.sample.isSampledIn(e)?(t=this._config.instrumentationKey().replace(/-/g,""),e.name=e.name.replace("{0}",t),this._sender.send(e)):r._InternalLogging.throwInternal(r.LoggingSeverity.WARNING,r._InternalMessageId.TelemetrySampledAndNotSent,"Telemetry is sampled and not sent to the AI service.",{SampleRate:this.sample.sampleRate},!0)),e},e.prototype._applyApplicationContext=function(e,t){var i;t&&(i=new AI.ContextTagKeys,"string"==typeof t.ver&&(e.tags[i.applicationVersion]=t.ver),"string"==typeof t.build)&&(e.tags[i.applicationBuild]=t.build)},e.prototype._applyDeviceContext=function(e,t){var i=new AI.ContextTagKeys;t&&("string"==typeof t.id&&(e.tags[i.deviceId]=t.id),"string"==typeof t.ip&&(e.tags[i.deviceIp]=t.ip),"string"==typeof t.language&&(e.tags[i.deviceLanguage]=t.language),"string"==typeof t.locale&&(e.tags[i.deviceLocale]=t.locale),"string"==typeof t.model&&(e.tags[i.deviceModel]=t.model),void 0!==t.network&&(e.tags[i.deviceNetwork]=t.network),"string"==typeof t.oemName&&(e.tags[i.deviceOEMName]=t.oemName),"string"==typeof t.os&&(e.tags[i.deviceOS]=t.os),"string"==typeof t.osversion&&(e.tags[i.deviceOSVersion]=t.osversion),"string"==typeof t.resolution&&(e.tags[i.deviceScreenResolution]=t.resolution),"string"==typeof t.type)&&(e.tags[i.deviceType]=t.type)},e.prototype._applyInternalContext=function(e,t){var i;t&&(i=new AI.ContextTagKeys,"string"==typeof t.agentVersion&&(e.tags[i.internalAgentVersion]=t.agentVersion),"string"==typeof t.sdkVersion)&&(e.tags[i.internalSdkVersion]=t.sdkVersion)},e.prototype._applyLocationContext=function(e,t){var i;t&&(i=new AI.ContextTagKeys,"string"==typeof t.ip)&&(e.tags[i.locationIp]=t.ip)},e.prototype._applyOperationContext=function(e,t){var i;t&&(i=new AI.ContextTagKeys,"string"==typeof t.id&&(e.tags[i.operationId]=t.id),"string"==typeof t.name&&(e.tags[i.operationName]=t.name),"string"==typeof t.parentId&&(e.tags[i.operationParentId]=t.parentId),"string"==typeof t.rootId&&(e.tags[i.operationRootId]=t.rootId),"string"==typeof t.syntheticSource)&&(e.tags[i.operationSyntheticSource]=t.syntheticSource)},e.prototype._applySampleContext=function(e,t){t&&(e.sampleRate=t.sampleRate)},e.prototype._applySessionContext=function(e,t){var i;t&&(i=new AI.ContextTagKeys,"string"==typeof t.id&&(e.tags[i.sessionId]=t.id),void 0!==t.isFirst)&&(e.tags[i.sessionIsFirst]=t.isFirst)},e.prototype._applyUserContext=function(e,t){var i;t&&(i=new AI.ContextTagKeys,"string"==typeof t.accountId&&(e.tags[i.userAccountId]=t.accountId),"string"==typeof t.agent&&(e.tags[i.userAgent]=t.agent),"string"==typeof t.id&&(e.tags[i.userId]=t.id),"string"==typeof t.authenticatedId&&(e.tags[i.userAuthUserId]=t.authenticatedId),"string"==typeof t.storeRegion)&&(e.tags[i.userStoreRegion]=t.storeRegion)},r.TelemetryContext=e}(Microsoft=Microsoft||{}),function(e){var t,i;function n(){return i.call(this)||this}t=e.Telemetry||(e.Telemetry={}),i=e.Telemetry.Base,__extends(n,i),t.Data=n}(Microsoft=Microsoft||{}),function(e){var n,t,o;function i(e,t){var i=o.call(this)||this;return i.aiDataContract={baseType:n.FieldType.Required,baseData:n.FieldType.Required},i.baseType=e,i.baseData=t,i}t=(t=(n=e.ApplicationInsights||(e.ApplicationInsights={})).Telemetry||(n.Telemetry={})).Common||(t.Common={}),o=e.Telemetry.Data,__extends(i,o),t.Data=i}(Microsoft=Microsoft||{}),function(e){var g,p;function t(e,t){this.pageViewPerformanceSent=!1,this.overridePageViewDuration=!1,this.overridePageViewDuration=t,this.appInsights=e}g=e.ApplicationInsights||(e.ApplicationInsights={}),p=g.Telemetry||(g.Telemetry={}),t.prototype.trackPageView=function(t,i,n,o,e){var a,r,s=this,l=("string"!=typeof t&&(t=window.document&&window.document.title||""),"string"!=typeof i&&(i=window.location&&window.location.href||""),!1),c=void 0;p.PageViewPerformance.isPerformanceTimingSupported()?(a=p.PageViewPerformance.getPerformanceTiming().navigationStart,c=p.PageViewPerformance.getDuration(a,+new Date),p.PageViewPerformance.shouldCollectDuration(c)||(c=void 0)):(this.appInsights.sendPageViewInternal(t,i,isNaN(e)?void 0:e,n,o),this.appInsights.flush(),l=!0),l||!this.overridePageViewDuration&&isNaN(e)||(this.appInsights.sendPageViewInternal(t,i,isNaN(e)?c:e,n,o),this.appInsights.flush(),l=!0),p.PageViewPerformance.isPerformanceTimingSupported()?r=setInterval(function(){try{var e;p.PageViewPerformance.isPerformanceTimingDataReady()?(clearInterval(r),(e=new p.PageViewPerformance(t,i,null,n,o)).getIsValid()||l?(l||s.appInsights.sendPageViewInternal(t,i,e.getDurationMs(),n,o),s.pageViewPerformanceSent||(s.appInsights.sendPageViewPerformanceInternal(e),s.pageViewPerformanceSent=!0)):s.appInsights.sendPageViewInternal(t,i,c,n,o),s.appInsights.flush()):6e4<p.PageViewPerformance.getDuration(a,+new Date)&&(clearInterval(r),l||(s.appInsights.sendPageViewInternal(t,i,6e4,n,o),s.appInsights.flush()))}catch(e){g._InternalLogging.throwInternal(g.LoggingSeverity.CRITICAL,g._InternalMessageId.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+g.Util.getExceptionName(e),{exception:g.Util.dump(e)})}},100):g._InternalLogging.throwInternal(g.LoggingSeverity.WARNING,g._InternalMessageId.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.")},p.PageViewManager=t}(Microsoft=Microsoft||{}),function(e){var o,a;function t(e){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=e}e=(o=e.ApplicationInsights||(e.ApplicationInsights={})).Telemetry||(o.Telemetry={}),t.prototype.trackPreviousPageVisit=function(e,t){try{var i=this.restartPageVisitTimer(e,t);i&&this.pageVisitTimeTrackingHandler(i.pageName,i.pageUrl,i.pageVisitTime)}catch(e){o._InternalLogging.warnToConsole("Auto track page visit time failed, metric will not be collected: "+o.Util.dump(e))}},t.prototype.restartPageVisitTimer=function(e,t){try{var i=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),i}catch(e){return o._InternalLogging.warnToConsole("Call to restart failed: "+o.Util.dump(e)),null}},t.prototype.startPageVisitTimer=function(e,t){try{if(o.Util.canUseSessionStorage()){if(null!=o.Util.getSessionStorage(this.prevPageVisitDataKeyName))throw new Error("Cannot call startPageVisit consecutively without first calling stopPageVisit");var i=new a(e,t),n=JSON.stringify(i);o.Util.setSessionStorage(this.prevPageVisitDataKeyName,n)}}catch(e){o._InternalLogging.warnToConsole("Call to start failed: "+o.Util.dump(e))}},t.prototype.stopPageVisitTimer=function(){try{var e,t,i;return o.Util.canUseSessionStorage()?(e=Date.now(),(t=o.Util.getSessionStorage(this.prevPageVisitDataKeyName))?((i=JSON.parse(t)).pageVisitTime=e-i.pageVisitStartTime,o.Util.removeSessionStorage(this.prevPageVisitDataKeyName),i):null):null}catch(e){return o._InternalLogging.warnToConsole("Stop page visit timer failed: "+o.Util.dump(e)),null}},e.PageVisitTimeManager=t,a=function(e,t){this.pageVisitStartTime=Date.now(),this.pageName=e,this.pageUrl=t},e.PageVisitData=a}(Microsoft=Microsoft||{}),function(e){var t;function i(){this.hashCodeGeneragor=new t.HashCodeScoreGenerator}t=e.ApplicationInsights||(e.ApplicationInsights={}),i.prototype.isEnabled=function(e,t){return this.hashCodeGeneragor.getHashCodeScore(e)<t},t.SplitTest=i}(Microsoft=Microsoft||{}),function(n){var c=n.ApplicationInsights||(n.ApplicationInsights={});function o(e){var a=this,t=(this._trackAjaxAttempts=0,this.config=e||{},o.defaultConfig);if(void 0!==t)for(var i in t)void 0===this.config[i]&&(this.config[i]=t[i]);c._InternalLogging.verboseLogging=function(){return a.config.verboseLogging},c._InternalLogging.enableDebugExceptions=function(){return a.config.enableDebug};e={instrumentationKey:function(){return a.config.instrumentationKey},accountId:function(){return a.config.accountId},sessionRenewalMs:function(){return a.config.sessionRenewalMs},sessionExpirationMs:function(){return a.config.sessionExpirationMs},endpointUrl:function(){return a.config.endpointUrl},emitLineDelimitedJson:function(){return a.config.emitLineDelimitedJson},maxBatchSizeInBytes:function(){return!a.config.isBeaconApiDisabled&&c.Util.IsBeaconApiSupported()?Math.min(a.config.maxBatchSizeInBytes,c.Sender.MaxBeaconPayloadSize):a.config.maxBatchSizeInBytes},maxBatchInterval:function(){return a.config.maxBatchInterval},disableTelemetry:function(){return a.config.disableTelemetry},sampleRate:function(){return a.config.samplingPercentage},cookieDomain:function(){return a.config.cookieDomain},enableSessionStorageBuffer:function(){return(a.config.isBeaconApiDisabled||!c.Util.IsBeaconApiSupported())&&a.config.enableSessionStorageBuffer},isRetryDisabled:function(){return a.config.isRetryDisabled},isBeaconApiDisabled:function(){return a.config.isBeaconApiDisabled},sdkExtension:function(){return a.config.sdkExtension},isBrowserLinkTrackingEnabled:function(){return a.config.isBrowserLinkTrackingEnabled},appId:function(){return a.config.appId}};this.config.isCookieUseDisabled&&c.Util.disableCookies(),this.config.isStorageUseDisabled&&c.Util.disableStorage(),this.context=new c.TelemetryContext(e),this._pageViewManager=new n.ApplicationInsights.Telemetry.PageViewManager(this,this.config.overridePageViewDuration),this._eventTracking=new r("trackEvent"),this._eventTracking.action=function(e,t,i,n,o){o?isNaN(o.duration)&&(o.duration=i):o={duration:i};i=new c.Telemetry.Event(e,n,o),e=new c.Telemetry.Common.Data(c.Telemetry.Event.dataType,i),n=new c.Telemetry.Common.Envelope(e,c.Telemetry.Event.envelopeType);a.context.track(n)},this._pageTracking=new r("trackPageView"),this._pageTracking.action=function(e,t,i,n,o){a.sendPageViewInternal(e,t,i,n,o)},this._pageVisitTimeManager=new c.Telemetry.PageVisitTimeManager(function(e,t,i){return a.trackPageVisitTime(e,t,i)}),this.config.disableAjaxTracking||(this._ajaxMonitor=new n.ApplicationInsights.AjaxMonitor(this))}c.Version="1.0.21",o.prototype.sendPageViewInternal=function(e,t,i,n,o){e=new c.Telemetry.PageView(e,t,i,n,o,this.context.operation.id),t=new c.Telemetry.Common.Data(c.Telemetry.PageView.dataType,e),i=new c.Telemetry.Common.Envelope(t,c.Telemetry.PageView.envelopeType);this.context.track(i),this._trackAjaxAttempts=0},o.prototype.sendPageViewPerformanceInternal=function(e){e=new c.Telemetry.Common.Data(c.Telemetry.PageViewPerformance.dataType,e),e=new c.Telemetry.Common.Envelope(e,c.Telemetry.PageViewPerformance.envelopeType);this.context.track(e)},o.prototype.startTrackPage=function(e){try{"string"!=typeof e&&(e=window.document&&window.document.title||""),this._pageTracking.start(e)}catch(e){c._InternalLogging.throwInternal(c.LoggingSeverity.CRITICAL,c._InternalMessageId.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+c.Util.getExceptionName(e),{exception:c.Util.dump(e)})}},o.prototype.stopTrackPage=function(e,t,i,n){try{"string"!=typeof e&&(e=window.document&&window.document.title||""),"string"!=typeof t&&(t=window.location&&window.location.href||""),this._pageTracking.stop(e,t,i,n),this.config.autoTrackPageVisitTime&&this._pageVisitTimeManager.trackPreviousPageVisit(e,t)}catch(e){c._InternalLogging.throwInternal(c.LoggingSeverity.CRITICAL,c._InternalMessageId.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+c.Util.getExceptionName(e),{exception:c.Util.dump(e)})}},o.prototype.trackPageView=function(e,t,i,n,o){try{this._pageViewManager.trackPageView(e,t,i,n,o),this.config.autoTrackPageVisitTime&&this._pageVisitTimeManager.trackPreviousPageVisit(e,t)}catch(e){c._InternalLogging.throwInternal(c.LoggingSeverity.CRITICAL,c._InternalMessageId.TrackPVFailed,"trackPageView failed, page view will not be collected: "+c.Util.getExceptionName(e),{exception:c.Util.dump(e)})}},o.prototype.startTrackEvent=function(e){try{this._eventTracking.start(e)}catch(e){c._InternalLogging.throwInternal(c.LoggingSeverity.CRITICAL,c._InternalMessageId.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+c.Util.getExceptionName(e),{exception:c.Util.dump(e)})}},o.prototype.stopTrackEvent=function(e,t,i){try{this._eventTracking.stop(e,void 0,t,i)}catch(e){c._InternalLogging.throwInternal(c.LoggingSeverity.CRITICAL,c._InternalMessageId.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+c.Util.getExceptionName(e),{exception:c.Util.dump(e)})}},o.prototype.trackEvent=function(e,t,i){try{var n=new c.Telemetry.Event(e,t,i),o=new c.Telemetry.Common.Data(c.Telemetry.Event.dataType,n),a=new c.Telemetry.Common.Envelope(o,c.Telemetry.Event.envelopeType);this.context.track(a)}catch(e){c._InternalLogging.throwInternal(c.LoggingSeverity.CRITICAL,c._InternalMessageId.TrackEventFailed,"trackEvent failed, event will not be collected: "+c.Util.getExceptionName(e),{exception:c.Util.dump(e)})}},o.prototype.trackDependency=function(e,t,i,n,o,a,r,s,l){-1===this.config.maxAjaxCallsPerView||this._trackAjaxAttempts<this.config.maxAjaxCallsPerView?(e=new c.Telemetry.RemoteDependencyData(e,i,n,o,a,r,t,s,l),i=new c.Telemetry.Common.Data(c.Telemetry.RemoteDependencyData.dataType,e),n=new c.Telemetry.Common.Envelope(i,c.Telemetry.RemoteDependencyData.envelopeType),this.context.track(n)):this._trackAjaxAttempts===this.config.maxAjaxCallsPerView&&c._InternalLogging.throwInternal(c.LoggingSeverity.CRITICAL,c._InternalMessageId.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0),++this._trackAjaxAttempts},o.prototype.trackDependencyData=function(e){-1===this.config.maxAjaxCallsPerView||this._trackAjaxAttempts<this.config.maxAjaxCallsPerView?(e=new c.Telemetry.Common.Data(c.Telemetry.RemoteDependencyData.dataType,e),e=new c.Telemetry.Common.Envelope(e,c.Telemetry.RemoteDependencyData.envelopeType),this.context.track(e)):this._trackAjaxAttempts===this.config.maxAjaxCallsPerView&&c._InternalLogging.throwInternal(c.LoggingSeverity.CRITICAL,c._InternalMessageId.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0),++this._trackAjaxAttempts},o.prototype.trackAjax=function(e,t,i,n,o,a,r){this.trackDependency(e,null,t,i,n,o,a)},o.prototype.trackException=function(t,e,i,n,o){try{if(!c.Util.isError(t))try{throw new Error(t)}catch(e){t=e}var a=new c.Telemetry.Exception(t,i,n,o),r=new c.Telemetry.Common.Data(c.Telemetry.Exception.dataType,a),s=new c.Telemetry.Common.Envelope(r,c.Telemetry.Exception.envelopeType);this.context.track(s)}catch(t){c._InternalLogging.throwInternal(c.LoggingSeverity.CRITICAL,c._InternalMessageId.TrackExceptionFailed,"trackException failed, exception will not be collected: "+c.Util.getExceptionName(t),{exception:c.Util.dump(t)})}},o.prototype.trackMetric=function(e,t,i,n,o,a){try{var r=new c.Telemetry.Metric(e,t,i,n,o,a),s=new c.Telemetry.Common.Data(c.Telemetry.Metric.dataType,r),l=new c.Telemetry.Common.Envelope(s,c.Telemetry.Metric.envelopeType);this.context.track(l)}catch(e){c._InternalLogging.throwInternal(c.LoggingSeverity.CRITICAL,c._InternalMessageId.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+c.Util.getExceptionName(e),{exception:c.Util.dump(e)})}},o.prototype.trackTrace=function(e,t,i){try{var n=new c.Telemetry.Trace(e,t,i),o=new c.Telemetry.Common.Data(c.Telemetry.Trace.dataType,n),a=new c.Telemetry.Common.Envelope(o,c.Telemetry.Trace.envelopeType);this.context.track(a)}catch(e){c._InternalLogging.throwInternal(c.LoggingSeverity.WARNING,c._InternalMessageId.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+c.Util.getExceptionName(e),{exception:c.Util.dump(e)})}},o.prototype.trackPageVisitTime=function(e,t,i){this.trackMetric("PageVisitTime",i,1,i,i,{PageName:e,PageUrl:t})},o.prototype.flush=function(e){void 0===e&&(e=!0);try{this.context._sender.triggerSend(e)}catch(e){c._InternalLogging.throwInternal(c.LoggingSeverity.CRITICAL,c._InternalMessageId.FlushFailed,"flush failed, telemetry will not be collected: "+c.Util.getExceptionName(e),{exception:c.Util.dump(e)})}},o.prototype.setAuthenticatedUserContext=function(e,t,i){void 0===i&&(i=!1);try{this.context.user.setAuthenticatedUserContext(e,t,i)}catch(e){c._InternalLogging.throwInternal(c.LoggingSeverity.WARNING,c._InternalMessageId.SetAuthContextFailed,"Setting auth user context failed. "+c.Util.getExceptionName(e),{exception:c.Util.dump(e)},!0)}},o.prototype.clearAuthenticatedUserContext=function(){try{this.context.user.clearAuthenticatedUserContext()}catch(e){c._InternalLogging.throwInternal(c.LoggingSeverity.WARNING,c._InternalMessageId.SetAuthContextFailed,"Clearing auth user context failed. "+c.Util.getExceptionName(e),{exception:c.Util.dump(e)},!0)}},o.prototype.SendCORSException=function(e){var t=n.ApplicationInsights.Telemetry.Exception.CreateSimpleException("Script error.","Error","unknown","unknown","The browser's same-origin policy prevents us from getting the details of this exception. Consider using 'crossorigin' attribute.",0),e=(t.properties=e,new c.Telemetry.Common.Data(c.Telemetry.Exception.dataType,t)),t=new c.Telemetry.Common.Envelope(e,c.Telemetry.Exception.envelopeType);this.context.track(t)},o.prototype._onerror=function(e,t,i,n,o){try{var a,r={url:t||document.URL};c.Util.isCrossOriginError(e,t,i,n,o)?this.SendCORSException(r):(c.Util.isError(o)||(a="window.onerror@"+r.url+":"+i+":"+(n||0),(o=new Error(e)).stack=a),this.trackException(o,null,r))}catch(e){t=o?o.name+", "+o.message:"null",i=c.Util.dump(e);c._InternalLogging.throwInternal(c.LoggingSeverity.CRITICAL,c._InternalMessageId.ExceptionWhileLoggingError,"_onerror threw exception while logging error, error will not be collected: "+c.Util.getExceptionName(e),{exception:i,errorString:t})}},c.AppInsights=o,e.prototype.start=function(e){void 0!==this._events[e]&&c._InternalLogging.throwInternal(c.LoggingSeverity.WARNING,c._InternalMessageId.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:this._name,key:e},!0),this._events[e]=+new Date},e.prototype.stop=function(e,t,i,n){var o,a=this._events[e];isNaN(a)?c._InternalLogging.throwInternal(c.LoggingSeverity.WARNING,c._InternalMessageId.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:this._name,key:e},!0):(o=+new Date,a=c.Telemetry.PageViewPerformance.getDuration(a,o),this.action(e,t,a,i,n)),delete this._events[e],this._events[e]=void 0};var r=e;function e(e){this._name=e,this._events={}}}(Microsoft=Microsoft||{}),function(e){var i;function n(){}i=e.ApplicationInsights||(e.ApplicationInsights={}),n.reset=function(){n.isEnabled()&&(i.Util.setSessionStorage(n.ITEMS_QUEUED_KEY,"0"),i.Util.setSessionStorage(n.ISSUES_REPORTED_KEY,"0"),n.itemsRestoredFromSessionBuffer=0)},n.isEnabled=function(){return n.enabled&&null!=n.appInsights&&n.appInsights.context._sender._XMLHttpRequestSupported&&i.Util.canUseSessionStorage()},n.getIssuesReported=function(){return!n.isEnabled()||isNaN(+i.Util.getSessionStorage(n.ISSUES_REPORTED_KEY))?0:+i.Util.getSessionStorage(n.ISSUES_REPORTED_KEY)},n.incrementItemsQueued=function(){try{var e;n.isEnabled()&&(e=n.getNumberOfLostItems(),++e,i.Util.setSessionStorage(n.ITEMS_QUEUED_KEY,e.toString()))}catch(e){}},n.decrementItemsQueued=function(e){try{var t;n.isEnabled()&&(t=n.getNumberOfLostItems(),(t-=e)<0&&(t=0),i.Util.setSessionStorage(n.ITEMS_QUEUED_KEY,t.toString()))}catch(e){}},n.getNumberOfLostItems=function(){var t=0;try{n.isEnabled()&&(t=isNaN(+i.Util.getSessionStorage(n.ITEMS_QUEUED_KEY))?0:+i.Util.getSessionStorage(n.ITEMS_QUEUED_KEY))}catch(e){t=0}return t},n.reportLostItems=function(){try{var e,t;n.isEnabled()&&n.getIssuesReported()<n.LIMIT_PER_SESSION&&0<n.getNumberOfLostItems()&&(e=n.getNumberOfLostItems()-n.itemsRestoredFromSessionBuffer,n.appInsights.trackTrace('AI (Internal): Internal report DATALOSS:"'+e+'"',null),n.appInsights.flush(),t=n.getIssuesReported(),++t,i.Util.setSessionStorage(n.ISSUES_REPORTED_KEY,t.toString()))}catch(e){i._InternalLogging.throwInternal(i.LoggingSeverity.CRITICAL,i._InternalMessageId.FailedToReportDataLoss,"Failed to report data loss: "+i.Util.getExceptionName(e),{exception:i.Util.dump(e)})}finally{try{n.reset()}catch(e){}}},n.enabled=!1,n.itemsRestoredFromSessionBuffer=0,n.LIMIT_PER_SESSION=10,n.ITEMS_QUEUED_KEY="AI_itemsQueued",n.ISSUES_REPORTED_KEY="AI_lossIssuesReported",i.DataLossAnalyzer=n}(Microsoft=Microsoft||{}),function(a){var n;function i(e){e.queue=e.queue||[];var t=e.config||{};if(t&&!t.instrumentationKey)if((t=e).iKey)a.ApplicationInsights.Version="0.10.0.0",t.instrumentationKey=t.iKey;else{if(!t.applicationInsightsId)throw new Error("Cannot load Application Insights SDK, no instrumentationKey was provided.");a.ApplicationInsights.Version="0.7.2.0",t.instrumentationKey=t.applicationInsightsId}t=i.getDefaultConfig(t),this.snippet=e,this.config=t}n=a.ApplicationInsights||(a.ApplicationInsights={}),i.prototype.loadAppInsights=function(){var n,o=new a.ApplicationInsights.AppInsights(this.config),e=(this.config.iKey&&(n=o.trackPageView,o.trackPageView=function(e,t,i){n.apply(o,[null,e,t,i])}),"logPageView"),e=("function"==typeof this.snippet[e]&&(o[e]=function(e,t,i){o.trackPageView(null,e,t,i)}),"logEvent");return"function"==typeof this.snippet[e]&&(o[e]=function(e,t,i){o.trackEvent(e,t,i)}),o},i.prototype.emptyQueue=function(){try{if(a.ApplicationInsights.Util.isArray(this.snippet.queue)){for(var e=this.snippet.queue.length,t=0;t<e;t++)(0,this.snippet.queue[t])();this.snippet.queue=void 0,delete this.snippet.queue}}catch(e){var i={};e&&"function"==typeof e.toString&&(i.exception=e.toString()),a.ApplicationInsights._InternalLogging.throwInternal(n.LoggingSeverity.WARNING,n._InternalMessageId.FailedToSendQueuedTelemetry,"Failed to send queued telemetry",i)}},i.prototype.pollInteralLogs=function(n){return setInterval(function(){for(var e=a.ApplicationInsights._InternalLogging.queue,t=e.length,i=0;i<t;i++)n.trackTrace(e[i].message);e.length=0},this.config.diagnosticLogInterval)},i.prototype.addHousekeepingBeforeUnload=function(e){!e.config.disableFlushOnBeforeUnload&&"onbeforeunload"in window&&(a.ApplicationInsights.Util.addEventHandler("beforeunload",function(){e.context._sender.triggerSend(),e.context._sessionManager.backup()})||a.ApplicationInsights._InternalLogging.throwInternal(a.ApplicationInsights.LoggingSeverity.CRITICAL,a.ApplicationInsights._InternalMessageId.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload"))},i.getDefaultConfig=function(e){return(e=e||{}).endpointUrl=e.endpointUrl||"https://dc.services.visualstudio.com/v2/track",e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.maxBatchSizeInBytes=0<e.maxBatchSizeInBytes?e.maxBatchSizeInBytes:102400,e.maxBatchInterval=isNaN(e.maxBatchInterval)?15e3:e.maxBatchInterval,e.enableDebug=n.Util.stringToBoolOrDefault(e.enableDebug),e.disableExceptionTracking=n.Util.stringToBoolOrDefault(e.disableExceptionTracking),e.disableTelemetry=n.Util.stringToBoolOrDefault(e.disableTelemetry),e.verboseLogging=n.Util.stringToBoolOrDefault(e.verboseLogging),e.emitLineDelimitedJson=n.Util.stringToBoolOrDefault(e.emitLineDelimitedJson),e.diagnosticLogInterval=e.diagnosticLogInterval||1e4,e.autoTrackPageVisitTime=n.Util.stringToBoolOrDefault(e.autoTrackPageVisitTime),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||100<=e.samplingPercentage)&&(e.samplingPercentage=100),e.disableAjaxTracking=n.Util.stringToBoolOrDefault(e.disableAjaxTracking),e.maxAjaxCallsPerView=isNaN(e.maxAjaxCallsPerView)?500:e.maxAjaxCallsPerView,e.isBeaconApiDisabled=n.Util.stringToBoolOrDefault(e.isBeaconApiDisabled,!0),e.disableCorrelationHeaders=n.Util.stringToBoolOrDefault(e.disableCorrelationHeaders),e.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],e.disableFlushOnBeforeUnload=n.Util.stringToBoolOrDefault(e.disableFlushOnBeforeUnload),e.enableSessionStorageBuffer=n.Util.stringToBoolOrDefault(e.enableSessionStorageBuffer,!0),e.isRetryDisabled=n.Util.stringToBoolOrDefault(e.isRetryDisabled),e.isCookieUseDisabled=n.Util.stringToBoolOrDefault(e.isCookieUseDisabled),e.isStorageUseDisabled=n.Util.stringToBoolOrDefault(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=n.Util.stringToBoolOrDefault(e.isBrowserLinkTrackingEnabled),e.enableCorsCorrelation=n.Util.stringToBoolOrDefault(e.enableCorsCorrelation),e},n.Initialization=i}(Microsoft=Microsoft||{}),function(t){t.ApplicationInsights||(t.ApplicationInsights={});try{if("undefined"!=typeof window&&"undefined"!=typeof JSON){var e="appInsights";if(void 0===window[e])t.ApplicationInsights.AppInsights.defaultConfig=t.ApplicationInsights.Initialization.getDefaultConfig();else{var i,n=window[e]||{},o=new t.ApplicationInsights.Initialization(n),a=o.loadAppInsights();for(i in a)n[i]=a[i];o.emptyQueue(),o.pollInteralLogs(a),o.addHousekeepingBeforeUnload(a)}}}catch(e){t.ApplicationInsights._InternalLogging.warnToConsole("Failed to initialize AppInsights JS SDK: "+e.message)}}(Microsoft=Microsoft||{});