importScripts("/pxt-ev3/pxtworker.js");let pm=postMessage;"undefined"==typeof btoa&&(ts.pxtc.encodeBase64=function(r){function t(e){return e<=25?e+65:e<=51?e+71:e<=61?e-4:62==e?43:47}let o=new Array,n=0,i=0;for(let e=0;e<r.length;e++){var a=r.charCodeAt(e);if(255<a)return;0==n?(o.push(String.fromCharCode(t(a>>2))),n=1,i=(3&a)<<4):1==n?(o.push(String.fromCharCode(t(i|a>>4))),n=2,i=(15&a)<<2):2==n&&(o.push(String.fromCharCode(t(i|a>>6),t(63&a))),n=0,i=0)}return 1==n?o.push(String.fromCharCode(t(i),61,61)):2==n&&o.push(String.fromCharCode(t(i),61)),o.join("")}),"undefined"==typeof atob&&(ts.pxtc.decodeBase64=function(r){function t(e){return 47==e?63:43==e?62:e<=57?e+4:e<=90?e-65:e-71}function o(r,t,e){let o=0;for(let e=0;e<=r-t;e++)o=1+(o<<1);return e>>t&o}let n=new Array,i=!0,a=!1,p=!1,l=!1,y=!1,s=!1,u=0,f=new RegExp("^([A-Za-z0-9+/=])$");for(let e=0;e<r.length;e++){var c=r.charCodeAt(e);if(!String.fromCharCode(c).match(f)||61==c&&(i||a)||61==c&&0!=u||61!=c&&y||s)return;i?(u=t(c)<<2,i=!1,a=!0,p=!1,l=!1,y=!1,s=!1):a?(n.push(String.fromCharCode(u|o(5,4,t(c)))),u=(15&t(c))<<4,i=!1,a=!1,p=!0,l=!1,y=!1,s=!1):p?s=(y=61==c?(u=0,i=!1,a=!1,p=!1,!(l=!1)):(n.push(String.fromCharCode(u|o(5,2,t(c)))),u=(3&t(c))<<6,i=!1,a=!1,p=!1,!(l=!0)),!1):l?s=61==c?(u=0,i=!1,a=!1,p=!1,l=!1,!(y=!1)):(n.push(String.fromCharCode(u|t(c))),u=0,i=!0,a=!1,p=!1,l=!1,y=!1):y&&(u=0,i=!1,a=!1,p=!1,l=!1,y=!1,s=!0)}if(i||s)return n.join("")}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,r){return void 0!==e&&null!=e&&this.substring(r=!r||r<0?0:+r,r+e.length)===e}}),Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice,writable:!0,enumerable:!0}),Uint16Array.prototype.slice||Object.defineProperty(Uint16Array.prototype,"slice",{value:Array.prototype.slice,writable:!0,enumerable:!0}),Uint32Array.prototype.slice||Object.defineProperty(Uint32Array.prototype,"slice",{value:Array.prototype.slice,writable:!0,enumerable:!0}),Uint8Array.prototype.some||Object.defineProperty(Uint8Array.prototype,"some",{value:Array.prototype.some,writable:!0,enumerable:!0}),Uint16Array.prototype.some||Object.defineProperty(Uint16Array.prototype,"some",{value:Array.prototype.some,writable:!0,enumerable:!0}),Uint32Array.prototype.some||Object.defineProperty(Uint32Array.prototype,"some",{value:Array.prototype.some,writable:!0,enumerable:!0}),Uint8Array.prototype.reverse||Object.defineProperty(Uint8Array.prototype,"reverse",{value:Array.prototype.reverse,writable:!0,enumerable:!0}),Uint16Array.prototype.reverse||Object.defineProperty(Uint16Array.prototype,"reverse",{value:Array.prototype.reverse,writable:!0,enumerable:!0}),Uint32Array.prototype.reverse||Object.defineProperty(Uint32Array.prototype,"reverse",{value:Array.prototype.reverse,writable:!0,enumerable:!0}),Uint8Array.prototype.fill||Object.defineProperty(Uint8Array.prototype,"fill",{writable:!0,enumerable:!0,value:function(e){if(null==this)throw new TypeError("this is null or not defined");let r=Object(this),t=r.length>>>0,o=arguments[1],n=o>>0,i=n<0?Math.max(t+n,0):Math.min(n,t),a=arguments[2],p=void 0===a?t:a>>0,l=p<0?Math.max(t+p,0):Math.min(p,t);for(;i<l;)r[i]=e,i++;return r}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{writable:!0,enumerable:!0,value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this);const t=r.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");var o=arguments[1];let n=0;for(;n<t;){const t=r[n];if(e.call(o,t,n,r))return t;n++}}}),Math.imul||(Math.imul=function(e,r){var t=65535&e,o=65535&r;return t*o+((e>>>16&65535)*o+t*(r>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,r){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");var t=Object(e);for(let e=1;e<arguments.length;e++){var o=arguments[e];if(null!=o)for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},writable:!0,configurable:!0}),Promise.prototype.finally||(Promise.prototype.finally=Promise.prototype.finally||{finally(r){const t=e=>Promise.resolve(r()).then(e);return this.then(e=>t(()=>e),e=>t(()=>Promise.reject(e)))}}.finally),onmessage=e=>{var r=pxtc.service.performOperation(e.data.op,e.data.arg);pm({op:e.data.op,id:e.data.id,result:JSON.parse(JSON.stringify(r))})},pm({id:"ready"});