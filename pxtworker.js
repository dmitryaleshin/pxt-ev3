"use strict";var __assign=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},__extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])});return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,debugObjectHost=(!function(e){var t;(t=e.SyntaxKind||(e.SyntaxKind={}))[t.Unknown=0]="Unknown",t[t.EndOfFileToken=1]="EndOfFileToken",t[t.SingleLineCommentTrivia=2]="SingleLineCommentTrivia",t[t.MultiLineCommentTrivia=3]="MultiLineCommentTrivia",t[t.NewLineTrivia=4]="NewLineTrivia",t[t.WhitespaceTrivia=5]="WhitespaceTrivia",t[t.ShebangTrivia=6]="ShebangTrivia",t[t.ConflictMarkerTrivia=7]="ConflictMarkerTrivia",t[t.NumericLiteral=8]="NumericLiteral",t[t.StringLiteral=9]="StringLiteral",t[t.JsxText=10]="JsxText",t[t.JsxTextAllWhiteSpaces=11]="JsxTextAllWhiteSpaces",t[t.RegularExpressionLiteral=12]="RegularExpressionLiteral",t[t.NoSubstitutionTemplateLiteral=13]="NoSubstitutionTemplateLiteral",t[t.TemplateHead=14]="TemplateHead",t[t.TemplateMiddle=15]="TemplateMiddle",t[t.TemplateTail=16]="TemplateTail",t[t.OpenBraceToken=17]="OpenBraceToken",t[t.CloseBraceToken=18]="CloseBraceToken",t[t.OpenParenToken=19]="OpenParenToken",t[t.CloseParenToken=20]="CloseParenToken",t[t.OpenBracketToken=21]="OpenBracketToken",t[t.CloseBracketToken=22]="CloseBracketToken",t[t.DotToken=23]="DotToken",t[t.DotDotDotToken=24]="DotDotDotToken",t[t.SemicolonToken=25]="SemicolonToken",t[t.CommaToken=26]="CommaToken",t[t.LessThanToken=27]="LessThanToken",t[t.LessThanSlashToken=28]="LessThanSlashToken",t[t.GreaterThanToken=29]="GreaterThanToken",t[t.LessThanEqualsToken=30]="LessThanEqualsToken",t[t.GreaterThanEqualsToken=31]="GreaterThanEqualsToken",t[t.EqualsEqualsToken=32]="EqualsEqualsToken",t[t.ExclamationEqualsToken=33]="ExclamationEqualsToken",t[t.EqualsEqualsEqualsToken=34]="EqualsEqualsEqualsToken",t[t.ExclamationEqualsEqualsToken=35]="ExclamationEqualsEqualsToken",t[t.EqualsGreaterThanToken=36]="EqualsGreaterThanToken",t[t.PlusToken=37]="PlusToken",t[t.MinusToken=38]="MinusToken",t[t.AsteriskToken=39]="AsteriskToken",t[t.AsteriskAsteriskToken=40]="AsteriskAsteriskToken",t[t.SlashToken=41]="SlashToken",t[t.PercentToken=42]="PercentToken",t[t.PlusPlusToken=43]="PlusPlusToken",t[t.MinusMinusToken=44]="MinusMinusToken",t[t.LessThanLessThanToken=45]="LessThanLessThanToken",t[t.GreaterThanGreaterThanToken=46]="GreaterThanGreaterThanToken",t[t.GreaterThanGreaterThanGreaterThanToken=47]="GreaterThanGreaterThanGreaterThanToken",t[t.AmpersandToken=48]="AmpersandToken",t[t.BarToken=49]="BarToken",t[t.CaretToken=50]="CaretToken",t[t.ExclamationToken=51]="ExclamationToken",t[t.TildeToken=52]="TildeToken",t[t.AmpersandAmpersandToken=53]="AmpersandAmpersandToken",t[t.BarBarToken=54]="BarBarToken",t[t.QuestionToken=55]="QuestionToken",t[t.ColonToken=56]="ColonToken",t[t.AtToken=57]="AtToken",t[t.EqualsToken=58]="EqualsToken",t[t.PlusEqualsToken=59]="PlusEqualsToken",t[t.MinusEqualsToken=60]="MinusEqualsToken",t[t.AsteriskEqualsToken=61]="AsteriskEqualsToken",t[t.AsteriskAsteriskEqualsToken=62]="AsteriskAsteriskEqualsToken",t[t.SlashEqualsToken=63]="SlashEqualsToken",t[t.PercentEqualsToken=64]="PercentEqualsToken",t[t.LessThanLessThanEqualsToken=65]="LessThanLessThanEqualsToken",t[t.GreaterThanGreaterThanEqualsToken=66]="GreaterThanGreaterThanEqualsToken",t[t.GreaterThanGreaterThanGreaterThanEqualsToken=67]="GreaterThanGreaterThanGreaterThanEqualsToken",t[t.AmpersandEqualsToken=68]="AmpersandEqualsToken",t[t.BarEqualsToken=69]="BarEqualsToken",t[t.CaretEqualsToken=70]="CaretEqualsToken",t[t.Identifier=71]="Identifier",t[t.BreakKeyword=72]="BreakKeyword",t[t.CaseKeyword=73]="CaseKeyword",t[t.CatchKeyword=74]="CatchKeyword",t[t.ClassKeyword=75]="ClassKeyword",t[t.ConstKeyword=76]="ConstKeyword",t[t.ContinueKeyword=77]="ContinueKeyword",t[t.DebuggerKeyword=78]="DebuggerKeyword",t[t.DefaultKeyword=79]="DefaultKeyword",t[t.DeleteKeyword=80]="DeleteKeyword",t[t.DoKeyword=81]="DoKeyword",t[t.ElseKeyword=82]="ElseKeyword",t[t.EnumKeyword=83]="EnumKeyword",t[t.ExportKeyword=84]="ExportKeyword",t[t.ExtendsKeyword=85]="ExtendsKeyword",t[t.FalseKeyword=86]="FalseKeyword",t[t.FinallyKeyword=87]="FinallyKeyword",t[t.ForKeyword=88]="ForKeyword",t[t.FunctionKeyword=89]="FunctionKeyword",t[t.IfKeyword=90]="IfKeyword",t[t.ImportKeyword=91]="ImportKeyword",t[t.InKeyword=92]="InKeyword",t[t.InstanceOfKeyword=93]="InstanceOfKeyword",t[t.NewKeyword=94]="NewKeyword",t[t.NullKeyword=95]="NullKeyword",t[t.ReturnKeyword=96]="ReturnKeyword",t[t.SuperKeyword=97]="SuperKeyword",t[t.SwitchKeyword=98]="SwitchKeyword",t[t.ThisKeyword=99]="ThisKeyword",t[t.ThrowKeyword=100]="ThrowKeyword",t[t.TrueKeyword=101]="TrueKeyword",t[t.TryKeyword=102]="TryKeyword",t[t.TypeOfKeyword=103]="TypeOfKeyword",t[t.VarKeyword=104]="VarKeyword",t[t.VoidKeyword=105]="VoidKeyword",t[t.WhileKeyword=106]="WhileKeyword",t[t.WithKeyword=107]="WithKeyword",t[t.ImplementsKeyword=108]="ImplementsKeyword",t[t.InterfaceKeyword=109]="InterfaceKeyword",t[t.LetKeyword=110]="LetKeyword",t[t.PackageKeyword=111]="PackageKeyword",t[t.PrivateKeyword=112]="PrivateKeyword",t[t.ProtectedKeyword=113]="ProtectedKeyword",t[t.PublicKeyword=114]="PublicKeyword",t[t.StaticKeyword=115]="StaticKeyword",t[t.YieldKeyword=116]="YieldKeyword",t[t.AbstractKeyword=117]="AbstractKeyword",t[t.AsKeyword=118]="AsKeyword",t[t.AnyKeyword=119]="AnyKeyword",t[t.AsyncKeyword=120]="AsyncKeyword",t[t.AwaitKeyword=121]="AwaitKeyword",t[t.BooleanKeyword=122]="BooleanKeyword",t[t.ConstructorKeyword=123]="ConstructorKeyword",t[t.DeclareKeyword=124]="DeclareKeyword",t[t.GetKeyword=125]="GetKeyword",t[t.IsKeyword=126]="IsKeyword",t[t.KeyOfKeyword=127]="KeyOfKeyword",t[t.ModuleKeyword=128]="ModuleKeyword",t[t.NamespaceKeyword=129]="NamespaceKeyword",t[t.NeverKeyword=130]="NeverKeyword",t[t.ReadonlyKeyword=131]="ReadonlyKeyword",t[t.RequireKeyword=132]="RequireKeyword",t[t.NumberKeyword=133]="NumberKeyword",t[t.ObjectKeyword=134]="ObjectKeyword",t[t.SetKeyword=135]="SetKeyword",t[t.StringKeyword=136]="StringKeyword",t[t.SymbolKeyword=137]="SymbolKeyword",t[t.TypeKeyword=138]="TypeKeyword",t[t.UndefinedKeyword=139]="UndefinedKeyword",t[t.FromKeyword=140]="FromKeyword",t[t.GlobalKeyword=141]="GlobalKeyword",t[t.OfKeyword=142]="OfKeyword",t[t.QualifiedName=143]="QualifiedName",t[t.ComputedPropertyName=144]="ComputedPropertyName",t[t.TypeParameter=145]="TypeParameter",t[t.Parameter=146]="Parameter",t[t.Decorator=147]="Decorator",t[t.PropertySignature=148]="PropertySignature",t[t.PropertyDeclaration=149]="PropertyDeclaration",t[t.MethodSignature=150]="MethodSignature",t[t.MethodDeclaration=151]="MethodDeclaration",t[t.Constructor=152]="Constructor",t[t.GetAccessor=153]="GetAccessor",t[t.SetAccessor=154]="SetAccessor",t[t.CallSignature=155]="CallSignature",t[t.ConstructSignature=156]="ConstructSignature",t[t.IndexSignature=157]="IndexSignature",t[t.TypePredicate=158]="TypePredicate",t[t.TypeReference=159]="TypeReference",t[t.FunctionType=160]="FunctionType",t[t.ConstructorType=161]="ConstructorType",t[t.TypeQuery=162]="TypeQuery",t[t.TypeLiteral=163]="TypeLiteral",t[t.ArrayType=164]="ArrayType",t[t.TupleType=165]="TupleType",t[t.UnionType=166]="UnionType",t[t.IntersectionType=167]="IntersectionType",t[t.ParenthesizedType=168]="ParenthesizedType",t[t.ThisType=169]="ThisType",t[t.TypeOperator=170]="TypeOperator",t[t.IndexedAccessType=171]="IndexedAccessType",t[t.MappedType=172]="MappedType",t[t.LiteralType=173]="LiteralType",t[t.ObjectBindingPattern=174]="ObjectBindingPattern",t[t.ArrayBindingPattern=175]="ArrayBindingPattern",t[t.BindingElement=176]="BindingElement",t[t.ArrayLiteralExpression=177]="ArrayLiteralExpression",t[t.ObjectLiteralExpression=178]="ObjectLiteralExpression",t[t.PropertyAccessExpression=179]="PropertyAccessExpression",t[t.ElementAccessExpression=180]="ElementAccessExpression",t[t.CallExpression=181]="CallExpression",t[t.NewExpression=182]="NewExpression",t[t.TaggedTemplateExpression=183]="TaggedTemplateExpression",t[t.TypeAssertionExpression=184]="TypeAssertionExpression",t[t.ParenthesizedExpression=185]="ParenthesizedExpression",t[t.FunctionExpression=186]="FunctionExpression",t[t.ArrowFunction=187]="ArrowFunction",t[t.DeleteExpression=188]="DeleteExpression",t[t.TypeOfExpression=189]="TypeOfExpression",t[t.VoidExpression=190]="VoidExpression",t[t.AwaitExpression=191]="AwaitExpression",t[t.PrefixUnaryExpression=192]="PrefixUnaryExpression",t[t.PostfixUnaryExpression=193]="PostfixUnaryExpression",t[t.BinaryExpression=194]="BinaryExpression",t[t.ConditionalExpression=195]="ConditionalExpression",t[t.TemplateExpression=196]="TemplateExpression",t[t.YieldExpression=197]="YieldExpression",t[t.SpreadElement=198]="SpreadElement",t[t.ClassExpression=199]="ClassExpression",t[t.OmittedExpression=200]="OmittedExpression",t[t.ExpressionWithTypeArguments=201]="ExpressionWithTypeArguments",t[t.AsExpression=202]="AsExpression",t[t.NonNullExpression=203]="NonNullExpression",t[t.MetaProperty=204]="MetaProperty",t[t.TemplateSpan=205]="TemplateSpan",t[t.SemicolonClassElement=206]="SemicolonClassElement",t[t.Block=207]="Block",t[t.VariableStatement=208]="VariableStatement",t[t.EmptyStatement=209]="EmptyStatement",t[t.ExpressionStatement=210]="ExpressionStatement",t[t.IfStatement=211]="IfStatement",t[t.DoStatement=212]="DoStatement",t[t.WhileStatement=213]="WhileStatement",t[t.ForStatement=214]="ForStatement",t[t.ForInStatement=215]="ForInStatement",t[t.ForOfStatement=216]="ForOfStatement",t[t.ContinueStatement=217]="ContinueStatement",t[t.BreakStatement=218]="BreakStatement",t[t.ReturnStatement=219]="ReturnStatement",t[t.WithStatement=220]="WithStatement",t[t.SwitchStatement=221]="SwitchStatement",t[t.LabeledStatement=222]="LabeledStatement",t[t.ThrowStatement=223]="ThrowStatement",t[t.TryStatement=224]="TryStatement",t[t.DebuggerStatement=225]="DebuggerStatement",t[t.VariableDeclaration=226]="VariableDeclaration",t[t.VariableDeclarationList=227]="VariableDeclarationList",t[t.FunctionDeclaration=228]="FunctionDeclaration",t[t.ClassDeclaration=229]="ClassDeclaration",t[t.InterfaceDeclaration=230]="InterfaceDeclaration",t[t.TypeAliasDeclaration=231]="TypeAliasDeclaration",t[t.EnumDeclaration=232]="EnumDeclaration",t[t.ModuleDeclaration=233]="ModuleDeclaration",t[t.ModuleBlock=234]="ModuleBlock",t[t.CaseBlock=235]="CaseBlock",t[t.NamespaceExportDeclaration=236]="NamespaceExportDeclaration",t[t.ImportEqualsDeclaration=237]="ImportEqualsDeclaration",t[t.ImportDeclaration=238]="ImportDeclaration",t[t.ImportClause=239]="ImportClause",t[t.NamespaceImport=240]="NamespaceImport",t[t.NamedImports=241]="NamedImports",t[t.ImportSpecifier=242]="ImportSpecifier",t[t.ExportAssignment=243]="ExportAssignment",t[t.ExportDeclaration=244]="ExportDeclaration",t[t.NamedExports=245]="NamedExports",t[t.ExportSpecifier=246]="ExportSpecifier",t[t.MissingDeclaration=247]="MissingDeclaration",t[t.ExternalModuleReference=248]="ExternalModuleReference",t[t.JsxElement=249]="JsxElement",t[t.JsxSelfClosingElement=250]="JsxSelfClosingElement",t[t.JsxOpeningElement=251]="JsxOpeningElement",t[t.JsxClosingElement=252]="JsxClosingElement",t[t.JsxAttribute=253]="JsxAttribute",t[t.JsxAttributes=254]="JsxAttributes",t[t.JsxSpreadAttribute=255]="JsxSpreadAttribute",t[t.JsxExpression=256]="JsxExpression",t[t.CaseClause=257]="CaseClause",t[t.DefaultClause=258]="DefaultClause",t[t.HeritageClause=259]="HeritageClause",t[t.CatchClause=260]="CatchClause",t[t.PropertyAssignment=261]="PropertyAssignment",t[t.ShorthandPropertyAssignment=262]="ShorthandPropertyAssignment",t[t.SpreadAssignment=263]="SpreadAssignment",t[t.EnumMember=264]="EnumMember",t[t.SourceFile=265]="SourceFile",t[t.Bundle=266]="Bundle",t[t.JSDocTypeExpression=267]="JSDocTypeExpression",t[t.JSDocAllType=268]="JSDocAllType",t[t.JSDocUnknownType=269]="JSDocUnknownType",t[t.JSDocNullableType=270]="JSDocNullableType",t[t.JSDocNonNullableType=271]="JSDocNonNullableType",t[t.JSDocOptionalType=272]="JSDocOptionalType",t[t.JSDocFunctionType=273]="JSDocFunctionType",t[t.JSDocVariadicType=274]="JSDocVariadicType",t[t.JSDocComment=275]="JSDocComment",t[t.JSDocTag=276]="JSDocTag",t[t.JSDocAugmentsTag=277]="JSDocAugmentsTag",t[t.JSDocClassTag=278]="JSDocClassTag",t[t.JSDocParameterTag=279]="JSDocParameterTag",t[t.JSDocReturnTag=280]="JSDocReturnTag",t[t.JSDocTypeTag=281]="JSDocTypeTag",t[t.JSDocTemplateTag=282]="JSDocTemplateTag",t[t.JSDocTypedefTag=283]="JSDocTypedefTag",t[t.JSDocPropertyTag=284]="JSDocPropertyTag",t[t.JSDocTypeLiteral=285]="JSDocTypeLiteral",t[t.SyntaxList=286]="SyntaxList",t[t.NotEmittedStatement=287]="NotEmittedStatement",t[t.PartiallyEmittedExpression=288]="PartiallyEmittedExpression",t[t.CommaListExpression=289]="CommaListExpression",t[t.MergeDeclarationMarker=290]="MergeDeclarationMarker",t[t.EndOfDeclarationMarker=291]="EndOfDeclarationMarker",t[t.Count=292]="Count",t[t.FirstAssignment=58]="FirstAssignment",t[t.LastAssignment=70]="LastAssignment",t[t.FirstCompoundAssignment=59]="FirstCompoundAssignment",t[t.LastCompoundAssignment=70]="LastCompoundAssignment",t[t.FirstReservedWord=72]="FirstReservedWord",t[t.LastReservedWord=107]="LastReservedWord",t[t.FirstKeyword=72]="FirstKeyword",t[t.LastKeyword=142]="LastKeyword",t[t.FirstFutureReservedWord=108]="FirstFutureReservedWord",t[t.LastFutureReservedWord=116]="LastFutureReservedWord",t[t.FirstTypeNode=158]="FirstTypeNode",t[t.LastTypeNode=173]="LastTypeNode",t[t.FirstPunctuation=17]="FirstPunctuation",t[t.LastPunctuation=70]="LastPunctuation",t[t.FirstToken=0]="FirstToken",t[t.LastToken=142]="LastToken",t[t.FirstTriviaToken=2]="FirstTriviaToken",t[t.LastTriviaToken=7]="LastTriviaToken",t[t.FirstLiteralToken=8]="FirstLiteralToken",t[t.LastLiteralToken=13]="LastLiteralToken",t[t.FirstTemplateToken=13]="FirstTemplateToken",t[t.LastTemplateToken=16]="LastTemplateToken",t[t.FirstBinaryOperator=27]="FirstBinaryOperator",t[t.LastBinaryOperator=70]="LastBinaryOperator",t[t.FirstNode=143]="FirstNode",t[t.FirstJSDocNode=267]="FirstJSDocNode",t[t.LastJSDocNode=285]="LastJSDocNode",t[t.FirstJSDocTagNode=276]="FirstJSDocTagNode",t[t.LastJSDocTagNode=285]="LastJSDocTagNode",(t=e.NodeFlags||(e.NodeFlags={}))[t.None=0]="None",t[t.Let=1]="Let",t[t.Const=2]="Const",t[t.NestedNamespace=4]="NestedNamespace",t[t.Synthesized=8]="Synthesized",t[t.Namespace=16]="Namespace",t[t.ExportContext=32]="ExportContext",t[t.ContainsThis=64]="ContainsThis",t[t.HasImplicitReturn=128]="HasImplicitReturn",t[t.HasExplicitReturn=256]="HasExplicitReturn",t[t.GlobalAugmentation=512]="GlobalAugmentation",t[t.HasAsyncFunctions=1024]="HasAsyncFunctions",t[t.DisallowInContext=2048]="DisallowInContext",t[t.YieldContext=4096]="YieldContext",t[t.DecoratorContext=8192]="DecoratorContext",t[t.AwaitContext=16384]="AwaitContext",t[t.ThisNodeHasError=32768]="ThisNodeHasError",t[t.JavaScriptFile=65536]="JavaScriptFile",t[t.ThisNodeOrAnySubNodesHasError=131072]="ThisNodeOrAnySubNodesHasError",t[t.HasAggregatedChildData=262144]="HasAggregatedChildData",t[t.PossiblyContainsDynamicImport=524288]="PossiblyContainsDynamicImport",t[t.JSDoc=1048576]="JSDoc",t[t.BlockScoped=3]="BlockScoped",t[t.ReachabilityCheckFlags=384]="ReachabilityCheckFlags",t[t.ReachabilityAndEmitFlags=1408]="ReachabilityAndEmitFlags",t[t.ContextFlags=96256]="ContextFlags",t[t.TypeExcludesFlags=20480]="TypeExcludesFlags",(t=e.ModifierFlags||(e.ModifierFlags={}))[t.None=0]="None",t[t.Export=1]="Export",t[t.Ambient=2]="Ambient",t[t.Public=4]="Public",t[t.Private=8]="Private",t[t.Protected=16]="Protected",t[t.Static=32]="Static",t[t.Readonly=64]="Readonly",t[t.Abstract=128]="Abstract",t[t.Async=256]="Async",t[t.Default=512]="Default",t[t.Const=2048]="Const",t[t.HasComputedFlags=536870912]="HasComputedFlags",t[t.AccessibilityModifier=28]="AccessibilityModifier",t[t.ParameterPropertyModifier=92]="ParameterPropertyModifier",t[t.NonPublicAccessibilityModifier=24]="NonPublicAccessibilityModifier",t[t.TypeScriptModifier=2270]="TypeScriptModifier",t[t.ExportDefault=513]="ExportDefault",(t=e.JsxFlags||(e.JsxFlags={}))[t.None=0]="None",t[t.IntrinsicNamedElement=1]="IntrinsicNamedElement",t[t.IntrinsicIndexedElement=2]="IntrinsicIndexedElement",t[t.IntrinsicElement=3]="IntrinsicElement",(t=e.RelationComparisonResult||(e.RelationComparisonResult={}))[t.Succeeded=1]="Succeeded",t[t.Failed=2]="Failed",t[t.FailedAndReported=3]="FailedAndReported",(t=e.GeneratedIdentifierKind||(e.GeneratedIdentifierKind={}))[t.None=0]="None",t[t.Auto=1]="Auto",t[t.Loop=2]="Loop",t[t.Unique=3]="Unique",t[t.Node=4]="Node",(t=e.NumericLiteralFlags||(e.NumericLiteralFlags={}))[t.None=0]="None",t[t.Scientific=2]="Scientific",t[t.Octal=4]="Octal",t[t.HexSpecifier=8]="HexSpecifier",t[t.BinarySpecifier=16]="BinarySpecifier",t[t.OctalSpecifier=32]="OctalSpecifier",t[t.BinaryOrOctalSpecifier=48]="BinaryOrOctalSpecifier",(t=e.FlowFlags||(e.FlowFlags={}))[t.Unreachable=1]="Unreachable",t[t.Start=2]="Start",t[t.BranchLabel=4]="BranchLabel",t[t.LoopLabel=8]="LoopLabel",t[t.Assignment=16]="Assignment",t[t.TrueCondition=32]="TrueCondition",t[t.FalseCondition=64]="FalseCondition",t[t.SwitchClause=128]="SwitchClause",t[t.ArrayMutation=256]="ArrayMutation",t[t.Referenced=512]="Referenced",t[t.Shared=1024]="Shared",t[t.PreFinally=2048]="PreFinally",t[t.AfterFinally=4096]="AfterFinally",t[t.Label=12]="Label",t[t.Condition=96]="Condition";e.OperationCanceledException=function(){},(t=e.StructureIsReused||(e.StructureIsReused={}))[t.Not=0]="Not",t[t.SafeModules=1]="SafeModules",t[t.Completely=2]="Completely",(t=e.ExitStatus||(e.ExitStatus={}))[t.Success=0]="Success",t[t.DiagnosticsPresent_OutputsSkipped=1]="DiagnosticsPresent_OutputsSkipped",t[t.DiagnosticsPresent_OutputsGenerated=2]="DiagnosticsPresent_OutputsGenerated",(t=e.NodeBuilderFlags||(e.NodeBuilderFlags={}))[t.None=0]="None",t[t.NoTruncation=1]="NoTruncation",t[t.WriteArrayAsGenericType=2]="WriteArrayAsGenericType",t[t.WriteTypeArgumentsOfSignature=32]="WriteTypeArgumentsOfSignature",t[t.UseFullyQualifiedType=64]="UseFullyQualifiedType",t[t.SuppressAnyReturnType=256]="SuppressAnyReturnType",t[t.WriteTypeParametersInQualifiedName=512]="WriteTypeParametersInQualifiedName",t[t.AllowThisInObjectLiteral=1024]="AllowThisInObjectLiteral",t[t.AllowQualifedNameInPlaceOfIdentifier=2048]="AllowQualifedNameInPlaceOfIdentifier",t[t.AllowAnonymousIdentifier=8192]="AllowAnonymousIdentifier",t[t.AllowEmptyUnionOrIntersection=16384]="AllowEmptyUnionOrIntersection",t[t.AllowEmptyTuple=32768]="AllowEmptyTuple",t[t.IgnoreErrors=60416]="IgnoreErrors",t[t.InObjectTypeLiteral=1048576]="InObjectTypeLiteral",t[t.InTypeAlias=8388608]="InTypeAlias",(t=e.TypeFormatFlags||(e.TypeFormatFlags={}))[t.None=0]="None",t[t.WriteArrayAsGenericType=1]="WriteArrayAsGenericType",t[t.UseTypeOfFunction=4]="UseTypeOfFunction",t[t.NoTruncation=8]="NoTruncation",t[t.WriteArrowStyleSignature=16]="WriteArrowStyleSignature",t[t.WriteOwnNameForAnyLike=32]="WriteOwnNameForAnyLike",t[t.WriteTypeArgumentsOfSignature=64]="WriteTypeArgumentsOfSignature",t[t.InElementType=128]="InElementType",t[t.UseFullyQualifiedType=256]="UseFullyQualifiedType",t[t.InFirstTypeArgument=512]="InFirstTypeArgument",t[t.InTypeAlias=1024]="InTypeAlias",t[t.SuppressAnyReturnType=4096]="SuppressAnyReturnType",t[t.AddUndefined=8192]="AddUndefined",t[t.WriteClassExpressionAsTypeLiteral=16384]="WriteClassExpressionAsTypeLiteral",t[t.InArrayType=32768]="InArrayType",t[t.UseAliasDefinedOutsideCurrentScope=65536]="UseAliasDefinedOutsideCurrentScope",(t=e.SymbolFormatFlags||(e.SymbolFormatFlags={}))[t.None=0]="None",t[t.WriteTypeParametersOrArguments=1]="WriteTypeParametersOrArguments",t[t.UseOnlyExternalAliasing=2]="UseOnlyExternalAliasing",(t=e.SymbolAccessibility||(e.SymbolAccessibility={}))[t.Accessible=0]="Accessible",t[t.NotAccessible=1]="NotAccessible",t[t.CannotBeNamed=2]="CannotBeNamed",(t=e.SyntheticSymbolKind||(e.SyntheticSymbolKind={}))[t.UnionOrIntersection=0]="UnionOrIntersection",t[t.Spread=1]="Spread",(t=e.TypePredicateKind||(e.TypePredicateKind={}))[t.This=0]="This",t[t.Identifier=1]="Identifier",(t=e.TypeReferenceSerializationKind||(e.TypeReferenceSerializationKind={}))[t.Unknown=0]="Unknown",t[t.TypeWithConstructSignatureAndValue=1]="TypeWithConstructSignatureAndValue",t[t.VoidNullableOrNeverType=2]="VoidNullableOrNeverType",t[t.NumberLikeType=3]="NumberLikeType",t[t.StringLikeType=4]="StringLikeType",t[t.BooleanType=5]="BooleanType",t[t.ArrayLikeType=6]="ArrayLikeType",t[t.ESSymbolType=7]="ESSymbolType",t[t.Promise=8]="Promise",t[t.TypeWithCallSignature=9]="TypeWithCallSignature",t[t.ObjectType=10]="ObjectType",(t=e.SymbolFlags||(e.SymbolFlags={}))[t.None=0]="None",t[t.FunctionScopedVariable=1]="FunctionScopedVariable",t[t.BlockScopedVariable=2]="BlockScopedVariable",t[t.Property=4]="Property",t[t.EnumMember=8]="EnumMember",t[t.Function=16]="Function",t[t.Class=32]="Class",t[t.Interface=64]="Interface",t[t.ConstEnum=128]="ConstEnum",t[t.RegularEnum=256]="RegularEnum",t[t.ValueModule=512]="ValueModule",t[t.NamespaceModule=1024]="NamespaceModule",t[t.TypeLiteral=2048]="TypeLiteral",t[t.ObjectLiteral=4096]="ObjectLiteral",t[t.Method=8192]="Method",t[t.Constructor=16384]="Constructor",t[t.GetAccessor=32768]="GetAccessor",t[t.SetAccessor=65536]="SetAccessor",t[t.Signature=131072]="Signature",t[t.TypeParameter=262144]="TypeParameter",t[t.TypeAlias=524288]="TypeAlias",t[t.ExportValue=1048576]="ExportValue",t[t.Alias=2097152]="Alias",t[t.Prototype=4194304]="Prototype",t[t.ExportStar=8388608]="ExportStar",t[t.Optional=16777216]="Optional",t[t.Transient=33554432]="Transient",t[t.Enum=384]="Enum",t[t.Variable=3]="Variable",t[t.Value=107455]="Value",t[t.Type=793064]="Type",t[t.Namespace=1920]="Namespace",t[t.Module=1536]="Module",t[t.Accessor=98304]="Accessor",t[t.FunctionScopedVariableExcludes=107454]="FunctionScopedVariableExcludes",t[t.BlockScopedVariableExcludes=107455]="BlockScopedVariableExcludes",t[t.ParameterExcludes=107455]="ParameterExcludes",t[t.PropertyExcludes=0]="PropertyExcludes",t[t.EnumMemberExcludes=900095]="EnumMemberExcludes",t[t.FunctionExcludes=106927]="FunctionExcludes",t[t.ClassExcludes=899519]="ClassExcludes",t[t.InterfaceExcludes=792968]="InterfaceExcludes",t[t.RegularEnumExcludes=899327]="RegularEnumExcludes",t[t.ConstEnumExcludes=899967]="ConstEnumExcludes",t[t.ValueModuleExcludes=106639]="ValueModuleExcludes",t[t.NamespaceModuleExcludes=0]="NamespaceModuleExcludes",t[t.MethodExcludes=99263]="MethodExcludes",t[t.GetAccessorExcludes=41919]="GetAccessorExcludes",t[t.SetAccessorExcludes=74687]="SetAccessorExcludes",t[t.TypeParameterExcludes=530920]="TypeParameterExcludes",t[t.TypeAliasExcludes=793064]="TypeAliasExcludes",t[t.AliasExcludes=2097152]="AliasExcludes",t[t.ModuleMember=2623475]="ModuleMember",t[t.ExportHasLocal=944]="ExportHasLocal",t[t.HasExports=1952]="HasExports",t[t.HasMembers=6240]="HasMembers",t[t.BlockScoped=418]="BlockScoped",t[t.PropertyOrAccessor=98308]="PropertyOrAccessor",t[t.ClassMember=106500]="ClassMember",t[t.Classifiable=788448]="Classifiable",(t=e.EnumKind||(e.EnumKind={}))[t.Numeric=0]="Numeric",t[t.Literal=1]="Literal",(t=e.CheckFlags||(e.CheckFlags={}))[t.Instantiated=1]="Instantiated",t[t.SyntheticProperty=2]="SyntheticProperty",t[t.SyntheticMethod=4]="SyntheticMethod",t[t.Readonly=8]="Readonly",t[t.Partial=16]="Partial",t[t.HasNonUniformType=32]="HasNonUniformType",t[t.ContainsPublic=64]="ContainsPublic",t[t.ContainsProtected=128]="ContainsProtected",t[t.ContainsPrivate=256]="ContainsPrivate",t[t.ContainsStatic=512]="ContainsStatic",t[t.Synthetic=6]="Synthetic",(t=e.InternalSymbolName||(e.InternalSymbolName={})).Call="__call",t.Constructor="__constructor",t.New="__new",t.Index="__index",t.ExportStar="__export",t.Global="__global",t.Missing="__missing",t.Type="__type",t.Object="__object",t.JSXAttributes="__jsxAttributes",t.Class="__class",t.Function="__function",t.Computed="__computed",t.Resolving="__resolving__",t.ExportEquals="export=",t.Default="default",(t=e.NodeCheckFlags||(e.NodeCheckFlags={}))[t.TypeChecked=1]="TypeChecked",t[t.LexicalThis=2]="LexicalThis",t[t.CaptureThis=4]="CaptureThis",t[t.CaptureNewTarget=8]="CaptureNewTarget",t[t.SuperInstance=256]="SuperInstance",t[t.SuperStatic=512]="SuperStatic",t[t.ContextChecked=1024]="ContextChecked",t[t.AsyncMethodWithSuper=2048]="AsyncMethodWithSuper",t[t.AsyncMethodWithSuperBinding=4096]="AsyncMethodWithSuperBinding",t[t.CaptureArguments=8192]="CaptureArguments",t[t.EnumValuesComputed=16384]="EnumValuesComputed",t[t.LexicalModuleMergesWithClass=32768]="LexicalModuleMergesWithClass",t[t.LoopWithCapturedBlockScopedBinding=65536]="LoopWithCapturedBlockScopedBinding",t[t.CapturedBlockScopedBinding=131072]="CapturedBlockScopedBinding",t[t.BlockScopedBindingInLoop=262144]="BlockScopedBindingInLoop",t[t.ClassWithBodyScopedClassBinding=524288]="ClassWithBodyScopedClassBinding",t[t.BodyScopedClassBinding=1048576]="BodyScopedClassBinding",t[t.NeedsLoopOutParameter=2097152]="NeedsLoopOutParameter",t[t.AssignmentsMarked=4194304]="AssignmentsMarked",t[t.ClassWithConstructorReference=8388608]="ClassWithConstructorReference",t[t.ConstructorReferenceInClass=16777216]="ConstructorReferenceInClass",(t=e.TypeFlags||(e.TypeFlags={}))[t.Any=1]="Any",t[t.String=2]="String",t[t.Number=4]="Number",t[t.Boolean=8]="Boolean",t[t.Enum=16]="Enum",t[t.StringLiteral=32]="StringLiteral",t[t.NumberLiteral=64]="NumberLiteral",t[t.BooleanLiteral=128]="BooleanLiteral",t[t.EnumLiteral=256]="EnumLiteral",t[t.ESSymbol=512]="ESSymbol",t[t.Void=1024]="Void",t[t.Undefined=2048]="Undefined",t[t.Null=4096]="Null",t[t.Never=8192]="Never",t[t.TypeParameter=16384]="TypeParameter",t[t.Object=32768]="Object",t[t.Union=65536]="Union",t[t.Intersection=131072]="Intersection",t[t.Index=262144]="Index",t[t.IndexedAccess=524288]="IndexedAccess",t[t.FreshLiteral=1048576]="FreshLiteral",t[t.ContainsWideningType=2097152]="ContainsWideningType",t[t.ContainsObjectLiteral=4194304]="ContainsObjectLiteral",t[t.ContainsAnyFunctionType=8388608]="ContainsAnyFunctionType",t[t.NonPrimitive=16777216]="NonPrimitive",t[t.JsxAttributes=33554432]="JsxAttributes",t[t.MarkerType=67108864]="MarkerType",t[t.Nullable=6144]="Nullable",t[t.Literal=224]="Literal",t[t.Unit=6368]="Unit",t[t.StringOrNumberLiteral=96]="StringOrNumberLiteral",t[t.DefinitelyFalsy=7392]="DefinitelyFalsy",t[t.PossiblyFalsy=7406]="PossiblyFalsy",t[t.Intrinsic=16793231]="Intrinsic",t[t.Primitive=8190]="Primitive",t[t.StringLike=262178]="StringLike",t[t.NumberLike=84]="NumberLike",t[t.BooleanLike=136]="BooleanLike",t[t.EnumLike=272]="EnumLike",t[t.UnionOrIntersection=196608]="UnionOrIntersection",t[t.StructuredType=229376]="StructuredType",t[t.StructuredOrTypeVariable=1032192]="StructuredOrTypeVariable",t[t.TypeVariable=540672]="TypeVariable",t[t.Narrowable=17810175]="Narrowable",t[t.NotUnionOrUnit=16810497]="NotUnionOrUnit",t[t.RequiresWidening=6291456]="RequiresWidening",t[t.PropagatingFlags=14680064]="PropagatingFlags",(t=e.ObjectFlags||(e.ObjectFlags={}))[t.Class=1]="Class",t[t.Interface=2]="Interface",t[t.Reference=4]="Reference",t[t.Tuple=8]="Tuple",t[t.Anonymous=16]="Anonymous",t[t.Mapped=32]="Mapped",t[t.Instantiated=64]="Instantiated",t[t.ObjectLiteral=128]="ObjectLiteral",t[t.EvolvingArray=256]="EvolvingArray",t[t.ObjectLiteralPatternWithComputedProperties=512]="ObjectLiteralPatternWithComputedProperties",t[t.ClassOrInterface=3]="ClassOrInterface",(t=e.Variance||(e.Variance={}))[t.Invariant=0]="Invariant",t[t.Covariant=1]="Covariant",t[t.Contravariant=2]="Contravariant",t[t.Bivariant=3]="Bivariant",t[t.Independent=4]="Independent",(t=e.SignatureKind||(e.SignatureKind={}))[t.Call=0]="Call",t[t.Construct=1]="Construct",(t=e.IndexKind||(e.IndexKind={}))[t.String=0]="String",t[t.Number=1]="Number",(t=e.InferencePriority||(e.InferencePriority={}))[t.Contravariant=1]="Contravariant",t[t.NakedTypeVariable=2]="NakedTypeVariable",t[t.MappedType=4]="MappedType",t[t.ReturnType=8]="ReturnType",(t=e.InferenceFlags||(e.InferenceFlags={}))[t.InferUnionTypes=1]="InferUnionTypes",t[t.NoDefault=2]="NoDefault",t[t.AnyDefault=4]="AnyDefault",(t=e.Ternary||(e.Ternary={}))[t.False=0]="False",t[t.Maybe=1]="Maybe",t[t.True=-1]="True",(t=e.SpecialPropertyAssignmentKind||(e.SpecialPropertyAssignmentKind={}))[t.None=0]="None",t[t.ExportsProperty=1]="ExportsProperty",t[t.ModuleExports=2]="ModuleExports",t[t.PrototypeProperty=3]="PrototypeProperty",t[t.ThisProperty=4]="ThisProperty",t[t.Property=5]="Property",(t=e.DiagnosticCategory||(e.DiagnosticCategory={}))[t.Warning=0]="Warning",t[t.Error=1]="Error",t[t.Message=2]="Message",(t=e.ModuleResolutionKind||(e.ModuleResolutionKind={}))[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",(t=e.ModuleKind||(e.ModuleKind={}))[t.None=0]="None",t[t.CommonJS=1]="CommonJS",t[t.AMD=2]="AMD",t[t.UMD=3]="UMD",t[t.System=4]="System",t[t.ES2015=5]="ES2015",t[t.ESNext=6]="ESNext",(t=e.JsxEmit||(e.JsxEmit={}))[t.None=0]="None",t[t.Preserve=1]="Preserve",t[t.React=2]="React",t[t.ReactNative=3]="ReactNative",(t=e.NewLineKind||(e.NewLineKind={}))[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",(t=e.ScriptKind||(e.ScriptKind={}))[t.Unknown=0]="Unknown",t[t.JS=1]="JS",t[t.JSX=2]="JSX",t[t.TS=3]="TS",t[t.TSX=4]="TSX",t[t.External=5]="External",t[t.JSON=6]="JSON",(t=e.ScriptTarget||(e.ScriptTarget={}))[t.ES3=0]="ES3",t[t.ES5=1]="ES5",t[t.ES2015=2]="ES2015",t[t.ES2016=3]="ES2016",t[t.ES2017=4]="ES2017",t[t.ESNext=5]="ESNext",t[t.Latest=5]="Latest",(t=e.LanguageVariant||(e.LanguageVariant={}))[t.Standard=0]="Standard",t[t.JSX=1]="JSX",(t=e.DiagnosticStyle||(e.DiagnosticStyle={}))[t.Simple=0]="Simple",t[t.Pretty=1]="Pretty",(t=e.WatchDirectoryFlags||(e.WatchDirectoryFlags={}))[t.None=0]="None",t[t.Recursive=1]="Recursive",(t=e.CharacterCodes||(e.CharacterCodes={}))[t.nullCharacter=0]="nullCharacter",t[t.maxAsciiCharacter=127]="maxAsciiCharacter",t[t.lineFeed=10]="lineFeed",t[t.carriageReturn=13]="carriageReturn",t[t.lineSeparator=8232]="lineSeparator",t[t.paragraphSeparator=8233]="paragraphSeparator",t[t.nextLine=133]="nextLine",t[t.space=32]="space",t[t.nonBreakingSpace=160]="nonBreakingSpace",t[t.enQuad=8192]="enQuad",t[t.emQuad=8193]="emQuad",t[t.enSpace=8194]="enSpace",t[t.emSpace=8195]="emSpace",t[t.threePerEmSpace=8196]="threePerEmSpace",t[t.fourPerEmSpace=8197]="fourPerEmSpace",t[t.sixPerEmSpace=8198]="sixPerEmSpace",t[t.figureSpace=8199]="figureSpace",t[t.punctuationSpace=8200]="punctuationSpace",t[t.thinSpace=8201]="thinSpace",t[t.hairSpace=8202]="hairSpace",t[t.zeroWidthSpace=8203]="zeroWidthSpace",t[t.narrowNoBreakSpace=8239]="narrowNoBreakSpace",t[t.ideographicSpace=12288]="ideographicSpace",t[t.mathematicalSpace=8287]="mathematicalSpace",t[t.ogham=5760]="ogham",t[t._=95]="_",t[t.$=36]="$",t[t._0=48]="_0",t[t._1=49]="_1",t[t._2=50]="_2",t[t._3=51]="_3",t[t._4=52]="_4",t[t._5=53]="_5",t[t._6=54]="_6",t[t._7=55]="_7",t[t._8=56]="_8",t[t._9=57]="_9",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.g=103]="g",t[t.h=104]="h",t[t.i=105]="i",t[t.j=106]="j",t[t.k=107]="k",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.p=112]="p",t[t.q=113]="q",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.v=118]="v",t[t.w=119]="w",t[t.x=120]="x",t[t.y=121]="y",t[t.z=122]="z",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.ampersand=38]="ampersand",t[t.asterisk=42]="asterisk",t[t.at=64]="at",t[t.backslash=92]="backslash",t[t.backtick=96]="backtick",t[t.bar=124]="bar",t[t.caret=94]="caret",t[t.closeBrace=125]="closeBrace",t[t.closeBracket=93]="closeBracket",t[t.closeParen=41]="closeParen",t[t.colon=58]="colon",t[t.comma=44]="comma",t[t.dot=46]="dot",t[t.doubleQuote=34]="doubleQuote",t[t.equals=61]="equals",t[t.exclamation=33]="exclamation",t[t.greaterThan=62]="greaterThan",t[t.hash=35]="hash",t[t.lessThan=60]="lessThan",t[t.minus=45]="minus",t[t.openBrace=123]="openBrace",t[t.openBracket=91]="openBracket",t[t.openParen=40]="openParen",t[t.percent=37]="percent",t[t.plus=43]="plus",t[t.question=63]="question",t[t.semicolon=59]="semicolon",t[t.singleQuote=39]="singleQuote",t[t.slash=47]="slash",t[t.tilde=126]="tilde",t[t.backspace=8]="backspace",t[t.formFeed=12]="formFeed",t[t.byteOrderMark=65279]="byteOrderMark",t[t.tab=9]="tab",t[t.verticalTab=11]="verticalTab",(t=e.Extension||(e.Extension={})).Ts=".ts",t.Tsx=".tsx",t.Dts=".d.ts",t.Js=".js",t.Jsx=".jsx",t.Json=".json",(t=e.TransformFlags||(e.TransformFlags={}))[t.None=0]="None",t[t.TypeScript=1]="TypeScript",t[t.ContainsTypeScript=2]="ContainsTypeScript",t[t.ContainsJsx=4]="ContainsJsx",t[t.ContainsESNext=8]="ContainsESNext",t[t.ContainsES2017=16]="ContainsES2017",t[t.ContainsES2016=32]="ContainsES2016",t[t.ES2015=64]="ES2015",t[t.ContainsES2015=128]="ContainsES2015",t[t.Generator=256]="Generator",t[t.ContainsGenerator=512]="ContainsGenerator",t[t.DestructuringAssignment=1024]="DestructuringAssignment",t[t.ContainsDestructuringAssignment=2048]="ContainsDestructuringAssignment",t[t.ContainsDecorators=4096]="ContainsDecorators",t[t.ContainsPropertyInitializer=8192]="ContainsPropertyInitializer",t[t.ContainsLexicalThis=16384]="ContainsLexicalThis",t[t.ContainsCapturedLexicalThis=32768]="ContainsCapturedLexicalThis",t[t.ContainsLexicalThisInComputedPropertyName=65536]="ContainsLexicalThisInComputedPropertyName",t[t.ContainsDefaultValueAssignments=131072]="ContainsDefaultValueAssignments",t[t.ContainsParameterPropertyAssignments=262144]="ContainsParameterPropertyAssignments",t[t.ContainsSpread=524288]="ContainsSpread",t[t.ContainsObjectSpread=1048576]="ContainsObjectSpread",t[t.ContainsRest=524288]="ContainsRest",t[t.ContainsObjectRest=1048576]="ContainsObjectRest",t[t.ContainsComputedPropertyName=2097152]="ContainsComputedPropertyName",t[t.ContainsBlockScopedBinding=4194304]="ContainsBlockScopedBinding",t[t.ContainsBindingPattern=8388608]="ContainsBindingPattern",t[t.ContainsYield=16777216]="ContainsYield",t[t.ContainsHoistedDeclarationOrCompletion=33554432]="ContainsHoistedDeclarationOrCompletion",t[t.ContainsDynamicImport=67108864]="ContainsDynamicImport",t[t.HasComputedFlags=536870912]="HasComputedFlags",t[t.AssertTypeScript=3]="AssertTypeScript",t[t.AssertJsx=4]="AssertJsx",t[t.AssertESNext=8]="AssertESNext",t[t.AssertES2017=16]="AssertES2017",t[t.AssertES2016=32]="AssertES2016",t[t.AssertES2015=192]="AssertES2015",t[t.AssertGenerator=768]="AssertGenerator",t[t.AssertDestructuringAssignment=3072]="AssertDestructuringAssignment",t[t.NodeExcludes=536872257]="NodeExcludes",t[t.ArrowFunctionExcludes=601249089]="ArrowFunctionExcludes",t[t.FunctionExcludes=601281857]="FunctionExcludes",t[t.ConstructorExcludes=601015617]="ConstructorExcludes",t[t.MethodOrAccessorExcludes=601015617]="MethodOrAccessorExcludes",t[t.ClassExcludes=539358529]="ClassExcludes",t[t.ModuleExcludes=574674241]="ModuleExcludes",t[t.TypeExcludes=-3]="TypeExcludes",t[t.ObjectLiteralExcludes=540087617]="ObjectLiteralExcludes",t[t.ArrayLiteralOrCallOrNewExcludes=537396545]="ArrayLiteralOrCallOrNewExcludes",t[t.VariableDeclarationListExcludes=546309441]="VariableDeclarationListExcludes",t[t.ParameterExcludes=536872257]="ParameterExcludes",t[t.CatchClauseExcludes=537920833]="CatchClauseExcludes",t[t.BindingPatternExcludes=537396545]="BindingPatternExcludes",t[t.TypeScriptClassSyntaxMask=274432]="TypeScriptClassSyntaxMask",t[t.ES2015FunctionSyntaxMask=163840]="ES2015FunctionSyntaxMask",(t=e.EmitFlags||(e.EmitFlags={}))[t.SingleLine=1]="SingleLine",t[t.AdviseOnEmitNode=2]="AdviseOnEmitNode",t[t.NoSubstitution=4]="NoSubstitution",t[t.CapturesThis=8]="CapturesThis",t[t.NoLeadingSourceMap=16]="NoLeadingSourceMap",t[t.NoTrailingSourceMap=32]="NoTrailingSourceMap",t[t.NoSourceMap=48]="NoSourceMap",t[t.NoNestedSourceMaps=64]="NoNestedSourceMaps",t[t.NoTokenLeadingSourceMaps=128]="NoTokenLeadingSourceMaps",t[t.NoTokenTrailingSourceMaps=256]="NoTokenTrailingSourceMaps",t[t.NoTokenSourceMaps=384]="NoTokenSourceMaps",t[t.NoLeadingComments=512]="NoLeadingComments",t[t.NoTrailingComments=1024]="NoTrailingComments",t[t.NoComments=1536]="NoComments",t[t.NoNestedComments=2048]="NoNestedComments",t[t.HelperName=4096]="HelperName",t[t.ExportName=8192]="ExportName",t[t.LocalName=16384]="LocalName",t[t.InternalName=32768]="InternalName",t[t.Indented=65536]="Indented",t[t.NoIndentation=131072]="NoIndentation",t[t.AsyncFunctionBody=262144]="AsyncFunctionBody",t[t.ReuseTempVariableScope=524288]="ReuseTempVariableScope",t[t.CustomPrologue=1048576]="CustomPrologue",t[t.NoHoisting=2097152]="NoHoisting",t[t.HasEndOfDeclarationMarker=4194304]="HasEndOfDeclarationMarker",t[t.Iterator=8388608]="Iterator",t[t.NoAsciiEscaping=16777216]="NoAsciiEscaping",t[t.TypeScriptClassWrapper=33554432]="TypeScriptClassWrapper",(t=e.ExternalEmitHelpers||(e.ExternalEmitHelpers={}))[t.Extends=1]="Extends",t[t.Assign=2]="Assign",t[t.Rest=4]="Rest",t[t.Decorate=8]="Decorate",t[t.Metadata=16]="Metadata",t[t.Param=32]="Param",t[t.Awaiter=64]="Awaiter",t[t.Generator=128]="Generator",t[t.Values=256]="Values",t[t.Read=512]="Read",t[t.Spread=1024]="Spread",t[t.Await=2048]="Await",t[t.AsyncGenerator=4096]="AsyncGenerator",t[t.AsyncDelegator=8192]="AsyncDelegator",t[t.AsyncValues=16384]="AsyncValues",t[t.ExportStar=32768]="ExportStar",t[t.MakeTemplateObject=65536]="MakeTemplateObject",t[t.FirstEmitHelper=1]="FirstEmitHelper",t[t.LastEmitHelper=65536]="LastEmitHelper",t[t.ForOfIncludes=256]="ForOfIncludes",t[t.ForAwaitOfIncludes=16384]="ForAwaitOfIncludes",t[t.AsyncGeneratorIncludes=6144]="AsyncGeneratorIncludes",t[t.AsyncDelegatorIncludes=26624]="AsyncDelegatorIncludes",t[t.SpreadIncludes=1536]="SpreadIncludes",(t=e.EmitHint||(e.EmitHint={}))[t.SourceFile=0]="SourceFile",t[t.Expression=1]="Expression",t[t.IdentifierName=2]="IdentifierName",t[t.MappedTypeParameter=3]="MappedTypeParameter",t[t.Unspecified=4]="Unspecified"}(ts=ts||{}),(ts||(ts={})).timestamp="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:Date.now||function(){return+new Date},function(r){var e,t,i,a,n,s,o;e=r.performance||(r.performance={}),n="function"==typeof onProfilerEvent&&!0===onProfilerEvent.profiler?onProfilerEvent:function(e){},s=!1,o=0,e.mark=function(e){s&&(i.set(e,r.timestamp()),t.set(e,(t.get(e)||0)+1),n(e))},e.measure=function(e,t,n){s&&(n=n&&i.get(n)||r.timestamp(),t=t&&i.get(t)||o,a.set(e,(a.get(e)||0)+(n-t)))},e.getCount=function(e){return t&&t.get(e)||0},e.getDuration=function(e){return a&&a.get(e)||0},e.forEachMeasure=function(n){a.forEach(function(e,t){n(t,e)})},e.enable=function(){t=r.createMap(),i=r.createMap(),a=r.createMap(),s=!0,o=r.timestamp()},e.disable=function(){s=!1}}(ts=ts||{}),function(e){e.versionMajorMinor="2.6",e.version=e.versionMajorMinor+".1"}(ts=ts||{}),function(t){t.isExternalModuleNameRelative=function(e){return t.pathIsRelative(e)||t.isRootedDiskPath(e)}}(ts=ts||{}),function(g){function R(){var e=Object.create(null);return e.__=void 0,delete e.__,e}function h(){return new r}g.collator="object"==typeof Intl&&"function"==typeof Intl.Collator?new Intl.Collator(void 0,{usage:"sort",sensitivity:"accent"}):void 0,g.localeCompareIsCorrect=g.collator&&g.collator.compare("a","B")<0,g.createMap=h,g.createUnderscoreEscapedMap=function(){return new r},g.createSymbolTable=function(e){var t=h();if(e)for(var n=0,r=e;n<r.length;n++){var i=r[n];t.set(i.escapedName,i)}return t},g.createMapFromTemplate=function(e){var t,n=new r;for(t in e)c.call(e,t)&&n.set(t,e[t]);return n};var e,r="undefined"!=typeof Map&&"entries"in Map.prototype?Map:(M.prototype.next=function(){var e=this.index;return e<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[e]),done:!1}):{value:void 0,done:!0}},e=M,t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,t){return this.has(e)||this.size++,this.data[e]=t,this},t.prototype.has=function(e){return e in this.data},t.prototype.delete=function(e){return!!this.has(e)&&(this.size--,delete this.data[e],!0)},t.prototype.clear=function(){this.data=R(),this.size=0},t.prototype.keys=function(){return new e(this.data,function(e,t){return t})},t.prototype.values=function(){return new e(this.data,function(e,t){return e[t]})},t.prototype.entries=function(){return new e(this.data,function(e,t){return[t,e[t]]})},t.prototype.forEach=function(e){for(var t in this.data)e(this.data[t],t)},t);function t(){this.data=R(),this.size=0}function M(e,t){this.index=0,this.data=e,this.selector=t,this.keys=Object.keys(e)}function n(e,t){if(e)for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r)return r}}function i(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t(r,n))return r}}function U(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n))return n;return-1}function a(e,t){if(e)for(var n=0,r=e;n<r.length;n++)if(r[n]===t)return!0;return!1}function B(e,t,n){for(var r=n||0;r<e.length;r++)if(a(t,e.charCodeAt(r)))return r;return-1}function j(e,t){for(var n=0,r=0;r<e.length;r++)t(e[r],r,e)&&(e[n]=e[r],n++);e.length=n}function y(e,t){if(e)for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}function K(e){if(e)for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];i&&(l(i)?o(t,i):t.push(i))}return t}function z(e,t){if(e)for(var n=[],r=0;r<e.length;r++){var i=t(e[r],r);i&&(l(i)?o(n,i):n.push(i))}return n}function v(e,t){if(e){if(!t)return 0<e.length;for(var n=0,r=e;n<r.length;n++)if(t(r[n]))return!0}return!1}function $(e,t){var n;if(e){n=[];e:for(var r=0,i=e;r<i.length;r++){for(var a=i[r],s=0,o=n;s<o.length;s++){var c=o[s];if(t?t(c,a):c===a)continue e}n.push(a)}}return n}function s(e,t,n){if(!e||!t)return e===t;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!(n?n(e[r],t[r]):e[r]===t[r]))return!1;return!0}function J(e,t){return t<0?e.length+t:t}function o(e,t,n,r){if(void 0!==t&&0!==t.length){if(void 0===e)return t.slice(n,r);n=void 0===n?0:J(t,n),r=void 0===r?t.length:J(t,r);for(var i=n;i<r&&i<t.length;i++)void 0!==t[i]&&e.push(t[i])}return e}function q(e,t){return!a(e,t)&&(e.push(t),!0)}function V(e,t){if(e&&(t=J(e,t))<e.length)return e[t]}function b(e){return V(e,-1)}function H(e,t,n,r,i){if(e&&0<e.length){var a=e.length;if(0<a){var s=void 0===r||r<0?0:r,o=void 0===i||a-1<s+i?a-1:s+i,c=void 0;for(arguments.length<=2?(c=e[s],s++):c=n;s<=o;)c=t(c,e[s],s),s++;return c}}return n}g.toPath=function(e,t,n){return n(T(e)?S(e):_e(e,t))},(O=g.Comparison||(g.Comparison={}))[O.LessThan=-1]="LessThan",O[O.EqualTo=0]="EqualTo",O[O.GreaterThan=1]="GreaterThan",g.length=function(e){return e?e.length:0},g.forEach=n,g.firstDefined=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(void 0!==r)return r}},g.findAncestor=function(e,t){for(;e;){var n=t(e);if("quit"===n)return;if(n)return e;e=e.parent}},g.zipWith=function(e,t,n){var r=[];I.assert(e.length===t.length);for(var i=0;i<e.length;i++)r.push(n(e[i],t[i],i));return r},g.zipToMap=function(e,t){I.assert(e.length===t.length);for(var n=h(),r=0;r<e.length;++r)n.set(e[r],t[r]);return n},g.every=function(e,t){if(e)for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0},g.find=i,g.findLast=function(e,t){for(var n=e.length-1;0<=n;n--){var r=e[n];if(t(r,n))return r}},g.findIndex=U,g.findMap=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r)return r}I.fail()},g.contains=a,g.indexOf=function(e,t){if(e)for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},g.indexOfAnyCharCode=B,g.countWhere=function(e,t){var n=0;if(e)for(var r=0;r<e.length;r++)t(e[r],r)&&n++;return n},g.filter=function(e,t){if(e){for(var n=e.length,r=0;r<n&&t(e[r]);)r++;if(r<n){var i=e.slice(0,r);for(r++;r<n;){var a=e[r];t(a)&&i.push(a),r++}return i}}return e},g.filterMutate=j,g.clear=function(e){e.length=0},g.map=y,g.sameMap=function(e,t){var n,r;if(e)for(var i=0;i<e.length;i++)n?n.push(t(e[i],i)):(r=e[i])!==(r=t(r,i))&&(n=e.slice(0,i)).push(r);return n||e},g.flatten=K,g.flatMap=z,g.flatMapIter=function(e,t){for(var n=[];;){var r=e.next(),i=r.value;if(r.done)break;r=t(i);r&&(l(r)?n.push.apply(n,r):n.push(r))}return n},g.sameFlatMap=function(e,t){var n;if(e)for(var r=0;r<e.length;r++){var i=e[r],a=t(i,r);(n||i!==a||l(a))&&(n=n||e.slice(0,r),l(a)?o(n,a):n.push(a))}return n||e},g.mapDefined=function(e,t){var n=[];if(e)for(var r=0;r<e.length;r++){var i=t(e[r],r);void 0!==i&&n.push(i)}return n},g.mapDefinedIter=function(e,t){for(var n=[];;){var r=e.next(),i=r.value;if(r.done)break;r=t(i);void 0!==r&&n.push(r)}return n},g.span=function(e,t){if(e){for(var n=0;n<e.length;n++)if(!t(e[n],n))return[e.slice(0,n),e.slice(n)];return[e.slice(0),[]]}},g.spanMap=function(e,t,n){if(e)for(var r,i=[],a=e.length,s=void 0,o=void 0,c=0,l=0;c<a;){for(;l<a;){if(o=t(e[l],l),0===l)s=o;else if(o!==s)break;l++}c<l&&((r=n(e.slice(c,l),s,c,l))&&i.push(r),c=l),s=o,l++}return i},g.mapEntries=function(e,n){var r;if(e)return r=h(),e.forEach(function(e,t){t=n(t,e),e=t[0],t=t[1];r.set(e,t)}),r},g.some=v,g.concatenate=function(e,t){return v(t)?v(e)?e.concat(t):t:e},g.deduplicate=$,g.arrayIsEqualTo=s,g.changesAffectModuleResolution=function(e,t){return!(e&&e.module===t.module&&e.moduleResolution===t.moduleResolution&&e.noResolve===t.noResolve&&e.target===t.target&&e.noLib===t.noLib&&e.jsx===t.jsx&&e.allowJs===t.allowJs&&e.rootDir===t.rootDir&&e.configFilePath===t.configFilePath&&e.baseUrl===t.baseUrl&&e.maxNodeModuleJsDepth===t.maxNodeModuleJsDepth&&s(e.lib,t.lib)&&s(e.typeRoots,t.typeRoots)&&s(e.rootDirs,t.rootDirs)&&Q(e.paths,t.paths))},g.compact=function(e){var t;if(e)for(var n=0;n<e.length;n++){var r=e[n];!t&&r||(t=t||e.slice(0,n),r&&t.push(r))}return t||e},g.relativeComplement=function(e,t,n,r,i){if(void 0===n&&(n=_),void 0===r&&(r=0),void 0===i&&(i=0),!t||!e||0===t.length||0===e.length)return t;var a=[];e:for(;i<t.length;i++){t:for(;r<e.length;r++)switch(n(t[i],e[r])){case-1:break t;case 0:continue e;case 1:continue}a.push(t[i])}return a},g.sum=function(e,t){for(var n=0,r=0,i=e;r<i.length;r++)n+=i[r][t];return n},g.append=function(e,t){return void 0===t?e:void 0===e?[t]:(e.push(t),e)},g.addRange=o,g.pushIfUnique=q,g.appendIfUnique=function(e,t){return e?(q(e,t),e):[t]},g.stableSort=function(n,r){return void 0===r&&(r=_),n.map(function(e,t){return t}).sort(function(e,t){return r(n[e],n[t])||_(e,t)}).map(function(e){return n[e]})},g.rangeEquals=function(e,t,n,r){for(;n<r;){if(e[n]!==t[n])return!1;n++}return!0},g.elementAt=V,g.firstOrUndefined=function(e){return V(e,0)},g.first=function(e){return I.assert(0!==e.length),e[0]},g.lastOrUndefined=b,g.last=function(e){return I.assert(0!==e.length),e[e.length-1]},g.singleOrUndefined=function(e){return e&&1===e.length?e[0]:void 0},g.singleOrMany=function(e){return e&&1===e.length?e[0]:e},g.replaceElement=function(e,t,n){e=e.slice(0);return e[t]=n,e},g.binarySearch=function(e,t,n,r){if(!e||0===e.length)return-1;var i=r||0,a=e.length-1;for(n=void 0!==n?n:function(e,t){return e<t?-1:t<e?1:0};i<=a;){var s=i+(a-i>>1),o=e[s];if(0===n(o,t))return s;0<n(o,t)?a=s-1:i=s+1}return~i},g.reduceLeft=H,g.reduceRight=function(e,t,n,r,i){if(e){var a=e.length;if(0<a){var s=void 0===r||a-1<r?a-1:r,o=void 0===i||s-i<0?0:s-i,c=void 0;for(arguments.length<=2?(c=e[s],s--):c=n;o<=s;)c=t(c,e[s],s),s--;return c}}return n};var c=Object.prototype.hasOwnProperty;function G(e,t){return c.call(e,t)}function W(e,n){e.forEach(function(e,t){n.set(t,e)})}function Q(e,t,n){if(e!==t){if(!e||!t)return!1;for(var r in e)if(c.call(e,r)&&(c.call(t,r),n?!n(e[r],t[r]):e[r]!==t[r]))return!1;for(var r in t)if(c.call(t,r)&&!c.call(e,r))return!1}return!0}function Y(e,t,n){for(var r=h(),i=0,a=e;i<a.length;i++){var s=a[i];r.set(t(s),n?n(s):s)}return r}function X(e,t){var n=this.get(e);return n?n.push(t):this.set(e,n=[t]),n}function Z(e,t){var n=this.get(e);n&&(Qe(n,t),n.length||this.delete(e))}function l(e){return Array.isArray?Array.isArray(e):e instanceof Array}function u(e){return"string"==typeof e}function ee(e){var t;return function(){return e&&(t=e(),e=void 0),t}}function d(t,n,r,i,e){if(e){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return function(e){return H(a,function(e,t){return t(e)},e)}}return i?function(e){return i(r(n(t(e))))}:r?function(e){return r(n(t(e)))}:n?function(e){return n(t(e))}:t?function(e){return t(e)}:function(e){return e}}function p(e,n,r){return r=r||0,e.replace(/{(\d+)}/g,function(e,t){return n[+t+r]})}function f(e){return g.localizedDiagnosticMessages&&g.localizedDiagnosticMessages[e.key]||e.message}function _(e,t){return e===t?0:void 0===e||void 0!==t&&e<t?-1:1}function x(e,t,n){if(e===t)return 0;if(void 0===e)return-1;if(void 0===t)return 1;if(n){if(g.collator)return(n=g.localeCompareIsCorrect?g.collator.compare(e,t):e.localeCompare(t,void 0,{usage:"sort",sensitivity:"accent"}))<0?-1:0<n?1:0;if((e=e.toUpperCase())===(t=t.toUpperCase()))return 0}return e<t?-1:1}function te(e,t){return x(e,t,!0)}function ne(e){return e.file?e.file.fileName:void 0}function re(e,t){return _(ne(e),ne(t))||_(e.start,t.start)||_(e.length,t.length)||_(e.code,t.code)||function(e,t){for(;e&&t;){var n=_(u(e)?e:e.messageText,u(t)?t:t.messageText);if(n)return n;e=u(e)?void 0:e.next,t=u(t)?void 0:t.next}return e||t?e?1:-1:0}(e.messageText,t.messageText)||0}function ie(e){if(e.length<2)return e;for(var t=[e[0]],n=e[0],r=1;r<e.length;r++){var i=e[r];0!==re(i,n)&&(t.push(i),n=i)}return t}function m(e){return e.replace(/\\/g,"/")}function k(e){var t,n;return 47===e.charCodeAt(0)?47!==e.charCodeAt(1)?1:(n=e.indexOf("/",2))<0?2:(t=e.indexOf("/",n+1))<0?n+1:t+1:58===e.charCodeAt(1)?47===e.charCodeAt(2)?3:2:0===e.lastIndexOf("file:///",0)?"file:///".length:-1!==(n=e.indexOf("://"))?n+"://".length:0}function ae(e,t){for(var n=[],r=0,i=e.substr(t).split(g.directorySeparator);r<i.length;r++){var a=i[r];"."!==a&&(".."===a&&0<n.length&&".."!==b(n)?n.pop():a&&n.push(a))}return n}function S(e){return se(e).path}function se(e){var t,n=k(e=m(e)),r=e.substr(0,n),n=ae(e,n);return n.length?(t=r+n.join(g.directorySeparator),{path:oe(e)?t+g.directorySeparator:t,parts:n}):{path:r,parts:n}}function oe(e){return 47===e.charCodeAt(e.length-1)}function ce(e){return e.substr(0,Math.max(k(e),e.lastIndexOf(g.directorySeparator)))}function le(e){return e&&!T(e)&&xe(e,"://")}function ue(e){return e.target||0}function de(e){return"number"==typeof e.module?e.module:2<=ue(e)?g.ModuleKind.ES2015:g.ModuleKind.CommonJS}function pe(e){for(var t=!1,n=0;n<e.length;n++)if(42===e.charCodeAt(n)){if(t)return!1;t=!0}return!0}function T(e){return e&&0!==k(e)}function fe(e,t){var n=ae(e,t);return[e.substr(0,t)].concat(n)}function C(e,t){var n=k(e=m(e));return 0===n&&(n=k(e=D(m(t),e))),fe(e,n)}function _e(e,t){return me(C(e,t))}function me(e){if(e&&e.length)return e[0]+e.slice(1).join(g.directorySeparator)}function ge(e,t){if(le(e)){for(var n,r=e,i=r.length,a=r.indexOf("://")+"://".length;a<i&&47===r.charCodeAt(a);)a++;return a===i?[r]:-1!==(n=r.indexOf(g.directorySeparator,a))?fe(r,a=n+1):[r+g.directorySeparator]}return C(e,t)}function he(e,t,n,r,i){var a,s=ge(t,n),o=ge(e,n);for(1<o.length&&""===b(o)&&o.pop(),a=0;a<s.length&&a<o.length&&r(o[a])===r(s[a]);a++);if(a){for(var c="",t=s.slice(a,s.length);a<o.length;a++)""!==o[a]&&(c=c+".."+g.directorySeparator);return c+t.join(g.directorySeparator)}e=me(s);return e=i&&T(e)?"file:///"+e:e}function E(e){var t;if(void 0!==e)return(t=e.lastIndexOf(g.directorySeparator))<0?e:e.substring(t+1)}function D(e,t){return e&&e.length?t&&t.length?0!==k(t)?t:e.charAt(e.length-1)===g.directorySeparator?e+t:e+g.directorySeparator+t:e:t}function A(e){return e.charAt(e.length-1)===g.directorySeparator?e.substr(0,e.length-1):e}function ye(e,t,n,r){if(void 0===e||void 0===t)return!1;if(e!==t&&(e=A(e))!==(t=A(t))){var i=C(e,n),a=C(t,n);if(a.length<i.length)return!1;for(var s=0;s<i.length;s++)if(0!==x(i[s],a[s],r))return!1}return!0}function ve(e,t){return 0===e.lastIndexOf(t,0)}function be(e,t){var n=e.length-t.length;return 0<=n&&e.indexOf(t,n)===n}function xe(e,t){return-1!==e.indexOf(t)}function ke(e){return xe(E(e),".")}function N(e,t){return e.length>t.length&&be(e,t)}function Se(e,t){for(var n=0,r=t;n<r.length;n++)if(N(e,r[n]))return!0;return!1}g.hasProperty=G,g.getProperty=function(e,t){return c.call(e,t)?e[t]:void 0},g.getOwnKeys=function(e){var t,n=[];for(t in e)c.call(e,t)&&n.push(t);return n},g.getOwnValues=function(e){var t,n=[];for(t in e)c.call(e,t)&&n.push(e[t]);return n},g.arrayFrom=function(e,t){for(var n,r=[],i=e.next(),a=i.value,s=i.done;!s;a=(n=e.next()).value,s=n.done)r.push(t?t(a):a);return r},g.forEachEntry=function(e,t){for(var n=e.entries(),e=n.next(),r=e.value,i=e.done;!i;r=(a=n.next()).value,i=a.done){var a=r[0],a=t(r[1],a);if(a)return a}},g.forEachKey=function(e,t){for(var n=e.keys(),e=n.next(),r=e.value,i=e.done;!i;r=(a=n.next()).value,i=a.done){var a=t(r);if(a)return a}},g.copyEntries=W,g.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a,s=i[r];for(a in s)G(s,a)&&(e[a]=s[a])}return e},g.equalOwnProperties=Q,g.arrayToMap=Y,g.arrayToNumericMap=function(e,t){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];n[t(a)]=a}return n},g.arrayToSet=function(e,t){return Y(e,t||function(e){return e},function(){return!0})},g.cloneMap=function(e){var t=h();return W(e,t),t},g.clone=function(e){var t,n={};for(t in e)c.call(e,t)&&(n[t]=e[t]);return n},g.extend=function(e,t){var n,r={};for(n in t)c.call(t,n)&&(r[n]=t[n]);for(n in e)c.call(e,n)&&(r[n]=e[n]);return r},g.createMultiMap=function(){var e=h();return e.add=X,e.remove=Z,e},g.isArray=l,g.isString=u,g.tryCast=function(e,t){return void 0!==e&&t(e)?e:void 0},g.cast=function(e,t){if(void 0!==e&&t(e))return e;I.fail("Invalid cast. The supplied value did not pass the test '"+I.getFunctionName(t)+"'.")},g.noop=function(){},g.returnFalse=function(){return!1},g.returnTrue=function(){return!0},g.identity=function(e){return e},g.notImplemented=function(){throw new Error("Not implemented")},g.memoize=ee,g.chain=function(t,n,r,i,e){if(e){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return function(t){return d.apply(void 0,y(a,function(e){return e(t)}))}}return i?function(e){return d(t(e),n(e),r(e),i(e))}:r?function(e){return d(t(e),n(e),r(e))}:n?function(e){return d(t(e),n(e))}:t?function(e){return d(t(e))}:function(e){return function(e){return e}}},g.compose=d,g.formatStringFromArgs=p,g.localizedDiagnosticMessages=void 0,g.getLocaleSpecificMessage=f,g.createFileDiagnostic=function(e,t,n,r){I.assertGreaterThanOrEqual(t,0),I.assertGreaterThanOrEqual(n,0),e&&(I.assertLessThanOrEqual(t,e.text.length),I.assertLessThanOrEqual(t+n,e.text.length));var i=f(r);return{file:e,start:t,length:n,messageText:i=4<arguments.length?p(i,arguments,4):i,category:r.category,code:r.code}},g.formatMessage=function(e,t){t=f(t);return t=2<arguments.length?p(t,arguments,2):t},g.createCompilerDiagnostic=function(e){var t=f(e);return{file:void 0,start:void 0,length:void 0,messageText:t=1<arguments.length?p(t,arguments,1):t,category:e.category,code:e.code}},g.createCompilerDiagnosticFromMessageChain=function(e){return{file:void 0,start:void 0,length:void 0,code:e.code,category:e.category,messageText:e.next?e:e.messageText}},g.chainDiagnosticMessages=function(e,t){var n=f(t);return{messageText:n=2<arguments.length?p(n,arguments,2):n,category:t.category,code:t.code,next:e}},g.concatenateDiagnosticMessageChains=function(e,t){for(var n=e;n.next;)n=n.next;return n.next=t,e},g.compareValues=_,g.compareStrings=x,g.compareStringsCaseInsensitive=te,g.compareDiagnostics=re,g.sortAndDeduplicateDiagnostics=function(e){return ie(e.sort(re))},g.deduplicateSortedDiagnostics=ie,g.normalizeSlashes=m,g.getRootLength=k,g.directorySeparator="/",g.normalizePath=S,g.normalizePathAndParts=se,g.pathEndsWithDirectorySeparator=oe,g.getDirectoryPath=ce,g.isUrl=le,g.pathIsRelative=function(e){return/^\.\.?($|[\\/])/.test(e)},g.moduleHasNonRelativeName=function(e){return!g.isExternalModuleNameRelative(e)},g.getEmitScriptTarget=ue,g.getEmitModuleKind=de,g.getEmitModuleResolutionKind=function(e){var t=e.moduleResolution;return t=void 0===t?de(e)===g.ModuleKind.CommonJS?g.ModuleResolutionKind.NodeJs:g.ModuleResolutionKind.Classic:t},g.hasZeroOrOneAsteriskCharacter=pe,g.isRootedDiskPath=T,g.convertToRelativePath=function(e,t,n){return T(e)?he(t,e,t,n,!1):e},g.getNormalizedPathComponents=C,g.getNormalizedAbsolutePath=_e,g.getNormalizedPathFromPathComponents=me,g.getRelativePathToDirectoryOrUrl=he,g.getBaseFileName=E,g.combinePaths=D,g.removeTrailingDirectorySeparator=A,g.ensureTrailingDirectorySeparator=function(e){return e.charAt(e.length-1)!==g.directorySeparator?e+g.directorySeparator:e},g.comparePaths=function(e,t,n,r){if(e===t)return 0;if(void 0===e)return-1;if(void 0===t)return 1;e=A(e),t=A(t);for(var i=C(e,n),a=C(t,n),s=Math.min(i.length,a.length),o=0;o<s;o++){var c=x(i[o],a[o],r);if(0!==c)return c}return _(i.length,a.length)},g.containsPath=ye,g.startsWith=ve,g.removePrefix=function(e,t){return ve(e,t)?e.substr(t.length):e},g.endsWith=be,g.stringContains=xe,g.hasExtension=ke,g.fileExtensionIs=N,g.fileExtensionIsOneOf=Se;var Te=/[^\w\s\/]/g,Ce=[42,63],Ee=(g.commonPackageFolders=["node_modules","bower_components","jspm_packages"],"(?!("+g.commonPackageFolders.join("|")+")(/|$))"),De={singleAsteriskRegexFragment:"([^./]|(\\.(?!min\\.js$))?)*",doubleAsteriskRegexFragment:"(/"+Ee+"[^/.][^/]*)*?",replaceWildcardCharacter:function(e){return Oe(e,De.singleAsteriskRegexFragment)}},Ae={singleAsteriskRegexFragment:"[^/]*",doubleAsteriskRegexFragment:"(/"+Ee+"[^/.][^/]*)*?",replaceWildcardCharacter:function(e){return Oe(e,Ae.singleAsteriskRegexFragment)}},Ne={singleAsteriskRegexFragment:"[^/]*",doubleAsteriskRegexFragment:"(/.+?)?",replaceWildcardCharacter:function(e){return Oe(e,Ne.singleAsteriskRegexFragment)}},we={files:De,directories:Ae,exclude:Ne};function w(e,t,n){e=Ie(e,t,n);if(e&&e.length)return"^("+e.map(function(e){return"("+e+")"}).join("|")+")"+("exclude"===n?"($|/)":"$")}function Ie(e,m,t){if(void 0!==e&&0!==e.length)return z(e,function(_){return _&&function(e,t){var n=t.singleAsteriskRegexFragment,r=t.doubleAsteriskRegexFragment,i=t.replaceWildcardCharacter,a="",s=!1,o=!1,t=C(_,m),c=b(t);if("exclude"===e||"**"!==c){t[0]=A(t[0]),Pe(c)&&t.push("**","*");for(var l=0,u=0,d=t;u<d.length;u++){var p,f=d[u];if("**"===f){if(s)return;a+=r,s=!0}else"directories"===e&&(a+="(",l++),o&&(a+=g.directorySeparator),"exclude"!==e?(p="",42===f.charCodeAt(0)?(p+="([^./]"+n+")?",f=f.substr(1)):63===f.charCodeAt(0)&&(p+="[^./]",f=f.substr(1)),(p+=f.replace(Te,i))!==f&&(a+=Ee),a+=p):a+=f.replace(Te,i);o=!0}for(;0<l;)a+=")?",l--;return a}}(t,we[t])})}function Pe(e){return!/[.*?]/.test(e)}function Oe(e,t){return"*"===e?t:"?"===e?"[^/]":"\\"+e}function Fe(e,t,n,r,i){e=S(e);i=D(i=S(i),e);return{includeFilePatterns:y(Ie(n,i,"files"),function(e){return"^"+e+"$"}),includeFilePattern:w(n,i,"files"),includeDirectoryPattern:w(n,i,"directories"),excludePattern:w(t,i,"exclude"),basePaths:function(n,e,r){var i=[n];if(e){for(var t=[],a=0,s=e;a<s.length;a++){var o=s[a],o=T(o)?o:S(D(n,o));t.push(function(e){var t=B(e,Ce);return t<0?ke(e)?A(ce(e)):e:e.substring(0,e.lastIndexOf(g.directorySeparator,t))}(o))}t.sort(r?x:te);for(var c=0,l=t;c<l.length;c++)!function(t){g.every(i,function(e){return!ye(e,t,n,!r)})&&i.push(t)}(l[c])}return i}(e,n,r)}}function Le(e,_,t,n,r,i,a,m){for(var e=Fe(e=S(e),t,n,r,i=S(i)),s=r?"":"i",g=e.includeFilePatterns&&e.includeFilePatterns.map(function(e){return new RegExp(e,s)}),h=e.includeDirectoryPattern&&new RegExp(e.includeDirectoryPattern,s),y=e.excludePattern&&new RegExp(e.excludePattern,s),v=g?g.map(function(){return[]}):[[]],b=r?x:te,o=0,c=e.basePaths;o<c.length;o++){var l=c[o];!function e(r,i,t){for(var n=m(r),a=n.files,n=n.directories,s=function(e){var t=D(r,e),n=D(i,e);return _&&!Se(t,_)||y&&y.test(n)?"continue":void(g?-1!==(e=U(g,function(e){return e.test(n)}))&&v[e].push(t):v[0].push(t))},o=0,c=a=a.slice().sort(b);o<c.length;o++)s(d=c[o]);if(void 0===t||0!=--t)for(var l=0,u=n=n.slice().sort(b);l<u.length;l++){var d=u[l],p=D(r,d),f=D(i,d);h&&!h.test(f)||y&&y.test(f)||e(p,f,t)}}(l,D(i,l),a)}return K(v)}function Re(e){switch(e.substr(e.lastIndexOf(".")).toLowerCase()){case".js":return 1;case".jsx":return 2;case".ts":return 3;case".tsx":return 4;case".json":return 6;default:return 0}}g.getRegularExpressionForWildcard=w,g.isImplicitGlob=Pe,g.getFileMatcherPatterns=Fe,g.matchFiles=Le,g.ensureScriptKind=function(e,t){return t||Re(e)||3},g.getScriptKindFromFileName=Re,g.supportedTypeScriptExtensions=[".ts",".tsx",".d.ts"],g.supportedTypescriptExtensionsForExtractExtension=[".d.ts",".ts",".tsx"],g.supportedJavascriptExtensions=[".js",".jsx"];var Me=g.supportedTypeScriptExtensions.concat(g.supportedJavascriptExtensions);function Ue(e,t){e=e&&e.allowJs;return t&&0!==t.length&&e?$(Me.concat(t.map(function(e){return e.extension}))):e?Me:g.supportedTypeScriptExtensions}function Be(e,t){return e<2?0:e<t.length?2:t.length}g.getSupportedExtensions=Ue,g.hasJavaScriptFileExtension=function(t){return n(g.supportedJavascriptExtensions,function(e){return N(t,e)})},g.hasTypeScriptFileExtension=function(t){return n(g.supportedTypeScriptExtensions,function(e){return N(t,e)})},g.isSupportedSourceFileName=function(e,t,n){if(e)for(var r=0,i=Ue(t,n);r<i.length;r++)if(N(e,i[r]))return!0;return!1},(O=g.ExtensionPriority||(g.ExtensionPriority={}))[O.TypeScriptFiles=0]="TypeScriptFiles",O[O.DeclarationAndJavaScriptFiles=2]="DeclarationAndJavaScriptFiles",O[O.Highest=0]="Highest",O[O.Lowest=2]="Lowest",g.getExtensionPriority=function(e,t){for(var n=t.length-1;0<=n;n--)if(N(e,t[n]))return Be(n,t);return 0},g.adjustExtensionPriority=Be,g.getNextLowestExtensionPriority=function(e,t){return e<2?2:t.length};var I,P,O,je=[".d.ts",".ts",".js",".tsx",".jsx"];function Ke(e){for(var t=0,n=je;t<n.length;t++){var r=ze(e,n[t]);if(void 0!==r)return r}return e}function ze(e,t){return N(e,t)?$e(e,t):void 0}function $e(e,t){return e.substring(0,e.length-t.length)}function Je(e,t){this.flags=e,this.escapedName=t,this.declarations=void 0}function qe(e,t){this.flags=t,I.isDebugging&&(this.checker=e)}function Ve(){}function F(e,t,n){this.id=0,this.kind=e,this.pos=t,this.end=n,this.flags=0,this.modifierFlagsCache=0,this.transformFlags=0,this.parent=void 0,this.original=void 0}function He(e,t,n){this.fileName=e,this.text=t,this.skipTrivia=n||function(e){return e}}function Ge(e,t){for(var n=t;n<e.length-1;n++)e[n]=e[n+1];e.pop()}function We(e,t){e[t]=e[e.length-1],e.pop()}function Qe(e,t){for(var n=e,r=0;r<n.length;r++)if(n[r]===t){We(n,r);break}}function Ye(e){return e?function(e){return e}:function(e){return e.toLowerCase()}}function Xe(e,t,n){for(var r=void 0,i=-1,a=0,s=e;a<s.length;a++){var o=s[a],c=t(o);Ze(c,n)&&c.prefix.length>i&&(i=c.prefix.length,r=o)}return r}function Ze(e,t){var n=e.prefix,e=e.suffix;return t.length>=n.length+e.length&&ve(t,n)&&be(t,e)}function et(e){I.assert(pe(e));var t=e.indexOf("*");return-1===t?void 0:{prefix:e.substr(0,t),suffix:e.substr(t+1)}}function tt(t){return i(g.supportedTypescriptExtensionsForExtractExtension,function(e){return N(t,e)})||i(g.supportedJavascriptExtensions,function(e){return N(t,e)})}function L(e,t){e=new Error(e?"Debug Failure. "+e:"Debug Failure.");throw Error.captureStackTrace&&Error.captureStackTrace(e,t||L),e}g.removeFileExtension=Ke,g.tryRemoveExtension=ze,g.removeExtension=$e,g.changeExtension=function(e,t){return Ke(e)+t},g.objectAllocator={getNodeConstructor:function(){return F},getTokenConstructor:function(){return F},getIdentifierConstructor:function(){return F},getSourceFileConstructor:function(){return F},getSymbolConstructor:function(){return Je},getTypeConstructor:function(){return qe},getSignatureConstructor:function(){return Ve},getSourceMapSourceConstructor:function(){return He}},(O=g.AssertionLevel||(g.AssertionLevel={}))[O.None=0]="None",O[O.Normal=1]="Normal",O[O.Aggressive=2]="Aggressive",O[O.VeryAggressive=3]="VeryAggressive",(P=I=g.Debug||(g.Debug={})).currentAssertionLevel=0,P.isDebugging=!1,P.shouldAssert=function(e){return P.currentAssertionLevel>=e},P.assert=function e(t,n,r,i){t||(r&&(n+="\r\nVerbose Debug Information: "+("string"==typeof r?r:r())),L(n?"False expression: "+n:"False expression.",i||e))},P.assertEqual=function(e,t,n,r){e!==t&&L("Expected "+e+" === "+t+". "+(n?r?n+" "+r:n:""))},P.assertLessThan=function(e,t,n){t<=e&&L("Expected "+e+" < "+t+". "+(n||""))},P.assertLessThanOrEqual=function(e,t){t<e&&L("Expected "+e+" <= "+t)},P.assertGreaterThanOrEqual=function(e,t){e<t&&L("Expected "+e+" >= "+t)},P.fail=L,P.assertNever=function e(t,n,r){return L(n||"Illegal value: "+t,r||e)},P.getFunctionName=function(e){return"function"!=typeof e?"":e.hasOwnProperty("name")?e.name:(e=Function.prototype.toString.call(e),(e=/^function\s+([\w\$]+)\s*\(/.exec(e))?e[1]:"")},g.orderedRemoveItem=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return Ge(e,n),!0;return!1},g.orderedRemoveItemAt=Ge,g.unorderedRemoveItemAt=We,g.unorderedRemoveItem=Qe,g.createGetCanonicalFileName=Ye,g.matchPatternOrExact=function(e,t){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r],s=et(a);if(s)n.push(s);else if(a===t)return a}return Xe(n,function(e){return e},t)},g.patternText=function(e){return e.prefix+"*"+e.suffix},g.matchedText=function(e,t){return I.assert(Ze(e,t)),t.substr(e.prefix.length,t.length-e.suffix.length)},g.findBestPatternMatch=Xe,g.tryParsePattern=et,g.positionIsSynthesized=function(e){return!(0<=e)},g.extensionIsTypeScript=function(e){return".ts"===e||".tsx"===e||".d.ts"===e},g.extensionFromPath=function(e){var t=tt(e);if(void 0!==t)return t;I.fail("File "+e+" has unknown extension.")},g.isAnySupportedFileExtension=function(e){return void 0!==tt(e)},g.tryGetExtensionFromPath=tt,g.getAnyExtensionFromPath=function(e){var e=E(e),t=e.lastIndexOf(".");if(0<=t)return e.substring(t)},g.isCheckJsEnabledForFile=function(e,t){return e.checkJsDirective?e.checkJsDirective.enabled:t.checkJs},g.and=function(t,n){return function(e){return t(e)&&n(e)}},g.assertTypeIsNever=function(e){},g.createCachedDirectoryStructureHost=function(o){var r=h(),c=ee(function(){return o.getCurrentDirectory()}),n=Ye(o.useCaseSensitiveFileNames);return{useCaseSensitiveFileNames:o.useCaseSensitiveFileNames,newLine:o.newLine,readFile:function(e,t){return o.readFile(e,t)},write:function(e){return o.write(e)},writeFile:function(e,t,n){var r=i(l(e));return r&&m(r,a(e),!0),o.writeFile(e,t,n)},fileExists:function(e){var t=i(l(e));return t&&f(t.files,a(e))||o.fileExists(e)},directoryExists:function(e){var t=l(e);return r.has(t)||o.directoryExists(e)},createDirectory:function(e){var t=i(l(e)),n=a(e);t&&_(t.directories,n,!0),o.createDirectory(e)},getCurrentDirectory:c,getDirectories:function(e){var t=p(e,l(e));return t?t.directories.slice():o.getDirectories(e)},readDirectory:function(e,t,n,r,i){var a=l(e),s=p(e,a);return s?Le(e,t,n,r,o.useCaseSensitiveFileNames,c(),i,function(e){var t=l(e);return t===a?s:u(t)||d(e,t)}):o.readDirectory(e,t,n,r,i)},addOrDeleteFileOrDirectory:function(e,t){if(u(t))o.directoryExists(e)||r.delete(t);else{var n=i(t);if(n){e=a(e);if(n)return m(n,e,(t={fileExists:o.fileExists(t),directoryExists:o.directoryExists(t)}).fileExists),_(n.directories,e,t.directoryExists),t}}},addOrDeleteFile:function(e,t,n){n!==g.FileWatcherEventKind.Changed&&(t=i(t))&&m(t,a(e),n===g.FileWatcherEventKind.Created)},clearCache:function(){r.clear()},exit:function(e){return o.exit(e)}};function l(e){return g.toPath(e,c(),n)}function u(e){return r.get(e)}function i(e){return u(ce(e))}function a(e){return E(S(e))}function d(e,t){e={files:y(o.readDirectory(e,void 0,void 0,["*.*"]),a)||[],directories:o.getDirectories(e)||[]};return r.set(t,e),e}function p(e,t){var n=u(t);if(n)return n;try{return d(e,t)}catch(e){I.assert(!r.has(t))}}function s(e,t){return n(e)===n(t)}function f(e,t){return v(e,function(e){return s(e,t)})}function _(e,t,n){f(e,t)?n||j(e,function(e){return!s(e,t)}):n&&e.push(t)}function m(e,t,n){_(e.files,t,n)}}}(ts=ts||{}),function(l){var c,i,a,r,o,u,t,n,s,d,p,e,f,_,m;function g(){if("undefined"!=typeof process){var e=process.version;if(e){var t=e.indexOf(".");if(-1!==t)return parseInt(e.substring(1,t))}}}function h(i,a,e){return u.watchFile(i,{persistent:!0,interval:e||250},t),{close:function(){return u.unwatchFile(i,t)}};function t(e,t){var n=0==+e.mtime,r=0==+t.mtime,n=!n&&r?c.Created:n&&!r?c.Deleted:c.Changed;n===c.Changed&&+e.mtime<=+t.mtime||a(i,n)}}function y(n,r,t){var i,a=(k(n)?s:o)();return{close:function(){a.close()}};function s(){void 0===i&&(i=!p||"win32"!==process.platform&&"darwin"!==process.platform?{persistent:!0}:{persistent:!0,recursive:!!t});var e=u.watch(n,i,r);return e.on("error",function(){k(n)||(a=o(),r("rename",""))}),e}function o(){return h(n,function(e,t){t===c.Created&&k(n)&&(a.close(),a=s(),r("rename",""))})}}function v(e){try{for(var t=u.readdirSync(e||".").sort(),n=[],r=[],i=0,a=t;i<a.length;i++){var s=a[i];if("."!==s&&".."!==s){var o=l.combinePaths(e,s),c=void 0;try{c=u.statSync(o)}catch(e){continue}c.isFile()?n.push(s):c.isDirectory()&&r.push(s)}}return{files:n,directories:r}}catch(e){return{files:[],directories:[]}}}function b(e,t){try{var n=u.statSync(e);switch(t){case 0:return n.isFile();case 1:return n.isDirectory()}}catch(e){return!1}}function x(e){return b(e,0)}function k(e){return b(e,1)}l.setStackTraceLimit=function(){Error.stackTraceLimit<100&&(Error.stackTraceLimit=100)},(m=c=l.FileWatcherEventKind||(l.FileWatcherEventKind={}))[m.Created=0]="Created",m[m.Changed=1]="Changed",m[m.Deleted=2]="Deleted",l.getNodeMajorVersion=g,l.sys=("undefined"!=typeof ChakraHost?i={newLine:ChakraHost.newLine||"\r\n",args:ChakraHost.args,useCaseSensitiveFileNames:!!ChakraHost.useCaseSensitiveFileNames,write:ChakraHost.echo,readFile:function(e,t){return ChakraHost.readFile(e)},writeFile:function(e,t,n){n&&(t="\ufeff"+t),ChakraHost.writeFile(e,t)},resolvePath:ChakraHost.resolvePath,fileExists:ChakraHost.fileExists,directoryExists:ChakraHost.directoryExists,createDirectory:ChakraHost.createDirectory,getExecutingFilePath:function(){return ChakraHost.executingFile},getCurrentDirectory:function(){return ChakraHost.currentDirectory},getDirectories:ChakraHost.getDirectories,getEnvironmentVariable:ChakraHost.getEnvironmentVariable||function(){return""},readDirectory:function(e,t,n,r,i){n=l.getFileMatcherPatterns(e,n,r,!!ChakraHost.useCaseSensitiveFileNames,ChakraHost.currentDirectory);return ChakraHost.readDirectory(e,t,n.basePaths,n.excludePattern,n.includeFilePattern,n.includeDirectoryPattern)},exit:ChakraHost.quit,realpath:ChakraHost.realpath&&function(e){return ChakraHost.realpath(e)}}:"undefined"!=typeof process&&process.nextTick&&!process.browser&&"undefined"!=typeof require&&(u=require("fs"),t=require("path"),m=require("os"),n=require("crypto"),s=process.env.TSC_NONPOLLING_WATCHER,r=l.createMap(),o=l.createMultiMap(),d={addFile:function(e,t){return o.add(e,t),s=l.getDirectoryPath(e),(n=r.get(s))?n.referenceCount+=1:((n=y(s||".",function(e,t){var n=s,r=l.isString(t)?l.getNormalizedAbsolutePath(t,n):void 0;if("change"===e||"rename"===e){t=o.get(r);if(t)for(var i=0,a=t;i<a.length;i++)(0,a[i])(r,c.Changed)}})).referenceCount=1,r.set(s,n)),{fileName:e,callback:t};var s,n},removeFile:function(e){var t=e.fileName,n=e.callback;o.remove(t,n),t=e.fileName,n=l.getDirectoryPath(t),(e=r.get(n))&&(--e.referenceCount,e.referenceCount<=0)&&(e.close(),r.delete(n))}},p=4<=g(),e=m.platform(),f="win32"!==e&&"win64"!==e&&!x(__filename.replace(/\w/g,function(e){var t=e.toUpperCase();return e===t?e.toLowerCase():t})),_={args:process.argv.slice(2),newLine:m.EOL,useCaseSensitiveFileNames:f,write:function(e){process.stdout.write(e)},readFile:function(e,t){if(x(e)){var n=u.readFileSync(e),r=n.length;if(2<=r&&254===n[0]&&255===n[1]){r&=-2;for(var i=0;i<r;i+=2){var a=n[i];n[i]=n[i+1],n[i+1]=a}return n.toString("utf16le",2)}return 2<=r&&255===n[0]&&254===n[1]?n.toString("utf16le",2):3<=r&&239===n[0]&&187===n[1]&&191===n[2]?n.toString("utf8",3):n.toString("utf8")}},writeFile:function(e,t,n){var r;n&&(t="\ufeff"+t);try{r=u.openSync(e,"w"),u.writeSync(r,t,void 0,"utf8")}finally{void 0!==r&&u.closeSync(r)}},watchFile:function(e,t,n){var r;return s?(r=d.addFile(e,t),{close:function(){return d.removeFile(r)}}):h(e,t,n)},watchDirectory:function(n,r,e){return y(n,function(e,t){"rename"===e&&r(t&&l.normalizePath(l.combinePaths(n,t)))},e)},resolvePath:function(e){return t.resolve(e)},fileExists:x,directoryExists:k,createDirectory:function(e){_.directoryExists(e)||u.mkdirSync(e)},getExecutingFilePath:function(){return __filename},getCurrentDirectory:function(){return process.cwd()},getDirectories:function(t){return l.filter(u.readdirSync(t),function(e){return b(l.combinePaths(t,e),1)})},getEnvironmentVariable:function(e){return process.env[e]||""},readDirectory:function(e,t,n,r,i){return l.matchFiles(e,t,n,r,f,process.cwd(),i,v)},getModifiedTime:function(e){try{return u.statSync(e).mtime}catch(e){}},createHash:function(e){var t=n.createHash("md5");return t.update(e),t.digest("hex")},getMemoryUsage:function(){return global.gc&&global.gc(),process.memoryUsage().heapUsed},getFileSize:function(e){try{var t=u.statSync(e);if(t.isFile())return t.size}catch(e){}return 0},exit:function(e){process.exit(e)},realpath:function(e){return u.realpathSync(e)},debugMode:l.some(process.execArgv,function(e){return/^--(inspect|debug)(-brk)?(=\d+)?$/i.test(e)}),tryEnableSourceMapsForHost:function(){try{require("source-map-support").install()}catch(e){}},setTimeout:setTimeout,clearTimeout:clearTimeout},i=_),i&&(a=i.writeFile,i.writeFile=function(e,t,n){var r=l.getDirectoryPath(l.normalizeSlashes(e));r&&!i.directoryExists(r)&&function e(t,n){var r=l.getDirectoryPath(t),i=""!==r&&t!==r&&!n.directoryExists(r);i&&e(r,n),!i&&n.directoryExists(t)||n.createDirectory(t)}(r,i),a.call(i,e,t,n)}),i),l.sys&&l.sys.getEnvironmentVariable&&(l.Debug.currentAssertionLevel=/^development$/i.test(l.sys.getEnvironmentVariable("NODE_ENV"))?1:0),l.sys&&l.sys.debugMode&&(l.Debug.isDebugging=!0)}(ts=ts||{}),function(e){function t(e,t,n,r){return{code:e,category:t,key:n,message:r}}e.Diagnostics={Unterminated_string_literal:t(1002,e.DiagnosticCategory.Error,"Unterminated_string_literal_1002","Unterminated string literal."),Identifier_expected:t(1003,e.DiagnosticCategory.Error,"Identifier_expected_1003","Identifier expected."),_0_expected:t(1005,e.DiagnosticCategory.Error,"_0_expected_1005","'{0}' expected."),A_file_cannot_have_a_reference_to_itself:t(1006,e.DiagnosticCategory.Error,"A_file_cannot_have_a_reference_to_itself_1006","A file cannot have a reference to itself."),Trailing_comma_not_allowed:t(1009,e.DiagnosticCategory.Error,"Trailing_comma_not_allowed_1009","Trailing comma not allowed."),Asterisk_Slash_expected:t(1010,e.DiagnosticCategory.Error,"Asterisk_Slash_expected_1010","'*/' expected."),Unexpected_token:t(1012,e.DiagnosticCategory.Error,"Unexpected_token_1012","Unexpected token."),A_rest_parameter_must_be_last_in_a_parameter_list:t(1014,e.DiagnosticCategory.Error,"A_rest_parameter_must_be_last_in_a_parameter_list_1014","A rest parameter must be last in a parameter list."),Parameter_cannot_have_question_mark_and_initializer:t(1015,e.DiagnosticCategory.Error,"Parameter_cannot_have_question_mark_and_initializer_1015","Parameter cannot have question mark and initializer."),A_required_parameter_cannot_follow_an_optional_parameter:t(1016,e.DiagnosticCategory.Error,"A_required_parameter_cannot_follow_an_optional_parameter_1016","A required parameter cannot follow an optional parameter."),An_index_signature_cannot_have_a_rest_parameter:t(1017,e.DiagnosticCategory.Error,"An_index_signature_cannot_have_a_rest_parameter_1017","An index signature cannot have a rest parameter."),An_index_signature_parameter_cannot_have_an_accessibility_modifier:t(1018,e.DiagnosticCategory.Error,"An_index_signature_parameter_cannot_have_an_accessibility_modifier_1018","An index signature parameter cannot have an accessibility modifier."),An_index_signature_parameter_cannot_have_a_question_mark:t(1019,e.DiagnosticCategory.Error,"An_index_signature_parameter_cannot_have_a_question_mark_1019","An index signature parameter cannot have a question mark."),An_index_signature_parameter_cannot_have_an_initializer:t(1020,e.DiagnosticCategory.Error,"An_index_signature_parameter_cannot_have_an_initializer_1020","An index signature parameter cannot have an initializer."),An_index_signature_must_have_a_type_annotation:t(1021,e.DiagnosticCategory.Error,"An_index_signature_must_have_a_type_annotation_1021","An index signature must have a type annotation."),An_index_signature_parameter_must_have_a_type_annotation:t(1022,e.DiagnosticCategory.Error,"An_index_signature_parameter_must_have_a_type_annotation_1022","An index signature parameter must have a type annotation."),An_index_signature_parameter_type_must_be_string_or_number:t(1023,e.DiagnosticCategory.Error,"An_index_signature_parameter_type_must_be_string_or_number_1023","An index signature parameter type must be 'string' or 'number'."),readonly_modifier_can_only_appear_on_a_property_declaration_or_index_signature:t(1024,e.DiagnosticCategory.Error,"readonly_modifier_can_only_appear_on_a_property_declaration_or_index_signature_1024","'readonly' modifier can only appear on a property declaration or index signature."),Accessibility_modifier_already_seen:t(1028,e.DiagnosticCategory.Error,"Accessibility_modifier_already_seen_1028","Accessibility modifier already seen."),_0_modifier_must_precede_1_modifier:t(1029,e.DiagnosticCategory.Error,"_0_modifier_must_precede_1_modifier_1029","'{0}' modifier must precede '{1}' modifier."),_0_modifier_already_seen:t(1030,e.DiagnosticCategory.Error,"_0_modifier_already_seen_1030","'{0}' modifier already seen."),_0_modifier_cannot_appear_on_a_class_element:t(1031,e.DiagnosticCategory.Error,"_0_modifier_cannot_appear_on_a_class_element_1031","'{0}' modifier cannot appear on a class element."),super_must_be_followed_by_an_argument_list_or_member_access:t(1034,e.DiagnosticCategory.Error,"super_must_be_followed_by_an_argument_list_or_member_access_1034","'super' must be followed by an argument list or member access."),Only_ambient_modules_can_use_quoted_names:t(1035,e.DiagnosticCategory.Error,"Only_ambient_modules_can_use_quoted_names_1035","Only ambient modules can use quoted names."),Statements_are_not_allowed_in_ambient_contexts:t(1036,e.DiagnosticCategory.Error,"Statements_are_not_allowed_in_ambient_contexts_1036","Statements are not allowed in ambient contexts."),A_declare_modifier_cannot_be_used_in_an_already_ambient_context:t(1038,e.DiagnosticCategory.Error,"A_declare_modifier_cannot_be_used_in_an_already_ambient_context_1038","A 'declare' modifier cannot be used in an already ambient context."),Initializers_are_not_allowed_in_ambient_contexts:t(1039,e.DiagnosticCategory.Error,"Initializers_are_not_allowed_in_ambient_contexts_1039","Initializers are not allowed in ambient contexts."),_0_modifier_cannot_be_used_in_an_ambient_context:t(1040,e.DiagnosticCategory.Error,"_0_modifier_cannot_be_used_in_an_ambient_context_1040","'{0}' modifier cannot be used in an ambient context."),_0_modifier_cannot_be_used_with_a_class_declaration:t(1041,e.DiagnosticCategory.Error,"_0_modifier_cannot_be_used_with_a_class_declaration_1041","'{0}' modifier cannot be used with a class declaration."),_0_modifier_cannot_be_used_here:t(1042,e.DiagnosticCategory.Error,"_0_modifier_cannot_be_used_here_1042","'{0}' modifier cannot be used here."),_0_modifier_cannot_appear_on_a_data_property:t(1043,e.DiagnosticCategory.Error,"_0_modifier_cannot_appear_on_a_data_property_1043","'{0}' modifier cannot appear on a data property."),_0_modifier_cannot_appear_on_a_module_or_namespace_element:t(1044,e.DiagnosticCategory.Error,"_0_modifier_cannot_appear_on_a_module_or_namespace_element_1044","'{0}' modifier cannot appear on a module or namespace element."),A_0_modifier_cannot_be_used_with_an_interface_declaration:t(1045,e.DiagnosticCategory.Error,"A_0_modifier_cannot_be_used_with_an_interface_declaration_1045","A '{0}' modifier cannot be used with an interface declaration."),A_declare_modifier_is_required_for_a_top_level_declaration_in_a_d_ts_file:t(1046,e.DiagnosticCategory.Error,"A_declare_modifier_is_required_for_a_top_level_declaration_in_a_d_ts_file_1046","A 'declare' modifier is required for a top level declaration in a .d.ts file."),A_rest_parameter_cannot_be_optional:t(1047,e.DiagnosticCategory.Error,"A_rest_parameter_cannot_be_optional_1047","A rest parameter cannot be optional."),A_rest_parameter_cannot_have_an_initializer:t(1048,e.DiagnosticCategory.Error,"A_rest_parameter_cannot_have_an_initializer_1048","A rest parameter cannot have an initializer."),A_set_accessor_must_have_exactly_one_parameter:t(1049,e.DiagnosticCategory.Error,"A_set_accessor_must_have_exactly_one_parameter_1049","A 'set' accessor must have exactly one parameter."),A_set_accessor_cannot_have_an_optional_parameter:t(1051,e.DiagnosticCategory.Error,"A_set_accessor_cannot_have_an_optional_parameter_1051","A 'set' accessor cannot have an optional parameter."),A_set_accessor_parameter_cannot_have_an_initializer:t(1052,e.DiagnosticCategory.Error,"A_set_accessor_parameter_cannot_have_an_initializer_1052","A 'set' accessor parameter cannot have an initializer."),A_set_accessor_cannot_have_rest_parameter:t(1053,e.DiagnosticCategory.Error,"A_set_accessor_cannot_have_rest_parameter_1053","A 'set' accessor cannot have rest parameter."),A_get_accessor_cannot_have_parameters:t(1054,e.DiagnosticCategory.Error,"A_get_accessor_cannot_have_parameters_1054","A 'get' accessor cannot have parameters."),Type_0_is_not_a_valid_async_function_return_type_in_ES5_SlashES3_because_it_does_not_refer_to_a_Promise_compatible_constructor_value:t(1055,e.DiagnosticCategory.Error,"Type_0_is_not_a_valid_async_function_return_type_in_ES5_SlashES3_because_it_does_not_refer_to_a_Prom_1055","Type '{0}' is not a valid async function return type in ES5/ES3 because it does not refer to a Promise-compatible constructor value."),Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher:t(1056,e.DiagnosticCategory.Error,"Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher_1056","Accessors are only available when targeting ECMAScript 5 and higher."),An_async_function_or_method_must_have_a_valid_awaitable_return_type:t(1057,e.DiagnosticCategory.Error,"An_async_function_or_method_must_have_a_valid_awaitable_return_type_1057","An async function or method must have a valid awaitable return type."),The_return_type_of_an_async_function_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member:t(1058,e.DiagnosticCategory.Error,"The_return_type_of_an_async_function_must_either_be_a_valid_promise_or_must_not_contain_a_callable_t_1058","The return type of an async function must either be a valid promise or must not contain a callable 'then' member."),A_promise_must_have_a_then_method:t(1059,e.DiagnosticCategory.Error,"A_promise_must_have_a_then_method_1059","A promise must have a 'then' method."),The_first_parameter_of_the_then_method_of_a_promise_must_be_a_callback:t(1060,e.DiagnosticCategory.Error,"The_first_parameter_of_the_then_method_of_a_promise_must_be_a_callback_1060","The first parameter of the 'then' method of a promise must be a callback."),Enum_member_must_have_initializer:t(1061,e.DiagnosticCategory.Error,"Enum_member_must_have_initializer_1061","Enum member must have initializer."),Type_is_referenced_directly_or_indirectly_in_the_fulfillment_callback_of_its_own_then_method:t(1062,e.DiagnosticCategory.Error,"Type_is_referenced_directly_or_indirectly_in_the_fulfillment_callback_of_its_own_then_method_1062","Type is referenced directly or indirectly in the fulfillment callback of its own 'then' method."),An_export_assignment_cannot_be_used_in_a_namespace:t(1063,e.DiagnosticCategory.Error,"An_export_assignment_cannot_be_used_in_a_namespace_1063","An export assignment cannot be used in a namespace."),The_return_type_of_an_async_function_or_method_must_be_the_global_Promise_T_type:t(1064,e.DiagnosticCategory.Error,"The_return_type_of_an_async_function_or_method_must_be_the_global_Promise_T_type_1064","The return type of an async function or method must be the global Promise<T> type."),In_ambient_enum_declarations_member_initializer_must_be_constant_expression:t(1066,e.DiagnosticCategory.Error,"In_ambient_enum_declarations_member_initializer_must_be_constant_expression_1066","In ambient enum declarations member initializer must be constant expression."),Unexpected_token_A_constructor_method_accessor_or_property_was_expected:t(1068,e.DiagnosticCategory.Error,"Unexpected_token_A_constructor_method_accessor_or_property_was_expected_1068","Unexpected token. A constructor, method, accessor, or property was expected."),_0_modifier_cannot_appear_on_a_type_member:t(1070,e.DiagnosticCategory.Error,"_0_modifier_cannot_appear_on_a_type_member_1070","'{0}' modifier cannot appear on a type member."),_0_modifier_cannot_appear_on_an_index_signature:t(1071,e.DiagnosticCategory.Error,"_0_modifier_cannot_appear_on_an_index_signature_1071","'{0}' modifier cannot appear on an index signature."),A_0_modifier_cannot_be_used_with_an_import_declaration:t(1079,e.DiagnosticCategory.Error,"A_0_modifier_cannot_be_used_with_an_import_declaration_1079","A '{0}' modifier cannot be used with an import declaration."),Invalid_reference_directive_syntax:t(1084,e.DiagnosticCategory.Error,"Invalid_reference_directive_syntax_1084","Invalid 'reference' directive syntax."),Octal_literals_are_not_available_when_targeting_ECMAScript_5_and_higher_Use_the_syntax_0:t(1085,e.DiagnosticCategory.Error,"Octal_literals_are_not_available_when_targeting_ECMAScript_5_and_higher_Use_the_syntax_0_1085","Octal literals are not available when targeting ECMAScript 5 and higher. Use the syntax '{0}'."),An_accessor_cannot_be_declared_in_an_ambient_context:t(1086,e.DiagnosticCategory.Error,"An_accessor_cannot_be_declared_in_an_ambient_context_1086","An accessor cannot be declared in an ambient context."),_0_modifier_cannot_appear_on_a_constructor_declaration:t(1089,e.DiagnosticCategory.Error,"_0_modifier_cannot_appear_on_a_constructor_declaration_1089","'{0}' modifier cannot appear on a constructor declaration."),_0_modifier_cannot_appear_on_a_parameter:t(1090,e.DiagnosticCategory.Error,"_0_modifier_cannot_appear_on_a_parameter_1090","'{0}' modifier cannot appear on a parameter."),Only_a_single_variable_declaration_is_allowed_in_a_for_in_statement:t(1091,e.DiagnosticCategory.Error,"Only_a_single_variable_declaration_is_allowed_in_a_for_in_statement_1091","Only a single variable declaration is allowed in a 'for...in' statement."),Type_parameters_cannot_appear_on_a_constructor_declaration:t(1092,e.DiagnosticCategory.Error,"Type_parameters_cannot_appear_on_a_constructor_declaration_1092","Type parameters cannot appear on a constructor declaration."),Type_annotation_cannot_appear_on_a_constructor_declaration:t(1093,e.DiagnosticCategory.Error,"Type_annotation_cannot_appear_on_a_constructor_declaration_1093","Type annotation cannot appear on a constructor declaration."),An_accessor_cannot_have_type_parameters:t(1094,e.DiagnosticCategory.Error,"An_accessor_cannot_have_type_parameters_1094","An accessor cannot have type parameters."),A_set_accessor_cannot_have_a_return_type_annotation:t(1095,e.DiagnosticCategory.Error,"A_set_accessor_cannot_have_a_return_type_annotation_1095","A 'set' accessor cannot have a return type annotation."),An_index_signature_must_have_exactly_one_parameter:t(1096,e.DiagnosticCategory.Error,"An_index_signature_must_have_exactly_one_parameter_1096","An index signature must have exactly one parameter."),_0_list_cannot_be_empty:t(1097,e.DiagnosticCategory.Error,"_0_list_cannot_be_empty_1097","'{0}' list cannot be empty."),Type_parameter_list_cannot_be_empty:t(1098,e.DiagnosticCategory.Error,"Type_parameter_list_cannot_be_empty_1098","Type parameter list cannot be empty."),Type_argument_list_cannot_be_empty:t(1099,e.DiagnosticCategory.Error,"Type_argument_list_cannot_be_empty_1099","Type argument list cannot be empty."),Invalid_use_of_0_in_strict_mode:t(1100,e.DiagnosticCategory.Error,"Invalid_use_of_0_in_strict_mode_1100","Invalid use of '{0}' in strict mode."),with_statements_are_not_allowed_in_strict_mode:t(1101,e.DiagnosticCategory.Error,"with_statements_are_not_allowed_in_strict_mode_1101","'with' statements are not allowed in strict mode."),delete_cannot_be_called_on_an_identifier_in_strict_mode:t(1102,e.DiagnosticCategory.Error,"delete_cannot_be_called_on_an_identifier_in_strict_mode_1102","'delete' cannot be called on an identifier in strict mode."),A_for_await_of_statement_is_only_allowed_within_an_async_function_or_async_generator:t(1103,e.DiagnosticCategory.Error,"A_for_await_of_statement_is_only_allowed_within_an_async_function_or_async_generator_1103","A 'for-await-of' statement is only allowed within an async function or async generator."),A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement:t(1104,e.DiagnosticCategory.Error,"A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement_1104","A 'continue' statement can only be used within an enclosing iteration statement."),A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement:t(1105,e.DiagnosticCategory.Error,"A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement_1105","A 'break' statement can only be used within an enclosing iteration or switch statement."),Jump_target_cannot_cross_function_boundary:t(1107,e.DiagnosticCategory.Error,"Jump_target_cannot_cross_function_boundary_1107","Jump target cannot cross function boundary."),A_return_statement_can_only_be_used_within_a_function_body:t(1108,e.DiagnosticCategory.Error,"A_return_statement_can_only_be_used_within_a_function_body_1108","A 'return' statement can only be used within a function body."),Expression_expected:t(1109,e.DiagnosticCategory.Error,"Expression_expected_1109","Expression expected."),Type_expected:t(1110,e.DiagnosticCategory.Error,"Type_expected_1110","Type expected."),A_default_clause_cannot_appear_more_than_once_in_a_switch_statement:t(1113,e.DiagnosticCategory.Error,"A_default_clause_cannot_appear_more_than_once_in_a_switch_statement_1113","A 'default' clause cannot appear more than once in a 'switch' statement."),Duplicate_label_0:t(1114,e.DiagnosticCategory.Error,"Duplicate_label_0_1114","Duplicate label '{0}'."),A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement:t(1115,e.DiagnosticCategory.Error,"A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement_1115","A 'continue' statement can only jump to a label of an enclosing iteration statement."),A_break_statement_can_only_jump_to_a_label_of_an_enclosing_statement:t(1116,e.DiagnosticCategory.Error,"A_break_statement_can_only_jump_to_a_label_of_an_enclosing_statement_1116","A 'break' statement can only jump to a label of an enclosing statement."),An_object_literal_cannot_have_multiple_properties_with_the_same_name_in_strict_mode:t(1117,e.DiagnosticCategory.Error,"An_object_literal_cannot_have_multiple_properties_with_the_same_name_in_strict_mode_1117","An object literal cannot have multiple properties with the same name in strict mode."),An_object_literal_cannot_have_multiple_get_Slashset_accessors_with_the_same_name:t(1118,e.DiagnosticCategory.Error,"An_object_literal_cannot_have_multiple_get_Slashset_accessors_with_the_same_name_1118","An object literal cannot have multiple get/set accessors with the same name."),An_object_literal_cannot_have_property_and_accessor_with_the_same_name:t(1119,e.DiagnosticCategory.Error,"An_object_literal_cannot_have_property_and_accessor_with_the_same_name_1119","An object literal cannot have property and accessor with the same name."),An_export_assignment_cannot_have_modifiers:t(1120,e.DiagnosticCategory.Error,"An_export_assignment_cannot_have_modifiers_1120","An export assignment cannot have modifiers."),Octal_literals_are_not_allowed_in_strict_mode:t(1121,e.DiagnosticCategory.Error,"Octal_literals_are_not_allowed_in_strict_mode_1121","Octal literals are not allowed in strict mode."),A_tuple_type_element_list_cannot_be_empty:t(1122,e.DiagnosticCategory.Error,"A_tuple_type_element_list_cannot_be_empty_1122","A tuple type element list cannot be empty."),Variable_declaration_list_cannot_be_empty:t(1123,e.DiagnosticCategory.Error,"Variable_declaration_list_cannot_be_empty_1123","Variable declaration list cannot be empty."),Digit_expected:t(1124,e.DiagnosticCategory.Error,"Digit_expected_1124","Digit expected."),Hexadecimal_digit_expected:t(1125,e.DiagnosticCategory.Error,"Hexadecimal_digit_expected_1125","Hexadecimal digit expected."),Unexpected_end_of_text:t(1126,e.DiagnosticCategory.Error,"Unexpected_end_of_text_1126","Unexpected end of text."),Invalid_character:t(1127,e.DiagnosticCategory.Error,"Invalid_character_1127","Invalid character."),Declaration_or_statement_expected:t(1128,e.DiagnosticCategory.Error,"Declaration_or_statement_expected_1128","Declaration or statement expected."),Statement_expected:t(1129,e.DiagnosticCategory.Error,"Statement_expected_1129","Statement expected."),case_or_default_expected:t(1130,e.DiagnosticCategory.Error,"case_or_default_expected_1130","'case' or 'default' expected."),Property_or_signature_expected:t(1131,e.DiagnosticCategory.Error,"Property_or_signature_expected_1131","Property or signature expected."),Enum_member_expected:t(1132,e.DiagnosticCategory.Error,"Enum_member_expected_1132","Enum member expected."),Variable_declaration_expected:t(1134,e.DiagnosticCategory.Error,"Variable_declaration_expected_1134","Variable declaration expected."),Argument_expression_expected:t(1135,e.DiagnosticCategory.Error,"Argument_expression_expected_1135","Argument expression expected."),Property_assignment_expected:t(1136,e.DiagnosticCategory.Error,"Property_assignment_expected_1136","Property assignment expected."),Expression_or_comma_expected:t(1137,e.DiagnosticCategory.Error,"Expression_or_comma_expected_1137","Expression or comma expected."),Parameter_declaration_expected:t(1138,e.DiagnosticCategory.Error,"Parameter_declaration_expected_1138","Parameter declaration expected."),Type_parameter_declaration_expected:t(1139,e.DiagnosticCategory.Error,"Type_parameter_declaration_expected_1139","Type parameter declaration expected."),Type_argument_expected:t(1140,e.DiagnosticCategory.Error,"Type_argument_expected_1140","Type argument expected."),String_literal_expected:t(1141,e.DiagnosticCategory.Error,"String_literal_expected_1141","String literal expected."),Line_break_not_permitted_here:t(1142,e.DiagnosticCategory.Error,"Line_break_not_permitted_here_1142","Line break not permitted here."),or_expected:t(1144,e.DiagnosticCategory.Error,"or_expected_1144","'{' or ';' expected."),Declaration_expected:t(1146,e.DiagnosticCategory.Error,"Declaration_expected_1146","Declaration expected."),Import_declarations_in_a_namespace_cannot_reference_a_module:t(1147,e.DiagnosticCategory.Error,"Import_declarations_in_a_namespace_cannot_reference_a_module_1147","Import declarations in a namespace cannot reference a module."),Cannot_use_imports_exports_or_module_augmentations_when_module_is_none:t(1148,e.DiagnosticCategory.Error,"Cannot_use_imports_exports_or_module_augmentations_when_module_is_none_1148","Cannot use imports, exports, or module augmentations when '--module' is 'none'."),File_name_0_differs_from_already_included_file_name_1_only_in_casing:t(1149,e.DiagnosticCategory.Error,"File_name_0_differs_from_already_included_file_name_1_only_in_casing_1149","File name '{0}' differs from already included file name '{1}' only in casing."),new_T_cannot_be_used_to_create_an_array_Use_new_Array_T_instead:t(1150,e.DiagnosticCategory.Error,"new_T_cannot_be_used_to_create_an_array_Use_new_Array_T_instead_1150","'new T[]' cannot be used to create an array. Use 'new Array<T>()' instead."),const_declarations_must_be_initialized:t(1155,e.DiagnosticCategory.Error,"const_declarations_must_be_initialized_1155","'const' declarations must be initialized."),const_declarations_can_only_be_declared_inside_a_block:t(1156,e.DiagnosticCategory.Error,"const_declarations_can_only_be_declared_inside_a_block_1156","'const' declarations can only be declared inside a block."),let_declarations_can_only_be_declared_inside_a_block:t(1157,e.DiagnosticCategory.Error,"let_declarations_can_only_be_declared_inside_a_block_1157","'let' declarations can only be declared inside a block."),Unterminated_template_literal:t(1160,e.DiagnosticCategory.Error,"Unterminated_template_literal_1160","Unterminated template literal."),Unterminated_regular_expression_literal:t(1161,e.DiagnosticCategory.Error,"Unterminated_regular_expression_literal_1161","Unterminated regular expression literal."),An_object_member_cannot_be_declared_optional:t(1162,e.DiagnosticCategory.Error,"An_object_member_cannot_be_declared_optional_1162","An object member cannot be declared optional."),A_yield_expression_is_only_allowed_in_a_generator_body:t(1163,e.DiagnosticCategory.Error,"A_yield_expression_is_only_allowed_in_a_generator_body_1163","A 'yield' expression is only allowed in a generator body."),Computed_property_names_are_not_allowed_in_enums:t(1164,e.DiagnosticCategory.Error,"Computed_property_names_are_not_allowed_in_enums_1164","Computed property names are not allowed in enums."),A_computed_property_name_in_an_ambient_context_must_directly_refer_to_a_built_in_symbol:t(1165,e.DiagnosticCategory.Error,"A_computed_property_name_in_an_ambient_context_must_directly_refer_to_a_built_in_symbol_1165","A computed property name in an ambient context must directly refer to a built-in symbol."),A_computed_property_name_in_a_class_property_declaration_must_directly_refer_to_a_built_in_symbol:t(1166,e.DiagnosticCategory.Error,"A_computed_property_name_in_a_class_property_declaration_must_directly_refer_to_a_built_in_symbol_1166","A computed property name in a class property declaration must directly refer to a built-in symbol."),A_computed_property_name_in_a_method_overload_must_directly_refer_to_a_built_in_symbol:t(1168,e.DiagnosticCategory.Error,"A_computed_property_name_in_a_method_overload_must_directly_refer_to_a_built_in_symbol_1168","A computed property name in a method overload must directly refer to a built-in symbol."),A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol:t(1169,e.DiagnosticCategory.Error,"A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol_1169","A computed property name in an interface must directly refer to a built-in symbol."),A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol:t(1170,e.DiagnosticCategory.Error,"A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol_1170","A computed property name in a type literal must directly refer to a built-in symbol."),A_comma_expression_is_not_allowed_in_a_computed_property_name:t(1171,e.DiagnosticCategory.Error,"A_comma_expression_is_not_allowed_in_a_computed_property_name_1171","A comma expression is not allowed in a computed property name."),extends_clause_already_seen:t(1172,e.DiagnosticCategory.Error,"extends_clause_already_seen_1172","'extends' clause already seen."),extends_clause_must_precede_implements_clause:t(1173,e.DiagnosticCategory.Error,"extends_clause_must_precede_implements_clause_1173","'extends' clause must precede 'implements' clause."),Classes_can_only_extend_a_single_class:t(1174,e.DiagnosticCategory.Error,"Classes_can_only_extend_a_single_class_1174","Classes can only extend a single class."),implements_clause_already_seen:t(1175,e.DiagnosticCategory.Error,"implements_clause_already_seen_1175","'implements' clause already seen."),Interface_declaration_cannot_have_implements_clause:t(1176,e.DiagnosticCategory.Error,"Interface_declaration_cannot_have_implements_clause_1176","Interface declaration cannot have 'implements' clause."),Binary_digit_expected:t(1177,e.DiagnosticCategory.Error,"Binary_digit_expected_1177","Binary digit expected."),Octal_digit_expected:t(1178,e.DiagnosticCategory.Error,"Octal_digit_expected_1178","Octal digit expected."),Unexpected_token_expected:t(1179,e.DiagnosticCategory.Error,"Unexpected_token_expected_1179","Unexpected token. '{' expected."),Property_destructuring_pattern_expected:t(1180,e.DiagnosticCategory.Error,"Property_destructuring_pattern_expected_1180","Property destructuring pattern expected."),Array_element_destructuring_pattern_expected:t(1181,e.DiagnosticCategory.Error,"Array_element_destructuring_pattern_expected_1181","Array element destructuring pattern expected."),A_destructuring_declaration_must_have_an_initializer:t(1182,e.DiagnosticCategory.Error,"A_destructuring_declaration_must_have_an_initializer_1182","A destructuring declaration must have an initializer."),An_implementation_cannot_be_declared_in_ambient_contexts:t(1183,e.DiagnosticCategory.Error,"An_implementation_cannot_be_declared_in_ambient_contexts_1183","An implementation cannot be declared in ambient contexts."),Modifiers_cannot_appear_here:t(1184,e.DiagnosticCategory.Error,"Modifiers_cannot_appear_here_1184","Modifiers cannot appear here."),Merge_conflict_marker_encountered:t(1185,e.DiagnosticCategory.Error,"Merge_conflict_marker_encountered_1185","Merge conflict marker encountered."),A_rest_element_cannot_have_an_initializer:t(1186,e.DiagnosticCategory.Error,"A_rest_element_cannot_have_an_initializer_1186","A rest element cannot have an initializer."),A_parameter_property_may_not_be_declared_using_a_binding_pattern:t(1187,e.DiagnosticCategory.Error,"A_parameter_property_may_not_be_declared_using_a_binding_pattern_1187","A parameter property may not be declared using a binding pattern."),Only_a_single_variable_declaration_is_allowed_in_a_for_of_statement:t(1188,e.DiagnosticCategory.Error,"Only_a_single_variable_declaration_is_allowed_in_a_for_of_statement_1188","Only a single variable declaration is allowed in a 'for...of' statement."),The_variable_declaration_of_a_for_in_statement_cannot_have_an_initializer:t(1189,e.DiagnosticCategory.Error,"The_variable_declaration_of_a_for_in_statement_cannot_have_an_initializer_1189","The variable declaration of a 'for...in' statement cannot have an initializer."),The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer:t(1190,e.DiagnosticCategory.Error,"The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer_1190","The variable declaration of a 'for...of' statement cannot have an initializer."),An_import_declaration_cannot_have_modifiers:t(1191,e.DiagnosticCategory.Error,"An_import_declaration_cannot_have_modifiers_1191","An import declaration cannot have modifiers."),Module_0_has_no_default_export:t(1192,e.DiagnosticCategory.Error,"Module_0_has_no_default_export_1192","Module '{0}' has no default export."),An_export_declaration_cannot_have_modifiers:t(1193,e.DiagnosticCategory.Error,"An_export_declaration_cannot_have_modifiers_1193","An export declaration cannot have modifiers."),Export_declarations_are_not_permitted_in_a_namespace:t(1194,e.DiagnosticCategory.Error,"Export_declarations_are_not_permitted_in_a_namespace_1194","Export declarations are not permitted in a namespace."),Catch_clause_variable_cannot_have_a_type_annotation:t(1196,e.DiagnosticCategory.Error,"Catch_clause_variable_cannot_have_a_type_annotation_1196","Catch clause variable cannot have a type annotation."),Catch_clause_variable_cannot_have_an_initializer:t(1197,e.DiagnosticCategory.Error,"Catch_clause_variable_cannot_have_an_initializer_1197","Catch clause variable cannot have an initializer."),An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive:t(1198,e.DiagnosticCategory.Error,"An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive_1198","An extended Unicode escape value must be between 0x0 and 0x10FFFF inclusive."),Unterminated_Unicode_escape_sequence:t(1199,e.DiagnosticCategory.Error,"Unterminated_Unicode_escape_sequence_1199","Unterminated Unicode escape sequence."),Line_terminator_not_permitted_before_arrow:t(1200,e.DiagnosticCategory.Error,"Line_terminator_not_permitted_before_arrow_1200","Line terminator not permitted before arrow."),Import_assignment_cannot_be_used_when_targeting_ECMAScript_modules_Consider_using_import_Asterisk_as_ns_from_mod_import_a_from_mod_import_d_from_mod_or_another_module_format_instead:t(1202,e.DiagnosticCategory.Error,"Import_assignment_cannot_be_used_when_targeting_ECMAScript_modules_Consider_using_import_Asterisk_as_1202","Import assignment cannot be used when targeting ECMAScript modules. Consider using 'import * as ns from \"mod\"', 'import {a} from \"mod\"', 'import d from \"mod\"', or another module format instead."),Export_assignment_cannot_be_used_when_targeting_ECMAScript_modules_Consider_using_export_default_or_another_module_format_instead:t(1203,e.DiagnosticCategory.Error,"Export_assignment_cannot_be_used_when_targeting_ECMAScript_modules_Consider_using_export_default_or__1203","Export assignment cannot be used when targeting ECMAScript modules. Consider using 'export default' or another module format instead."),Cannot_re_export_a_type_when_the_isolatedModules_flag_is_provided:t(1205,e.DiagnosticCategory.Error,"Cannot_re_export_a_type_when_the_isolatedModules_flag_is_provided_1205","Cannot re-export a type when the '--isolatedModules' flag is provided."),Decorators_are_not_valid_here:t(1206,e.DiagnosticCategory.Error,"Decorators_are_not_valid_here_1206","Decorators are not valid here."),Decorators_cannot_be_applied_to_multiple_get_Slashset_accessors_of_the_same_name:t(1207,e.DiagnosticCategory.Error,"Decorators_cannot_be_applied_to_multiple_get_Slashset_accessors_of_the_same_name_1207","Decorators cannot be applied to multiple get/set accessors of the same name."),Cannot_compile_namespaces_when_the_isolatedModules_flag_is_provided:t(1208,e.DiagnosticCategory.Error,"Cannot_compile_namespaces_when_the_isolatedModules_flag_is_provided_1208","Cannot compile namespaces when the '--isolatedModules' flag is provided."),Ambient_const_enums_are_not_allowed_when_the_isolatedModules_flag_is_provided:t(1209,e.DiagnosticCategory.Error,"Ambient_const_enums_are_not_allowed_when_the_isolatedModules_flag_is_provided_1209","Ambient const enums are not allowed when the '--isolatedModules' flag is provided."),Invalid_use_of_0_Class_definitions_are_automatically_in_strict_mode:t(1210,e.DiagnosticCategory.Error,"Invalid_use_of_0_Class_definitions_are_automatically_in_strict_mode_1210","Invalid use of '{0}'. Class definitions are automatically in strict mode."),A_class_declaration_without_the_default_modifier_must_have_a_name:t(1211,e.DiagnosticCategory.Error,"A_class_declaration_without_the_default_modifier_must_have_a_name_1211","A class declaration without the 'default' modifier must have a name."),Identifier_expected_0_is_a_reserved_word_in_strict_mode:t(1212,e.DiagnosticCategory.Error,"Identifier_expected_0_is_a_reserved_word_in_strict_mode_1212","Identifier expected. '{0}' is a reserved word in strict mode."),Identifier_expected_0_is_a_reserved_word_in_strict_mode_Class_definitions_are_automatically_in_strict_mode:t(1213,e.DiagnosticCategory.Error,"Identifier_expected_0_is_a_reserved_word_in_strict_mode_Class_definitions_are_automatically_in_stric_1213","Identifier expected. '{0}' is a reserved word in strict mode. Class definitions are automatically in strict mode."),Identifier_expected_0_is_a_reserved_word_in_strict_mode_Modules_are_automatically_in_strict_mode:t(1214,e.DiagnosticCategory.Error,"Identifier_expected_0_is_a_reserved_word_in_strict_mode_Modules_are_automatically_in_strict_mode_1214","Identifier expected. '{0}' is a reserved word in strict mode. Modules are automatically in strict mode."),Invalid_use_of_0_Modules_are_automatically_in_strict_mode:t(1215,e.DiagnosticCategory.Error,"Invalid_use_of_0_Modules_are_automatically_in_strict_mode_1215","Invalid use of '{0}'. Modules are automatically in strict mode."),Identifier_expected_esModule_is_reserved_as_an_exported_marker_when_transforming_ECMAScript_modules:t(1216,e.DiagnosticCategory.Error,"Identifier_expected_esModule_is_reserved_as_an_exported_marker_when_transforming_ECMAScript_modules_1216","Identifier expected. '__esModule' is reserved as an exported marker when transforming ECMAScript modules."),Export_assignment_is_not_supported_when_module_flag_is_system:t(1218,e.DiagnosticCategory.Error,"Export_assignment_is_not_supported_when_module_flag_is_system_1218","Export assignment is not supported when '--module' flag is 'system'."),Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Set_the_experimentalDecorators_option_to_remove_this_warning:t(1219,e.DiagnosticCategory.Error,"Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Set_t_1219","Experimental support for decorators is a feature that is subject to change in a future release. Set the 'experimentalDecorators' option to remove this warning."),Generators_are_only_available_when_targeting_ECMAScript_2015_or_higher:t(1220,e.DiagnosticCategory.Error,"Generators_are_only_available_when_targeting_ECMAScript_2015_or_higher_1220","Generators are only available when targeting ECMAScript 2015 or higher."),Generators_are_not_allowed_in_an_ambient_context:t(1221,e.DiagnosticCategory.Error,"Generators_are_not_allowed_in_an_ambient_context_1221","Generators are not allowed in an ambient context."),An_overload_signature_cannot_be_declared_as_a_generator:t(1222,e.DiagnosticCategory.Error,"An_overload_signature_cannot_be_declared_as_a_generator_1222","An overload signature cannot be declared as a generator."),_0_tag_already_specified:t(1223,e.DiagnosticCategory.Error,"_0_tag_already_specified_1223","'{0}' tag already specified."),Signature_0_must_be_a_type_predicate:t(1224,e.DiagnosticCategory.Error,"Signature_0_must_be_a_type_predicate_1224","Signature '{0}' must be a type predicate."),Cannot_find_parameter_0:t(1225,e.DiagnosticCategory.Error,"Cannot_find_parameter_0_1225","Cannot find parameter '{0}'."),Type_predicate_0_is_not_assignable_to_1:t(1226,e.DiagnosticCategory.Error,"Type_predicate_0_is_not_assignable_to_1_1226","Type predicate '{0}' is not assignable to '{1}'."),Parameter_0_is_not_in_the_same_position_as_parameter_1:t(1227,e.DiagnosticCategory.Error,"Parameter_0_is_not_in_the_same_position_as_parameter_1_1227","Parameter '{0}' is not in the same position as parameter '{1}'."),A_type_predicate_is_only_allowed_in_return_type_position_for_functions_and_methods:t(1228,e.DiagnosticCategory.Error,"A_type_predicate_is_only_allowed_in_return_type_position_for_functions_and_methods_1228","A type predicate is only allowed in return type position for functions and methods."),A_type_predicate_cannot_reference_a_rest_parameter:t(1229,e.DiagnosticCategory.Error,"A_type_predicate_cannot_reference_a_rest_parameter_1229","A type predicate cannot reference a rest parameter."),A_type_predicate_cannot_reference_element_0_in_a_binding_pattern:t(1230,e.DiagnosticCategory.Error,"A_type_predicate_cannot_reference_element_0_in_a_binding_pattern_1230","A type predicate cannot reference element '{0}' in a binding pattern."),An_export_assignment_can_only_be_used_in_a_module:t(1231,e.DiagnosticCategory.Error,"An_export_assignment_can_only_be_used_in_a_module_1231","An export assignment can only be used in a module."),An_import_declaration_can_only_be_used_in_a_namespace_or_module:t(1232,e.DiagnosticCategory.Error,"An_import_declaration_can_only_be_used_in_a_namespace_or_module_1232","An import declaration can only be used in a namespace or module."),An_export_declaration_can_only_be_used_in_a_module:t(1233,e.DiagnosticCategory.Error,"An_export_declaration_can_only_be_used_in_a_module_1233","An export declaration can only be used in a module."),An_ambient_module_declaration_is_only_allowed_at_the_top_level_in_a_file:t(1234,e.DiagnosticCategory.Error,"An_ambient_module_declaration_is_only_allowed_at_the_top_level_in_a_file_1234","An ambient module declaration is only allowed at the top level in a file."),A_namespace_declaration_is_only_allowed_in_a_namespace_or_module:t(1235,e.DiagnosticCategory.Error,"A_namespace_declaration_is_only_allowed_in_a_namespace_or_module_1235","A namespace declaration is only allowed in a namespace or module."),The_return_type_of_a_property_decorator_function_must_be_either_void_or_any:t(1236,e.DiagnosticCategory.Error,"The_return_type_of_a_property_decorator_function_must_be_either_void_or_any_1236","The return type of a property decorator function must be either 'void' or 'any'."),The_return_type_of_a_parameter_decorator_function_must_be_either_void_or_any:t(1237,e.DiagnosticCategory.Error,"The_return_type_of_a_parameter_decorator_function_must_be_either_void_or_any_1237","The return type of a parameter decorator function must be either 'void' or 'any'."),Unable_to_resolve_signature_of_class_decorator_when_called_as_an_expression:t(1238,e.DiagnosticCategory.Error,"Unable_to_resolve_signature_of_class_decorator_when_called_as_an_expression_1238","Unable to resolve signature of class decorator when called as an expression."),Unable_to_resolve_signature_of_parameter_decorator_when_called_as_an_expression:t(1239,e.DiagnosticCategory.Error,"Unable_to_resolve_signature_of_parameter_decorator_when_called_as_an_expression_1239","Unable to resolve signature of parameter decorator when called as an expression."),Unable_to_resolve_signature_of_property_decorator_when_called_as_an_expression:t(1240,e.DiagnosticCategory.Error,"Unable_to_resolve_signature_of_property_decorator_when_called_as_an_expression_1240","Unable to resolve signature of property decorator when called as an expression."),Unable_to_resolve_signature_of_method_decorator_when_called_as_an_expression:t(1241,e.DiagnosticCategory.Error,"Unable_to_resolve_signature_of_method_decorator_when_called_as_an_expression_1241","Unable to resolve signature of method decorator when called as an expression."),abstract_modifier_can_only_appear_on_a_class_method_or_property_declaration:t(1242,e.DiagnosticCategory.Error,"abstract_modifier_can_only_appear_on_a_class_method_or_property_declaration_1242","'abstract' modifier can only appear on a class, method, or property declaration."),_0_modifier_cannot_be_used_with_1_modifier:t(1243,e.DiagnosticCategory.Error,"_0_modifier_cannot_be_used_with_1_modifier_1243","'{0}' modifier cannot be used with '{1}' modifier."),Abstract_methods_can_only_appear_within_an_abstract_class:t(1244,e.DiagnosticCategory.Error,"Abstract_methods_can_only_appear_within_an_abstract_class_1244","Abstract methods can only appear within an abstract class."),Method_0_cannot_have_an_implementation_because_it_is_marked_abstract:t(1245,e.DiagnosticCategory.Error,"Method_0_cannot_have_an_implementation_because_it_is_marked_abstract_1245","Method '{0}' cannot have an implementation because it is marked abstract."),An_interface_property_cannot_have_an_initializer:t(1246,e.DiagnosticCategory.Error,"An_interface_property_cannot_have_an_initializer_1246","An interface property cannot have an initializer."),A_type_literal_property_cannot_have_an_initializer:t(1247,e.DiagnosticCategory.Error,"A_type_literal_property_cannot_have_an_initializer_1247","A type literal property cannot have an initializer."),A_class_member_cannot_have_the_0_keyword:t(1248,e.DiagnosticCategory.Error,"A_class_member_cannot_have_the_0_keyword_1248","A class member cannot have the '{0}' keyword."),A_decorator_can_only_decorate_a_method_implementation_not_an_overload:t(1249,e.DiagnosticCategory.Error,"A_decorator_can_only_decorate_a_method_implementation_not_an_overload_1249","A decorator can only decorate a method implementation, not an overload."),Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5:t(1250,e.DiagnosticCategory.Error,"Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_1250","Function declarations are not allowed inside blocks in strict mode when targeting 'ES3' or 'ES5'."),Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_Class_definitions_are_automatically_in_strict_mode:t(1251,e.DiagnosticCategory.Error,"Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_Class_d_1251","Function declarations are not allowed inside blocks in strict mode when targeting 'ES3' or 'ES5'. Class definitions are automatically in strict mode."),Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_Modules_are_automatically_in_strict_mode:t(1252,e.DiagnosticCategory.Error,"Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_Modules_1252","Function declarations are not allowed inside blocks in strict mode when targeting 'ES3' or 'ES5'. Modules are automatically in strict mode."),_0_tag_cannot_be_used_independently_as_a_top_level_JSDoc_tag:t(1253,e.DiagnosticCategory.Error,"_0_tag_cannot_be_used_independently_as_a_top_level_JSDoc_tag_1253","'{0}' tag cannot be used independently as a top level JSDoc tag."),A_const_initializer_in_an_ambient_context_must_be_a_string_or_numeric_literal:t(1254,e.DiagnosticCategory.Error,"A_const_initializer_in_an_ambient_context_must_be_a_string_or_numeric_literal_1254","A 'const' initializer in an ambient context must be a string or numeric literal."),with_statements_are_not_allowed_in_an_async_function_block:t(1300,e.DiagnosticCategory.Error,"with_statements_are_not_allowed_in_an_async_function_block_1300","'with' statements are not allowed in an async function block."),await_expression_is_only_allowed_within_an_async_function:t(1308,e.DiagnosticCategory.Error,"await_expression_is_only_allowed_within_an_async_function_1308","'await' expression is only allowed within an async function."),can_only_be_used_in_an_object_literal_property_inside_a_destructuring_assignment:t(1312,e.DiagnosticCategory.Error,"can_only_be_used_in_an_object_literal_property_inside_a_destructuring_assignment_1312","'=' can only be used in an object literal property inside a destructuring assignment."),The_body_of_an_if_statement_cannot_be_the_empty_statement:t(1313,e.DiagnosticCategory.Error,"The_body_of_an_if_statement_cannot_be_the_empty_statement_1313","The body of an 'if' statement cannot be the empty statement."),Global_module_exports_may_only_appear_in_module_files:t(1314,e.DiagnosticCategory.Error,"Global_module_exports_may_only_appear_in_module_files_1314","Global module exports may only appear in module files."),Global_module_exports_may_only_appear_in_declaration_files:t(1315,e.DiagnosticCategory.Error,"Global_module_exports_may_only_appear_in_declaration_files_1315","Global module exports may only appear in declaration files."),Global_module_exports_may_only_appear_at_top_level:t(1316,e.DiagnosticCategory.Error,"Global_module_exports_may_only_appear_at_top_level_1316","Global module exports may only appear at top level."),A_parameter_property_cannot_be_declared_using_a_rest_parameter:t(1317,e.DiagnosticCategory.Error,"A_parameter_property_cannot_be_declared_using_a_rest_parameter_1317","A parameter property cannot be declared using a rest parameter."),An_abstract_accessor_cannot_have_an_implementation:t(1318,e.DiagnosticCategory.Error,"An_abstract_accessor_cannot_have_an_implementation_1318","An abstract accessor cannot have an implementation."),A_default_export_can_only_be_used_in_an_ECMAScript_style_module:t(1319,e.DiagnosticCategory.Error,"A_default_export_can_only_be_used_in_an_ECMAScript_style_module_1319","A default export can only be used in an ECMAScript-style module."),Type_of_await_operand_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member:t(1320,e.DiagnosticCategory.Error,"Type_of_await_operand_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member_1320","Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member."),Type_of_yield_operand_in_an_async_generator_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member:t(1321,e.DiagnosticCategory.Error,"Type_of_yield_operand_in_an_async_generator_must_either_be_a_valid_promise_or_must_not_contain_a_cal_1321","Type of 'yield' operand in an async generator must either be a valid promise or must not contain a callable 'then' member."),Type_of_iterated_elements_of_a_yield_Asterisk_operand_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member:t(1322,e.DiagnosticCategory.Error,"Type_of_iterated_elements_of_a_yield_Asterisk_operand_must_either_be_a_valid_promise_or_must_not_con_1322","Type of iterated elements of a 'yield*' operand must either be a valid promise or must not contain a callable 'then' member."),Dynamic_import_cannot_be_used_when_targeting_ECMAScript_2015_modules:t(1323,e.DiagnosticCategory.Error,"Dynamic_import_cannot_be_used_when_targeting_ECMAScript_2015_modules_1323","Dynamic import cannot be used when targeting ECMAScript 2015 modules."),Dynamic_import_must_have_one_specifier_as_an_argument:t(1324,e.DiagnosticCategory.Error,"Dynamic_import_must_have_one_specifier_as_an_argument_1324","Dynamic import must have one specifier as an argument."),Specifier_of_dynamic_import_cannot_be_spread_element:t(1325,e.DiagnosticCategory.Error,"Specifier_of_dynamic_import_cannot_be_spread_element_1325","Specifier of dynamic import cannot be spread element."),Dynamic_import_cannot_have_type_arguments:t(1326,e.DiagnosticCategory.Error,"Dynamic_import_cannot_have_type_arguments_1326","Dynamic import cannot have type arguments"),String_literal_with_double_quotes_expected:t(1327,e.DiagnosticCategory.Error,"String_literal_with_double_quotes_expected_1327","String literal with double quotes expected."),Property_value_can_only_be_string_literal_numeric_literal_true_false_null_object_literal_or_array_literal:t(1328,e.DiagnosticCategory.Error,"Property_value_can_only_be_string_literal_numeric_literal_true_false_null_object_literal_or_array_li_1328","Property value can only be string literal, numeric literal, 'true', 'false', 'null', object literal or array literal."),_0_accepts_too_few_arguments_to_be_used_as_a_decorator_here_Did_you_mean_to_call_it_first_and_write_0:t(1329,e.DiagnosticCategory.Error,"_0_accepts_too_few_arguments_to_be_used_as_a_decorator_here_Did_you_mean_to_call_it_first_and_write__1329","'{0}' accepts too few arguments to be used as a decorator here. Did you mean to call it first and write '@{0}()'?"),Duplicate_identifier_0:t(2300,e.DiagnosticCategory.Error,"Duplicate_identifier_0_2300","Duplicate identifier '{0}'."),Initializer_of_instance_member_variable_0_cannot_reference_identifier_1_declared_in_the_constructor:t(2301,e.DiagnosticCategory.Error,"Initializer_of_instance_member_variable_0_cannot_reference_identifier_1_declared_in_the_constructor_2301","Initializer of instance member variable '{0}' cannot reference identifier '{1}' declared in the constructor."),Static_members_cannot_reference_class_type_parameters:t(2302,e.DiagnosticCategory.Error,"Static_members_cannot_reference_class_type_parameters_2302","Static members cannot reference class type parameters."),Circular_definition_of_import_alias_0:t(2303,e.DiagnosticCategory.Error,"Circular_definition_of_import_alias_0_2303","Circular definition of import alias '{0}'."),Cannot_find_name_0:t(2304,e.DiagnosticCategory.Error,"Cannot_find_name_0_2304","Cannot find name '{0}'."),Module_0_has_no_exported_member_1:t(2305,e.DiagnosticCategory.Error,"Module_0_has_no_exported_member_1_2305","Module '{0}' has no exported member '{1}'."),File_0_is_not_a_module:t(2306,e.DiagnosticCategory.Error,"File_0_is_not_a_module_2306","File '{0}' is not a module."),Cannot_find_module_0:t(2307,e.DiagnosticCategory.Error,"Cannot_find_module_0_2307","Cannot find module '{0}'."),Module_0_has_already_exported_a_member_named_1_Consider_explicitly_re_exporting_to_resolve_the_ambiguity:t(2308,e.DiagnosticCategory.Error,"Module_0_has_already_exported_a_member_named_1_Consider_explicitly_re_exporting_to_resolve_the_ambig_2308","Module {0} has already exported a member named '{1}'. Consider explicitly re-exporting to resolve the ambiguity."),An_export_assignment_cannot_be_used_in_a_module_with_other_exported_elements:t(2309,e.DiagnosticCategory.Error,"An_export_assignment_cannot_be_used_in_a_module_with_other_exported_elements_2309","An export assignment cannot be used in a module with other exported elements."),Type_0_recursively_references_itself_as_a_base_type:t(2310,e.DiagnosticCategory.Error,"Type_0_recursively_references_itself_as_a_base_type_2310","Type '{0}' recursively references itself as a base type."),A_class_may_only_extend_another_class:t(2311,e.DiagnosticCategory.Error,"A_class_may_only_extend_another_class_2311","A class may only extend another class."),An_interface_may_only_extend_a_class_or_another_interface:t(2312,e.DiagnosticCategory.Error,"An_interface_may_only_extend_a_class_or_another_interface_2312","An interface may only extend a class or another interface."),Type_parameter_0_has_a_circular_constraint:t(2313,e.DiagnosticCategory.Error,"Type_parameter_0_has_a_circular_constraint_2313","Type parameter '{0}' has a circular constraint."),Generic_type_0_requires_1_type_argument_s:t(2314,e.DiagnosticCategory.Error,"Generic_type_0_requires_1_type_argument_s_2314","Generic type '{0}' requires {1} type argument(s)."),Type_0_is_not_generic:t(2315,e.DiagnosticCategory.Error,"Type_0_is_not_generic_2315","Type '{0}' is not generic."),Global_type_0_must_be_a_class_or_interface_type:t(2316,e.DiagnosticCategory.Error,"Global_type_0_must_be_a_class_or_interface_type_2316","Global type '{0}' must be a class or interface type."),Global_type_0_must_have_1_type_parameter_s:t(2317,e.DiagnosticCategory.Error,"Global_type_0_must_have_1_type_parameter_s_2317","Global type '{0}' must have {1} type parameter(s)."),Cannot_find_global_type_0:t(2318,e.DiagnosticCategory.Error,"Cannot_find_global_type_0_2318","Cannot find global type '{0}'."),Named_property_0_of_types_1_and_2_are_not_identical:t(2319,e.DiagnosticCategory.Error,"Named_property_0_of_types_1_and_2_are_not_identical_2319","Named property '{0}' of types '{1}' and '{2}' are not identical."),Interface_0_cannot_simultaneously_extend_types_1_and_2:t(2320,e.DiagnosticCategory.Error,"Interface_0_cannot_simultaneously_extend_types_1_and_2_2320","Interface '{0}' cannot simultaneously extend types '{1}' and '{2}'."),Excessive_stack_depth_comparing_types_0_and_1:t(2321,e.DiagnosticCategory.Error,"Excessive_stack_depth_comparing_types_0_and_1_2321","Excessive stack depth comparing types '{0}' and '{1}'."),Type_0_is_not_assignable_to_type_1:t(2322,e.DiagnosticCategory.Error,"Type_0_is_not_assignable_to_type_1_2322","Type '{0}' is not assignable to type '{1}'."),Cannot_redeclare_exported_variable_0:t(2323,e.DiagnosticCategory.Error,"Cannot_redeclare_exported_variable_0_2323","Cannot redeclare exported variable '{0}'."),Property_0_is_missing_in_type_1:t(2324,e.DiagnosticCategory.Error,"Property_0_is_missing_in_type_1_2324","Property '{0}' is missing in type '{1}'."),Property_0_is_private_in_type_1_but_not_in_type_2:t(2325,e.DiagnosticCategory.Error,"Property_0_is_private_in_type_1_but_not_in_type_2_2325","Property '{0}' is private in type '{1}' but not in type '{2}'."),Types_of_property_0_are_incompatible:t(2326,e.DiagnosticCategory.Error,"Types_of_property_0_are_incompatible_2326","Types of property '{0}' are incompatible."),Property_0_is_optional_in_type_1_but_required_in_type_2:t(2327,e.DiagnosticCategory.Error,"Property_0_is_optional_in_type_1_but_required_in_type_2_2327","Property '{0}' is optional in type '{1}' but required in type '{2}'."),Types_of_parameters_0_and_1_are_incompatible:t(2328,e.DiagnosticCategory.Error,"Types_of_parameters_0_and_1_are_incompatible_2328","Types of parameters '{0}' and '{1}' are incompatible."),Index_signature_is_missing_in_type_0:t(2329,e.DiagnosticCategory.Error,"Index_signature_is_missing_in_type_0_2329","Index signature is missing in type '{0}'."),Index_signatures_are_incompatible:t(2330,e.DiagnosticCategory.Error,"Index_signatures_are_incompatible_2330","Index signatures are incompatible."),this_cannot_be_referenced_in_a_module_or_namespace_body:t(2331,e.DiagnosticCategory.Error,"this_cannot_be_referenced_in_a_module_or_namespace_body_2331","'this' cannot be referenced in a module or namespace body."),this_cannot_be_referenced_in_current_location:t(2332,e.DiagnosticCategory.Error,"this_cannot_be_referenced_in_current_location_2332","'this' cannot be referenced in current location."),this_cannot_be_referenced_in_constructor_arguments:t(2333,e.DiagnosticCategory.Error,"this_cannot_be_referenced_in_constructor_arguments_2333","'this' cannot be referenced in constructor arguments."),this_cannot_be_referenced_in_a_static_property_initializer:t(2334,e.DiagnosticCategory.Error,"this_cannot_be_referenced_in_a_static_property_initializer_2334","'this' cannot be referenced in a static property initializer."),super_can_only_be_referenced_in_a_derived_class:t(2335,e.DiagnosticCategory.Error,"super_can_only_be_referenced_in_a_derived_class_2335","'super' can only be referenced in a derived class."),super_cannot_be_referenced_in_constructor_arguments:t(2336,e.DiagnosticCategory.Error,"super_cannot_be_referenced_in_constructor_arguments_2336","'super' cannot be referenced in constructor arguments."),Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors:t(2337,e.DiagnosticCategory.Error,"Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors_2337","Super calls are not permitted outside constructors or in nested functions inside constructors."),super_property_access_is_permitted_only_in_a_constructor_member_function_or_member_accessor_of_a_derived_class:t(2338,e.DiagnosticCategory.Error,"super_property_access_is_permitted_only_in_a_constructor_member_function_or_member_accessor_of_a_der_2338","'super' property access is permitted only in a constructor, member function, or member accessor of a derived class."),Property_0_does_not_exist_on_type_1:t(2339,e.DiagnosticCategory.Error,"Property_0_does_not_exist_on_type_1_2339","Property '{0}' does not exist on type '{1}'."),Only_public_and_protected_methods_of_the_base_class_are_accessible_via_the_super_keyword:t(2340,e.DiagnosticCategory.Error,"Only_public_and_protected_methods_of_the_base_class_are_accessible_via_the_super_keyword_2340","Only public and protected methods of the base class are accessible via the 'super' keyword."),Property_0_is_private_and_only_accessible_within_class_1:t(2341,e.DiagnosticCategory.Error,"Property_0_is_private_and_only_accessible_within_class_1_2341","Property '{0}' is private and only accessible within class '{1}'."),An_index_expression_argument_must_be_of_type_string_number_symbol_or_any:t(2342,e.DiagnosticCategory.Error,"An_index_expression_argument_must_be_of_type_string_number_symbol_or_any_2342","An index expression argument must be of type 'string', 'number', 'symbol', or 'any'."),This_syntax_requires_an_imported_helper_named_1_but_module_0_has_no_exported_member_1:t(2343,e.DiagnosticCategory.Error,"This_syntax_requires_an_imported_helper_named_1_but_module_0_has_no_exported_member_1_2343","This syntax requires an imported helper named '{1}', but module '{0}' has no exported member '{1}'."),Type_0_does_not_satisfy_the_constraint_1:t(2344,e.DiagnosticCategory.Error,"Type_0_does_not_satisfy_the_constraint_1_2344","Type '{0}' does not satisfy the constraint '{1}'."),Argument_of_type_0_is_not_assignable_to_parameter_of_type_1:t(2345,e.DiagnosticCategory.Error,"Argument_of_type_0_is_not_assignable_to_parameter_of_type_1_2345","Argument of type '{0}' is not assignable to parameter of type '{1}'."),Call_target_does_not_contain_any_signatures:t(2346,e.DiagnosticCategory.Error,"Call_target_does_not_contain_any_signatures_2346","Call target does not contain any signatures."),Untyped_function_calls_may_not_accept_type_arguments:t(2347,e.DiagnosticCategory.Error,"Untyped_function_calls_may_not_accept_type_arguments_2347","Untyped function calls may not accept type arguments."),Value_of_type_0_is_not_callable_Did_you_mean_to_include_new:t(2348,e.DiagnosticCategory.Error,"Value_of_type_0_is_not_callable_Did_you_mean_to_include_new_2348","Value of type '{0}' is not callable. Did you mean to include 'new'?"),Cannot_invoke_an_expression_whose_type_lacks_a_call_signature_Type_0_has_no_compatible_call_signatures:t(2349,e.DiagnosticCategory.Error,"Cannot_invoke_an_expression_whose_type_lacks_a_call_signature_Type_0_has_no_compatible_call_signatur_2349","Cannot invoke an expression whose type lacks a call signature. Type '{0}' has no compatible call signatures."),Only_a_void_function_can_be_called_with_the_new_keyword:t(2350,e.DiagnosticCategory.Error,"Only_a_void_function_can_be_called_with_the_new_keyword_2350","Only a void function can be called with the 'new' keyword."),Cannot_use_new_with_an_expression_whose_type_lacks_a_call_or_construct_signature:t(2351,e.DiagnosticCategory.Error,"Cannot_use_new_with_an_expression_whose_type_lacks_a_call_or_construct_signature_2351","Cannot use 'new' with an expression whose type lacks a call or construct signature."),Type_0_cannot_be_converted_to_type_1:t(2352,e.DiagnosticCategory.Error,"Type_0_cannot_be_converted_to_type_1_2352","Type '{0}' cannot be converted to type '{1}'."),Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1:t(2353,e.DiagnosticCategory.Error,"Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1_2353","Object literal may only specify known properties, and '{0}' does not exist in type '{1}'."),This_syntax_requires_an_imported_helper_but_module_0_cannot_be_found:t(2354,e.DiagnosticCategory.Error,"This_syntax_requires_an_imported_helper_but_module_0_cannot_be_found_2354","This syntax requires an imported helper but module '{0}' cannot be found."),A_function_whose_declared_type_is_neither_void_nor_any_must_return_a_value:t(2355,e.DiagnosticCategory.Error,"A_function_whose_declared_type_is_neither_void_nor_any_must_return_a_value_2355","A function whose declared type is neither 'void' nor 'any' must return a value."),An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type:t(2356,e.DiagnosticCategory.Error,"An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type_2356","An arithmetic operand must be of type 'any', 'number' or an enum type."),The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_or_a_property_access:t(2357,e.DiagnosticCategory.Error,"The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_or_a_property_access_2357","The operand of an increment or decrement operator must be a variable or a property access."),The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_parameter:t(2358,e.DiagnosticCategory.Error,"The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_paramete_2358","The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter."),The_right_hand_side_of_an_instanceof_expression_must_be_of_type_any_or_of_a_type_assignable_to_the_Function_interface_type:t(2359,e.DiagnosticCategory.Error,"The_right_hand_side_of_an_instanceof_expression_must_be_of_type_any_or_of_a_type_assignable_to_the_F_2359","The right-hand side of an 'instanceof' expression must be of type 'any' or of a type assignable to the 'Function' interface type."),The_left_hand_side_of_an_in_expression_must_be_of_type_any_string_number_or_symbol:t(2360,e.DiagnosticCategory.Error,"The_left_hand_side_of_an_in_expression_must_be_of_type_any_string_number_or_symbol_2360","The left-hand side of an 'in' expression must be of type 'any', 'string', 'number', or 'symbol'."),The_right_hand_side_of_an_in_expression_must_be_of_type_any_an_object_type_or_a_type_parameter:t(2361,e.DiagnosticCategory.Error,"The_right_hand_side_of_an_in_expression_must_be_of_type_any_an_object_type_or_a_type_parameter_2361","The right-hand side of an 'in' expression must be of type 'any', an object type or a type parameter."),The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type:t(2362,e.DiagnosticCategory.Error,"The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type_2362","The left-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type."),The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type:t(2363,e.DiagnosticCategory.Error,"The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type_2363","The right-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type."),The_left_hand_side_of_an_assignment_expression_must_be_a_variable_or_a_property_access:t(2364,e.DiagnosticCategory.Error,"The_left_hand_side_of_an_assignment_expression_must_be_a_variable_or_a_property_access_2364","The left-hand side of an assignment expression must be a variable or a property access."),Operator_0_cannot_be_applied_to_types_1_and_2:t(2365,e.DiagnosticCategory.Error,"Operator_0_cannot_be_applied_to_types_1_and_2_2365","Operator '{0}' cannot be applied to types '{1}' and '{2}'."),Function_lacks_ending_return_statement_and_return_type_does_not_include_undefined:t(2366,e.DiagnosticCategory.Error,"Function_lacks_ending_return_statement_and_return_type_does_not_include_undefined_2366","Function lacks ending return statement and return type does not include 'undefined'."),Type_parameter_name_cannot_be_0:t(2368,e.DiagnosticCategory.Error,"Type_parameter_name_cannot_be_0_2368","Type parameter name cannot be '{0}'."),A_parameter_property_is_only_allowed_in_a_constructor_implementation:t(2369,e.DiagnosticCategory.Error,"A_parameter_property_is_only_allowed_in_a_constructor_implementation_2369","A parameter property is only allowed in a constructor implementation."),A_rest_parameter_must_be_of_an_array_type:t(2370,e.DiagnosticCategory.Error,"A_rest_parameter_must_be_of_an_array_type_2370","A rest parameter must be of an array type."),A_parameter_initializer_is_only_allowed_in_a_function_or_constructor_implementation:t(2371,e.DiagnosticCategory.Error,"A_parameter_initializer_is_only_allowed_in_a_function_or_constructor_implementation_2371","A parameter initializer is only allowed in a function or constructor implementation."),Parameter_0_cannot_be_referenced_in_its_initializer:t(2372,e.DiagnosticCategory.Error,"Parameter_0_cannot_be_referenced_in_its_initializer_2372","Parameter '{0}' cannot be referenced in its initializer."),Initializer_of_parameter_0_cannot_reference_identifier_1_declared_after_it:t(2373,e.DiagnosticCategory.Error,"Initializer_of_parameter_0_cannot_reference_identifier_1_declared_after_it_2373","Initializer of parameter '{0}' cannot reference identifier '{1}' declared after it."),Duplicate_string_index_signature:t(2374,e.DiagnosticCategory.Error,"Duplicate_string_index_signature_2374","Duplicate string index signature."),Duplicate_number_index_signature:t(2375,e.DiagnosticCategory.Error,"Duplicate_number_index_signature_2375","Duplicate number index signature."),A_super_call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_initialized_properties_or_has_parameter_properties:t(2376,e.DiagnosticCategory.Error,"A_super_call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_initialized_proper_2376","A 'super' call must be the first statement in the constructor when a class contains initialized properties or has parameter properties."),Constructors_for_derived_classes_must_contain_a_super_call:t(2377,e.DiagnosticCategory.Error,"Constructors_for_derived_classes_must_contain_a_super_call_2377","Constructors for derived classes must contain a 'super' call."),A_get_accessor_must_return_a_value:t(2378,e.DiagnosticCategory.Error,"A_get_accessor_must_return_a_value_2378","A 'get' accessor must return a value."),Getter_and_setter_accessors_do_not_agree_in_visibility:t(2379,e.DiagnosticCategory.Error,"Getter_and_setter_accessors_do_not_agree_in_visibility_2379","Getter and setter accessors do not agree in visibility."),get_and_set_accessor_must_have_the_same_type:t(2380,e.DiagnosticCategory.Error,"get_and_set_accessor_must_have_the_same_type_2380","'get' and 'set' accessor must have the same type."),A_signature_with_an_implementation_cannot_use_a_string_literal_type:t(2381,e.DiagnosticCategory.Error,"A_signature_with_an_implementation_cannot_use_a_string_literal_type_2381","A signature with an implementation cannot use a string literal type."),Specialized_overload_signature_is_not_assignable_to_any_non_specialized_signature:t(2382,e.DiagnosticCategory.Error,"Specialized_overload_signature_is_not_assignable_to_any_non_specialized_signature_2382","Specialized overload signature is not assignable to any non-specialized signature."),Overload_signatures_must_all_be_exported_or_non_exported:t(2383,e.DiagnosticCategory.Error,"Overload_signatures_must_all_be_exported_or_non_exported_2383","Overload signatures must all be exported or non-exported."),Overload_signatures_must_all_be_ambient_or_non_ambient:t(2384,e.DiagnosticCategory.Error,"Overload_signatures_must_all_be_ambient_or_non_ambient_2384","Overload signatures must all be ambient or non-ambient."),Overload_signatures_must_all_be_public_private_or_protected:t(2385,e.DiagnosticCategory.Error,"Overload_signatures_must_all_be_public_private_or_protected_2385","Overload signatures must all be public, private or protected."),Overload_signatures_must_all_be_optional_or_required:t(2386,e.DiagnosticCategory.Error,"Overload_signatures_must_all_be_optional_or_required_2386","Overload signatures must all be optional or required."),Function_overload_must_be_static:t(2387,e.DiagnosticCategory.Error,"Function_overload_must_be_static_2387","Function overload must be static."),Function_overload_must_not_be_static:t(2388,e.DiagnosticCategory.Error,"Function_overload_must_not_be_static_2388","Function overload must not be static."),Function_implementation_name_must_be_0:t(2389,e.DiagnosticCategory.Error,"Function_implementation_name_must_be_0_2389","Function implementation name must be '{0}'."),Constructor_implementation_is_missing:t(2390,e.DiagnosticCategory.Error,"Constructor_implementation_is_missing_2390","Constructor implementation is missing."),Function_implementation_is_missing_or_not_immediately_following_the_declaration:t(2391,e.DiagnosticCategory.Error,"Function_implementation_is_missing_or_not_immediately_following_the_declaration_2391","Function implementation is missing or not immediately following the declaration."),Multiple_constructor_implementations_are_not_allowed:t(2392,e.DiagnosticCategory.Error,"Multiple_constructor_implementations_are_not_allowed_2392","Multiple constructor implementations are not allowed."),Duplicate_function_implementation:t(2393,e.DiagnosticCategory.Error,"Duplicate_function_implementation_2393","Duplicate function implementation."),Overload_signature_is_not_compatible_with_function_implementation:t(2394,e.DiagnosticCategory.Error,"Overload_signature_is_not_compatible_with_function_implementation_2394","Overload signature is not compatible with function implementation."),Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local:t(2395,e.DiagnosticCategory.Error,"Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local_2395","Individual declarations in merged declaration '{0}' must be all exported or all local."),Duplicate_identifier_arguments_Compiler_uses_arguments_to_initialize_rest_parameters:t(2396,e.DiagnosticCategory.Error,"Duplicate_identifier_arguments_Compiler_uses_arguments_to_initialize_rest_parameters_2396","Duplicate identifier 'arguments'. Compiler uses 'arguments' to initialize rest parameters."),Declaration_name_conflicts_with_built_in_global_identifier_0:t(2397,e.DiagnosticCategory.Error,"Declaration_name_conflicts_with_built_in_global_identifier_0_2397","Declaration name conflicts with built-in global identifier '{0}'."),Duplicate_identifier_this_Compiler_uses_variable_declaration_this_to_capture_this_reference:t(2399,e.DiagnosticCategory.Error,"Duplicate_identifier_this_Compiler_uses_variable_declaration_this_to_capture_this_reference_2399","Duplicate identifier '_this'. Compiler uses variable declaration '_this' to capture 'this' reference."),Expression_resolves_to_variable_declaration_this_that_compiler_uses_to_capture_this_reference:t(2400,e.DiagnosticCategory.Error,"Expression_resolves_to_variable_declaration_this_that_compiler_uses_to_capture_this_reference_2400","Expression resolves to variable declaration '_this' that compiler uses to capture 'this' reference."),Duplicate_identifier_super_Compiler_uses_super_to_capture_base_class_reference:t(2401,e.DiagnosticCategory.Error,"Duplicate_identifier_super_Compiler_uses_super_to_capture_base_class_reference_2401","Duplicate identifier '_super'. Compiler uses '_super' to capture base class reference."),Expression_resolves_to_super_that_compiler_uses_to_capture_base_class_reference:t(2402,e.DiagnosticCategory.Error,"Expression_resolves_to_super_that_compiler_uses_to_capture_base_class_reference_2402","Expression resolves to '_super' that compiler uses to capture base class reference."),Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_type_2:t(2403,e.DiagnosticCategory.Error,"Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_t_2403","Subsequent variable declarations must have the same type.  Variable '{0}' must be of type '{1}', but here has type '{2}'."),The_left_hand_side_of_a_for_in_statement_cannot_use_a_type_annotation:t(2404,e.DiagnosticCategory.Error,"The_left_hand_side_of_a_for_in_statement_cannot_use_a_type_annotation_2404","The left-hand side of a 'for...in' statement cannot use a type annotation."),The_left_hand_side_of_a_for_in_statement_must_be_of_type_string_or_any:t(2405,e.DiagnosticCategory.Error,"The_left_hand_side_of_a_for_in_statement_must_be_of_type_string_or_any_2405","The left-hand side of a 'for...in' statement must be of type 'string' or 'any'."),The_left_hand_side_of_a_for_in_statement_must_be_a_variable_or_a_property_access:t(2406,e.DiagnosticCategory.Error,"The_left_hand_side_of_a_for_in_statement_must_be_a_variable_or_a_property_access_2406","The left-hand side of a 'for...in' statement must be a variable or a property access."),The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter:t(2407,e.DiagnosticCategory.Error,"The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter_2407","The right-hand side of a 'for...in' statement must be of type 'any', an object type or a type parameter."),Setters_cannot_return_a_value:t(2408,e.DiagnosticCategory.Error,"Setters_cannot_return_a_value_2408","Setters cannot return a value."),Return_type_of_constructor_signature_must_be_assignable_to_the_instance_type_of_the_class:t(2409,e.DiagnosticCategory.Error,"Return_type_of_constructor_signature_must_be_assignable_to_the_instance_type_of_the_class_2409","Return type of constructor signature must be assignable to the instance type of the class."),The_with_statement_is_not_supported_All_symbols_in_a_with_block_will_have_type_any:t(2410,e.DiagnosticCategory.Error,"The_with_statement_is_not_supported_All_symbols_in_a_with_block_will_have_type_any_2410","The 'with' statement is not supported. All symbols in a 'with' block will have type 'any'."),Property_0_of_type_1_is_not_assignable_to_string_index_type_2:t(2411,e.DiagnosticCategory.Error,"Property_0_of_type_1_is_not_assignable_to_string_index_type_2_2411","Property '{0}' of type '{1}' is not assignable to string index type '{2}'."),Property_0_of_type_1_is_not_assignable_to_numeric_index_type_2:t(2412,e.DiagnosticCategory.Error,"Property_0_of_type_1_is_not_assignable_to_numeric_index_type_2_2412","Property '{0}' of type '{1}' is not assignable to numeric index type '{2}'."),Numeric_index_type_0_is_not_assignable_to_string_index_type_1:t(2413,e.DiagnosticCategory.Error,"Numeric_index_type_0_is_not_assignable_to_string_index_type_1_2413","Numeric index type '{0}' is not assignable to string index type '{1}'."),Class_name_cannot_be_0:t(2414,e.DiagnosticCategory.Error,"Class_name_cannot_be_0_2414","Class name cannot be '{0}'."),Class_0_incorrectly_extends_base_class_1:t(2415,e.DiagnosticCategory.Error,"Class_0_incorrectly_extends_base_class_1_2415","Class '{0}' incorrectly extends base class '{1}'."),Class_static_side_0_incorrectly_extends_base_class_static_side_1:t(2417,e.DiagnosticCategory.Error,"Class_static_side_0_incorrectly_extends_base_class_static_side_1_2417","Class static side '{0}' incorrectly extends base class static side '{1}'."),Class_0_incorrectly_implements_interface_1:t(2420,e.DiagnosticCategory.Error,"Class_0_incorrectly_implements_interface_1_2420","Class '{0}' incorrectly implements interface '{1}'."),A_class_may_only_implement_another_class_or_interface:t(2422,e.DiagnosticCategory.Error,"A_class_may_only_implement_another_class_or_interface_2422","A class may only implement another class or interface."),Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_accessor:t(2423,e.DiagnosticCategory.Error,"Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_access_2423","Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member accessor."),Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_property:t(2424,e.DiagnosticCategory.Error,"Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_proper_2424","Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member property."),Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_function:t(2425,e.DiagnosticCategory.Error,"Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_functi_2425","Class '{0}' defines instance member property '{1}', but extended class '{2}' defines it as instance member function."),Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_function:t(2426,e.DiagnosticCategory.Error,"Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_functi_2426","Class '{0}' defines instance member accessor '{1}', but extended class '{2}' defines it as instance member function."),Interface_name_cannot_be_0:t(2427,e.DiagnosticCategory.Error,"Interface_name_cannot_be_0_2427","Interface name cannot be '{0}'."),All_declarations_of_0_must_have_identical_type_parameters:t(2428,e.DiagnosticCategory.Error,"All_declarations_of_0_must_have_identical_type_parameters_2428","All declarations of '{0}' must have identical type parameters."),Interface_0_incorrectly_extends_interface_1:t(2430,e.DiagnosticCategory.Error,"Interface_0_incorrectly_extends_interface_1_2430","Interface '{0}' incorrectly extends interface '{1}'."),Enum_name_cannot_be_0:t(2431,e.DiagnosticCategory.Error,"Enum_name_cannot_be_0_2431","Enum name cannot be '{0}'."),In_an_enum_with_multiple_declarations_only_one_declaration_can_omit_an_initializer_for_its_first_enum_element:t(2432,e.DiagnosticCategory.Error,"In_an_enum_with_multiple_declarations_only_one_declaration_can_omit_an_initializer_for_its_first_enu_2432","In an enum with multiple declarations, only one declaration can omit an initializer for its first enum element."),A_namespace_declaration_cannot_be_in_a_different_file_from_a_class_or_function_with_which_it_is_merged:t(2433,e.DiagnosticCategory.Error,"A_namespace_declaration_cannot_be_in_a_different_file_from_a_class_or_function_with_which_it_is_merg_2433","A namespace declaration cannot be in a different file from a class or function with which it is merged."),A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged:t(2434,e.DiagnosticCategory.Error,"A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged_2434","A namespace declaration cannot be located prior to a class or function with which it is merged."),Ambient_modules_cannot_be_nested_in_other_modules_or_namespaces:t(2435,e.DiagnosticCategory.Error,"Ambient_modules_cannot_be_nested_in_other_modules_or_namespaces_2435","Ambient modules cannot be nested in other modules or namespaces."),Ambient_module_declaration_cannot_specify_relative_module_name:t(2436,e.DiagnosticCategory.Error,"Ambient_module_declaration_cannot_specify_relative_module_name_2436","Ambient module declaration cannot specify relative module name."),Module_0_is_hidden_by_a_local_declaration_with_the_same_name:t(2437,e.DiagnosticCategory.Error,"Module_0_is_hidden_by_a_local_declaration_with_the_same_name_2437","Module '{0}' is hidden by a local declaration with the same name."),Import_name_cannot_be_0:t(2438,e.DiagnosticCategory.Error,"Import_name_cannot_be_0_2438","Import name cannot be '{0}'."),Import_or_export_declaration_in_an_ambient_module_declaration_cannot_reference_module_through_relative_module_name:t(2439,e.DiagnosticCategory.Error,"Import_or_export_declaration_in_an_ambient_module_declaration_cannot_reference_module_through_relati_2439","Import or export declaration in an ambient module declaration cannot reference module through relative module name."),Import_declaration_conflicts_with_local_declaration_of_0:t(2440,e.DiagnosticCategory.Error,"Import_declaration_conflicts_with_local_declaration_of_0_2440","Import declaration conflicts with local declaration of '{0}'."),Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module:t(2441,e.DiagnosticCategory.Error,"Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module_2441","Duplicate identifier '{0}'. Compiler reserves name '{1}' in top level scope of a module."),Types_have_separate_declarations_of_a_private_property_0:t(2442,e.DiagnosticCategory.Error,"Types_have_separate_declarations_of_a_private_property_0_2442","Types have separate declarations of a private property '{0}'."),Property_0_is_protected_but_type_1_is_not_a_class_derived_from_2:t(2443,e.DiagnosticCategory.Error,"Property_0_is_protected_but_type_1_is_not_a_class_derived_from_2_2443","Property '{0}' is protected but type '{1}' is not a class derived from '{2}'."),Property_0_is_protected_in_type_1_but_public_in_type_2:t(2444,e.DiagnosticCategory.Error,"Property_0_is_protected_in_type_1_but_public_in_type_2_2444","Property '{0}' is protected in type '{1}' but public in type '{2}'."),Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses:t(2445,e.DiagnosticCategory.Error,"Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses_2445","Property '{0}' is protected and only accessible within class '{1}' and its subclasses."),Property_0_is_protected_and_only_accessible_through_an_instance_of_class_1:t(2446,e.DiagnosticCategory.Error,"Property_0_is_protected_and_only_accessible_through_an_instance_of_class_1_2446","Property '{0}' is protected and only accessible through an instance of class '{1}'."),The_0_operator_is_not_allowed_for_boolean_types_Consider_using_1_instead:t(2447,e.DiagnosticCategory.Error,"The_0_operator_is_not_allowed_for_boolean_types_Consider_using_1_instead_2447","The '{0}' operator is not allowed for boolean types. Consider using '{1}' instead."),Block_scoped_variable_0_used_before_its_declaration:t(2448,e.DiagnosticCategory.Error,"Block_scoped_variable_0_used_before_its_declaration_2448","Block-scoped variable '{0}' used before its declaration."),Class_0_used_before_its_declaration:t(2449,e.DiagnosticCategory.Error,"Class_0_used_before_its_declaration_2449","Class '{0}' used before its declaration."),Enum_0_used_before_its_declaration:t(2450,e.DiagnosticCategory.Error,"Enum_0_used_before_its_declaration_2450","Enum '{0}' used before its declaration."),Cannot_redeclare_block_scoped_variable_0:t(2451,e.DiagnosticCategory.Error,"Cannot_redeclare_block_scoped_variable_0_2451","Cannot redeclare block-scoped variable '{0}'."),An_enum_member_cannot_have_a_numeric_name:t(2452,e.DiagnosticCategory.Error,"An_enum_member_cannot_have_a_numeric_name_2452","An enum member cannot have a numeric name."),The_type_argument_for_type_parameter_0_cannot_be_inferred_from_the_usage_Consider_specifying_the_type_arguments_explicitly:t(2453,e.DiagnosticCategory.Error,"The_type_argument_for_type_parameter_0_cannot_be_inferred_from_the_usage_Consider_specifying_the_typ_2453","The type argument for type parameter '{0}' cannot be inferred from the usage. Consider specifying the type arguments explicitly."),Variable_0_is_used_before_being_assigned:t(2454,e.DiagnosticCategory.Error,"Variable_0_is_used_before_being_assigned_2454","Variable '{0}' is used before being assigned."),Type_argument_candidate_1_is_not_a_valid_type_argument_because_it_is_not_a_supertype_of_candidate_0:t(2455,e.DiagnosticCategory.Error,"Type_argument_candidate_1_is_not_a_valid_type_argument_because_it_is_not_a_supertype_of_candidate_0_2455","Type argument candidate '{1}' is not a valid type argument because it is not a supertype of candidate '{0}'."),Type_alias_0_circularly_references_itself:t(2456,e.DiagnosticCategory.Error,"Type_alias_0_circularly_references_itself_2456","Type alias '{0}' circularly references itself."),Type_alias_name_cannot_be_0:t(2457,e.DiagnosticCategory.Error,"Type_alias_name_cannot_be_0_2457","Type alias name cannot be '{0}'."),An_AMD_module_cannot_have_multiple_name_assignments:t(2458,e.DiagnosticCategory.Error,"An_AMD_module_cannot_have_multiple_name_assignments_2458","An AMD module cannot have multiple name assignments."),Type_0_has_no_property_1_and_no_string_index_signature:t(2459,e.DiagnosticCategory.Error,"Type_0_has_no_property_1_and_no_string_index_signature_2459","Type '{0}' has no property '{1}' and no string index signature."),Type_0_has_no_property_1:t(2460,e.DiagnosticCategory.Error,"Type_0_has_no_property_1_2460","Type '{0}' has no property '{1}'."),Type_0_is_not_an_array_type:t(2461,e.DiagnosticCategory.Error,"Type_0_is_not_an_array_type_2461","Type '{0}' is not an array type."),A_rest_element_must_be_last_in_a_destructuring_pattern:t(2462,e.DiagnosticCategory.Error,"A_rest_element_must_be_last_in_a_destructuring_pattern_2462","A rest element must be last in a destructuring pattern."),A_binding_pattern_parameter_cannot_be_optional_in_an_implementation_signature:t(2463,e.DiagnosticCategory.Error,"A_binding_pattern_parameter_cannot_be_optional_in_an_implementation_signature_2463","A binding pattern parameter cannot be optional in an implementation signature."),A_computed_property_name_must_be_of_type_string_number_symbol_or_any:t(2464,e.DiagnosticCategory.Error,"A_computed_property_name_must_be_of_type_string_number_symbol_or_any_2464","A computed property name must be of type 'string', 'number', 'symbol', or 'any'."),this_cannot_be_referenced_in_a_computed_property_name:t(2465,e.DiagnosticCategory.Error,"this_cannot_be_referenced_in_a_computed_property_name_2465","'this' cannot be referenced in a computed property name."),super_cannot_be_referenced_in_a_computed_property_name:t(2466,e.DiagnosticCategory.Error,"super_cannot_be_referenced_in_a_computed_property_name_2466","'super' cannot be referenced in a computed property name."),A_computed_property_name_cannot_reference_a_type_parameter_from_its_containing_type:t(2467,e.DiagnosticCategory.Error,"A_computed_property_name_cannot_reference_a_type_parameter_from_its_containing_type_2467","A computed property name cannot reference a type parameter from its containing type."),Cannot_find_global_value_0:t(2468,e.DiagnosticCategory.Error,"Cannot_find_global_value_0_2468","Cannot find global value '{0}'."),The_0_operator_cannot_be_applied_to_type_symbol:t(2469,e.DiagnosticCategory.Error,"The_0_operator_cannot_be_applied_to_type_symbol_2469","The '{0}' operator cannot be applied to type 'symbol'."),Symbol_reference_does_not_refer_to_the_global_Symbol_constructor_object:t(2470,e.DiagnosticCategory.Error,"Symbol_reference_does_not_refer_to_the_global_Symbol_constructor_object_2470","'Symbol' reference does not refer to the global Symbol constructor object."),A_computed_property_name_of_the_form_0_must_be_of_type_symbol:t(2471,e.DiagnosticCategory.Error,"A_computed_property_name_of_the_form_0_must_be_of_type_symbol_2471","A computed property name of the form '{0}' must be of type 'symbol'."),Spread_operator_in_new_expressions_is_only_available_when_targeting_ECMAScript_5_and_higher:t(2472,e.DiagnosticCategory.Error,"Spread_operator_in_new_expressions_is_only_available_when_targeting_ECMAScript_5_and_higher_2472","Spread operator in 'new' expressions is only available when targeting ECMAScript 5 and higher."),Enum_declarations_must_all_be_const_or_non_const:t(2473,e.DiagnosticCategory.Error,"Enum_declarations_must_all_be_const_or_non_const_2473","Enum declarations must all be const or non-const."),In_const_enum_declarations_member_initializer_must_be_constant_expression:t(2474,e.DiagnosticCategory.Error,"In_const_enum_declarations_member_initializer_must_be_constant_expression_2474","In 'const' enum declarations member initializer must be constant expression."),const_enums_can_only_be_used_in_property_or_index_access_expressions_or_the_right_hand_side_of_an_import_declaration_or_export_assignment:t(2475,e.DiagnosticCategory.Error,"const_enums_can_only_be_used_in_property_or_index_access_expressions_or_the_right_hand_side_of_an_im_2475","'const' enums can only be used in property or index access expressions or the right hand side of an import declaration or export assignment."),A_const_enum_member_can_only_be_accessed_using_a_string_literal:t(2476,e.DiagnosticCategory.Error,"A_const_enum_member_can_only_be_accessed_using_a_string_literal_2476","A const enum member can only be accessed using a string literal."),const_enum_member_initializer_was_evaluated_to_a_non_finite_value:t(2477,e.DiagnosticCategory.Error,"const_enum_member_initializer_was_evaluated_to_a_non_finite_value_2477","'const' enum member initializer was evaluated to a non-finite value."),const_enum_member_initializer_was_evaluated_to_disallowed_value_NaN:t(2478,e.DiagnosticCategory.Error,"const_enum_member_initializer_was_evaluated_to_disallowed_value_NaN_2478","'const' enum member initializer was evaluated to disallowed value 'NaN'."),Property_0_does_not_exist_on_const_enum_1:t(2479,e.DiagnosticCategory.Error,"Property_0_does_not_exist_on_const_enum_1_2479","Property '{0}' does not exist on 'const' enum '{1}'."),let_is_not_allowed_to_be_used_as_a_name_in_let_or_const_declarations:t(2480,e.DiagnosticCategory.Error,"let_is_not_allowed_to_be_used_as_a_name_in_let_or_const_declarations_2480","'let' is not allowed to be used as a name in 'let' or 'const' declarations."),Cannot_initialize_outer_scoped_variable_0_in_the_same_scope_as_block_scoped_declaration_1:t(2481,e.DiagnosticCategory.Error,"Cannot_initialize_outer_scoped_variable_0_in_the_same_scope_as_block_scoped_declaration_1_2481","Cannot initialize outer scoped variable '{0}' in the same scope as block scoped declaration '{1}'."),The_left_hand_side_of_a_for_of_statement_cannot_use_a_type_annotation:t(2483,e.DiagnosticCategory.Error,"The_left_hand_side_of_a_for_of_statement_cannot_use_a_type_annotation_2483","The left-hand side of a 'for...of' statement cannot use a type annotation."),Export_declaration_conflicts_with_exported_declaration_of_0:t(2484,e.DiagnosticCategory.Error,"Export_declaration_conflicts_with_exported_declaration_of_0_2484","Export declaration conflicts with exported declaration of '{0}'."),The_left_hand_side_of_a_for_of_statement_must_be_a_variable_or_a_property_access:t(2487,e.DiagnosticCategory.Error,"The_left_hand_side_of_a_for_of_statement_must_be_a_variable_or_a_property_access_2487","The left-hand side of a 'for...of' statement must be a variable or a property access."),Type_must_have_a_Symbol_iterator_method_that_returns_an_iterator:t(2488,e.DiagnosticCategory.Error,"Type_must_have_a_Symbol_iterator_method_that_returns_an_iterator_2488","Type must have a '[Symbol.iterator]()' method that returns an iterator."),An_iterator_must_have_a_next_method:t(2489,e.DiagnosticCategory.Error,"An_iterator_must_have_a_next_method_2489","An iterator must have a 'next()' method."),The_type_returned_by_the_next_method_of_an_iterator_must_have_a_value_property:t(2490,e.DiagnosticCategory.Error,"The_type_returned_by_the_next_method_of_an_iterator_must_have_a_value_property_2490","The type returned by the 'next()' method of an iterator must have a 'value' property."),The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern:t(2491,e.DiagnosticCategory.Error,"The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern_2491","The left-hand side of a 'for...in' statement cannot be a destructuring pattern."),Cannot_redeclare_identifier_0_in_catch_clause:t(2492,e.DiagnosticCategory.Error,"Cannot_redeclare_identifier_0_in_catch_clause_2492","Cannot redeclare identifier '{0}' in catch clause."),Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2:t(2493,e.DiagnosticCategory.Error,"Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2_2493","Tuple type '{0}' with length '{1}' cannot be assigned to tuple with length '{2}'."),Using_a_string_in_a_for_of_statement_is_only_supported_in_ECMAScript_5_and_higher:t(2494,e.DiagnosticCategory.Error,"Using_a_string_in_a_for_of_statement_is_only_supported_in_ECMAScript_5_and_higher_2494","Using a string in a 'for...of' statement is only supported in ECMAScript 5 and higher."),Type_0_is_not_an_array_type_or_a_string_type:t(2495,e.DiagnosticCategory.Error,"Type_0_is_not_an_array_type_or_a_string_type_2495","Type '{0}' is not an array type or a string type."),The_arguments_object_cannot_be_referenced_in_an_arrow_function_in_ES3_and_ES5_Consider_using_a_standard_function_expression:t(2496,e.DiagnosticCategory.Error,"The_arguments_object_cannot_be_referenced_in_an_arrow_function_in_ES3_and_ES5_Consider_using_a_stand_2496","The 'arguments' object cannot be referenced in an arrow function in ES3 and ES5. Consider using a standard function expression."),Module_0_resolves_to_a_non_module_entity_and_cannot_be_imported_using_this_construct:t(2497,e.DiagnosticCategory.Error,"Module_0_resolves_to_a_non_module_entity_and_cannot_be_imported_using_this_construct_2497","Module '{0}' resolves to a non-module entity and cannot be imported using this construct."),Module_0_uses_export_and_cannot_be_used_with_export_Asterisk:t(2498,e.DiagnosticCategory.Error,"Module_0_uses_export_and_cannot_be_used_with_export_Asterisk_2498","Module '{0}' uses 'export =' and cannot be used with 'export *'."),An_interface_can_only_extend_an_identifier_Slashqualified_name_with_optional_type_arguments:t(2499,e.DiagnosticCategory.Error,"An_interface_can_only_extend_an_identifier_Slashqualified_name_with_optional_type_arguments_2499","An interface can only extend an identifier/qualified-name with optional type arguments."),A_class_can_only_implement_an_identifier_Slashqualified_name_with_optional_type_arguments:t(2500,e.DiagnosticCategory.Error,"A_class_can_only_implement_an_identifier_Slashqualified_name_with_optional_type_arguments_2500","A class can only implement an identifier/qualified-name with optional type arguments."),A_rest_element_cannot_contain_a_binding_pattern:t(2501,e.DiagnosticCategory.Error,"A_rest_element_cannot_contain_a_binding_pattern_2501","A rest element cannot contain a binding pattern."),_0_is_referenced_directly_or_indirectly_in_its_own_type_annotation:t(2502,e.DiagnosticCategory.Error,"_0_is_referenced_directly_or_indirectly_in_its_own_type_annotation_2502","'{0}' is referenced directly or indirectly in its own type annotation."),Cannot_find_namespace_0:t(2503,e.DiagnosticCategory.Error,"Cannot_find_namespace_0_2503","Cannot find namespace '{0}'."),Type_must_have_a_Symbol_asyncIterator_method_that_returns_an_async_iterator:t(2504,e.DiagnosticCategory.Error,"Type_must_have_a_Symbol_asyncIterator_method_that_returns_an_async_iterator_2504","Type must have a '[Symbol.asyncIterator]()' method that returns an async iterator."),A_generator_cannot_have_a_void_type_annotation:t(2505,e.DiagnosticCategory.Error,"A_generator_cannot_have_a_void_type_annotation_2505","A generator cannot have a 'void' type annotation."),_0_is_referenced_directly_or_indirectly_in_its_own_base_expression:t(2506,e.DiagnosticCategory.Error,"_0_is_referenced_directly_or_indirectly_in_its_own_base_expression_2506","'{0}' is referenced directly or indirectly in its own base expression."),Type_0_is_not_a_constructor_function_type:t(2507,e.DiagnosticCategory.Error,"Type_0_is_not_a_constructor_function_type_2507","Type '{0}' is not a constructor function type."),No_base_constructor_has_the_specified_number_of_type_arguments:t(2508,e.DiagnosticCategory.Error,"No_base_constructor_has_the_specified_number_of_type_arguments_2508","No base constructor has the specified number of type arguments."),Base_constructor_return_type_0_is_not_a_class_or_interface_type:t(2509,e.DiagnosticCategory.Error,"Base_constructor_return_type_0_is_not_a_class_or_interface_type_2509","Base constructor return type '{0}' is not a class or interface type."),Base_constructors_must_all_have_the_same_return_type:t(2510,e.DiagnosticCategory.Error,"Base_constructors_must_all_have_the_same_return_type_2510","Base constructors must all have the same return type."),Cannot_create_an_instance_of_the_abstract_class_0:t(2511,e.DiagnosticCategory.Error,"Cannot_create_an_instance_of_the_abstract_class_0_2511","Cannot create an instance of the abstract class '{0}'."),Overload_signatures_must_all_be_abstract_or_non_abstract:t(2512,e.DiagnosticCategory.Error,"Overload_signatures_must_all_be_abstract_or_non_abstract_2512","Overload signatures must all be abstract or non-abstract."),Abstract_method_0_in_class_1_cannot_be_accessed_via_super_expression:t(2513,e.DiagnosticCategory.Error,"Abstract_method_0_in_class_1_cannot_be_accessed_via_super_expression_2513","Abstract method '{0}' in class '{1}' cannot be accessed via super expression."),Classes_containing_abstract_methods_must_be_marked_abstract:t(2514,e.DiagnosticCategory.Error,"Classes_containing_abstract_methods_must_be_marked_abstract_2514","Classes containing abstract methods must be marked abstract."),Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_class_2:t(2515,e.DiagnosticCategory.Error,"Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_class_2_2515","Non-abstract class '{0}' does not implement inherited abstract member '{1}' from class '{2}'."),All_declarations_of_an_abstract_method_must_be_consecutive:t(2516,e.DiagnosticCategory.Error,"All_declarations_of_an_abstract_method_must_be_consecutive_2516","All declarations of an abstract method must be consecutive."),Cannot_assign_an_abstract_constructor_type_to_a_non_abstract_constructor_type:t(2517,e.DiagnosticCategory.Error,"Cannot_assign_an_abstract_constructor_type_to_a_non_abstract_constructor_type_2517","Cannot assign an abstract constructor type to a non-abstract constructor type."),A_this_based_type_guard_is_not_compatible_with_a_parameter_based_type_guard:t(2518,e.DiagnosticCategory.Error,"A_this_based_type_guard_is_not_compatible_with_a_parameter_based_type_guard_2518","A 'this'-based type guard is not compatible with a parameter-based type guard."),An_async_iterator_must_have_a_next_method:t(2519,e.DiagnosticCategory.Error,"An_async_iterator_must_have_a_next_method_2519","An async iterator must have a 'next()' method."),Duplicate_identifier_0_Compiler_uses_declaration_1_to_support_async_functions:t(2520,e.DiagnosticCategory.Error,"Duplicate_identifier_0_Compiler_uses_declaration_1_to_support_async_functions_2520","Duplicate identifier '{0}'. Compiler uses declaration '{1}' to support async functions."),Expression_resolves_to_variable_declaration_0_that_compiler_uses_to_support_async_functions:t(2521,e.DiagnosticCategory.Error,"Expression_resolves_to_variable_declaration_0_that_compiler_uses_to_support_async_functions_2521","Expression resolves to variable declaration '{0}' that compiler uses to support async functions."),The_arguments_object_cannot_be_referenced_in_an_async_function_or_method_in_ES3_and_ES5_Consider_using_a_standard_function_or_method:t(2522,e.DiagnosticCategory.Error,"The_arguments_object_cannot_be_referenced_in_an_async_function_or_method_in_ES3_and_ES5_Consider_usi_2522","The 'arguments' object cannot be referenced in an async function or method in ES3 and ES5. Consider using a standard function or method."),yield_expressions_cannot_be_used_in_a_parameter_initializer:t(2523,e.DiagnosticCategory.Error,"yield_expressions_cannot_be_used_in_a_parameter_initializer_2523","'yield' expressions cannot be used in a parameter initializer."),await_expressions_cannot_be_used_in_a_parameter_initializer:t(2524,e.DiagnosticCategory.Error,"await_expressions_cannot_be_used_in_a_parameter_initializer_2524","'await' expressions cannot be used in a parameter initializer."),Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value:t(2525,e.DiagnosticCategory.Error,"Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value_2525","Initializer provides no value for this binding element and the binding element has no default value."),A_this_type_is_available_only_in_a_non_static_member_of_a_class_or_interface:t(2526,e.DiagnosticCategory.Error,"A_this_type_is_available_only_in_a_non_static_member_of_a_class_or_interface_2526","A 'this' type is available only in a non-static member of a class or interface."),The_inferred_type_of_0_references_an_inaccessible_this_type_A_type_annotation_is_necessary:t(2527,e.DiagnosticCategory.Error,"The_inferred_type_of_0_references_an_inaccessible_this_type_A_type_annotation_is_necessary_2527","The inferred type of '{0}' references an inaccessible 'this' type. A type annotation is necessary."),A_module_cannot_have_multiple_default_exports:t(2528,e.DiagnosticCategory.Error,"A_module_cannot_have_multiple_default_exports_2528","A module cannot have multiple default exports."),Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module_containing_async_functions:t(2529,e.DiagnosticCategory.Error,"Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module_containing_async_func_2529","Duplicate identifier '{0}'. Compiler reserves name '{1}' in top level scope of a module containing async functions."),Property_0_is_incompatible_with_index_signature:t(2530,e.DiagnosticCategory.Error,"Property_0_is_incompatible_with_index_signature_2530","Property '{0}' is incompatible with index signature."),Object_is_possibly_null:t(2531,e.DiagnosticCategory.Error,"Object_is_possibly_null_2531","Object is possibly 'null'."),Object_is_possibly_undefined:t(2532,e.DiagnosticCategory.Error,"Object_is_possibly_undefined_2532","Object is possibly 'undefined'."),Object_is_possibly_null_or_undefined:t(2533,e.DiagnosticCategory.Error,"Object_is_possibly_null_or_undefined_2533","Object is possibly 'null' or 'undefined'."),A_function_returning_never_cannot_have_a_reachable_end_point:t(2534,e.DiagnosticCategory.Error,"A_function_returning_never_cannot_have_a_reachable_end_point_2534","A function returning 'never' cannot have a reachable end point."),Enum_type_0_has_members_with_initializers_that_are_not_literals:t(2535,e.DiagnosticCategory.Error,"Enum_type_0_has_members_with_initializers_that_are_not_literals_2535","Enum type '{0}' has members with initializers that are not literals."),Type_0_cannot_be_used_to_index_type_1:t(2536,e.DiagnosticCategory.Error,"Type_0_cannot_be_used_to_index_type_1_2536","Type '{0}' cannot be used to index type '{1}'."),Type_0_has_no_matching_index_signature_for_type_1:t(2537,e.DiagnosticCategory.Error,"Type_0_has_no_matching_index_signature_for_type_1_2537","Type '{0}' has no matching index signature for type '{1}'."),Type_0_cannot_be_used_as_an_index_type:t(2538,e.DiagnosticCategory.Error,"Type_0_cannot_be_used_as_an_index_type_2538","Type '{0}' cannot be used as an index type."),Cannot_assign_to_0_because_it_is_not_a_variable:t(2539,e.DiagnosticCategory.Error,"Cannot_assign_to_0_because_it_is_not_a_variable_2539","Cannot assign to '{0}' because it is not a variable."),Cannot_assign_to_0_because_it_is_a_constant_or_a_read_only_property:t(2540,e.DiagnosticCategory.Error,"Cannot_assign_to_0_because_it_is_a_constant_or_a_read_only_property_2540","Cannot assign to '{0}' because it is a constant or a read-only property."),The_target_of_an_assignment_must_be_a_variable_or_a_property_access:t(2541,e.DiagnosticCategory.Error,"The_target_of_an_assignment_must_be_a_variable_or_a_property_access_2541","The target of an assignment must be a variable or a property access."),Index_signature_in_type_0_only_permits_reading:t(2542,e.DiagnosticCategory.Error,"Index_signature_in_type_0_only_permits_reading_2542","Index signature in type '{0}' only permits reading."),Duplicate_identifier_newTarget_Compiler_uses_variable_declaration_newTarget_to_capture_new_target_meta_property_reference:t(2543,e.DiagnosticCategory.Error,"Duplicate_identifier_newTarget_Compiler_uses_variable_declaration_newTarget_to_capture_new_target_me_2543","Duplicate identifier '_newTarget'. Compiler uses variable declaration '_newTarget' to capture 'new.target' meta-property reference."),Expression_resolves_to_variable_declaration_newTarget_that_compiler_uses_to_capture_new_target_meta_property_reference:t(2544,e.DiagnosticCategory.Error,"Expression_resolves_to_variable_declaration_newTarget_that_compiler_uses_to_capture_new_target_meta__2544","Expression resolves to variable declaration '_newTarget' that compiler uses to capture 'new.target' meta-property reference."),A_mixin_class_must_have_a_constructor_with_a_single_rest_parameter_of_type_any:t(2545,e.DiagnosticCategory.Error,"A_mixin_class_must_have_a_constructor_with_a_single_rest_parameter_of_type_any_2545","A mixin class must have a constructor with a single rest parameter of type 'any[]'."),Property_0_has_conflicting_declarations_and_is_inaccessible_in_type_1:t(2546,e.DiagnosticCategory.Error,"Property_0_has_conflicting_declarations_and_is_inaccessible_in_type_1_2546","Property '{0}' has conflicting declarations and is inaccessible in type '{1}'."),The_type_returned_by_the_next_method_of_an_async_iterator_must_be_a_promise_for_a_type_with_a_value_property:t(2547,e.DiagnosticCategory.Error,"The_type_returned_by_the_next_method_of_an_async_iterator_must_be_a_promise_for_a_type_with_a_value__2547","The type returned by the 'next()' method of an async iterator must be a promise for a type with a 'value' property."),Type_0_is_not_an_array_type_or_does_not_have_a_Symbol_iterator_method_that_returns_an_iterator:t(2548,e.DiagnosticCategory.Error,"Type_0_is_not_an_array_type_or_does_not_have_a_Symbol_iterator_method_that_returns_an_iterator_2548","Type '{0}' is not an array type or does not have a '[Symbol.iterator]()' method that returns an iterator."),Type_0_is_not_an_array_type_or_a_string_type_or_does_not_have_a_Symbol_iterator_method_that_returns_an_iterator:t(2549,e.DiagnosticCategory.Error,"Type_0_is_not_an_array_type_or_a_string_type_or_does_not_have_a_Symbol_iterator_method_that_returns__2549","Type '{0}' is not an array type or a string type or does not have a '[Symbol.iterator]()' method that returns an iterator."),Generic_type_instantiation_is_excessively_deep_and_possibly_infinite:t(2550,e.DiagnosticCategory.Error,"Generic_type_instantiation_is_excessively_deep_and_possibly_infinite_2550","Generic type instantiation is excessively deep and possibly infinite."),Property_0_does_not_exist_on_type_1_Did_you_mean_2:t(2551,e.DiagnosticCategory.Error,"Property_0_does_not_exist_on_type_1_Did_you_mean_2_2551","Property '{0}' does not exist on type '{1}'. Did you mean '{2}'?"),Cannot_find_name_0_Did_you_mean_1:t(2552,e.DiagnosticCategory.Error,"Cannot_find_name_0_Did_you_mean_1_2552","Cannot find name '{0}'. Did you mean '{1}'?"),Computed_values_are_not_permitted_in_an_enum_with_string_valued_members:t(2553,e.DiagnosticCategory.Error,"Computed_values_are_not_permitted_in_an_enum_with_string_valued_members_2553","Computed values are not permitted in an enum with string valued members."),Expected_0_arguments_but_got_1:t(2554,e.DiagnosticCategory.Error,"Expected_0_arguments_but_got_1_2554","Expected {0} arguments, but got {1}."),Expected_at_least_0_arguments_but_got_1:t(2555,e.DiagnosticCategory.Error,"Expected_at_least_0_arguments_but_got_1_2555","Expected at least {0} arguments, but got {1}."),Expected_0_arguments_but_got_a_minimum_of_1:t(2556,e.DiagnosticCategory.Error,"Expected_0_arguments_but_got_a_minimum_of_1_2556","Expected {0} arguments, but got a minimum of {1}."),Expected_at_least_0_arguments_but_got_a_minimum_of_1:t(2557,e.DiagnosticCategory.Error,"Expected_at_least_0_arguments_but_got_a_minimum_of_1_2557","Expected at least {0} arguments, but got a minimum of {1}."),Expected_0_type_arguments_but_got_1:t(2558,e.DiagnosticCategory.Error,"Expected_0_type_arguments_but_got_1_2558","Expected {0} type arguments, but got {1}."),Type_0_has_no_properties_in_common_with_type_1:t(2559,e.DiagnosticCategory.Error,"Type_0_has_no_properties_in_common_with_type_1_2559","Type '{0}' has no properties in common with type '{1}'."),Value_of_type_0_has_no_properties_in_common_with_type_1_Did_you_mean_to_call_it:t(2560,e.DiagnosticCategory.Error,"Value_of_type_0_has_no_properties_in_common_with_type_1_Did_you_mean_to_call_it_2560","Value of type '{0}' has no properties in common with type '{1}'. Did you mean to call it?"),Object_literal_may_only_specify_known_properties_but_0_does_not_exist_in_type_1_Did_you_mean_to_write_2:t(2561,e.DiagnosticCategory.Error,"Object_literal_may_only_specify_known_properties_but_0_does_not_exist_in_type_1_Did_you_mean_to_writ_2561","Object literal may only specify known properties, but '{0}' does not exist in type '{1}'. Did you mean to write '{2}'?"),Base_class_expressions_cannot_reference_class_type_parameters:t(2562,e.DiagnosticCategory.Error,"Base_class_expressions_cannot_reference_class_type_parameters_2562","Base class expressions cannot reference class type parameters."),The_containing_function_or_module_body_is_too_large_for_control_flow_analysis:t(2563,e.DiagnosticCategory.Error,"The_containing_function_or_module_body_is_too_large_for_control_flow_analysis_2563","The containing function or module body is too large for control flow analysis."),JSX_element_attributes_type_0_may_not_be_a_union_type:t(2600,e.DiagnosticCategory.Error,"JSX_element_attributes_type_0_may_not_be_a_union_type_2600","JSX element attributes type '{0}' may not be a union type."),The_return_type_of_a_JSX_element_constructor_must_return_an_object_type:t(2601,e.DiagnosticCategory.Error,"The_return_type_of_a_JSX_element_constructor_must_return_an_object_type_2601","The return type of a JSX element constructor must return an object type."),JSX_element_implicitly_has_type_any_because_the_global_type_JSX_Element_does_not_exist:t(2602,e.DiagnosticCategory.Error,"JSX_element_implicitly_has_type_any_because_the_global_type_JSX_Element_does_not_exist_2602","JSX element implicitly has type 'any' because the global type 'JSX.Element' does not exist."),Property_0_in_type_1_is_not_assignable_to_type_2:t(2603,e.DiagnosticCategory.Error,"Property_0_in_type_1_is_not_assignable_to_type_2_2603","Property '{0}' in type '{1}' is not assignable to type '{2}'."),JSX_element_type_0_does_not_have_any_construct_or_call_signatures:t(2604,e.DiagnosticCategory.Error,"JSX_element_type_0_does_not_have_any_construct_or_call_signatures_2604","JSX element type '{0}' does not have any construct or call signatures."),JSX_element_type_0_is_not_a_constructor_function_for_JSX_elements:t(2605,e.DiagnosticCategory.Error,"JSX_element_type_0_is_not_a_constructor_function_for_JSX_elements_2605","JSX element type '{0}' is not a constructor function for JSX elements."),Property_0_of_JSX_spread_attribute_is_not_assignable_to_target_property:t(2606,e.DiagnosticCategory.Error,"Property_0_of_JSX_spread_attribute_is_not_assignable_to_target_property_2606","Property '{0}' of JSX spread attribute is not assignable to target property."),JSX_element_class_does_not_support_attributes_because_it_does_not_have_a_0_property:t(2607,e.DiagnosticCategory.Error,"JSX_element_class_does_not_support_attributes_because_it_does_not_have_a_0_property_2607","JSX element class does not support attributes because it does not have a '{0}' property."),The_global_type_JSX_0_may_not_have_more_than_one_property:t(2608,e.DiagnosticCategory.Error,"The_global_type_JSX_0_may_not_have_more_than_one_property_2608","The global type 'JSX.{0}' may not have more than one property."),JSX_spread_child_must_be_an_array_type:t(2609,e.DiagnosticCategory.Error,"JSX_spread_child_must_be_an_array_type_2609","JSX spread child must be an array type."),Cannot_augment_module_0_with_value_exports_because_it_resolves_to_a_non_module_entity:t(2649,e.DiagnosticCategory.Error,"Cannot_augment_module_0_with_value_exports_because_it_resolves_to_a_non_module_entity_2649","Cannot augment module '{0}' with value exports because it resolves to a non-module entity."),A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_members_defined_in_other_enums:t(2651,e.DiagnosticCategory.Error,"A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_memb_2651","A member initializer in a enum declaration cannot reference members declared after it, including members defined in other enums."),Merged_declaration_0_cannot_include_a_default_export_declaration_Consider_adding_a_separate_export_default_0_declaration_instead:t(2652,e.DiagnosticCategory.Error,"Merged_declaration_0_cannot_include_a_default_export_declaration_Consider_adding_a_separate_export_d_2652","Merged declaration '{0}' cannot include a default export declaration. Consider adding a separate 'export default {0}' declaration instead."),Non_abstract_class_expression_does_not_implement_inherited_abstract_member_0_from_class_1:t(2653,e.DiagnosticCategory.Error,"Non_abstract_class_expression_does_not_implement_inherited_abstract_member_0_from_class_1_2653","Non-abstract class expression does not implement inherited abstract member '{0}' from class '{1}'."),Exported_external_package_typings_file_cannot_contain_tripleslash_references_Please_contact_the_package_author_to_update_the_package_definition:t(2654,e.DiagnosticCategory.Error,"Exported_external_package_typings_file_cannot_contain_tripleslash_references_Please_contact_the_pack_2654","Exported external package typings file cannot contain tripleslash references. Please contact the package author to update the package definition."),Exported_external_package_typings_file_0_is_not_a_module_Please_contact_the_package_author_to_update_the_package_definition:t(2656,e.DiagnosticCategory.Error,"Exported_external_package_typings_file_0_is_not_a_module_Please_contact_the_package_author_to_update_2656","Exported external package typings file '{0}' is not a module. Please contact the package author to update the package definition."),JSX_expressions_must_have_one_parent_element:t(2657,e.DiagnosticCategory.Error,"JSX_expressions_must_have_one_parent_element_2657","JSX expressions must have one parent element."),Type_0_provides_no_match_for_the_signature_1:t(2658,e.DiagnosticCategory.Error,"Type_0_provides_no_match_for_the_signature_1_2658","Type '{0}' provides no match for the signature '{1}'."),super_is_only_allowed_in_members_of_object_literal_expressions_when_option_target_is_ES2015_or_higher:t(2659,e.DiagnosticCategory.Error,"super_is_only_allowed_in_members_of_object_literal_expressions_when_option_target_is_ES2015_or_highe_2659","'super' is only allowed in members of object literal expressions when option 'target' is 'ES2015' or higher."),super_can_only_be_referenced_in_members_of_derived_classes_or_object_literal_expressions:t(2660,e.DiagnosticCategory.Error,"super_can_only_be_referenced_in_members_of_derived_classes_or_object_literal_expressions_2660","'super' can only be referenced in members of derived classes or object literal expressions."),Cannot_export_0_Only_local_declarations_can_be_exported_from_a_module:t(2661,e.DiagnosticCategory.Error,"Cannot_export_0_Only_local_declarations_can_be_exported_from_a_module_2661","Cannot export '{0}'. Only local declarations can be exported from a module."),Cannot_find_name_0_Did_you_mean_the_static_member_1_0:t(2662,e.DiagnosticCategory.Error,"Cannot_find_name_0_Did_you_mean_the_static_member_1_0_2662","Cannot find name '{0}'. Did you mean the static member '{1}.{0}'?"),Cannot_find_name_0_Did_you_mean_the_instance_member_this_0:t(2663,e.DiagnosticCategory.Error,"Cannot_find_name_0_Did_you_mean_the_instance_member_this_0_2663","Cannot find name '{0}'. Did you mean the instance member 'this.{0}'?"),Invalid_module_name_in_augmentation_module_0_cannot_be_found:t(2664,e.DiagnosticCategory.Error,"Invalid_module_name_in_augmentation_module_0_cannot_be_found_2664","Invalid module name in augmentation, module '{0}' cannot be found."),Invalid_module_name_in_augmentation_Module_0_resolves_to_an_untyped_module_at_1_which_cannot_be_augmented:t(2665,e.DiagnosticCategory.Error,"Invalid_module_name_in_augmentation_Module_0_resolves_to_an_untyped_module_at_1_which_cannot_be_augm_2665","Invalid module name in augmentation. Module '{0}' resolves to an untyped module at '{1}', which cannot be augmented."),Exports_and_export_assignments_are_not_permitted_in_module_augmentations:t(2666,e.DiagnosticCategory.Error,"Exports_and_export_assignments_are_not_permitted_in_module_augmentations_2666","Exports and export assignments are not permitted in module augmentations."),Imports_are_not_permitted_in_module_augmentations_Consider_moving_them_to_the_enclosing_external_module:t(2667,e.DiagnosticCategory.Error,"Imports_are_not_permitted_in_module_augmentations_Consider_moving_them_to_the_enclosing_external_mod_2667","Imports are not permitted in module augmentations. Consider moving them to the enclosing external module."),export_modifier_cannot_be_applied_to_ambient_modules_and_module_augmentations_since_they_are_always_visible:t(2668,e.DiagnosticCategory.Error,"export_modifier_cannot_be_applied_to_ambient_modules_and_module_augmentations_since_they_are_always__2668","'export' modifier cannot be applied to ambient modules and module augmentations since they are always visible."),Augmentations_for_the_global_scope_can_only_be_directly_nested_in_external_modules_or_ambient_module_declarations:t(2669,e.DiagnosticCategory.Error,"Augmentations_for_the_global_scope_can_only_be_directly_nested_in_external_modules_or_ambient_module_2669","Augmentations for the global scope can only be directly nested in external modules or ambient module declarations."),Augmentations_for_the_global_scope_should_have_declare_modifier_unless_they_appear_in_already_ambient_context:t(2670,e.DiagnosticCategory.Error,"Augmentations_for_the_global_scope_should_have_declare_modifier_unless_they_appear_in_already_ambien_2670","Augmentations for the global scope should have 'declare' modifier unless they appear in already ambient context."),Cannot_augment_module_0_because_it_resolves_to_a_non_module_entity:t(2671,e.DiagnosticCategory.Error,"Cannot_augment_module_0_because_it_resolves_to_a_non_module_entity_2671","Cannot augment module '{0}' because it resolves to a non-module entity."),Cannot_assign_a_0_constructor_type_to_a_1_constructor_type:t(2672,e.DiagnosticCategory.Error,"Cannot_assign_a_0_constructor_type_to_a_1_constructor_type_2672","Cannot assign a '{0}' constructor type to a '{1}' constructor type."),Constructor_of_class_0_is_private_and_only_accessible_within_the_class_declaration:t(2673,e.DiagnosticCategory.Error,"Constructor_of_class_0_is_private_and_only_accessible_within_the_class_declaration_2673","Constructor of class '{0}' is private and only accessible within the class declaration."),Constructor_of_class_0_is_protected_and_only_accessible_within_the_class_declaration:t(2674,e.DiagnosticCategory.Error,"Constructor_of_class_0_is_protected_and_only_accessible_within_the_class_declaration_2674","Constructor of class '{0}' is protected and only accessible within the class declaration."),Cannot_extend_a_class_0_Class_constructor_is_marked_as_private:t(2675,e.DiagnosticCategory.Error,"Cannot_extend_a_class_0_Class_constructor_is_marked_as_private_2675","Cannot extend a class '{0}'. Class constructor is marked as private."),Accessors_must_both_be_abstract_or_non_abstract:t(2676,e.DiagnosticCategory.Error,"Accessors_must_both_be_abstract_or_non_abstract_2676","Accessors must both be abstract or non-abstract."),A_type_predicate_s_type_must_be_assignable_to_its_parameter_s_type:t(2677,e.DiagnosticCategory.Error,"A_type_predicate_s_type_must_be_assignable_to_its_parameter_s_type_2677","A type predicate's type must be assignable to its parameter's type."),Type_0_is_not_comparable_to_type_1:t(2678,e.DiagnosticCategory.Error,"Type_0_is_not_comparable_to_type_1_2678","Type '{0}' is not comparable to type '{1}'."),A_function_that_is_called_with_the_new_keyword_cannot_have_a_this_type_that_is_void:t(2679,e.DiagnosticCategory.Error,"A_function_that_is_called_with_the_new_keyword_cannot_have_a_this_type_that_is_void_2679","A function that is called with the 'new' keyword cannot have a 'this' type that is 'void'."),A_0_parameter_must_be_the_first_parameter:t(2680,e.DiagnosticCategory.Error,"A_0_parameter_must_be_the_first_parameter_2680","A '{0}' parameter must be the first parameter."),A_constructor_cannot_have_a_this_parameter:t(2681,e.DiagnosticCategory.Error,"A_constructor_cannot_have_a_this_parameter_2681","A constructor cannot have a 'this' parameter."),get_and_set_accessor_must_have_the_same_this_type:t(2682,e.DiagnosticCategory.Error,"get_and_set_accessor_must_have_the_same_this_type_2682","'get' and 'set' accessor must have the same 'this' type."),this_implicitly_has_type_any_because_it_does_not_have_a_type_annotation:t(2683,e.DiagnosticCategory.Error,"this_implicitly_has_type_any_because_it_does_not_have_a_type_annotation_2683","'this' implicitly has type 'any' because it does not have a type annotation."),The_this_context_of_type_0_is_not_assignable_to_method_s_this_of_type_1:t(2684,e.DiagnosticCategory.Error,"The_this_context_of_type_0_is_not_assignable_to_method_s_this_of_type_1_2684","The 'this' context of type '{0}' is not assignable to method's 'this' of type '{1}'."),The_this_types_of_each_signature_are_incompatible:t(2685,e.DiagnosticCategory.Error,"The_this_types_of_each_signature_are_incompatible_2685","The 'this' types of each signature are incompatible."),_0_refers_to_a_UMD_global_but_the_current_file_is_a_module_Consider_adding_an_import_instead:t(2686,e.DiagnosticCategory.Error,"_0_refers_to_a_UMD_global_but_the_current_file_is_a_module_Consider_adding_an_import_instead_2686","'{0}' refers to a UMD global, but the current file is a module. Consider adding an import instead."),All_declarations_of_0_must_have_identical_modifiers:t(2687,e.DiagnosticCategory.Error,"All_declarations_of_0_must_have_identical_modifiers_2687","All declarations of '{0}' must have identical modifiers."),Cannot_find_type_definition_file_for_0:t(2688,e.DiagnosticCategory.Error,"Cannot_find_type_definition_file_for_0_2688","Cannot find type definition file for '{0}'."),Cannot_extend_an_interface_0_Did_you_mean_implements:t(2689,e.DiagnosticCategory.Error,"Cannot_extend_an_interface_0_Did_you_mean_implements_2689","Cannot extend an interface '{0}'. Did you mean 'implements'?"),An_import_path_cannot_end_with_a_0_extension_Consider_importing_1_instead:t(2691,e.DiagnosticCategory.Error,"An_import_path_cannot_end_with_a_0_extension_Consider_importing_1_instead_2691","An import path cannot end with a '{0}' extension. Consider importing '{1}' instead."),_0_is_a_primitive_but_1_is_a_wrapper_object_Prefer_using_0_when_possible:t(2692,e.DiagnosticCategory.Error,"_0_is_a_primitive_but_1_is_a_wrapper_object_Prefer_using_0_when_possible_2692","'{0}' is a primitive, but '{1}' is a wrapper object. Prefer using '{0}' when possible."),_0_only_refers_to_a_type_but_is_being_used_as_a_value_here:t(2693,e.DiagnosticCategory.Error,"_0_only_refers_to_a_type_but_is_being_used_as_a_value_here_2693","'{0}' only refers to a type, but is being used as a value here."),Namespace_0_has_no_exported_member_1:t(2694,e.DiagnosticCategory.Error,"Namespace_0_has_no_exported_member_1_2694","Namespace '{0}' has no exported member '{1}'."),Left_side_of_comma_operator_is_unused_and_has_no_side_effects:t(2695,e.DiagnosticCategory.Error,"Left_side_of_comma_operator_is_unused_and_has_no_side_effects_2695","Left side of comma operator is unused and has no side effects."),The_Object_type_is_assignable_to_very_few_other_types_Did_you_mean_to_use_the_any_type_instead:t(2696,e.DiagnosticCategory.Error,"The_Object_type_is_assignable_to_very_few_other_types_Did_you_mean_to_use_the_any_type_instead_2696","The 'Object' type is assignable to very few other types. Did you mean to use the 'any' type instead?"),An_async_function_or_method_must_return_a_Promise_Make_sure_you_have_a_declaration_for_Promise_or_include_ES2015_in_your_lib_option:t(2697,e.DiagnosticCategory.Error,"An_async_function_or_method_must_return_a_Promise_Make_sure_you_have_a_declaration_for_Promise_or_in_2697","An async function or method must return a 'Promise'. Make sure you have a declaration for 'Promise' or include 'ES2015' in your `--lib` option."),Spread_types_may_only_be_created_from_object_types:t(2698,e.DiagnosticCategory.Error,"Spread_types_may_only_be_created_from_object_types_2698","Spread types may only be created from object types."),Static_property_0_conflicts_with_built_in_property_Function_0_of_constructor_function_1:t(2699,e.DiagnosticCategory.Error,"Static_property_0_conflicts_with_built_in_property_Function_0_of_constructor_function_1_2699","Static property '{0}' conflicts with built-in property 'Function.{0}' of constructor function '{1}'."),Rest_types_may_only_be_created_from_object_types:t(2700,e.DiagnosticCategory.Error,"Rest_types_may_only_be_created_from_object_types_2700","Rest types may only be created from object types."),The_target_of_an_object_rest_assignment_must_be_a_variable_or_a_property_access:t(2701,e.DiagnosticCategory.Error,"The_target_of_an_object_rest_assignment_must_be_a_variable_or_a_property_access_2701","The target of an object rest assignment must be a variable or a property access."),_0_only_refers_to_a_type_but_is_being_used_as_a_namespace_here:t(2702,e.DiagnosticCategory.Error,"_0_only_refers_to_a_type_but_is_being_used_as_a_namespace_here_2702","'{0}' only refers to a type, but is being used as a namespace here."),The_operand_of_a_delete_operator_must_be_a_property_reference:t(2703,e.DiagnosticCategory.Error,"The_operand_of_a_delete_operator_must_be_a_property_reference_2703","The operand of a delete operator must be a property reference."),The_operand_of_a_delete_operator_cannot_be_a_read_only_property:t(2704,e.DiagnosticCategory.Error,"The_operand_of_a_delete_operator_cannot_be_a_read_only_property_2704","The operand of a delete operator cannot be a read-only property."),An_async_function_or_method_in_ES5_SlashES3_requires_the_Promise_constructor_Make_sure_you_have_a_declaration_for_the_Promise_constructor_or_include_ES2015_in_your_lib_option:t(2705,e.DiagnosticCategory.Error,"An_async_function_or_method_in_ES5_SlashES3_requires_the_Promise_constructor_Make_sure_you_have_a_de_2705","An async function or method in ES5/ES3 requires the 'Promise' constructor.  Make sure you have a declaration for the 'Promise' constructor or include 'ES2015' in your `--lib` option."),Required_type_parameters_may_not_follow_optional_type_parameters:t(2706,e.DiagnosticCategory.Error,"Required_type_parameters_may_not_follow_optional_type_parameters_2706","Required type parameters may not follow optional type parameters."),Generic_type_0_requires_between_1_and_2_type_arguments:t(2707,e.DiagnosticCategory.Error,"Generic_type_0_requires_between_1_and_2_type_arguments_2707","Generic type '{0}' requires between {1} and {2} type arguments."),Cannot_use_namespace_0_as_a_value:t(2708,e.DiagnosticCategory.Error,"Cannot_use_namespace_0_as_a_value_2708","Cannot use namespace '{0}' as a value."),Cannot_use_namespace_0_as_a_type:t(2709,e.DiagnosticCategory.Error,"Cannot_use_namespace_0_as_a_type_2709","Cannot use namespace '{0}' as a type."),_0_are_specified_twice_The_attribute_named_0_will_be_overwritten:t(2710,e.DiagnosticCategory.Error,"_0_are_specified_twice_The_attribute_named_0_will_be_overwritten_2710","'{0}' are specified twice. The attribute named '{0}' will be overwritten."),A_dynamic_import_call_returns_a_Promise_Make_sure_you_have_a_declaration_for_Promise_or_include_ES2015_in_your_lib_option:t(2711,e.DiagnosticCategory.Error,"A_dynamic_import_call_returns_a_Promise_Make_sure_you_have_a_declaration_for_Promise_or_include_ES20_2711","A dynamic import call returns a 'Promise'. Make sure you have a declaration for 'Promise' or include 'ES2015' in your `--lib` option."),A_dynamic_import_call_in_ES5_SlashES3_requires_the_Promise_constructor_Make_sure_you_have_a_declaration_for_the_Promise_constructor_or_include_ES2015_in_your_lib_option:t(2712,e.DiagnosticCategory.Error,"A_dynamic_import_call_in_ES5_SlashES3_requires_the_Promise_constructor_Make_sure_you_have_a_declarat_2712","A dynamic import call in ES5/ES3 requires the 'Promise' constructor.  Make sure you have a declaration for the 'Promise' constructor or include 'ES2015' in your `--lib` option."),Cannot_access_0_1_because_0_is_a_type_but_not_a_namespace_Did_you_mean_to_retrieve_the_type_of_the_property_1_in_0_with_0_1:t(2713,e.DiagnosticCategory.Error,"Cannot_access_0_1_because_0_is_a_type_but_not_a_namespace_Did_you_mean_to_retrieve_the_type_of_the_p_2713","Cannot access '{0}.{1}' because '{0}' is a type, but not a namespace. Did you mean to retrieve the type of the property '{1}' in '{0}' with '{0}[\"{1}\"]'?"),The_expression_of_an_export_assignment_must_be_an_identifier_or_qualified_name_in_an_ambient_context:t(2714,e.DiagnosticCategory.Error,"The_expression_of_an_export_assignment_must_be_an_identifier_or_qualified_name_in_an_ambient_context_2714","The expression of an export assignment must be an identifier or qualified name in an ambient context."),Type_parameter_0_has_a_circular_default:t(2716,e.DiagnosticCategory.Error,"Type_parameter_0_has_a_circular_default_2716","Type parameter '{0}' has a circular default."),Import_declaration_0_is_using_private_name_1:t(4e3,e.DiagnosticCategory.Error,"Import_declaration_0_is_using_private_name_1_4000","Import declaration '{0}' is using private name '{1}'."),Type_parameter_0_of_exported_class_has_or_is_using_private_name_1:t(4002,e.DiagnosticCategory.Error,"Type_parameter_0_of_exported_class_has_or_is_using_private_name_1_4002","Type parameter '{0}' of exported class has or is using private name '{1}'."),Type_parameter_0_of_exported_interface_has_or_is_using_private_name_1:t(4004,e.DiagnosticCategory.Error,"Type_parameter_0_of_exported_interface_has_or_is_using_private_name_1_4004","Type parameter '{0}' of exported interface has or is using private name '{1}'."),Type_parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1:t(4006,e.DiagnosticCategory.Error,"Type_parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1_4006","Type parameter '{0}' of constructor signature from exported interface has or is using private name '{1}'."),Type_parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1:t(4008,e.DiagnosticCategory.Error,"Type_parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1_4008","Type parameter '{0}' of call signature from exported interface has or is using private name '{1}'."),Type_parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:t(4010,e.DiagnosticCategory.Error,"Type_parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1_4010","Type parameter '{0}' of public static method from exported class has or is using private name '{1}'."),Type_parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:t(4012,e.DiagnosticCategory.Error,"Type_parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1_4012","Type parameter '{0}' of public method from exported class has or is using private name '{1}'."),Type_parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1:t(4014,e.DiagnosticCategory.Error,"Type_parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1_4014","Type parameter '{0}' of method from exported interface has or is using private name '{1}'."),Type_parameter_0_of_exported_function_has_or_is_using_private_name_1:t(4016,e.DiagnosticCategory.Error,"Type_parameter_0_of_exported_function_has_or_is_using_private_name_1_4016","Type parameter '{0}' of exported function has or is using private name '{1}'."),Implements_clause_of_exported_class_0_has_or_is_using_private_name_1:t(4019,e.DiagnosticCategory.Error,"Implements_clause_of_exported_class_0_has_or_is_using_private_name_1_4019","Implements clause of exported class '{0}' has or is using private name '{1}'."),extends_clause_of_exported_class_0_has_or_is_using_private_name_1:t(4020,e.DiagnosticCategory.Error,"extends_clause_of_exported_class_0_has_or_is_using_private_name_1_4020","'extends' clause of exported class '{0}' has or is using private name '{1}'."),extends_clause_of_exported_interface_0_has_or_is_using_private_name_1:t(4022,e.DiagnosticCategory.Error,"extends_clause_of_exported_interface_0_has_or_is_using_private_name_1_4022","'extends' clause of exported interface '{0}' has or is using private name '{1}'."),Exported_variable_0_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:t(4023,e.DiagnosticCategory.Error,"Exported_variable_0_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named_4023","Exported variable '{0}' has or is using name '{1}' from external module {2} but cannot be named."),Exported_variable_0_has_or_is_using_name_1_from_private_module_2:t(4024,e.DiagnosticCategory.Error,"Exported_variable_0_has_or_is_using_name_1_from_private_module_2_4024","Exported variable '{0}' has or is using name '{1}' from private module '{2}'."),Exported_variable_0_has_or_is_using_private_name_1:t(4025,e.DiagnosticCategory.Error,"Exported_variable_0_has_or_is_using_private_name_1_4025","Exported variable '{0}' has or is using private name '{1}'."),Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:t(4026,e.DiagnosticCategory.Error,"Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot__4026","Public static property '{0}' of exported class has or is using name '{1}' from external module {2} but cannot be named."),Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:t(4027,e.DiagnosticCategory.Error,"Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2_4027","Public static property '{0}' of exported class has or is using name '{1}' from private module '{2}'."),Public_static_property_0_of_exported_class_has_or_is_using_private_name_1:t(4028,e.DiagnosticCategory.Error,"Public_static_property_0_of_exported_class_has_or_is_using_private_name_1_4028","Public static property '{0}' of exported class has or is using private name '{1}'."),Public_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:t(4029,e.DiagnosticCategory.Error,"Public_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_name_4029","Public property '{0}' of exported class has or is using name '{1}' from external module {2} but cannot be named."),Public_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:t(4030,e.DiagnosticCategory.Error,"Public_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2_4030","Public property '{0}' of exported class has or is using name '{1}' from private module '{2}'."),Public_property_0_of_exported_class_has_or_is_using_private_name_1:t(4031,e.DiagnosticCategory.Error,"Public_property_0_of_exported_class_has_or_is_using_private_name_1_4031","Public property '{0}' of exported class has or is using private name '{1}'."),Property_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2:t(4032,e.DiagnosticCategory.Error,"Property_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2_4032","Property '{0}' of exported interface has or is using name '{1}' from private module '{2}'."),Property_0_of_exported_interface_has_or_is_using_private_name_1:t(4033,e.DiagnosticCategory.Error,"Property_0_of_exported_interface_has_or_is_using_private_name_1_4033","Property '{0}' of exported interface has or is using private name '{1}'."),Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:t(4034,e.DiagnosticCategory.Error,"Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_name_1_from_private_4034","Parameter '{0}' of public static property setter from exported class has or is using name '{1}' from private module '{2}'."),Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_private_name_1:t(4035,e.DiagnosticCategory.Error,"Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_private_name_1_4035","Parameter '{0}' of public static property setter from exported class has or is using private name '{1}'."),Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:t(4036,e.DiagnosticCategory.Error,"Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_4036","Parameter '{0}' of public property setter from exported class has or is using name '{1}' from private module '{2}'."),Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_private_name_1:t(4037,e.DiagnosticCategory.Error,"Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_private_name_1_4037","Parameter '{0}' of public property setter from exported class has or is using private name '{1}'."),Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:t(4038,e.DiagnosticCategory.Error,"Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_externa_4038","Return type of public static property getter from exported class has or is using name '{0}' from external module {1} but cannot be named."),Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:t(4039,e.DiagnosticCategory.Error,"Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_private_4039","Return type of public static property getter from exported class has or is using name '{0}' from private module '{1}'."),Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_name_0:t(4040,e.DiagnosticCategory.Error,"Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_name_0_4040","Return type of public static property getter from exported class has or is using private name '{0}'."),Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:t(4041,e.DiagnosticCategory.Error,"Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_external_modul_4041","Return type of public property getter from exported class has or is using name '{0}' from external module {1} but cannot be named."),Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:t(4042,e.DiagnosticCategory.Error,"Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_4042","Return type of public property getter from exported class has or is using name '{0}' from private module '{1}'."),Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_name_0:t(4043,e.DiagnosticCategory.Error,"Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_name_0_4043","Return type of public property getter from exported class has or is using private name '{0}'."),Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:t(4044,e.DiagnosticCategory.Error,"Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_name_0_from_private_mod_4044","Return type of constructor signature from exported interface has or is using name '{0}' from private module '{1}'."),Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_0:t(4045,e.DiagnosticCategory.Error,"Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_0_4045","Return type of constructor signature from exported interface has or is using private name '{0}'."),Return_type_of_call_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:t(4046,e.DiagnosticCategory.Error,"Return_type_of_call_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1_4046","Return type of call signature from exported interface has or is using name '{0}' from private module '{1}'."),Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_name_0:t(4047,e.DiagnosticCategory.Error,"Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_name_0_4047","Return type of call signature from exported interface has or is using private name '{0}'."),Return_type_of_index_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:t(4048,e.DiagnosticCategory.Error,"Return_type_of_index_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1_4048","Return type of index signature from exported interface has or is using name '{0}' from private module '{1}'."),Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_name_0:t(4049,e.DiagnosticCategory.Error,"Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_name_0_4049","Return type of index signature from exported interface has or is using private name '{0}'."),Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:t(4050,e.DiagnosticCategory.Error,"Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_external_module__4050","Return type of public static method from exported class has or is using name '{0}' from external module {1} but cannot be named."),Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:t(4051,e.DiagnosticCategory.Error,"Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_private_module_1_4051","Return type of public static method from exported class has or is using name '{0}' from private module '{1}'."),Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_name_0:t(4052,e.DiagnosticCategory.Error,"Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_name_0_4052","Return type of public static method from exported class has or is using private name '{0}'."),Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:t(4053,e.DiagnosticCategory.Error,"Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_c_4053","Return type of public method from exported class has or is using name '{0}' from external module {1} but cannot be named."),Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:t(4054,e.DiagnosticCategory.Error,"Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_private_module_1_4054","Return type of public method from exported class has or is using name '{0}' from private module '{1}'."),Return_type_of_public_method_from_exported_class_has_or_is_using_private_name_0:t(4055,e.DiagnosticCategory.Error,"Return_type_of_public_method_from_exported_class_has_or_is_using_private_name_0_4055","Return type of public method from exported class has or is using private name '{0}'."),Return_type_of_method_from_exported_interface_has_or_is_using_name_0_from_private_module_1:t(4056,e.DiagnosticCategory.Error,"Return_type_of_method_from_exported_interface_has_or_is_using_name_0_from_private_module_1_4056","Return type of method from exported interface has or is using name '{0}' from private module '{1}'."),Return_type_of_method_from_exported_interface_has_or_is_using_private_name_0:t(4057,e.DiagnosticCategory.Error,"Return_type_of_method_from_exported_interface_has_or_is_using_private_name_0_4057","Return type of method from exported interface has or is using private name '{0}'."),Return_type_of_exported_function_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:t(4058,e.DiagnosticCategory.Error,"Return_type_of_exported_function_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named_4058","Return type of exported function has or is using name '{0}' from external module {1} but cannot be named."),Return_type_of_exported_function_has_or_is_using_name_0_from_private_module_1:t(4059,e.DiagnosticCategory.Error,"Return_type_of_exported_function_has_or_is_using_name_0_from_private_module_1_4059","Return type of exported function has or is using name '{0}' from private module '{1}'."),Return_type_of_exported_function_has_or_is_using_private_name_0:t(4060,e.DiagnosticCategory.Error,"Return_type_of_exported_function_has_or_is_using_private_name_0_4060","Return type of exported function has or is using private name '{0}'."),Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:t(4061,e.DiagnosticCategory.Error,"Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_can_4061","Parameter '{0}' of constructor from exported class has or is using name '{1}' from external module {2} but cannot be named."),Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_private_module_2:t(4062,e.DiagnosticCategory.Error,"Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_private_module_2_4062","Parameter '{0}' of constructor from exported class has or is using name '{1}' from private module '{2}'."),Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_name_1:t(4063,e.DiagnosticCategory.Error,"Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_name_1_4063","Parameter '{0}' of constructor from exported class has or is using private name '{1}'."),Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:t(4064,e.DiagnosticCategory.Error,"Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_name_1_from_private_mod_4064","Parameter '{0}' of constructor signature from exported interface has or is using name '{1}' from private module '{2}'."),Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1:t(4065,e.DiagnosticCategory.Error,"Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1_4065","Parameter '{0}' of constructor signature from exported interface has or is using private name '{1}'."),Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:t(4066,e.DiagnosticCategory.Error,"Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2_4066","Parameter '{0}' of call signature from exported interface has or is using name '{1}' from private module '{2}'."),Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1:t(4067,e.DiagnosticCategory.Error,"Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1_4067","Parameter '{0}' of call signature from exported interface has or is using private name '{1}'."),Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:t(4068,e.DiagnosticCategory.Error,"Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_external_module__4068","Parameter '{0}' of public static method from exported class has or is using name '{1}' from external module {2} but cannot be named."),Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:t(4069,e.DiagnosticCategory.Error,"Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_private_module_2_4069","Parameter '{0}' of public static method from exported class has or is using name '{1}' from private module '{2}'."),Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:t(4070,e.DiagnosticCategory.Error,"Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1_4070","Parameter '{0}' of public static method from exported class has or is using private name '{1}'."),Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:t(4071,e.DiagnosticCategory.Error,"Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_c_4071","Parameter '{0}' of public method from exported class has or is using name '{1}' from external module {2} but cannot be named."),Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:t(4072,e.DiagnosticCategory.Error,"Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_private_module_2_4072","Parameter '{0}' of public method from exported class has or is using name '{1}' from private module '{2}'."),Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:t(4073,e.DiagnosticCategory.Error,"Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1_4073","Parameter '{0}' of public method from exported class has or is using private name '{1}'."),Parameter_0_of_method_from_exported_interface_has_or_is_using_name_1_from_private_module_2:t(4074,e.DiagnosticCategory.Error,"Parameter_0_of_method_from_exported_interface_has_or_is_using_name_1_from_private_module_2_4074","Parameter '{0}' of method from exported interface has or is using name '{1}' from private module '{2}'."),Parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1:t(4075,e.DiagnosticCategory.Error,"Parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1_4075","Parameter '{0}' of method from exported interface has or is using private name '{1}'."),Parameter_0_of_exported_function_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:t(4076,e.DiagnosticCategory.Error,"Parameter_0_of_exported_function_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named_4076","Parameter '{0}' of exported function has or is using name '{1}' from external module {2} but cannot be named."),Parameter_0_of_exported_function_has_or_is_using_name_1_from_private_module_2:t(4077,e.DiagnosticCategory.Error,"Parameter_0_of_exported_function_has_or_is_using_name_1_from_private_module_2_4077","Parameter '{0}' of exported function has or is using name '{1}' from private module '{2}'."),Parameter_0_of_exported_function_has_or_is_using_private_name_1:t(4078,e.DiagnosticCategory.Error,"Parameter_0_of_exported_function_has_or_is_using_private_name_1_4078","Parameter '{0}' of exported function has or is using private name '{1}'."),Exported_type_alias_0_has_or_is_using_private_name_1:t(4081,e.DiagnosticCategory.Error,"Exported_type_alias_0_has_or_is_using_private_name_1_4081","Exported type alias '{0}' has or is using private name '{1}'."),Default_export_of_the_module_has_or_is_using_private_name_0:t(4082,e.DiagnosticCategory.Error,"Default_export_of_the_module_has_or_is_using_private_name_0_4082","Default export of the module has or is using private name '{0}'."),Type_parameter_0_of_exported_type_alias_has_or_is_using_private_name_1:t(4083,e.DiagnosticCategory.Error,"Type_parameter_0_of_exported_type_alias_has_or_is_using_private_name_1_4083","Type parameter '{0}' of exported type alias has or is using private name '{1}'."),Conflicting_definitions_for_0_found_at_1_and_2_Consider_installing_a_specific_version_of_this_library_to_resolve_the_conflict:t(4090,e.DiagnosticCategory.Message,"Conflicting_definitions_for_0_found_at_1_and_2_Consider_installing_a_specific_version_of_this_librar_4090","Conflicting definitions for '{0}' found at '{1}' and '{2}'. Consider installing a specific version of this library to resolve the conflict."),Parameter_0_of_index_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:t(4091,e.DiagnosticCategory.Error,"Parameter_0_of_index_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2_4091","Parameter '{0}' of index signature from exported interface has or is using name '{1}' from private module '{2}'."),Parameter_0_of_index_signature_from_exported_interface_has_or_is_using_private_name_1:t(4092,e.DiagnosticCategory.Error,"Parameter_0_of_index_signature_from_exported_interface_has_or_is_using_private_name_1_4092","Parameter '{0}' of index signature from exported interface has or is using private name '{1}'."),Property_0_of_exported_class_expression_may_not_be_private_or_protected:t(4094,e.DiagnosticCategory.Error,"Property_0_of_exported_class_expression_may_not_be_private_or_protected_4094","Property '{0}' of exported class expression may not be private or protected."),The_current_host_does_not_support_the_0_option:t(5001,e.DiagnosticCategory.Error,"The_current_host_does_not_support_the_0_option_5001","The current host does not support the '{0}' option."),Cannot_find_the_common_subdirectory_path_for_the_input_files:t(5009,e.DiagnosticCategory.Error,"Cannot_find_the_common_subdirectory_path_for_the_input_files_5009","Cannot find the common subdirectory path for the input files."),File_specification_cannot_end_in_a_recursive_directory_wildcard_Asterisk_Asterisk_Colon_0:t(5010,e.DiagnosticCategory.Error,"File_specification_cannot_end_in_a_recursive_directory_wildcard_Asterisk_Asterisk_Colon_0_5010","File specification cannot end in a recursive directory wildcard ('**'): '{0}'."),File_specification_cannot_contain_multiple_recursive_directory_wildcards_Asterisk_Asterisk_Colon_0:t(5011,e.DiagnosticCategory.Error,"File_specification_cannot_contain_multiple_recursive_directory_wildcards_Asterisk_Asterisk_Colon_0_5011","File specification cannot contain multiple recursive directory wildcards ('**'): '{0}'."),Cannot_read_file_0_Colon_1:t(5012,e.DiagnosticCategory.Error,"Cannot_read_file_0_Colon_1_5012","Cannot read file '{0}': {1}."),Failed_to_parse_file_0_Colon_1:t(5014,e.DiagnosticCategory.Error,"Failed_to_parse_file_0_Colon_1_5014","Failed to parse file '{0}': {1}."),Unknown_compiler_option_0:t(5023,e.DiagnosticCategory.Error,"Unknown_compiler_option_0_5023","Unknown compiler option '{0}'."),Compiler_option_0_requires_a_value_of_type_1:t(5024,e.DiagnosticCategory.Error,"Compiler_option_0_requires_a_value_of_type_1_5024","Compiler option '{0}' requires a value of type {1}."),Could_not_write_file_0_Colon_1:t(5033,e.DiagnosticCategory.Error,"Could_not_write_file_0_Colon_1_5033","Could not write file '{0}': {1}."),Option_project_cannot_be_mixed_with_source_files_on_a_command_line:t(5042,e.DiagnosticCategory.Error,"Option_project_cannot_be_mixed_with_source_files_on_a_command_line_5042","Option 'project' cannot be mixed with source files on a command line."),Option_isolatedModules_can_only_be_used_when_either_option_module_is_provided_or_option_target_is_ES2015_or_higher:t(5047,e.DiagnosticCategory.Error,"Option_isolatedModules_can_only_be_used_when_either_option_module_is_provided_or_option_target_is_ES_5047","Option 'isolatedModules' can only be used when either option '--module' is provided or option 'target' is 'ES2015' or higher."),Option_0_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided:t(5051,e.DiagnosticCategory.Error,"Option_0_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided_5051","Option '{0} can only be used when either option '--inlineSourceMap' or option '--sourceMap' is provided."),Option_0_cannot_be_specified_without_specifying_option_1:t(5052,e.DiagnosticCategory.Error,"Option_0_cannot_be_specified_without_specifying_option_1_5052","Option '{0}' cannot be specified without specifying option '{1}'."),Option_0_cannot_be_specified_with_option_1:t(5053,e.DiagnosticCategory.Error,"Option_0_cannot_be_specified_with_option_1_5053","Option '{0}' cannot be specified with option '{1}'."),A_tsconfig_json_file_is_already_defined_at_Colon_0:t(5054,e.DiagnosticCategory.Error,"A_tsconfig_json_file_is_already_defined_at_Colon_0_5054","A 'tsconfig.json' file is already defined at: '{0}'."),Cannot_write_file_0_because_it_would_overwrite_input_file:t(5055,e.DiagnosticCategory.Error,"Cannot_write_file_0_because_it_would_overwrite_input_file_5055","Cannot write file '{0}' because it would overwrite input file."),Cannot_write_file_0_because_it_would_be_overwritten_by_multiple_input_files:t(5056,e.DiagnosticCategory.Error,"Cannot_write_file_0_because_it_would_be_overwritten_by_multiple_input_files_5056","Cannot write file '{0}' because it would be overwritten by multiple input files."),Cannot_find_a_tsconfig_json_file_at_the_specified_directory_Colon_0:t(5057,e.DiagnosticCategory.Error,"Cannot_find_a_tsconfig_json_file_at_the_specified_directory_Colon_0_5057","Cannot find a tsconfig.json file at the specified directory: '{0}'."),The_specified_path_does_not_exist_Colon_0:t(5058,e.DiagnosticCategory.Error,"The_specified_path_does_not_exist_Colon_0_5058","The specified path does not exist: '{0}'."),Invalid_value_for_reactNamespace_0_is_not_a_valid_identifier:t(5059,e.DiagnosticCategory.Error,"Invalid_value_for_reactNamespace_0_is_not_a_valid_identifier_5059","Invalid value for '--reactNamespace'. '{0}' is not a valid identifier."),Option_paths_cannot_be_used_without_specifying_baseUrl_option:t(5060,e.DiagnosticCategory.Error,"Option_paths_cannot_be_used_without_specifying_baseUrl_option_5060","Option 'paths' cannot be used without specifying '--baseUrl' option."),Pattern_0_can_have_at_most_one_Asterisk_character:t(5061,e.DiagnosticCategory.Error,"Pattern_0_can_have_at_most_one_Asterisk_character_5061","Pattern '{0}' can have at most one '*' character."),Substitution_0_in_pattern_1_in_can_have_at_most_one_Asterisk_character:t(5062,e.DiagnosticCategory.Error,"Substitution_0_in_pattern_1_in_can_have_at_most_one_Asterisk_character_5062","Substitution '{0}' in pattern '{1}' in can have at most one '*' character."),Substitutions_for_pattern_0_should_be_an_array:t(5063,e.DiagnosticCategory.Error,"Substitutions_for_pattern_0_should_be_an_array_5063","Substitutions for pattern '{0}' should be an array."),Substitution_0_for_pattern_1_has_incorrect_type_expected_string_got_2:t(5064,e.DiagnosticCategory.Error,"Substitution_0_for_pattern_1_has_incorrect_type_expected_string_got_2_5064","Substitution '{0}' for pattern '{1}' has incorrect type, expected 'string', got '{2}'."),File_specification_cannot_contain_a_parent_directory_that_appears_after_a_recursive_directory_wildcard_Asterisk_Asterisk_Colon_0:t(5065,e.DiagnosticCategory.Error,"File_specification_cannot_contain_a_parent_directory_that_appears_after_a_recursive_directory_wildca_5065","File specification cannot contain a parent directory ('..') that appears after a recursive directory wildcard ('**'): '{0}'."),Substitutions_for_pattern_0_shouldn_t_be_an_empty_array:t(5066,e.DiagnosticCategory.Error,"Substitutions_for_pattern_0_shouldn_t_be_an_empty_array_5066","Substitutions for pattern '{0}' shouldn't be an empty array."),Invalid_value_for_jsxFactory_0_is_not_a_valid_identifier_or_qualified_name:t(5067,e.DiagnosticCategory.Error,"Invalid_value_for_jsxFactory_0_is_not_a_valid_identifier_or_qualified_name_5067","Invalid value for 'jsxFactory'. '{0}' is not a valid identifier or qualified-name."),Concatenate_and_emit_output_to_single_file:t(6001,e.DiagnosticCategory.Message,"Concatenate_and_emit_output_to_single_file_6001","Concatenate and emit output to single file."),Generates_corresponding_d_ts_file:t(6002,e.DiagnosticCategory.Message,"Generates_corresponding_d_ts_file_6002","Generates corresponding '.d.ts' file."),Specify_the_location_where_debugger_should_locate_map_files_instead_of_generated_locations:t(6003,e.DiagnosticCategory.Message,"Specify_the_location_where_debugger_should_locate_map_files_instead_of_generated_locations_6003","Specify the location where debugger should locate map files instead of generated locations."),Specify_the_location_where_debugger_should_locate_TypeScript_files_instead_of_source_locations:t(6004,e.DiagnosticCategory.Message,"Specify_the_location_where_debugger_should_locate_TypeScript_files_instead_of_source_locations_6004","Specify the location where debugger should locate TypeScript files instead of source locations."),Watch_input_files:t(6005,e.DiagnosticCategory.Message,"Watch_input_files_6005","Watch input files."),Redirect_output_structure_to_the_directory:t(6006,e.DiagnosticCategory.Message,"Redirect_output_structure_to_the_directory_6006","Redirect output structure to the directory."),Do_not_erase_const_enum_declarations_in_generated_code:t(6007,e.DiagnosticCategory.Message,"Do_not_erase_const_enum_declarations_in_generated_code_6007","Do not erase const enum declarations in generated code."),Do_not_emit_outputs_if_any_errors_were_reported:t(6008,e.DiagnosticCategory.Message,"Do_not_emit_outputs_if_any_errors_were_reported_6008","Do not emit outputs if any errors were reported."),Do_not_emit_comments_to_output:t(6009,e.DiagnosticCategory.Message,"Do_not_emit_comments_to_output_6009","Do not emit comments to output."),Do_not_emit_outputs:t(6010,e.DiagnosticCategory.Message,"Do_not_emit_outputs_6010","Do not emit outputs."),Allow_default_imports_from_modules_with_no_default_export_This_does_not_affect_code_emit_just_typechecking:t(6011,e.DiagnosticCategory.Message,"Allow_default_imports_from_modules_with_no_default_export_This_does_not_affect_code_emit_just_typech_6011","Allow default imports from modules with no default export. This does not affect code emit, just typechecking."),Skip_type_checking_of_declaration_files:t(6012,e.DiagnosticCategory.Message,"Skip_type_checking_of_declaration_files_6012","Skip type checking of declaration files."),Do_not_resolve_the_real_path_of_symlinks:t(6013,e.DiagnosticCategory.Message,"Do_not_resolve_the_real_path_of_symlinks_6013","Do not resolve the real path of symlinks."),Specify_ECMAScript_target_version_Colon_ES3_default_ES5_ES2015_ES2016_ES2017_or_ESNEXT:t(6015,e.DiagnosticCategory.Message,"Specify_ECMAScript_target_version_Colon_ES3_default_ES5_ES2015_ES2016_ES2017_or_ESNEXT_6015","Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017', or 'ESNEXT'."),Specify_module_code_generation_Colon_none_commonjs_amd_system_umd_es2015_or_ESNext:t(6016,e.DiagnosticCategory.Message,"Specify_module_code_generation_Colon_none_commonjs_amd_system_umd_es2015_or_ESNext_6016","Specify module code generation: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', or 'ESNext'."),Print_this_message:t(6017,e.DiagnosticCategory.Message,"Print_this_message_6017","Print this message."),Print_the_compiler_s_version:t(6019,e.DiagnosticCategory.Message,"Print_the_compiler_s_version_6019","Print the compiler's version."),Compile_the_project_given_the_path_to_its_configuration_file_or_to_a_folder_with_a_tsconfig_json:t(6020,e.DiagnosticCategory.Message,"Compile_the_project_given_the_path_to_its_configuration_file_or_to_a_folder_with_a_tsconfig_json_6020","Compile the project given the path to its configuration file, or to a folder with a 'tsconfig.json'."),Syntax_Colon_0:t(6023,e.DiagnosticCategory.Message,"Syntax_Colon_0_6023","Syntax: {0}"),options:t(6024,e.DiagnosticCategory.Message,"options_6024","options"),file:t(6025,e.DiagnosticCategory.Message,"file_6025","file"),Examples_Colon_0:t(6026,e.DiagnosticCategory.Message,"Examples_Colon_0_6026","Examples: {0}"),Options_Colon:t(6027,e.DiagnosticCategory.Message,"Options_Colon_6027","Options:"),Version_0:t(6029,e.DiagnosticCategory.Message,"Version_0_6029","Version {0}"),Insert_command_line_options_and_files_from_a_file:t(6030,e.DiagnosticCategory.Message,"Insert_command_line_options_and_files_from_a_file_6030","Insert command line options and files from a file."),File_change_detected_Starting_incremental_compilation:t(6032,e.DiagnosticCategory.Message,"File_change_detected_Starting_incremental_compilation_6032","File change detected. Starting incremental compilation..."),KIND:t(6034,e.DiagnosticCategory.Message,"KIND_6034","KIND"),FILE:t(6035,e.DiagnosticCategory.Message,"FILE_6035","FILE"),VERSION:t(6036,e.DiagnosticCategory.Message,"VERSION_6036","VERSION"),LOCATION:t(6037,e.DiagnosticCategory.Message,"LOCATION_6037","LOCATION"),DIRECTORY:t(6038,e.DiagnosticCategory.Message,"DIRECTORY_6038","DIRECTORY"),STRATEGY:t(6039,e.DiagnosticCategory.Message,"STRATEGY_6039","STRATEGY"),FILE_OR_DIRECTORY:t(6040,e.DiagnosticCategory.Message,"FILE_OR_DIRECTORY_6040","FILE OR DIRECTORY"),Compilation_complete_Watching_for_file_changes:t(6042,e.DiagnosticCategory.Message,"Compilation_complete_Watching_for_file_changes_6042","Compilation complete. Watching for file changes."),Generates_corresponding_map_file:t(6043,e.DiagnosticCategory.Message,"Generates_corresponding_map_file_6043","Generates corresponding '.map' file."),Compiler_option_0_expects_an_argument:t(6044,e.DiagnosticCategory.Error,"Compiler_option_0_expects_an_argument_6044","Compiler option '{0}' expects an argument."),Unterminated_quoted_string_in_response_file_0:t(6045,e.DiagnosticCategory.Error,"Unterminated_quoted_string_in_response_file_0_6045","Unterminated quoted string in response file '{0}'."),Argument_for_0_option_must_be_Colon_1:t(6046,e.DiagnosticCategory.Error,"Argument_for_0_option_must_be_Colon_1_6046","Argument for '{0}' option must be: {1}."),Locale_must_be_of_the_form_language_or_language_territory_For_example_0_or_1:t(6048,e.DiagnosticCategory.Error,"Locale_must_be_of_the_form_language_or_language_territory_For_example_0_or_1_6048","Locale must be of the form <language> or <language>-<territory>. For example '{0}' or '{1}'."),Unsupported_locale_0:t(6049,e.DiagnosticCategory.Error,"Unsupported_locale_0_6049","Unsupported locale '{0}'."),Unable_to_open_file_0:t(6050,e.DiagnosticCategory.Error,"Unable_to_open_file_0_6050","Unable to open file '{0}'."),Corrupted_locale_file_0:t(6051,e.DiagnosticCategory.Error,"Corrupted_locale_file_0_6051","Corrupted locale file {0}."),Raise_error_on_expressions_and_declarations_with_an_implied_any_type:t(6052,e.DiagnosticCategory.Message,"Raise_error_on_expressions_and_declarations_with_an_implied_any_type_6052","Raise error on expressions and declarations with an implied 'any' type."),File_0_not_found:t(6053,e.DiagnosticCategory.Error,"File_0_not_found_6053","File '{0}' not found."),File_0_has_unsupported_extension_The_only_supported_extensions_are_1:t(6054,e.DiagnosticCategory.Error,"File_0_has_unsupported_extension_The_only_supported_extensions_are_1_6054","File '{0}' has unsupported extension. The only supported extensions are {1}."),Suppress_noImplicitAny_errors_for_indexing_objects_lacking_index_signatures:t(6055,e.DiagnosticCategory.Message,"Suppress_noImplicitAny_errors_for_indexing_objects_lacking_index_signatures_6055","Suppress noImplicitAny errors for indexing objects lacking index signatures."),Do_not_emit_declarations_for_code_that_has_an_internal_annotation:t(6056,e.DiagnosticCategory.Message,"Do_not_emit_declarations_for_code_that_has_an_internal_annotation_6056","Do not emit declarations for code that has an '@internal' annotation."),Specify_the_root_directory_of_input_files_Use_to_control_the_output_directory_structure_with_outDir:t(6058,e.DiagnosticCategory.Message,"Specify_the_root_directory_of_input_files_Use_to_control_the_output_directory_structure_with_outDir_6058","Specify the root directory of input files. Use to control the output directory structure with --outDir."),File_0_is_not_under_rootDir_1_rootDir_is_expected_to_contain_all_source_files:t(6059,e.DiagnosticCategory.Error,"File_0_is_not_under_rootDir_1_rootDir_is_expected_to_contain_all_source_files_6059","File '{0}' is not under 'rootDir' '{1}'. 'rootDir' is expected to contain all source files."),Specify_the_end_of_line_sequence_to_be_used_when_emitting_files_Colon_CRLF_dos_or_LF_unix:t(6060,e.DiagnosticCategory.Message,"Specify_the_end_of_line_sequence_to_be_used_when_emitting_files_Colon_CRLF_dos_or_LF_unix_6060","Specify the end of line sequence to be used when emitting files: 'CRLF' (dos) or 'LF' (unix)."),NEWLINE:t(6061,e.DiagnosticCategory.Message,"NEWLINE_6061","NEWLINE"),Option_0_can_only_be_specified_in_tsconfig_json_file:t(6064,e.DiagnosticCategory.Error,"Option_0_can_only_be_specified_in_tsconfig_json_file_6064","Option '{0}' can only be specified in 'tsconfig.json' file."),Enables_experimental_support_for_ES7_decorators:t(6065,e.DiagnosticCategory.Message,"Enables_experimental_support_for_ES7_decorators_6065","Enables experimental support for ES7 decorators."),Enables_experimental_support_for_emitting_type_metadata_for_decorators:t(6066,e.DiagnosticCategory.Message,"Enables_experimental_support_for_emitting_type_metadata_for_decorators_6066","Enables experimental support for emitting type metadata for decorators."),Enables_experimental_support_for_ES7_async_functions:t(6068,e.DiagnosticCategory.Message,"Enables_experimental_support_for_ES7_async_functions_6068","Enables experimental support for ES7 async functions."),Specify_module_resolution_strategy_Colon_node_Node_js_or_classic_TypeScript_pre_1_6:t(6069,e.DiagnosticCategory.Message,"Specify_module_resolution_strategy_Colon_node_Node_js_or_classic_TypeScript_pre_1_6_6069","Specify module resolution strategy: 'node' (Node.js) or 'classic' (TypeScript pre-1.6)."),Initializes_a_TypeScript_project_and_creates_a_tsconfig_json_file:t(6070,e.DiagnosticCategory.Message,"Initializes_a_TypeScript_project_and_creates_a_tsconfig_json_file_6070","Initializes a TypeScript project and creates a tsconfig.json file."),Successfully_created_a_tsconfig_json_file:t(6071,e.DiagnosticCategory.Message,"Successfully_created_a_tsconfig_json_file_6071","Successfully created a tsconfig.json file."),Suppress_excess_property_checks_for_object_literals:t(6072,e.DiagnosticCategory.Message,"Suppress_excess_property_checks_for_object_literals_6072","Suppress excess property checks for object literals."),Stylize_errors_and_messages_using_color_and_context_experimental:t(6073,e.DiagnosticCategory.Message,"Stylize_errors_and_messages_using_color_and_context_experimental_6073","Stylize errors and messages using color and context (experimental)."),Do_not_report_errors_on_unused_labels:t(6074,e.DiagnosticCategory.Message,"Do_not_report_errors_on_unused_labels_6074","Do not report errors on unused labels."),Report_error_when_not_all_code_paths_in_function_return_a_value:t(6075,e.DiagnosticCategory.Message,"Report_error_when_not_all_code_paths_in_function_return_a_value_6075","Report error when not all code paths in function return a value."),Report_errors_for_fallthrough_cases_in_switch_statement:t(6076,e.DiagnosticCategory.Message,"Report_errors_for_fallthrough_cases_in_switch_statement_6076","Report errors for fallthrough cases in switch statement."),Do_not_report_errors_on_unreachable_code:t(6077,e.DiagnosticCategory.Message,"Do_not_report_errors_on_unreachable_code_6077","Do not report errors on unreachable code."),Disallow_inconsistently_cased_references_to_the_same_file:t(6078,e.DiagnosticCategory.Message,"Disallow_inconsistently_cased_references_to_the_same_file_6078","Disallow inconsistently-cased references to the same file."),Specify_library_files_to_be_included_in_the_compilation_Colon:t(6079,e.DiagnosticCategory.Message,"Specify_library_files_to_be_included_in_the_compilation_Colon_6079","Specify library files to be included in the compilation: "),Specify_JSX_code_generation_Colon_preserve_react_native_or_react:t(6080,e.DiagnosticCategory.Message,"Specify_JSX_code_generation_Colon_preserve_react_native_or_react_6080","Specify JSX code generation: 'preserve', 'react-native', or 'react'."),File_0_has_an_unsupported_extension_so_skipping_it:t(6081,e.DiagnosticCategory.Message,"File_0_has_an_unsupported_extension_so_skipping_it_6081","File '{0}' has an unsupported extension, so skipping it."),Only_amd_and_system_modules_are_supported_alongside_0:t(6082,e.DiagnosticCategory.Error,"Only_amd_and_system_modules_are_supported_alongside_0_6082","Only 'amd' and 'system' modules are supported alongside --{0}."),Base_directory_to_resolve_non_absolute_module_names:t(6083,e.DiagnosticCategory.Message,"Base_directory_to_resolve_non_absolute_module_names_6083","Base directory to resolve non-absolute module names."),Deprecated_Use_jsxFactory_instead_Specify_the_object_invoked_for_createElement_when_targeting_react_JSX_emit:t(6084,e.DiagnosticCategory.Message,"Deprecated_Use_jsxFactory_instead_Specify_the_object_invoked_for_createElement_when_targeting_react__6084","[Deprecated] Use '--jsxFactory' instead. Specify the object invoked for createElement when targeting 'react' JSX emit"),Enable_tracing_of_the_name_resolution_process:t(6085,e.DiagnosticCategory.Message,"Enable_tracing_of_the_name_resolution_process_6085","Enable tracing of the name resolution process."),Resolving_module_0_from_1:t(6086,e.DiagnosticCategory.Message,"Resolving_module_0_from_1_6086","======== Resolving module '{0}' from '{1}'. ========"),Explicitly_specified_module_resolution_kind_Colon_0:t(6087,e.DiagnosticCategory.Message,"Explicitly_specified_module_resolution_kind_Colon_0_6087","Explicitly specified module resolution kind: '{0}'."),Module_resolution_kind_is_not_specified_using_0:t(6088,e.DiagnosticCategory.Message,"Module_resolution_kind_is_not_specified_using_0_6088","Module resolution kind is not specified, using '{0}'."),Module_name_0_was_successfully_resolved_to_1:t(6089,e.DiagnosticCategory.Message,"Module_name_0_was_successfully_resolved_to_1_6089","======== Module name '{0}' was successfully resolved to '{1}'. ========"),Module_name_0_was_not_resolved:t(6090,e.DiagnosticCategory.Message,"Module_name_0_was_not_resolved_6090","======== Module name '{0}' was not resolved. ========"),paths_option_is_specified_looking_for_a_pattern_to_match_module_name_0:t(6091,e.DiagnosticCategory.Message,"paths_option_is_specified_looking_for_a_pattern_to_match_module_name_0_6091","'paths' option is specified, looking for a pattern to match module name '{0}'."),Module_name_0_matched_pattern_1:t(6092,e.DiagnosticCategory.Message,"Module_name_0_matched_pattern_1_6092","Module name '{0}', matched pattern '{1}'."),Trying_substitution_0_candidate_module_location_Colon_1:t(6093,e.DiagnosticCategory.Message,"Trying_substitution_0_candidate_module_location_Colon_1_6093","Trying substitution '{0}', candidate module location: '{1}'."),Resolving_module_name_0_relative_to_base_url_1_2:t(6094,e.DiagnosticCategory.Message,"Resolving_module_name_0_relative_to_base_url_1_2_6094","Resolving module name '{0}' relative to base url '{1}' - '{2}'."),Loading_module_as_file_Slash_folder_candidate_module_location_0_target_file_type_1:t(6095,e.DiagnosticCategory.Message,"Loading_module_as_file_Slash_folder_candidate_module_location_0_target_file_type_1_6095","Loading module as file / folder, candidate module location '{0}', target file type '{1}'."),File_0_does_not_exist:t(6096,e.DiagnosticCategory.Message,"File_0_does_not_exist_6096","File '{0}' does not exist."),File_0_exist_use_it_as_a_name_resolution_result:t(6097,e.DiagnosticCategory.Message,"File_0_exist_use_it_as_a_name_resolution_result_6097","File '{0}' exist - use it as a name resolution result."),Loading_module_0_from_node_modules_folder_target_file_type_1:t(6098,e.DiagnosticCategory.Message,"Loading_module_0_from_node_modules_folder_target_file_type_1_6098","Loading module '{0}' from 'node_modules' folder, target file type '{1}'."),Found_package_json_at_0:t(6099,e.DiagnosticCategory.Message,"Found_package_json_at_0_6099","Found 'package.json' at '{0}'."),package_json_does_not_have_a_0_field:t(6100,e.DiagnosticCategory.Message,"package_json_does_not_have_a_0_field_6100","'package.json' does not have a '{0}' field."),package_json_has_0_field_1_that_references_2:t(6101,e.DiagnosticCategory.Message,"package_json_has_0_field_1_that_references_2_6101","'package.json' has '{0}' field '{1}' that references '{2}'."),Allow_javascript_files_to_be_compiled:t(6102,e.DiagnosticCategory.Message,"Allow_javascript_files_to_be_compiled_6102","Allow javascript files to be compiled."),Option_0_should_have_array_of_strings_as_a_value:t(6103,e.DiagnosticCategory.Error,"Option_0_should_have_array_of_strings_as_a_value_6103","Option '{0}' should have array of strings as a value."),Checking_if_0_is_the_longest_matching_prefix_for_1_2:t(6104,e.DiagnosticCategory.Message,"Checking_if_0_is_the_longest_matching_prefix_for_1_2_6104","Checking if '{0}' is the longest matching prefix for '{1}' - '{2}'."),Expected_type_of_0_field_in_package_json_to_be_string_got_1:t(6105,e.DiagnosticCategory.Message,"Expected_type_of_0_field_in_package_json_to_be_string_got_1_6105","Expected type of '{0}' field in 'package.json' to be 'string', got '{1}'."),baseUrl_option_is_set_to_0_using_this_value_to_resolve_non_relative_module_name_1:t(6106,e.DiagnosticCategory.Message,"baseUrl_option_is_set_to_0_using_this_value_to_resolve_non_relative_module_name_1_6106","'baseUrl' option is set to '{0}', using this value to resolve non-relative module name '{1}'."),rootDirs_option_is_set_using_it_to_resolve_relative_module_name_0:t(6107,e.DiagnosticCategory.Message,"rootDirs_option_is_set_using_it_to_resolve_relative_module_name_0_6107","'rootDirs' option is set, using it to resolve relative module name '{0}'."),Longest_matching_prefix_for_0_is_1:t(6108,e.DiagnosticCategory.Message,"Longest_matching_prefix_for_0_is_1_6108","Longest matching prefix for '{0}' is '{1}'."),Loading_0_from_the_root_dir_1_candidate_location_2:t(6109,e.DiagnosticCategory.Message,"Loading_0_from_the_root_dir_1_candidate_location_2_6109","Loading '{0}' from the root dir '{1}', candidate location '{2}'."),Trying_other_entries_in_rootDirs:t(6110,e.DiagnosticCategory.Message,"Trying_other_entries_in_rootDirs_6110","Trying other entries in 'rootDirs'."),Module_resolution_using_rootDirs_has_failed:t(6111,e.DiagnosticCategory.Message,"Module_resolution_using_rootDirs_has_failed_6111","Module resolution using 'rootDirs' has failed."),Do_not_emit_use_strict_directives_in_module_output:t(6112,e.DiagnosticCategory.Message,"Do_not_emit_use_strict_directives_in_module_output_6112","Do not emit 'use strict' directives in module output."),Enable_strict_null_checks:t(6113,e.DiagnosticCategory.Message,"Enable_strict_null_checks_6113","Enable strict null checks."),Unknown_option_excludes_Did_you_mean_exclude:t(6114,e.DiagnosticCategory.Error,"Unknown_option_excludes_Did_you_mean_exclude_6114","Unknown option 'excludes'. Did you mean 'exclude'?"),Raise_error_on_this_expressions_with_an_implied_any_type:t(6115,e.DiagnosticCategory.Message,"Raise_error_on_this_expressions_with_an_implied_any_type_6115","Raise error on 'this' expressions with an implied 'any' type."),Resolving_type_reference_directive_0_containing_file_1_root_directory_2:t(6116,e.DiagnosticCategory.Message,"Resolving_type_reference_directive_0_containing_file_1_root_directory_2_6116","======== Resolving type reference directive '{0}', containing file '{1}', root directory '{2}'. ========"),Resolving_using_primary_search_paths:t(6117,e.DiagnosticCategory.Message,"Resolving_using_primary_search_paths_6117","Resolving using primary search paths..."),Resolving_from_node_modules_folder:t(6118,e.DiagnosticCategory.Message,"Resolving_from_node_modules_folder_6118","Resolving from node_modules folder..."),Type_reference_directive_0_was_successfully_resolved_to_1_primary_Colon_2:t(6119,e.DiagnosticCategory.Message,"Type_reference_directive_0_was_successfully_resolved_to_1_primary_Colon_2_6119","======== Type reference directive '{0}' was successfully resolved to '{1}', primary: {2}. ========"),Type_reference_directive_0_was_not_resolved:t(6120,e.DiagnosticCategory.Message,"Type_reference_directive_0_was_not_resolved_6120","======== Type reference directive '{0}' was not resolved. ========"),Resolving_with_primary_search_path_0:t(6121,e.DiagnosticCategory.Message,"Resolving_with_primary_search_path_0_6121","Resolving with primary search path '{0}'."),Root_directory_cannot_be_determined_skipping_primary_search_paths:t(6122,e.DiagnosticCategory.Message,"Root_directory_cannot_be_determined_skipping_primary_search_paths_6122","Root directory cannot be determined, skipping primary search paths."),Resolving_type_reference_directive_0_containing_file_1_root_directory_not_set:t(6123,e.DiagnosticCategory.Message,"Resolving_type_reference_directive_0_containing_file_1_root_directory_not_set_6123","======== Resolving type reference directive '{0}', containing file '{1}', root directory not set. ========"),Type_declaration_files_to_be_included_in_compilation:t(6124,e.DiagnosticCategory.Message,"Type_declaration_files_to_be_included_in_compilation_6124","Type declaration files to be included in compilation."),Looking_up_in_node_modules_folder_initial_location_0:t(6125,e.DiagnosticCategory.Message,"Looking_up_in_node_modules_folder_initial_location_0_6125","Looking up in 'node_modules' folder, initial location '{0}'."),Containing_file_is_not_specified_and_root_directory_cannot_be_determined_skipping_lookup_in_node_modules_folder:t(6126,e.DiagnosticCategory.Message,"Containing_file_is_not_specified_and_root_directory_cannot_be_determined_skipping_lookup_in_node_mod_6126","Containing file is not specified and root directory cannot be determined, skipping lookup in 'node_modules' folder."),Resolving_type_reference_directive_0_containing_file_not_set_root_directory_1:t(6127,e.DiagnosticCategory.Message,"Resolving_type_reference_directive_0_containing_file_not_set_root_directory_1_6127","======== Resolving type reference directive '{0}', containing file not set, root directory '{1}'. ========"),Resolving_type_reference_directive_0_containing_file_not_set_root_directory_not_set:t(6128,e.DiagnosticCategory.Message,"Resolving_type_reference_directive_0_containing_file_not_set_root_directory_not_set_6128","======== Resolving type reference directive '{0}', containing file not set, root directory not set. ========"),Resolving_real_path_for_0_result_1:t(6130,e.DiagnosticCategory.Message,"Resolving_real_path_for_0_result_1_6130","Resolving real path for '{0}', result '{1}'."),Cannot_compile_modules_using_option_0_unless_the_module_flag_is_amd_or_system:t(6131,e.DiagnosticCategory.Error,"Cannot_compile_modules_using_option_0_unless_the_module_flag_is_amd_or_system_6131","Cannot compile modules using option '{0}' unless the '--module' flag is 'amd' or 'system'."),File_name_0_has_a_1_extension_stripping_it:t(6132,e.DiagnosticCategory.Message,"File_name_0_has_a_1_extension_stripping_it_6132","File name '{0}' has a '{1}' extension - stripping it."),_0_is_declared_but_its_value_is_never_read:t(6133,e.DiagnosticCategory.Error,"_0_is_declared_but_its_value_is_never_read_6133","'{0}' is declared but its value is never read."),Report_errors_on_unused_locals:t(6134,e.DiagnosticCategory.Message,"Report_errors_on_unused_locals_6134","Report errors on unused locals."),Report_errors_on_unused_parameters:t(6135,e.DiagnosticCategory.Message,"Report_errors_on_unused_parameters_6135","Report errors on unused parameters."),The_maximum_dependency_depth_to_search_under_node_modules_and_load_JavaScript_files:t(6136,e.DiagnosticCategory.Message,"The_maximum_dependency_depth_to_search_under_node_modules_and_load_JavaScript_files_6136","The maximum dependency depth to search under node_modules and load JavaScript files."),Cannot_import_type_declaration_files_Consider_importing_0_instead_of_1:t(6137,e.DiagnosticCategory.Error,"Cannot_import_type_declaration_files_Consider_importing_0_instead_of_1_6137","Cannot import type declaration files. Consider importing '{0}' instead of '{1}'."),Property_0_is_declared_but_its_value_is_never_read:t(6138,e.DiagnosticCategory.Error,"Property_0_is_declared_but_its_value_is_never_read_6138","Property '{0}' is declared but its value is never read."),Import_emit_helpers_from_tslib:t(6139,e.DiagnosticCategory.Message,"Import_emit_helpers_from_tslib_6139","Import emit helpers from 'tslib'."),Auto_discovery_for_typings_is_enabled_in_project_0_Running_extra_resolution_pass_for_module_1_using_cache_location_2:t(6140,e.DiagnosticCategory.Error,"Auto_discovery_for_typings_is_enabled_in_project_0_Running_extra_resolution_pass_for_module_1_using__6140","Auto discovery for typings is enabled in project '{0}'. Running extra resolution pass for module '{1}' using cache location '{2}'."),Parse_in_strict_mode_and_emit_use_strict_for_each_source_file:t(6141,e.DiagnosticCategory.Message,"Parse_in_strict_mode_and_emit_use_strict_for_each_source_file_6141",'Parse in strict mode and emit "use strict" for each source file.'),Module_0_was_resolved_to_1_but_jsx_is_not_set:t(6142,e.DiagnosticCategory.Error,"Module_0_was_resolved_to_1_but_jsx_is_not_set_6142","Module '{0}' was resolved to '{1}', but '--jsx' is not set."),Module_0_was_resolved_as_locally_declared_ambient_module_in_file_1:t(6144,e.DiagnosticCategory.Message,"Module_0_was_resolved_as_locally_declared_ambient_module_in_file_1_6144","Module '{0}' was resolved as locally declared ambient module in file '{1}'."),Module_0_was_resolved_as_ambient_module_declared_in_1_since_this_file_was_not_modified:t(6145,e.DiagnosticCategory.Message,"Module_0_was_resolved_as_ambient_module_declared_in_1_since_this_file_was_not_modified_6145","Module '{0}' was resolved as ambient module declared in '{1}' since this file was not modified."),Specify_the_JSX_factory_function_to_use_when_targeting_react_JSX_emit_e_g_React_createElement_or_h:t(6146,e.DiagnosticCategory.Message,"Specify_the_JSX_factory_function_to_use_when_targeting_react_JSX_emit_e_g_React_createElement_or_h_6146","Specify the JSX factory function to use when targeting 'react' JSX emit, e.g. 'React.createElement' or 'h'."),Resolution_for_module_0_was_found_in_cache:t(6147,e.DiagnosticCategory.Message,"Resolution_for_module_0_was_found_in_cache_6147","Resolution for module '{0}' was found in cache."),Directory_0_does_not_exist_skipping_all_lookups_in_it:t(6148,e.DiagnosticCategory.Message,"Directory_0_does_not_exist_skipping_all_lookups_in_it_6148","Directory '{0}' does not exist, skipping all lookups in it."),Show_diagnostic_information:t(6149,e.DiagnosticCategory.Message,"Show_diagnostic_information_6149","Show diagnostic information."),Show_verbose_diagnostic_information:t(6150,e.DiagnosticCategory.Message,"Show_verbose_diagnostic_information_6150","Show verbose diagnostic information."),Emit_a_single_file_with_source_maps_instead_of_having_a_separate_file:t(6151,e.DiagnosticCategory.Message,"Emit_a_single_file_with_source_maps_instead_of_having_a_separate_file_6151","Emit a single file with source maps instead of having a separate file."),Emit_the_source_alongside_the_sourcemaps_within_a_single_file_requires_inlineSourceMap_or_sourceMap_to_be_set:t(6152,e.DiagnosticCategory.Message,"Emit_the_source_alongside_the_sourcemaps_within_a_single_file_requires_inlineSourceMap_or_sourceMap__6152","Emit the source alongside the sourcemaps within a single file; requires '--inlineSourceMap' or '--sourceMap' to be set."),Transpile_each_file_as_a_separate_module_similar_to_ts_transpileModule:t(6153,e.DiagnosticCategory.Message,"Transpile_each_file_as_a_separate_module_similar_to_ts_transpileModule_6153","Transpile each file as a separate module (similar to 'ts.transpileModule')."),Print_names_of_generated_files_part_of_the_compilation:t(6154,e.DiagnosticCategory.Message,"Print_names_of_generated_files_part_of_the_compilation_6154","Print names of generated files part of the compilation."),Print_names_of_files_part_of_the_compilation:t(6155,e.DiagnosticCategory.Message,"Print_names_of_files_part_of_the_compilation_6155","Print names of files part of the compilation."),The_locale_used_when_displaying_messages_to_the_user_e_g_en_us:t(6156,e.DiagnosticCategory.Message,"The_locale_used_when_displaying_messages_to_the_user_e_g_en_us_6156","The locale used when displaying messages to the user (e.g. 'en-us')"),Do_not_generate_custom_helper_functions_like_extends_in_compiled_output:t(6157,e.DiagnosticCategory.Message,"Do_not_generate_custom_helper_functions_like_extends_in_compiled_output_6157","Do not generate custom helper functions like '__extends' in compiled output."),Do_not_include_the_default_library_file_lib_d_ts:t(6158,e.DiagnosticCategory.Message,"Do_not_include_the_default_library_file_lib_d_ts_6158","Do not include the default library file (lib.d.ts)."),Do_not_add_triple_slash_references_or_imported_modules_to_the_list_of_compiled_files:t(6159,e.DiagnosticCategory.Message,"Do_not_add_triple_slash_references_or_imported_modules_to_the_list_of_compiled_files_6159","Do not add triple-slash references or imported modules to the list of compiled files."),Deprecated_Use_skipLibCheck_instead_Skip_type_checking_of_default_library_declaration_files:t(6160,e.DiagnosticCategory.Message,"Deprecated_Use_skipLibCheck_instead_Skip_type_checking_of_default_library_declaration_files_6160","[Deprecated] Use '--skipLibCheck' instead. Skip type checking of default library declaration files."),List_of_folders_to_include_type_definitions_from:t(6161,e.DiagnosticCategory.Message,"List_of_folders_to_include_type_definitions_from_6161","List of folders to include type definitions from."),Disable_size_limitations_on_JavaScript_projects:t(6162,e.DiagnosticCategory.Message,"Disable_size_limitations_on_JavaScript_projects_6162","Disable size limitations on JavaScript projects."),The_character_set_of_the_input_files:t(6163,e.DiagnosticCategory.Message,"The_character_set_of_the_input_files_6163","The character set of the input files."),Emit_a_UTF_8_Byte_Order_Mark_BOM_in_the_beginning_of_output_files:t(6164,e.DiagnosticCategory.Message,"Emit_a_UTF_8_Byte_Order_Mark_BOM_in_the_beginning_of_output_files_6164","Emit a UTF-8 Byte Order Mark (BOM) in the beginning of output files."),Do_not_truncate_error_messages:t(6165,e.DiagnosticCategory.Message,"Do_not_truncate_error_messages_6165","Do not truncate error messages."),Output_directory_for_generated_declaration_files:t(6166,e.DiagnosticCategory.Message,"Output_directory_for_generated_declaration_files_6166","Output directory for generated declaration files."),A_series_of_entries_which_re_map_imports_to_lookup_locations_relative_to_the_baseUrl:t(6167,e.DiagnosticCategory.Message,"A_series_of_entries_which_re_map_imports_to_lookup_locations_relative_to_the_baseUrl_6167","A series of entries which re-map imports to lookup locations relative to the 'baseUrl'."),List_of_root_folders_whose_combined_content_represents_the_structure_of_the_project_at_runtime:t(6168,e.DiagnosticCategory.Message,"List_of_root_folders_whose_combined_content_represents_the_structure_of_the_project_at_runtime_6168","List of root folders whose combined content represents the structure of the project at runtime."),Show_all_compiler_options:t(6169,e.DiagnosticCategory.Message,"Show_all_compiler_options_6169","Show all compiler options."),Deprecated_Use_outFile_instead_Concatenate_and_emit_output_to_single_file:t(6170,e.DiagnosticCategory.Message,"Deprecated_Use_outFile_instead_Concatenate_and_emit_output_to_single_file_6170","[Deprecated] Use '--outFile' instead. Concatenate and emit output to single file"),Command_line_Options:t(6171,e.DiagnosticCategory.Message,"Command_line_Options_6171","Command-line Options"),Basic_Options:t(6172,e.DiagnosticCategory.Message,"Basic_Options_6172","Basic Options"),Strict_Type_Checking_Options:t(6173,e.DiagnosticCategory.Message,"Strict_Type_Checking_Options_6173","Strict Type-Checking Options"),Module_Resolution_Options:t(6174,e.DiagnosticCategory.Message,"Module_Resolution_Options_6174","Module Resolution Options"),Source_Map_Options:t(6175,e.DiagnosticCategory.Message,"Source_Map_Options_6175","Source Map Options"),Additional_Checks:t(6176,e.DiagnosticCategory.Message,"Additional_Checks_6176","Additional Checks"),Experimental_Options:t(6177,e.DiagnosticCategory.Message,"Experimental_Options_6177","Experimental Options"),Advanced_Options:t(6178,e.DiagnosticCategory.Message,"Advanced_Options_6178","Advanced Options"),Provide_full_support_for_iterables_in_for_of_spread_and_destructuring_when_targeting_ES5_or_ES3:t(6179,e.DiagnosticCategory.Message,"Provide_full_support_for_iterables_in_for_of_spread_and_destructuring_when_targeting_ES5_or_ES3_6179","Provide full support for iterables in 'for-of', spread, and destructuring when targeting 'ES5' or 'ES3'."),Enable_all_strict_type_checking_options:t(6180,e.DiagnosticCategory.Message,"Enable_all_strict_type_checking_options_6180","Enable all strict type-checking options."),List_of_language_service_plugins:t(6181,e.DiagnosticCategory.Message,"List_of_language_service_plugins_6181","List of language service plugins."),Scoped_package_detected_looking_in_0:t(6182,e.DiagnosticCategory.Message,"Scoped_package_detected_looking_in_0_6182","Scoped package detected, looking in '{0}'"),Reusing_resolution_of_module_0_to_file_1_from_old_program:t(6183,e.DiagnosticCategory.Message,"Reusing_resolution_of_module_0_to_file_1_from_old_program_6183","Reusing resolution of module '{0}' to file '{1}' from old program."),Reusing_module_resolutions_originating_in_0_since_resolutions_are_unchanged_from_old_program:t(6184,e.DiagnosticCategory.Message,"Reusing_module_resolutions_originating_in_0_since_resolutions_are_unchanged_from_old_program_6184","Reusing module resolutions originating in '{0}' since resolutions are unchanged from old program."),Disable_strict_checking_of_generic_signatures_in_function_types:t(6185,e.DiagnosticCategory.Message,"Disable_strict_checking_of_generic_signatures_in_function_types_6185","Disable strict checking of generic signatures in function types."),Enable_strict_checking_of_function_types:t(6186,e.DiagnosticCategory.Message,"Enable_strict_checking_of_function_types_6186","Enable strict checking of function types."),Variable_0_implicitly_has_an_1_type:t(7005,e.DiagnosticCategory.Error,"Variable_0_implicitly_has_an_1_type_7005","Variable '{0}' implicitly has an '{1}' type."),Parameter_0_implicitly_has_an_1_type:t(7006,e.DiagnosticCategory.Error,"Parameter_0_implicitly_has_an_1_type_7006","Parameter '{0}' implicitly has an '{1}' type."),Member_0_implicitly_has_an_1_type:t(7008,e.DiagnosticCategory.Error,"Member_0_implicitly_has_an_1_type_7008","Member '{0}' implicitly has an '{1}' type."),new_expression_whose_target_lacks_a_construct_signature_implicitly_has_an_any_type:t(7009,e.DiagnosticCategory.Error,"new_expression_whose_target_lacks_a_construct_signature_implicitly_has_an_any_type_7009","'new' expression, whose target lacks a construct signature, implicitly has an 'any' type."),_0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type:t(7010,e.DiagnosticCategory.Error,"_0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type_7010","'{0}', which lacks return-type annotation, implicitly has an '{1}' return type."),Function_expression_which_lacks_return_type_annotation_implicitly_has_an_0_return_type:t(7011,e.DiagnosticCategory.Error,"Function_expression_which_lacks_return_type_annotation_implicitly_has_an_0_return_type_7011","Function expression, which lacks return-type annotation, implicitly has an '{0}' return type."),Construct_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type:t(7013,e.DiagnosticCategory.Error,"Construct_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type_7013","Construct signature, which lacks return-type annotation, implicitly has an 'any' return type."),Element_implicitly_has_an_any_type_because_index_expression_is_not_of_type_number:t(7015,e.DiagnosticCategory.Error,"Element_implicitly_has_an_any_type_because_index_expression_is_not_of_type_number_7015","Element implicitly has an 'any' type because index expression is not of type 'number'."),Could_not_find_a_declaration_file_for_module_0_1_implicitly_has_an_any_type:t(7016,e.DiagnosticCategory.Error,"Could_not_find_a_declaration_file_for_module_0_1_implicitly_has_an_any_type_7016","Could not find a declaration file for module '{0}'. '{1}' implicitly has an 'any' type."),Element_implicitly_has_an_any_type_because_type_0_has_no_index_signature:t(7017,e.DiagnosticCategory.Error,"Element_implicitly_has_an_any_type_because_type_0_has_no_index_signature_7017","Element implicitly has an 'any' type because type '{0}' has no index signature."),Object_literal_s_property_0_implicitly_has_an_1_type:t(7018,e.DiagnosticCategory.Error,"Object_literal_s_property_0_implicitly_has_an_1_type_7018","Object literal's property '{0}' implicitly has an '{1}' type."),Rest_parameter_0_implicitly_has_an_any_type:t(7019,e.DiagnosticCategory.Error,"Rest_parameter_0_implicitly_has_an_any_type_7019","Rest parameter '{0}' implicitly has an 'any[]' type."),Call_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type:t(7020,e.DiagnosticCategory.Error,"Call_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type_7020","Call signature, which lacks return-type annotation, implicitly has an 'any' return type."),_0_implicitly_has_type_any_because_it_does_not_have_a_type_annotation_and_is_referenced_directly_or_indirectly_in_its_own_initializer:t(7022,e.DiagnosticCategory.Error,"_0_implicitly_has_type_any_because_it_does_not_have_a_type_annotation_and_is_referenced_directly_or__7022","'{0}' implicitly has type 'any' because it does not have a type annotation and is referenced directly or indirectly in its own initializer."),_0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions:t(7023,e.DiagnosticCategory.Error,"_0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_reference_7023","'{0}' implicitly has return type 'any' because it does not have a return type annotation and is referenced directly or indirectly in one of its return expressions."),Function_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions:t(7024,e.DiagnosticCategory.Error,"Function_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_ref_7024","Function implicitly has return type 'any' because it does not have a return type annotation and is referenced directly or indirectly in one of its return expressions."),Generator_implicitly_has_type_0_because_it_does_not_yield_any_values_Consider_supplying_a_return_type:t(7025,e.DiagnosticCategory.Error,"Generator_implicitly_has_type_0_because_it_does_not_yield_any_values_Consider_supplying_a_return_typ_7025","Generator implicitly has type '{0}' because it does not yield any values. Consider supplying a return type."),JSX_element_implicitly_has_type_any_because_no_interface_JSX_0_exists:t(7026,e.DiagnosticCategory.Error,"JSX_element_implicitly_has_type_any_because_no_interface_JSX_0_exists_7026","JSX element implicitly has type 'any' because no interface 'JSX.{0}' exists."),Unreachable_code_detected:t(7027,e.DiagnosticCategory.Error,"Unreachable_code_detected_7027","Unreachable code detected."),Unused_label:t(7028,e.DiagnosticCategory.Error,"Unused_label_7028","Unused label."),Fallthrough_case_in_switch:t(7029,e.DiagnosticCategory.Error,"Fallthrough_case_in_switch_7029","Fallthrough case in switch."),Not_all_code_paths_return_a_value:t(7030,e.DiagnosticCategory.Error,"Not_all_code_paths_return_a_value_7030","Not all code paths return a value."),Binding_element_0_implicitly_has_an_1_type:t(7031,e.DiagnosticCategory.Error,"Binding_element_0_implicitly_has_an_1_type_7031","Binding element '{0}' implicitly has an '{1}' type."),Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_parameter_type_annotation:t(7032,e.DiagnosticCategory.Error,"Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_parameter_type_annotation_7032","Property '{0}' implicitly has type 'any', because its set accessor lacks a parameter type annotation."),Property_0_implicitly_has_type_any_because_its_get_accessor_lacks_a_return_type_annotation:t(7033,e.DiagnosticCategory.Error,"Property_0_implicitly_has_type_any_because_its_get_accessor_lacks_a_return_type_annotation_7033","Property '{0}' implicitly has type 'any', because its get accessor lacks a return type annotation."),Variable_0_implicitly_has_type_1_in_some_locations_where_its_type_cannot_be_determined:t(7034,e.DiagnosticCategory.Error,"Variable_0_implicitly_has_type_1_in_some_locations_where_its_type_cannot_be_determined_7034","Variable '{0}' implicitly has type '{1}' in some locations where its type cannot be determined."),Try_npm_install_types_Slash_0_if_it_exists_or_add_a_new_declaration_d_ts_file_containing_declare_module_0:t(7035,e.DiagnosticCategory.Error,"Try_npm_install_types_Slash_0_if_it_exists_or_add_a_new_declaration_d_ts_file_containing_declare_mod_7035","Try `npm install @types/{0}` if it exists or add a new declaration (.d.ts) file containing `declare module '{0}';`"),Dynamic_import_s_specifier_must_be_of_type_string_but_here_has_type_0:t(7036,e.DiagnosticCategory.Error,"Dynamic_import_s_specifier_must_be_of_type_string_but_here_has_type_0_7036","Dynamic import's specifier must be of type 'string', but here has type '{0}'."),You_cannot_rename_this_element:t(8e3,e.DiagnosticCategory.Error,"You_cannot_rename_this_element_8000","You cannot rename this element."),You_cannot_rename_elements_that_are_defined_in_the_standard_TypeScript_library:t(8001,e.DiagnosticCategory.Error,"You_cannot_rename_elements_that_are_defined_in_the_standard_TypeScript_library_8001","You cannot rename elements that are defined in the standard TypeScript library."),import_can_only_be_used_in_a_ts_file:t(8002,e.DiagnosticCategory.Error,"import_can_only_be_used_in_a_ts_file_8002","'import ... =' can only be used in a .ts file."),export_can_only_be_used_in_a_ts_file:t(8003,e.DiagnosticCategory.Error,"export_can_only_be_used_in_a_ts_file_8003","'export=' can only be used in a .ts file."),type_parameter_declarations_can_only_be_used_in_a_ts_file:t(8004,e.DiagnosticCategory.Error,"type_parameter_declarations_can_only_be_used_in_a_ts_file_8004","'type parameter declarations' can only be used in a .ts file."),implements_clauses_can_only_be_used_in_a_ts_file:t(8005,e.DiagnosticCategory.Error,"implements_clauses_can_only_be_used_in_a_ts_file_8005","'implements clauses' can only be used in a .ts file."),interface_declarations_can_only_be_used_in_a_ts_file:t(8006,e.DiagnosticCategory.Error,"interface_declarations_can_only_be_used_in_a_ts_file_8006","'interface declarations' can only be used in a .ts file."),module_declarations_can_only_be_used_in_a_ts_file:t(8007,e.DiagnosticCategory.Error,"module_declarations_can_only_be_used_in_a_ts_file_8007","'module declarations' can only be used in a .ts file."),type_aliases_can_only_be_used_in_a_ts_file:t(8008,e.DiagnosticCategory.Error,"type_aliases_can_only_be_used_in_a_ts_file_8008","'type aliases' can only be used in a .ts file."),_0_can_only_be_used_in_a_ts_file:t(8009,e.DiagnosticCategory.Error,"_0_can_only_be_used_in_a_ts_file_8009","'{0}' can only be used in a .ts file."),types_can_only_be_used_in_a_ts_file:t(8010,e.DiagnosticCategory.Error,"types_can_only_be_used_in_a_ts_file_8010","'types' can only be used in a .ts file."),type_arguments_can_only_be_used_in_a_ts_file:t(8011,e.DiagnosticCategory.Error,"type_arguments_can_only_be_used_in_a_ts_file_8011","'type arguments' can only be used in a .ts file."),parameter_modifiers_can_only_be_used_in_a_ts_file:t(8012,e.DiagnosticCategory.Error,"parameter_modifiers_can_only_be_used_in_a_ts_file_8012","'parameter modifiers' can only be used in a .ts file."),non_null_assertions_can_only_be_used_in_a_ts_file:t(8013,e.DiagnosticCategory.Error,"non_null_assertions_can_only_be_used_in_a_ts_file_8013","'non-null assertions' can only be used in a .ts file."),enum_declarations_can_only_be_used_in_a_ts_file:t(8015,e.DiagnosticCategory.Error,"enum_declarations_can_only_be_used_in_a_ts_file_8015","'enum declarations' can only be used in a .ts file."),type_assertion_expressions_can_only_be_used_in_a_ts_file:t(8016,e.DiagnosticCategory.Error,"type_assertion_expressions_can_only_be_used_in_a_ts_file_8016","'type assertion expressions' can only be used in a .ts file."),Octal_literal_types_must_use_ES2015_syntax_Use_the_syntax_0:t(8017,e.DiagnosticCategory.Error,"Octal_literal_types_must_use_ES2015_syntax_Use_the_syntax_0_8017","Octal literal types must use ES2015 syntax. Use the syntax '{0}'."),Octal_literals_are_not_allowed_in_enums_members_initializer_Use_the_syntax_0:t(8018,e.DiagnosticCategory.Error,"Octal_literals_are_not_allowed_in_enums_members_initializer_Use_the_syntax_0_8018","Octal literals are not allowed in enums members initializer. Use the syntax '{0}'."),Report_errors_in_js_files:t(8019,e.DiagnosticCategory.Message,"Report_errors_in_js_files_8019","Report errors in .js files."),JSDoc_types_can_only_be_used_inside_documentation_comments:t(8020,e.DiagnosticCategory.Error,"JSDoc_types_can_only_be_used_inside_documentation_comments_8020","JSDoc types can only be used inside documentation comments."),JSDoc_typedef_tag_should_either_have_a_type_annotation_or_be_followed_by_property_or_member_tags:t(8021,e.DiagnosticCategory.Error,"JSDoc_typedef_tag_should_either_have_a_type_annotation_or_be_followed_by_property_or_member_tags_8021","JSDoc '@typedef' tag should either have a type annotation or be followed by '@property' or '@member' tags."),JSDoc_0_is_not_attached_to_a_class:t(8022,e.DiagnosticCategory.Error,"JSDoc_0_is_not_attached_to_a_class_8022","JSDoc '@{0}' is not attached to a class."),JSDoc_0_1_does_not_match_the_extends_2_clause:t(8023,e.DiagnosticCategory.Error,"JSDoc_0_1_does_not_match_the_extends_2_clause_8023","JSDoc '@{0} {1}' does not match the 'extends {2}' clause."),JSDoc_param_tag_has_name_0_but_there_is_no_parameter_with_that_name:t(8024,e.DiagnosticCategory.Error,"JSDoc_param_tag_has_name_0_but_there_is_no_parameter_with_that_name_8024","JSDoc '@param' tag has name '{0}', but there is no parameter with that name."),Class_declarations_cannot_have_more_than_one_augments_or_extends_tag:t(8025,e.DiagnosticCategory.Error,"Class_declarations_cannot_have_more_than_one_augments_or_extends_tag_8025","Class declarations cannot have more than one `@augments` or `@extends` tag."),Only_identifiers_Slashqualified_names_with_optional_type_arguments_are_currently_supported_in_a_class_extends_clause:t(9002,e.DiagnosticCategory.Error,"Only_identifiers_Slashqualified_names_with_optional_type_arguments_are_currently_supported_in_a_clas_9002","Only identifiers/qualified-names with optional type arguments are currently supported in a class 'extends' clause."),class_expressions_are_not_currently_supported:t(9003,e.DiagnosticCategory.Error,"class_expressions_are_not_currently_supported_9003","'class' expressions are not currently supported."),Language_service_is_disabled:t(9004,e.DiagnosticCategory.Error,"Language_service_is_disabled_9004","Language service is disabled."),JSX_attributes_must_only_be_assigned_a_non_empty_expression:t(17e3,e.DiagnosticCategory.Error,"JSX_attributes_must_only_be_assigned_a_non_empty_expression_17000","JSX attributes must only be assigned a non-empty 'expression'."),JSX_elements_cannot_have_multiple_attributes_with_the_same_name:t(17001,e.DiagnosticCategory.Error,"JSX_elements_cannot_have_multiple_attributes_with_the_same_name_17001","JSX elements cannot have multiple attributes with the same name."),Expected_corresponding_JSX_closing_tag_for_0:t(17002,e.DiagnosticCategory.Error,"Expected_corresponding_JSX_closing_tag_for_0_17002","Expected corresponding JSX closing tag for '{0}'."),JSX_attribute_expected:t(17003,e.DiagnosticCategory.Error,"JSX_attribute_expected_17003","JSX attribute expected."),Cannot_use_JSX_unless_the_jsx_flag_is_provided:t(17004,e.DiagnosticCategory.Error,"Cannot_use_JSX_unless_the_jsx_flag_is_provided_17004","Cannot use JSX unless the '--jsx' flag is provided."),A_constructor_cannot_contain_a_super_call_when_its_class_extends_null:t(17005,e.DiagnosticCategory.Error,"A_constructor_cannot_contain_a_super_call_when_its_class_extends_null_17005","A constructor cannot contain a 'super' call when its class extends 'null'."),An_unary_expression_with_the_0_operator_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses:t(17006,e.DiagnosticCategory.Error,"An_unary_expression_with_the_0_operator_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_ex_17006","An unary expression with the '{0}' operator is not allowed in the left-hand side of an exponentiation expression. Consider enclosing the expression in parentheses."),A_type_assertion_expression_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses:t(17007,e.DiagnosticCategory.Error,"A_type_assertion_expression_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Con_17007","A type assertion expression is not allowed in the left-hand side of an exponentiation expression. Consider enclosing the expression in parentheses."),JSX_element_0_has_no_corresponding_closing_tag:t(17008,e.DiagnosticCategory.Error,"JSX_element_0_has_no_corresponding_closing_tag_17008","JSX element '{0}' has no corresponding closing tag."),super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class:t(17009,e.DiagnosticCategory.Error,"super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class_17009","'super' must be called before accessing 'this' in the constructor of a derived class."),Unknown_type_acquisition_option_0:t(17010,e.DiagnosticCategory.Error,"Unknown_type_acquisition_option_0_17010","Unknown type acquisition option '{0}'."),super_must_be_called_before_accessing_a_property_of_super_in_the_constructor_of_a_derived_class:t(17011,e.DiagnosticCategory.Error,"super_must_be_called_before_accessing_a_property_of_super_in_the_constructor_of_a_derived_class_17011","'super' must be called before accessing a property of 'super' in the constructor of a derived class."),_0_is_not_a_valid_meta_property_for_keyword_1_Did_you_mean_2:t(17012,e.DiagnosticCategory.Error,"_0_is_not_a_valid_meta_property_for_keyword_1_Did_you_mean_2_17012","'{0}' is not a valid meta-property for keyword '{1}'. Did you mean '{2}'?"),Meta_property_0_is_only_allowed_in_the_body_of_a_function_declaration_function_expression_or_constructor:t(17013,e.DiagnosticCategory.Error,"Meta_property_0_is_only_allowed_in_the_body_of_a_function_declaration_function_expression_or_constru_17013","Meta-property '{0}' is only allowed in the body of a function declaration, function expression, or constructor."),Circularity_detected_while_resolving_configuration_Colon_0:t(18e3,e.DiagnosticCategory.Error,"Circularity_detected_while_resolving_configuration_Colon_0_18000","Circularity detected while resolving configuration: {0}"),A_path_in_an_extends_option_must_be_relative_or_rooted_but_0_is_not:t(18001,e.DiagnosticCategory.Error,"A_path_in_an_extends_option_must_be_relative_or_rooted_but_0_is_not_18001","A path in an 'extends' option must be relative or rooted, but '{0}' is not."),The_files_list_in_config_file_0_is_empty:t(18002,e.DiagnosticCategory.Error,"The_files_list_in_config_file_0_is_empty_18002","The 'files' list in config file '{0}' is empty."),No_inputs_were_found_in_config_file_0_Specified_include_paths_were_1_and_exclude_paths_were_2:t(18003,e.DiagnosticCategory.Error,"No_inputs_were_found_in_config_file_0_Specified_include_paths_were_1_and_exclude_paths_were_2_18003","No inputs were found in config file '{0}'. Specified 'include' paths were '{1}' and 'exclude' paths were '{2}'."),Add_missing_super_call:t(90001,e.DiagnosticCategory.Message,"Add_missing_super_call_90001","Add missing 'super()' call."),Make_super_call_the_first_statement_in_the_constructor:t(90002,e.DiagnosticCategory.Message,"Make_super_call_the_first_statement_in_the_constructor_90002","Make 'super()' call the first statement in the constructor."),Change_extends_to_implements:t(90003,e.DiagnosticCategory.Message,"Change_extends_to_implements_90003","Change 'extends' to 'implements'."),Remove_declaration_for_Colon_0:t(90004,e.DiagnosticCategory.Message,"Remove_declaration_for_Colon_0_90004","Remove declaration for: '{0}'."),Implement_interface_0:t(90006,e.DiagnosticCategory.Message,"Implement_interface_0_90006","Implement interface '{0}'."),Implement_inherited_abstract_class:t(90007,e.DiagnosticCategory.Message,"Implement_inherited_abstract_class_90007","Implement inherited abstract class."),Add_this_to_unresolved_variable:t(90008,e.DiagnosticCategory.Message,"Add_this_to_unresolved_variable_90008","Add 'this.' to unresolved variable."),Adding_a_tsconfig_json_file_will_help_organize_projects_that_contain_both_TypeScript_and_JavaScript_files_Learn_more_at_https_Colon_Slash_Slashaka_ms_Slashtsconfig:t(90009,e.DiagnosticCategory.Error,"Adding_a_tsconfig_json_file_will_help_organize_projects_that_contain_both_TypeScript_and_JavaScript__90009","Adding a tsconfig.json file will help organize projects that contain both TypeScript and JavaScript files. Learn more at https://aka.ms/tsconfig."),Type_0_is_not_assignable_to_type_1_Two_different_types_with_this_name_exist_but_they_are_unrelated:t(90010,e.DiagnosticCategory.Error,"Type_0_is_not_assignable_to_type_1_Two_different_types_with_this_name_exist_but_they_are_unrelated_90010","Type '{0}' is not assignable to type '{1}'. Two different types with this name exist, but they are unrelated."),Import_0_from_1:t(90013,e.DiagnosticCategory.Message,"Import_0_from_1_90013","Import '{0}' from \"{1}\"."),Change_0_to_1:t(90014,e.DiagnosticCategory.Message,"Change_0_to_1_90014","Change '{0}' to '{1}'."),Add_0_to_existing_import_declaration_from_1:t(90015,e.DiagnosticCategory.Message,"Add_0_to_existing_import_declaration_from_1_90015","Add '{0}' to existing import declaration from \"{1}\"."),Declare_property_0:t(90016,e.DiagnosticCategory.Message,"Declare_property_0_90016","Declare property '{0}'."),Add_index_signature_for_property_0:t(90017,e.DiagnosticCategory.Message,"Add_index_signature_for_property_0_90017","Add index signature for property '{0}'."),Disable_checking_for_this_file:t(90018,e.DiagnosticCategory.Message,"Disable_checking_for_this_file_90018","Disable checking for this file."),Ignore_this_error_message:t(90019,e.DiagnosticCategory.Message,"Ignore_this_error_message_90019","Ignore this error message."),Initialize_property_0_in_the_constructor:t(90020,e.DiagnosticCategory.Message,"Initialize_property_0_in_the_constructor_90020","Initialize property '{0}' in the constructor."),Initialize_static_property_0:t(90021,e.DiagnosticCategory.Message,"Initialize_static_property_0_90021","Initialize static property '{0}'."),Change_spelling_to_0:t(90022,e.DiagnosticCategory.Message,"Change_spelling_to_0_90022","Change spelling to '{0}'."),Declare_method_0:t(90023,e.DiagnosticCategory.Message,"Declare_method_0_90023","Declare method '{0}'."),Declare_static_method_0:t(90024,e.DiagnosticCategory.Message,"Declare_static_method_0_90024","Declare static method '{0}'."),Prefix_0_with_an_underscore:t(90025,e.DiagnosticCategory.Message,"Prefix_0_with_an_underscore_90025","Prefix '{0}' with an underscore."),Rewrite_as_the_indexed_access_type_0:t(90026,e.DiagnosticCategory.Message,"Rewrite_as_the_indexed_access_type_0_90026","Rewrite as the indexed access type '{0}'."),Declare_static_property_0:t(90027,e.DiagnosticCategory.Message,"Declare_static_property_0_90027","Declare static property '{0}'."),Call_decorator_expression:t(90028,e.DiagnosticCategory.Message,"Call_decorator_expression_90028","Call decorator expression."),Convert_function_to_an_ES2015_class:t(95001,e.DiagnosticCategory.Message,"Convert_function_to_an_ES2015_class_95001","Convert function to an ES2015 class"),Convert_function_0_to_class:t(95002,e.DiagnosticCategory.Message,"Convert_function_0_to_class_95002","Convert function '{0}' to class"),Extract_symbol:t(95003,e.DiagnosticCategory.Message,"Extract_symbol_95003","Extract symbol"),Extract_to_0_in_1:t(95004,e.DiagnosticCategory.Message,"Extract_to_0_in_1_95004","Extract to {0} in {1}"),Extract_function:t(95005,e.DiagnosticCategory.Message,"Extract_function_95005","Extract function"),Extract_constant:t(95006,e.DiagnosticCategory.Message,"Extract_constant_95006","Extract constant"),Extract_to_0_in_enclosing_scope:t(95007,e.DiagnosticCategory.Message,"Extract_to_0_in_enclosing_scope_95007","Extract to {0} in enclosing scope"),Extract_to_0_in_1_scope:t(95008,e.DiagnosticCategory.Message,"Extract_to_0_in_1_scope_95008","Extract to {0} in {1} scope"),Annotate_with_type_from_JSDoc:t(95009,e.DiagnosticCategory.Message,"Annotate_with_type_from_JSDoc_95009","Annotate with type from JSDoc"),Annotate_with_types_from_JSDoc:t(95010,e.DiagnosticCategory.Message,"Annotate_with_types_from_JSDoc_95010","Annotate with types from JSDoc"),Infer_type_of_0_from_usage:t(95011,e.DiagnosticCategory.Message,"Infer_type_of_0_from_usage_95011","Infer type of '{0}' from usage."),Infer_parameter_types_from_usage:t(95012,e.DiagnosticCategory.Message,"Infer_parameter_types_from_usage_95012","Infer parameter types from usage.")}}(ts=ts||{}),function(L){function e(e){return 71<=e}L.tokenIsIdentifierOrKeyword=e;var R=L.createMapFromTemplate({abstract:117,any:119,as:118,boolean:122,break:72,case:73,catch:74,class:75,continue:77,const:76,constructor:123,debugger:78,declare:124,default:79,delete:80,do:81,else:82,enum:83,export:84,extends:85,false:86,finally:87,for:88,from:140,function:89,get:125,if:90,implements:108,import:91,in:92,instanceof:93,interface:109,is:126,keyof:127,let:110,module:128,namespace:129,never:130,new:94,null:95,number:133,object:134,package:111,private:112,protected:113,public:114,readonly:131,require:132,global:141,return:96,set:135,static:115,string:136,super:97,switch:98,symbol:137,this:99,throw:100,true:101,try:102,type:138,typeof:103,undefined:139,var:104,void:105,while:106,with:107,yield:116,async:120,await:121,of:142,"{":17,"}":18,"(":19,")":20,"[":21,"]":22,".":23,"...":24,";":25,",":26,"<":27,">":29,"<=":30,">=":31,"==":32,"!=":33,"===":34,"!==":35,"=>":36,"+":37,"-":38,"**":40,"*":39,"/":41,"%":42,"++":43,"--":44,"<<":45,"</":28,">>":46,">>>":47,"&":48,"|":49,"^":50,"!":51,"~":52,"&&":53,"||":54,"?":55,":":56,"=":58,"+=":59,"-=":60,"*=":61,"**=":62,"/=":63,"%=":64,"<<=":65,">>=":66,">>>=":67,"&=":68,"|=":69,"^=":70,"@":57}),n=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1569,1594,1600,1610,1649,1747,1749,1749,1765,1766,1786,1788,1808,1808,1810,1836,1920,1957,2309,2361,2365,2365,2384,2384,2392,2401,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2784,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2877,2877,2908,2909,2911,2913,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3294,3294,3296,3297,3333,3340,3342,3344,3346,3368,3370,3385,3424,3425,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3805,3840,3840,3904,3911,3913,3946,3976,3979,4096,4129,4131,4135,4137,4138,4176,4181,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6067,6176,6263,6272,6312,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8319,8319,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12329,12337,12341,12344,12346,12353,12436,12445,12446,12449,12538,12540,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65138,65140,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],r=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,768,846,864,866,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1155,1158,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1425,1441,1443,1465,1467,1469,1471,1471,1473,1474,1476,1476,1488,1514,1520,1522,1569,1594,1600,1621,1632,1641,1648,1747,1749,1756,1759,1768,1770,1773,1776,1788,1808,1836,1840,1866,1920,1968,2305,2307,2309,2361,2364,2381,2384,2388,2392,2403,2406,2415,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2492,2494,2500,2503,2504,2507,2509,2519,2519,2524,2525,2527,2531,2534,2545,2562,2562,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2649,2652,2654,2654,2662,2676,2689,2691,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2784,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2876,2883,2887,2888,2891,2893,2902,2903,2908,2909,2911,2913,2918,2927,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3006,3010,3014,3016,3018,3021,3031,3031,3047,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3134,3140,3142,3144,3146,3149,3157,3158,3168,3169,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3262,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3297,3302,3311,3330,3331,3333,3340,3342,3344,3346,3368,3370,3385,3390,3395,3398,3400,3402,3405,3415,3415,3424,3425,3430,3439,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3805,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3946,3953,3972,3974,3979,3984,3991,3993,4028,4038,4038,4096,4129,4131,4135,4137,4138,4140,4146,4150,4153,4160,4169,4176,4185,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,4969,4977,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6099,6112,6121,6160,6169,6176,6263,6272,6313,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8255,8256,8319,8319,8400,8412,8417,8417,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12335,12337,12341,12344,12346,12353,12436,12441,12442,12445,12446,12449,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65056,65059,65075,65076,65101,65103,65136,65138,65140,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65381,65470,65474,65479,65482,65487,65490,65495,65498,65500],i=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2208,2208,2210,2220,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],a=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1319,1329,1366,1369,1369,1377,1415,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1520,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2048,2093,2112,2139,2208,2208,2210,2220,2276,2302,2304,2403,2406,2415,2417,2423,2425,2431,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3140,3142,3144,3146,3149,3157,3158,3160,3161,3168,3171,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3299,3302,3311,3313,3314,3330,3331,3333,3340,3342,3344,3346,3386,3389,3396,3398,3400,3402,3406,3415,3415,3424,3427,3430,3439,3450,3455,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5908,5920,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6160,6169,6176,6263,6272,6314,6320,6389,6400,6428,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6617,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6912,6987,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7376,7378,7380,7414,7424,7654,7676,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8204,8205,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,11823,11823,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12442,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42647,42655,42737,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43047,43072,43123,43136,43204,43216,43225,43232,43255,43259,43259,43264,43309,43312,43347,43360,43388,43392,43456,43471,43481,43520,43574,43584,43597,43600,43609,43616,43638,43642,43643,43648,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65062,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500];function s(e,t){if(!(e<t[0]))for(var n,r=0,i=t.length;r+1<i;){if(n=r+(i-r)/2,t[n-=n%2]<=e&&e<=t[1+n])return!0;e<t[n]?i=n:r=2+n}return!1}function o(e,t){return s(e,1<=t?i:n)}L.isUnicodeIdentifierStart=o;c=[],R.forEach(function(e,t){c[e]=t});var c,t=c;function l(e){for(var t=new Array,n=0,r=0;n<e.length;){var i=e.charCodeAt(n);switch(n++,i){case 13:10===e.charCodeAt(n)&&n++;case 10:t.push(r),r=n;break;default:127<i&&B(i)&&(t.push(r),r=n)}}return t.push(r),t}function u(e,t,n,r){L.Debug.assert(0<=t&&t<e.length);n=e[t]+n;return t<e.length-1?L.Debug.assert(n<e[t+1]):void 0!==r&&L.Debug.assert(n<=r.length),n}function d(e){return e.lineMap||(e.lineMap=l(e.text))}function p(e,t){var n=L.binarySearch(e,t);return n<0&&L.Debug.assert(-1!==(n=~n-1),"position cannot precede the beginning of the file"),{line:n,character:t-e[n]}}function M(e){return U(e)||B(e)}function U(e){return 32===e||9===e||11===e||12===e||160===e||133===e||5760===e||8192<=e&&e<=8203||8239===e||8287===e||12288===e||65279===e}function B(e){return 10===e||13===e||8232===e||8233===e}function j(e){return 48<=e&&e<=57}function K(e){return 48<=e&&e<=55}L.tokenToString=function(e){return t[e]},L.stringToToken=function(e){return R.get(e)},L.computeLineStarts=l,L.getPositionOfLineAndCharacter=function(e,t,n){return u(d(e),t,n,e.text)},L.computePositionOfLineAndCharacter=u,L.getLineStarts=d,L.computeLineAndCharacterOfPosition=p,L.getLineAndCharacterOfPosition=function(e,t){return p(d(e),t)},L.isWhiteSpaceLike=M,L.isWhiteSpaceSingleLine=U,L.isLineBreak=B,L.isOctalDigit=K,L.couldStartTrivia=function(e,t){var n=e.charCodeAt(t);switch(n){case 13:case 10:case 9:case 11:case 12:case 32:case 47:case 60:case 124:case 61:case 62:return!0;case 35:return 0===t;default:return 127<n}},L.skipTrivia=function(e,t,n,r){if(void 0===r&&(r=!1),L.positionIsSynthesized(t))return t;for(;;){var i=e.charCodeAt(t);switch(i){case 13:10===e.charCodeAt(t+1)&&t++;case 10:if(t++,n)return t;continue;case 9:case 11:case 12:case 32:t++;continue;case 47:if(r)break;if(47===e.charCodeAt(t+1)){for(t+=2;t<e.length&&!B(e.charCodeAt(t));)t++;continue}if(42!==e.charCodeAt(t+1))break;for(t+=2;t<e.length;){if(42===e.charCodeAt(t)&&47===e.charCodeAt(t+1)){t+=2;break}t++}continue;case 60:case 124:case 61:case 62:if(z(e,t)){t=$(e,t);continue}break;case 35:if(0===t&&J(e,t)){t=q(e,t);continue}break;default:if(127<i&&M(i)){t++;continue}}return t}};var f="<<<<<<<".length;function z(e,t){if(L.Debug.assert(0<=t),0===t||B(e.charCodeAt(t-1))){var n=e.charCodeAt(t);if(t+f<e.length){for(var r=0;r<f;r++)if(e.charCodeAt(t+r)!==n)return;return 61===n||32===e.charCodeAt(t+f)}}}function $(e,t,n){n&&n(L.Diagnostics.Merge_conflict_marker_encountered,f);var r=e.charCodeAt(t),i=e.length;if(60===r||62===r)for(;t<i&&!B(e.charCodeAt(t));)t++;else for(L.Debug.assert(124===r||61===r);t<i;){var a=e.charCodeAt(t);if((61===a||62===a)&&a!==r&&z(e,t))break;t++}return t}var _=/^#!.*/;function J(e,t){return L.Debug.assert(0===t),_.test(e)}function q(e,t){return t+_.exec(e)[0].length}function m(e,t,n,r,i,a,s){var o,c,l,u,d=!1,p=r||0===n,f=s;e:for(;0<=n&&n<t.length;){var _=t.charCodeAt(n);switch(_){case 13:10===t.charCodeAt(n+1)&&n++;case 10:if(n++,r)break e;p=!0,d&&(u=!0);continue;case 9:case 11:case 12:case 32:n++;continue;case 47:var m=t.charCodeAt(n+1),g=!1;if(47!==m&&42!==m)break e;var h=47===m?2:3,y=n;if(n+=2,47===m)for(;n<t.length;){if(B(t.charCodeAt(n))){g=!0;break}n++}else for(;n<t.length;){if(42===t.charCodeAt(n)&&47===t.charCodeAt(n+1)){n+=2;break}n++}if(p){if(d){if(f=i(o,c,l,u,a,f),!e&&f)return f;d=!1}o=y,c=n,l=h,u=g,d=!0}continue;default:if(127<_&&M(_)){d&&B(_)&&(u=!0),n++;continue}break e}}return f=d?i(o,c,l,u,a,f):f}function g(e,t,n,r,i){return m(!0,e,t,!1,n,r,i)}function h(e,t,n,r,i){return m(!0,e,t,!0,n,r,i)}function y(e,t,n,r,i,a){return(a=a||[]).push({kind:n,pos:e,end:t,hasTrailingNewLine:r}),a}function V(e,t){return 65<=e&&e<=90||97<=e&&e<=122||36===e||95===e||127<e&&o(e,t)}function H(e,t){return 65<=e&&e<=90||97<=e&&e<=122||48<=e&&e<=57||36===e||95===e||127<e&&s(e,1<=t?a:r)}L.forEachLeadingCommentRange=function(e,t,n,r){return m(!1,e,t,!1,n,r)},L.forEachTrailingCommentRange=function(e,t,n,r){return m(!1,e,t,!0,n,r)},L.reduceEachLeadingCommentRange=g,L.reduceEachTrailingCommentRange=h,L.getLeadingCommentRanges=function(e,t){return g(e,t,y,void 0,void 0)},L.getTrailingCommentRanges=function(e,t){return h(e,t,y,void 0,void 0)},L.getShebang=function(e){e=_.exec(e);if(e)return e[0]},L.isIdentifierStart=V,L.isIdentifierPart=H,L.isIdentifierText=function(e,t){if(!V(e.charCodeAt(0),t))return!1;for(var n=1;n<e.length;n++)if(!H(e.charCodeAt(n),t))return!1;return!0},L.createScanner=function(a,s,o,p,n,e,t){var f,_,m,g,h,y,v,b,x,c;return void 0===o&&(o=0),O(p,e,t),{getStartPos:function(){return m},getTextPos:function(){return f},getToken:function(){return h},getTokenPos:function(){return g},getTokenText:function(){return p.substring(g,f)},getTokenValue:function(){return y},hasExtendedUnicodeEscape:function(){return b},hasPrecedingLineBreak:function(){return v},isIdentifier:function(){return 71===h||107<h},isReservedWord:function(){return 72<=h&&h<=107},isUnterminated:function(){return x},getNumericLiteralFlags:function(){return c},reScanGreaterToken:function(){if(29===h){if(62===p.charCodeAt(f))return h=62===p.charCodeAt(f+1)?61===p.charCodeAt(f+2)?(f+=3,67):(f+=2,47):61===p.charCodeAt(f+1)?(f+=2,66):(f++,46);if(61===p.charCodeAt(f))return f++,h=31}return h},reScanSlashToken:function(){if(41===h||63===h){for(var e=g+1,t=!1,n=!1;;){if(_<=e){x=!0,l(L.Diagnostics.Unterminated_regular_expression_literal);break}var r=p.charCodeAt(e);if(B(r)){x=!0,l(L.Diagnostics.Unterminated_regular_expression_literal);break}if(t)t=!1;else{if(47===r&&!n){e++;break}91===r?n=!0:92===r?t=!0:93===r&&(n=!1)}e++}for(;e<_&&H(p.charCodeAt(e),a);)e++;f=e,y=p.substring(g,f),h=12}return h},reScanTemplateToken:function(){return L.Debug.assert(18===h,"'reScanTemplateToken' should only be called on a '}'"),f=g,h=S()},scanJsxIdentifier:function(){if(71<=h){for(var e=f;f<_;){var t=p.charCodeAt(f);if(45!==t&&!(e===f?V:H)(t,a))break;f++}y+=p.substr(e,f-e)}return h},scanJsxAttributeValue:function(){switch(m=f,p.charCodeAt(f)){case 34:case 39:return y=k(!1),h=9;default:return w()}},reScanJsxToken:function(){return f=g=m,h=I()},scanJsxToken:I,scanJSDocToken:function(){if(_<=f)return h=1;g=m=f;var e=p.charCodeAt(f);switch(e){case 9:case 11:case 12:case 32:for(;f<_&&U(p.charCodeAt(f));)f++;return h=5;case 64:return f++,h=57;case 10:case 13:return f++,h=4;case 42:return f++,h=39;case 123:return f++,h=17;case 125:return f++,h=18;case 91:return f++,h=21;case 93:return f++,h=22;case 60:return f++,h=27;case 62:return f++,h=29;case 61:return f++,h=58;case 44:return f++,h=26;case 46:return f++,h=23}if(V(e,5)){for(f++;H(p.charCodeAt(f),5)&&f<_;)f++;return h=71}return f+=1,h=0},scan:w,getText:function(){return p},setText:O,setScriptTarget:function(e){a=e},setLanguageVariant:function(e){o=e},setOnError:function(e){n=e},setTextPos:F,tryScan:function(e){return P(e,!1)},lookAhead:function(e){return P(e,!0)},scanRange:function(e,t,n){var r=_,i=f,a=m,s=g,o=h,c=v,l=y,u=b,d=x,e=(O(p,e,t),n());return _=r,f=i,m=a,g=s,h=o,v=c,y=l,b=u,x=d,e}};function l(e,t){n&&n(e,t||0)}function u(){for(var e=f;j(p.charCodeAt(f));)f++;if(46===p.charCodeAt(f))for(f++;j(p.charCodeAt(f));)f++;var t=f;if(69===p.charCodeAt(f)||101===p.charCodeAt(f))if(f++,c=2,43!==p.charCodeAt(f)&&45!==p.charCodeAt(f)||f++,j(p.charCodeAt(f))){for(f++;j(p.charCodeAt(f));)f++;t=f}else l(L.Diagnostics.Digit_expected);return""+ +p.substring(e,t)}function r(e){return i(e,!1)}function d(e){return i(e,!0)}function i(e,t){for(var n=0,r=0;n<e||t;){var i=p.charCodeAt(f);if(48<=i&&i<=57)r=16*r+i-48;else if(65<=i&&i<=70)r=16*r+i-65+10;else{if(!(97<=i&&i<=102))break;r=16*r+i-97+10}f++,n++}return r=n<e?-1:r}function k(e){void 0===e&&(e=!0);for(var t=p.charCodeAt(f),n="",r=++f;;){if(_<=f){n+=p.substring(r,f),x=!0,l(L.Diagnostics.Unterminated_string_literal);break}var i=p.charCodeAt(f);if(i===t){n+=p.substring(r,f),f++;break}if(92===i&&e)n=(n+=p.substring(r,f))+T(),r=f;else{if(B(i)){n+=p.substring(r,f),x=!0,l(L.Diagnostics.Unterminated_string_literal);break}f++}}return n}function S(){for(var e,t=96===p.charCodeAt(f),n=++f,r="";;){if(_<=f){r+=p.substring(n,f),x=!0,l(L.Diagnostics.Unterminated_template_literal),e=t?13:16;break}var i=p.charCodeAt(f);if(96===i){r+=p.substring(n,f),f++,e=t?13:16;break}if(36===i&&f+1<_&&123===p.charCodeAt(f+1)){r+=p.substring(n,f),f+=2,e=t?14:15;break}92!==i?13!==i?f++:(r+=p.substring(n,f),++f<_&&10===p.charCodeAt(f)&&f++,r+="\n",n=f):(r=(r+=p.substring(n,f))+T(),n=f)}return L.Debug.assert(void 0!==e),y=r,e}function T(){if(++f>=_)return l(L.Diagnostics.Unexpected_end_of_text),"";var e,t,n=p.charCodeAt(f);switch(f++,n){case 48:return"\0";case 98:return"\b";case 116:return"\t";case 110:return"\n";case 118:return"\v";case 102:return"\f";case 114:return"\r";case 39:return"'";case 34:return'"';case 117:return f<_&&123===p.charCodeAt(f)?(b=!0,f++,e=d(1),t=!1,e<0?(l(L.Diagnostics.Hexadecimal_digit_expected),t=!0):1114111<e&&(l(L.Diagnostics.An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive),t=!0),_<=f?(l(L.Diagnostics.Unexpected_end_of_text),t=!0):125===p.charCodeAt(f)?f++:(l(L.Diagnostics.Unterminated_Unicode_escape_sequence),t=!0),t?"":(t=e,L.Debug.assert(0<=t&&t<=1114111),t<=65535?String.fromCharCode(t):(e=Math.floor((t-65536)/1024)+55296,String.fromCharCode(e,(t-65536)%1024+56320)))):C(4);case 120:return C(2);case 13:f<_&&10===p.charCodeAt(f)&&f++;case 10:case 8232:case 8233:return"";default:return String.fromCharCode(n)}}function C(e){e=r(e);return 0<=e?String.fromCharCode(e):(l(L.Diagnostics.Hexadecimal_digit_expected),"")}function E(){var e,t;return f+5<_&&117===p.charCodeAt(f+1)?(e=f,f+=2,t=r(4),f=e,t):-1}function D(){for(var e="",t=f;f<_;){var n=p.charCodeAt(f);if(H(n,a))f++;else{if(92!==n)break;if(!(0<=(n=E())&&H(n,a)))break;e=(e+=p.substring(t,f))+String.fromCharCode(n),t=f+=6}}return e+p.substring(t,f)}function A(){var e=y.length;if(2<=e&&e<=11){e=y.charCodeAt(0);if(97<=e&&e<=122&&void 0!==(h=R.get(y)))return h}return h=71}function N(e){L.Debug.assert(2===e||8===e,"Expected either base 2 or base 8");for(var t=0,n=0;;){var r=p.charCodeAt(f),i=r-48;if(!j(r)||e<=i)break;t=t*e+i,f++,n++}return 0===n?-1:t}function w(){for(m=f,x=v=b=!1,c=0;;){if(_<=(g=f))return h=1;var e,t=p.charCodeAt(f);if(35===t&&0===f&&J(p,f)){if(f=q(p,f),s)continue;return h=6}switch(t){case 10:case 13:if(v=!0,s){f++;continue}return 13===t&&f+1<_&&10===p.charCodeAt(f+1)?f+=2:f++,h=4;case 9:case 11:case 12:case 32:if(s){f++;continue}for(;f<_&&U(p.charCodeAt(f));)f++;return h=5;case 33:return h=61===p.charCodeAt(f+1)?61===p.charCodeAt(f+2)?(f+=3,35):(f+=2,33):(f++,51);case 34:case 39:return y=k(),h=9;case 96:return h=S();case 37:return h=61===p.charCodeAt(f+1)?(f+=2,64):(f++,42);case 38:return h=38===p.charCodeAt(f+1)?(f+=2,53):61===p.charCodeAt(f+1)?(f+=2,68):(f++,48);case 40:return f++,h=19;case 41:return f++,h=20;case 42:return h=61===p.charCodeAt(f+1)?(f+=2,61):42===p.charCodeAt(f+1)?61===p.charCodeAt(f+2)?(f+=3,62):(f+=2,40):(f++,39);case 43:return h=43===p.charCodeAt(f+1)?(f+=2,43):61===p.charCodeAt(f+1)?(f+=2,59):(f++,37);case 44:return f++,h=26;case 45:return h=45===p.charCodeAt(f+1)?(f+=2,44):61===p.charCodeAt(f+1)?(f+=2,60):(f++,38);case 46:return h=j(p.charCodeAt(f+1))?(y=u(),8):46===p.charCodeAt(f+1)&&46===p.charCodeAt(f+2)?(f+=3,24):(f++,23);case 47:if(47===p.charCodeAt(f+1)){for(f+=2;f<_&&!B(p.charCodeAt(f));)f++;if(s)continue;return h=2}if(42!==p.charCodeAt(f+1))return h=61===p.charCodeAt(f+1)?(f+=2,63):(f++,41);f+=2;for(var n=!1;f<_;){var r=p.charCodeAt(f);if(42===r&&47===p.charCodeAt(f+1)){f+=2,n=!0;break}B(r)&&(v=!0),f++}if(n||l(L.Diagnostics.Asterisk_Slash_expected),s)continue;return x=!n,h=3;case 48:if(f+2<_&&(88===p.charCodeAt(f+1)||120===p.charCodeAt(f+1)))return f+=2,(e=d(1))<0&&(l(L.Diagnostics.Hexadecimal_digit_expected),e=0),y=""+e,h=c=8;if(f+2<_&&(66===p.charCodeAt(f+1)||98===p.charCodeAt(f+1)))return f+=2,(e=N(2))<0&&(l(L.Diagnostics.Binary_digit_expected),e=0),y=""+e,c=16,h=8;if(f+2<_&&(79===p.charCodeAt(f+1)||111===p.charCodeAt(f+1)))return f+=2,(e=N(8))<0&&(l(L.Diagnostics.Octal_digit_expected),e=0),y=""+e,c=32,h=8;if(f+1<_&&K(p.charCodeAt(f+1)))return y=""+function(){for(var e=f;K(p.charCodeAt(f));)f++;return+p.substring(e,f)}(),c=4,h=8;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return y=u(),h=8;case 58:return f++,h=56;case 59:return f++,h=25;case 60:if(z(p,f)){if(f=$(p,f,l),s)continue;return h=7}return h=60===p.charCodeAt(f+1)?61===p.charCodeAt(f+2)?(f+=3,65):(f+=2,45):61===p.charCodeAt(f+1)?(f+=2,30):1===o&&47===p.charCodeAt(f+1)&&42!==p.charCodeAt(f+2)?(f+=2,28):(f++,27);case 61:if(z(p,f)){if(f=$(p,f,l),s)continue;return h=7}return h=61===p.charCodeAt(f+1)?61===p.charCodeAt(f+2)?(f+=3,34):(f+=2,32):62===p.charCodeAt(f+1)?(f+=2,36):(f++,58);case 62:if(z(p,f)){if(f=$(p,f,l),s)continue;return h=7}return f++,h=29;case 63:return f++,h=55;case 91:return f++,h=21;case 93:return f++,h=22;case 94:return h=61===p.charCodeAt(f+1)?(f+=2,70):(f++,50);case 123:return f++,h=17;case 124:if(z(p,f)){if(f=$(p,f,l),s)continue;return h=7}return h=124===p.charCodeAt(f+1)?(f+=2,54):61===p.charCodeAt(f+1)?(f+=2,69):(f++,49);case 125:return f++,h=18;case 126:return f++,h=52;case 64:return f++,h=57;case 92:var i=E();return h=0<=i&&V(i,a)?(f+=6,y=String.fromCharCode(i)+D(),A()):(l(L.Diagnostics.Invalid_character),f++,0);default:if(V(t,a)){for(f++;f<_&&H(t=p.charCodeAt(f),a);)f++;return y=p.substring(g,f),92===t&&(y+=D()),h=A()}if(U(t)){f++;continue}if(B(t)){v=!0,f++;continue}return l(L.Diagnostics.Invalid_character),f++,h=0}}}function I(){if(m=g=f,_<=f)return h=1;var e=p.charCodeAt(f);if(60===e)return h=47===p.charCodeAt(f+1)?(f+=2,28):(f++,27);if(123===e)return f++,h=17;for(var t=0;f<_&&123!==(e=p.charCodeAt(f));){if(60===e){if(z(p,f))return f=$(p,f,l),h=7;break}B(e)&&0===t?t=-1:M(e)||(t=f),f++}return-1===t?11:10}function P(e,t){var n=f,r=m,i=g,a=h,s=y,o=v,e=e();return e&&!t||(f=n,m=r,g=i,h=a,y=s,v=o),e}function O(e,t,n){p=e||"",_=void 0===n?p.length:t+n,F(t||0)}function F(e){L.Debug.assert(0<=e),g=m=f=e,y=void(h=0),x=b=v=!1}}}(ts=ts||{}),function(v){v.emptyArray=[],v.emptyMap=v.createMap(),v.externalHelpersModuleNameText="tslib",v.getDeclarationOfKind=function(e,t){e=e.declarations;if(e)for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i.kind===t)return i}};t="";var t,n={string:function(){return t},writeKeyword:e=function(e){return t+=e},writeOperator:e,writePunctuation:e,writeSpace:e,writeStringLiteral:e,writeParameter:e,writeProperty:e,writeSymbol:e,writeLine:function(){return t+=" "},increaseIndent:v.noop,decreaseIndent:v.noop,clear:function(){return t=""},trackSymbol:v.noop,reportInaccessibleThisError:v.noop,reportPrivateInBaseOfClassExpression:v.noop};function r(e){return e.end-e.pos}function a(e){for(;e&&265!==e.kind;)e=e.parent;return e}function R(e,t){v.Debug.assert(0<=e);var n=v.getLineStarts(t),r=t.text;if(e+1===n.length)return r.length-1;var i=n[e],a=n[e+1]-1;for(v.Debug.assert(v.isLineBreak(r.charCodeAt(a)));i<=a&&v.isLineBreak(r.charCodeAt(a));)a--;return a}function c(e){return void 0===e||e.pos===e.end&&0<=e.pos&&1!==e.kind}function M(e){return!c(e)}function U(e,t){return 42===e.charCodeAt(t.pos+1)&&33===e.charCodeAt(t.pos+2)}function i(e,t,n){return c(e)?e.pos:v.isJSDocNode(e)?v.skipTrivia((t||a(e)).text,e.pos,!1,!0):n&&v.hasJSDocNodes(e)?i(e.jsDoc[0]):286===e.kind&&0<e._children.length?i(e._children[0],t,n):v.skipTrivia((t||a(e)).text,e.pos)}function s(e,t,n){return void 0===n&&(n=!1),c(t)?"":(e=e.text).substring(n?t.pos:v.skipTrivia(e,t.pos),t.end)}function B(e,t){return c(t)?"":e.substring(v.skipTrivia(e,t.pos),t.end)}function o(e,t){return void 0===t&&(t=!1),s(a(e),e,t)}function j(e,t){e=e.pos,t=t.pos;return e<t?-1:t<e?1:0}function K(e){e=e.emitNode;return e&&e.flags}function l(e){return 2<=e.length&&95===e.charCodeAt(0)&&95===e.charCodeAt(1)?"_"+e:e}function z(e){e=be(e);return 226===e.kind&&260===e.parent.kind}function u(e){return e&&233===e.kind&&(9===e.name.kind||J(e))}function $(e){return v.isModuleDeclaration(e)&&9===e.name.kind}function J(e){return!!(512&e.flags)}function q(e,t){switch(e.kind){case 265:case 235:case 260:case 233:case 214:case 215:case 216:case 152:case 151:case 153:case 154:case 228:case 186:case 187:return!0;case 207:return t&&!v.isFunctionLike(t)}return!1}function V(e){return 0===r(e)?"(Missing)":o(e)}function H(e){switch(e.kind){case 71:return e.escapedText;case 9:case 8:return l(e.text);case 144:if(k(e.expression))return l(e.expression.text)}}function G(e,t,n,r,i,a){t=p(e,t);return v.createFileDiagnostic(e,t.start,t.length,n,r,i,a)}function d(e,t){e=v.createScanner(e.languageVersion,!0,e.languageVariant,e.text,void 0,t),e.scan(),t=e.getTokenPos();return v.createTextSpanFromBounds(t,e.getTextPos())}function p(e,t){var n,r=t;switch(t.kind){case 265:var i=v.skipTrivia(e.text,0,!1);return i===e.text.length?v.createTextSpan(0,0):d(e,i);case 226:case 176:case 229:case 199:case 230:case 233:case 232:case 264:case 228:case 186:case 151:case 153:case 154:case 231:r=t.name;break;case 187:var i=e,a=t,s=v.skipTrivia(i.text,a.pos);if(a.body&&207===a.body.kind){var o=v.getLineAndCharacterOfPosition(i,a.body.pos).line;if(o<v.getLineAndCharacterOfPosition(i,a.body.end).line)return v.createTextSpan(s,R(o,i)-s+1)}return v.createTextSpanFromBounds(s,a.end)}return void 0===r?d(e,t.pos):(n=c(r)?r.pos:v.skipTrivia(e.text,r.pos),v.createTextSpanFromBounds(n,r.end))}function W(e){return!!(2&v.getCombinedNodeFlags(e))||!!(2048&v.getCombinedModifierFlags(e))}v.usingSingleLineStringWriter=function(e){var t=n.string();try{return e(n),n.string()}finally{n.clear(),n.writeKeyword(t)}},v.getFullWidth=r,v.getResolvedModule=function(e,t){return e&&e.resolvedModules&&e.resolvedModules.get(t)},v.setResolvedModule=function(e,t,n){e.resolvedModules||(e.resolvedModules=v.createMap()),e.resolvedModules.set(t,n)},v.setResolvedTypeReferenceDirective=function(e,t,n){e.resolvedTypeReferenceDirectiveNames||(e.resolvedTypeReferenceDirectiveNames=v.createMap()),e.resolvedTypeReferenceDirectiveNames.set(t,n)},v.moduleResolutionIsEqualTo=function(e,t){return e.isExternalLibraryImport===t.isExternalLibraryImport&&e.extension===t.extension&&e.resolvedFileName===t.resolvedFileName&&((e=e.packageId)===(t=t.packageId)||e&&t&&e.name===t.name&&e.subModuleName===t.subModuleName&&e.version===t.version)},v.typeDirectiveIsEqualTo=function(e,t){return e.resolvedFileName===t.resolvedFileName&&e.primary===t.primary},v.hasChangesInResolutions=function(e,t,n,r){v.Debug.assert(e.length===t.length);for(var i=0;i<e.length;i++){var a=t[i],s=n&&n.get(e[i]);if(s?!a||!r(s,a):a)return!0}return!1},v.containsParseError=function e(t){return 262144&(n=t).flags||(0==(32768&n.flags)&&!v.forEachChild(n,e)||(n.flags|=131072),n.flags|=262144),0!=(131072&t.flags);var n},v.getSourceFileOfNode=a,v.isStatementWithLocals=function(e){switch(e.kind){case 207:case 235:case 214:case 215:case 216:return!0}return!1},v.getStartPositionOfLine=function(e,t){return v.Debug.assert(0<=e),v.getLineStarts(t)[e]},v.nodePosToString=function(e){var t=a(e),e=v.getLineAndCharacterOfPosition(t,e.pos);return t.fileName+"("+(e.line+1)+","+(e.character+1)+")"},v.getEndLinePosition=R,v.nodeIsMissing=c,v.nodeIsPresent=M,v.isRecognizedTripleSlashComment=function(e,t,n){return 47===e.charCodeAt(t+1)&&t+2<n&&47===e.charCodeAt(t+2)&&!!((e=e.substring(t,n)).match(v.fullTripleSlashReferencePathRegEx)||e.match(v.fullTripleSlashAMDReferencePathRegEx)||e.match(Q)||e.match(Y))},v.isPinnedComment=U,v.getTokenPosOfNode=i,v.getNonDecoratorTokenPosOfNode=function(e,t){return c(e)||!e.decorators?i(e,t):v.skipTrivia((t||a(e)).text,e.decorators.end)},v.getSourceTextOfNodeFromSourceFile=s,v.getTextOfNodeFromSourceText=B,v.getTextOfNode=o,v.indexOfNode=function(e,t){return v.binarySearch(e,t,j)},v.getEmitFlags=K,v.getLiteralText=function(e,t){if(!xe(e)&&e.parent)return s(t,e);var n=16777216&K(e)?we:Le;switch(e.kind){case 9:return e.singleQuote?"'"+n(e.text,39)+"'":'"'+n(e.text,34)+'"';case 13:return"`"+n(e.text,96)+"`";case 14:return"`"+n(e.text,96)+"${";case 15:return"}"+n(e.text,96)+"${";case 16:return"}"+n(e.text,96)+"`";case 8:case 12:return e.text}v.Debug.fail("Literal kind '"+e.kind+"' not accounted for.")},v.getTextOfConstantValue=function(e){return v.isString(e)?'"'+Le(e)+'"':""+e},v.escapeLeadingUnderscores=l,v.escapeIdentifier=function(e){return e},v.makeIdentifierFromModuleName=function(e){return v.getBaseFileName(e).replace(/^(\d)/,"_$1").replace(/\W/g,"_")},v.isBlockOrCatchScoped=function(e){return 0!=(3&v.getCombinedNodeFlags(e))||z(e)},v.isCatchClauseVariableDeclarationOrBindingElement=z,v.isAmbientModule=u,v.isModuleWithStringLiteralName=$,v.isNonGlobalAmbientModule=function(e){return v.isModuleDeclaration(e)&&v.isStringLiteral(e.name)},v.isShorthandAmbientModuleSymbol=function(e){return(e=e.valueDeclaration)&&233===e.kind&&!e.body},v.isBlockScopedContainerTopLevel=function(e){return 265===e.kind||233===e.kind||v.isFunctionLike(e)},v.isGlobalScopeAugmentation=J,v.isExternalModuleAugmentation=function(e){if(e&&u(e))switch(e.parent.kind){case 265:return v.isExternalModule(e.parent);case 234:return u(e.parent.parent)&&!v.isExternalModule(e.parent.parent.parent)}return!1},v.isEffectiveExternalModule=function(e,t){return v.isExternalModule(e)||t.isolatedModules},v.isBlockScope=q,v.isDeclarationWithTypeParameters=function(e){switch(e.kind){case 155:case 156:case 150:case 157:case 160:case 161:case 273:case 229:case 199:case 230:case 231:case 282:case 228:case 151:case 152:case 153:case 154:case 186:case 187:return!0;default:return v.assertTypeIsNever(e),!1}},v.isAnyImportSyntax=function(e){switch(e.kind){case 238:case 237:return!0;default:return!1}},v.getEnclosingBlockScopeContainer=function(e){for(var t=e.parent;t;){if(q(t,t.parent))return t;t=t.parent}},v.declarationNameToString=V,v.getNameFromIndexInfo=function(e){return e.declaration?V(e.declaration.parameters[0].name):void 0},v.getTextOfPropertyName=H,v.entityNameToString=function e(t){switch(t.kind){case 71:return 0===r(t)?v.idText(t):o(t);case 143:return e(t.left)+"."+e(t.right);case 179:return e(t.expression)+"."+e(t.name)}},v.createDiagnosticForNode=function(e,t,n,r,i){return G(a(e),e,t,n,r,i)},v.createDiagnosticForNodeInSourceFile=G,v.createDiagnosticForNodeFromMessageChain=function(e,t){var n=a(e),e=p(n,e);return{file:n,start:e.start,length:e.length,code:t.code,category:t.category,messageText:t.next?t:t.messageText}},v.getSpanOfTokenAtPosition=d,v.getErrorSpanForNode=p,v.isExternalOrCommonJsModule=function(e){return void 0!==(e.externalModuleIndicator||e.commonJsModuleIndicator)},v.isConstEnumDeclaration=function(e){return 232===e.kind&&W(e)},v.isConst=W,v.isLet=function(e){return!!(1&v.getCombinedNodeFlags(e))},v.isSuperCall=function(e){return 181===e.kind&&97===e.expression.kind},v.isImportCall=function(e){return 181===e.kind&&91===e.expression.kind},v.isPrologueDirective=function(e){return 210===e.kind&&9===e.expression.kind},v.getLeadingCommentRangesOfNode=function(e,t){return 10!==e.kind?v.getLeadingCommentRanges(t.text,e.pos):void 0},v.getJSDocCommentRanges=function(e,t){e=146===e.kind||145===e.kind||186===e.kind||187===e.kind||185===e.kind?v.concatenate(v.getTrailingCommentRanges(t,e.pos),v.getLeadingCommentRanges(t,e.pos)):v.getLeadingCommentRanges(t,e.pos);return v.filter(e,function(e){return 42===t.charCodeAt(e.pos+1)&&42===t.charCodeAt(e.pos+2)&&47!==t.charCodeAt(e.pos+3)})},v.fullTripleSlashReferencePathRegEx=/^(\/\/\/\s*<reference\s+path\s*=\s*)('|")(.+?)\2.*?\/>/;var e,Q=/^(\/\/\/\s*<reference\s+types\s*=\s*)('|")(.+?)\2.*?\/>/,Y=(v.fullTripleSlashAMDReferencePathRegEx=/^(\/\/\/\s*<amd-dependency\s+path\s*=\s*)('|")(.+?)\2.*?\/>/,/^(\/\/\/\s*<reference\s+no-default-lib\s*=\s*)('|")(.+?)\2\s*\/>/);function X(e){if(158<=e.kind&&e.kind<=173)return!0;switch(e.kind){case 119:case 133:case 136:case 122:case 137:case 139:case 130:return!0;case 105:return 190!==e.parent.kind;case 201:return!N(e);case 71:(143===e.parent.kind&&e.parent.right===e||179===e.parent.kind&&e.parent.name===e)&&(e=e.parent),v.Debug.assert(71===e.kind||143===e.kind||179===e.kind,"'node' was expected to be a qualified name, identifier or property access in 'isPartOfTypeNode'.");case 143:case 179:case 99:var t=e.parent;if(162===t.kind)return!1;if(158<=t.kind&&t.kind<=173)return!0;switch(t.kind){case 201:return!N(t);case 145:return e===t.constraint;case 149:case 148:case 146:case 226:return e===t.type;case 228:case 186:case 187:case 152:case 151:case 150:case 153:case 154:return e===t.type;case 155:case 156:case 157:case 184:return e===t.type;case 181:case 182:return t.typeArguments&&0<=v.indexOf(t.typeArguments,e);case 183:return!1}}return!1}function Z(e){if(e)switch(e.kind){case 176:case 264:case 146:case 261:case 149:case 148:case 262:case 226:return!0}return!1}function ee(e,t){for(;;){if(!(e=e.parent))return;switch(e.kind){case 144:if(v.isClassLike(e.parent.parent))return e;e=e.parent;break;case 147:146===e.parent.kind&&v.isClassElement(e.parent.parent)?e=e.parent.parent:v.isClassElement(e.parent)&&(e=e.parent);break;case 187:if(!t)continue;case 228:case 186:case 233:case 149:case 148:case 151:case 150:case 152:case 153:case 154:case 155:case 156:case 157:case 232:case 265:return e}}}function te(e){switch(e.kind){case 229:return!0;case 149:return 229===e.parent.kind;case 153:case 154:case 151:return void 0!==e.body&&229===e.parent.kind;case 146:return void 0!==e.parent.body&&(152===e.parent.kind||151===e.parent.kind||154===e.parent.kind)&&229===e.parent.parent.kind}return!1}function f(e){return void 0!==e.decorators&&te(e)}function ne(e){return f(e)||re(e)}function re(e){switch(e.kind){case 229:return v.forEach(e.members,ne);case 151:case 154:return v.forEach(e.parameters,f)}}function _(e){var t=e.parent;return(251===t.kind||250===t.kind||252===t.kind)&&t.tagName===e}function ie(e){switch(e.kind){case 97:case 95:case 101:case 86:case 12:case 177:case 178:case 179:case 180:case 181:case 182:case 183:case 202:case 184:case 203:case 185:case 186:case 199:case 187:case 190:case 188:case 189:case 192:case 193:case 194:case 195:case 198:case 196:case 13:case 200:case 249:case 250:case 197:case 191:case 204:return!0;case 143:for(;143===e.parent.kind;)e=e.parent;return 162===e.parent.kind||_(e);case 71:if(162===e.parent.kind||_(e))return!0;case 8:case 9:case 99:return ae(e);default:return!1}}function ae(e){var t=e.parent;switch(t.kind){case 226:case 146:case 149:case 148:case 264:case 261:case 176:return t.initializer===e;case 210:case 211:case 212:case 213:case 219:case 220:case 221:case 257:case 223:return t.expression===e;case 214:return t.initializer===e&&227!==t.initializer.kind||t.condition===e||t.incrementor===e;case 215:case 216:return t.initializer===e&&227!==t.initializer.kind||t.expression===e;case 184:case 202:case 205:case 144:return e===t.expression;case 147:case 256:case 255:case 263:return!0;case 201:return t.expression===e&&N(t);default:return ie(t)}}function se(e){return 237===e.kind&&248===e.moduleReference.kind}function oe(e){return m(e)}function m(e){return e&&!!(65536&e.flags)}function ce(e){if(m(e)&&58===e.operatorToken.kind&&179===e.left.kind){e=e.left;if(71===e.expression.kind)return"exports"===(t=e.expression).escapedText?1:"module"===t.escapedText&&"exports"===e.name.escapedText?2:5;if(99===e.expression.kind)return 4;if(179===e.expression.kind){var t=e.expression;if(71===t.expression.kind){if("module"===t.expression.escapedText&&"exports"===t.name.escapedText)return 1;if("prototype"===t.name.escapedText)return 3}}}return 0}function g(e){return v.isExpressionStatement(e)&&e.expression&&v.isBinaryExpression(e.expression)&&58===e.expression.operatorToken.kind&&e.expression.right}function h(e,t){return v.isVariableStatement(e)&&0<e.declarationList.declarations.length&&(!t||e.declarationList.declarations[0].initializer===t)&&e.declarationList.declarations[0].initializer}function y(e,t){return v.isVariableStatement(e)&&0<e.declarationList.declarations.length&&(!t||e.declarationList.declarations[0]===t)&&e.declarationList.declarations[0]}function b(e){return 233===e.kind&&e.body&&233===e.body.kind&&e.body}function le(e){var r;return function e(t){var n=t.parent;n&&(261===n.kind||b(n))&&e(n),n&&n.parent&&(y(n.parent,t)||g(n.parent))&&e(n.parent),n&&n.parent&&n.parent.parent&&h(n.parent.parent,t)&&e(n.parent.parent),146===t.kind&&(r=v.addRange(r,v.getJSDocParameterTags(t))),Z(t)&&t.initializer&&v.hasJSDocNodes(t.initializer)&&(r=v.addRange(r,t.initializer.jsDoc)),v.hasJSDocNodes(t)&&(r=v.addRange(r,t.jsDoc))}(e),r||v.emptyArray}function ue(e){return v.Debug.assert(275===e.parent.kind),e.parent.parent}function de(e){return void 0!==e.dotDotDotToken}function pe(e){for(var t=e.parent;;){switch(t.kind){case 194:var n=t.operatorToken.kind;return A(n)&&t.left===e?58===n?1:2:0;case 192:case 193:n=t.operator;return 43===n||44===n?2:0;case 215:case 216:return t.initializer===e?1:0;case 185:case 177:case 198:e=t;break;case 262:if(t.name!==e)return 0;e=t.parent;break;case 261:if(t.name===e)return 0;e=t.parent;break;default:return 0}t=e.parent}}function fe(e){return w(e.expression)}function x(e,t){if(e)for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i.token===t)return i}}function k(e){e=e.kind;return 9===e||8===e}function _e(e){e=v.getNameOfDeclaration(e);return e&&me(e)}function me(e){return 144===e.kind&&!k(e.expression)&&!ge(e.expression)}function ge(e){return v.isPropertyAccessExpression(e)&&ve(e.expression)}function he(e){return 71===e.kind?e.escapedText:9===e.kind||8===e.kind?l(e.text):144===e.kind?ge(e=e.expression)?ye(v.idText(e.name)):9===e.kind||8===e.kind?l(e.text):void 0:void 0}function ye(e){return"__@"+e}function ve(e){return 71===e.kind&&"Symbol"===e.escapedText}function be(e){for(;176===e.kind;)e=e.parent.parent;return e}function xe(e){return v.positionIsSynthesized(e.pos)||v.positionIsSynthesized(e.end)}function ke(e,t,n){switch(e){case 182:return n?0:1;case 192:case 189:case 190:case 188:case 191:case 195:case 197:return 1;case 194:switch(t){case 40:case 58:case 59:case 60:case 62:case 61:case 63:case 64:case 65:case 66:case 67:case 68:case 70:case 69:return 1}}return 0}function Se(e){return 194===e.kind?e.operatorToken.kind:192===e.kind||193===e.kind?e.operator:e.kind}function Te(e,t,n){switch(e){case 99:case 97:case 71:case 95:case 101:case 86:case 8:case 9:case 177:case 178:case 186:case 187:case 199:case 249:case 250:case 12:case 13:case 196:case 185:case 200:return 19;case 183:case 179:case 180:return 18;case 182:return n?18:17;case 181:return 17;case 193:return 16;case 192:case 189:case 190:case 188:case 191:return 15;case 194:switch(t){case 51:case 52:return 15;case 40:case 39:case 41:case 42:return 14;case 37:case 38:return 13;case 45:case 46:case 47:return 12;case 27:case 30:case 29:case 31:case 92:case 93:return 11;case 32:case 34:case 33:case 35:return 10;case 48:return 9;case 50:return 8;case 49:return 7;case 53:return 6;case 54:return 5;case 58:case 59:case 60:case 62:case 61:case 63:case 64:case 65:case 66:case 67:case 68:case 70:case 69:return 3;case 26:return 0;default:return-1}case 195:return 4;case 197:return 2;case 198:return 1;case 289:return 0;default:return-1}}v.isPartOfTypeNode=X,v.isChildOfNodeWithKind=function(e,t){for(;e;){if(e.kind===t)return!0;e=e.parent}return!1},v.forEachReturnStatement=function(e,n){return function e(t){switch(t.kind){case 219:return n(t);case 235:case 207:case 211:case 212:case 213:case 214:case 215:case 216:case 220:case 221:case 257:case 258:case 222:case 224:case 260:return v.forEachChild(t,e)}}(e)},v.forEachYieldExpression=function(e,r){return function e(t){switch(t.kind){case 197:r(t);var n=t.expression;return void(n&&e(n));case 232:case 230:case 233:case 231:case 229:case 199:return;default:v.isFunctionLike(t)?(n=t.name)&&144===n.kind&&e(n.expression):X(t)||v.forEachChild(t,e)}}(e)},v.getRestParameterElementType=function(e){return e&&164===e.kind?e.elementType:e&&159===e.kind?v.singleOrUndefined(e.typeArguments):void 0},v.isVariableLike=Z,v.introducesArgumentsExoticObject=function(e){switch(e.kind){case 151:case 150:case 152:case 153:case 154:case 228:case 186:return!0}return!1},v.unwrapInnermostStatementOfLabel=function(e,t){for(;;){if(t&&t(e),222!==e.statement.kind)return e.statement;e=e.statement}},v.isFunctionBlock=function(e){return e&&207===e.kind&&v.isFunctionLike(e.parent)},v.isObjectLiteralMethod=function(e){return e&&151===e.kind&&178===e.parent.kind},v.isObjectLiteralOrClassExpressionMethod=function(e){return 151===e.kind&&(178===e.parent.kind||199===e.parent.kind)},v.isIdentifierTypePredicate=function(e){return e&&1===e.kind},v.isThisTypePredicate=function(e){return e&&0===e.kind},v.getPropertyAssignment=function(e,t,n){return v.filter(e.properties,function(e){if(261===e.kind)return e=H(e.name),t===e||n&&n===e})},v.getContainingFunction=function(e){return v.findAncestor(e.parent,v.isFunctionLike)},v.getContainingClass=function(e){return v.findAncestor(e.parent,v.isClassLike)},v.getThisContainer=ee,v.getNewTargetContainer=function(e){var t=ee(e,!1);if(t)switch(t.kind){case 152:case 228:case 186:return t}},v.getSuperContainer=function(e,t){for(;;){if(!(e=e.parent))return e;switch(e.kind){case 144:e=e.parent;break;case 228:case 186:case 187:if(!t)continue;case 149:case 148:case 151:case 150:case 152:case 153:case 154:return e;case 147:146===e.parent.kind&&v.isClassElement(e.parent.parent)?e=e.parent.parent:v.isClassElement(e.parent)&&(e=e.parent)}}},v.getImmediatelyInvokedFunctionExpression=function(e){if(186===e.kind||187===e.kind){for(var t=e,n=e.parent;185===n.kind;)n=(t=n).parent;if(181===n.kind&&n.expression===t)return n}},v.isSuperProperty=function(e){var t=e.kind;return(179===t||180===t)&&97===e.expression.kind},v.getEntityNameFromTypeNode=function(e){switch(e.kind){case 159:return e.typeName;case 201:return w(e.expression)?e.expression:void 0;case 71:case 143:return e}},v.getInvokedExpression=function(e){return 183===e.kind?e.tag:v.isJsxOpeningLikeElement(e)?e.tagName:e.expression},v.nodeCanBeDecorated=te,v.nodeIsDecorated=f,v.nodeOrChildIsDecorated=ne,v.childIsDecorated=re,v.isJSXTagName=_,v.isPartOfExpression=ie,v.isInExpressionContext=ae,v.isExternalModuleImportEqualsDeclaration=se,v.getExternalModuleImportEqualsDeclarationExpression=function(e){return v.Debug.assert(se(e)),e.moduleReference.expression},v.isInternalModuleImportEqualsDeclaration=function(e){return 237===e.kind&&248!==e.moduleReference.kind},v.isSourceFileJavaScript=oe,v.isInJavaScriptFile=m,v.isInJSDoc=function(e){return e&&!!(1048576&e.flags)},v.isJSDocIndexSignature=function(e){return v.isTypeReferenceNode(e)&&v.isIdentifier(e.typeName)&&"Object"===e.typeName.escapedText&&e.typeArguments&&2===e.typeArguments.length&&(136===e.typeArguments[0].kind||133===e.typeArguments[0].kind)},v.isRequireCall=function(e,t){var n;return 181===e.kind&&(n=e.expression,e=e.arguments,71===n.kind)&&"require"===n.escapedText&&1===e.length&&(n=e[0],!t||9===n.kind||13===n.kind)},v.isSingleOrDoubleQuote=function(e){return 39===e||34===e},v.isStringDoubleQuoted=function(e,t){return 34===s(t,e).charCodeAt(0)},v.isDeclarationOfFunctionOrClassExpression=function(e){return!(!e.valueDeclaration||226!==e.valueDeclaration.kind)&&(e=e.valueDeclaration).initializer&&(186===e.initializer.kind||199===e.initializer.kind)},v.getRightMostAssignedExpression=function(e){for(;tt(e,!0);)e=e.right;return e},v.isExportsIdentifier=function(e){return v.isIdentifier(e)&&"exports"===e.escapedText},v.isModuleExportsPropertyAccessExpression=function(e){return v.isPropertyAccessExpression(e)&&v.isIdentifier(e.expression)&&"module"===e.expression.escapedText&&"exports"===e.name.escapedText},v.getSpecialPropertyAssignmentKind=ce,v.getExternalModuleName=function(e){if(238===e.kind)return e.moduleSpecifier;if(237===e.kind){var t=e.moduleReference;if(248===t.kind)return t.expression}return 244===e.kind?e.moduleSpecifier:$(e)?e.name:void 0},v.getNamespaceDeclarationNode=function(e){return 237===e.kind?e:(e=e.importClause)&&e.namedBindings&&240===e.namedBindings.kind?e.namedBindings:void 0},v.isDefaultImport=function(e){return 238===e.kind&&e.importClause&&!!e.importClause.name},v.hasQuestionToken=function(e){if(e)switch(e.kind){case 146:case 151:case 150:case 262:case 261:case 149:case 148:return void 0!==e.questionToken}return!1},v.isJSDocConstructSignature=function(e){return 273===e.kind&&0<e.parameters.length&&e.parameters[0].name&&"new"===e.parameters[0].name.escapedText},v.getAllJSDocs=function(e){return v.isJSDocTypedefTag(e)?[e.parent]:le(e)},v.getSourceOfAssignment=g,v.getSingleInitializerOfVariableStatement=h,v.getSingleVariableOfVariableStatement=y,v.getNestedModuleDeclaration=b,v.getJSDocCommentsAndTags=le,v.getParameterSymbolFromJSDoc=function(e){if(e.symbol)return e.symbol;if(v.isIdentifier(e.name)){var t=e.name.escapedText,e=ue(e),e=g(e)||h(e)||y(e)||b(e)||e;if(e&&v.isFunctionLike(e))return(e=v.find(e.parameters,function(e){return 71===e.name.kind&&e.name.escapedText===t}))&&e.symbol}},v.getJSDocHost=ue,v.getTypeParameterFromJsDoc=function(e){var t=e.name.escapedText,e=e.parent.parent.parent.typeParameters;return v.find(e,function(e){return e.name.escapedText===t})},v.hasRestParameter=function(e){e=v.lastOrUndefined(e.parameters);return e&&de(e)},v.isRestParameter=de,(e=v.AssignmentKind||(v.AssignmentKind={}))[e.None=0]="None",e[e.Definite=1]="Definite",e[e.Compound=2]="Compound",v.getAssignmentTargetKind=pe,v.isAssignmentTarget=function(e){return 0!==pe(e)},v.isDeleteTarget=function(e){if(179!==e.kind&&180!==e.kind)return!1;for(e=e.parent;e&&185===e.kind;)e=e.parent;return e&&188===e.kind},v.isNodeDescendantOf=function(e,t){for(;e;){if(e===t)return!0;e=e.parent}return!1},v.isInAmbientContext=function(e){for(;e;){if(D(e,2)||265===e.kind&&e.isDeclarationFile)return!0;e=e.parent}return!1},v.isDeclarationName=function(e){switch(e.kind){case 71:case 9:case 8:return v.isDeclaration(e.parent)&&e.parent.name===e;default:return!1}},v.isAnyDeclarationName=function(e){switch(e.kind){case 71:case 9:case 8:var t;return v.isDeclaration(e.parent)?e.parent.name===e:(t=e.parent.parent,v.isBinaryExpression(t)&&0!==ce(t)&&v.getNameOfDeclaration(t)===e);default:return!1}},v.isLiteralComputedPropertyDeclarationName=function(e){return(9===e.kind||8===e.kind)&&144===e.parent.kind&&v.isDeclaration(e.parent.parent)},v.isIdentifierName=function(e){var t=e.parent;switch(t.kind){case 149:case 148:case 151:case 150:case 153:case 154:case 264:case 261:case 179:return t.name===e;case 143:if(t.right!==e)return!1;for(;143===t.kind;)t=t.parent;return 162===t.kind;case 176:case 242:return t.propertyName===e;case 246:case 253:return!0}return!1},v.isAliasSymbolDeclaration=function(e){return 237===e.kind||236===e.kind||239===e.kind&&!!e.name||240===e.kind||242===e.kind||246===e.kind||243===e.kind&&fe(e)},v.exportAssignmentIsAlias=fe,v.getClassExtendsHeritageClauseElement=function(e){e=x(e.heritageClauses,85);return e&&0<e.types.length?e.types[0]:void 0},v.getClassImplementsHeritageClauseElements=function(e){e=x(e.heritageClauses,108);return e?e.types:void 0},v.getInterfaceBaseTypeNodes=function(e){e=x(e.heritageClauses,85);return e?e.types:void 0},v.getHeritageClause=x,v.tryResolveScriptReference=function(e,t,n){if(!e.getCompilerOptions().noResolve)return t=v.isRootedDiskPath(n.fileName)?n.fileName:v.combinePaths(v.getDirectoryPath(t.fileName),n.fileName),e.getSourceFile(t)},v.getAncestor=function(e,t){for(;e;){if(e.kind===t)return e;e=e.parent}},v.getFileReferenceFromReferencePath=function(e,t){var n=new RegExp(Y.source,"gim");if(/^\/\/\/\s*<reference\s+/gim.test(e))return n.test(e)?{isNoDefaultLib:!0}:(e=!(n=v.fullTripleSlashReferencePathRegEx.exec(e))&&Q.exec(e),(n=n||e)?{fileReference:{pos:t=t.pos+n[1].length+n[2].length,end:t+n[3].length,fileName:n[3]},isNoDefaultLib:!1,isTypeReferenceDirective:!!e}:{diagnosticMessage:v.Diagnostics.Invalid_reference_directive_syntax,isNoDefaultLib:!1})},v.isKeyword=function(e){return 72<=e&&e<=142},v.isTrivia=function(e){return 2<=e&&e<=7},(e=v.FunctionFlags||(v.FunctionFlags={}))[e.Normal=0]="Normal",e[e.Generator=1]="Generator",e[e.Async=2]="Async",e[e.Invalid=4]="Invalid",e[e.AsyncGenerator=3]="AsyncGenerator",v.getFunctionFlags=function(e){if(!e)return 4;var t=0;switch(e.kind){case 228:case 186:case 151:e.asteriskToken&&(t|=1);case 187:D(e,256)&&(t|=2)}return e.body||(t|=4),t},v.isAsyncFunction=function(e){switch(e.kind){case 228:case 186:case 187:case 151:return void 0!==e.body&&void 0===e.asteriskToken&&D(e,256)}return!1},v.isStringOrNumericLiteral=k,v.hasDynamicName=_e,v.isDynamicName=me,v.isWellKnownSymbolSyntactically=ge,v.getPropertyNameForPropertyNameNode=he,v.getTextOfIdentifierOrLiteral=function(e){if(e)return 71===e.kind?v.idText(e):9===e.kind||8===e.kind?e.text:void 0},v.getEscapedTextOfIdentifierOrLiteral=function(e){if(e)return 71===e.kind?e.escapedText:9===e.kind||8===e.kind?l(e.text):void 0},v.getPropertyNameForKnownSymbolName=ye,v.isESSymbolIdentifier=ve,v.isPushOrUnshiftIdentifier=function(e){return"push"===e.escapedText||"unshift"===e.escapedText},v.isParameterDeclaration=function(e){return 146===be(e).kind},v.getRootDeclaration=be,v.nodeStartsNewLexicalEnvironment=function(e){e=e.kind;return 152===e||186===e||228===e||187===e||151===e||153===e||154===e||233===e||265===e},v.nodeIsSynthesized=xe,v.getOriginalSourceFile=function(e){return v.getParseTreeNode(e,v.isSourceFile)||e},(e=v.Associativity||(v.Associativity={}))[e.Left=0]="Left",e[e.Right=1]="Right",v.getExpressionAssociativity=function(e){var t=Se(e),n=182===e.kind&&void 0!==e.arguments;return ke(e.kind,t,n)},v.getOperatorAssociativity=ke,v.getExpressionPrecedence=function(e){var t=Se(e),n=182===e.kind&&void 0!==e.arguments;return Te(e.kind,t,n)},v.getOperator=Se,v.getOperatorPrecedence=Te,v.createDiagnosticCollection=function(){var r=[],i=v.createMap(),n=!1,a=0;return{add:function(e){var t;e.file?(t=i.get(e.file.fileName))||i.set(e.file.fileName,t=[]):t=r,t.push(e),n=!0,a++},getGlobalDiagnostics:function(){return s(),r},getDiagnostics:function(e){var t;return s(),e?i.get(e)||[]:(t=[],v.forEach(r,n),i.forEach(function(e){v.forEach(e,n)}),v.sortAndDeduplicateDiagnostics(t));function n(e){t.push(e)}},getModificationCount:function(){return a},reattachFileDiagnostics:function(t){v.forEach(i.get(t.fileName),function(e){return e.file=t})}};function s(){n&&(n=!1,r=v.sortAndDeduplicateDiagnostics(r),i.forEach(function(e,t){i.set(t,v.sortAndDeduplicateDiagnostics(e))}))}};var Ce=/[\\\"\u0000-\u001f\t\v\f\b\r\n\u2028\u2029\u0085]/g,Ee=/[\\\'\u0000-\u001f\t\v\f\b\r\n\u2028\u2029\u0085]/g,De=/[\\\`\u0000-\u001f\t\v\f\b\r\n\u2028\u2029\u0085]/g,Ae=v.createMapFromTemplate({"\0":"\\0","\t":"\\t","\v":"\\v","\f":"\\f","\b":"\\b","\r":"\\r","\n":"\\n","\\":"\\\\",'"':'\\"',"'":"\\'","`":"\\`","\u2028":"\\u2028","\u2029":"\\u2029","":"\\u0085"}),Ne=/\\0[0-9]/g;function we(e,t){return e.replace(96===t?De:39===t?Ee:Ce,Pe).replace(Ne,Ie)}function Ie(e){return"\\x00"+e.charAt(e.length-1)}function Pe(e){return Ae.get(e)||Oe(e.charCodeAt(0))}function Oe(e){return"\\u"+("0000"+e.toString(16).toUpperCase()).slice(-4)}v.escapeString=we,v.isIntrinsicJsxName=function(e){e=e.substr(0,1);return e.toLowerCase()===e};var Fe=/[^\u0000-\u007F]/g;function Le(e,t){return e=we(e,t),Fe.test(e)?e.replace(Fe,function(e){return Oe(e.charCodeAt(0))}):e}v.escapeNonAsciiString=Le;var S=["","    "];function T(e){return void 0===S[e]&&(S[e]=T(e-1)+S[1]),S[e]}function C(){return S[1].length}function Re(e,t){return t.moduleName||Me(e,t.fileName)}function Me(t,e){function n(e){return t.getCanonicalFileName(e)}var r=v.toPath(t.getCommonSourceDirectory(),t.getCurrentDirectory(),n),e=v.getNormalizedAbsolutePath(e,t.getCurrentDirectory()),e=v.getRelativePathToDirectoryOrUrl(r,e,r,n,!1);return v.removeFileExtension(e)}function Ue(e,t,n){return!(t.noEmitForJsFiles&&oe(e)||e.isDeclarationFile||n(e))}function Be(e,t,n){var e=v.getNormalizedAbsolutePath(e.fileName,t.getCurrentDirectory()),r=t.getCommonSourceDirectory(),e=0===t.getCanonicalFileName(e).indexOf(t.getCanonicalFileName(r))?e.substring(r.length):e;return v.combinePaths(n,e)}function je(e,t){return v.getLineAndCharacterOfPosition(e,t).line}function E(e,t){return v.computeLineAndCharacterOfPosition(e,t).line}function Ke(e){var t;if(e&&0<e.parameters.length)return t=2===e.parameters.length&&ze(e.parameters[0]),e.parameters[t?1:0]}function ze(e){return $e(e.name)}function $e(e){return e&&71===e.kind&&Je(e)}function Je(e){return 99===e.originalKeywordKind}function qe(e,t){return e.type||(t||m(e)?v.getJSDocType(e):void 0)}function Ve(e,t,n,r){He(e,t,n.pos,r)}function He(e,t,n,r){r&&r.length&&n!==r[0].pos&&E(e,n)!==E(e,r[0].pos)&&t.writeLine()}function Ge(e,t,n,r,i,a,s,o){if(r&&0<r.length){i&&n.write(" ");for(var c=!1,l=0,u=r;l<u.length;l++){var d=u[l];c&&(n.write(" "),c=!1),o(e,t,n,d.pos,d.end,s),d.hasTrailingNewLine?n.writeLine():c=!0}c&&a&&n.write(" ")}}function We(e,t,n){for(var r=0;t<n&&v.isWhiteSpaceSingleLine(e.charCodeAt(t));t++)9===e.charCodeAt(t)?r+=C()-r%C():r++;return r}function D(e,t){return!!Qe(e,t)}function Qe(e,t){return Ye(e)&t}function Ye(e){var t;return 536870912&e.modifierFlagsCache?-536870913&e.modifierFlagsCache:(t=Xe(e),e.modifierFlagsCache=536870912|t,t)}function Xe(e){var t=0;if(e.modifiers)for(var n=0,r=e.modifiers;n<r.length;n++)t|=Ze(r[n].kind);return(4&e.flags||71===e.kind&&e.isInJSDocNamespace)&&(t|=1),t}function Ze(e){switch(e){case 115:return 32;case 114:return 4;case 113:return 16;case 112:return 8;case 117:return 128;case 84:return 1;case 124:return 2;case 76:return 2048;case 79:return 512;case 120:return 256;case 131:return 64}return 0}function A(e){return 58<=e&&e<=70}function et(e){if(201===e.kind&&85===e.parent.token&&v.isClassLike(e.parent.parent))return e.parent.parent}function tt(e,t){return v.isBinaryExpression(e)&&(t?58===e.operatorToken.kind:A(e.operatorToken.kind))&&v.isLeftHandSideExpression(e.left)}function N(e){return void 0!==et(e)}function w(e){return 71===e.kind||179===e.kind&&w(e.expression)}v.getIndentString=T,v.getIndentSize=C,v.createTextWriter=function(e){var n,t,r,i,a;function s(e){e&&e.length&&(r&&(n+=T(t),r=!1),n+=e)}function o(){n="",r=!(t=0),a=i=0}return o(),{write:s,rawWrite:function(e){void 0!==e&&(r=r&&!1,n+=e)},writeTextOfNode:function(e,t){s(B(e,t))},writeLiteral:function(e){var t;e&&e.length&&(s(e),1<(t=v.computeLineStarts(e)).length)&&(i=i+t.length-1,a=n.length-e.length+v.lastOrUndefined(t))},writeLine:function(){r||(i++,a=(n+=e).length,r=!0)},increaseIndent:function(){t++},decreaseIndent:function(){t--},getIndent:function(){return t},getTextPos:function(){return n.length},getLine:function(){return i+1},getColumn:function(){return r?t*C()+1:n.length-a+1},getText:function(){return n},isAtStartOfLine:function(){return r},reset:o}},v.getResolvedExternalModuleName=Re,v.getExternalModuleNameFromDeclaration=function(e,t,n){t=t.getExternalModuleFileFromDeclaration(n);if(t&&!t.isDeclarationFile)return Re(e,t)},v.getExternalModuleNameFromPath=Me,v.getOwnEmitOutputFilePath=function(e,t,n){var r=t.getCompilerOptions();return(r.outDir?v.removeFileExtension(Be(e,t,r.outDir)):v.removeFileExtension(e.fileName))+n},v.getDeclarationEmitOutputFilePath=function(e,t){var n=t.getCompilerOptions(),n=n.declarationDir||n.outDir,t=n?Be(e,t,n):e.fileName;return v.removeFileExtension(t)+".d.ts"},v.getSourceFilesToEmit=function(t,e){function n(e){return t.isSourceFileFromExternalLibrary(e)}var r,i,a=t.getCompilerOptions();return a.outFile||a.out?(i=v.getEmitModuleKind(a),r=i===v.ModuleKind.AMD||i===v.ModuleKind.System,v.filter(t.getSourceFiles(),function(e){return(r||!v.isExternalModule(e))&&Ue(e,a,n)})):(i=void 0===e?t.getSourceFiles():[e],v.filter(i,function(e){return Ue(e,a,n)}))},v.sourceFileMayBeEmitted=Ue,v.getSourceFilePathInNewDir=Be,v.writeFile=function(e,t,n,r,i,a){e.writeFile(n,r,i,function(e){t.add(v.createCompilerDiagnostic(v.Diagnostics.Could_not_write_file_0_Colon_1,n,e))},a)},v.getLineOfLocalPosition=je,v.getLineOfLocalPositionFromLineMap=E,v.getFirstConstructorWithBody=function(e){return v.forEach(e.members,function(e){if(152===e.kind&&M(e.body))return e})},v.getSetAccessorTypeAnnotationNode=function(e){e=Ke(e);return e&&e.type},v.getThisParameter=function(e){if(e.parameters.length){e=e.parameters[0];if(ze(e))return e}},v.parameterIsThisKeyword=ze,v.isThisIdentifier=$e,v.identifierIsThisKeyword=Je,v.getAllAccessorDeclarations=function(e,t){var n,r,i,a;return _e(t)?153===(n=t).kind?i=t:154===t.kind?a=t:v.Debug.fail("Accessor has wrong kind"):v.forEach(e,function(e){153!==e.kind&&154!==e.kind||D(e,32)!==D(t,32)||he(e.name)===he(t.name)&&(n?r=r||e:n=e,153===e.kind&&(i=i||e),154===e.kind)&&(a=a||e)}),{firstAccessor:n,secondAccessor:r,getAccessor:i,setAccessor:a}},v.getEffectiveTypeAnnotationNode=qe,v.getEffectiveReturnTypeNode=function(e,t){return e.type||(t||m(e)?v.getJSDocReturnType(e):void 0)},v.getEffectiveTypeParameterDeclarations=function(e,t){return e.typeParameters||(t||m(e)?(t=v.getJSDocTemplateTag(e))&&t.typeParameters:void 0)},v.getEffectiveSetAccessorTypeAnnotationNode=function(e,t){e=Ke(e);return e&&qe(e,t)},v.emitNewLineBeforeLeadingComments=Ve,v.emitNewLineBeforeLeadingCommentsOfPosition=He,v.emitNewLineBeforeLeadingCommentOfPosition=function(e,t,n,r){n!==r&&E(e,n)!==E(e,r)&&t.writeLine()},v.emitComments=Ge,v.emitDetachedComments=function(t,e,n,r,i,a,s){var o,c;if(s?0===i.pos&&(o=v.filter(v.getLeadingCommentRanges(t,i.pos),function(e){return U(t,e)})):o=v.getLeadingCommentRanges(t,i.pos),o){for(var l=[],u=void 0,d=0,p=o;d<p.length;d++){var f=p[d];if(u){var _=E(e,u.end);if(E(e,f.pos)>=_+2)break}l.push(f),u=f}l.length&&(_=E(e,v.lastOrUndefined(l).end),E(e,v.skipTrivia(t,i.pos))>=_+2)&&(Ve(e,n,i,o),Ge(t,e,n,l,!1,!0,a,r),c={nodePos:i.pos,detachedCommentEndPos:v.lastOrUndefined(l).end})}return c},v.writeCommentRange=function(e,t,n,r,i,a){if(42===e.charCodeAt(r+1))for(var s=v.computeLineAndCharacterOfPosition(t,r),o=t.length,c=void 0,l=r,u=s.line;l<i;u++){var d=u+1===o?e.length+1:t[u+1];if(l!==r){void 0===c&&(c=We(e,t[s.line],r));var p=n.getIndent()*C()-c+We(e,l,d);if(0<p){var f=p%C(),p=T((p-f)/C());for(n.rawWrite(p);f;)n.rawWrite(" "),f--}else n.rawWrite("")}p=e,_=i,m=n,g=a,h=l,y=d,y=Math.min(_,y-1),(p=p.substring(h,y).replace(/^\s+|\s+$/g,""))?(m.write(p),y!==_&&m.writeLine()):m.writeLiteral(g),l=d}else n.write(e.substring(r,i));var _,m,g,h,y},v.hasModifiers=function(e){return 0!==Ye(e)},v.hasModifier=D,v.getSelectedModifierFlags=Qe,v.getModifierFlags=Ye,v.getModifierFlagsNoCache=Xe,v.modifierToFlag=Ze,v.isLogicalOperator=function(e){return 54===e||53===e||51===e},v.isAssignmentOperator=A,v.tryGetClassExtendingExpressionWithTypeArguments=et,v.isAssignmentExpression=tt,v.isDestructuringAssignment=function(e){return!!tt(e,!0)&&(178===(e=e.left.kind)||177===e)},v.isExpressionWithTypeArgumentsInClassExtendsClause=N,v.isExpressionWithTypeArgumentsInClassImplementsClause=function(e){return 201===e.kind&&w(e.expression)&&e.parent&&108===e.parent.token&&e.parent.parent&&v.isClassLike(e.parent.parent)},v.isEntityNameExpression=w,v.isRightSideOfQualifiedNameOrPropertyAccess=function(e){return 143===e.parent.kind&&e.parent.right===e||179===e.parent.kind&&e.parent.name===e},v.isEmptyObjectLiteral=function(e){return 178===e.kind&&0===e.properties.length},v.isEmptyArrayLiteral=function(e){return 177===e.kind&&0===e.elements.length},v.getLocalSymbolForExportDefault=function(e){return(t=e)&&0<v.length(t.declarations)&&D(t.declarations[0],512)?e.declarations[0].localSymbol:void 0;var t},v.tryExtractTypeScriptExtension=function(t){return v.find(v.supportedTypescriptExtensionsForExtractExtension,function(e){return v.fileExtensionIs(t,e)})};var I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function P(e,t,n){void 0===e&&(e=0);var r=function(e){var t,n=[];for(t in e){var r=e[t];"number"==typeof r&&n.push([r,t])}return v.stableSort(n,function(e,t){return v.compareValues(e[0],t[0])})}(t);if(0===e)return 0<r.length&&0===r[0][0]?r[0][1]:"0";if(n){for(var i="",a=e,s=r.length-1;0<=s&&0!==a;s--){var o=r[s],c=o[0],l=o[1];0!==c&&(a&c)===c&&(a&=~c,i=l+(i?", ":"")+i)}if(0===a)return i}else for(var u=0,d=r;u<d.length;u++){var p=d[u],c=p[0],l=p[1];if(c===e)return l}return e.toString()}function O(e,t){return{pos:e,end:t}}function nt(e,t){return O(t,e.end)}function rt(e){return e.decorators&&0<e.decorators.length?nt(e,e.decorators.end):e}function it(e,t,n){return F(L(e,n),t.end,n)}function F(e,t,n){return e===t||je(n,e)===je(n,t)}function L(e,t){return v.positionIsSynthesized(e.pos)?-1:v.skipTrivia(t.text,e.pos)}function at(e){return void 0!==e.initializer}function st(e){return 33554432&e.flags?e.checkFlags:0}function ot(e){var t=e.parent;if(!t)return 0;switch(t.kind){case 193:case 192:var n=t.operator;return 43===n||44===n?i():0;case 194:var n=t.left,r=t.operatorToken;return n===e&&A(r.kind)?i():0;case 179:return t.name!==e?0:ot(t);default:return 0}function i(){return t.parent&&210===t.parent.kind?1:2}}v.convertToBase64=function(e){for(var t,n,r,i,a="",s=function(e){for(var t=[],n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<128?t.push(i):i<2048?(t.push(i>>6|192),t.push(63&i|128)):i<65536?(t.push(i>>12|224),t.push(i>>6&63|128),t.push(63&i|128)):i<131072?(t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(63&i|128)):v.Debug.assert(!1,"Unexpected code point")}return t}(e),o=0,c=s.length;o<c;)t=s[o]>>2,n=(3&s[o])<<4|s[o+1]>>4,r=(15&s[o+1])<<2|s[o+2]>>6,i=63&s[o+2],c<=o+1?r=i=64:c<=o+2&&(i=64),a+=I.charAt(t)+I.charAt(n)+I.charAt(r)+I.charAt(i),o+=3;return a},v.getNewLineCharacter=function(e,t){switch(e.newLine){case 0:return"\r\n";case 1:return"\n"}return t?t.newLine:v.sys?v.sys.newLine:"\r\n"},v.formatSyntaxKind=function(e){return P(e,v.SyntaxKind,!1)},v.formatModifierFlags=function(e){return P(e,v.ModifierFlags,!0)},v.formatTransformFlags=function(e){return P(e,v.TransformFlags,!0)},v.formatEmitFlags=function(e){return P(e,v.EmitFlags,!0)},v.formatSymbolFlags=function(e){return P(e,v.SymbolFlags,!0)},v.formatTypeFlags=function(e){return P(e,v.TypeFlags,!0)},v.formatObjectFlags=function(e){return P(e,v.ObjectFlags,!0)},v.createRange=O,v.moveRangeEnd=function(e,t){return O(e.pos,t)},v.moveRangePos=nt,v.moveRangePastDecorators=rt,v.moveRangePastModifiers=function(e){return e.modifiers&&0<e.modifiers.length?nt(e,e.modifiers.end):rt(e)},v.isCollapsedRange=function(e){return e.pos===e.end},v.createTokenRange=function(e,t){return O(e,e+v.tokenToString(t).length)},v.rangeIsOnSingleLine=function(e,t){return it(e,e,t)},v.rangeStartPositionsAreOnSameLine=function(e,t,n){return F(L(e,n),L(t,n),n)},v.rangeEndPositionsAreOnSameLine=function(e,t,n){return F(e.end,t.end,n)},v.rangeStartIsOnSameLineAsRangeEnd=it,v.rangeEndIsOnSameLineAsRangeStart=function(e,t,n){return F(e.end,L(t,n),n)},v.positionsAreOnSameLine=F,v.getStartPositionOfRange=L,v.isDeclarationNameOfEnumOrNamespace=function(e){var t=v.getParseTreeNode(e);if(t)switch(t.parent.kind){case 232:case 233:return t===t.parent.name}return!1},v.getInitializedVariables=function(e){return v.filter(e.declarations,at)},v.isWatchSet=function(e){return e.watch&&e.hasOwnProperty("watch")},v.getCheckFlags=st,v.getDeclarationModifierFlagsFromSymbol=function(e){var t;return e.valueDeclaration?(t=v.getCombinedModifierFlags(e.valueDeclaration),e.parent&&32&e.parent.flags?t:-29&t):6&st(e)?(256&(t=e.checkFlags)?8:64&t?4:16)|(512&t?32:0):4194304&e.flags?36:0},v.levenshtein=function(e,t){for(var n=new Array(t.length+1),r=new Array(t.length+1),i=0;i<t.length+1;i++)r[n[i]=i]=-1;for(i=1;i<e.length+1;i++){r[0]=i;for(var a=1;a<t.length+1;a++)r[a]=Math.min(n[a]+1,r[a-1]+1,n[a-1]+(e[i-1]===t[a-1]?0:2));var s=n,n=r,r=s}return n[n.length-1]},v.skipAlias=function(e,t){return 2097152&e.flags?t.getAliasedSymbol(e):e},v.getCombinedLocalAndExportSymbolFlags=function(e){return e.exportSymbol?e.exportSymbol.flags|e.flags:e.flags},v.isWriteOnlyAccess=function(e){return 1===ot(e)},v.isWriteAccess=function(e){return 0!==ot(e)},v.compareDataObjects=function e(t,n){if(!t||!n||Object.keys(t).length!==Object.keys(n).length)return!1;for(var r in t)if("object"==typeof t[r]){if(!e(t[r],n[r]))return!1}else if("function"!=typeof t[r]&&t[r]!==n[r])return!1;return!0},v.clearMap=function(e,t){e.forEach(t),e.clear()},v.mutateMap=function(r,i,e){var n=e.createNewValue,a=e.onDeleteValue,s=e.onExistingValue;r.forEach(function(e,t){var n=i.get(t);void 0===n?(r.delete(t),a(e,t)):s&&s(e,n,t)}),i.forEach(function(e,t){r.has(t)||r.set(t,n(t,e))})},v.forEachAncestorDirectory=function(e,t){for(;;){var n=t(e);if(void 0!==n)return n;n=v.getDirectoryPath(e);if(n===e)return;e=n}}}(ts=ts||{}),function(p){function f(e){return e.start+e.length}function t(e){return 0===e.length}function n(e,t){if(e<0)throw new Error("start < 0");if(t<0)throw new Error("length < 0");return{start:e,length:t}}function _(e,t){return n(e,t-e)}function m(e,t){if(t<0)throw new Error("newLength < 0");return{span:e,newLength:t}}function r(e){return!!p.isBindingPattern(e)&&p.every(e.elements,i)}function i(e){return!!p.isOmittedExpression(e)||r(e.name)}function a(e){for(;e&&(176===e.kind||p.isBindingPattern(e));)e=e.parent;return e}function s(e,t){if(e)for(;void 0!==e.original;)e=e.original;return!t||t(e)?e:void 0}function o(e){return 0==(8&e.flags)}function c(e){return 3<=e.length&&95===e.charCodeAt(0)&&95===e.charCodeAt(1)&&95===e.charCodeAt(2)?e.substr(1):e}function l(e){e=d(e);return p.isIdentifier(e)?e:void 0}function u(r){return r.name||function(){var e=r.parent.parent;if(e){if(p.isDeclaration(e))return l(e);switch(e.kind){case 208:return e.declarationList&&e.declarationList.declarations[0]?l(e.declarationList.declarations[0]):void 0;case 210:var t=e.expression;switch(t.kind){case 179:return t.name;case 180:var n=t.argumentExpression;if(p.isIdentifier(n))return n}return;case 1:return;case 185:return l(e.expression);case 222:return p.isDeclaration(e.statement)||p.isExpression(e.statement)?l(e.statement):void 0;default:p.Debug.assertNever(e,"Found typedef tag attached to node which it should not be!")}}}()}function d(e){if(e){switch(e.kind){case 284:case 279:var t=e.name;if(143===t.kind)return t.right;break;case 194:var n=e;switch(p.getSpecialPropertyAssignmentKind(n)){case 1:case 4:case 5:case 3:return n.left.name;default:return}case 283:return u(e);case 243:t=e.expression;return p.isIdentifier(t)?t:void 0}return e.name}}function g(e){var t;if(e.name&&p.isIdentifier(e.name))return t=e.name.escapedText,y(e.parent).filter(function(e){return p.isJSDocParameterTag(e)&&p.isIdentifier(e.name)&&e.name.escapedText===t})}function h(e){return v(e,280)}function y(e){var t=e.jsDocCache;return void 0===t&&(e.jsDocCache=t=p.flatMap(p.getJSDocCommentsAndTags(e),function(e){return p.isJSDoc(e)?e.tags:e})),t}function v(e,t){e=y(e);return p.find(e,function(e){return e.kind===t})}p.getDefaultLibFileName=function(e){switch(e.target){case 5:return"lib.esnext.full.d.ts";case 4:return"lib.es2017.full.d.ts";case 3:return"lib.es2016.full.d.ts";case 2:return"lib.es6.d.ts";default:return"lib.d.ts"}},p.textSpanEnd=f,p.textSpanIsEmpty=t,p.textSpanContainsPosition=function(e,t){return t>=e.start&&t<f(e)},p.textSpanContainsTextSpan=function(e,t){return t.start>=e.start&&f(t)<=f(e)},p.textSpanOverlapsWith=function(e,t){return Math.max(e.start,t.start)<Math.min(f(e),f(t))},p.textSpanOverlap=function(e,t){var n=Math.max(e.start,t.start),e=Math.min(f(e),f(t));if(n<e)return _(n,e)},p.textSpanIntersectsWithTextSpan=function(e,t){return t.start<=f(e)&&f(t)>=e.start},p.textSpanIntersectsWith=function(e,t,n){return t<=f(e)&&t+n>=e.start},p.decodedTextSpanIntersectsWith=function(e,t,n,r){return n<=e+t&&e<=n+r},p.textSpanIntersectsWithPosition=function(e,t){return t<=f(e)&&t>=e.start},p.textSpanIntersection=function(e,t){var n=Math.max(e.start,t.start),e=Math.min(f(e),f(t));if(n<=e)return _(n,e)},p.createTextSpan=n,p.createTextSpanFromBounds=_,p.textChangeRangeNewSpan=function(e){return n(e.span.start,e.newLength)},p.textChangeRangeIsUnchanged=function(e){return t(e.span)&&0===e.newLength},p.createTextChangeRange=m,p.unchangedTextChangeRange=m(n(0,0),0),p.collapseTextChangeRangesAcrossMultipleVersions=function(e){if(0===e.length)return p.unchangedTextChangeRange;if(1===e.length)return e[0];for(var t=e[0],n=t.span.start,r=f(t.span),i=n+t.newLength,a=1;a<e.length;a++)var s=e[a],o=n,c=r,l=i,u=s.span.start,d=f(s.span),s=u+s.newLength,n=Math.min(o,u),r=Math.max(c,c+(d-l)),i=Math.max(s,s+(l-d));return m(_(n,r),i-n)},p.getTypeParameterOwner=function(e){if(e&&145===e.kind)for(var t=e;t;t=t.parent)if(p.isFunctionLike(t)||p.isClassLike(t)||230===t.kind)return t},p.isParameterPropertyDeclaration=function(e){return p.hasModifier(e,92)&&152===e.parent.kind&&p.isClassLike(e.parent.parent)},p.isEmptyBindingPattern=r,p.isEmptyBindingElement=i,p.getCombinedModifierFlags=function(e){e=a(e);var t=p.getModifierFlags(e);return(e=226===e.kind?e.parent:e)&&227===e.kind&&(t|=p.getModifierFlags(e),e=e.parent),e&&208===e.kind&&(t|=p.getModifierFlags(e)),t},p.getCombinedNodeFlags=function(e){var t=(e=a(e)).flags;return(e=226===e.kind?e.parent:e)&&227===e.kind&&(t|=e.flags,e=e.parent),e&&208===e.kind&&(t|=e.flags),t},p.validateLocaleAndSetLanguage=function(e,i,t){var n,e=/^([a-z]+)([_\-]([a-z]+))?$/.exec(e.toLowerCase());function r(e,t,n){var r=p.normalizePath(i.getExecutingFilePath()),r=p.getDirectoryPath(r),r=p.combinePaths(r,e),r=i.resolvePath(p.combinePaths(r=t?r+"-"+t:r,"diagnosticMessages.generated.json"));if(i.fileExists(r)){t="";try{t=i.readFile(r)}catch(e){return n&&n.push(p.createCompilerDiagnostic(p.Diagnostics.Unable_to_open_file_0,r)),0}try{p.localizedDiagnosticMessages=JSON.parse(t)}catch(e){return n&&n.push(p.createCompilerDiagnostic(p.Diagnostics.Corrupted_locale_file_0,r)),0}return 1}}e?r(n=e[1],e[3],t)||r(n,void 0,t):t&&t.push(p.createCompilerDiagnostic(p.Diagnostics.Locale_must_be_of_the_form_language_or_language_territory_For_example_0_or_1,"en","ja-jp"))},p.getOriginalNode=s,p.isParseTreeNode=o,p.getParseTreeNode=function(e,t){return void 0!==e&&!o(e)&&(!o(e=s(e))||t&&!t(e))?void 0:e},p.unescapeLeadingUnderscores=c,p.idText=function(e){return c(e.escapedText)},p.symbolName=function(e){return c(e.escapedName)},p.unescapeIdentifier=function(e){return e},p.getNameOfJSDocTypedef=u,p.getNameOfDeclaration=d,p.getJSDocParameterTags=g,p.hasJSDocParameterTags=function(e){return!!v(e,279)},p.getJSDocAugmentsTag=function(e){return v(e,277)},p.getJSDocClassTag=function(e){return v(e,278)},p.getJSDocReturnTag=h,p.getJSDocTemplateTag=function(e){return v(e,282)},p.getJSDocTypeTag=function(e){e=v(e,281);if(e&&e.typeExpression&&e.typeExpression.type)return e},p.getJSDocType=function(e){var t=v(e,281);return t||146!==e.kind||(e=g(e))&&(t=p.find(e,function(e){return!!e.typeExpression})),t&&t.typeExpression&&t.typeExpression.type},p.getJSDocReturnType=function(e){e=h(e);return e&&e.typeExpression&&e.typeExpression.type},p.getJSDocTags=y,p.getAllJSDocTagsOfKind=function(e,t){e=y(e);return p.filter(e,function(e){return e.kind===t})}}(ts=ts||{}),function(e){e.isNumericLiteral=function(e){return 8===e.kind},e.isStringLiteral=function(e){return 9===e.kind},e.isJsxText=function(e){return 10===e.kind},e.isRegularExpressionLiteral=function(e){return 12===e.kind},e.isNoSubstitutionTemplateLiteral=function(e){return 13===e.kind},e.isTemplateHead=function(e){return 14===e.kind},e.isTemplateMiddle=function(e){return 15===e.kind},e.isTemplateTail=function(e){return 16===e.kind},e.isIdentifier=function(e){return 71===e.kind},e.isQualifiedName=function(e){return 143===e.kind},e.isComputedPropertyName=function(e){return 144===e.kind},e.isTypeParameterDeclaration=function(e){return 145===e.kind},e.isParameter=function(e){return 146===e.kind},e.isDecorator=function(e){return 147===e.kind},e.isPropertySignature=function(e){return 148===e.kind},e.isPropertyDeclaration=function(e){return 149===e.kind},e.isMethodSignature=function(e){return 150===e.kind},e.isMethodDeclaration=function(e){return 151===e.kind},e.isConstructorDeclaration=function(e){return 152===e.kind},e.isGetAccessorDeclaration=function(e){return 153===e.kind},e.isSetAccessorDeclaration=function(e){return 154===e.kind},e.isCallSignatureDeclaration=function(e){return 155===e.kind},e.isConstructSignatureDeclaration=function(e){return 156===e.kind},e.isIndexSignatureDeclaration=function(e){return 157===e.kind},e.isTypePredicateNode=function(e){return 158===e.kind},e.isTypeReferenceNode=function(e){return 159===e.kind},e.isFunctionTypeNode=function(e){return 160===e.kind},e.isConstructorTypeNode=function(e){return 161===e.kind},e.isTypeQueryNode=function(e){return 162===e.kind},e.isTypeLiteralNode=function(e){return 163===e.kind},e.isArrayTypeNode=function(e){return 164===e.kind},e.isTupleTypeNode=function(e){return 165===e.kind},e.isUnionTypeNode=function(e){return 166===e.kind},e.isIntersectionTypeNode=function(e){return 167===e.kind},e.isParenthesizedTypeNode=function(e){return 168===e.kind},e.isThisTypeNode=function(e){return 169===e.kind},e.isTypeOperatorNode=function(e){return 170===e.kind},e.isIndexedAccessTypeNode=function(e){return 171===e.kind},e.isMappedTypeNode=function(e){return 172===e.kind},e.isLiteralTypeNode=function(e){return 173===e.kind},e.isObjectBindingPattern=function(e){return 174===e.kind},e.isArrayBindingPattern=function(e){return 175===e.kind},e.isBindingElement=function(e){return 176===e.kind},e.isArrayLiteralExpression=function(e){return 177===e.kind},e.isObjectLiteralExpression=function(e){return 178===e.kind},e.isPropertyAccessExpression=function(e){return 179===e.kind},e.isElementAccessExpression=function(e){return 180===e.kind},e.isCallExpression=function(e){return 181===e.kind},e.isNewExpression=function(e){return 182===e.kind},e.isTaggedTemplateExpression=function(e){return 183===e.kind},e.isTypeAssertion=function(e){return 184===e.kind},e.isParenthesizedExpression=function(e){return 185===e.kind},e.skipPartiallyEmittedExpressions=function(e){for(;288===e.kind;)e=e.expression;return e},e.isFunctionExpression=function(e){return 186===e.kind},e.isArrowFunction=function(e){return 187===e.kind},e.isDeleteExpression=function(e){return 188===e.kind},e.isTypeOfExpression=function(e){return 191===e.kind},e.isVoidExpression=function(e){return 190===e.kind},e.isAwaitExpression=function(e){return 191===e.kind},e.isPrefixUnaryExpression=function(e){return 192===e.kind},e.isPostfixUnaryExpression=function(e){return 193===e.kind},e.isBinaryExpression=function(e){return 194===e.kind},e.isConditionalExpression=function(e){return 195===e.kind},e.isTemplateExpression=function(e){return 196===e.kind},e.isYieldExpression=function(e){return 197===e.kind},e.isSpreadElement=function(e){return 198===e.kind},e.isClassExpression=function(e){return 199===e.kind},e.isOmittedExpression=function(e){return 200===e.kind},e.isExpressionWithTypeArguments=function(e){return 201===e.kind},e.isAsExpression=function(e){return 202===e.kind},e.isNonNullExpression=function(e){return 203===e.kind},e.isMetaProperty=function(e){return 204===e.kind},e.isTemplateSpan=function(e){return 205===e.kind},e.isSemicolonClassElement=function(e){return 206===e.kind},e.isBlock=function(e){return 207===e.kind},e.isVariableStatement=function(e){return 208===e.kind},e.isEmptyStatement=function(e){return 209===e.kind},e.isExpressionStatement=function(e){return 210===e.kind},e.isIfStatement=function(e){return 211===e.kind},e.isDoStatement=function(e){return 212===e.kind},e.isWhileStatement=function(e){return 213===e.kind},e.isForStatement=function(e){return 214===e.kind},e.isForInStatement=function(e){return 215===e.kind},e.isForOfStatement=function(e){return 216===e.kind},e.isContinueStatement=function(e){return 217===e.kind},e.isBreakStatement=function(e){return 218===e.kind},e.isReturnStatement=function(e){return 219===e.kind},e.isWithStatement=function(e){return 220===e.kind},e.isSwitchStatement=function(e){return 221===e.kind},e.isLabeledStatement=function(e){return 222===e.kind},e.isThrowStatement=function(e){return 223===e.kind},e.isTryStatement=function(e){return 224===e.kind},e.isDebuggerStatement=function(e){return 225===e.kind},e.isVariableDeclaration=function(e){return 226===e.kind},e.isVariableDeclarationList=function(e){return 227===e.kind},e.isFunctionDeclaration=function(e){return 228===e.kind},e.isClassDeclaration=function(e){return 229===e.kind},e.isInterfaceDeclaration=function(e){return 230===e.kind},e.isTypeAliasDeclaration=function(e){return 231===e.kind},e.isEnumDeclaration=function(e){return 232===e.kind},e.isModuleDeclaration=function(e){return 233===e.kind},e.isModuleBlock=function(e){return 234===e.kind},e.isCaseBlock=function(e){return 235===e.kind},e.isNamespaceExportDeclaration=function(e){return 236===e.kind},e.isImportEqualsDeclaration=function(e){return 237===e.kind},e.isImportDeclaration=function(e){return 238===e.kind},e.isImportClause=function(e){return 239===e.kind},e.isNamespaceImport=function(e){return 240===e.kind},e.isNamedImports=function(e){return 241===e.kind},e.isImportSpecifier=function(e){return 242===e.kind},e.isExportAssignment=function(e){return 243===e.kind},e.isExportDeclaration=function(e){return 244===e.kind},e.isNamedExports=function(e){return 245===e.kind},e.isExportSpecifier=function(e){return 246===e.kind},e.isMissingDeclaration=function(e){return 247===e.kind},e.isExternalModuleReference=function(e){return 248===e.kind},e.isJsxElement=function(e){return 249===e.kind},e.isJsxSelfClosingElement=function(e){return 250===e.kind},e.isJsxOpeningElement=function(e){return 251===e.kind},e.isJsxClosingElement=function(e){return 252===e.kind},e.isJsxAttribute=function(e){return 253===e.kind},e.isJsxAttributes=function(e){return 254===e.kind},e.isJsxSpreadAttribute=function(e){return 255===e.kind},e.isJsxExpression=function(e){return 256===e.kind},e.isCaseClause=function(e){return 257===e.kind},e.isDefaultClause=function(e){return 258===e.kind},e.isHeritageClause=function(e){return 259===e.kind},e.isCatchClause=function(e){return 260===e.kind},e.isPropertyAssignment=function(e){return 261===e.kind},e.isShorthandPropertyAssignment=function(e){return 262===e.kind},e.isSpreadAssignment=function(e){return 263===e.kind},e.isEnumMember=function(e){return 264===e.kind},e.isSourceFile=function(e){return 265===e.kind},e.isBundle=function(e){return 266===e.kind},e.isJSDocTypeExpression=function(e){return 267===e.kind},e.isJSDocAllType=function(e){return 268===e.kind},e.isJSDocUnknownType=function(e){return 269===e.kind},e.isJSDocNullableType=function(e){return 270===e.kind},e.isJSDocNonNullableType=function(e){return 271===e.kind},e.isJSDocOptionalType=function(e){return 272===e.kind},e.isJSDocFunctionType=function(e){return 273===e.kind},e.isJSDocVariadicType=function(e){return 274===e.kind},e.isJSDoc=function(e){return 275===e.kind},e.isJSDocAugmentsTag=function(e){return 277===e.kind},e.isJSDocParameterTag=function(e){return 279===e.kind},e.isJSDocReturnTag=function(e){return 280===e.kind},e.isJSDocTypeTag=function(e){return 281===e.kind},e.isJSDocTemplateTag=function(e){return 282===e.kind},e.isJSDocTypedefTag=function(e){return 283===e.kind},e.isJSDocPropertyTag=function(e){return 284===e.kind},e.isJSDocPropertyLikeTag=function(e){return 284===e.kind||279===e.kind},e.isJSDocTypeLiteral=function(e){return 285===e.kind}}(ts=ts||{}),function(n){function t(e){return 143<=e}function r(e){return 8<=e&&e<=13}function i(e){switch(e){case 117:case 120:case 76:case 124:case 79:case 84:case 114:case 112:case 113:case 131:case 115:return!0}return!1}function a(e){return e&&o(e.kind)}function s(e){switch(e){case 228:case 151:case 152:case 153:case 154:case 186:case 187:return!0;default:return!1}}function o(e){switch(e){case 150:case 155:case 156:case 157:case 160:case 273:case 161:return!0;default:return s(e)}}function c(e){switch(e.kind){case 174:case 178:return!0}return!1}function l(e){switch(e.kind){case 175:case 177:return!0}return!1}function u(e){switch(e){case 179:case 180:case 182:case 181:case 249:case 250:case 183:case 177:case 185:case 178:case 199:case 186:case 71:case 12:case 8:case 9:case 13:case 196:case 86:case 95:case 99:case 101:case 97:case 203:case 204:case 91:return!0;default:return!1}}function d(e){switch(e){case 192:case 193:case 188:case 189:case 190:case 191:case 184:return!0;default:return u(e)}}function p(e){var t=n.skipPartiallyEmittedExpressions(e).kind;switch(t){case 195:case 197:case 187:case 194:case 198:case 202:case 200:case 289:case 288:return!0;default:return d(t)}}function f(e){return 288===e.kind}function _(e){return 287===e.kind}function m(e){return 228===e||247===e||229===e||230===e||231===e||232===e||233===e||238===e||237===e||244===e||243===e||236===e}function g(e){return 218===e||217===e||225===e||212===e||210===e||209===e||215===e||216===e||214===e||211===e||222===e||219===e||221===e||223===e||224===e||208===e||213===e||220===e||287===e||291===e||290===e}function h(e){return 276<=e.kind&&e.kind<=285}n.isSyntaxList=function(e){return 286===e.kind},n.isNode=function(e){return t(e.kind)},n.isNodeKind=t,n.isToken=function(e){return 0<=e.kind&&e.kind<=142},n.isNodeArray=function(e){return e.hasOwnProperty("pos")&&e.hasOwnProperty("end")},n.isLiteralKind=r,n.isLiteralExpression=function(e){return r(e.kind)},n.isTemplateLiteralKind=function(e){return 13<=e&&e<=16},n.isTemplateMiddleOrTemplateTail=function(e){e=e.kind;return 15===e||16===e},n.isStringTextContainingNode=function(e){switch(e.kind){case 9:case 14:case 15:case 16:case 13:return!0;default:return!1}},n.isGeneratedIdentifier=function(e){return n.isIdentifier(e)&&0<e.autoGenerateKind},n.isModifierKind=i,n.isModifier=function(e){return i(e.kind)},n.isEntityName=function(e){e=e.kind;return 143===e||71===e},n.isPropertyName=function(e){e=e.kind;return 71===e||9===e||8===e||144===e},n.isBindingName=function(e){e=e.kind;return 71===e||174===e||175===e},n.isFunctionLike=a,n.isFunctionLikeDeclaration=function(e){return e&&s(e.kind)},n.isFunctionLikeKind=o,n.isFunctionOrModuleBlock=function(e){return n.isSourceFile(e)||n.isModuleBlock(e)||n.isBlock(e)&&a(e.parent)},n.isClassElement=function(e){e=e.kind;return 152===e||149===e||151===e||153===e||154===e||157===e||206===e||247===e},n.isClassLike=function(e){return e&&(229===e.kind||199===e.kind)},n.isAccessor=function(e){return e&&(153===e.kind||154===e.kind)},n.isTypeElement=function(e){e=e.kind;return 156===e||155===e||148===e||150===e||157===e||247===e},n.isObjectLiteralElementLike=function(e){e=e.kind;return 261===e||262===e||263===e||151===e||153===e||154===e||247===e},n.isTypeNode=function(e){return 158<=(e=e.kind)&&e<=173||119===e||133===e||134===e||122===e||136===e||137===e||99===e||105===e||139===e||95===e||130===e||201===e||268===e||269===e||270===e||271===e||272===e||273===e||274===e},n.isFunctionOrConstructorTypeNode=function(e){switch(e.kind){case 160:case 161:return!0}return!1},n.isBindingPattern=function(e){return!!e&&(175===(e=e.kind)||174===e)},n.isAssignmentPattern=function(e){e=e.kind;return 177===e||178===e},n.isArrayBindingElement=function(e){e=e.kind;return 176===e||200===e},n.isDeclarationBindingElement=function(e){switch(e.kind){case 226:case 146:case 176:return!0}return!1},n.isBindingOrAssignmentPattern=function(e){return c(e)||l(e)},n.isObjectBindingOrAssignmentPattern=c,n.isArrayBindingOrAssignmentPattern=l,n.isPropertyAccessOrQualifiedName=function(e){e=e.kind;return 179===e||143===e},n.isCallLikeExpression=function(e){switch(e.kind){case 251:case 250:case 181:case 182:case 183:case 147:return!0;default:return!1}},n.isCallOrNewExpression=function(e){return 181===e.kind||182===e.kind},n.isTemplateLiteral=function(e){e=e.kind;return 196===e||13===e},n.isLeftHandSideExpression=function(e){return u(n.skipPartiallyEmittedExpressions(e).kind)},n.isUnaryExpression=function(e){return d(n.skipPartiallyEmittedExpressions(e).kind)},n.isUnaryExpressionWithWrite=function(e){switch(e.kind){case 193:return!0;case 192:return 43===e.operator||44===e.operator;default:return!1}},n.isExpression=p,n.isAssertionExpression=function(e){e=e.kind;return 184===e||202===e},n.isPartiallyEmittedExpression=f,n.isNotEmittedStatement=_,n.isNotEmittedOrPartiallyEmittedNode=function(e){return _(e)||f(e)},n.isIterationStatement=function e(t,n){switch(t.kind){case 214:case 215:case 216:case 212:case 213:return!0;case 222:return n&&e(t.statement,n)}return!1},n.isForInOrOfStatement=function(e){return 215===e.kind||216===e.kind},n.isConciseBody=function(e){return n.isBlock(e)||p(e)},n.isFunctionBody=function(e){return n.isBlock(e)},n.isForInitializer=function(e){return n.isVariableDeclarationList(e)||p(e)},n.isModuleBody=function(e){e=e.kind;return 234===e||233===e||71===e},n.isNamespaceBody=function(e){e=e.kind;return 234===e||233===e},n.isJSDocNamespaceBody=function(e){e=e.kind;return 71===e||233===e},n.isNamedImportBindings=function(e){e=e.kind;return 241===e||240===e},n.isModuleOrEnumDeclaration=function(e){return 233===e.kind||232===e.kind},n.isDeclaration=function(e){return 145===e.kind?282!==e.parent.kind||n.isInJavaScriptFile(e):187===(e=e.kind)||176===e||229===e||199===e||152===e||232===e||264===e||246===e||228===e||186===e||153===e||239===e||237===e||242===e||230===e||253===e||151===e||150===e||233===e||236===e||240===e||146===e||261===e||149===e||148===e||154===e||262===e||231===e||145===e||226===e||283===e},n.isDeclarationStatement=function(e){return m(e.kind)},n.isStatementButNotDeclaration=function(e){return g(e.kind)},n.isStatement=function(e){var t=e.kind;return g(t)||m(t)||207===e.kind&&(void 0===e.parent||224!==e.parent.kind&&260!==e.parent.kind)&&!n.isFunctionBlock(e)},n.isModuleReference=function(e){e=e.kind;return 248===e||143===e||71===e},n.isJsxTagNameExpression=function(e){e=e.kind;return 99===e||71===e||179===e},n.isJsxChild=function(e){e=e.kind;return 249===e||256===e||250===e||10===e},n.isJsxAttributeLike=function(e){e=e.kind;return 253===e||255===e},n.isStringLiteralOrJsxExpression=function(e){e=e.kind;return 9===e||256===e},n.isJsxOpeningLikeElement=function(e){e=e.kind;return 251===e||250===e},n.isCaseOrDefaultClause=function(e){e=e.kind;return 257===e||258===e},n.isJSDocNode=function(e){return 267<=e.kind&&e.kind<=285},n.isJSDocCommentContainingNode=function(e){return 275===e.kind||h(e)},n.isJSDocTag=h,n.isSetAccessor=function(e){return 154===e.kind},n.isGetAccessor=function(e){return 153===e.kind},n.hasJSDocNodes=function(e){return!!e.jsDoc&&0<e.jsDoc.length}}(ts=ts||{}),function(w){var r,i,l,u,k,p,e,f,_,m,g,h,y,H,I,P,G,W,Q,c,v,Y,O,X,s;function a(e,t){return t&&e(t)}function o(e,t,n){if(n){if(t)return t(n);for(var r=0,i=n;r<i.length;r++){var a=e(i[r]);if(a)return a}}}function S(e,t,n){if(e&&!(e.kind<=142))switch(e.kind){case 143:return a(t,e.left)||a(t,e.right);case 145:return a(t,e.name)||a(t,e.constraint)||a(t,e.default)||a(t,e.expression);case 262:return o(t,n,e.decorators)||o(t,n,e.modifiers)||a(t,e.name)||a(t,e.questionToken)||a(t,e.equalsToken)||a(t,e.objectAssignmentInitializer);case 263:return a(t,e.expression);case 146:case 149:case 148:case 261:case 226:case 176:return o(t,n,e.decorators)||o(t,n,e.modifiers)||a(t,e.propertyName)||a(t,e.dotDotDotToken)||a(t,e.name)||a(t,e.questionToken)||a(t,e.type)||a(t,e.initializer);case 160:case 161:case 155:case 156:case 157:return o(t,n,e.decorators)||o(t,n,e.modifiers)||o(t,n,e.typeParameters)||o(t,n,e.parameters)||a(t,e.type);case 151:case 150:case 152:case 153:case 154:case 186:case 228:case 187:return o(t,n,e.decorators)||o(t,n,e.modifiers)||a(t,e.asteriskToken)||a(t,e.name)||a(t,e.questionToken)||o(t,n,e.typeParameters)||o(t,n,e.parameters)||a(t,e.type)||a(t,e.equalsGreaterThanToken)||a(t,e.body);case 159:return a(t,e.typeName)||o(t,n,e.typeArguments);case 158:return a(t,e.parameterName)||a(t,e.type);case 162:return a(t,e.exprName);case 163:return o(t,n,e.members);case 164:return a(t,e.elementType);case 165:return o(t,n,e.elementTypes);case 166:case 167:return o(t,n,e.types);case 168:case 170:return a(t,e.type);case 171:return a(t,e.objectType)||a(t,e.indexType);case 172:return a(t,e.readonlyToken)||a(t,e.typeParameter)||a(t,e.questionToken)||a(t,e.type);case 173:return a(t,e.literal);case 174:case 175:case 177:return o(t,n,e.elements);case 178:return o(t,n,e.properties);case 179:return a(t,e.expression)||a(t,e.name);case 180:return a(t,e.expression)||a(t,e.argumentExpression);case 181:case 182:return a(t,e.expression)||o(t,n,e.typeArguments)||o(t,n,e.arguments);case 183:return a(t,e.tag)||a(t,e.template);case 184:return a(t,e.type)||a(t,e.expression);case 185:case 188:case 189:case 190:return a(t,e.expression);case 192:return a(t,e.operand);case 197:return a(t,e.asteriskToken)||a(t,e.expression);case 191:return a(t,e.expression);case 193:return a(t,e.operand);case 194:return a(t,e.left)||a(t,e.operatorToken)||a(t,e.right);case 202:return a(t,e.expression)||a(t,e.type);case 203:return a(t,e.expression);case 204:return a(t,e.name);case 195:return a(t,e.condition)||a(t,e.questionToken)||a(t,e.whenTrue)||a(t,e.colonToken)||a(t,e.whenFalse);case 198:return a(t,e.expression);case 207:case 234:return o(t,n,e.statements);case 265:return o(t,n,e.statements)||a(t,e.endOfFileToken);case 208:return o(t,n,e.decorators)||o(t,n,e.modifiers)||a(t,e.declarationList);case 227:return o(t,n,e.declarations);case 210:return a(t,e.expression);case 211:return a(t,e.expression)||a(t,e.thenStatement)||a(t,e.elseStatement);case 212:return a(t,e.statement)||a(t,e.expression);case 213:return a(t,e.expression)||a(t,e.statement);case 214:return a(t,e.initializer)||a(t,e.condition)||a(t,e.incrementor)||a(t,e.statement);case 215:return a(t,e.initializer)||a(t,e.expression)||a(t,e.statement);case 216:return a(t,e.awaitModifier)||a(t,e.initializer)||a(t,e.expression)||a(t,e.statement);case 217:case 218:return a(t,e.label);case 219:return a(t,e.expression);case 220:return a(t,e.expression)||a(t,e.statement);case 221:return a(t,e.expression)||a(t,e.caseBlock);case 235:return o(t,n,e.clauses);case 257:return a(t,e.expression)||o(t,n,e.statements);case 258:return o(t,n,e.statements);case 222:return a(t,e.label)||a(t,e.statement);case 223:return a(t,e.expression);case 224:return a(t,e.tryBlock)||a(t,e.catchClause)||a(t,e.finallyBlock);case 260:return a(t,e.variableDeclaration)||a(t,e.block);case 147:return a(t,e.expression);case 229:case 199:case 230:return o(t,n,e.decorators)||o(t,n,e.modifiers)||a(t,e.name)||o(t,n,e.typeParameters)||o(t,n,e.heritageClauses)||o(t,n,e.members);case 231:return o(t,n,e.decorators)||o(t,n,e.modifiers)||a(t,e.name)||o(t,n,e.typeParameters)||a(t,e.type);case 232:return o(t,n,e.decorators)||o(t,n,e.modifiers)||a(t,e.name)||o(t,n,e.members);case 264:return a(t,e.name)||a(t,e.initializer);case 233:return o(t,n,e.decorators)||o(t,n,e.modifiers)||a(t,e.name)||a(t,e.body);case 237:return o(t,n,e.decorators)||o(t,n,e.modifiers)||a(t,e.name)||a(t,e.moduleReference);case 238:return o(t,n,e.decorators)||o(t,n,e.modifiers)||a(t,e.importClause)||a(t,e.moduleSpecifier);case 239:return a(t,e.name)||a(t,e.namedBindings);case 236:case 240:return a(t,e.name);case 241:case 245:return o(t,n,e.elements);case 244:return o(t,n,e.decorators)||o(t,n,e.modifiers)||a(t,e.exportClause)||a(t,e.moduleSpecifier);case 242:case 246:return a(t,e.propertyName)||a(t,e.name);case 243:return o(t,n,e.decorators)||o(t,n,e.modifiers)||a(t,e.expression);case 196:return a(t,e.head)||o(t,n,e.templateSpans);case 205:return a(t,e.expression)||a(t,e.literal);case 144:return a(t,e.expression);case 259:return o(t,n,e.types);case 201:return a(t,e.expression)||o(t,n,e.typeArguments);case 248:return a(t,e.expression);case 247:return o(t,n,e.decorators);case 289:return o(t,n,e.elements);case 249:return a(t,e.openingElement)||o(t,n,e.children)||a(t,e.closingElement);case 250:case 251:return a(t,e.tagName)||a(t,e.attributes);case 254:return o(t,n,e.properties);case 253:return a(t,e.name)||a(t,e.initializer);case 255:return a(t,e.expression);case 256:return a(t,e.dotDotDotToken)||a(t,e.expression);case 252:return a(t,e.tagName);case 267:case 271:case 270:case 272:return a(t,e.type);case 273:return o(t,n,e.parameters)||a(t,e.type);case 274:return a(t,e.type);case 275:return o(t,n,e.tags);case 279:case 284:return e.isNameFirst?a(t,e.name)||a(t,e.typeExpression):a(t,e.typeExpression)||a(t,e.name);case 280:case 281:return a(t,e.typeExpression);case 277:return a(t,e.class);case 282:return o(t,n,e.typeParameters);case 283:return e.typeExpression&&267===e.typeExpression.kind?a(t,e.typeExpression)||a(t,e.fullName):a(t,e.fullName)||a(t,e.typeExpression);case 285:if(e.jsDocPropertyTags)for(var r=0,i=e.jsDocPropertyTags;r<i.length;r++)a(t,i[r]);return;case 288:return a(t,e.expression)}}function Z(e,t,i,a,s,o){function c(e){var t="";if(o&&ee(e)&&(t=a.substring(e.pos,e.end)),e._children&&(e._children=void 0),e.pos+=i,e.end+=i,o&&ee(e)&&w.Debug.assert(t===s.substring(e.pos,e.end)),S(e,c,l),w.hasJSDocNodes(e))for(var n=0,r=e.jsDoc;n<r.length;n++)S(r[n],c,l);ne(e,o)}function l(e){e._children=void 0,e.pos+=i,e.end+=i;for(var t=0,n=e;t<n.length;t++)c(n[t])}(t?l:c)(e)}function ee(e){switch(e.kind){case 9:case 8:case 71:return 1}}function te(e,t,n,r,i){w.Debug.assert(e.end>=t,"Adjusting an element that was entirely before the change range"),w.Debug.assert(e.pos<=n,"Adjusting an element that was entirely after the change range"),w.Debug.assert(e.pos<=e.end),e.pos=Math.min(e.pos,r),e.end>=n?e.end+=i:e.end=Math.min(e.end,r),w.Debug.assert(e.pos<=e.end),e.parent&&(w.Debug.assert(e.pos>=e.parent.pos),w.Debug.assert(e.end<=e.parent.end))}function ne(e,t){var n;t&&(n=e.pos,S(e,function(e){w.Debug.assert(e.pos>=n),n=e.end}),w.Debug.assert(n<=e.end))}function re(e,n){var r,i=e;return S(e,function e(t){if(!w.nodeIsMissing(t))return t.pos<=n?(t.pos>=i.pos&&(i=t),n<t.end?(S(t,e),!0):(w.Debug.assert(t.end<=n),void(r=t))):(w.Debug.assert(t.pos>n),!0)}),i=r&&(e=function(e){for(;;){var t=function(e){var t=void 0;return S(e,function(e){w.nodeIsPresent(e)&&(t=e)}),t}(e);if(!t)return e;e=t}}(r)).pos>i.pos?e:i}function ie(e,t,n,r){var i,e=e.text;n&&(w.Debug.assert(e.length-n.span.length+n.newLength===t.length),r||w.Debug.shouldAssert(3))&&(r=e.substr(0,n.span.start),i=t.substr(0,n.span.start),w.Debug.assert(r===i),r=e.substring(w.textSpanEnd(n.span),e.length),i=t.substring(w.textSpanEnd(w.textChangeRangeNewSpan(n)),t.length),w.Debug.assert(r===i))}function ae(e){return 4===e||2===e||1===e||6===e?1:0}function se(e,t,n,r){f=w.objectAllocator.getNodeConstructor(),_=w.objectAllocator.getTokenConstructor(),m=w.objectAllocator.getIdentifierConstructor(),g=w.objectAllocator.getSourceFileConstructor(),P=e,H=n,y=[],c=0,W=w.createMap(),G=Q=0,v=1===r||2===r||6===r?65536:0,s=!1,O.setText(P),O.setOnError(Se),O.setScriptTarget(t),O.setLanguageVariant(ae(r))}function oe(){O.setText(""),O.setOnError(void 0),P=H=W=h=y=void 0}function T(e){var t=w.getJSDocCommentRanges(e,h.text);if(t)for(var n=0,r=t;n<r.length;n++){var i=r[n],i=Y.parseJSDocComment(e,i.pos,i.end-i.pos);i&&(e.jsDoc||(e.jsDoc=[]),e.jsDoc.push(i))}return e}function ce(e){var s=e;S(e,function e(t){if(t.parent!==s){var n=t.parent=s;if(S(s=t,e),w.hasJSDocNodes(t))for(var r=0,i=t.jsDoc;r<i.length;r++){var a=i[r];a.parent=t,S(s=a,e)}s=n}})}function le(e,t,n){var r=new g(265,0,P.length);return G++,r.text=P,r.bindDiagnostics=[],r.languageVersion=t,r.fileName=w.normalizePath(e),r.languageVariant=ae(n),r.isDeclarationFile=w.fileExtensionIs(r.fileName,".d.ts"),r.scriptKind=n,r}function ue(e,t){e?v|=t:v&=~t}function de(e){ue(e,2048)}function pe(e){ue(e,4096)}function fe(e){ue(e,8192)}function _e(e){ue(e,16384)}function me(e,t){var n,e=e&v;return e?(ue(!1,e),n=t(),ue(!0,e),n):t()}function ge(e,t){var n,e=e&~v;return e?(ue(!0,e),n=t(),ue(!1,e),n):t()}function d(e){return me(2048,e)}function he(e){return ge(16384,e)}function t(e){return 0!=(v&e)}function ye(){return t(4096)}function ve(){return t(2048)}function be(){return t(8192)}function xe(){return t(16384)}function ke(e,t){var n=O.getTokenPos();F(n,O.getTextPos()-n,e,t)}function F(e,t,n,r){var i=w.lastOrUndefined(y);i&&e===i.start||y.push(w.createFileDiagnostic(h,e,t,n,r)),s=!0}function Se(e,t){F(O.getTextPos(),t||0,e)}function L(){return O.getStartPos()}function C(){return I=O.scan()}function Te(){return I=O.reScanGreaterToken()}function n(){I=O.scanJsxIdentifier()}function Ce(){I=O.scanJsxToken()}function Ee(e,t){var n=I,r=y.length,i=s,a=v,e=t?O.lookAhead(e):O.tryScan(e);return w.Debug.assert(a===v),e&&!t||(I=n,y.length=r,s=i),e}function E(e){return Ee(e,!0)}function R(e){return Ee(e,!1)}function D(){return 71===I||(116!==I||!ye())&&(121!==I||!xe())&&107<I}function M(e,t,n){return void 0===n&&(n=!0),I===e?(n&&C(),!0):(t?ke(t):ke(w.Diagnostics._0_expected,w.tokenToString(e)),!1)}function U(e){return I===e&&(C(),!0)}function B(e){if(I===e)return b()}function De(e,t,n,r){return B(e)||Ne(e,t,n,r)}function b(){var e=j(I);return C(),z(e)}function Ae(){return 25===I||18===I||1===I||O.hasPrecedingLineBreak()}function A(){Ae()?25===I&&C():M(25)}function j(e,t){return G++,0<=t||(t=O.getStartPos()),new(w.isNodeKind(e)?f:71===e?m:_)(e,t,t)}function K(e,t,n){var r=e.length,r=1<=r&&r<=4?e.slice():e;return r.pos=t,r.end=void 0===n?O.getStartPos():n,r}function z(e,t){return e.end=void 0===t?O.getStartPos():t,v&&(e.flags|=v),s&&(s=!1,e.flags|=32768),e}function Ne(e,t,n,r){t?F(O.getStartPos(),0,n,r):ke(n,r);t=j(e,O.getStartPos());return 71===e?t.escapedText="":(w.isLiteralKind(e)||w.isTemplateLiteralKind(e))&&(t.text=""),z(t)}function we(e){var t=W.get(e);return void 0===t&&W.set(e,t=e),t}function Ie(e,t){return Q++,e?(e=j(71),71!==I&&(e.originalKeywordKind=I),e.escapedText=w.escapeLeadingUnderscores(we(O.getTokenValue())),C(),z(e)):Ne(71,1===I,t||w.Diagnostics.Identifier_expected)}function N(e){return Ie(D(),e)}function Pe(e){return Ie(w.tokenIsIdentifierOrKeyword(I),e)}function Oe(){return w.tokenIsIdentifierOrKeyword(I)||9===I||8===I}function Fe(){return e=!0,9===I||8===I?((t=rt()).text=we(t.text),t):e&&21===I?(t=j(144),M(21),t.expression=d(q),M(22),z(t)):Pe();var e,t}function Le(e){return I===e&&R(Me)}function Re(){return C(),!O.hasPrecedingLineBreak()&&Ue()}function Me(){return 76===I?83===C():84===I?(C(),79===I?E(Be):39!==I&&118!==I&&17!==I&&Ue()):(79===I?Be:115===I?(C(),Ue):Re)()}function Ue(){return 21===I||17===I||39===I||24===I||Oe()}function Be(){return C(),75===I||89===I||109===I||117===I&&E(kn)||120===I&&E(Sn)}function je(e,t){if(We(e))return 1;switch(e){case 0:case 1:case 3:return(25!==I||!t)&&Dn();case 2:return 73===I||79===I;case 4:return E(vt);case 5:return E(Jn)||25===I&&!t;case 6:return 21===I||Oe();case 12:return 21===I||39===I||24===I||Oe();case 17:return Oe();case 9:return 21===I||24===I||Oe();case 7:return 17===I?E(Ke):t?D()&&!Je():Bt()&&!Je();case 8:return On();case 10:return 26===I||24===I||On();case 18:return D();case 11:case 15:return 26===I||24===I||jt();case 16:return dt();case 19:case 20:return 26===I||Nt();case 21:return tr();case 22:return w.tokenIsIdentifierOrKeyword(I);case 13:return w.tokenIsIdentifierOrKeyword(I)||17===I;case 14:return 1}w.Debug.fail("Non-exhaustive case in 'isListElement'.")}function Ke(){var e;return w.Debug.assert(17===I),18!==C()||26===(e=C())||17===e||85===e||108===e}function ze(){return C(),D()}function $e(){return C(),w.tokenIsIdentifierOrKeyword(I)}function Je(){return(108===I||85===I)&&E(qe)}function qe(){return C(),jt()}function Ve(e){if(1===I)return 1;switch(e){case 1:case 2:case 4:case 5:case 6:case 12:case 9:case 22:return 18===I;case 3:return 18===I||73===I||79===I;case 7:return 17===I||85===I||108===I;case 8:return Ae()||Wt(I)||36===I;case 18:return 29===I||19===I||17===I||85===I||108===I;case 11:return 20===I||25===I;case 15:case 20:case 10:return 22===I;case 16:case 17:return 20===I||22===I;case 19:return 26!==I;case 21:return 17===I||18===I;case 13:return 29===I||41===I;case 14:return 27===I&&E(sr)}}function He(e,t){var n=c;c|=1<<e;for(var r=[],i=L();!Ve(e);)if(je(e,!1)){var a=Ge(e,t);r.push(a)}else if(Qe(e))break;return c=n,K(r,i)}function Ge(e,t){var e=We(e);return e?(e=e,O.setTextPos(e.end),C(),e):t()}function We(n){if(!s&&H){var e=H.currentNode(O.getStartPos());if(!w.nodeIsMissing(e)&&!e.intersectsChange&&!w.containsParseError(e)&&(96256&e.flags)===v&&function(e){switch(n){case 5:var t=e;if(t)switch(t.kind){case 152:case 157:case 153:case 154:case 149:case 206:return 1;case 151:return 71!==t.name.kind||123!==t.name.originalKeywordKind}return;case 2:if(e)switch(e.kind){case 257:case 258:return 1}return;case 0:case 1:case 3:if(e)switch(e.kind){case 228:case 208:case 207:case 211:case 210:case 223:case 219:case 221:case 218:case 217:case 215:case 216:case 214:case 213:case 220:case 209:case 224:case 222:case 212:case 225:case 238:case 237:case 244:case 243:case 233:case 229:case 230:case 232:case 231:return 1}return;case 6:return 264===e.kind;case 4:if(e)switch(e.kind){case 156:case 150:case 157:case 148:case 155:return 1}return;case 8:return 226===e.kind&&void 0===e.initializer;case 16:return 146===e.kind&&void 0===e.initializer;case 17:return}}(e))return e}}function Qe(e){return ke(function(){switch(e){case 0:case 1:return w.Diagnostics.Declaration_or_statement_expected;case 2:return w.Diagnostics.case_or_default_expected;case 3:return w.Diagnostics.Statement_expected;case 17:case 4:return w.Diagnostics.Property_or_signature_expected;case 5:return w.Diagnostics.Unexpected_token_A_constructor_method_accessor_or_property_was_expected;case 6:return w.Diagnostics.Enum_member_expected;case 7:return w.Diagnostics.Expression_expected;case 8:return w.Diagnostics.Variable_declaration_expected;case 9:return w.Diagnostics.Property_destructuring_pattern_expected;case 10:return w.Diagnostics.Array_element_destructuring_pattern_expected;case 11:return w.Diagnostics.Argument_expression_expected;case 12:return w.Diagnostics.Property_assignment_expected;case 15:return w.Diagnostics.Expression_or_comma_expected;case 16:return w.Diagnostics.Parameter_declaration_expected;case 18:return w.Diagnostics.Type_parameter_declaration_expected;case 19:return w.Diagnostics.Type_argument_expected;case 20:return w.Diagnostics.Type_expected;case 21:return w.Diagnostics.Unexpected_token_expected;case 22:case 13:case 14:return w.Diagnostics.Identifier_expected}}()),function(){for(var e=0;e<23;e++)if(c&1<<e&&(je(e,!0)||Ve(e)))return 1}()||(C(),0)}function $(e,t,n){var r=c;c|=1<<e;for(var i=[],a=L(),s=-1;;)if(je(e,!1)){var o=O.getStartPos();if(i.push(Ge(e,t)),s=O.getTokenPos(),U(26))continue;if(s=-1,Ve(e))break;M(26),n&&25===I&&!O.hasPrecedingLineBreak()&&C(),o===O.getStartPos()&&C()}else{if(Ve(e))break;if(Qe(e))break}c=r;r=K(i,a);return 0<=s&&(r.hasTrailingComma=!0),r}function Ye(){return K([],L())}function Xe(e,t,n,r){return M(n)?(n=$(e,t),M(r),n):Ye()}function Ze(e,t){for(var n=(e?Pe:N)(t),r=O.getStartPos();U(23);){if(27===I){n.jsdocDotPos=r;break}r=O.getStartPos(),n=et(n,tt(e))}return n}function et(e,t){var n=j(143,e.pos);return n.left=e,n.right=t,z(n)}function tt(e){return O.hasPrecedingLineBreak()&&w.tokenIsIdentifierOrKeyword(I)&&E(xn)?Ne(71,!0,w.Diagnostics.Identifier_expected):(e?Pe:N)()}function nt(){for(var e,t,n=j(196),r=(n.head=(i=it(I),w.Debug.assert(14===i.kind,"Template head has wrong token kind"),i),w.Debug.assert(14===n.head.kind,"Template head has wrong token kind"),[]),i=L();r.push((t=e=void 0,(t=j(205)).expression=d(q),e=18===I?(I=O.reScanTemplateToken(),e=it(I),w.Debug.assert(15===e.kind||16===e.kind,"Template fragment has wrong token kind"),e):De(16,!1,w.Diagnostics._0_expected,w.tokenToString(18)),t.literal=e,z(t))),15===w.lastOrUndefined(r).literal.kind;);return n.templateSpans=K(r,i),z(n)}function rt(){return it(I)}function it(e){var e=j(e),t=O.getTokenValue();return e.text=t,O.hasExtendedUnicodeEscape()&&(e.hasExtendedUnicodeEscape=!0),O.isUnterminated()&&(e.isUnterminated=!0),8===e.kind&&(e.numericLiteralFlags=O.getNumericLiteralFlags()),C(),z(e),e}function at(){var e=j(159);return e.typeName=Ze(!0,w.Diagnostics.Type_expected),O.hasPrecedingLineBreak()||27!==I||(e.typeArguments=Xe(19,J,27,29)),z(e)}function st(){var e=j(146);return 99!==I&&94!==I||(e.name=Pe(),M(56)),e.type=J(),z(e)}function ot(e){e=j(e);return C(),e.type=At(),z(e)}function ct(){var e=j(145);return e.name=N(),U(85)&&(Nt()||!jt()?e.constraint=J():e.expression=Zt()),U(58)&&(e.default=J()),z(e)}function lt(){if(27===I)return Xe(18,ct,27,29)}function ut(){if(U(56))return J()}function dt(){return 24===I||On()||w.isModifierKind(I)||57===I||Nt(!0)}function pt(e){var t=j(146);return 99===I?(t.name=Ie(!0),t.type=ut(),z(t)):(t.decorators=qn(),t.modifiers=Vn(),t.dotDotDotToken=B(24),t.name=Fn(),0===w.getFullWidth(t.name)&&!w.hasModifiers(t)&&w.isModifierKind(I)&&C(),t.questionToken=B(55),t.type=ut(),t.initializer=Kt(!0,e),T(z(t)))}function ft(e,t,n){var r,i,a,s;32&t||(n.typeParameters=lt()),n.parameters=(r=t,M(19)?(i=ye(),a=xe(),pe(!!(1&r)),_e(!!(2&r)),s=$(16,32&r?st:function(){return pt(!!(8&r))}),pe(i),_e(a),!M(20)&&8&r?void 0:s):8&r?void 0:Ye()),n.type=(i=!!(4&t),(36===(a=e)?(M(a),1):U(56)||i&&36===I&&(ke(w.Diagnostics._0_expected,w.tokenToString(56)),C(),1))?(a=D()&&R(Rt),i=J(),a?((s=j(158,a.pos)).parameterName=a,s.type=i,z(s)):i):void 0)}function _t(){U(26)||A()}function mt(e){var t=j(e);return 156===e&&M(94),ft(56,4,t),_t(),T(z(t))}function gt(){return 21===I&&E(ht)}function ht(){if(C(),24===I||22===I)return!0;if(w.isModifierKind(I)){if(C(),D())return!0}else{if(!D())return!1;C()}return 56===I||26===I||55===I&&(C(),56===I||26===I||22===I)}function yt(e,t,n){e=j(157,e);return e.decorators=t,e.modifiers=n,e.parameters=Xe(16,pt,21,22),e.type=Ut(),_t(),T(z(e))}function vt(){if(19===I||27===I)return!0;for(var e;w.isModifierKind(I);)e=!0,C();return 21===I||(Oe()&&(e=!0,C()),!!e&&(19===I||27===I||55===I||56===I||26===I||Ae()))}function bt(){var e,t,n,r,i;return 19===I||27===I?mt(155):94===I&&E(xt)?mt(156):(e=L(),t=Vn(),gt()?yt(e,void 0,t):(e=e,t=t,r=Fe(),i=B(55),19===I||27===I?((n=j(150,e)).modifiers=t,n.name=r,n.questionToken=i,ft(56,4,n)):((n=j(148,e)).modifiers=t,n.name=r,n.questionToken=i,n.type=Ut(),58===I&&(n.initializer=zn())),_t(),T(z(n))))}function xt(){return C(),19===I||27===I}function kt(){var e;return M(17)?(e=He(4,bt),M(18)):e=Ye(),e}function St(){return C(),131===I&&C(),21===I&&ze()&&92===C()}function Tt(e){var t=j(e);return 161===e&&M(94),ft(36,4,t),T(z(t))}function Ct(){var e=b();return 23===I?void 0:e}function Et(e){var t,n=j(173),r=(e&&((t=j(192)).operator=38,C()),101===I||86===I?b():it(I));return e&&(t.operand=r,z(t),r=t),n.literal=r,z(n)}function Dt(){return 8===C()}function At(){switch(I){case 119:case 136:case 133:case 122:case 137:case 139:case 130:case 134:return R(Ct)||at();case 39:return s=j(268),C(),z(s);case 55:return s=O.getStartPos(),C(),26===I||18===I||20===I||29===I||58===I||49===I?z(a=j(269,s)):((a=j(270,s)).type=J(),z(a));case 89:return E(ar)?(i=j(273),C(),ft(56,36,i),T(z(i))):((i=j(159)).typeName=Pe(),z(i));case 24:return ot(274);case 51:return ot(271);case 13:case 9:case 8:case 101:case 86:return Et();case 38:return E(Dt)?Et(!0):at();case 105:case 95:return b();case 99:a=j(169),C();i=z(a);return 126!==I||O.hasPrecedingLineBreak()?i:(n=i,C(),(r=j(158,n.pos)).parameterName=n,r.type=J(),z(r));case 103:return n=j(162),M(103),n.exprName=Ze(!0),z(n);case 17:return E(St)?(r=j(172),M(17),r.readonlyToken=B(131),M(21),r.typeParameter=((t=j(145)).name=N(),M(92),t.constraint=J(),z(t)),M(22),r.questionToken=B(55),r.type=Ut(),A(),M(18),z(r)):((t=j(163)).members=kt(),z(t));case 21:return(e=j(165)).elementTypes=Xe(20,J,21,22),z(e);case 19:return e=j(168),M(19),e.type=J(),M(20),z(e);default:return at()}var e,t,n,r,i,a,s}function Nt(e){switch(I){case 119:case 136:case 133:case 122:case 137:case 105:case 139:case 95:case 99:case 103:case 130:case 17:case 21:case 27:case 49:case 48:case 94:case 9:case 8:case 101:case 86:case 134:case 39:case 55:case 51:case 24:return!0;case 38:return!e&&E(Dt);case 19:return!e&&E(wt);default:return D()}}function wt(){return C(),20===I||dt()||Nt()}function It(e,t){C();e=j(e,t.pos);return e.type=t,z(e)}function Pt(){if(127===I)return e=j(170),M(127),e.operator=127,e.type=Pt(),z(e);for(var e,t,n=At();!O.hasPrecedingLineBreak();)switch(I){case 58:if(!(1048576&v))return n;n=It(272,n);break;case 51:n=It(271,n);break;case 55:n=It(270,n);break;case 21:M(21),n=(Nt()?((t=j(171,n.pos)).objectType=n,t.indexType=J()):(t=j(164,n.pos)).elementType=n,M(22),z(t));break;default:return n}return n}function Ot(e,t,n){U(n);var r=t();if(I===n){for(var i=[r];U(n);)i.push(t());e=j(e,r.pos);e.types=K(i,r.pos),r=z(e)}return r}function Ft(){return Ot(167,Pt,48)}function Lt(){if(C(),20===I||24===I)return!0;if(w.isModifierKind(I)&&Vn(),D()||99===I?(C(),1):21===I||17===I?(e=y.length,Fn(),e===y.length):void 0){if(56===I||26===I||55===I||58===I)return!0;if(20===I&&(C(),36===I))return!0}var e;return!1}function Rt(){var e=N();if(126===I&&!O.hasPrecedingLineBreak())return C(),e}function J(){return me(20480,Mt)}function Mt(){return 27===I||19===I&&E(Lt)?Tt(160):94===I?Tt(161):Ot(166,Ft,49)}function Ut(){return U(56)?J():void 0}function Bt(){switch(I){case 99:case 97:case 95:case 101:case 86:case 8:case 9:case 13:case 14:case 19:case 21:case 17:case 89:case 75:case 94:case 41:case 63:case 71:return!0;case 91:return E(xt);default:return D()}}function jt(){if(Bt())return!0;switch(I){case 37:case 38:case 52:case 51:case 80:case 103:case 105:case 43:case 44:case 27:case 121:case 116:return!0;default:return!(ve()&&92===I||!(0<Yt()))||D()}}function q(){var e=be();e&&fe(!1);for(var t,n=V();t=B(26);)n=Xt(n,t,V());return e&&fe(!0),n}function Kt(e,t){if(58!==I){if(O.hasPrecedingLineBreak()||e&&17===I||!jt())return;if(e&&t)return(e=Ne(71,!0,w.Diagnostics._0_expected,"=")).escapedText="= not found",e}return M(58),V()}function V(){var e,t,n;return 116===I&&(ye()||E(Tn))?(e=j(197),C(),O.hasPrecedingLineBreak()||39!==I&&!jt()||(e.asteriskToken=B(39),e.expression=V()),z(e)):function(){var e=19===I||27===I||120===I?E($t):36===I?1:0;if(0!==e){var t,n,e=1===e?Vt(!0):R(Jt);if(e)return t=w.hasModifier(e,256),n=I,e.equalsGreaterThanToken=De(36,!1,w.Diagnostics._0_expected,"=>"),e.body=36===n||17===n?Ht(t):N(),T(z(e))}}()||function(){var e;if(120===I&&1===E(qt))return e=Hn(),zt(Gt(0),e)}()||(71===(e=Gt(0)).kind&&36===I?zt(e):w.isLeftHandSideExpression(e)&&w.isAssignmentOperator(Te())?Xt(e,b(),V()):(e=e,(n=B(55))?((t=j(195,e.pos)).condition=e,t.questionToken=n,t.whenTrue=me(X,V),t.colonToken=De(56,!1,w.Diagnostics._0_expected,w.tokenToString(56)),t.whenFalse=V(),z(t)):e))}function zt(e,t){w.Debug.assert(36===I,"parseSimpleArrowFunctionExpression should only have been called if we had a =>"),t?(n=j(187,t.pos)).modifiers=t:n=j(187,e.pos);var n,r=j(146,e.pos);return r.name=e,z(r),n.parameters=K([r],r.pos,r.end),n.equalsGreaterThanToken=De(36,!1,w.Diagnostics._0_expected,"=>"),n.body=Ht(!!t),T(z(n))}function $t(){if(120===I){if(C(),O.hasPrecedingLineBreak())return 0;if(19!==I&&27!==I)return 0}var e=I,t=C();if(19!==e)return w.Debug.assert(27===e),D()?1===h.languageVariant?E(function(){var e=C();if(85===e)switch(C()){case 58:case 29:return!1;default:return!0}else if(26===e)return!0;return!1})?1:0:2:0;if(20===t)switch(C()){case 36:case 56:case 17:return 1;default:return 0}return 21===t||17===t?2:24===t?1:D()?56===C()?1:2:0}function Jt(){return Vt(!1)}function qt(){if(120===I){if(C(),O.hasPrecedingLineBreak()||36===I)return 0;var e=Gt(0);if(!O.hasPrecedingLineBreak()&&71===e.kind&&36===I)return 1}return 0}function Vt(e){var t=j(187);if(t.modifiers=Hn(),ft(56,(w.hasModifier(t,256)?2:0)|(e?0:8),t),t.parameters&&(e||!(36!==I&&17!==I||w.find(t.parameters,function(e){return e.initializer&&w.isIdentifier(e.initializer)&&"= not found"===e.initializer.escapedText}))))return t}function Ht(e){return 17===I?yn(e?2:0):25===I||89===I||75===I||!Dn()||17!==I&&89!==I&&75!==I&&57!==I&&jt()?e?he(V):me(16384,V):yn(16|(e?2:0))}function Gt(e){return Qt(e,Zt())}function Wt(e){return 92===e||142===e}function Qt(e,t){for(;;){Te();var n=Yt();if(!(40===I?e<=n:e<n))break;if(92===I&&ve())break;if(118===I){if(O.hasPrecedingLineBreak())break;C(),r=t,i=J(),a=void 0,(a=j(202,r.pos)).expression=r,a.type=i,t=z(a)}else t=Xt(t,b(),Gt(n))}var r,i,a;return t}function Yt(){switch(I){case 54:return 1;case 53:return 2;case 49:return 3;case 50:return 4;case 48:return 5;case 32:case 33:case 34:case 35:return 6;case 27:case 29:case 30:case 31:case 93:case 92:case 118:return 7;case 45:case 46:case 47:return 8;case 37:case 38:return 9;case 39:case 41:case 42:return 10;case 40:return 11}return-1}function Xt(e,t,n){var r=j(194,e.pos);return r.left=e,r.operatorToken=t,r.right=n,z(r)}function Zt(){var e,t,n;return function(){switch(I){case 37:case 38:case 52:case 51:case 80:case 103:case 105:case 121:return;case 27:if(1!==h.languageVariant)return;default:return 1}}()?(e=en(),40===I?Qt(Yt(),e):e):(e=I,t=function t(){switch(I){case 37:case 38:case 52:case 51:return(e=j(192)).operator=I,C(),e.operand=t(),z(e);case 80:return function(){var e=j(188);return C(),e.expression=t(),z(e)}();case 103:return function(){var e=j(189);return C(),e.expression=t(),z(e)}();case 105:return function(){var e=j(190);return C(),e.expression=t(),z(e)}();case 27:return function(){var e=j(184);return M(27),e.type=J(),M(29),e.expression=t(),z(e)}();case 121:if(121===I&&(xe()||E(Tn)))return function(){var e=j(191);return C(),e.expression=t(),z(e)}();default:return en()}var e}(),40===I&&(n=w.skipTrivia(P,t.pos),184===t.kind?F(n,t.end-n,w.Diagnostics.A_type_assertion_expression_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses):F(n,t.end-n,w.Diagnostics.An_unary_expression_with_the_0_operator_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses,w.tokenToString(e))),t)}function en(){var e,t;return 43===I||44===I?((e=j(192)).operator=I,C(),e.operand=tn(),z(e)):1===h.languageVariant&&27===I&&E($e)?nn(!0):(t=tn(),w.Debug.assert(w.isLeftHandSideExpression(t)),43!==I&&44!==I||O.hasPrecedingLineBreak()?t:((e=j(193,t.pos)).operand=t,e.operator=I,C(),z(e)))}function tn(){for(var e,t=91===I&&E(xt)?(h.flags|=524288,b()):97===I?(t=b(),19===I||23===I||21===I?t:((e=j(179,t.pos)).expression=t,De(23,!1,w.Diagnostics.super_must_be_followed_by_an_argument_list_or_member_access),e.name=tt(!0),z(e))):function n(){return on(function(){switch(I){case 8:case 9:case 13:return rt();case 99:case 97:case 95:case 101:case 86:return b();case 19:return e=j(185),M(19),e.expression=d(q),M(20),T(z(e));case 21:return function(){var e=j(177);return M(21),O.hasPrecedingLineBreak()&&(e.multiLine=!0),e.elements=$(15,un),M(22),z(e)}();case 17:return _n();case 120:if(E(Sn))return mn();break;case 75:return Qn(O.getStartPos(),void 0,void 0,199);case 89:return mn();case 94:return function(){var e,t=O.getStartPos();return M(94),U(23)?((e=j(204,t)).keywordToken=94,e.name=Pe()):((e=j(182,t)).expression=n(),e.typeArguments=R(ln),!e.typeArguments&&19!==I||(e.arguments=cn())),z(e)}();case 41:case 63:if(12===(I=O.reScanSlashToken()))return rt();break;case 14:return nt()}var e;return N(w.Diagnostics.Expression_expected)}())}(),n=t;;){if(n=on(n),27!==I){if(19!==I)return n;(r=j(181,n.pos)).expression=n}else{var r,i=R(ln);if(!i)return n;(r=j(181,n.pos)).expression=n,r.typeArguments=i}r.arguments=cn(),n=z(r)}}function nn(e){n=e,t=O.getStartPos(),M(27),a=rn(),(i=j(254)).properties=He(13,sn),i=z(i),29===I?(r=j(251,t),Ce()):(M(41),n?M(29):(M(29,void 0,!1),Ce()),r=j(250,t)),r.tagName=a,r.attributes=i;var t,n=z(r),r=251===n.kind?((t=j(249,n.pos)).openingElement=n,t.children=function(e){var t=[],n=L(),r=c;for(c|=16384;28!==(I=O.reScanJsxToken());){if(1===I){F(e.pos,e.end-e.pos,w.Diagnostics.JSX_element_0_has_no_corresponding_closing_tag,w.getTextOfNodeFromSourceText(P,e));break}if(7===I)break;var i=function(){switch(I){case 10:case 11:return(e=j(10,O.getStartPos())).containsOnlyWhiteSpaces=11===I,I=O.scanJsxToken(),z(e);case 17:return an(!1);case 27:return nn(!1)}var e;w.Debug.fail("Unknown JSX child kind "+I)}();i&&t.push(i)}return c=r,K(t,n)}(t.openingElement.tagName),t.closingElement=(a=e,i=j(252),M(28),i.tagName=rn(),a?M(29):(M(29,void 0,!1),Ce()),z(i)),function e(t,n){return t.kind===n.kind&&(71===t.kind?t.escapedText===n.escapedText:99===t.kind||t.name.escapedText===n.name.escapedText&&e(t.expression,n.expression))}(t.openingElement.tagName,t.closingElement.tagName)||F(t.closingElement.pos,t.closingElement.end-t.closingElement.pos,w.Diagnostics.Expected_corresponding_JSX_closing_tag_for_0,w.getTextOfNodeFromSourceText(P,t.openingElement.tagName)),z(t)):(w.Debug.assert(250===n.kind),n);if(e&&27===I){var i,a=R(function(){return nn(!0)});if(a)return ke(w.Diagnostics.JSX_expressions_must_have_one_parent_element),(i=j(194,r.pos)).end=a.end,i.left=r,i.right=a,i.operatorToken=Ne(26,!1,void 0),i.operatorToken.pos=i.operatorToken.end=i.right.pos,i}return r}function rn(){n();for(var e=(99===I?b:Pe)();U(23);){var t=j(179,e.pos);t.expression=e,t.name=tt(!0),e=z(t)}return e}function an(e){var t=j(256);return M(17),18!==I&&(t.dotDotDotToken=B(24),t.expression=V()),e?M(18):(M(18,void 0,!1),Ce()),z(t)}function sn(){var e;return 17===I?(e=j(255),M(17),M(24),e.expression=q(),M(18)):(n(),(e=j(253)).name=Pe(),58===I&&(9===(I=O.scanJsxAttributeValue())?e.initializer=rt():e.initializer=an(!0))),z(e)}function on(e){for(;;)if(B(23)){var t=j(179,e.pos);t.expression=e,t.name=tt(!0),e=z(t)}else if(51!==I||O.hasPrecedingLineBreak())if(be()||!U(21)){if(13!==I&&14!==I)return e;t=j(183,e.pos);t.tag=e,t.template=(13===I?rt:nt)(),e=z(t)}else{var n=j(180,e.pos);n.expression=e,22!==I&&(n.argumentExpression=d(q),9===n.argumentExpression.kind||8===n.argumentExpression.kind)&&((r=n.argumentExpression).text=we(r.text)),M(22),e=z(n)}else{C();var r=j(203,e.pos);r.expression=e,e=z(r)}}function cn(){M(19);var e=$(11,dn);return M(20),e}function ln(){var e;if(U(27))return e=$(19,J),M(29)&&e&&function(){switch(I){case 19:case 23:case 20:case 22:case 56:case 25:case 55:case 32:case 34:case 33:case 35:case 53:case 54:case 50:case 48:case 49:case 18:case 1:return 1;default:return}}()?e:void 0}function un(){return 24===I?(e=j(198),M(24),e.expression=V(),z(e)):26===I?j(200):V();var e}function dn(){return me(X,un)}function pn(e,t,n){return Le(125)?$n(153,e,t,n):Le(135)?$n(154,e,t,n):void 0}function fn(){var e,t,n,r,i,a,s=O.getStartPos();return B(24)?((a=j(263,s)).expression=V(),T(z(a))):pn(s,a=qn(),e=Vn())||(r=B(39),i=D(),t=Fe(),n=B(55),r||19===I||27===I?jn(s,a,e,r,t,n):!i||26!==I&&18!==I&&58!==I?((a=j(261,s)).modifiers=e,a.name=t,a.questionToken=n,M(56),a.initializer=d(V),T(z(a))):((r=j(262,s)).name=t,r.questionToken=n,(i=B(58))&&(r.equalsToken=i,r.objectAssignmentInitializer=d(V)),T(z(r))))}function _n(){var e=j(178);return M(17),O.hasPrecedingLineBreak()&&(e.multiLine=!0),e.properties=$(12,fn,!0),M(18),z(e)}function mn(){var e=be(),t=(e&&fe(!1),j(186)),n=(t.modifiers=Vn(),M(89),t.asteriskToken=B(39),t.asteriskToken?1:0),r=w.hasModifier(t,256)?2:0;return t.name=n&&r?ge(20480,gn):n?ge(4096,gn):r?he(gn):gn(),ft(56,n|r,t),t.body=yn(n|r),e&&fe(!0),T(z(t))}function gn(){return D()?N():void 0}function hn(e,t){var n=j(207);return M(17,t)||e?(O.hasPrecedingLineBreak()&&(n.multiLine=!0),n.statements=He(1,x),M(18)):n.statements=Ye(),z(n)}function yn(e,t){var n=ye(),r=(pe(!!(1&e)),xe()),i=(_e(!!(2&e)),be()),e=(i&&fe(!1),hn(!!(16&e),t));return i&&fe(!0),pe(n),_e(r),e}function vn(e){var t=j(e);return M(218===e?72:77),Ae()||(t.label=N()),A(),z(t)}function bn(){return 73===I?(e=j(257),M(73),e.expression=d(q),M(56),e.statements=He(3,x),z(e)):(e=j(258),M(79),M(56),e.statements=He(3,x),z(e));var e}function xn(){return C(),w.tokenIsIdentifierOrKeyword(I)&&!O.hasPrecedingLineBreak()}function kn(){return C(),75===I&&!O.hasPrecedingLineBreak()}function Sn(){return C(),89===I&&!O.hasPrecedingLineBreak()}function Tn(){return C(),(w.tokenIsIdentifierOrKeyword(I)||8===I||9===I)&&!O.hasPrecedingLineBreak()}function Cn(){for(;;)switch(I){case 104:case 110:case 76:case 89:case 75:case 83:return!0;case 109:case 138:return C(),!O.hasPrecedingLineBreak()&&D();case 128:case 129:return C(),!O.hasPrecedingLineBreak()&&(D()||9===I);case 117:case 120:case 124:case 112:case 113:case 114:case 131:if(C(),O.hasPrecedingLineBreak())return!1;continue;case 141:return C(),17===I||71===I||84===I;case 91:return C(),9===I||39===I||17===I||w.tokenIsIdentifierOrKeyword(I);case 84:if(C(),58===I||39===I||17===I||79===I||118===I)return!0;continue;case 115:C();continue;default:return!1}}function En(){return E(Cn)}function Dn(){switch(I){case 57:case 25:case 17:case 104:case 110:case 89:case 75:case 83:case 90:case 81:case 106:case 88:case 77:case 72:case 96:case 107:case 98:case 100:case 102:case 78:case 74:case 87:return!0;case 91:return En()||E(xt);case 76:case 84:return En();case 120:case 124:case 109:case 128:case 129:case 138:case 141:return!0;case 114:case 112:case 113:case 115:case 131:return En()||!E(xn);default:return jt()}}function An(){return C(),D()||17===I||21===I}function x(){switch(I){case 25:return o=j(209),M(25),z(o);case 17:return hn(!1);case 104:return Un(O.getStartPos(),void 0,void 0);case 110:if(E(An))return Un(O.getStartPos(),void 0,void 0);break;case 89:return Bn(O.getStartPos(),void 0,void 0);case 75:return Wn(O.getStartPos(),void 0,void 0);case 90:return o=j(211),M(90),M(19),o.expression=d(q),M(20),o.thenStatement=x(),o.elseStatement=U(82)?x():void 0,z(o);case 81:return s=j(212),M(81),s.statement=x(),M(106),M(19),s.expression=d(q),M(20),U(25),z(s);case 106:return s=j(213),M(106),M(19),s.expression=d(q),M(20),s.statement=x(),z(s);case 88:return n=L(),M(88),r=B(121),a=void M(19),25!==I&&(a=104===I||110===I||76===I?Rn(!0):ge(2048,q)),(r=(r?M:U)(142)?((i=j(216,n)).awaitModifier=r,i.initializer=a,i.expression=d(V),M(20),i):U(92)?((r=j(215,n)).initializer=a,r.expression=d(q),M(20),r):((i=j(214,n)).initializer=a,M(25),25!==I&&20!==I&&(i.condition=d(q)),M(25),20!==I&&(i.incrementor=d(q)),M(20),i)).statement=x(),z(r);case 77:return vn(217);case 72:return vn(218);case 96:return n=j(219),M(96),Ae()||(n.expression=d(q)),A(),z(n);case 107:return a=j(220),M(107),M(19),a.expression=d(q),M(20),a.statement=x(),z(a);case 98:return i=j(221),M(98),M(19),i.expression=d(q),M(20),r=j(235,O.getStartPos()),M(17),r.clauses=He(2,bn),M(18),i.caseBlock=z(r),z(i);case 100:return t=j(223),M(100),t.expression=O.hasPrecedingLineBreak()?void 0:d(q),A(),z(t);case 102:case 74:case 87:return t=j(224),M(102),t.tryBlock=hn(!1),t.catchClause=74===I?(e=j(260),M(74),U(19)?(e.variableDeclaration=Ln(),M(20)):e.variableDeclaration=void 0,e.block=hn(!1),z(e)):void 0,t.catchClause&&87!==I||(M(87),t.finallyBlock=hn(!1)),z(t);case 78:return e=j(225),M(78),A(),z(e);case 57:return Nn();case 120:case 109:case 138:case 128:case 129:case 124:case 76:case 83:case 84:case 91:case 112:case 113:case 114:case 117:case 115:case 131:case 141:if(En())return Nn()}var e,t,n,r,i,a,s,o,c,l,u;return l=O.getStartPos(),71===(u=d(q)).kind&&U(56)?((c=j(222,l)).label=u,c.statement=x()):((c=j(210,l)).expression=u,A()),T(z(c))}function Nn(){var e,t,n,r,i,a,s,o,c,l,u,d,p,f,_,m,g,h=L(),y=qn(),v=Vn();switch(I){case 104:case 110:case 76:return Un(h,y,v);case 89:return Bn(h,y,v);case 75:return Wn(h,y,v);case 109:return _=y,m=v,(g=j(230,h)).decorators=_,g.modifiers=m,M(109),g.name=N(),g.typeParameters=lt(),g.heritageClauses=Yn(),g.members=kt(),T(z(g));case 138:return _=y,m=v,(g=j(231,h)).decorators=_,g.modifiers=m,M(138),g.name=N(),g.typeParameters=lt(),M(58),g.type=J(),A(),T(z(g));case 83:return b=y,x=v,(k=j(232,h)).decorators=b,k.modifiers=x,M(83),k.name=N(),M(17)?(k.members=$(6,nr),M(18)):k.members=Ye(),T(z(k));case 141:case 128:case 129:var b=h,x=y,k=v,S=0;if(141===I)return ir(b,x,k);if(U(129))S|=16;else if(M(128),9===I)return ir(b,x,k);return function e(t,n,r,i){var t=j(233,t),a=16&i;return t.decorators=n,t.modifiers=r,t.flags|=i,t.name=N(),t.body=U(23)?e(L(),void 0,void 0,4|a):rr(),T(z(t))}(b,x,k,S);case 91:return S=h,s=y,o=v,M(91),f=O.getStartPos(),D()&&(c=N(),26!==I)&&140!==I?(p=s,u=o,d=c,(l=j(237,S)).decorators=p,l.modifiers=u,l.name=d,M(58),l.moduleReference=132===I&&E(ar)?(p=j(248),M(132),M(19),p.expression=or(),M(20),z(p)):Ze(!1),A(),T(z(l))):((u=j(238,S)).decorators=s,u.modifiers=o,!c&&39!==I&&17!==I||(u.importClause=(d=c,p=j(239,f),d&&(p.name=d),p.name&&!U(26)||(p.namedBindings=39===I?(d=j(240),M(39),M(118),d.name=N(),z(d)):cr(241)),z(p)),M(140)),u.moduleSpecifier=or(),A(),z(u));case 84:switch(C(),I){case 79:case 58:return r=y,i=v,(a=j(243,h)).decorators=r,a.modifiers=i,U(58)?a.isExportEquals=!0:M(79),a.expression=V(),A(),z(a);case 118:return r=y,i=v,(a=j(236,h)).decorators=r,a.modifiers=i,M(118),M(129),a.name=N(),A(),z(a);default:return e=y,t=v,(n=j(244,h)).decorators=e,n.modifiers=t,(U(39)||(n.exportClause=cr(245),140===I)||9===I&&!O.hasPrecedingLineBreak())&&(M(140),n.moduleSpecifier=or()),A(),z(n)}default:if(y||v)return(l=Ne(247,!0,w.Diagnostics.Declaration_expected)).pos=h,l.decorators=y,l.modifiers=v,z(l)}}function wn(e,t){if(17===I||!Ae())return yn(e,t);A()}function In(){var e;return 26===I?j(200):((e=j(176)).dotDotDotToken=B(24),e.name=Fn(),e.initializer=Kt(!1),z(e))}function Pn(){var e=j(176),t=(e.dotDotDotToken=B(24),D()),n=Fe();return t&&56!==I?e.name=n:(M(56),e.propertyName=n,e.name=Fn()),e.initializer=Kt(!1),z(e)}function On(){return 17===I||21===I||D()}function Fn(){return 21===I?(e=j(175),M(21),e.elements=$(10,In),M(22),z(e)):17===I?(e=j(174),M(17),e.elements=$(9,Pn),M(18),z(e)):N();var e}function Ln(){var e=j(226);return e.name=Fn(),e.type=Ut(),Wt(I)||(e.initializer=zn()),z(e)}function Rn(e){var t,n=j(227);switch(I){case 104:break;case 110:n.flags|=1;break;case 76:n.flags|=2;break;default:w.Debug.fail()}return C(),142===I&&E(Mn)?n.declarations=Ye():(t=ve(),de(e),n.declarations=$(8,Ln),de(t)),z(n)}function Mn(){return ze()&&20===C()}function Un(e,t,n){e=j(208,e);return e.decorators=t,e.modifiers=n,e.declarationList=Rn(!1),A(),T(z(e))}function Bn(e,t,n){e=j(228,e),e.decorators=t,e.modifiers=n,M(89),e.asteriskToken=B(39),e.name=(w.hasModifier(e,512)?gn:N)(),t=e.asteriskToken?1:0,n=w.hasModifier(e,256)?2:0;return ft(56,t|n,e),e.body=wn(t|n,w.Diagnostics.or_expected),T(z(e))}function jn(e,t,n,r,i,a,s){e=j(151,e),e.decorators=t,e.modifiers=n,e.asteriskToken=r,e.name=i,e.questionToken=a,t=r?1:0,n=w.hasModifier(e,256)?2:0;return ft(56,t|n,e),e.body=wn(t|n,s),T(z(e))}function Kn(e,t,n,r,i){e=j(149,e);return e.decorators=t,e.modifiers=n,e.name=r,e.questionToken=i,e.type=Ut(),e.initializer=w.hasModifier(e,32)?d(zn):me(6144,zn),A(),T(z(e))}function zn(){return Kt(!1)}function $n(e,t,n,r){e=j(e,t);return e.decorators=n,e.modifiers=r,e.name=Fe(),ft(56,0,e),e.body=wn(0),T(z(e))}function Jn(){var e;if(57===I)return!0;for(;w.isModifierKind(I);){if(function(e){switch(e){case 114:case 112:case 113:case 115:case 131:return 1;default:return}}(e=I))return!0;C()}if(39===I)return!0;if(Oe()&&(e=I,C()),21===I)return!0;if(void 0!==e){if(!w.isKeyword(e)||135===e||125===e)return!0;switch(I){case 19:case 27:case 56:case 58:case 55:return!0;default:return Ae()}}return!1}function qn(){for(var e,t=L();;){var n=L();if(!U(57))break;n=j(147,n);n.expression=ge(8192,tn),z(n),(e=e||[]).push(n)}return e&&K(e,t)}function Vn(e){for(var t,n=L();;){var r=O.getStartPos(),i=I;if(76===I&&e){if(!R(Re))break}else if(!w.isModifierKind(I)||!R(Me))break;i=z(j(i,r));(t=t||[]).push(i)}return t&&K(t,n)}function Hn(){var e,t;return 120===I&&(e=O.getStartPos(),t=I,C(),t=K([z(j(t,e))],e)),t}function Gn(){var e,t,n,r,i,a,s,o,c;return 25===I?(e=j(206),C(),z(e)):(e=L(),t=qn(),n=Vn(!0),pn(e,t,n)||(123===I?(s=t,o=n,(c=j(152,e)).decorators=s,c.modifiers=o,M(123),ft(56,0,c),c.body=wn(0,w.Diagnostics.or_expected),T(z(c))):gt()?yt(e,t,n):w.tokenIsIdentifierOrKeyword(I)||9===I||8===I||39===I||21===I?(s=e,o=t,c=n,r=B(39),i=Fe(),a=B(55),r||19===I||27===I?jn(s,o,c,r,i,a,w.Diagnostics.or_expected):Kn(s,o,c,i,a)):t||n?Kn(e,t,n,Ne(71,!0,w.Diagnostics.Declaration_expected),void 0):void w.Debug.fail("Should not have attempted to parse class member declaration.")))}function Wn(e,t,n){return Qn(e,t,n,229)}function Qn(e,t,n,r){r=j(r,e);return r.decorators=t,r.modifiers=n,M(75),r.name=!D()||108===I&&E($e)?void 0:N(),r.typeParameters=lt(),r.heritageClauses=Yn(),M(17)?(r.members=He(5,Gn),M(18)):r.members=Ye(),T(z(r))}function Yn(){if(tr())return He(21,Xn)}function Xn(){var e,t=I;if(85===t||108===t)return(e=j(259)).token=t,C(),e.types=$(7,Zn),z(e)}function Zn(){var e=j(201);return e.expression=tn(),e.typeArguments=er(),z(e)}function er(){return 27===I?Xe(19,J,27,29):void 0}function tr(){return 85===I||108===I}function nr(){var e=j(264,O.getStartPos());return e.name=Fe(),e.initializer=d(zn),T(z(e))}function rr(){var e=j(234,O.getStartPos());return M(17)?(e.statements=He(1,x),M(18)):e.statements=Ye(),z(e)}function ir(e,t,n){e=j(233,e);return e.decorators=t,e.modifiers=n,141===I?(e.name=N(),e.flags|=512):(e.name=rt(),e.name.text=we(e.name.text)),17===I?e.body=rr():A(),z(e)}function ar(){return 19===C()}function sr(){return 41===C()}function or(){var e;return 9===I?((e=rt()).text=we(e.text),e):q()}function cr(e){var t=j(e);return t.elements=Xe(22,241===e?ur:lr,17,18),z(t)}function lr(){return dr(246)}function ur(){return dr(242)}function dr(e){var t=j(e),n=w.isKeyword(I)&&!D(),r=O.getTokenPos(),i=O.getTextPos(),a=Pe();return 118===I?(t.propertyName=a,M(118),n=w.isKeyword(I)&&!D(),r=O.getTokenPos(),i=O.getTextPos(),t.name=Pe()):t.name=a,242===e&&n&&F(r,i-r,w.Diagnostics.Identifier_expected),z(t)}function pr(e){var t=j(267,O.getTokenPos());if(M(17)||!e)return t.type=ge(1048576,J),M(18),ce(t),z(t)}function fr(d,e){var p=P;d=d||0;var f,_,m,g=void 0===e?p.length:d+e;e=g-d,w.Debug.assert(0<=d),w.Debug.assert(d<=g),w.Debug.assert(g<=p.length);var h,t,n,y=[];return n=d,47===(t=p).charCodeAt(n)&&42===t.charCodeAt(n+1)&&42===t.charCodeAt(n+2)&&42!==t.charCodeAt(n+3)&&O.scanRange(d+3,e-5,function(){var e,t=!0,n=1,r=void 0,i=d-Math.max(p.lastIndexOf("\n",d),0)+4;function a(e){r=r||i,y.push(e),i+=e.length}for(A();5===I;)A();for(4===I&&(i=n=0,A());1!==I;){switch(I){case 57:if(0===n||1===n){b(y);{s=void 0;c=void 0;l=void 0;o=void 0;var s=i;w.Debug.assert(57===I);var o,c=j(57,O.getTokenPos()),l=(c.end=O.getTextPos(),A(),N());if(x(),l){if(l)switch(l.escapedText){case"augments":case"extends":o=function(e,t){var n=j(277,e.pos);return n.atToken=e,n.tagName=t,n.class=(e=U(17),(t=j(201)).expression=function(){for(var e=N(!0);U(23);){var t=j(179,e.pos);t.expression=e,t.name=N(),e=z(t)}return e}(),t.typeArguments=er(),t=z(t),e&&M(18),t),z(n)}(c,l);break;case"class":case"constructor":o=function(e,t){var n=j(278,e.pos);return n.atToken=e,n.tagName=t,z(n)}(c,l);break;case"arg":case"argument":case"param":o=C(c,l,1);break;case"return":case"returns":o=function(e,t){w.forEach(f,function(e){return 280===e.kind})&&F(t.pos,O.getTokenPos()-t.pos,w.Diagnostics._0_tag_already_specified,t.escapedText);var n=j(280,e.pos);return n.atToken=e,n.tagName=t,n.typeExpression=S(),z(n)}(c,l);break;case"template":o=function(e,t){w.forEach(f,function(e){return 282===e.kind})&&F(t.pos,O.getTokenPos()-t.pos,w.Diagnostics._0_tag_already_specified,t.escapedText);for(var n=[],r=L();;){var i=N();if(x(),!i)return void F(O.getStartPos(),0,w.Diagnostics.Identifier_expected);var a=j(145,i.pos);if(a.name=i,z(a),n.push(a),26!==I)break;A(),x()}var s=j(282,e.pos);return s.atToken=e,s.tagName=t,s.typeParameters=K(n,r),z(s),s}(c,l);break;case"type":o=E(c,l);break;case"typedef":o=function(e,t){var n=S(),r=(x(),j(283,e.pos));if(r.atToken=e,r.tagName=t,r.fullName=function e(t){var n=O.getTokenPos(),r=N();if(r&&U(23))return(n=j(233,n)).flags|=t,n.name=r,n.body=e(4),z(n);return r&&4&t&&(r.isInJSDocNamespace=!0),r}(0),r.fullName)for(var i=r.fullName;;){if(71===i.kind||!i.body){r.name=71===i.kind?i:i.name;break}i=i.body}if(x(),!(r.typeExpression=n)||T(n.type)){for(var a,s=void 0,o=void 0,c=O.getStartPos();a=R(function(){return D(0)});)if(s=s||j(285,c),281===a.kind){if(o)break;o=a}else s.jsDocPropertyTags||(s.jsDocPropertyTags=[]),s.jsDocPropertyTags.push(a);s&&(n&&164===n.type.kind&&(s.isArrayType=!0),r.typeExpression=o&&o.typeExpression&&!T(o.typeExpression.type)?o.typeExpression:z(s))}return z(r)}(c,l);break;default:o=k(c,l)}else o=k(c,l);o&&function(e,t){e.comment=t.join(""),f?f.push(e):(f=[e],_=e.pos),m=e.end}(o,function(t){var n,e,r=[],i=0;function a(e){n=n||t,r.push(e),t+=e.length}for(;57!==I&&1!==I;){switch(I){case 4:1<=i&&(i=0,r.push(O.getTokenText())),t=0;break;case 57:break;case 5:2===i?a(O.getTokenText()):(e=O.getTokenText(),void 0!==n&&t+e.length>n&&r.push(e.slice(n-t-1)),t+=e.length);break;case 39:if(0===i){i=1,t+=O.getTokenText().length;break}default:i=2,a(O.getTokenText())}if(57===I)break;A()}return v(r),b(r),r}(s+o.end-o.pos))}}n=0,t=!1,r=void 0,i++}else a(O.getTokenText());break;case 4:y.push(O.getTokenText()),i=n=0;break;case 39:s=O.getTokenText();1===n||2===n?(n=2,a(s)):(n=1,i+=s.length);break;case 71:a(O.getTokenText()),n=2;break;case 5:var u=O.getTokenText();2===n?y.push(u):void 0!==r&&i+u.length>r&&y.push(u.slice(r-i-1)),i+=u.length;break;case 1:break;default:n=2,a(O.getTokenText())}t?A():t=!0}v(y),b(y),(e=j(275,d)).tags=f&&K(f,_,m),e.comment=y.length?y.join(""):void 0,h=z(e,g)}),h;function v(e){for(;e.length&&("\n"===e[0]||"\r"===e[0]);)e.shift()}function b(e){for(;e.length&&("\n"===e[e.length-1]||"\r"===e[e.length-1]);)e.pop()}function x(){for(;5===I||4===I;)A()}function k(e,t){var n=j(276,e.pos);return n.atToken=e,n.tagName=t,z(n)}function S(){return x(),17===I?pr():void 0}function T(e){switch(e.kind){case 134:return!0;case 164:return T(e.elementType);default:return w.isTypeReferenceNode(e)&&w.isIdentifier(e.typeName)&&"Object"===e.typeName.escapedText}}function C(e,t,n){var r=S(),i=!r,a=(x(),s=U(21),a=function(){var e=N(!0);for(U(21)&&M(22);U(23);){var t=N(!0);U(21)&&M(22),e=et(e,t)}return e}(),s&&(x(),B(58)&&q(),M(22)),{name:a,isBracketed:s}),s=a.name,a=a.isBracketed,n=(x(),i&&(r=S()),j(1===n?279:284,e.pos)),o=function(e,t){if(e&&T(e.type)){for(var n,r=j(267,O.getTokenPos()),i=void 0,a=O.getStartPos(),s=void 0;n=R(function(){return D(1,t)});)(s=s||[]).push(n);if(s)return(i=j(285,a)).jsDocPropertyTags=s,164===e.type.kind&&(i.isArrayType=!0),r.type=z(i),z(r)}}(r,s);return o&&(r=o,i=!0),n.atToken=e,n.tagName=t,n.typeExpression=r,n.name=s,n.isNameFirst=i,n.isBracketed=a,z(n)}function E(e,t){w.forEach(f,function(e){return 281===e.kind})&&F(t.pos,O.getTokenPos()-t.pos,w.Diagnostics._0_tag_already_specified,t.escapedText);var n=j(281,e.pos);return n.atToken=e,n.tagName=t,n.typeExpression=pr(!0),z(n)}function D(e,t){for(var n,r=!0,i=!1;;)switch(A(),I){case 57:if(r)return!((n=function(e){w.Debug.assert(57===I);var t=j(57,O.getStartPos()),n=(t.end=O.getTextPos(),A(),N());if(x(),n)switch(n.escapedText){case"type":return 0===e&&E(t,n);case"prop":case"property":return 0===e&&C(t,n,e);case"arg":case"argument":case"param":return 1===e&&C(t,n,e)}return!1}(e))&&279===n.kind&&(w.isIdentifier(n.name)||!function(e,t){for(;!w.isIdentifier(e)||!w.isIdentifier(t);){if(w.isIdentifier(e)||w.isIdentifier(t)||e.right.escapedText!==t.right.escapedText)return;e=e.left,t=t.left}return e.escapedText===t.escapedText}(t,n.name.left)))&&n;i=!1;break;case 4:i=!(r=!0);break;case 39:i&&(r=!1),i=!0;break;case 71:r=!1;break;case 1:return!1}}function A(){return I=O.scanJSDocToken()}function N(e){var t,n,r;return void 0===e&&(e=!1),w.tokenIsIdentifierOrKeyword(I)?(t=O.getTokenPos(),n=O.getTextPos(),(r=j(71,t)).escapedText=w.escapeLeadingUnderscores(p.substring(t,n)),z(r,n),A(),r):e?Ne(71,!0,w.Diagnostics.Identifier_expected):void ke(w.Diagnostics.Identifier_expected)}}w.createNode=function(e,t,n){return new(265===e?u=u||w.objectAllocator.getSourceFileConstructor():71===e?l=l||w.objectAllocator.getIdentifierConstructor():w.isNodeKind(e)?r=r||w.objectAllocator.getNodeConstructor():i=i||w.objectAllocator.getTokenConstructor())(e,t,n)},w.forEachChild=S,w.createSourceFile=function(e,t,n,r,i){void 0===r&&(r=!1),w.performance.mark("beforeParse");e=k.parseSourceFile(e,t,n,void 0,r,i);return w.performance.mark("afterParse"),w.performance.measure("Parse","beforeParse","afterParse"),e},w.parseIsolatedEntityName=function(e,t){return k.parseIsolatedEntityName(e,t)},w.parseJsonText=function(e,t){return k.parseJsonText(e,t)},w.isExternalModule=function(e){return void 0!==e.externalModuleIndicator},w.updateSourceFile=function(e,t,n,r){t=p.updateSourceFile(e,t,n,r);return t.flags|=524288&e.flags,t},w.parseIsolatedJSDocComment=function(e,t,n){e=k.JSDocParser.parseIsolatedJSDocComment(e,t,n);return e&&e.jsDoc&&k.fixupParentReferences(e.jsDoc),e},w.parseJSDocTypeExpressionForTests=function(e,t,n){return k.JSDocParser.parseJSDocTypeExpressionForTests(e,t,n)},e=k=k||{},O=w.createScanner(5,!0),s=!(X=10240),e.parseSourceFile=function(_,e,m,t,n,g){se(e,m,t,g=w.ensureScriptKind(_,g));e=function(e){(h=le(_,m,g)).flags=v,C();for(var t,n,r=h,i=w.createScanner(r.languageVersion,!1,0,P),a=[],s=[],o=[],c=void 0;;){var l=i.scan();if(2!==l){if(w.isTrivia(l))continue;break}var u,d,l={kind:i.getToken(),pos:i.getTokenPos(),end:i.getTextPos()},p=P.substring(l.pos,l.end),f=w.getFileReferenceFromReferencePath(p,l);f?(u=f.fileReference,r.hasNoDefaultLib=f.isNoDefaultLib,d=f.diagnosticMessage,u&&(f.isTypeReferenceDirective?s:a).push(u),d&&y.push(w.createFileDiagnostic(r,l.pos,l.end-l.pos,d))):((f=/^\/\/\/\s*<amd-module\s+name\s*=\s*('|")(.+?)\1/gim.exec(p))&&(t&&y.push(w.createFileDiagnostic(r,l.pos,l.end-l.pos,w.Diagnostics.An_AMD_module_cannot_have_multiple_name_assignments)),t=f[2]),/^\/\/\/\s*<amd-dependency\s/gim.exec(p)&&(u=/\spath\s*=\s*('|")(.+?)\1/gim.exec(p),d=/\sname\s*=\s*('|")(.+?)\1/gim.exec(p),u)&&(f={path:u[2],name:d?d[2]:void 0},o.push(f)),(f=/^\/\/\/?\s*(@ts-check|@ts-nocheck)\s*$/gim.exec(p))&&(c={enabled:0===w.compareStrings(f[1],"@ts-check",!0),end:l.end,pos:l.pos}))}return r.referencedFiles=a,r.typeReferenceDirectives=s,r.amdDependencies=o,r.moduleName=t,r.checkJsDirective=c,h.statements=He(0,x),w.Debug.assert(1===I),h.endOfFileToken=T(b()),(n=h).externalModuleIndicator=w.forEach(n.statements,function(e){return w.hasModifier(e,1)||237===e.kind&&248===e.moduleReference.kind||238===e.kind||243===e.kind||244===e.kind?e:void 0}),h.nodeCount=G,h.identifierCount=Q,h.identifiers=W,h.parseDiagnostics=y,e&&ce(h),h}(n);return oe(),e},e.parseIsolatedEntityName=function(e,t){se(e,t,void 0,1),C();e=Ze(!0),t=1===I&&!y.length;return oe(),t?e:void 0},e.parseJsonText=function(e,t){se(t,2,void 0,6);t=h=le(e,2,6);return C(),1===I?h.endOfFileToken=b():17===I||E(function(){return 9===I})?(t.jsonObject=_n(),h.endOfFileToken=De(1,!1,w.Diagnostics.Unexpected_token)):M(17),h.parseDiagnostics=y,oe(),t},e.fixupParentReferences=ce,(e=Y=e.JSDocParser||(e.JSDocParser={})).parseJSDocTypeExpressionForTests=function(e,t,n){se(e,5,void 0,1),h=le("file.js",5,1),O.setText(e,t,n),I=O.scan();e=pr(),t=y;return oe(),e?{jsDocTypeExpression:e,diagnostics:t}:void 0},e.parseJSDocTypeExpression=pr,e.parseIsolatedJSDocComment=function(e,t,n){se(e,5,void 0,1),h={languageVariant:0,text:e};e=fr(t,n),t=y;return oe(),e?{jsDoc:e,diagnostics:t}:void 0},e.parseJSDocComment=function(e,t,n){var r=I,i=y.length,a=s,t=fr(t,n);return t&&(t.parent=e),w.isInJavaScriptFile(e)&&(h.jsDocDiagnostics||(h.jsDocDiagnostics=[]),(n=h.jsDocDiagnostics).push.apply(n,y)),I=r,y.length=i,s=a,t},e.parseJSDocCommentWorker=fr,(p||(p={})).updateSourceFile=function(e,t,n,r){var i,a,s,o,c,l,u,d,p,f,_,m,g,h,y,v;return ie(e,t,n,r=r||w.Debug.shouldAssert(2)),w.textChangeRangeIsUnchanged(n)?e:0===e.statements.length?k.parseSourceFile(e.fileName,t,e.languageVersion,void 0,!0,e.scriptKind):(w.Debug.assert(!(p=e).hasBeenIncrementallyParsed),p.hasBeenIncrementallyParsed=!0,i=e.text,c=(o=e).statements,l=0,w.Debug.assert(l<c.length),u=c[l],d=-1,a={currentNode:function(e){return e!==d&&((u=u&&u.end===e&&l<c.length-1?c[++l]:u)&&u.pos===e||(a=e,l=-1,u=c=void 0,S(o,r,i))),d=e,w.Debug.assert(!u||u.pos===e),u;function r(e){return a>=e.pos&&a<e.end&&(S(e,r,i),!0)}function i(e){if(a>=e.pos&&a<e.end)for(var t=0;t<e.length;t++){var n=e[t];if(n){if(n.pos===a)return c=e,l=t,u=n,!0;if(n.pos<a&&a<n.end)return S(n,r,i),!0}}return!1}var a}},s=function(e,t){for(var n=t.span.start,r=0;0<n&&r<=1;r++)var i=re(e,n),i=(w.Debug.assert(i.pos<=n),i.pos),n=Math.max(0,i-1);var a=w.createTextSpanFromBounds(n,w.textSpanEnd(t.span)),t=t.newLength+(t.span.start-n);return w.createTextChangeRange(a,t)}(e,n),ie(e,t,s,r),w.Debug.assert(s.span.start<=n.span.start),w.Debug.assert(w.textSpanEnd(s.span)===w.textSpanEnd(n.span)),w.Debug.assert(w.textSpanEnd(w.textChangeRangeNewSpan(s))===w.textSpanEnd(w.textChangeRangeNewSpan(n))),n=w.textChangeRangeNewSpan(s).length-s.span.length,p=p,f=s.span.start,_=w.textSpanEnd(s.span),m=w.textSpanEnd(w.textChangeRangeNewSpan(s)),g=n,h=i,y=t,v=r,b(p),k.parseSourceFile(e.fileName,t,e.languageVersion,a,!0,e.scriptKind));function b(e){var t;w.Debug.assert(e.pos<=e.end),e.pos>_?Z(e,!1,g,h,y,v):(t=e.end,f<=t?(e.intersectsChange=!0,e._children=void 0,te(e,f,_,m,g),S(e,b,x),ne(e,v)):w.Debug.assert(t<f))}function x(e){if(w.Debug.assert(e.pos<=e.end),e.pos>_)Z(e,!0,g,h,y,v);else{var t=e.end;if(f<=t){e.intersectsChange=!0,e._children=void 0,te(e,f,_,m,g);for(var n=0,r=e;n<r.length;n++)b(r[n])}else w.Debug.assert(t<f)}}}}(ts=ts||{}),function(K){var e;function de(e){var t,n;return 230===e.kind||231===e.kind?0:K.isConstEnumDeclaration(e)?2:238!==e.kind&&237!==e.kind||K.hasModifier(e,1)?234===e.kind?(t=0,K.forEachChild(e,function(e){switch(de(e)){case 0:return!1;case 2:return!(t=2);case 1:return t=1,!0}}),t):233===e.kind?(n=e.body)?de(n):1:71===e.kind&&e.isInJSDocNamespace?0:1:0}(e=K.ModuleInstanceState||(K.ModuleInstanceState={}))[e.NonInstantiated=0]="NonInstantiated",e[e.Instantiated=1]="Instantiated",e[e.ConstEnumOnly=2]="ConstEnumOnly",K.getModuleInstanceState=de;Z={flags:1},ge={flags:1},ee=i=0;var z,$,pe,I,P,O,n,fe,J,q,V,H,G,W,Q,Y,X,_e,F,r,me,x,i,Z,ge,ee,a=function(e,t){z=e,$=t,pe=K.getEmitScriptTarget($),e=z,F=!(!(void 0===t.alwaysStrict?t.strict:t.alwaysStrict)||e.isDeclarationFile)||!!e.externalModuleIndicator,me=K.createUnderscoreEscapedMap(),i=0,x=z.isDeclarationFile,r=K.objectAllocator.getSymbolConstructor(),z.locals||(ue(z),z.symbolCount=i,z.classifiableNames=me),Y=W=G=H=V=q=J=n=O=P=I=pe=$=z=void 0,X=fe=!1,ee=_e=0};function te(e,t,n,r,i){return K.createDiagnosticForNodeInSourceFile(K.getSourceFileOfNode(e)||z,e,t,n,r,i)}function L(e,t){return i++,new r(e,t)}function he(e,t,n){e.flags|=n,(t.symbol=e).declarations?e.declarations.push(t):e.declarations=[t],1952&n&&!e.exports&&(e.exports=K.createSymbolTable()),6240&n&&!e.members&&(e.members=K.createSymbolTable()),107455&n&&((n=e.valueDeclaration)&&(n.kind===t.kind||233!==n.kind)||(e.valueDeclaration=t))}function ye(e){if(243===e.kind)return e.isExportEquals?"export=":"default";var t,n=K.getNameOfDeclaration(e);if(n)return K.isAmbientModule(e)?(t=K.getTextOfIdentifierOrLiteral(n),K.isGlobalScopeAugmentation(e)?"__global":'"'+t+'"'):144===n.kind?(t=n.expression,K.isStringOrNumericLiteral(t)?K.escapeLeadingUnderscores(t.text):(K.Debug.assert(K.isWellKnownSymbolSyntactically(t)),K.getPropertyNameForKnownSymbolName(K.idText(t.name)))):K.getEscapedTextOfIdentifierOrLiteral(n);switch(e.kind){case 152:return"__constructor";case 160:case 155:return"__call";case 161:case 156:return"__new";case 157:return"__index";case 244:return"__export";case 194:if(2===K.getSpecialPropertyAssignmentKind(e))return"export=";K.Debug.fail("Unknown binary declaration kind");break;case 228:case 229:return K.hasModifier(e,512)?"default":void 0;case 273:return K.isJSDocConstructSignature(e)?"__new":"__call";case 146:K.Debug.assert(273===e.parent.kind);var r=e.parent;return"arg"+K.indexOf(r.parameters,e);case 283:r=K.getNameOfJSDocTypedef(e);return void 0!==r?r.escapedText:void 0}}function u(e){return e.name?K.declarationNameToString(e.name):K.unescapeLeadingUnderscores(ye(e))}function R(e,t,n,r,i,a){K.Debug.assert(!K.hasDynamicName(n));var s,o,c=K.hasModifier(n,512),l=c&&t?"default":ye(n);if(void 0===l)s=L(0,"__missing");else if(s=e.get(l),788448&r&&me.set(l,!0),s){if(a&&!s.isReplaceableByMethod)return s;s.flags&i&&(s.isReplaceableByMethod?e.set(l,s=L(0,l)):(n.name&&(n.name.parent=n),o=2&s.flags?K.Diagnostics.Cannot_redeclare_block_scoped_variable_0:K.Diagnostics.Duplicate_identifier_0,s.declarations&&s.declarations.length&&(c||s.declarations&&s.declarations.length&&(c||243===n.kind&&!n.isExportEquals))&&(o=K.Diagnostics.A_module_cannot_have_multiple_default_exports),K.forEach(s.declarations,function(e){z.bindDiagnostics.push(te(K.getNameOfDeclaration(e)||e,o,u(e)))}),z.bindDiagnostics.push(te(K.getNameOfDeclaration(n)||n,o,u(n))),s=L(0,l)))}else e.set(l,s=L(0,l)),a&&(s.isReplaceableByMethod=!0);return he(s,n,r),s.parent=t,s}function s(e,t,n){var r=1&K.getCombinedModifierFlags(e);if(2097152&t)return 246===e.kind||237===e.kind&&r?R(P.symbol.exports,P.symbol,e,t,n):R(P.locals,void 0,e,t,n);283===e.kind&&K.Debug.assert(K.isInJavaScriptFile(e));var i=283===e.kind&&e.name&&71===e.name.kind&&e.name.isInJSDocNamespace;return!K.isAmbientModule(e)&&(r||32&P.flags)||i?((r=R(P.locals,void 0,e,107455&t?1048576:0,n)).exportSymbol=R(P.symbol.exports,P.symbol,e,t,n),e.localSymbol=r):R(P.locals,void 0,e,t,n)}function k(e){var t;x?o(e):536870912&e.transformFlags?(x=!0,o(e),x=!1,ee|=e.transformFlags&~m(e.kind)):(t=ee,ee=0,o(e),ee=t|T(e,ee))}function ve(e){if(void 0!==e)if(x)K.forEach(e,ue);else{for(var t=ee,n=ee=0,r=0,i=e;r<i.length;r++){var a=i[r];ue(a),n|=-536870913&a.transformFlags}e.transformFlags=536870912|n,ee|=t}}function ne(e){K.forEachChild(e,ue,ve)}function o(e){if(K.hasJSDocNodes(e))if(K.isInJavaScriptFile(e))for(var t=0,R=e.jsDoc;t<R.length;t++)ue(R[t]);else for(var n=0,M=e.jsDoc;n<M.length;n++)!function t(e,n){n.parent=e,K.forEachChild(n,function(e){return t(n,e)})}(e,M[n]);if(L=e,1&J.flags&&(J===Z&&(K.isStatementButNotDeclaration(L)&&209!==L.kind||229===L.kind||233===L.kind&&(1===(j=de(L))||2===j&&$.preserveConstEnums)||232===L.kind&&(!K.isConstEnumDeclaration(L)||$.preserveConstEnums))&&(J=ge,$.allowUnreachableCode||K.isInAmbientContext(L)||!(208!==L.kind||3&K.getCombinedNodeFlags(L.declarationList)||K.forEach(L.declarationList.declarations,function(e){return e.initializer}))||Pe(L,K.Diagnostics.Unreachable_code_detected)),1))ne(e);else switch(e.kind){case 213:I=e,P=be(),O=ie(),F=ie(),ae(P,J),J=P,oe(I.expression,O,F),J=se(O),Ce(I.statement,F,P),ae(P,J),J=se(F);break;case 212:O=be(),P=222===(I=e).parent.kind?K.lastOrUndefined(Y):void 0,F=P?P.continueTarget:ie(),P=P?P.breakTarget:ie(),ae(O,J),J=O,Ce(I.statement,P,F),ae(F,J),J=se(F),oe(I.expression,O,P),J=se(P);break;case 214:A=be(),N=ie(),w=ie(),ue((D=e).initializer),ae(A,J),J=A,oe(D.condition,N,w),J=se(N),Ce(D.statement,w,A),ue(D.incrementor),ae(A,J),J=se(w);break;case 215:case 216:N=e,D=be(),A=ie(),ae(D,J),J=D,216===N.kind&&ue(N.awaitModifier),ue(N.expression),ae(A,J),ue(N.initializer),227!==N.initializer.kind&&ce(N.initializer),Ce(N.statement,A,D),ae(D,J),J=se(A);break;case 211:w=ie(),C=ie(),E=ie(),oe((T=e).expression,w,C),J=se(w),ue(T.thenStatement),ae(E,J),J=se(C),ue(T.elseStatement),ae(E,J),J=se(E);break;case 219:case 223:ue((C=e).expression),219===C.kind&&(X=!0,H)&&ae(H,J),J=Z;break;case 218:case 217:ue((T=e).label),T.label?(E=function(e){if(Y)for(var t=0,n=Y;t<n.length;t++){var r=n[t];if(r.name===e)return r}}(T.label.escapedText))&&(E.referenced=!0,Ee(T,E.breakTarget,E.continueTarget)):Ee(T,q,V);break;case 224:b=ie(),x=J,ue((v=e).tryBlock),ae(b,J),k=J,S=Z,v.catchClause&&(J=x,ue(v.catchClause),ae(b,J),S=J),v.finallyBlock?(ae(b,x={flags:2048,antecedent:x,lock:{}}),J=se(b),ue(v.finallyBlock),1&J.flags||1&k.flags&&1&S.flags&&(J=k===ge||S===ge?ge:Z),1&J.flags||(v={flags:4096,antecedent:J},x.lock=v,J=v)):J=se(b);break;case 221:k=ie(),ue((S=e).expression),x=q,v=Q,q=k,Q=J,ue(S.caseBlock),ae(k,J),b=K.forEach(S.caseBlock.clauses,function(e){return 258===e.kind}),S.possiblyExhaustive=!b&&!k.antecedents,b||ae(k,xe(Q,S,0,0)),q=x,Q=v,J=se(k);break;case 235:var U=e,r=ee;ee=0;for(var i=U.clauses,B=Z,a=0;a<i.length;a++){for(var s=a;!i[a].statements.length&&a+1<i.length;)ue(i[a]),a++;var o=ie(),s=(ae(o,xe(Q,U.parent,s,a+1)),ae(o,B),J=se(o),i[a]);ue(s),1&(B=J).flags||a===i.length-1||!$.noFallthroughCasesInSwitch||Pe(s,K.Diagnostics.Fallthrough_case_in_switch)}i.transformFlags=536870912|ee,ee|=r;break;case 257:r=J,J=Q,ue((c=e).expression),J=r,ve(c.statements);break;case 222:var c=e,l=be(),u=ie();ue(c.label),ae(l,J),l={name:c.label.escapedText,breakTarget:u,continueTarget:l,referenced:!1},(Y=Y||[]).push(l),ue(c.statement),Y.pop(),l.referenced||$.allowUnusedLabels||z.bindDiagnostics.push(te(c.label,K.Diagnostics.Unused_label)),c.statement&&212===c.statement.kind||(ae(u,J),J=se(u));break;case 192:51===(l=e).operator?(u=G,G=W,W=u,ne(l),W=G,G=u):(ne(l),43!==l.operator&&44!==l.operator||ce(l.operand));break;case 193:ne(y=e),43!==y.operator&&44!==y.operator||ce(y.operand);break;case 194:53===(h=(y=e).operatorToken.kind)||54===h?!function(e){for(;185===e.parent.kind||192===e.parent.kind&&51===e.parent.operator;)e=e.parent;return!function(e){var t=e.parent;switch(t.kind){case 211:case 213:case 212:return t.expression===e;case 214:case 195:return t.condition===e}}(e)&&!Te(e.parent)}(y)?De(y,G,W):(De(y,g=ie(),g),J=se(g)):(ne(y),K.isAssignmentOperator(h)&&!K.isAssignmentTarget(y)&&(ce(y.left),58===h)&&180===y.left.kind&&re(y.left.expression)&&(J=Se(J,y)));break;case 188:ne(g=e),179===g.expression.kind&&ce(g.expression);break;case 195:h=ie(),_=ie(),m=ie(),oe((d=e).condition,h,_),J=se(h),ue(d.questionToken),ue(d.whenTrue),ae(m,J),J=se(_),ue(d.colonToken),ue(d.whenFalse),ae(m,J),J=se(m);break;case 226:ne(_=e),(_.initializer||K.isForInOrOfStatement(_.parent.parent))&&function e(t){var n=K.isOmittedExpression(t)?void 0:t.name;if(K.isBindingPattern(n))for(var r=0,i=n.elements;r<i.length;r++)e(i[r]);else J=ke(J,t)}(_);break;case 181:for(var d=e,p=d.expression;185===p.kind;)p=p.expression;186===p.kind||187===p.kind?(ve(d.typeArguments),ve(d.arguments),ue(d.expression)):ne(d),179===d.expression.kind&&re((m=d.expression).expression)&&K.isPushOrUnshiftIdentifier(m.name)&&(J=Se(J,d));break;case 275:K.forEachChild(e,function(e){283!==e.kind&&ue(e)});break;case 283:f=e,K.forEachChild(f,function(e){f.fullName&&e===f.name&&71!==f.fullName.kind||ue(e)});break;default:ne(e)}var f,d,_,m,g,h,y,c,v,b,x,k,S,T,C,E,D,A,N,w,I,P,O,F,L,j}function c(e){switch(e.kind){case 71:case 99:case 179:return M(e);case 181:var t=e;if(t.arguments)for(var n=0,r=t.arguments;n<r.length;n++)if(M(r[n]))return!0;return!(179!==t.expression.kind||!M(t.expression.expression));case 185:return c(e.expression);case 194:var i=e;switch(i.operatorToken.kind){case 58:return M(i.left);case 32:case 33:case 34:case 35:return re(i.left)||re(i.right)||l(i.right,i.left)||l(i.left,i.right);case 93:return re(i.left);case 26:return c(i.right)}return!1;case 192:return 51===e.operator&&c(e.operand)}return!1}function M(e){return 71===e.kind||99===e.kind||97===e.kind||179===e.kind&&M(e.expression)}function l(e,t){return 189===e.kind&&re(e.expression)&&9===t.kind}function re(e){switch(e.kind){case 185:return re(e.expression);case 194:switch(e.operatorToken.kind){case 58:return re(e.left);case 26:return re(e.right)}}return M(e)}function ie(){return{flags:4,antecedents:void 0}}function be(){return{flags:8,antecedents:void 0}}function d(e){e.flags|=512&e.flags?1024:512}function ae(e,t){1&t.flags||K.contains(e.antecedents,t)||((e.antecedents||(e.antecedents=[])).push(t),d(t))}function p(e,t,n){return 1&t.flags?t:n?101===n.kind&&64&e||86===n.kind&&32&e?Z:c(n)?(d(t),{flags:e,expression:n,antecedent:t}):t:32&e?t:Z}function xe(e,t,n,r){return c(t.expression)?(d(e),{flags:128,switchStatement:t,clauseStart:n,clauseEnd:r,antecedent:e}):e}function ke(e,t){return d(e),{flags:16,antecedent:e,node:t}}function Se(e,t){return d(e),{flags:256,antecedent:e,node:t}}function se(e){var t=e.antecedents;return t?1===t.length?t[0]:e:Z}function Te(e){for(;;)if(185===e.kind)e=e.expression;else{if(192!==e.kind||51!==e.operator)return 194===e.kind&&(53===e.operatorToken.kind||54===e.operatorToken.kind);e=e.operand}}function oe(e,t,n){var r=G,i=W;G=t,W=n,ue(e),G=r,W=i,e&&Te(e)||(ae(t,p(32,J,e)),ae(n,p(64,J,e)))}function Ce(e,t,n){var r=q,i=V;q=t,V=n,ue(e),q=r,V=i}function Ee(e,t,n){e=218===e.kind?t:n;e&&(ae(e,J),J=Z)}function f(e){194===e.kind&&58===e.operatorToken.kind?ce(e.left):ce(e)}function ce(e){if(M(e))J=ke(J,e);else if(177===e.kind)for(var t=0,n=e.elements;t<n.length;t++){var r=n[t];198===r.kind?ce(r.expression):f(r)}else if(178===e.kind)for(var i=0,a=e.properties;i<a.length;i++){var s=a[i];261===s.kind?f(s.initializer):262===s.kind?ce(s.name):263===s.kind&&ce(s.expression)}}function De(e,t,n){var r={flags:4,antecedents:void 0};53===e.operatorToken.kind?oe(e.left,r,n):oe(e.left,t,r),J=se(r),ue(e.operatorToken),oe(e.right,t,n)}function S(e){n&&(n.nextContainer=e),n=e}function U(e,t,n){switch(P.kind){case 233:return s(e,t,n);case 265:return r=e,i=t,a=n,K.isExternalModule(z)?s(r,i,a):R(z.locals,void 0,r,i,a);case 199:case 229:return r=e,i=t,a=n,K.hasModifier(r,32)?R(P.symbol.exports,P.symbol,r,i,a):R(P.symbol.members,P.symbol,r,i,a);case 232:return R(P.symbol.exports,P.symbol,e,t,n);case 163:case 285:case 178:case 230:case 254:return R(P.symbol.members,P.symbol,e,t,n);case 160:case 161:case 155:case 156:case 157:case 151:case 150:case 152:case 153:case 154:case 228:case 186:case 187:case 273:case 231:case 172:return R(P.locals,void 0,e,t,n)}var r,i,a}function Ae(i){K.isInAmbientContext(i)&&!function(){var e=265===i.kind?i:i.body;if(e&&(265===e.kind||234===e.kind))for(var t=0,n=e.statements;t<n.length;t++){var r=n[t];if(244===r.kind||243===r.kind)return 1}}()?i.flags|=32:i.flags&=-33}function Ne(e){var t=de(e),n=0!==t;return U(e,n?512:1024,n?106639:0),t}function B(e,t,n){n=L(t,n);8&t&&(n.parent=P.symbol),he(n,e,t)}function j(e,t,n){switch(O.kind){case 233:s(e,t,n);break;case 265:if(K.isExternalModule(P)){s(e,t,n);break}default:O.locals||(O.locals=K.createSymbolTable(),S(O)),R(O.locals,void 0,e,t,n)}}function we(e){!(F&&108<=e.originalKeywordKind&&e.originalKeywordKind<=116)||K.isIdentifierName(e)||K.isInAmbientContext(e)||z.parseDiagnostics.length||z.bindDiagnostics.push(te(e,K.getContainingClass(e)?K.Diagnostics.Identifier_expected_0_is_a_reserved_word_in_strict_mode_Class_definitions_are_automatically_in_strict_mode:z.externalModuleIndicator?K.Diagnostics.Identifier_expected_0_is_a_reserved_word_in_strict_mode_Modules_are_automatically_in_strict_mode:K.Diagnostics.Identifier_expected_0_is_a_reserved_word_in_strict_mode,K.declarationNameToString(e)))}function le(e,t){var n,r;t&&71===t.kind&&K.isIdentifier(r=n=t)&&("eval"===r.escapedText||"arguments"===r.escapedText)&&(r=K.getErrorSpanForNode(z,t),z.bindDiagnostics.push(K.createFileDiagnostic(z,r.start,r.length,K.getContainingClass(e)?K.Diagnostics.Invalid_use_of_0_Class_definitions_are_automatically_in_strict_mode:z.externalModuleIndicator?K.Diagnostics.Invalid_use_of_0_Modules_are_automatically_in_strict_mode:K.Diagnostics.Invalid_use_of_0_in_strict_mode,K.idText(n))))}function Ie(e){F&&le(e,e.name)}function Pe(e,t,n,r,i){e=K.getSpanOfTokenAtPosition(z,e.pos);z.bindDiagnostics.push(K.createFileDiagnostic(z,e.start,e.length,t,n,r,i))}function ue(e){if(e){e.parent=I;var t=F;if(K.isInJavaScriptFile(e)){var n=e;if(K.hasJSDocNodes(n))for(var r=0,i=n.jsDoc;r<i.length;r++){var a=i[r];if(a.tags)for(var s=0,o=a.tags;s<o.length;s++){var c,l=o[s];283===l.kind&&(c=I,I=a,ue(l),I=c)}}}(function(e){switch(e.kind){case 71:if(e.isInJSDocNamespace){for(var t=e.parent;t&&283!==t.kind;)t=t.parent;j(t,524288,793064);break}case 99:return J&&(K.isExpression(e)||262===I.kind)&&(e.flowNode=J),we(e);case 179:J&&M(e)&&(e.flowNode=J);break;case 194:switch(K.getSpecialPropertyAssignmentKind(e)){case 1:Re(e);break;case 2:N=e,w=K.getRightMostAssignedExpression(N.right),K.isEmptyObjectLiteral(w)||Me(w)?Le(N):(Le(N),R(z.symbol.exports,z.symbol,N,1049092,0));break;case 3:w=e.left,N=w.expression,A=N.expression,w.parent=e,(A.parent=N).parent=w,Be(A.escapedText,w,!0);break;case 4:var n=e,r=(K.Debug.assert(K.isInJavaScriptFile(n)),K.getThisContainer(n,!1));switch(r.kind){case 228:case 186:r.symbol.members=r.symbol.members||K.createSymbolTable(),R(r.symbol.members,r.symbol,n,4,0);break;case 152:case 149:case 151:case 153:case 154:var i=r.parent;R(K.hasModifier(r,32)?i.symbol.exports:i.symbol.members,i.symbol,n,4,0,!0)}break;case 5:E=(A=e).left,D=E.expression,K.isIdentifier(D)&&(E.parent=A,D.parent=E,Ue(D)?Re(A):Be(D.escapedText,E,!1));break;case 0:break;default:K.Debug.fail("Unknown special property assignment kind")}return C=e,F&&K.isLeftHandSideExpression(C.left)&&K.isAssignmentOperator(C.operatorToken.kind)&&le(C,C.left);case 260:return F&&e.variableDeclaration&&le(e,e.variableDeclaration.name);case 188:return F&&71===e.expression.kind&&(C=K.getErrorSpanForNode(z,e.expression),z.bindDiagnostics.push(K.createFileDiagnostic(z,C.start,C.length,K.Diagnostics.delete_cannot_be_called_on_an_identifier_in_strict_mode)));case 8:return F&&4&e.numericLiteralFlags&&z.bindDiagnostics.push(te(e,K.Diagnostics.Octal_literals_are_not_allowed_in_strict_mode));case 193:return F&&le(e,e.operand);case 192:return!F||43!==e.operator&&44!==e.operator||le(e,e.operand);case 220:return F&&Pe(e,K.Diagnostics.with_statements_are_not_allowed_in_strict_mode);case 169:return fe=!0;case 158:return S=e.parameterName,T=e.type,S&&71===S.kind&&we(S),S&&169===S.kind&&(fe=!0),ue(T);case 145:return U(e,262144,530920);case 146:return S=e,F&&!K.isInAmbientContext(S)&&le(S,S.name),K.isBindingPattern(S.name)?B(S,1,"__"+K.indexOf(S.parent.parameters,S)):U(S,1,107455),K.isParameterPropertyDeclaration(S)&&R((T=S.parent.parent).symbol.members,T.symbol,S,4|(S.questionToken?16777216:0),0);case 226:return je(e);case 176:return e.flowNode=J,je(e);case 149:case 148:return Ke(e,4|(e.questionToken?16777216:0),0);case 261:case 262:return Ke(e,4,0);case 264:return Ke(e,8,900095);case 155:case 156:case 157:return U(e,131072,0);case 151:case 150:return Ke(e,8192|(e.questionToken?16777216:0),K.isObjectLiteralMethod(e)?0:99263);case 228:return b=e,z.isDeclarationFile||K.isInAmbientContext(b)||K.isAsyncFunction(b)&&(_e|=1024),Ie(b),(F?(x=b,pe<2&&265!==O.kind&&233!==O.kind&&!K.isFunctionLike(O)&&(k=K.getErrorSpanForNode(z,x),z.bindDiagnostics.push(K.createFileDiagnostic(z,k.start,k.length,K.getContainingClass(x)?K.Diagnostics.Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_Class_definitions_are_automatically_in_strict_mode:z.externalModuleIndicator?K.Diagnostics.Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5_Modules_are_automatically_in_strict_mode:K.Diagnostics.Function_declarations_are_not_allowed_inside_blocks_in_strict_mode_when_targeting_ES3_or_ES5))),j):U)(b,16,106927);case 152:return U(e,16384,0);case 153:return Ke(e,32768,41919);case 154:return Ke(e,65536,74687);case 160:case 273:case 161:return he(x=L(131072,ye(k=e)),k,131072),he(b=L(2048,"__type"),k,2048),b.members=K.createSymbolTable(),b.members.set(x.escapedName,x);case 163:case 285:case 172:return B(e,2048,"__type");case 178:var a=e;if(F)for(var s=K.createUnderscoreEscapedMap(),o=0,c=a.properties;o<c.length;o++){var l,u,d=c[o];263!==d.kind&&71===d.name.kind&&(l=d.name,d=261===d.kind||262===d.kind||151===d.kind?1:2,(u=s.get(l.escapedText))?1==d&&1===u&&(u=K.getErrorSpanForNode(z,l),z.bindDiagnostics.push(K.createFileDiagnostic(z,u.start,u.length,K.Diagnostics.An_object_literal_cannot_have_multiple_properties_with_the_same_name_in_strict_mode))):s.set(l.escapedText,d))}return B(a,4096,"__object");case 186:case 187:return a=e,z.isDeclarationFile||K.isInAmbientContext(a)||K.isAsyncFunction(a)&&(_e|=1024),J&&(a.flowNode=J),Ie(a),v=a.name?a.name.escapedText:"__function",B(a,16,v);case 181:K.isInJavaScriptFile(e)&&(v=e,!z.commonJsModuleIndicator)&&K.isRequireCall(v,!1)&&Le(v);break;case 199:case 229:return F=!0,229===(m=e).kind?j(m,32,899519):(B(m,32,m.name?m.name.escapedText:"__class"),m.name&&me.set(m.name.escapedText,!0)),g=m.symbol,h=L(4194308,"prototype"),(y=g.exports.get(h.escapedName))&&(m.name&&(m.name.parent=m),z.bindDiagnostics.push(te(y.declarations[0],K.Diagnostics.Duplicate_identifier_0,K.symbolName(h)))),g.exports.set(h.escapedName,h),h.parent=g;case 230:return j(e,64,792968);case 231:return j(e,524288,793064);case 232:return m=e,K.isConst(m)?j(m,128,899967):j(m,256,899327);case 233:return Ae(y=e),K.isAmbientModule(y)?(K.hasModifier(y,1)&&Pe(y,K.Diagnostics.export_modifier_cannot_be_applied_to_ambient_modules_and_module_augmentations_since_they_are_always_visible),K.isExternalModuleAugmentation(y)?Ne(y):(f=void 0,9===y.name.kind&&(_=y.name.text,K.hasZeroOrOneAsteriskCharacter(_)?f=K.tryParsePattern(_):Pe(y.name,K.Diagnostics.Pattern_0_can_have_at_most_one_Asterisk_character,_)),_=U(y,512,106639),f&&(z.patternAmbientModules||(z.patternAmbientModules=[])).push({pattern:f,symbol:_}))):0!==(f=Ne(y))&&(304&y.symbol.flags?y.symbol.constEnumOnlyModule=!1:(_=2===f,void 0===y.symbol.constEnumOnlyModule?y.symbol.constEnumOnlyModule=_:y.symbol.constEnumOnlyModule=y.symbol.constEnumOnlyModule&&_));case 254:return B(e,4096,"__jsxAttributes");case 253:return U(e,4,0);case 237:case 240:case 242:case 246:return U(e,2097152,2097152);case 236:return(h=e).modifiers&&h.modifiers.length&&z.bindDiagnostics.push(te(h,K.Diagnostics.Modifiers_cannot_appear_here)),265!==h.parent.kind?z.bindDiagnostics.push(te(h,K.Diagnostics.Global_module_exports_may_only_appear_at_top_level)):(g=h.parent,K.isExternalModule(g)?g.isDeclarationFile?(z.symbol.globalExports=z.symbol.globalExports||K.createSymbolTable(),R(z.symbol.globalExports,z.symbol,h,2097152,2097152)):z.bindDiagnostics.push(te(h,K.Diagnostics.Global_module_exports_may_only_appear_in_declaration_files)):z.bindDiagnostics.push(te(h,K.Diagnostics.Global_module_exports_may_only_appear_in_module_files)));case 239:return e.name&&U(e,2097152,2097152);case 244:return f=e,P.symbol&&P.symbol.exports?f.exportClause||R(P.symbol.exports,P.symbol,f,8388608,0):B(f,8388608,ye(f));case 243:return _=e,P.symbol&&P.symbol.exports?(p=243===_.kind&&K.exportAssignmentIsAlias(_)?2097152:4,R(P.symbol.exports,P.symbol,_,p,2097204)):B(_,2097152,ye(_));case 265:return Oe(e.statements),Ae(z),K.isExternalModule(z)&&Fe();case 207:if(!K.isFunctionLike(e.parent))return;case 234:return Oe(e.statements);case 279:if(285!==e.parent.kind)break;case 284:return U(e,e.isBracketed||e.typeExpression&&272===e.typeExpression.type.kind?16777220:4,0);case 283:p=e.fullName;p&&71!==p.kind||j(e,524288,793064)}var p,f,_,m,g,h,y,v,b,x,k,S,T,C,E,D,A,N,w})(e),142<e.kind?(n=I,0===(d=function(e){switch(e.kind){case 199:case 229:case 232:case 178:case 163:case 285:case 254:return 1;case 230:return 65;case 233:case 231:case 172:return 33;case 265:return 37;case 151:if(K.isObjectLiteralOrClassExpressionMethod(e))return 173;case 152:case 228:case 150:case 153:case 154:case 155:case 273:case 160:case 156:case 157:case 161:return 45;case 186:case 187:return 61;case 234:return 4;case 149:return e.initializer?4:0;case 260:case 214:case 215:case 216:case 235:return 2;case 207:return K.isFunctionLike(e.parent)?0:2}return 0}(I=e))?k(e):(u=e,v=P,b=O,1&(d=d)?(P=O=u,32&d&&(P.locals=K.createSymbolTable()),S(P)):2&d&&((O=u).locals=void 0),4&d?(p=J,f=q,_=V,m=H,g=Y,h=X,y=16&d&&!K.hasModifier(u,256)&&!!K.getImmediatelyInvokedFunctionExpression(u),H=y?{flags:4,antecedents:void 0}:(J={flags:2},void(144&d&&(J.container=u))),Y=V=q=void 0,X=!1,k(u),u.flags&=-1409,!(1&J.flags)&&8&d&&K.nodeIsPresent(u.body)&&(u.flags|=128,X)&&(u.flags|=256),265===u.kind&&(u.flags|=_e),J=y?(ae(H,J),se(H)):p,q=f,V=_,H=m,Y=g,X=h):64&d?(fe=!1,k(u),u.flags=fe?64|u.flags:-65&u.flags):k(u),P=v,O=b),I=n):x||0!=(536870912&e.transformFlags)||(ee|=T(e,0)),F=t}var u,d,p,f,_,m,g,h,y,v,b}function Oe(e){if(!F)for(var t=0,n=e;t<n.length;t++){var r=n[t];if(!K.isPrologueDirective(r))return;if('"use strict"'===(r=K.getTextOfNodeFromSourceText(z.text,r.expression))||"'use strict'"===r)return void(F=!0)}}function Fe(){B(z,512,'"'+K.removeFileExtension(z.fileName)+'"')}function Le(e){z.commonJsModuleIndicator||(z.commonJsModuleIndicator=e,z.externalModuleIndicator)||Fe()}function Re(e){Le(e),R(z.symbol.exports,z.symbol,e.left,1048580,0)}function Me(e){return K.isExportsIdentifier(e)||K.isModuleExportsPropertyAccessExpression(e)||K.isIdentifier(e)&&Ue(e)}function Ue(e){e=_(e.escapedText);return e&&e.valueDeclaration&&K.isVariableDeclaration(e.valueDeclaration)&&e.valueDeclaration.initializer&&function e(t){return Me(t)||K.isAssignmentExpression(t,!0)&&(e(t.left)||e(t.right))}(e.valueDeclaration.initializer)}function _(e){return P.symbol&&P.symbol.exports&&P.symbol.exports.get(e)||P.locals&&P.locals.get(e)}function Be(e,t,n){e=_(e);(e=e&&K.isDeclarationOfFunctionOrClassExpression(e)?e.valueDeclaration.initializer.symbol:e)&&48&e.flags&&R(n?e.members||(e.members=K.createSymbolTable()):e.exports||(e.exports=K.createSymbolTable()),e,t,4,0)}function je(e){F&&le(e,e.name),K.isBindingPattern(e.name)||(K.isBlockOrCatchScoped(e)?j(e,2,107455):K.isParameterDeclaration(e)?U(e,1,107455):U(e,1,107454))}function Ke(e,t,n){return z.isDeclarationFile||K.isInAmbientContext(e)||!K.isAsyncFunction(e)||(_e|=1024),J&&K.isObjectLiteralOrClassExpressionMethod(e)&&(e.flowNode=J),K.hasDynamicName(e)?B(e,t,"__computed"):U(e,t,n)}function T(e,t){var R,n,r,i,a,s,o,c,l,u,d,p,f,_,m,g,h,y,v,b,x,k,S,T,C,E,D,A,N,w,M,U=e.kind;switch(U){case 181:return N=A=t,w=(D=e).expression,M=w.kind,D.typeArguments&&(N|=3),(524288&A||function(e){switch(M){case 97:return 1;case 179:case 180:return 97===e.expression.kind}}(w))&&(N|=192),91===w.kind&&(N|=67108864,16384&A)&&(N|=32768),D.transformFlags=536870912|N,-537396546&N;case 182:return w=t,e.typeArguments&&(w|=3),524288&t&&(w|=192),e.transformFlags=536870912|w,-537396546&w;case 233:return A=e,D=t,N=3,0==(2&K.getModifierFlags(A))&&(N|=D),A.transformFlags=536870912|N,-574674242&N;case 185:return T=t,C=e.expression,202!==(E=C.kind)&&184!==E||(T|=3),1024&C.transformFlags&&(T|=1024),e.transformFlags=536870912|T,-536872258&T;case 194:return E=t,C=e.operatorToken.kind,T=e.left.kind,58===C&&178===T?E|=3272:58===C&&177===T?E|=3264:40!==C&&62!==C||(E|=32),e.transformFlags=536870912|E,-536872258&E;case 210:return S=t,1024&e.expression.transformFlags&&(S|=192),e.transformFlags=536870912|S,-536872258&S;case 146:return v=S=t,b=(y=e).name,x=y.initializer,k=y.dotDotDotToken,(y.questionToken||y.type||4096&S||K.isThisIdentifier(b))&&(v|=3),K.hasModifier(y,92)&&(v|=262147),1048576&S&&(v|=8),(8388608&S||x||k)&&(v|=131264),y.transformFlags=536870912|v,-536872258&v;case 187:return b=e,k=192|(x=t),(K.hasModifier(b,2270)||b.typeParameters||b.type)&&(k|=3),K.hasModifier(b,256)&&(k|=16),1048576&x&&(k|=8),16384&x&&(k|=32768),b.transformFlags=536870912|k,-601249090&k;case 186:return y=e,h=v=t,(K.hasModifier(y,2270)||y.typeParameters||y.type)&&(h|=3),K.hasModifier(y,256)&&(h|=y.asteriskToken?8:16),1048576&v&&(h|=8),163840&v&&(h|=192),y.asteriskToken&&(h|=768),y.transformFlags=536870912|h,-601281858&h;case 228:return h=e,_=t,g=K.getModifierFlags(h),!h.body||2&g?m=3:(m=33554432|_,(2270&g||h.typeParameters||h.type)&&(m|=3),256&g&&(m|=h.asteriskToken?8:16),1048576&_&&(m|=8),163840&_&&(m|=192),h.asteriskToken&&(m|=768)),h.transformFlags=536870912|m,-601281858&m;case 226:return g=t,g|=8388800,1048576&t&&(g|=8),e.type&&(g|=3),e.transformFlags=536870912|g,-536872258&g;case 227:return _=33554432|t,8388608&t&&(_|=192),3&e.flags&&(_|=4194496),e.transformFlags=536870912|_,-546309442&_;case 208:return m=t,f=(d=e).declarationList.transformFlags,K.hasModifier(d,2)?p=3:(p=m,8388608&f&&(p|=192)),d.transformFlags=536870912|p,-536872258&p;case 222:return f=e,4194304&(d=t)&&K.isIterationStatement(f,!0)&&(d|=192),f.transformFlags=536870912|d,-536872258&d;case 229:return p=e,l=t,K.hasModifier(p,2)?u=3:(u=192|l,(274432&l||p.typeParameters)&&(u|=3),65536&l&&(u|=16384)),p.transformFlags=536870912|u,-539358530&u;case 199:return l=e,u=192|t,(274432&t||l.typeParameters)&&(u|=3),65536&t&&(u|=16384),l.transformFlags=536870912|u,-539358530&u;case 259:var I=e,B=t;switch(I.token){case 85:B|=192;break;case 108:B|=3;break;default:K.Debug.fail("Unexpected token for heritage clause")}return I.transformFlags=536870912|B,-536872258&B;case 260:return I=t,(c=e).variableDeclaration?K.isBindingPattern(c.variableDeclaration.name)&&(I|=192):I|=8,c.transformFlags=536870912|I,-537920834&I;case 201:return c=192|t,e.typeArguments&&(c|=3),e.transformFlags=536870912|c,-536872258&c;case 152:return a=e,o=s=t,!K.hasModifier(a,2270)&&a.body||(o|=3),1048576&s&&(o|=8),a.transformFlags=536870912|o,-601015618&o;case 149:return s=3|t,e.initializer&&(s|=8192),e.transformFlags=536870912|s,-536872258&s;case 151:return o=192|(a=t),((i=e).decorators||K.hasModifier(i,2270)||i.typeParameters||i.type||!i.body)&&(o|=3),1048576&a&&(o|=8),K.hasModifier(i,256)&&(o|=i.asteriskToken?8:16),i.asteriskToken&&(o|=768),i.transformFlags=536870912|o,-601015618&o;case 153:case 154:return r=i=t,((n=e).decorators||K.hasModifier(n,2270)||n.type||!n.body)&&(r|=3),1048576&i&&(r|=8),n.transformFlags=536870912|r,-601015618&r;case 237:return n=e,r=t,K.isExternalModuleImportEqualsDeclaration(n)||(r|=3),n.transformFlags=536870912|r,-536872258&r;case 179:return R=t,97===e.expression.kind&&(R|=16384),e.transformFlags=536870912|R,-536872258&R;default:var P=e,O=t,F=O,L=536872257;switch(U){case 120:case 191:F|=24;break;case 114:case 112:case 113:case 117:case 124:case 76:case 232:case 264:case 184:case 202:case 203:case 131:F|=3;break;case 249:case 250:case 251:case 10:case 252:case 253:case 254:case 255:case 256:F|=4;break;case 13:case 14:case 15:case 16:case 196:case 183:case 262:case 115:case 204:F|=192;break;case 9:P.hasExtendedUnicodeEscape&&(F|=192);break;case 8:48&P.numericLiteralFlags&&(F|=192);break;case 216:P.awaitModifier&&(F|=8),F|=192;break;case 197:F|=16777416;break;case 119:case 133:case 130:case 134:case 136:case 122:case 137:case 105:case 145:case 148:case 150:case 155:case 156:case 157:case 158:case 159:case 160:case 161:case 162:case 163:case 164:case 165:case 166:case 167:case 168:case 230:case 231:case 169:case 170:case 171:case 172:case 173:case 236:L=-(F=3);break;case 144:F|=2097152,16384&O&&(F|=65536);break;case 198:F|=524480;break;case 263:F|=1048584;break;case 97:F|=192;break;case 99:F|=16384;break;case 174:F|=8388800,524288&O&&(F|=1048584),L=537396545;break;case 175:F|=8388800,L=537396545;break;case 176:F|=192,P.dotDotDotToken&&(F|=524288);break;case 147:F|=4099;break;case 178:L=540087617,2097152&O&&(F|=192),65536&O&&(F|=16384),1048576&O&&(F|=8);break;case 177:case 182:L=537396545,524288&O&&(F|=192);break;case 212:case 213:case 214:case 215:4194304&O&&(F|=192);break;case 265:32768&O&&(F|=192);break;case 219:case 217:case 218:F|=33554432}return P.transformFlags=536870912|F,F&~L}}function m(e){if(158<=e&&e<=173)return-3;switch(e){case 181:case 182:case 177:return 537396545;case 233:return 574674241;case 146:return 536872257;case 187:return 601249089;case 186:case 228:return 601281857;case 227:return 546309441;case 229:case 199:return 539358529;case 152:return 601015617;case 151:case 153:case 154:return 601015617;case 119:case 133:case 130:case 136:case 134:case 122:case 137:case 105:case 145:case 148:case 150:case 155:case 156:case 157:case 230:case 231:return-3;case 178:return 540087617;case 260:return 537920833;case 174:case 175:return 537396545;default:return 536872257}}K.bindSourceFile=function(e,t){K.performance.mark("beforeBind"),a(e,t),K.performance.mark("afterBind"),K.performance.measure("Bind","beforeBind","afterBind")},K.computeTransformFlagsForNode=T,K.getTransformFlagsSubtreeExclusions=m}(ts=ts||{}),function(y){y.createGetSymbolWalker=function(i,u,d,p,f,_,m,g,h){return function(n){void 0===n&&(n=function(){return!0});var a=[],r=[];return{walkType:function(e){try{return o(e),{visitedTypes:y.getOwnValues(a),visitedSymbols:y.getOwnValues(r)}}finally{y.clear(a),y.clear(r)}},walkSymbol:function(e){try{return l(e),{visitedTypes:y.getOwnValues(a),visitedSymbols:y.getOwnValues(r)}}finally{y.clear(a),y.clear(r)}}};function o(e){var t,n,r,i;!e||a[e.id]||l((a[e.id]=e).symbol)||(32768&e.flags&&(4&(n=(t=e).objectFlags)&&(o((i=e).target),y.forEach(i.typeArguments,o)),32&n&&(o((i=e).typeParameter),o(i.constraintType),o(i.templateType),o(i.modifiersType)),3&n&&(s(r=e),y.forEach(r.typeParameters,o),y.forEach(d(r),o),o(r.thisType)),24&n)&&s(t),16384&e.flags&&o(g(e)),196608&e.flags&&y.forEach(e.types,o),262144&e.flags&&o(e.type),524288&e.flags&&(o((r=e).objectType),o(r.indexType),o(r.constraint)))}function c(e){e.typePredicate&&o(e.typePredicate.type),y.forEach(e.typeParameters,o);for(var t=0,n=e.parameters;t<n.length;t++)l(n[t]);o(i(e)),o(u(e))}function s(e){o(m(e,0)),o(m(e,1));for(var e=p(e),t=0,n=e.callSignatures;t<n.length;t++)c(n[t]);for(var r=0,i=e.constructSignatures;r<i.length;r++)c(i[r]);for(var a=0,s=e.properties;a<s.length;a++)l(s[a])}function l(e){if(e){var t=y.getSymbolId(e);if(!r[t]){if(r[t]=e,!n(e))return!0;o(f(e)),1952&e.flags&&e.exports.forEach(l),y.forEach(e.declarations,function(e){e.type&&162===e.type.kind&&(e=e.type,l(_(h(e.exprName))))})}}}}}}(ts=ts||{}),function(A){function N(e){e.trace(A.formatMessage.apply(void 0,arguments))}function d(e,t){return e.traceResolution&&void 0!==t.trace}function u(e,t){return t&&{path:t.path,extension:t.ext,packageId:e}}function w(e){return u(void 0,e)}var m,e;function p(e){if(e)return A.Debug.assert(A.extensionIsTypeScript(e.extension)),{fileName:e.path,packageId:e.packageId}}function f(e,t,n){return{resolvedModule:e&&{resolvedFileName:e.path,extension:e.extension,isExternalLibraryImport:t,packageId:e.packageId},failedLookupLocations:n}}function _(e,t){try{var n=t.readFile(e);return n?JSON.parse(n):{}}catch(e){return{}}}function g(e,t){return e.typeRoots||(e.configFilePath?i=A.getDirectoryPath(e.configFilePath):t.getCurrentDirectory&&(i=t.getCurrentDirectory()),void 0!==i?(e=i,(n=t).directoryExists?(A.forEachAncestorDirectory(A.normalizePath(e),function(e){e=A.combinePaths(e,a);n.directoryExists(e)&&(r=r||[]).push(e)}),r):[A.combinePaths(e,a)]):void 0);var n,r,i}A.trace=N,A.isTraceEnabled=d,(e=m=m||{})[e.TypeScript=0]="TypeScript",e[e.JavaScript=1]="JavaScript",e[e.DtsOnly=2]="DtsOnly",A.getEffectiveTypeRoots=g;var a=A.combinePaths("node_modules","@types");function h(e,t,n,r,i,a){if(A.isExternalModuleNameRelative(t)){var s=e,o=t,c=r,l=i,u=a;if(u.compilerOptions.rootDirs){u.traceEnabled&&N(u.host,A.Diagnostics.rootDirs_option_is_set_using_it_to_resolve_relative_module_name_0,o);for(var d,p,f=A.normalizePath(A.combinePaths(n,o)),_=0,m=u.compilerOptions.rootDirs;_<m.length;_++){var g=m[_],h=A.normalizePath(g),y=(A.endsWith(h,A.directorySeparator)||(h+=A.directorySeparator),A.startsWith(f,h)&&(void 0===p||p.length<h.length));u.traceEnabled&&N(u.host,A.Diagnostics.Checking_if_0_is_the_longest_matching_prefix_for_1_2,h,f,y),y&&(p=h,d=g)}if(p){u.traceEnabled&&N(u.host,A.Diagnostics.Longest_matching_prefix_for_0_is_1,f,p);var v=f.substr(p.length),o=(u.traceEnabled&&N(u.host,A.Diagnostics.Loading_0_from_the_root_dir_1_candidate_location_2,v,p,f),c(s,f,l,!I(n,u.host),u));if(o)return o;u.traceEnabled&&N(u.host,A.Diagnostics.Trying_other_entries_in_rootDirs);for(var b=0,x=u.compilerOptions.rootDirs;b<x.length;b++)if((g=x[b])!==d){var k=A.combinePaths(A.normalizePath(g),v),k=(u.traceEnabled&&N(u.host,A.Diagnostics.Loading_0_from_the_root_dir_1_candidate_location_2,v,g,k),c(s,k,l,!I(A.getDirectoryPath(k),u.host),u));if(k)return k}u.traceEnabled&&N(u.host,A.Diagnostics.Module_resolution_using_rootDirs_has_failed)}}}else{var S,T=e,n=t,C=r,E=i,D=a;if(D.compilerOptions.baseUrl)return D.traceEnabled&&N(D.host,A.Diagnostics.baseUrl_option_is_set_to_0_using_this_value_to_resolve_non_relative_module_name_1,D.compilerOptions.baseUrl,n),o=void 0,D.compilerOptions.paths&&(D.traceEnabled&&N(D.host,A.Diagnostics.paths_option_is_specified_looking_for_a_pattern_to_match_module_name_0,n),o=A.matchPatternOrExact(A.getOwnKeys(D.compilerOptions.paths),n)),o?(S=A.isString(o)?void 0:A.matchedText(o,n),o=A.isString(o)?o:A.patternText(o),D.traceEnabled&&N(D.host,A.Diagnostics.Module_name_0_matched_pattern_1,n,o),A.forEach(D.compilerOptions.paths[o],function(e){var t=S?e.replace("*",S):e,n=A.normalizePath(A.combinePaths(D.compilerOptions.baseUrl,t)),e=(D.traceEnabled&&N(D.host,A.Diagnostics.Trying_substitution_0_candidate_module_location_Colon_1,e,t),A.tryGetExtensionFromPath(n));if(void 0!==e){t=P(n,E,!1,D);if(void 0!==t)return w({path:t,ext:e})}return C(T,n,E,!I(A.getDirectoryPath(n),D.host),D)})):(o=A.normalizePath(A.combinePaths(D.compilerOptions.baseUrl,n)),D.traceEnabled&&N(D.host,A.Diagnostics.Resolving_module_name_0_relative_to_base_url_1_2,n,D.compilerOptions.baseUrl,o),C(T,o,E,!I(A.getDirectoryPath(o),D.host),D))}}function y(e,t,n,r,i){return s(e,A.getDirectoryPath(t),n,r,i,!1)}function s(r,i,a,s,o,e){var c=d(a,s),l=[],u={compilerOptions:a,host:s,traceEnabled:c},e=!e&&t(m.TypeScript)||t(m.JavaScript);return e&&e.value?f((e=e.value).resolved,e.isExternalLibraryImport,l):{resolvedModule:void 0,failedLookupLocations:l};function t(e){var t=h(e,r,i,function(e,t,n,r,i){return b(e,t,n,r,i,!0)},l,u);if(t)return U({resolved:t,isExternalLibraryImport:!1});if(A.isExternalModuleNameRelative(r))return n=(t=A.normalizePathAndParts(A.combinePaths(i,r))).path,t=t.parts,(n=b(e,n,l,!1,u,!0))&&U({resolved:n,isExternalLibraryImport:A.contains(t,"node_modules")});c&&N(s,A.Diagnostics.Loading_module_0_from_node_modules_folder_target_file_type_1,r,m[e]);var n=O(e,r,i,l,u,o);return n?(t=n.value,{value:(t=a.preserveSymlinks?t:t&&__assign({},n.value,{path:v(n.value.path,s,c),extension:n.value.extension}))&&{resolved:t,isExternalLibraryImport:!0}}):void 0}}function v(e,t,n){var r;return t.realpath?(r=A.normalizePath(t.realpath(e)),n&&N(t,A.Diagnostics.Resolving_real_path_for_0_result_1,e,r),r):e}function b(e,t,n,r,i,a){if(i.traceEnabled&&N(i.host,A.Diagnostics.Loading_module_as_file_Slash_folder_candidate_module_location_0_target_file_type_1,t,m[e]),!A.pathEndsWithDirectorySeparator(t)){r||I(s=A.getDirectoryPath(t),i.host)||(i.traceEnabled&&N(i.host,A.Diagnostics.Directory_0_does_not_exist_skipping_all_lookups_in_it,s),r=!0);var s=k(e,t,n,r,i);if(s)return w(s)}return r||I(t,i.host)||(i.traceEnabled&&N(i.host,A.Diagnostics.Directory_0_does_not_exist_skipping_all_lookups_in_it,t),r=!0),S(e,t,n,r,i,a)}function I(e,t){return!t.directoryExists||t.directoryExists(e)}function x(e,t,n,r,i){return w(k(e,t,n,r,i))}function k(e,t,n,r,i){var a,s=o(t,e,n,r,i);return s||(A.hasJavaScriptFileExtension(t)?(s=A.removeFileExtension(t),i.traceEnabled&&(a=t.substring(s.length),N(i.host,A.Diagnostics.File_name_0_has_a_1_extension_stripping_it,t,a)),o(s,e,n,r,i)):void 0)}function o(n,e,r,i,a){var t;switch(i||(t=A.getDirectoryPath(n))&&(i=!I(t,a.host)),e){case m.DtsOnly:return s(".d.ts");case m.TypeScript:return s(".ts")||s(".tsx")||s(".d.ts");case m.JavaScript:return s(".js")||s(".jsx")}function s(e){var t=P(n+e,r,i,a);return t&&{path:t,ext:e}}}function P(e,t,n,r){if(!n){if(r.host.fileExists(e))return r.traceEnabled&&N(r.host,A.Diagnostics.File_0_exist_use_it_as_a_name_resolution_result,e),e;r.traceEnabled&&N(r.host,A.Diagnostics.File_0_does_not_exist,e)}t.push(e)}function S(e,t,n,r,i,a){var a=(a=void 0===a?!0:a)?C(t,"",n,r,i):{packageJsonContent:void 0,packageId:void 0},s=a.packageJsonContent;return u(a.packageId,T(e,t,n,r,i,s))}function T(e,f,t,n,r,_){var i=_&&function(e,t,n){s=e!==m.JavaScript,r=_,i=f,a=n;var r,i,a,s=s?o("typings")||o("types"):o("main");function o(e){if(A.hasProperty(r,e)){var t,n=r[e];if(A.isString(n))return t=A.normalizePath(A.combinePaths(i,n)),a.traceEnabled&&N(a.host,A.Diagnostics.package_json_has_0_field_1_that_references_2,e,n,t),t;a.traceEnabled&&N(a.host,A.Diagnostics.Expected_type_of_0_field_in_package_json_to_be_string_got_1,e,typeof n)}else a.traceEnabled&&N(a.host,A.Diagnostics.package_json_does_not_have_a_0_field,e)}if(s){var c,l=!I(A.getDirectoryPath(s),n.host),u=P(s,t,l,n);if(u){var d=u&&(c=e,d=u,void 0!==(p=A.tryGetExtensionFromPath(d))&&function(e){switch(c){case m.JavaScript:return".js"===e||".jsx"===e;case m.TypeScript:return".ts"===e||".tsx"===e||".d.ts"===e;case m.DtsOnly:return".d.ts"===e}}(p)?{path:d,ext:p}:void 0);if(d)return d;n.traceEnabled&&N(n.host,A.Diagnostics.File_0_has_an_unsupported_extension_so_skipping_it,u)}var p=b(e===m.DtsOnly?m.TypeScript:e,s,t,l,n,!1);return p?(A.Debug.assert(void 0===p.packageId),{path:p.path,ext:p.extension}):void 0}}(e,t,r);return i||(i=!n&&I(f,r.host),k(e,A.combinePaths(f,"index"),t,!i,r))}function C(e,t,n,r,i){var a,s=i.host,i=i.traceEnabled,r=!r&&I(e,s),e=E(e);return r&&s.fileExists(e)?(i&&N(s,A.Diagnostics.Found_package_json_at_0,e),{found:!0,packageJsonContent:a=_(e,s),packageId:"string"==typeof a.name&&"string"==typeof a.version?{name:a.name,subModuleName:t,version:a.version}:void 0}):(r&&i&&N(s,A.Diagnostics.File_0_does_not_exist,e),n.push(e),{found:!1,packageJsonContent:void 0,packageId:void 0})}function E(e){return A.combinePaths(e,"package.json")}function c(e,t,n,r,i,a){var s,o,c=A.normalizePath(A.combinePaths(n,t)),l=C(c,"",i,!r,a);return l.found?(s=l.packageJsonContent,o=l.packageId):(t=(l=D(t)).packageName,""!==(l=l.rest)&&(o=C(A.combinePaths(n,t),l,i,!r,a).packageId)),u(o,k(e,c,i,!r,a)||T(e,c,i,!r,a,s))}function D(e){var t=e.indexOf(A.directorySeparator);return-1===(t="@"===e[0]?e.indexOf(A.directorySeparator,t+1):t)?{packageName:e,rest:""}:{packageName:e.slice(0,t),rest:e.slice(t+1)}}function O(e,t,n,r,i,a){return F(e,t,n,r,i,!1,a)}function F(t,n,e,r,i,a,s){var o=s&&s.getOrCreateCacheForModuleName(n);return A.forEachAncestorDirectory(A.normalizeSlashes(e),function(e){if("node_modules"!==A.getBaseFileName(e))return R(o,n,e,i.traceEnabled,i.host)||U(l(t,n,e,r,i,a))})}function l(e,t,n,r,i,a){void 0===a&&(a=!1);var n=A.combinePaths(n,"node_modules"),s=I(n,i.host),a=(!s&&i.traceEnabled&&N(i.host,A.Diagnostics.Directory_0_does_not_exist_skipping_all_lookups_in_it,n),a?void 0:c(e,t,n,s,r,i));return a||(e!==m.JavaScript?(a=A.combinePaths(n,"@types"),(e=s)&&!I(a,i.host)&&(i.traceEnabled&&N(i.host,A.Diagnostics.Directory_0_does_not_exist_skipping_all_lookups_in_it,a),e=!1),c(m.DtsOnly,(n=i,t=L(s=t),n.traceEnabled&&t!==s&&N(n.host,A.Diagnostics.Scoped_package_detected_looking_in_0,t),t),a,e,r,i)):void 0)}A.resolveTypeReferenceDirective=function(r,e,t,i){var a=d(t,i),s={compilerOptions:t,host:i,traceEnabled:a},n=g(t,i);a&&(void 0===e?void 0===n?N(i,A.Diagnostics.Resolving_type_reference_directive_0_containing_file_not_set_root_directory_not_set,r):N(i,A.Diagnostics.Resolving_type_reference_directive_0_containing_file_not_set_root_directory_1,r,n):void 0===n?N(i,A.Diagnostics.Resolving_type_reference_directive_0_containing_file_1_root_directory_not_set,r,e):N(i,A.Diagnostics.Resolving_type_reference_directive_0_containing_file_1_root_directory_2,r,e,n));var o,c=[],n=n&&n.length?(a&&N(i,A.Diagnostics.Resolving_with_primary_search_path_0,n.join(", ")),A.forEach(n,function(e){var e=A.combinePaths(e,r),t=A.getDirectoryPath(e),n=I(t,i);return!n&&a&&N(i,A.Diagnostics.Directory_0_does_not_exist_skipping_all_lookups_in_it,t),p(S(m.DtsOnly,e,c,!n,s))})):void(a&&N(i,A.Diagnostics.Root_directory_cannot_be_determined_skipping_primary_search_paths)),l=!0;return n||(n=void 0!==(e=e&&A.getDirectoryPath(e))?(a&&N(i,A.Diagnostics.Looking_up_in_node_modules_folder_initial_location_0,e),!(e=p((e=O(m.DtsOnly,r,e,c,s,void 0))&&e.value))&&a&&N(i,A.Diagnostics.Type_reference_directive_0_was_not_resolved,r),e):void(a&&N(i,A.Diagnostics.Containing_file_is_not_specified_and_root_directory_cannot_be_determined_skipping_lookup_in_node_modules_folder)),l=!1),n&&(t.preserveSymlinks||(n=__assign({},n,{fileName:v(n.fileName,i,a)})),a&&N(i,A.Diagnostics.Type_reference_directive_0_was_successfully_resolved_to_1_primary_Colon_2,r,n.fileName,l),o={primary:l,resolvedFileName:n.fileName,packageId:n.packageId}),{resolvedTypeReferenceDirective:o,failedLookupLocations:c}},A.getAutomaticTypeDirectiveNames=function(e,t){if(e.types)return e.types;var n=[];if(t.directoryExists&&t.getDirectories){e=g(e,t);if(e)for(var r=0,i=e;r<i.length;r++){var a=i[r];if(t.directoryExists(a))for(var s=0,o=t.getDirectories(a);s<o.length;s++){var c=o[s],c=A.normalizePath(c),l=E(A.combinePaths(a,c));t.fileExists(l)&&null===_(l,t).typings||n.push(A.getBaseFileName(c))}}}return n},A.createModuleResolutionCache=function(s,o){var n=A.createMap(),r=A.createMap();return{getOrCreateCacheForDirectory:function(e){var e=A.toPath(e,s,o),t=n.get(e);return t||(t=A.createMap(),n.set(e,t)),t},getOrCreateCacheForModuleName:function(e){var t,a;if(!A.isExternalModuleNameRelative(e))return(t=r.get(e))||(a=A.createMap(),r.set(e,t={get:function(e){return a.get(A.toPath(e,s,o))},set:function(e,t){e=A.toPath(e,s,o);if(!a.has(e)){a.set(e,t);for(var n=function(e,t){if(void 0!==t){for(var n=A.toPath(A.getDirectoryPath(t),s,o),r=0;r<Math.min(e.length,n.length)&&e.charCodeAt(r)===n.charCodeAt(r);)r++;t=e.lastIndexOf(A.directorySeparator,r);if(!(t<0))return e.substr(0,t)}}(e,t.resolvedModule&&t.resolvedModule.resolvedFileName),r=e;;){var i=A.getDirectoryPath(r);if(i===r||a.has(i))break;if(a.set(i,t),(r=i)===n)break}}}})),t}}},A.resolveModuleName=function(e,t,n,r,i){var a=d(n,r),s=(a&&N(r,A.Diagnostics.Resolving_module_0_from_1,e,t),A.getDirectoryPath(t)),o=i&&i.getOrCreateCacheForDirectory(s),c=o&&o.get(e);if(c)a&&N(r,A.Diagnostics.Resolution_for_module_0_was_found_in_cache,e);else{var l=n.moduleResolution;switch(void 0===l?(l=A.getEmitModuleKind(n)===A.ModuleKind.CommonJS?A.ModuleResolutionKind.NodeJs:A.ModuleResolutionKind.Classic,a&&N(r,A.Diagnostics.Module_resolution_kind_is_not_specified_using_0,A.ModuleResolutionKind[l])):a&&N(r,A.Diagnostics.Explicitly_specified_module_resolution_kind_Colon_0,A.ModuleResolutionKind[l]),l){case A.ModuleResolutionKind.NodeJs:c=y(e,t,n,r,i);break;case A.ModuleResolutionKind.Classic:c=M(e,t,n,r,i);break;default:A.Debug.fail("Unexpected moduleResolution: "+l)}o&&(o.set(e,c),o=i.getOrCreateCacheForModuleName(e))&&o.set(s,c)}return a&&(c.resolvedModule?N(r,A.Diagnostics.Module_name_0_was_successfully_resolved_to_1,e,c.resolvedModule.resolvedFileName):N(r,A.Diagnostics.Module_name_0_was_not_resolved,e)),c},A.nodeModuleNameResolver=y,A.resolveJavaScriptModule=function(e,t,n){var n=s(e,t,{moduleResolution:A.ModuleResolutionKind.NodeJs,allowJs:!0},n,void 0,!0),r=n.resolvedModule,n=n.failedLookupLocations;if(r)return r.resolvedFileName;throw new Error("Could not resolve JS module '"+e+"' starting at '"+t+"'. Looked in: "+n.join(", "))},A.directoryProbablyExists=I,A.getPackageName=D;function L(e){if(A.startsWith(e,"@")){var t=e.replace(A.directorySeparator,"__");if(t!==e)return t.slice(1)}return e}function R(e,t,n,r,i){e=e&&e.get(n);if(e)return r&&N(i,A.Diagnostics.Resolution_for_module_0_was_found_in_cache,t),{value:e.resolvedModule&&{path:e.resolvedModule.resolvedFileName,extension:e.resolvedModule.extension,packageId:e.resolvedModule.packageId}}}function M(i,e,t,a,s){var o=d(t,a),c={compilerOptions:t,host:a,traceEnabled:o},l=[],u=A.getDirectoryPath(e),t=n(m.TypeScript)||n(m.JavaScript);return f(t&&t.value,!1,l);function n(n){var r,e=h(n,i,u,x,l,c);return e?{value:e}:(r=s&&s.getOrCreateCacheForModuleName(i),A.isExternalModuleNameRelative(i)?(e=A.normalizePath(A.combinePaths(u,i)),U(x(n,e,l,!1,c))):A.forEachAncestorDirectory(u,function(e){var t=R(r,i,e,o,a);return t||(t=A.normalizePath(A.combinePaths(e,i)),U(x(n,t,l,!1,c)))})||(n===m.TypeScript?F(m.DtsOnly,i,u,l,c,!0,void 0):void 0))}}function U(e){return void 0!==e?{value:e}:void 0}A.getTypesPackageName=function(e){return"@types/"+L(e)},A.getPackageNameFromAtTypesDirectory=function(e){var t=A.removePrefix(e,"@types/");return t!==e?A.stringContains(t,"__")?"@"+t.replace("__",A.directorySeparator):t:e},A.classicNameResolver=M,A.loadModuleFromGlobalCache=function(e,t,n,r,i){var a=d(n,r);a&&N(r,A.Diagnostics.Auto_discovery_for_typings_is_enabled_in_project_0_Running_extra_resolution_pass_for_module_1_using_cache_location_2,t,e,i);t=[];return f(l(m.DtsOnly,e,i,t,{compilerOptions:n,host:r,traceEnabled:a}),!0,t)}}(ts=ts||{}),function(h_){var y_=/^".+"$/,t=1,n=1,v_=1,b_=1;function x_(e){return e.id||(e.id=n,n++),e.id}function k_(e){return e.id||(e.id=t,t++),e.id}function S_(e,t){e=h_.getModuleInstanceState(e);return 1===e||t&&2===e}function T_(e){switch(e.parent.kind){case 242:case 246:return 1;default:return h_.isDeclarationName(e)}}function C_(e){switch(e.kind){case 239:case 237:case 240:case 242:return!0;case 71:return 242===e.parent.kind;default:return!1}}h_.getNodeId=x_,h_.getSymbolId=k_,h_.isInstantiatedModule=S_,h_.createTypeChecker=function(o,le){var Ae,c,l,s,n=h_.objectAllocator.getSymbolConstructor(),t=h_.objectAllocator.getTypeConstructor(),u=h_.objectAllocator.getSignatureConstructor(),r=0,i=0,d=0,f=0,F=h_.createSymbolTable(),z=h_.identity,ue=o.getCompilerOptions(),de=h_.getEmitScriptTarget(ue),Ne=h_.getEmitModuleKind(ue),k=!!ue.noUnusedLocals||!!ue.noUnusedParameters,Y=void 0!==ue.allowSyntheticDefaultImports?ue.allowSyntheticDefaultImports:Ne===h_.ModuleKind.System,pe=void 0===ue.strictNullChecks?ue.strict:ue.strictNullChecks,L=void 0===ue.strictFunctionTypes?ue.strict:ue.strictFunctionTypes,X=void 0===ue.noImplicitAny?ue.strict:ue.noImplicitAny,Z=void 0===ue.noImplicitThis?ue.strict:ue.noImplicitThis,a=((e=o.getResolvedTypeReferenceDirectives())&&(s=h_.createMap(),e.forEach(function(e,t){e&&(e=o.getSourceFile(e.resolvedFileName),s.set(e.path,t))})),{getReferencedExportContainer:xf,getReferencedImportDeclaration:kf,getReferencedDeclarationWithCollidingName:Tf,isDeclarationWithCollidingName:Cf,isValueAliasDeclaration:function(e){return!(e=h_.getParseTreeNode(e))||Ef(e)},hasGlobalName:Kf,isReferencedAliasDeclaration:function(e,t){return!(e=h_.getParseTreeNode(e))||function t(e,n){if(h_.isAliasSymbolDeclaration(e)){var r=he(e);if(r&&p(r).referenced)return!0}return!!n&&h_.forEachChild(e,function(e){return t(e,n)})}(e,t)},getNodeCheckFlags:function(e){return(e=h_.getParseTreeNode(e))?Of(e):void 0},isTopLevelValueImportEqualsWithEntityName:Df,isDeclarationVisible:ii,isImplementationOfOverload:wf,isRequiredInitializedParameter:If,isOptionalUninitializedParameterProperty:Pf,writeTypeOfDeclaration:Uf,writeReturnTypeOfSignatureDeclaration:Bf,writeTypeOfExpression:jf,isSymbolAccessible:Jr,isEntityNameVisible:Hr,getConstantValue:function(e){return(e=h_.getParseTreeNode(e,Lf))?Rf(e):void 0},collectLinkedAliases:ai,getReferencedValueDeclaration:$f,getTypeReferenceSerializationKind:Mf,isOptionalParameter:Ba,moduleExportsSomeValue:bf,isArgumentsLocalBinding:vf,getExternalModuleFileFromDeclaration:Vf,getTypeReferenceDirectivesForEntityName:function(e){var t;return s&&(t=gr(e,e=179===e.kind||71===e.kind&&Uc(e)?1156031:794600,!0))&&t!==fe?y(t,e):void 0},getTypeReferenceDirectivesForSymbol:y,isLiteralConstDeclaration:Jf,writeLiteralConstValue:qf,getJsxFactoryEntity:function(){return nn}}),_={typeToTypeNode:function(e,t,n){t=g(t,n),n=S(e,t);return t.encounteredError?void 0:n},indexInfoToIndexSignatureDeclaration:function(e,t,n,r){n=g(n,r),r=C(e,t,n);return n.encounteredError?void 0:r},signatureToSignatureDeclaration:function(e,t,n,r){n=g(n,r),r=E(e,t,n);return n.encounteredError?void 0:r}},m=Jn(4,"undefined");function g(e,t){return{enclosingDeclaration:e,flags:t,encounteredError:!1,symbolStack:void 0}}function S(e,h){var t=h.flags&h_.NodeBuilderFlags.InTypeAlias;if(h.flags&=~h_.NodeBuilderFlags.InTypeAlias,e){if(1&e.flags)return h_.createKeywordTypeNode(119);if(2&e.flags)return h_.createKeywordTypeNode(136);if(4&e.flags)return h_.createKeywordTypeNode(133);if(8&e.flags)return h_.createKeywordTypeNode(122);if(256&e.flags&&!(65536&e.flags))return i=R(a=Nr(e.symbol),h,793064,!1),a=be(a)===e?i:h_.createQualifiedName(i,ni(e.symbol,h)),h_.createTypeReferenceNode(a,void 0);if(272&e.flags)return n=R(e.symbol,h,793064,!1),h_.createTypeReferenceNode(n,void 0);if(32&e.flags)return h_.createLiteralTypeNode(h_.setEmitFlags(h_.createLiteral(e.value),16777216));if(64&e.flags)return h_.createLiteralTypeNode(h_.createLiteral(e.value));if(128&e.flags)return"true"===e.intrinsicName?h_.createTrue():h_.createFalse();if(1024&e.flags)return h_.createKeywordTypeNode(105);if(2048&e.flags)return h_.createKeywordTypeNode(139);if(4096&e.flags)return h_.createKeywordTypeNode(95);if(8192&e.flags)return h_.createKeywordTypeNode(130);if(512&e.flags)return h_.createKeywordTypeNode(137);if(16777216&e.flags)return h_.createKeywordTypeNode(134);if(16384&e.flags&&e.isThisType)return h.flags&h_.NodeBuilderFlags.InObjectTypeLiteral&&(h.encounteredError||h.flags&h_.NodeBuilderFlags.AllowThisInObjectLiteral||(h.encounteredError=!0)),h_.createThis();var n,r,i=P(e);if(4&i){h_.Debug.assert(!!(32768&e.flags));var a=e,s=a.typeArguments||h_.emptyArray;if(a.target===Qe)return h.flags&h_.NodeBuilderFlags.WriteArrayAsGenericType?(o=S(s[0],h),h_.createTypeReferenceNode("Array",[o])):(o=S(s[0],h),h_.createArrayTypeNode(o));if(8&a.target.objectFlags){if(0<s.length){var o=T(s.slice(0,ss(a)),h);if(o&&0<o.length)return h_.createTupleTypeNode(o)}return h.encounteredError||h.flags&h_.NodeBuilderFlags.AllowEmptyTuple?h_.createTupleTypeNode([]):void(h.encounteredError=!0)}var c=a.target.outerTypeParameters,l=0,u=void 0;if(c)for(var d=c.length;l<d;){for(var p,f=l,_=ts(c[l]);++l<d&&ts(c[l])===_;);h_.rangeEquals(c,s,f,l)||(f=(f=T(s.slice(f,l),h))&&h_.createNodeArray(f),(71===(p=x(_)).kind?p:p.right).typeArguments=f,u=u?(h_.Debug.assert(!u.right),u=k(u,p),h_.createQualifiedName(u,void 0)):h_.createQualifiedName(p,void 0))}var o=void 0,m=x(a.symbol),o=u?(h_.Debug.assert(!u.right),u=k(u,m)):m,m=void 0;return 0<s.length&&(a=(a.target.typeParameters||h_.emptyArray).length,m=T(s.slice(l,a),h)),m&&((71===o.kind?o:o.right).typeArguments=void 0),h_.createTypeReferenceNode(o,m)}if(16384&e.flags||3&i)return n=e.symbol?R(e.symbol,h,793064,!1):h_.createIdentifier("?"),h_.createTypeReferenceNode(n,void 0);if(!t&&e.aliasSymbol&&$r(e.aliasSymbol,h.enclosingDeclaration))return n=x(e.aliasSymbol),o=T(e.aliasTypeArguments,h),h_.createTypeReferenceNode(n,o);if(196608&e.flags)return(m=T(65536&e.flags?Yr(e.types):e.types,h))&&0<m.length?h_.createUnionOrIntersectionTypeNode(65536&e.flags?166:167,m):void(h.encounteredError||h.flags&h_.NodeBuilderFlags.AllowEmptyUnionOrIntersection||(h.encounteredError=!0));if(48&i){h_.Debug.assert(!!(32768&e.flags));var g,t=e,y=t.symbol;if(y){if(32&y.flags&&!Di(y)||896&y.flags||function(){var e=!!(8192&y.flags)&&h_.some(y.declarations,function(e){return h_.hasModifier(e,32)}),t=!!(16&y.flags)&&(y.parent||h_.forEach(y.declarations,function(e){return 265===e.parent.kind||234===e.parent.kind}));if(e||t)return h_.contains(h.symbolStack,y)}())return g=R(y,h,107455,!1),h_.createTypeQueryNode(g);if(h_.contains(h.symbolStack,y))return(g=Zr(t))?(v=R(g,h,793064,!1),h_.createTypeReferenceNode(v,void 0)):h_.createKeywordTypeNode(119);h.symbolStack||(h.symbolStack=[]),h.symbolStack.push(y);var v=b(t);return h.symbolStack.pop(),v}return b(t)}return 262144&e.flags?(r=S(e.type,h),h_.createTypeOperatorNode(r)):524288&e.flags?(n=S(e.objectType,h),r=S(e.indexType,h),h_.createIndexedAccessTypeNode(n,r)):void h_.Debug.fail("Should be unreachable.")}function b(e){if(ha(e))return r=e,h_.Debug.assert(!!(32768&r.flags)),i=r.declaration&&r.declaration.readonlyToken?h_.createToken(131):void 0,n=r.declaration&&r.declaration.questionToken?h_.createToken(55):void 0,t=D(_a(r),h),r=S(ga(r),h),i=h_.createMappedTypeNode(i,t,n,r),h_.setEmitFlags(i,1);var t=ya(e);if(!t.properties.length&&!t.stringIndexInfo&&!t.numberIndexInfo){if(!t.callSignatures.length&&!t.constructSignatures.length)return h_.setEmitFlags(h_.createTypeLiteralNode(void 0),1);if(1===t.callSignatures.length&&!t.constructSignatures.length)return E(t.callSignatures[0],160,h);if(1===t.constructSignatures.length&&!t.callSignatures.length)return E(t.constructSignatures[0],161,h)}var n=h.flags,r=(h.flags|=h_.NodeBuilderFlags.InObjectTypeLiteral,function(e){for(var t=[],n=0,r=e.callSignatures;n<r.length;n++){var i=r[n];t.push(E(i,155,h))}for(var a=0,s=e.constructSignatures;a<s.length;a++)i=s[a],t.push(E(i,156,h));e.stringIndexInfo&&t.push(C(e.stringIndexInfo,0,h)),e.numberIndexInfo&&t.push(C(e.numberIndexInfo,1,h));e=e.properties;if(!e)return t;for(var o=0,c=e;o<c.length;o++){var l=c[o],u=V(l),d=h.enclosingDeclaration,p=(h.enclosingDeclaration=void 0,R(l,h,107455,!0)),f=(h.enclosingDeclaration=d,16777216&l.flags?h_.createToken(55):void 0);if(8208&l.flags&&!va(u).length)for(var _=0,m=G(u,0);_<m.length;_++){var g=E(i=m[_],150,h);g.name=p,g.questionToken=f,t.push(g)}else{d=u?S(u,h):h_.createKeywordTypeNode(119),u=yd(l)?[h_.createToken(131)]:void 0,l=h_.createPropertySignature(u,p,f,d,void 0);t.push(l)}}return t.length?t:void 0}(t)),i=(h.flags=n,h_.createTypeLiteralNode(r));return h_.setEmitFlags(i,1)}function x(e){return 32&e.flags||!Lr(e.escapedName)?R(e,h,793064,!1):h_.createIdentifier("")}function k(e,t){if(h_.Debug.assert(void 0===e.right),71===t.kind)return e.right=t,e;for(var n=t;71!==n.left.kind;)n=n.left;return e.right=n.left,n.left=e,t}h.encounteredError=!0}function T(e,t){if(h_.some(e)){for(var n=[],r=0;r<e.length;++r){var i=S(e[r],t);i&&n.push(i)}return n}}function C(e,t,n){var r=h_.getNameFromIndexInfo(e)||"x",t=h_.createKeywordTypeNode(0===t?136:133),r=h_.createParameter(void 0,void 0,void 0,r,void 0,t,void 0),t=S(e.type,n);return h_.createIndexSignature(void 0,e.isReadonly?[h_.createToken(131)]:void 0,[r],t)}function E(e,t,n){var r,i,a=e.typeParameters&&e.typeParameters.map(function(e){return D(e,n)}),s=e.parameters.map(function(e){return h(e,n)});return e.thisParameter&&(r=h(e.thisParameter,n),s.unshift(r)),r=e.typePredicate?(i=1===(r=e.typePredicate).kind?h_.setEmitFlags(h_.createIdentifier(r.parameterName),16777216):h_.createThisTypeNode(),r=S(r.type,n),h_.createTypePredicateNode(i,r)):(i=ke(e))&&S(i,n),n.flags&h_.NodeBuilderFlags.SuppressAnyReturnType?r&&119===r.kind&&(r=void 0):r=r||h_.createKeywordTypeNode(119),h_.createSignatureDeclaration(t,a,s,r)}function D(e,t){var n=R(e.symbol,t,793064,!0),r=es(e),r=r&&S(r,t),e=Da(e),e=e&&S(e,t);return h_.createTypeParameterDeclaration(n,r,e)}function h(e,t){var n,r,i,a,s=h_.getDeclarationOfKind(e,146);return qn(e)&&e.isRestParameter?h_.createParameter(void 0,void 0,e.isRestParameter?h_.createToken(24):void 0,"args",void 0,S(rt,t),void 0):(n=s.modifiers&&s.modifiers.map(h_.getSynthesizedClone),r=h_.isRestParameter(s)?h_.createToken(24):void 0,i=s.name?71===s.name.kind?h_.setEmitFlags(h_.getSynthesizedClone(s.name),16777216):function e(t){t=h_.visitEachChild(t,e,h_.nullTransformationContext,void 0,e),t=h_.nodeIsSynthesized(t)?t:h_.getSynthesizedClone(t);return 176===t.kind&&(t.initializer=void 0),h_.setEmitFlags(t,16777217)}(s.name):h_.symbolName(e),a=Ba(s)?h_.createToken(55):void 0,e=V(e),s=S(e=If(s)?mc(e,2048):e,t),h_.createParameter(void 0,n,r,i,a,s,void 0))}function R(e,o,t,n){var r;return 262144&e.flags||!(o.enclosingDeclaration||o.flags&h_.NodeBuilderFlags.UseFullyQualifiedType)?r=[e]:(r=function e(t,n,r){var i,a,s=Kr(t,o.enclosingDeclaration,n,!1);return s&&!zr(s[0],o.enclosingDeclaration,1===s.length?n:jr(n))||(a=Nr(s?s[0]:t))&&(n=e(a,jr(n),!1))&&(i=a,s=n.concat(s||[t])),s||(!r&&(!i&&h_.forEach(t.declarations,qr)||6144&t.flags)?void 0:[t])}(e,t,!0),h_.Debug.assert(r&&0<r.length)),!n||1===r.length||o.encounteredError||o.flags&h_.NodeBuilderFlags.AllowQualifedNameInPlaceOfIdentifier||(o.encounteredError=!0),function e(t,n){h_.Debug.assert(t&&0<=n&&n<t.length);var r,i=t[n],a=(o.flags&h_.NodeBuilderFlags.WriteTypeParametersInQualifiedName&&0<n&&(r=t[n-1],a=void 0,1&h_.getCheckFlags(i)?a=Ri(r):524384&Vp(r).flags&&(a=Li(i)),r=T(a,o)),ni(i,o)),i=h_.setEmitFlags(h_.createIdentifier(a,r),16777216);return 0<n?h_.createQualifiedName(e(t,n-1),i):i}(r,r.length-1)}function y(e,t){if(s&&function(e){if(e.declarations){for(var t=e;;){var n=Nr(t);if(!n)break;t=n}if(!(t.valueDeclaration&&265===t.valueDeclaration.kind&&512&t.flags))for(var r=0,i=e.declarations;r<i.length;r++){var a=i[r],a=h_.getSourceFileOfNode(a);if(s.has(a.path))return 1}}}(e)){for(var n,r=0,i=e.declarations;r<i.length;r++){var a=i[r];if(a.symbol&&a.symbol.flags&t){a=h_.getSourceFileOfNode(a),a=s.get(a.path);if(!a)return;(n=n||[]).push(a)}}return n}}m.declarations=[];var ee,M=Jn(4,"arguments"),v={getNodeCount:function(){return h_.sum(o.getSourceFiles(),"nodeCount")},getIdentifierCount:function(){return h_.sum(o.getSourceFiles(),"identifierCount")},getSymbolCount:function(){return h_.sum(o.getSourceFiles(),"symbolCount")+i},getTypeCount:function(){return r},isUndefinedSymbol:function(e){return e===m},isArgumentsSymbol:function(e){return e===M},isUnknownSymbol:function(e){return e===fe},getMergedSymbol:Ar,getDiagnostics:of,getGlobalDiagnostics:function(){return cf(),en.getGlobalDiagnostics()},getTypeOfSymbolAtLocation:function(e,t){if(t=h_.getParseTreeNode(t)){var n=0;if(n=e.exportSymbol||e,71===t.kind&&(h_.isRightSideOfQualifiedNameOrPropertyAccess(t)&&(t=t.parent),h_.isPartOfExpression(t))&&!h_.isAssignmentTarget(t)){e=jd(t);if(wr(q(t).resolvedSymbol)===n)return e}return V(n)}return _e},getSymbolsOfParameterPropertyDeclaration:function(e,t){return e=h_.getParseTreeNode(e,h_.isParameter),h_.Debug.assert(void 0!==e,"Cannot get symbols of a synthetic parameter that cannot be resolved to a parse-tree node."),e=e,t=h_.escapeLeadingUnderscores(t),n=e.parent,e=e.parent.parent,n=Yn(n.locals,t,107455),e=Yn(e.symbol.members,t,107455),n&&e?[n,e]:void h_.Debug.fail("There should exist two symbols, one as property declaration and one as parameter declaration");var n},getDeclaredTypeOfSymbol:be,getPropertiesOfType:xe,getPropertyOfType:function(e,t){return H(e,h_.escapeLeadingUnderscores(t))},getIndexInfoOfType:O,getSignaturesOfType:G,getIndexTypeOfType:Fa,getBaseTypes:$i,getBaseTypeOfLiteralType:cc,getWidenedType:xc,getTypeFromTypeNode:function(e){return(e=h_.getParseTreeNode(e,h_.isTypeNode))?Q(e):_e},getParameterType:od,getReturnTypeOfSignature:ke,getNullableType:mc,getNonNullableType:gc,typeToTypeNode:_.typeToTypeNode,indexInfoToIndexSignatureDeclaration:_.indexInfoToIndexSignatureDeclaration,signatureToSignatureDeclaration:_.signatureToSignatureDeclaration,getSymbolsInScope:function(e,t){if(!(e=h_.getParseTreeNode(e)))return[];var n=e,r=t;if(lf(n))return[];for(var i=h_.createSymbolTable(),a=!1;n;){switch(n.locals&&!Qn(n)&&o(n.locals,r),n.kind){case 233:o(he(n).exports,2623475&r);break;case 232:o(he(n).exports,8&r);break;case 199:n.name&&s(n.symbol,r);case 229:case 230:a||o(he(n).members,793064&r);break;case 186:n.name&&s(n.symbol,r)}h_.introducesArgumentsExoticObject(n)&&s(M,r),a=h_.hasModifier(n,32),n=n.parent}return o(It,r),Ra(i);function s(e,t){h_.getCombinedLocalAndExportSymbolFlags(e)&t&&(t=e.escapedName,i.has(t)||i.set(t,e))}function o(e,t){t&&e.forEach(function(e){s(e,t)})}},getSymbolAtLocation:function(e){return(e=h_.getParseTreeNode(e))?gf(e):void 0},getShorthandAssignmentValueSymbol:function(e){if(e=h_.getParseTreeNode(e))if(e&&262===e.kind)return gr(e.name,2204607)},getExportSpecifierLocalTargetSymbol:function(e){return(e=h_.getParseTreeNode(e,h_.isExportSpecifier))?(e=e).parent.parent.moduleSpecifier?sr(e.parent.parent,e):gr(e.propertyName||e.name,2998271):void 0},getExportSymbolOfSymbol:function(e){return Ar(e.exportSymbol||e)},getTypeAtLocation:function(e){return(e=h_.getParseTreeNode(e))?hf(e):_e},getPropertySymbolOfDestructuringAssignment:function(e){return(e=h_.getParseTreeNode(e,h_.isIdentifier))?(t=function e(t){if(h_.Debug.assert(178===t.kind||177===t.kind),216===t.parent.kind)return Ad(t,Op(t.parent.expression,t.parent.awaitModifier)||_e);if(194===t.parent.kind)return Ad(t,jd(t.parent.right)||_e);if(261===t.parent.kind)return Ed(e(t.parent.parent)||_e,t.parent);h_.Debug.assert(177===t.parent.kind);var n=e(t.parent),r=Fp(n||_e,t.parent,!1,!1)||_e;return Dd(t.parent,n,h_.indexOf(t.parent.elements,t),r||_e)}((e=e).parent.parent))&&H(t,e.escapedText):void 0;var t},signatureToString:function(e,t,n,r){return Wr(e,h_.getParseTreeNode(t),n,r)},typeToString:function(e,t,n){return ve(e,h_.getParseTreeNode(t),n)},getSymbolDisplayBuilder:ri,symbolToString:function(e,t,n){return ye(e,h_.getParseTreeNode(t),n)},getAugmentedPropertiesOfType:function(e){e=$(e);var t=h_.createSymbolTable(xe(e));return(G(e,0).length||G(e,1).length)&&h_.forEach(xe(We),function(e){t.has(e.escapedName)||t.set(e.escapedName,e)}),Rr(t)},getRootSymbols:function e(t){var n,r;if(6&h_.getCheckFlags(t))return n=[],r=t.escapedName,h_.forEach(p(t).containingType.types,function(e){e=H(e,r);e&&n.push(e)}),n;if(33554432&t.flags){var i=t;if(i.leftSpread)return e(i.leftSpread).concat(e(i.rightSpread));if(i.syntheticOrigin)return e(i.syntheticOrigin);for(var a=void 0,s=t;s=p(s).target;)a=s;if(a)return[a]}return[t]},getContextualType:function(e){return(e=h_.getParseTreeNode(e,h_.isExpression))?ql(e):void 0},getFullyQualifiedName:mr,getResolvedSignature:function(e,t,n){e=h_.getParseTreeNode(e,h_.isCallLikeExpression),ee=n;n=e?td(e,t):void 0;return ee=void 0,n},getConstantValue:function(e){return(e=h_.getParseTreeNode(e,Lf))?Rf(e):void 0},isValidPropertyAccess:function(e,t){return!!(e=h_.getParseTreeNode(e,h_.isPropertyAccessOrQualifiedName))&&(e=e,t=h_.escapeLeadingUnderscores(t),n=179===e.kind?e.expression:e.left,function e(t,n,r,i){if(i!==_e&&!w(i)){var a=H(i,r);if(a)return ku(t,n,i,a);if(h_.isInJavaScriptFile(n)&&65536&i.flags)for(var s=0,o=i.types;s<o.length;s++)if(e(t,n,r,o[s]))return!0;return!1}return!0}(e,n,t,xc(Te(n))));var n},getSignatureFromDeclaration:function(e){return(e=h_.getParseTreeNode(e,h_.isFunctionLike))?za(e):void 0},isImplementationOfOverload:function(e){e=h_.getParseTreeNode(e,h_.isFunctionLike);return e?wf(e):void 0},getImmediateAliasedSymbol:function(e){h_.Debug.assert(0!=(2097152&e.flags),"Should only get Alias here.");var t=p(e);return t.immediateTarget||(e=ar(e),h_.Debug.assert(!!e),t.immediateTarget=cr(e,!0)),t.immediateTarget},getAliasedSymbol:dr,getEmitResolver:function(e,t){return of(e,t),a},getExportsOfModule:Sr,getExportsAndPropertiesOfModule:function(e){var t=Sr(e),n=br(e);return n!==e&&h_.addRange(t,xe(V(n))),t},getSymbolWalker:h_.createGetSymbolWalker(qa,ke,$i,ya,V,Mc,Oa,es,Qp),getAmbientModules:function(){return Ve||(Ve=[],It.forEach(function(e,t){y_.test(t)&&Ve.push(e)})),Ve},getAllAttributesTypeFromJsxOpeningLikeElement:function(e){return(e=h_.getParseTreeNode(e,h_.isJsxOpeningLikeElement))?au((e=e).tagName)?fu(e):_u(e,!0):void 0},getJsxIntrinsicTagNames:function(){var e=ou(mn);return e?xe(e):h_.emptyArray},isOptionalParameter:function(e){return!!(e=h_.getParseTreeNode(e,h_.isParameter))&&Ba(e)},tryGetMemberInModuleExports:function(e,t){return Tr(h_.escapeLeadingUnderscores(e),t)},tryGetMemberInModuleExportsAndProperties:function(e,t){var e=h_.escapeLeadingUnderscores(e),n=Tr(e,t);if(!n){var r=br(t);if(r!==t)return H(V(r),e)}return n},tryFindAmbientModuleWithoutAugmentations:function(e){return Ua(e,!1)},getApparentType:$,getUnionType:W,createAnonymousType:Ur,createSignature:sa,createSymbol:Jn,createIndexInfo:Xa,getAnyType:function(){return J},getStringType:function(){return me},getNumberType:function(){return oe},createPromiseType:ud,createArrayType:Ls,getBooleanType:function(){return Pe},getVoidType:function(){return Fe},getUndefinedType:function(){return we},getNullType:function(){return ae},getESSymbolType:function(){return Oe},getNeverType:function(){return Le},isSymbolAccessible:Jr,isArrayLikeType:ic,getAllPossiblePropertiesOfTypes:function(e){var t=W(e);if(!(65536&t.flags))return xe(t);for(var n=h_.createSymbolTable(),r=0,i=e;r<i.length;r++)for(var a=0,s=xe(i[r]);a<s.length;a++){var o=s[a].escapedName;n.has(o)||n.set(o,Aa(t,o))}return h_.arrayFrom(n.values())},getSuggestionForNonexistentProperty:Au,getSuggestionForNonexistentSymbol:function(e,t,n){return Nu(e,h_.escapeLeadingUnderscores(t),n)},getBaseConstraintOfType:Sa,resolveName:function(e,t,n){return Zn(t,h_.escapeLeadingUnderscores(e),n,void 0,void 0,!1)},getJsxNamespace:function(){return h_.unescapeLeadingUnderscores($n())}},b=[],x=h_.createMap(),U=h_.createMap(),B=h_.createMap(),j=h_.createMap(),te=[],fe=Jn(4,"unknown"),ne=Jn(0,"__resolving__"),J=Or(1,"any"),re=Or(1,"any"),_e=Or(1,"unknown"),we=Or(2048,"undefined"),ie=pe?we:Or(2099200,"undefined"),ae=Or(4096,"null"),se=pe?ae:Or(2101248,"null"),me=Or(2,"string"),oe=Or(4,"number"),ce=Or(128,"true"),Ie=Or(128,"false"),Pe=((e=W([ce,Ie])).flags|=8,e.intrinsicName="boolean",e),Oe=Or(512,"symbol"),Fe=Or(1024,"void"),Le=Or(8192,"never"),Re=Or(8192,"never"),Me=Or(16777216,"object"),I=Ur(void 0,F,h_.emptyArray,h_.emptyArray,void 0,void 0),e=Jn(2048,"__type"),Ue=(e.members=h_.createSymbolTable(),Ur(e,F,h_.emptyArray,h_.emptyArray,void 0,void 0)),Be=Ur(void 0,F,h_.emptyArray,h_.emptyArray,void 0,void 0),je=(Be.instantiations=h_.createMap(),Ur(void 0,F,h_.emptyArray,h_.emptyArray,void 0,void 0)),Ke=(je.flags|=8388608,Ur(void 0,F,h_.emptyArray,h_.emptyArray,void 0,void 0)),ze=Ur(void 0,F,h_.emptyArray,h_.emptyArray,void 0,void 0),$e=Ur(void 0,F,h_.emptyArray,h_.emptyArray,void 0,void 0),Je=Pr(16384),qe=Pr(16384);qe.constraint=Je;var Ve,He,Ge,We,Qe,Ye,Xe,Ze,et,tt,nt,rt,it,at,st,ot,ct,lt,ut,dt,pt,ft,_t,mt,gt,ht,yt,vt,bt,xt,kt,St,Tt=Pr(16384),Ct=sa(void 0,void 0,void 0,h_.emptyArray,J,void 0,0,!1,!1),Et=sa(void 0,void 0,void 0,h_.emptyArray,_e,void 0,0,!1,!1),Dt=sa(void 0,void 0,void 0,h_.emptyArray,J,void 0,0,!1,!1),At=sa(void 0,void 0,void 0,h_.emptyArray,Re,void 0,0,!1,!1),Nt=Xa(me,!0),wt=Xa(J,!1),It=h_.createSymbolTable(),Pt=0,Ot=0,Ft=0,Lt=!1,Rt=uo(""),Mt=uo(0),Ut=[],Bt=[],jt=[],Kt=0,zt=[],$t=[],Jt=[],qt=[],Vt=[],Ht=[],Gt=[],Wt=[],Qt=[],Yt=[],Xt=[],Zt=[],en=h_.createDiagnosticCollection();(e={None:0,0:"None",TypeofEQString:1,1:"TypeofEQString",TypeofEQNumber:2,2:"TypeofEQNumber",TypeofEQBoolean:4,4:"TypeofEQBoolean",TypeofEQSymbol:8,8:"TypeofEQSymbol",TypeofEQObject:16,16:"TypeofEQObject",TypeofEQFunction:32,32:"TypeofEQFunction",TypeofEQHostObject:64,64:"TypeofEQHostObject",TypeofNEString:128,128:"TypeofNEString",TypeofNENumber:256,256:"TypeofNENumber",TypeofNEBoolean:512,512:"TypeofNEBoolean",TypeofNESymbol:1024,1024:"TypeofNESymbol",TypeofNEObject:2048,2048:"TypeofNEObject",TypeofNEFunction:4096,4096:"TypeofNEFunction",TypeofNEHostObject:8192,8192:"TypeofNEHostObject",EQUndefined:16384,16384:"EQUndefined",EQNull:32768,32768:"EQNull",EQUndefinedOrNull:65536,65536:"EQUndefinedOrNull",NEUndefined:131072,131072:"NEUndefined",NENull:262144,262144:"NENull",NEUndefinedOrNull:524288,524288:"NEUndefinedOrNull",Truthy:1048576,1048576:"Truthy",Falsy:2097152,2097152:"Falsy",Discriminatable:4194304,4194304:"Discriminatable",All:8388607,8388607:"All",BaseStringStrictFacts:933633,933633:"BaseStringStrictFacts",BaseStringFacts:3145473,3145473:"BaseStringFacts",StringStrictFacts:4079361,4079361:"StringStrictFacts",StringFacts:4194049,4194049:"StringFacts",EmptyStringStrictFacts:3030785,3030785:"EmptyStringStrictFacts",EmptyStringFacts:3145473})[3145473]="EmptyStringFacts",e[e.NonEmptyStringStrictFacts=1982209]="NonEmptyStringStrictFacts",e[e.NonEmptyStringFacts=4194049]="NonEmptyStringFacts",e[e.BaseNumberStrictFacts=933506]="BaseNumberStrictFacts",e[e.BaseNumberFacts=3145346]="BaseNumberFacts",e[e.NumberStrictFacts=4079234]="NumberStrictFacts",e[e.NumberFacts=4193922]="NumberFacts",e[e.ZeroStrictFacts=3030658]="ZeroStrictFacts",e[e.ZeroFacts=3145346]="ZeroFacts",e[e.NonZeroStrictFacts=1982082]="NonZeroStrictFacts",e[e.NonZeroFacts=4193922]="NonZeroFacts",e[e.BaseBooleanStrictFacts=933252]="BaseBooleanStrictFacts",e[e.BaseBooleanFacts=3145092]="BaseBooleanFacts",e[e.BooleanStrictFacts=4078980]="BooleanStrictFacts",e[e.BooleanFacts=4193668]="BooleanFacts",e[e.FalseStrictFacts=3030404]="FalseStrictFacts",e[e.FalseFacts=3145092]="FalseFacts",e[e.TrueStrictFacts=1981828]="TrueStrictFacts",e[e.TrueFacts=4193668]="TrueFacts",e[e.SymbolStrictFacts=1981320]="SymbolStrictFacts",e[e.SymbolFacts=4193160]="SymbolFacts",e[e.ObjectStrictFacts=6166480]="ObjectStrictFacts",e[e.ObjectFacts=8378320]="ObjectFacts",e[e.FunctionStrictFacts=6164448]="FunctionStrictFacts",e[e.FunctionFacts=8376288]="FunctionFacts",e[e.UndefinedFacts=2457472]="UndefinedFacts",e[e.NullFacts=2340752]="NullFacts";for(var tn,nn,rn,an,sn,on=h_.createMapFromTemplate({string:1,number:2,boolean:4,symbol:8,undefined:16384,object:16,function:32}),cn=h_.createMapFromTemplate({string:128,number:256,boolean:512,symbol:1024,undefined:131072,object:2048,function:4096}),ln=h_.createMapFromTemplate({string:me,number:oe,boolean:Pe,symbol:Oe,undefined:we}),un=W(h_.arrayFrom(on.keys(),uo)),dn=!1,pn=!1,fn=h_.createUnderscoreEscapedMap(),_n="JSX",mn="IntrinsicElements",gn="ElementClass",hn="ElementAttributesProperty",yn="ElementChildrenAttribute",vn="Element",bn="IntrinsicAttributes",xn="IntrinsicClassAttributes",kn=h_.createMap(),Sn=h_.createMap(),Tn=h_.createMap(),Cn=h_.createMap(),En=h_.createMap(),e=(0,0,0,h_.createSymbolTable()),Dn=(e.set(m.escapedName,m),h_.and(rf,function(e){return!h_.isAccessor(e)})),An=0,Nn=o.getSourceFiles();An<Nn.length;An++){var wn=Nn[An];h_.bindSourceFile(wn,ue)}for(var In,Pn,On,Fn=0,Ln=o.getSourceFiles();Fn<Ln.length;Fn++)wn=Ln[Fn],h_.isExternalOrCommonJsModule(wn)||Wn(It,wn.locals),wn.patternAmbientModules&&wn.patternAmbientModules.length&&(He=h_.concatenate(He,wn.patternAmbientModules)),wn.moduleAugmentations.length&&(In=In||[]).push(wn.moduleAugmentations),wn.symbol&&wn.symbol.globalExports&&wn.symbol.globalExports.forEach(function(e,t){It.has(t)||It.set(t,e)});if(In)for(var Rn=0,Mn=In;Rn<Mn.length;Rn++)for(var Un=0,Bn=Mn[Rn];Un<Bn.length;Un++){jn=zn=Kn=void 0;var jn,Kn=Bn[Un],zn=Kn.parent;zn.symbol.declarations[0]===zn?h_.isGlobalScopeAugmentation(zn)?Wn(It,zn.symbol.exports):(jn=yr(Kn,Kn,h_.isInAmbientContext(Kn.parent.parent)?void 0:h_.Diagnostics.Invalid_module_name_in_augmentation_module_0_cannot_be_found,!0))&&(1920&(jn=br(jn)).flags?Gn(jn=33554432&jn.flags?jn:Hn(jn),zn.symbol):ge(Kn,h_.Diagnostics.Cannot_augment_module_0_because_it_resolves_to_a_non_module_entity,Kn.text)):h_.Debug.assert(1<zn.symbol.declarations.length)}return Pn=It,On=h_.Diagnostics.Declaration_name_conflicts_with_built_in_global_identifier_0,e.forEach(function(e,t){var n,r,i=Pn.get(t);i?h_.forEach(i.declarations,(n=h_.unescapeLeadingUnderscores(t),r=On,function(e){return en.add(h_.createDiagnosticForNode(e,r,n))})):Pn.set(t,e)}),p(m).type=ie,p(M).type=ys("IArguments",0,!0),p(fe).type=_e,Qe=ys("Array",1,!0),Ge=ys("Object",0,!0),We=ys("Function",0,!0),Xe=ys("String",0,!0),Ze=ys("Number",0,!0),et=ys("Boolean",0,!0),tt=ys("RegExp",0,!0),rt=Ls(J),it=Ls(re),Ye=As("ReadonlyArray",1),at=Ye?ws(Ye,[J]):rt,nt=As("ThisType",1),v;function $n(){return tn||(tn="React",ue.jsxFactory?(nn=h_.parseIsolatedEntityName(ue.jsxFactory,de))&&(tn=Qp(nn).escapedText):ue.reactNamespace&&(tn=h_.escapeLeadingUnderscores(ue.reactNamespace))),tn}function ge(e,t,n,r,i){e=e?h_.createDiagnosticForNode(e,t,n,r,i):h_.createCompilerDiagnostic(t,n,r,i);en.add(e)}function Jn(e,t){i++;e=new n(33554432|e,t);return e.checkFlags=0,e}function qn(e){return 0!=(33554432&e.flags)}function Vn(e,t){t.mergeId||(t.mergeId=v_,v_++),zt[t.mergeId]=e}function Hn(e){var t=Jn(e.flags,e.escapedName);return t.declarations=e.declarations?e.declarations.slice():[],t.parent=e.parent,e.valueDeclaration&&(t.valueDeclaration=e.valueDeclaration),e.constEnumOnlyModule&&(t.constEnumOnlyModule=!0),e.members&&(t.members=h_.cloneMap(e.members)),e.exports&&(t.exports=h_.cloneMap(e.exports)),Vn(t,e),t}function Gn(e,t){var n,r,i;e.flags&(i=0,2&(r=t.flags)&&(i|=107455),1&r&&(i|=107454),4&r&&(i|=0),8&r&&(i|=900095),16&r&&(i|=106927),32&r&&(i|=899519),64&r&&(i|=792968),256&r&&(i|=899327),128&r&&(i|=899967),512&r&&(i|=106639),8192&r&&(i|=99263),32768&r&&(i|=41919),65536&r&&(i|=74687),262144&r&&(i|=530920),524288&r&&(i|=793064),2097152&r&&(i|=2097152),i)?1024&e.flags?ge(h_.getNameOfDeclaration(t.declarations[0]),h_.Diagnostics.Cannot_augment_module_0_with_value_exports_because_it_resolves_to_a_non_module_entity,ye(e)):(n=2&e.flags||2&t.flags?h_.Diagnostics.Cannot_redeclare_block_scoped_variable_0:h_.Diagnostics.Duplicate_identifier_0,h_.forEach(t.declarations,function(e){ge(h_.getNameOfDeclaration(e)||e,n,ye(t))}),h_.forEach(e.declarations,function(e){ge(h_.getNameOfDeclaration(e)||e,n,ye(t))})):(512&t.flags&&512&e.flags&&e.constEnumOnlyModule&&!t.constEnumOnlyModule&&(e.constEnumOnlyModule=!1),e.flags|=t.flags,t.valueDeclaration&&(!e.valueDeclaration||233===e.valueDeclaration.kind&&233!==t.valueDeclaration.kind)&&(e.valueDeclaration=t.valueDeclaration),h_.addRange(e.declarations,t.declarations),t.members&&(e.members||(e.members=h_.createSymbolTable()),Wn(e.members,t.members)),t.exports&&(e.exports||(e.exports=h_.createSymbolTable()),Wn(e.exports,t.exports)),Vn(e,t))}function Wn(r,e){e.forEach(function(e,t){var n=r.get(t);n?(33554432&n.flags||(n=Hn(n),r.set(t,n)),Gn(n,e)):r.set(t,e)})}function p(e){return 33554432&e.flags?e:(e=k_(e),$t[e]||($t[e]={}))}function q(e){e=x_(e);return Jt[e]||(Jt[e]={flags:0})}function P(e){return 32768&e.flags?e.objectFlags:0}function Qn(e){return 265===e.kind&&!h_.isExternalOrCommonJsModule(e)}function Yn(e,t,n){if(n){e=e.get(t);if(e){if(h_.Debug.assert(0==(1&h_.getCheckFlags(e)),"Should never get an instantiated symbol here."),e.flags&n)return e;if(2097152&e.flags){t=dr(e);if(t===fe||t.flags&n)return e}}}}function Xn(e,t){var n,r=h_.getSourceFileOfNode(e),i=h_.getSourceFileOfNode(t);return r!==i?!!(Ne&&(r.externalModuleIndicator||i.externalModuleIndicator)||!ue.outFile&&!ue.out||Uc(t)||h_.isInAmbientContext(e))||!!a(t,e)||(n=o.getSourceFiles(),h_.indexOf(n,r)<=h_.indexOf(n,i)):e.pos<=t.pos?176===e.kind?(r=h_.getAncestor(t,176))?h_.findAncestor(r,h_.isBindingElement)!==h_.findAncestor(e,h_.isBindingElement)||e.pos<r.pos:Xn(h_.getAncestor(e,226),t):226!==e.kind||!function(e,t){var n=h_.getEnclosingBlockScopeContainer(e);switch(e.parent.parent.kind){case 208:case 214:case 216:if(rr(t,e,n))return 1}return h_.isForInOrOfStatement(e.parent.parent)&&rr(t,e.parent.parent.expression,n)}(e,t):!!(246===t.parent.kind||243===t.parent.kind&&t.parent.isExportEquals)||!(243!==t.kind||!t.isExportEquals)||(n=h_.getEnclosingBlockScopeContainer(e),Uc(t))||a(t,e,n);function a(t,n,r){return!!h_.findAncestor(t,function(e){if(e===r)return"quit";if(h_.isFunctionLike(e))return!0;if(e.parent&&149===e.parent.kind&&e.parent.initializer===e)if(h_.hasModifier(e.parent,32)){if(151===n.kind)return!0}else if(149!==n.kind||h_.hasModifier(n,32)||h_.getContainingClass(t)!==h_.getContainingClass(n))return!0})}}function Zn(e,t,n,r,i,a,s){return er(e,t,n,r,i,a,Yn,s)}function er(e,t,a,n,r,i,s,o){var c,l,u,d,p,f,_=e,m=e,g=!1;e:for(;e;){if(e.locals&&!Qn(e)&&(c=s(e.locals,t,a))){var h=!0;if(h=h_.isFunctionLike(e)&&l&&l!==e.body&&(a&c.flags&793064&&275!==l.kind&&(h=!!(262144&c.flags)&&(l===e.type||146===l.kind||145===l.kind)),107455&a)&&1&c.flags?146===l.kind||l===e.type&&146===c.valueDeclaration.kind:h)break;c=void 0}switch(e.kind){case 265:if(!h_.isExternalOrCommonJsModule(e))break;g=!0;case 233:var y=he(e).exports;if(265===e.kind||h_.isAmbientModule(e)){if(c=y.get("default")){var v=h_.getLocalSymbolForExportDefault(c);if(v&&c.flags&a&&v.escapedName===t)break e;c=void 0}v=y.get(t);if(v&&2097152===v.flags&&h_.getDeclarationOfKind(v,246))break}if(c=s(y,t,2623475&a))break e;break;case 232:if(c=s(he(e).exports,t,8&a))break e;break;case 149:case 148:h_.isClassLike(e.parent)&&!h_.hasModifier(e,32)&&(y=function(e){for(var t=0,n=e.members;t<n.length;t++){var r=n[t];if(152===r.kind&&h_.nodeIsPresent(r.body))return r}}(e.parent))&&y.locals&&s(y.locals,t,107455&a)&&(d=e);break;case 229:case 199:case 230:if(c=s(he(e).members,t,793064&a)){if(!function(e,t){for(var n=0,r=e.declarations;n<r.length;n++){var i=r[n];if(145===i.kind&&i.parent===t)return 1}return}(c,e)){c=void 0;break}if(l&&h_.hasModifier(l,32))return void ge(m,h_.Diagnostics.Static_members_cannot_reference_class_type_parameters);break e}if(199===e.kind&&32&a){var b=e.name;if(b&&t===b.escapedText){c=e.symbol;break e}}break;case 201:if(l===e.expression&&85===e.parent.token){b=e.parent.parent;if(h_.isClassLike(b)&&(c=s(he(b).members,t,793064&a)))return void(n&&ge(m,h_.Diagnostics.Base_class_expressions_cannot_reference_class_type_parameters))}break;case 144:if(x=e.parent.parent,(h_.isClassLike(x)||230===x.kind)&&(c=s(he(x).members,t,793064&a)))return void ge(m,h_.Diagnostics.A_computed_property_name_cannot_reference_a_type_parameter_from_its_containing_type);break;case 151:case 150:case 152:case 153:case 154:case 228:case 187:if(3&a&&"arguments"===t){c=M;break e}break;case 186:if(3&a&&"arguments"===t){c=M;break e}if(16&a){var x=e.name;if(x&&t===x.escapedText){c=e.symbol;break e}}break;case 147:(e=e.parent&&146===e.parent.kind?e.parent:e).parent&&h_.isClassElement(e.parent)&&(e=e.parent)}207!==e.kind&&(u=e),e=(l=e).parent}if(i&&c&&n&&k&&c!==u.symbol&&(c.isReferenced=!0),!c){if(l&&(h_.Debug.assert(265===l.kind),l.commonJsModuleIndicator)&&"exports"===t)return l.symbol;c=s(It,t,a)}if(c){if(n){if(d)return i=d.name,void ge(m,h_.Diagnostics.Initializer_of_instance_member_variable_0_cannot_reference_identifier_1_declared_in_the_constructor,h_.declarationNameToString(i),tr(r));m&&(2&a||(32&a||384&a)&&107455==(107455&a))&&(2&(i=wr(c)).flags||32&i.flags||384&i.flags)&&(i=i,f=m,h_.Debug.assert(!!(2&i.flags||32&i.flags||384&i.flags)),p=h_.forEach(i.declarations,function(e){return h_.isBlockOrCatchScoped(e)||h_.isClassLike(e)||232===e.kind?e:void 0}),h_.Debug.assert(void 0!==p,"Declaration to checkResolvedBlockScopedVariable is undefined"),h_.isInAmbientContext(p)||Xn(p,f)||(2&i.flags?ge(f,h_.Diagnostics.Block_scoped_variable_0_used_before_its_declaration,h_.declarationNameToString(h_.getNameOfDeclaration(p))):32&i.flags?ge(f,h_.Diagnostics.Class_0_used_before_its_declaration,h_.declarationNameToString(h_.getNameOfDeclaration(p))):256&i.flags&&ge(f,h_.Diagnostics.Enum_0_used_before_its_declaration,h_.declarationNameToString(h_.getNameOfDeclaration(p))))),c&&g&&107455==(107455&a)&&(i=c.declarations)&&1===i.length&&236===i[0].kind&&ge(m,h_.Diagnostics._0_refers_to_a_UMD_global_but_the_current_file_is_a_module_Consider_adding_an_import_instead,h_.unescapeLeadingUnderscores(t))}return c}!n||m&&(function(e,t,n){if(!(71===e.kind&&df(e)||Uc(e)))for(var r=h_.getThisContainer(e,!0),i=r;i;){if(h_.isClassLike(i.parent)){var a=he(i.parent);if(!a)break;if(H(V(a),t))return ge(e,h_.Diagnostics.Cannot_find_name_0_Did_you_mean_the_static_member_1_0,tr(n),ye(a)),1;if(i===r&&!h_.hasModifier(i,32)&&H(be(a).thisType,t))return ge(e,h_.Diagnostics.Cannot_find_name_0_Did_you_mean_the_instance_member_this_0,tr(n)),1}i=i.parent}}(m,t,r)||nr(m)||function(e,t){if(1920===a){var n=ur(Zn(e,t,792640,void 0,void 0,!1)),r=e.parent;if(n){if(h_.isQualifiedName(r)){h_.Debug.assert(r.left===e,"Should only be resolving left side of qualified name as a namespace");var i=r.right.escapedText;if(H(be(n),i))return ge(r,h_.Diagnostics.Cannot_access_0_1_because_0_is_a_type_but_not_a_namespace_Did_you_mean_to_retrieve_the_type_of_the_property_1_in_0_with_0_1,h_.unescapeLeadingUnderscores(t),h_.unescapeLeadingUnderscores(i)),1}return ge(e,h_.Diagnostics._0_only_refers_to_a_type_but_is_being_used_as_a_namespace_here,h_.unescapeLeadingUnderscores(t)),1}}}(m,t)||function(e,t){if(107455&a){if("any"===t||"string"===t||"number"===t||"boolean"===t||"never"===t)return ge(e,h_.Diagnostics._0_only_refers_to_a_type_but_is_being_used_as_a_value_here,h_.unescapeLeadingUnderscores(t)),1;var n=ur(Zn(e,t,792640,void 0,void 0,!1));if(n&&!(1024&n.flags))return ge(e,h_.Diagnostics._0_only_refers_to_a_type_but_is_being_used_as_a_value_here,h_.unescapeLeadingUnderscores(t)),1}}(m,t)||function(e,t,n){if(107031&n){if(ur(Zn(e,t,1024,void 0,void 0,!1)))return ge(e,h_.Diagnostics.Cannot_use_namespace_0_as_a_value,h_.unescapeLeadingUnderscores(t)),1}else if(792640&n&&ur(Zn(e,t,1024,void 0,void 0,!1)))return ge(e,h_.Diagnostics.Cannot_use_namespace_0_as_a_type,h_.unescapeLeadingUnderscores(t)),1}(m,t,a))||(f=void 0,o&&Kt<10&&(f=Nu(_,t,a))&&ge(m,o,tr(r),f),f||ge(m,n,tr(r)),Kt++)}function tr(e){return h_.isString(e)?h_.unescapeLeadingUnderscores(e):h_.declarationNameToString(e)}function nr(e){var t=function e(t){switch(t.kind){case 71:case 179:return t.parent?e(t.parent):void 0;case 201:if(h_.isEntityNameExpression(t.expression))return t.expression;default:return}}(e),n=!(!t||!gr(t,64,!0));return n&&ge(e,h_.Diagnostics.Cannot_extend_an_interface_0_Did_you_mean_implements,h_.getTextOfNode(t)),n}function rr(e,t,n){return t&&!!h_.findAncestor(e,function(e){return e===n||h_.isFunctionLike(e)?"quit":e===t})}function ir(e){switch(e.kind){case 237:return e;case 239:return e.parent;case 240:return e.parent.parent;case 242:return e.parent.parent.parent;default:return}}function ar(e){return h_.find(e.declarations,h_.isAliasSymbolDeclaration)}function sr(e,t,n){var r,i,a=hr(e,e.moduleSpecifier),s=xr(a,e.moduleSpecifier,n);if(s){var o,e=t.propertyName||t.name;if(e.escapedText)return h_.isShorthandAmbientModuleSymbol(a)?a:(t=void 0,t=a&&a.exports&&a.exports.get("export=")?H(V(s),e.escapedText):function(e){if(3&s.flags){var t=s.valueDeclaration.type;if(t)return ur(H(Q(t),e))}}(e.escapedText),t=ur(t,n),(n=(o=!(o=function(e,t){if(1536&s.flags)return ur(Cr(s).get(e),t)}(e.escapedText,n))&&Y&&"default"===e.escapedText?br(a,n)||ur(a,n):o)&&t?(n=o,(r=t)===fe&&n===fe?fe:794600&r.flags?r:((i=Jn(r.flags|n.flags,r.escapedName)).declarations=h_.concatenate(r.declarations,n.declarations),i.parent=r.parent||n.parent,r.valueDeclaration&&(i.valueDeclaration=r.valueDeclaration),n.members&&(i.members=n.members),r.exports&&(i.exports=r.exports),i)):o||t)||ge(e,h_.Diagnostics.Module_0_has_no_exported_member_1,mr(a),h_.declarationNameToString(e)),n)}}function or(e,t,n){return e.parent.parent.moduleSpecifier?sr(e.parent.parent,e,n):gr(e.propertyName||e.name,t,!1,n)}function cr(e,t){switch(e.kind){case 237:return r=t,248===(n=e).moduleReference.kind?br(hr(n,h_.getExternalModuleImportEqualsDeclarationExpression(n))):_r(n.moduleReference,r);case 239:var n=e,r=t,i=hr(n,n.parent.moduleSpecifier);if(i){var a=void 0;if((a=h_.isShorthandAmbientModuleSymbol(i)?i:(s=i.exports.get("export="))?H(V(s),"default"):ur(i.exports.get("default"),r))||Y){if(!a&&Y)return br(i,r)||ur(i,r)}else ge(n.name,h_.Diagnostics.Module_0_has_no_default_export,ye(i));return a}return;case 240:return s=t,i=e.parent.parent.moduleSpecifier,xr(hr(e,i),i,s);case 242:return sr(e.parent.parent.parent,e,t);case 246:return or(e,901119,t);case 243:return gr(e.expression,901119,!1,t);case 236:return br(e.parent.symbol,t)}var s,n,r}function lr(e,t){return void 0===t&&(t=901119),e&&2097152==(e.flags&(2097152|t))}function ur(e,t){return!t&&lr(e)?dr(e):e}function dr(e){h_.Debug.assert(0!=(2097152&e.flags),"Should only get Alias here.");var t,n,r=p(e);return r.target?r.target===ne&&(r.target=fe):(r.target=ne,t=ar(e),h_.Debug.assert(!!t),n=cr(t),r.target===ne?r.target=n||fe:ge(t,h_.Diagnostics.Circular_definition_of_import_alias_0,ye(e))),r.target}function pr(e){var e=he(e),t=dr(e);t&&(t===fe||107455&t.flags&&!Nf(t))&&fr(e)}function fr(e){var t=p(e);t.referenced||(t.referenced=!0,t=ar(e),h_.Debug.assert(!!t),243===t.kind?Fd(t.expression):246===t.kind?Fd(t.propertyName||t.name):h_.isInternalModuleImportEqualsDeclaration(t)&&Fd(t.moduleReference))}function _r(e,t){return 71===(e=71===e.kind&&h_.isRightSideOfQualifiedNameOrPropertyAccess(e)?e.parent:e).kind||143===e.parent.kind?gr(e,1920,!1,t):(h_.Debug.assert(237===e.parent.kind),gr(e,901119,!1,t))}function mr(e){return e.parent?mr(e.parent)+"."+ye(e):ye(e)}function gr(e,t,n,r,i){if(!h_.nodeIsMissing(e)){if(71===e.kind){var a=1920===t?h_.Diagnostics.Cannot_find_namespace_0:h_.Diagnostics.Cannot_find_name_0;if(!(a=Zn(i||e,e.escapedText,t,n?void 0:a,e,!0)))return}else if(143===e.kind||179===e.kind){var s=void 0;if(143===e.kind)s=e.left;else{if(179!==e.kind||185!==e.expression.kind&&!h_.isEntityNameExpression(e.expression))return;s=e.expression}var o=143===e.kind?e.right:e.name,s=gr(s,1920,n,!1,i);if(!s||h_.nodeIsMissing(o))return;if(s===fe)return s;if(!(a=Yn(Cr(s),o.escapedText,t)))return void(n||ge(o,h_.Diagnostics.Namespace_0_has_no_exported_member_1,mr(s),h_.declarationNameToString(o)))}else{if(185===e.kind)return h_.isEntityNameExpression(e.expression)?gr(e.expression,t,n,r,i):void 0;h_.Debug.assertNever(e,"Unknown entity name kind.")}return h_.Debug.assert(0==(1&h_.getCheckFlags(a)),"Should never get an instantiated symbol here."),a.flags&t||r?a:dr(a)}}function hr(e,t){return yr(e,t,h_.Diagnostics.Cannot_find_module_0)}function yr(e,t,n,r){if(void 0===r&&(r=!1),9===t.kind||13===t.kind)return vr(e,t.text,n,t,r)}function vr(e,t,n,r,i){if(void 0===i&&(i=!1),void 0!==t){h_.startsWith(t,"@types/")&&ge(r,h_.Diagnostics.Cannot_import_type_declaration_files_Consider_importing_0_instead_of_1,h_.removePrefix(t,"@types/"),t);var a=Ua(t,!0);if(a)return a;var a=h_.getResolvedModule(h_.getSourceFileOfNode(e),t),e=a&&h_.getResolutionDiagnostic(ue,a),s=a&&!e&&o.getSourceFile(a.resolvedFileName);if(s)return s.symbol?Ar(s.symbol):void(n&&ge(r,h_.Diagnostics.File_0_is_not_a_module,s.fileName));if(He){var s=h_.findBestPatternMatch(He,function(e){return e.pattern},t);if(s)return Ar(s.symbol)}a&&!h_.extensionIsTypeScript(a.extension)&&void 0===e||e===h_.Diagnostics.Could_not_find_a_declaration_file_for_module_0_1_implicitly_has_an_any_type?i?ge(r,h_.Diagnostics.Invalid_module_name_in_augmentation_Module_0_resolves_to_an_untyped_module_at_1_which_cannot_be_augmented,t,a.resolvedFileName):X&&n&&(s=a.isExternalLibraryImport?h_.chainDiagnosticMessages(void 0,h_.Diagnostics.Try_npm_install_types_Slash_0_if_it_exists_or_add_a_new_declaration_d_ts_file_containing_declare_module_0,t):void 0,s=h_.chainDiagnosticMessages(s,h_.Diagnostics.Could_not_find_a_declaration_file_for_module_0_1_implicitly_has_an_any_type,t,a.resolvedFileName),en.add(h_.createDiagnosticForNodeFromMessageChain(r,s))):n&&(e?ge(r,e,t,a.resolvedFileName):(i=h_.tryExtractTypeScriptExtension(t))?ge(r,h_.Diagnostics.An_import_path_cannot_end_with_a_0_extension_Consider_importing_1_instead,i,h_.removeExtension(t,i)):ge(r,n,t))}}function br(e,t){return e&&Ar(ur(e.exports.get("export="),t))||e}function xr(e,t,n){var r=br(e,n);return n||!r||1539&r.flags||ge(t,h_.Diagnostics.Module_0_resolves_to_a_non_module_entity_and_cannot_be_imported_using_this_construct,ye(e)),r}function kr(e){return void 0!==e.exports.get("export=")}function Sr(e){return Ra(Er(e))}function Tr(e,t){t=Er(t);if(t)return t.get(e)}function Cr(e){return 1536&e.flags?Er(e):e.exports||F}function Er(e){var c,t=p(e);return t.resolvedExports||(t.resolvedExports=(c=[],function e(t){if(t&&1952&t.flags&&h_.pushIfUnique(c,t)){var a=h_.cloneMap(t.exports),t=t.exports.get("__export");if(t){for(var n=h_.createSymbolTable(),s=h_.createMap(),r=0,i=t.declarations;r<i.length;r++){var o=i[r];Dr(n,e(hr(o,o.moduleSpecifier)),s,o)}s.forEach(function(e,t){e=e.exportsWithDuplicate;if("export="!==t&&e&&e.length&&!a.has(t))for(var n=0,r=e;n<r.length;n++){var i=r[n];en.add(h_.createDiagnosticForNode(i,h_.Diagnostics.Module_0_has_already_exported_a_member_named_1_Consider_explicitly_re_exporting_to_resolve_the_ambiguity,s.get(t).specifierText,h_.unescapeLeadingUnderscores(t)))}}),Dr(a,n)}return a}}(br(e))||F))}function Dr(r,e,i,a){e&&e.forEach(function(e,t){var n;"default"!==t&&((n=r.get(t))?i&&a&&n&&ur(n)!==ur(e)&&((n=i.get(t)).exportsWithDuplicate?n.exportsWithDuplicate.push(a):n.exportsWithDuplicate=[a]):(r.set(t,e),i&&a&&i.set(t,{specifierText:h_.getTextOfNode(a.moduleSpecifier)})))})}function Ar(e){var t;return e&&e.mergeId&&(t=zt[e.mergeId])?t:e}function he(e){return Ar(e.symbol)}function Nr(e){return Ar(e.parent)}function wr(e){return e&&0!=(1048576&e.flags)?Ar(e.exportSymbol):e}function Ir(e){return 107455&e.flags||2097152&e.flags&&107455&dr(e).flags}function Pr(e){e=new t(v,e);return r++,e.id=r,e}function Or(e,t){e=Pr(e);return e.intrinsicName=t,e}function Fr(e,t){var n=Pr(32768);return n.objectFlags=e,n.symbol=t,n}function Lr(e){return 95===e.charCodeAt(0)&&95===e.charCodeAt(1)&&95!==e.charCodeAt(2)&&64!==e.charCodeAt(2)}function Rr(e){var n;return e.forEach(function(e,t){Lr(t)||(n=n||[],Ir(e)&&n.push(e))}),n||h_.emptyArray}function Mr(e,t,n,r,i,a){return e.members=t,e.properties=Rr(t),e.callSignatures=n,e.constructSignatures=r,i&&(e.stringIndexInfo=i),a&&(e.numberIndexInfo=a),e}function Ur(e,t,n,r,i,a){return Mr(Fr(16,e),t,n,r,i,a)}function Br(e,t){for(var n,r=e;r;r=r.parent){if(r.locals&&!Qn(r)&&(n=t(r.locals)))return n;switch(r.kind){case 265:if(!h_.isExternalOrCommonJsModule(r))break;case 233:if(n=t(he(r).exports))return n}}return t(It)}function jr(e){return 107455===e?107455:1920}function Kr(r,i,a,s){var t;if(r&&!function(){if(r.declarations&&r.declarations.length){for(var e=0,t=r.declarations;e<t.length;e++)switch(t[e].kind){case 149:case 151:case 153:case 154:continue;default:return}return 1}}())return t=[],Br(i,function n(e){if(h_.pushIfUnique(t,e))return e=function(e){return c(e.get(r.escapedName))?[r]:h_.forEachEntry(e,function(e){var t;if(2097152&e.flags&&"export="!==e.escapedName&&!h_.getDeclarationOfKind(e,246)&&!(function(e){return e&&e.declarations&&e.declarations[0]&&h_.isNamespaceExportDeclaration(e.declarations[0])}(e)&&i&&h_.isExternalModule(h_.getSourceFileOfNode(i)))&&(!s||h_.some(e.declarations,h_.isExternalModuleImportEqualsDeclaration)))return t=dr(e),c(e,t)?[e]:(t=t.exports?n(t.exports):void 0)&&o(e,jr(a))?[e].concat(t):void 0})}(e),t.pop(),e});function o(e,t){return!zr(e,i,t)||!!Kr(e.parent,i,jr(t),s)}function c(e,t){return r===(t||e)&&!h_.some(e.declarations,qr)&&o(e,a)}}function zr(t,e,n){var r=!1;return Br(e,function(e){e=e.get(t.escapedName);return!!e&&(e===t||!!((2097152&e.flags&&!h_.getDeclarationOfKind(e,246)?dr(e):e).flags&n)&&(r=!0))}),r}function $r(e,t){return 0===Jr(e,t,793064,!1).accessibility}function Jr(e,t,n,r){if(!e||!t||262144&e.flags)return{accessibility:0};for(var i=e,a=n;e;){var s=Kr(e,t,a,!1);if(s)return Vr(s[0],r)||{accessibility:1,errorSymbolName:ye(i,t,n),errorModuleName:e!==i?ye(e,t,1920):void 0};a=jr(n),e=Nr(e)}var o=h_.forEach(i.declarations,c);return o&&o!==c(t)?{accessibility:2,errorSymbolName:ye(i,t,n),errorModuleName:ye(o)}:{accessibility:1,errorSymbolName:ye(i,t,n)};function c(e){e=h_.findAncestor(e,qr);return e&&he(e)}}function qr(e){return h_.isAmbientModule(e)||265===e.kind&&h_.isExternalOrCommonJsModule(e)}function Vr(e,n){var r;if(!h_.forEach(e.declarations,function(e){return!(ii(e=e)||(t=ir(e))&&!h_.hasModifier(t,1)&&ii(t.parent)&&(n&&(q(e).isVisible=!0,r=h_.appendIfUnique(r,t)),1));var t}))return{accessibility:0,aliasesToMakeVisible:r}}function Hr(e,t){var n=162===e.parent.kind||h_.isExpressionWithTypeArgumentsInClassExtendsClause(e.parent)?1156031:143===e.kind||179===e.kind||237===e.parent.kind?1920:793064,e=Qp(e),t=Zn(t,e.escapedText,n,void 0,void 0,!1);return t&&Vr(t,!0)||{accessibility:1,errorSymbolName:h_.getTextOfNode(e),errorNode:e}}function Gr(e,t){e.writeKeyword(h_.tokenToString(t))}function A(e,t){e.writePunctuation(h_.tokenToString(t))}function N(e){e.writeSpace(" ")}function ye(t,n,r){return h_.usingSingleLineStringWriter(function(e){ri().buildSymbolDisplay(t,e,n,r)})}function Wr(t,n,r,i){return h_.usingSingleLineStringWriter(function(e){ri().buildSignatureDisplay(t,e,n,r,i)})}function ve(e,t,n){var e=_.typeToTypeNode(e,t,(e=h_.NodeBuilderFlags.None,n&&(8&n&&(e|=h_.NodeBuilderFlags.NoTruncation),256&n&&(e|=h_.NodeBuilderFlags.UseFullyQualifiedType),4096&n&&(e|=h_.NodeBuilderFlags.SuppressAnyReturnType),1&n&&(e|=h_.NodeBuilderFlags.WriteArrayAsGenericType),64&n)&&(e|=h_.NodeBuilderFlags.WriteTypeArgumentsOfSignature),e|h_.NodeBuilderFlags.IgnoreErrors|h_.NodeBuilderFlags.WriteTypeParametersInQualifiedName)),r=(h_.Debug.assert(void 0!==e,"should always get typenode"),h_.createTextWriter("")),i=h_.createPrinter({removeComments:!0}),t=t&&h_.getSourceFileOfNode(t),i=(i.writeNode(4,e,t,r),r.getText()),e=ue.noErrorTruncation||8&n?void 0:100;return e&&i.length>=e?i.substr(0,e-"...".length)+"...":i}function Qr(t,n,r){return h_.usingSingleLineStringWriter(function(e){ri().buildTypePredicateDisplay(t,e,n,r)})}function Yr(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e[r];if(n|=i.flags,!(6144&i.flags)){if(384&i.flags){var a=128&i.flags?Pe:Gi(i);if(65536&a.flags){var s=a.types.length;if(r+s<=e.length&&e[r+s-1]===a.types[s-1]){t.push(a),r+=s-1;continue}}}t.push(i)}}return 4096&n&&t.push(ae),2048&n&&t.push(we),t||e}function Xr(e){return 8===e?"private":16===e?"protected":"public"}function Zr(e){if(e.symbol&&2048&e.symbol.flags){e=h_.findAncestor(e.symbol.declarations[0].parent,function(e){return 168!==e.kind});if(231===e.kind)return he(e)}}function ei(e){return e&&e.parent&&234===e.parent.kind&&h_.isExternalModuleAugmentation(e.parent.parent)}function ti(e){return 32&e.flags?'"'+h_.escapeString(e.value)+'"':""+e.value}function ni(e,t){if(e.declarations&&e.declarations.length){var n=e.declarations[0],r=h_.getNameOfDeclaration(n);if(r)return h_.declarationNameToString(r);if(n.parent&&226===n.parent.kind)return h_.declarationNameToString(n.parent.name);switch(!t||t.encounteredError||t.flags&h_.NodeBuilderFlags.AllowAnonymousIdentifier||(t.encounteredError=!0),n.kind){case 199:return"(Anonymous class)";case 186:case 187:return"(Anonymous function)"}}if(e.syntheticLiteralTypeOrigin){r=e.syntheticLiteralTypeOrigin.value;if(!h_.isIdentifierText(r,ue.target))return'"'+h_.escapeString(r,34)+'"'}return h_.symbolName(e)}function ri(){function T(e,t){t.writeSymbol(ni(e),e)}function C(e,a,c,t,l,n){var u;function d(e){var t,n,r,i;u?(1&l&&(1&h_.getCheckFlags(e)?f(Ri(2097152&u.flags?dr(u):u),e.mapper,a,c):o(u,a,c)),n=a,r=ni(t=e),i=r.charCodeAt(0),h_.isIdentifierStart(i,de)?(A(n,23),n.writeSymbol(r,t)):(A(n,21),h_.isSingleOrDoubleQuote(i)?n.writeStringLiteral(r):n.writeSymbol(r,t),A(n,22))):T(e,a),u=e}a.trackSymbol(e,c,t),262144&e.flags||!c&&!(256&n)?d(e):function e(t,n,r){var i,a=Kr(t,c,n,!!(2&l));if(a&&!zr(a[0],c,1===a.length?n:jr(n))||(i=Nr(a?a[0]:t))&&e(i,jr(n),!1),a)for(var s=0,o=a;s<o.length;s++)d(o[s]);else!r&&(!u&&h_.forEach(t.declarations,qr)||6144&t.flags)||d(t)}(e,t,!0)}function s(e,_,m,g,h){var y=16416&g,v=!1;return b(e,g);function b(e,t){var n,r=-1025&t;if(16793231&e.flags)_.writeKeyword(32&g||!w(e)?e.intrinsicName:"any");else if(16384&e.flags&&e.isThisType)v&&_.reportInaccessibleThisError(),_.writeKeyword("this");else if(4&P(e)){var i=e,a=r,s=i.typeArguments||h_.emptyArray;if(i.target!==Qe||1&a)if(8&i.target.objectFlags)A(_,21),f(i.typeArguments.slice(0,ss(i)),26),A(_,22);else if(16384&a&&i.symbol.valueDeclaration&&199===i.symbol.valueDeclaration.kind)k(i,a);else{var o=i.target.outerTypeParameters,c=0;if(o)for(var l=o.length;c<l;){for(var u=c,d=ts(o[c]);++c<l&&ts(o[c])===d;);h_.rangeEquals(o,s,u,c)||(x(d,s,u,c,a),A(_,23))}var p=(i.target.typeParameters||h_.emptyArray).length;x(i.symbol,s,c,p,a)}else b(s[0],32896),A(_,21),A(_,22)}else 256&e.flags&&!(65536&e.flags)?(C(i=Nr(e.symbol),_,m,793064,0,r),be(i)!==e&&(A(_,23),T(e.symbol,_))):3&P(e)||16656&e.flags?C(e.symbol,_,m,793064,0,r):1024&t||!e.aliasSymbol||!(65536&t||$r(e.aliasSymbol,m))?196608&e.flags?(p=e,128&(n=r)&&A(_,19),65536&p.flags?f(Yr(p.types),49):f(p.types,48),128&n&&A(_,20)):48&P(e)?k(e,r):96&e.flags?_.writeStringLiteral(ti(e)):262144&e.flags?(128&t&&A(_,19),_.writeKeyword("keyof"),N(_),b(e.type,128),128&t&&A(_,20)):524288&e.flags?(b(e.objectType,128),A(_,21),b(e.indexType,0),A(_,22)):(A(_,17),N(_),A(_,24),N(_),A(_,18)):(n=e.aliasTypeArguments,x(e.aliasSymbol,n,0,h_.length(n),r))}function f(e,t){for(var n=0;n<e.length;n++)0<n&&(26!==t&&N(_),A(_,t),N(_)),b(e[n],26===t?0:128)}function x(e,t,n,r,i){if((32&e.flags||!Lr(e.escapedName))&&C(e,_,m,793064,0,i),n<r){for(A(_,27),b(t[n],512),n++;n<r;)A(_,26),N(_),b(t[n],0),n++;A(_,29)}}function k(e,t){var n,r,i=e.symbol;i?32&i.flags&&!Di(i)&&!(199===i.valueDeclaration.kind&&16384&t)||896&i.flags||(n=!!(8192&i.flags)&&h_.some(i.declarations,function(e){return h_.hasModifier(e,32)}),r=!!(16&i.flags)&&(i.parent||h_.some(i.declarations,function(e){return 265===e.parent.kind||234===e.parent.kind})),(n||r)&&(4&t||h_.contains(h,i)))?a(e,t):h_.contains(h,i)?(n=Zr(e))?C(n,_,m,793064,0,t):Gr(_,119):(h=h||[],16&e.objectFlags&&e.symbol&&32&e.symbol.flags?s(e,t):(h.push(i),s(e,t),h.pop())):s(e,t)}function a(e,t){32768&t&&A(_,19),Gr(_,103),N(_),C(e.symbol,_,m,107455,0,t),32768&t&&A(_,20)}function S(e){yd(e)&&(Gr(_,131),N(_)),C(e,_),16777216&e.flags&&A(_,55)}function s(e,t){if(ha(e))f=e,A(_,17),_.writeLine(),_.increaseIndent(),f.declaration.readonlyToken&&(Gr(_,131),N(_)),A(_,21),T(_a(f).symbol,_),N(_),Gr(_,92),N(_),b(ma(f),0),A(_,22),f.declaration.questionToken&&A(_,55),A(_,56),N(_),b(ga(f),0),A(_,25),_.writeLine(),_.decreaseIndent(),A(_,18);else{f=ya(e);if(!f.properties.length&&!f.stringIndexInfo&&!f.numberIndexInfo){if(!f.callSignatures.length&&!f.constructSignatures.length)return A(_,17),A(_,18);if(1===f.callSignatures.length&&!f.constructSignatures.length)return e=f.callSignatures[0],(e=!!(128&t)||!!(512&t)&&(e=(e.target&&64&t?e.target:e).typeParameters)&&0!==e.length)&&A(_,19),E(f.callSignatures[0],_,m,16|y,void 0,h),e&&A(_,20);if(1===f.constructSignatures.length&&!f.callSignatures.length)return 128&t&&A(_,19),Gr(_,94),N(_),E(f.constructSignatures[0],_,m,16|y,void 0,h),128&t&&A(_,20)}for(var e=v,t=(v=!0,A(_,17),_.writeLine(),_.increaseIndent(),f),n=0,r=t.callSignatures;n<r.length;n++)E(p=r[n],_,m,y,void 0,h),A(_,25),_.writeLine();for(var i=0,a=t.constructSignatures;i<a.length;i++)E(p=a[i],_,m,y,1,h),A(_,25),_.writeLine();D(t.stringIndexInfo,_,0,m,g,h),D(t.numberIndexInfo,_,1,m,g,h);for(var s=0,o=t.properties;s<o.length;s++){var c=o[s];if(16384&g){if(4194304&c.flags)continue;24&h_.getDeclarationModifierFlagsFromSymbol(c)&&_.reportPrivateInBaseOfClassExpression(h_.symbolName(c))}var l=V(c);if(8208&c.flags&&!va(l).length)for(var u=0,d=G(l,0);u<d.length;u++){var p=d[u];S(c),E(p,_,m,y,void 0,h),A(_,25),_.writeLine()}else S(c),A(_,56),N(_),b(l,16384&g),A(_,25),_.writeLine()}_.decreaseIndent(),A(_,18),v=e}var f}}function o(e,t,n,r){var i=Vp(e);(32&i.flags||64&i.flags||524288&i.flags)&&d(Li(e),t,n,r)}function a(e,t,n,r,i){T(e.symbol,t);var a=xa(e),a=(a&&(N(t),Gr(t,85),N(t),s(a,t,n,r,i)),Da(e));a&&(N(t),A(t,58),N(t),s(a,t,n,r,i))}function c(e,t,n,r,i){var a=e.valueDeclaration,e=((a?h_.isRestParameter(a):qn(e)&&e.isRestParameter)&&A(t,24),a&&h_.isBindingPattern(a.name)?l(a.name,t,n,r,i):T(e,t),a&&Ba(a)&&A(t,55),A(t,56),N(t),V(e));s(e=a&&If(a)?mc(e,2048):e,t,n,r,i)}function l(e,t,n,r,i){174===e.kind?(A(t,17),p(e.elements,t,function(e){u(e,t,n,r,i)}),A(t,18)):175===e.kind&&(A(t,21),p(e=e.elements,t,function(e){u(e,t,n,r,i)}),e&&e.hasTrailingComma&&A(t,26),A(t,22))}function u(e,t,n,r,i){h_.isOmittedExpression(e)||(h_.Debug.assert(176===e.kind),e.propertyName&&(t.writeProperty(h_.getTextOfNode(e.propertyName)),A(t,56),N(t)),h_.isBindingPattern(e.name)?l(e.name,t,n,r,i):(e.dotDotDotToken&&A(t,24),T(e.symbol,t)))}function d(e,t,n,r,i){e&&e.length&&(A(t,27),p(e,t,function(e){a(e,t,n,r,i)}),A(t,29))}function p(e,t,n){for(var r=0;r<e.length;r++)0<r&&(A(t,26),N(t)),n(e[r])}function f(e,t,n,r){if(e&&e.length){A(n,27);for(var i=512,a=0;a<e.length;a++)0<a&&(A(n,26),N(n),i=0),s(t(e[a]),n,r,i);A(n,29)}}function _(e,t,n,r,i,a){A(n,19),e&&c(e,n,r,i,a);for(var s=0;s<t.length;s++)(0<s||e)&&(A(n,26),N(n)),c(t[s],n,r,i,a);A(n,20)}function m(e,t,n,r,i){h_.isIdentifierTypePredicate(e)?t.writeParameter(e.parameterName):Gr(t,99),N(t),Gr(t,126),N(t),s(e.type,t,n,r,i)}function g(e,t,n,r,i){var a=ke(e);4096&r&&w(a)||(16&r?(N(t),A(t,36)):A(t,56),N(t),e.typePredicate?m(e.typePredicate,t,n,r,i):s(a,t,n,r,i))}function E(e,t,n,r,i,a){1===i&&(Gr(t,94),N(t)),e.target&&64&r?f(e.target.typeParameters,e.mapper,t,n):d(e.typeParameters,t,n,r,a),_(e.thisParameter,e.parameters,t,n,r,a),g(e,t,n,r,a)}function D(e,t,n,r,i,a){if(e){switch(e.isReadonly&&(Gr(t,131),N(t)),A(t,21),t.writeParameter(e.declaration?h_.declarationNameToString(e.declaration.parameters[0].name):"x"),A(t,56),N(t),n){case 1:Gr(t,133);break;case 0:Gr(t,136)}A(t,22),A(t,56),N(t),s(e.type,t,r,i,a),A(t,25),t.writeLine()}}return sn=sn||{buildSymbolDisplay:C,buildTypeDisplay:s,buildTypeParameterDisplay:a,buildTypePredicateDisplay:m,buildParameterDisplay:c,buildDisplayForParametersAndDelimiters:_,buildDisplayForTypeParametersAndDelimiters:d,buildTypeParameterDisplayFromSymbol:o,buildSignatureDisplay:E,buildIndexSignatureDisplay:D,buildReturnTypeDisplay:g}}function ii(t){var e;return!!t&&(void 0===(e=q(t)).isVisible&&(e.isVisible=!!function(){switch(t.kind){case 176:return ii(t.parent.parent);case 226:if(h_.isBindingPattern(t.name)&&!t.name.elements.length)return;case 233:case 229:case 230:case 231:case 228:case 232:case 237:var e;return h_.isExternalModuleAugmentation(t)?1:(e=li(t),(1&h_.getCombinedModifierFlags(t)||237!==t.kind&&265!==e.kind&&h_.isInAmbientContext(e)?ii:Qn)(e));case 149:case 148:case 153:case 154:case 151:case 150:if(h_.hasModifier(t,24))return;case 152:case 156:case 155:case 157:case 146:case 234:case 160:case 161:case 163:case 159:case 164:case 165:case 166:case 167:case 168:return ii(t.parent);case 239:case 240:case 242:return;case 145:case 265:case 236:return 1;default:return}}()),e.isVisible)}function ai(e){e.parent&&243===e.parent.kind?t=Zn(e.parent,e.escapedText,2998271,h_.Diagnostics.Cannot_find_name_0,e,!1):246===e.parent.kind&&(t=or(e.parent,2998271));var t,r=[];return t&&function n(e){h_.forEach(e,function(e){q(e).isVisible=!0;var t=ir(e)||e;h_.pushIfUnique(r,t),h_.isInternalModuleImportEqualsDeclaration(e)&&(t=Zn(e,Qp(e.moduleReference).escapedText,901119,void 0,void 0,!1))&&n(t.declarations)})}(t.declarations),r}function si(e,t){var n=oi(e,t);if(!(0<=n))return Ut.push(e),Bt.push(!0),jt.push(t),1;for(var r=Ut.length,i=n;i<r;i++)Bt[i]=!1}function oi(e,t){for(var n,r,i=Ut.length-1;0<=i;i--){if(n=Ut[i],0===(r=jt[i])?p(n).type:2===r?p(n).declaredType:1===r?n.resolvedBaseConstructorType:3===r?n.resolvedReturnType:void h_.Debug.fail("Unhandled TypeSystemPropertyName "+r))return-1;if(Ut[i]===e&&jt[i]===t)return i}return-1}function ci(){return Ut.pop(),jt.pop(),Bt.pop()}function li(e){return(e=h_.findAncestor(h_.getRootDeclaration(e),function(e){switch(e.kind){case 226:case 227:case 242:case 241:case 240:case 239:return!1;default:return!0}}))&&e.parent}function ui(e,t){e=H(e,t);return e?V(e):void 0}function w(e){return e&&0!=(1&e.flags)}function di(e){var t=he(e);return t&&p(t).type||yi(e,!1)}function pi(e){return 144===e.kind&&!h_.isStringOrNumericLiteral(e.expression)}function fi(e,t,n){if(8192&(e=ol(e,function(e){return!(6144&e.flags)})).flags)return I;if(65536&e.flags)return cl(e,function(e){return fi(e,t,n)});for(var r=h_.createSymbolTable(),i=h_.createUnderscoreEscapedMap(),a=0,s=t;a<s.length;a++){var o=s[a];i.set(h_.getTextOfPropertyName(o),!0)}for(var c=0,l=xe(e);c<l.length;c++){var u=l[c],d=i.has(u.escapedName),p=24&h_.getDeclarationModifierFlagsFromSymbol(u),f=65536&u.flags&&!(32768&u.flags);d||p||so(u)||f||r.set(u.escapedName,u)}var _=O(e,0),e=O(e,1);return Ur(n,r,h_.emptyArray,h_.emptyArray,_,e)}function _i(e){var t,n=e.parent,r=di(n.parent);if(r===_e)return _e;if(!r)return e.initializer?Rd(e):r;if(w(r))return r;if(174===n.kind)if(e.dotDotDotToken){if(!ru(r))return ge(e,h_.Diagnostics.Rest_types_may_only_be_created_from_object_types),_e;for(var i=[],a=0,s=n.elements;a<s.length;a++){var o=s[a];o.dotDotDotToken||i.push(o.propertyName||o.name)}t=fi(r,i,e.symbol)}else{var c=e.propertyName||e.name;if(pi(c))return J;var l=h_.getTextOfPropertyName(c),u=ui(r,l);if(!(t=u&&bl(e,u)||Zl(l)&&Fa(r,1)||Fa(r,0)))return ge(c,h_.Diagnostics.Type_0_has_no_property_1_and_no_string_index_signature,ve(r),h_.declarationNameToString(c)),_e}else{u=Fp(r,n,!1,!1);if(e.dotDotDotToken)t=Ls(u);else{l=""+h_.indexOf(n.elements,e);if(!(t=ac(r)?ui(r,l):u))return uc(r)?ge(e,h_.Diagnostics.Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2,ve(r),ss(r),n.elements.length):ge(e,h_.Diagnostics.Type_0_has_no_property_1,ve(r),l),_e}}return!pe||!e.initializer||2048&pc(Fd(e.initializer))||(t=Hc(t,131072)),e.initializer?W([t,Fd(e.initializer)],!0):t}function mi(e){e=h_.getJSDocType(e);if(e)return Q(e)}function gi(e){e=h_.skipParentheses(e);return 177===e.kind&&0===e.elements.length}function hi(e,t){return pe&&t?mc(e,2048):e}function yi(e,t){if(215===e.parent.parent.kind)return 278528&(n=Vs(Su(e.parent.parent.expression))).flags?n:me;if(216===e.parent.parent.kind)return Op((n=e.parent.parent).expression,n.awaitModifier)||J;if(h_.isBindingPattern(e.parent))return _i(e);var n=h_.getEffectiveTypeAnnotationNode(e);if(n)return hi(Q(n),e.questionToken&&t);if((X||h_.isInJavaScriptFile(e))&&226===e.kind&&!h_.isBindingPattern(e.name)&&!(1&h_.getCombinedModifierFlags(e))&&!h_.isInAmbientContext(e)){if(!(2&h_.getCombinedNodeFlags(e)||e.initializer&&(n=e.initializer,95!==(n=h_.skipParentheses(n)).kind)&&(71!==n.kind||Mc(n)!==m)))return re;if(e.initializer&&gi(e.initializer))return it}if(146===e.kind){n=e.parent;if(154===n.kind&&!h_.hasDynamicName(n)){var r=h_.getDeclarationOfKind(e.parent.symbol,153);if(r)return r=za(r),(i=c_(n))&&e===i?(h_.Debug.assert(!i.type),V(r.thisParameter)):ke(r)}var i=void 0;if(i="this"===e.symbol.escapedName?Ll(n):Rl(e))return hi(i,e.questionToken&&t)}return e.initializer?hi(i=Rd(e),e.questionToken&&t):h_.isJsxAttribute(e)?ce:262===e.kind?El(e.name):h_.isBindingPattern(e.name)?bi(e.name,!1,!0):void 0}function vi(e,t,n){return e.initializer?Rd(e):h_.isBindingPattern(e.name)?bi(e.name,t,n):(n&&X&&!ki(e)&&kc(e,J),J)}function bi(e,t,n){return 174===e.kind?(a=e,s=t,o=n,l=h_.createSymbolTable(),u=!1,h_.forEach(a.elements,function(e){var t=e.propertyName||e.name;pi(t)?u=!0:e.dotDotDotToken?c=Xa(J,!1):(t=h_.getTextOfPropertyName(t),(t=Jn(4|(e.initializer?16777216:0),t)).type=vi(e,s,o),t.bindingElement=e,l.set(t.escapedName,t))}),d=Ur(void 0,l,h_.emptyArray,h_.emptyArray,c,void 0),s&&(d.pattern=a),u&&(d.objectFlags|=512),d):(r=t,i=n,d=(a=e).elements,t=h_.lastOrUndefined(d),0===d.length||!h_.isOmittedExpression(t)&&t.dotDotDotToken?2<=de?Os(J):rt:(t=Rs(h_.map(d,function(e){return h_.isOmittedExpression(e)?J:vi(e,r,i)})),r&&((t=as(t)).pattern=a),t));var r,i,a,s,o,c,l,u,d}function xi(e,t){var n=yi(e,!0);return n?(t&&Sc(e,n),261===e.kind?n:xc(n)):(n=e.dotDotDotToken?rt:J,t&&X&&(ki(e)||kc(e,n)),n)}function ki(e){e=h_.getRootDeclaration(e);return Yd(146===e.kind?e.parent:e)}function Si(l){var e=p(l);if(!e.type){if(4194304&l.flags)return e.type=(t=be(Nr(l))).typeParameters?is(t,h_.map(t.typeParameters,function(e){return J})):t;var t=l.valueDeclaration;if(h_.isCatchClauseVariableDeclarationOrBindingElement(t))return e.type=J;if(243===t.kind)return e.type=Te(t.expression);if(h_.isInJavaScriptFile(t)&&h_.isJSDocPropertyLikeTag(t)&&t.typeExpression)return e.type=Q(t.typeExpression.type);if(!si(l,0))return _e;var n=void 0,n=194===t.kind||179===t.kind&&194===t.parent.kind?function(){for(var e,t=[],n=!1,r=!1,i=0,a=l.declarations;i<a.length;i++){var s=a[i],o=194===s.kind?s:179===s.kind?h_.getAncestor(s,194):void 0;if(!o)return _e;h_.isPropertyAccessExpression(o.left)&&99===o.left.expression.kind&&(152===h_.getThisContainer(o,!1).kind?n=!0:r=!0);var c=mi(o.parent);c?(c=xc(c),e?e===_e||c===_e||Ao(e,c)||ge(s=h_.getNameOfDeclaration(s),h_.Diagnostics.Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_type_2,h_.declarationNameToString(s),ve(e),ve(c)):e=c):e||t.push(lc(Fd(o.right)))}return xc(hi(e||W(t,!0),r&&!n))}():xi(t,!0);ci()||(n=Ai(l)),e.type=n}return e.type}function Ti(e){var t;if(e)return 153===e.kind?(t=h_.getEffectiveReturnTypeNode(e))&&Q(t):(t=h_.getEffectiveSetAccessorTypeAnnotationNode(e))&&Q(t)}function Ci(e){return Ja(za(e))}function Ei(e){var t=p(e);if(!t.type){var n=h_.getDeclarationOfKind(e,153),r=h_.getDeclarationOfKind(e,154);if(n&&h_.isInJavaScriptFile(n)){var i=mi(n);if(i)return t.type=i}if(!si(e,0))return _e;var i=void 0,a=Ti(n);i=a||Ti(r)||(n&&n.body?pd(n):(X&&(r?ge(r,h_.Diagnostics.Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_parameter_type_annotation,ye(e)):(h_.Debug.assert(!!n,"there must existed getter as we are current checking either setter or getter in this function"),ge(n,h_.Diagnostics.Property_0_implicitly_has_type_any_because_its_get_accessor_lacks_a_return_type_annotation,ye(e)))),J)),ci()||(i=J,X&&ge(h_.getDeclarationOfKind(e,153),h_.Diagnostics._0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions,ye(e))),t.type=i}return t.type}function Di(e){e=zi(qi(e));return 540672&e.flags?e:void 0}function Ai(e){return h_.getEffectiveTypeAnnotationNode(e.valueDeclaration)?(ge(e.valueDeclaration,h_.Diagnostics._0_is_referenced_directly_or_indirectly_in_its_own_type_annotation,ye(e)),_e):(X&&ge(e.valueDeclaration,h_.Diagnostics._0_implicitly_has_type_any_because_it_does_not_have_a_type_annotation_and_is_referenced_directly_or_indirectly_in_its_own_initializer,ye(e)),J)}function V(e){if(1&h_.getCheckFlags(e)){var t=e,n=p(t);if(!n.type)if(100===f)ge(t.valueDeclaration,h_.Diagnostics.Generic_type_instantiation_is_excessively_deep_and_possibly_infinite),n.type=_e;else{if(!si(t,0))return _e;f++;var r=K(V(n.target),n.mapper);f--,ci()||(r=Ai(t)),n.type=r}return n.type}return 7&e.flags?Si(e):9136&e.flags?((r=p(t=e)).type||(1536&t.flags&&h_.isShorthandAmbientModuleSymbol(t)?r.type=J:(n=Fr(16,t),32&t.flags?(a=Di(t),r.type=a?Js([n,a]):n):r.type=pe&&16777216&t.flags?mc(n,2048):n)),r.type):8&e.flags?((i=p(a=e)).type||(i.type=Qi(a)),i.type):98304&e.flags?Ei(e):2097152&e.flags?((e=p(i=e)).type||(i=dr(i),e.type=107455&i.flags?V(i):_e),e.type):_e;var i,a}function Ni(e,t){return void 0!==e&&void 0!==t&&0!=(4&P(e))&&e.target===t}function wi(e){return 4&P(e)?e.target:e}function Ii(e,r){return function e(t){var n;return 7&P(t)?(n=wi(t))===r||h_.forEach($i(n),e):131072&t.flags?h_.forEach(t.types,e):void 0}(e)}function Pi(e,t){for(var n=0,r=t;n<r.length;n++){var i=Yi(he(r[n]));e=h_.appendIfUnique(e,i)}return e}function Oi(e,t){for(;;){if(!(e=e.parent))return;switch(e.kind){case 229:case 199:case 230:case 155:case 156:case 150:case 160:case 161:case 273:case 228:case 151:case 186:case 187:case 231:case 282:case 172:var n,r=Oi(e,t);return 172===e.kind?h_.append(r,Yi(he(e.typeParameter))):(r=Pi(r,h_.getEffectiveTypeParameterDeclarations(e)||h_.emptyArray),(n=t&&(229===e.kind||199===e.kind||230===e.kind)&&qi(he(e)).thisType)?h_.append(r,n):r)}}}function Fi(e){return Oi(32&e.flags?e.valueDeclaration:h_.getDeclarationOfKind(e,230))}function Li(e){for(var t,n=0,r=e.declarations;n<r.length;n++){var i=r[n];230!==i.kind&&229!==i.kind&&199!==i.kind&&231!==i.kind||i.typeParameters&&(t=Pi(t,i.typeParameters))}return t}function Ri(e){return h_.concatenate(Fi(e),Li(e))}function Mi(e){var e=G(e,1);return 1===e.length&&!(e=e[0]).typeParameters&&1===e.parameters.length&&e.hasRestParameter&&sd(e.parameters[0])===rt}function Ui(e){return Ji(e)&&0<G(e,1).length||(540672&e.flags?(e=Sa(e))&&Ji(e)&&Mi(e):void 0)}function Bi(e){e=e.symbol.valueDeclaration;if(h_.isInJavaScriptFile(e)){var t=h_.getJSDocAugmentsTag(e);if(t)return t.class}return h_.getClassExtendsHeritageClauseElement(e)}function ji(e,t,n){var r=h_.length(t),i=h_.isInJavaScriptFile(n);return h_.filter(G(e,1),function(e){return(i||r>=ja(e.typeParameters))&&r<=h_.length(e.typeParameters)})}function Ki(e,t,n){var e=ji(e,t,n),r=h_.map(t,Q);return h_.sameMap(e,function(e){return h_.some(e.typeParameters)?Va(e,r,h_.isInJavaScriptFile(n)):e})}function zi(e){if(!e.resolvedBaseConstructorType){var t=e.symbol.valueDeclaration,t=h_.getClassExtendsHeritageClauseElement(t),n=Bi(e);if(!n)return e.resolvedBaseConstructorType=we;if(!si(e,1))return _e;var r=Te(n.expression);if(t&&n!==t&&(h_.Debug.assert(!t.typeArguments),Te(t.expression)),163840&r.flags&&ya(r),!ci())return ge(e.symbol.valueDeclaration,h_.Diagnostics._0_is_referenced_directly_or_indirectly_in_its_own_base_expression,ye(e.symbol)),e.resolvedBaseConstructorType=_e;if(!(1&r.flags||r===se||Ui(r)))return ge(n.expression,h_.Diagnostics.Type_0_is_not_a_constructor_function_type,ve(r)),e.resolvedBaseConstructorType=_e;e.resolvedBaseConstructorType=r}return e.resolvedBaseConstructorType}function $i(e){if(!e.resolvedBaseTypes)if(8&e.objectFlags)e.resolvedBaseTypes=[Ls(W(e.typeParameters))];else if(96&e.symbol.flags){if(32&e.symbol.flags&&function(e){e.resolvedBaseTypes=h_.emptyArray;var t=$(zi(e));if(163841&t.flags){var n,r,i=Bi(e),a=fs(i),s=t&&t.symbol?be(t.symbol):void 0;if(t.symbol&&32&t.symbol.flags&&(!(o=s.outerTypeParameters)||(r=o.length-1,s=s.typeArguments,o[r].symbol!==s[r].symbol)))n=os(i,t.symbol,a);else if(1&t.flags)n=t;else{var o=Ki(t,i.typeArguments,i);if(!o.length)return ge(i.expression,h_.Diagnostics.No_base_constructor_has_the_specified_number_of_type_arguments);n=ke(o[0])}if(n!==_e)Ji(n)?e===n||Ii(n,e)?ge(e.symbol.valueDeclaration,h_.Diagnostics.Type_0_recursively_references_itself_as_a_base_type,ve(e,void 0,1)):e.resolvedBaseTypes=[n]:ge(i.expression,h_.Diagnostics.Base_constructor_return_type_0_is_not_a_class_or_interface_type,ve(n))}}(e),64&e.symbol.flags){var t=e;t.resolvedBaseTypes=t.resolvedBaseTypes||h_.emptyArray;for(var n=0,r=t.symbol.declarations;n<r.length;n++){var i=r[n];if(230===i.kind&&h_.getInterfaceBaseTypeNodes(i))for(var a=0,s=h_.getInterfaceBaseTypeNodes(i);a<s.length;a++){var o=s[a],c=Q(o);c!==_e&&(Ji(c)?t===c||Ii(c,t)?ge(i,h_.Diagnostics.Type_0_recursively_references_itself_as_a_base_type,ve(t,void 0,1)):t.resolvedBaseTypes===h_.emptyArray?t.resolvedBaseTypes=[c]:t.resolvedBaseTypes.push(c):ge(o,h_.Diagnostics.An_interface_may_only_extend_a_class_or_another_interface))}}}}else h_.Debug.fail("type must be class or interface");return e.resolvedBaseTypes}function Ji(e){return 16809985&e.flags&&!ha(e)||131072&e.flags&&!h_.forEach(e.types,function(e){return!Ji(e)})}function qi(s){var e,t,n,r,i=p(s);return!i.declaredType&&(e=32&s.flags?1:2,t=i.declaredType=Fr(e,s),n=Fi(s),r=Li(s),n||r||1==e||!function(){for(var e=0,t=s.declarations;e<t.length;e++){var n=t[e];if(230===n.kind){if(64&n.flags)return;n=h_.getInterfaceBaseTypeNodes(n);if(n)for(var r=0,i=n;r<i.length;r++){var a=i[r];if(h_.isEntityNameExpression(a.expression)){a=gr(a.expression,793064,!0);if(!a||!(64&a.flags)||qi(a).thisType)return}}}}return 1}())&&(t.objectFlags|=4,t.typeParameters=h_.concatenate(n,r),t.outerTypeParameters=n,t.localTypeParameters=r,t.instantiations=h_.createMap(),t.instantiations.set(ns(t.typeParameters),t),(t.target=t).typeArguments=t.typeParameters,t.thisType=Pr(16384),t.thisType.isThisType=!0,t.thisType.symbol=s,t.thisType.constraint=t),i.declaredType}function Vi(e){var t=e.initializer;if(!t)return!h_.isInAmbientContext(e);switch(t.kind){case 9:case 8:return 1;case 192:return 38===t.operator&&8===t.operand.kind;case 71:return h_.nodeIsMissing(t)||he(e.parent).exports.get(t.escapedText);default:return}}function Hi(e){var t=p(e);if(void 0!==t.enumKind)return t.enumKind;for(var n=!1,r=0,i=e.declarations;r<i.length;r++){var a=i[r];if(232===a.kind)for(var s=0,o=a.members;s<o.length;s++){var c=o[s];if(c.initializer&&9===c.initializer.kind)return t.enumKind=1;Vi(c)||(n=!0)}}return t.enumKind=n?0:1}function Gi(e){return 256&e.flags&&!(65536&e.flags)?be(Nr(e.symbol)):e}function Wi(e){var t=p(e);if(t.declaredType)return t.declaredType;if(1===Hi(e)){d++;for(var n=[],r=0,i=e.declarations;r<i.length;r++){var a=i[r];if(232===a.kind)for(var s=0,o=a.members;s<o.length;s++){var c=o[s],l=uo(Ff(c),d,he(c));p(he(c)).declaredType=l,n.push(l)}}if(n.length)return 65536&(u=W(n,!1,e,void 0)).flags&&(u.flags|=256,u.symbol=e),t.declaredType=u}var u=Pr(16);return u.symbol=e,t.declaredType=u}function Qi(e){var t=p(e);return t.declaredType||(e=Wi(Nr(e)),t.declaredType)||(t.declaredType=e),t.declaredType}function Yi(e){var t,n=p(e);return n.declaredType||((t=Pr(16384)).symbol=e,n.declaredType=t),n.declaredType}function be(e){return Xi(e)||_e}function Xi(e){{if(96&e.flags)return qi(e);if(524288&e.flags){var t=e,n=p(t);if(!n.declaredType){if(!si(t,2))return _e;var r=h_.find(t.declarations,function(e){return 283===e.kind||231===e.kind}),i=283===r.kind?r.typeExpression:r.type,i=i?Q(i):_e;ci()?(a=Li(t))&&(n.typeParameters=a,n.instantiations=h_.createMap(),n.instantiations.set(ns(a),i)):(i=_e,ge(r.name,h_.Diagnostics.Type_alias_0_circularly_references_itself,ye(t))),n.declaredType=i}return n.declaredType}return 262144&e.flags?Yi(e):384&e.flags?Wi(e):8&e.flags?Qi(e):2097152&e.flags?((r=p(a=e)).declaredType||(r.declaredType=be(dr(a))),r.declaredType):void 0}var a}function Zi(e){switch(e.kind){case 119:case 136:case 133:case 122:case 137:case 134:case 105:case 139:case 95:case 130:case 173:return!0;case 164:return Zi(e.elementType);case 159:if(e.typeArguments)for(var t=0,n=e.typeArguments;t<n.length;t++)if(!Zi(n[t]))return!1;return!0}return!1}function ea(e){var t=h_.getEffectiveTypeAnnotationNode(e);return t?Zi(t):!e.initializer}function ta(e,t,n){for(var r=h_.createSymbolTable(),i=0,a=e;i<a.length;i++){var s=a[i];r.set(s.escapedName,n&&function(e){if(e.declarations&&1===e.declarations.length){var t=e.declarations[0];if(t)switch(t.kind){case 149:case 148:return ea(t);case 151:case 150:case 152:var n=t;if(152!==n.kind){var r=h_.getEffectiveReturnTypeNode(n);if(!r||!Zi(r))return}for(var i=0,a=n.parameters;i<a.length;i++)if(!ea(a[i]))return;return 1}}}(s)?s:bo(s,t))}return r}function na(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];e.has(i.escapedName)||e.set(i.escapedName,i)}}function ra(e){var t;return e.declaredProperties||(t=e.symbol,e.declaredProperties=Rr(t.members),e.declaredCallSignatures=$a(t.members.get("__call")),e.declaredConstructSignatures=$a(t.members.get("__new")),e.declaredStringIndexInfo=Za(t,0),e.declaredNumberIndexInfo=Za(t,1)),e}function ia(e,t){if(4&P(e)){var n=e.target,r=e.typeArguments;if(h_.length(n.typeParameters)===h_.length(r))return is(n,h_.concatenate(r,[t||n.thisType]))}else if(131072&e.flags)return Js(h_.map(e.types,function(e){return ia(e,t)}));return e}function aa(e,t,n,r){var i,a,s,o,c,l=h_.rangeEquals(n,r,0,n.length)?(i=z,a=t.symbol?t.symbol.members:h_.createSymbolTable(t.declaredProperties),s=t.declaredCallSignatures,o=t.declaredConstructSignatures,c=t.declaredStringIndexInfo,t.declaredNumberIndexInfo):(i=go(n,r),a=ta(t.declaredProperties,i,1===n.length),s=mo(t.declaredCallSignatures,i),o=mo(t.declaredConstructSignatures,i),c=So(t.declaredStringIndexInfo,i),So(t.declaredNumberIndexInfo,i)),n=$i(t);if(n.length){t.symbol&&a===t.symbol.members&&(a=h_.createSymbolTable(t.declaredProperties));for(var u=h_.lastOrUndefined(r),d=0,p=n;d<p.length;d++){var f=p[d],f=u?ia(K(f,i),u):f;na(a,xe(f)),s=h_.concatenate(s,G(f,0)),o=h_.concatenate(o,G(f,1)),c=c||(f===J?Xa(J,!1):O(f,0)),l=l||O(f,1)}}Mr(e,a,s,o,c,l)}function sa(e,t,n,r,i,a,s,o,c){var l=new u(v);return l.declaration=e,l.typeParameters=t,l.parameters=r,l.thisParameter=n,l.resolvedReturnType=i,l.typePredicate=a,l.minArgumentCount=s,l.hasRestParameter=o,l.hasLiteralTypes=c,l}function oa(e){return sa(e.declaration,e.typeParameters,e.thisParameter,e.parameters,e.resolvedReturnType,e.typePredicate,e.minArgumentCount,e.hasRestParameter,e.hasLiteralTypes)}function ca(e,t,n,r,i){for(var a=0,s=e;a<s.length;a++){var o=s[a];if(ec(o,t,n,r,i,No))return o}}function la(e,t){for(var n=h_.map(e,function(e){return G(e,t)}),r=void 0,i=0;i<n.length;i++)for(var a=0,s=n[i];a<s.length;a++){var o,c,l,u=s[a];r&&ca(r,u,!1,!0,!0)||(o=function(e,t,n){if(t.typeParameters){if(0<n)return;for(var r=1;r<e.length;r++)if(!ca(e[r],t,!1,!1,!1))return;return[t]}for(var i=void 0,r=0;r<e.length;r++){var a=r===n?t:ca(e[r],t,!0,!0,!0);if(!a)return;i=h_.appendIfUnique(i,a)}return i}(n,u,i))&&(l=u,1<o.length&&(l=oa(u),h_.forEach(o,function(e){return e.thisParameter})&&(c=W(h_.map(o,function(e){return V(e.thisParameter)||J}),!0),l.thisParameter=yc(u.thisParameter,c)),l.resolvedReturnType=void 0,l.unionSignatures=o),(r=r||[]).push(l))}return r||h_.emptyArray}function ua(e,t){for(var n=[],r=!1,i=0,a=e;i<a.length;i++){var s=O(a[i],t);if(!s)return;n.push(s.type),r=r||s.isReadonly}return Xa(W(n,!0),r)}function da(e,t){return e?t?Js([e,t]):e:t}function pa(e,t){return e?t?Xa(Js([e.type,t.type]),e.isReadonly&&t.isReadonly):e:t}function fa(e,t){return e&&t&&Xa(W([e.type,t.type]),e.isReadonly||t.isReadonly)}function _a(e){return e.typeParameter||(e.typeParameter=Yi(he(e.declaration.typeParameter)))}function ma(e){return e.constraintType||(e.constraintType=K(xa(_a(e)),e.mapper||z)||_e)}function ga(e){return e.templateType||(e.templateType=e.declaration.type?K(hi(Q(e.declaration.type),!!e.declaration.questionToken),e.mapper||z):_e)}function ha(e){return 32&P(e)&&Ws(ma(e))}function ya(e){if(!e.members)if(32768&e.flags){if(4&e.objectFlags)N=ra((t=e).target),w=h_.concatenate(N.typeParameters,[N.thisType]),aa(t,N,w,t.typeArguments&&t.typeArguments.length===w.length?t.typeArguments:h_.concatenate(t.typeArguments,[t]));else if(3&e.objectFlags)aa(e,ra(e),h_.emptyArray,h_.emptyArray);else if(16&e.objectFlags)w=(N=e).symbol,N.target?Mr(N,T=ta(va(N.target),N.mapper,!1),E=mo(G(N.target,0),N.mapper),S=mo(G(N.target,1),N.mapper),C=So(O(N.target,0),N.mapper),D=So(O(N.target,1),N.mapper)):2048&w.flags?(E=$a((T=w.members).get("__call")),S=$a(T.get("__new")),Mr(N,T,E,S,C=Za(w,0),D=Za(w,1))):(T=F,C=void 0,w.exports&&(T=Cr(w)),32&w.flags&&(704512&(E=zi(A=qi(w))).flags?na(T=h_.createSymbolTable(Rr(T)),xe(E)):E===J&&(C=Xa(J,!1))),D=384&w.flags?Nt:void 0,Mr(N,T,h_.emptyArray,h_.emptyArray,C,D),8208&w.flags&&(N.callSignatures=$a(w)),32&w.flags&&(A=qi(w),(S=$a(w.members.get("__constructor"))).length||(S=function(e){var t=G(zi(e),1);if(0===t.length)return[sa(void 0,e.localTypeParameters,void 0,h_.emptyArray,e,void 0,0,!1,!1)];for(var n=Bi(e),r=h_.isInJavaScriptFile(n),i=fs(n),a=h_.length(i),s=[],o=0,c=t;o<c.length;o++){var l=c[o],u=ja(l.typeParameters),d=h_.length(l.typeParameters);(r||u<=a)&&a<=d&&((d=d?Ha(l,Ka(i,l.typeParameters,u,r)):oa(l)).typeParameters=e.localTypeParameters,d.resolvedReturnType=e,s.push(d))}return s}(A)),N.constructSignatures=S));else if(32&e.objectFlags){var s=e,o,c=h_.createSymbolTable(),l=(Mr(s,F,h_.emptyArray,h_.emptyArray,void 0,void 0),_a(s)),t=ma(s),u=ga(s),d=$(((E=s).modifiersType||(170===(a=E.declaration.typeParameter.constraint).kind?E.modifiersType=K(Q(a.type),E.mapper||z):(a=(a=ma(eo(E.declaration)))&&16384&a.flags?xa(a):a,E.modifiersType=a&&262144&a.flags?K(a.type,E.mapper||z):I)),E.modifiersType)),p=!!s.declaration.readonlyToken,f=!!s.declaration.questionToken;if(170===s.declaration.typeParameter.constraint.kind){for(var n=0,r=xe(d);n<r.length;n++){var i=r[n];_(qs(i),i)}(1&d.flags||O(d,0))&&_(me)}else{var a=540672&t.flags?$(t):t;sl(262144&a.flags?Vs($(a.type)):a,_)}function _(e,t){"object"==typeof t&&(n=t);var n,r,i,a,t=go([l],[e]),t=s.mapper?ho(s.mapper,t):t,t=K(u,t);32&e.flags?(r=h_.escapeLeadingUnderscores(e.value),i=H(d,r),(a=Jn(4|(f||i&&16777216&i.flags?16777216:0),r)).checkFlags=p||i&&yd(i)?8:0,a.type=t,n&&(a.syntheticOrigin=n,a.declarations=n.declarations),a.syntheticLiteralTypeOrigin=e,c.set(r,a)):3&e.flags&&(o=Xa(t,p))}Mr(s,c,h_.emptyArray,h_.emptyArray,o,void 0)}}else if(65536&e.flags)C=la((T=e).types,0),D=la(T.types,1),A=ua(T.types,0),S=ua(T.types,1),Mr(T,F,C,D,A,S);else if(131072&e.flags){for(var m=e,g,h,y=h_.emptyArray,v=h_.emptyArray,b=m.types,x=h_.countWhere(b,Mi),k=0;k<b.length;k++)!function(n){var e,t=m.types[n];0!==x&&(x!==b.length||0!==n)&&Mi(t)||((e=G(t,1)).length&&0<x&&(e=h_.map(e,function(e){var t=oa(e);return t.resolvedReturnType=function(e,t,n){for(var r=[],i=0;i<t.length;i++)i===n?r.push(e):Mi(t[i])&&r.push(ke(G(t[i],1)[0]));return Js(r)}(ke(e),b,n),t})),v=h_.concatenate(v,e)),y=h_.concatenate(y,G(t,0)),g=pa(g,O(t,0)),h=pa(h,O(t,1))}(k);Mr(m,F,y,v,g,h)}return e;var S,T,C,E,D,A,t,N,w}function va(e){return 32768&e.flags?ya(e).properties:h_.emptyArray}function ba(e,t){if(32768&e.flags){e=ya(e).members.get(t);if(e&&Ir(e))return e}}function xe(e){return(196608&(e=$(e)).flags?function(e){if(!e.resolvedProperties){for(var t=h_.createSymbolTable(),n=0,r=e.types;n<r.length;n++){for(var i=0,a=xe(r[n]);i<a.length;i++){var s,o=a[i];t.has(o.escapedName)||(s=wa(e,o.escapedName))&&t.set(o.escapedName,s)}if(65536&e.flags)break}e.resolvedProperties=Rr(t)}return e.resolvedProperties}:va)(e)}function xa(e){return Ta(e)?es(e):void 0}function ka(e){var t,n=Ys(e);return n||(n=Sa(e.objectType),t=Sa(e.indexType),n||t?Xs(n||e.objectType,t||e.indexType):void 0)}function Sa(e){if(737280&e.flags){var t=Ca(e);if(t!==Ke&&t!==ze)return t}else if(262144&e.flags)return me}function Ta(e){return Ca(e)!==ze}function Ca(e){var t,n,r;return e.resolvedBaseConstraint||(n=[],r=function o(e){if(!h_.contains(n,e))return n.push(e),e=function(e){var t;if(16384&e.flags)return n=es(e),e.isThisType?n:n?o(n):void 0;if(196608&e.flags){for(var n=e.types,r=[],i=0,a=n;i<a.length;i++){var s=o(a[i]);s&&r.push(s)}return 65536&e.flags&&r.length===n.length?W(r):131072&e.flags&&r.length?Js(r):void 0}return 262144&e.flags?me:524288&e.flags?(n=Ys(e))?o(n):(n=o(e.objectType),t=o(e.indexType),(n=n&&t?Xs(n,t):void 0)&&n!==_e?o(n):void 0):ha(e)?I:e}(e),n.pop(),e;t=!0}(e),e.resolvedBaseConstraint=t?ze:ia(r||Ke,e)),e.resolvedBaseConstraint}function Ea(e){var t;return e.default?e.default===$e&&(e.default=ze):e.target?(t=Ea(e.target),e.default=t?K(t,e.mapper):Ke):(e.default=$e,t=(t=e.symbol&&h_.forEach(e.symbol.declarations,function(e){return h_.isTypeParameterDeclaration(e)&&e.default}))?Q(t):Ke,e.default===$e&&(e.default=t)),e.default}function Da(e){e=Ea(e);return e!==Ke&&e!==ze?e:void 0}function $(e){var t,e=540672&e.flags?Sa(e)||I:e;return 131072&e.flags?(t=e).resolvedApparentType||(t.resolvedApparentType=ia(t,t)):262178&e.flags?Xe:84&e.flags?Ze:136&e.flags?et:512&e.flags?vs(2<=de):16777216&e.flags?I:e}function Aa(e,t){for(var n,r,i=e.types,a=65536&e.flags,s=a?24:0,o=a?0:16777216,c=4,l=0,u=0,d=i;u<d.length;u++)(y=$(d[u]))!==_e&&(r=(h=H(y,t))?h_.getDeclarationModifierFlagsFromSymbol(h):0,!h||r&s?a&&(l|=16):(o&=h.flags,n=h_.appendIfUnique(n,h),l|=(yd(h)?8:0)|(24&r?0:64)|(16&r?128:0)|(8&r?256:0)|(32&r?512:0),xu(h)||(c=2)));if(n){if(1===n.length&&!(16&l))return n[0];for(var p=[],f=[],_=void 0,m=0,g=n;m<g.length;m++){(h=g[m]).declarations&&h_.addRange(f,h.declarations);var h,y=V(h);_?y!==_&&(l|=32):_=y,p.push(y)}i=Jn(4|o,t);return i.checkFlags=c|l,i.containingType=e,i.declarations=f,i.type=(a?W:Js)(p),i}}function Na(e,t){var n=e.propertyCache||(e.propertyCache=h_.createSymbolTable()),r=n.get(t);return r||(r=Aa(e,t))&&n.set(t,r),r}function wa(e,t){e=Na(e,t);return!e||16&h_.getCheckFlags(e)?void 0:e}function H(e,t){if(32768&(e=$(e)).flags){var n=ya(e),r=n.members.get(t);if(r&&Ir(r))return r;if(n===je||n.callSignatures.length||n.constructSignatures.length){r=ba(We,t);if(r)return r}return ba(Ge,t)}if(196608&e.flags)return wa(e,t)}function Ia(e,t){return 229376&e.flags?(e=ya(e),0===t?e.callSignatures:e.constructSignatures):h_.emptyArray}function G(e,t){return Ia($(e),t)}function Pa(e,t){if(229376&e.flags)return e=ya(e),0===t?e.stringIndexInfo:e.numberIndexInfo}function Oa(e,t){e=Pa(e,t);return e&&e.type}function O(e,t){return Pa($(e),t)}function Fa(e,t){return Oa($(e),t)}function La(e,t){if(hc(e)){for(var n=[],r=0,i=xe(e);r<i.length;r++){var a=i[r];0!==t&&!Zl(a.escapedName)||n.push(V(a))}if(n.length)return W(n,!0)}}function Ra(e){var n=[];return e.forEach(function(e,t){Lr(t)||n.push(e)}),n}function Ma(e){if(h_.isInJavaScriptFile(e)){if(e.type&&272===e.type.kind)return 1;e=h_.getJSDocParameterTags(e);if(e)for(var t=0,n=e;t<n.length;t++){var r=n[t];if(r.isBracketed)return 1;if(r.typeExpression)return 272===r.typeExpression.type.kind}}}function Ua(e,t){if(!h_.isExternalModuleNameRelative(e))return(e=Yn(It,'"'+e+'"',512))&&t?Ar(e):e}function Ba(e){var t,n;return!(!h_.hasQuestionToken(e)&&!Ma(e))||(e.initializer?(t=za(n=e.parent),n=h_.indexOf(n.parameters,e),h_.Debug.assert(0<=n),n>=t.minArgumentCount):!!(n=h_.getImmediatelyInvokedFunctionExpression(e.parent))&&!e.type&&!e.dotDotDotToken&&h_.indexOf(e.parent.parameters,e)>=n.arguments.length)}function ja(e){var t,n=0;if(e)for(var r=0;r<e.length;r++)(t=e[r]).symbol&&h_.forEach(t.symbol.declarations,function(e){return h_.isTypeParameterDeclaration(e)&&e.default})||(n=r+1);return n}function Ka(e,t,n,r){var i=h_.length(t);if(i){var a=h_.length(e);if((r||n<=a)&&a<=i){e=e||[];for(var s=a;s<i;s++)e[s]=Lc(r);for(s=a;s<i;s++){var o=go(t,e),c=Da(t[s]);e[s]=c?K(c,o):Lc(r)}}}return e}function za(e){var t,n,r=q(e);if(!r.resolvedSignature){for(var i=[],a=!1,s=0,o=void 0,c=void 0,l=h_.getImmediatelyInvokedFunctionExpression(e),u=h_.isJSDocConstructSignature(e),d=!l&&!u&&h_.isInJavaScriptFile(e)&&!h_.hasJSDocParameterTags(e),p=u?1:0;p<e.parameters.length;p++){var f=e.parameters[p],_=f.symbol;_&&4&_.flags&&!h_.isBindingPattern(f.name)&&(_=Zn(f,_.escapedName,107455,void 0,void 0,!1)),0===p&&"this"===_.escapedName?(c=!0,o=f.symbol):i.push(_),f.type&&173===f.type.kind&&(a=!0),f.initializer||f.questionToken||f.dotDotDotToken||l&&i.length>l.arguments.length&&!f.type||Ma(f)||d||(s=i.length)}153!==e.kind&&154!==e.kind||h_.hasDynamicName(e)||c&&o||(g=153===e.kind?154:153,(g=h_.getDeclarationOfKind(e.symbol,g))&&(o=(g=c_(g))&&g.symbol));var m,g=152===e.kind?qi(Ar(e.parent.symbol)):void 0,h=g?g.localTypeParameters:(h_.forEach(h_.getEffectiveTypeParameterDeclarations(e),function(e){e=Yi(e.symbol);n=h_.appendIfUnique(n,e)}),n),u=(v=e,g=g,u?Q(v.parameters[0].type):g||((g=h_.getEffectiveReturnTypeNode(v))?Q(g):153!==v.kind||h_.hasDynamicName(v)?h_.nodeIsMissing(v.body)?J:void 0:Ti(h_.getDeclarationOfKind(v.symbol,154)))),y=e.type&&158===e.type.kind?71===(y=(v=e.type).parameterName).kind?{kind:1,parameterName:y?y.escapedText:void 0,parameterIndex:y?function(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n];if(71===r.name.kind&&r.name.escapedText===t.escapedText)return n}return-1}(v.parent.parameters,y):void 0,type:Q(v.type)}:{kind:0,type:Q(v.type)}:void 0,v=h_.hasRestParameter(e);!v&&h_.isInJavaScriptFile(e)&&(void 0===(t=q(m=e)).containsArgumentsReference&&(8192&t.flags?t.containsArgumentsReference=!0:t.containsArgumentsReference=function e(t){if(!t)return!1;switch(t.kind){case 71:return"arguments"===t.escapedText&&h_.isPartOfExpression(t);case 149:case 151:case 153:case 154:return 144===t.name.kind&&e(t.name);default:return!h_.nodeStartsNewLexicalEnvironment(t)&&!h_.isPartOfTypeNode(t)&&h_.forEachChild(t,e)}}(m.body)),t.containsArgumentsReference)&&(v=!0,(m=Jn(3,"args")).type=rt,m.isRestParameter=!0,i.push(m)),r.resolvedSignature=sa(e,h,o,i,u,y,s,v,a)}return r.resolvedSignature}function $a(e){if(!e)return h_.emptyArray;for(var t=[],n=0;n<e.declarations.length;n++){var r=e.declarations[n];switch(r.kind){case 160:case 161:case 228:case 151:case 150:case 152:case 155:case 156:case 157:case 153:case 154:case 186:case 187:case 273:if(0<n&&r.body){var i=e.declarations[n-1];if(r.parent===i.parent&&r.kind===i.kind&&r.pos===i.end)break}t.push(za(r))}}return t}function Ja(e){if(e.thisParameter)return V(e.thisParameter)}function ke(e){if(!e.resolvedReturnType){if(!si(e,3))return _e;var t,n,r=void 0,r=e.target?K(ke(e.target),e.mapper):e.unionSignatures?W(h_.map(e.unionSignatures,ke),!0):pd(e.declaration);!ci()&&(r=J,X)&&(t=e.declaration,(n=h_.getNameOfDeclaration(t))?ge(n,h_.Diagnostics._0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions,h_.declarationNameToString(n)):ge(t,h_.Diagnostics.Function_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions)),e.resolvedReturnType=r}return e.resolvedReturnType}function qa(e){if(e.hasRestParameter){e=V(h_.lastOrUndefined(e.parameters));if(4&P(e)&&e.target===Qe)return e.typeArguments[0]}return J}function Va(e,t,n){t=Ka(t,e.typeParameters,ja(e.typeParameters),n);var n=e.instantiations||(e.instantiations=h_.createMap()),r=ns(t),i=n.get(r);return i||n.set(r,i=Ha(e,t)),i}function Ha(e,t){return vo(e,go(e.typeParameters,t),!0)}function Ga(e){return e.typeParameters?e.erasedSignatureCache||(e.erasedSignatureCache=vo(e,go(e.typeParameters,void 0),!0)):e}function Wa(e){var t,n;return e.isolatedSignatureType||(t=152===e.declaration.kind||156===e.declaration.kind,(n=Fr(16)).members=F,n.properties=h_.emptyArray,n.callSignatures=t?h_.emptyArray:[e],n.constructSignatures=t?[e]:h_.emptyArray,e.isolatedSignatureType=n),e.isolatedSignatureType}function Qa(e){return e.members.get("__index")}function Ya(e,t){var n=1===t?133:136,t=Qa(e);if(t)for(var r=0,i=t.declarations;r<i.length;r++){var a=i[r];if(1===a.parameters.length){var s=a.parameters[0];if(s&&s.type&&s.type.kind===n)return a}}}function Xa(e,t,n){return{type:e,isReadonly:t,declaration:n}}function Za(e,t){e=Ya(e,t);if(e)return Xa(e.type?Q(e.type):J,h_.hasModifier(e,64),e)}function es(e){var t;return e.constraint||(e.target?(t=xa(e.target),e.constraint=t?K(t,e.mapper):Ke):(t=e.symbol&&h_.getDeclarationOfKind(e.symbol,145).constraint,e.constraint=t?Q(t):Ke)),e.constraint===Ke?void 0:e.constraint}function ts(e){return he(h_.getDeclarationOfKind(e.symbol,145).parent)}function ns(e){var t="";if(e)for(var n=e.length,r=0;r<n;){for(var i=e[r].id,a=1;r+a<n&&e[r+a].id===i+a;)a++;t.length&&(t+=","),t+=i,1<a&&(t+=":"+a),r+=a}return t}function rs(e,t){for(var n=0,r=0,i=e;r<i.length;r++){var a=i[r];a.flags&t||(n|=a.flags)}return 14680064&n}function is(e,t){var n=ns(t),r=e.instantiations.get(n);return r||(r=Fr(4,e.symbol),e.instantiations.set(n,r),r.flags|=t?rs(t,0):0,r.target=e,r.typeArguments=t),r}function as(e){var t=Pr(e.flags);return t.symbol=e.symbol,t.objectFlags=e.objectFlags,t.target=e.target,t.typeArguments=e.typeArguments,t}function ss(e){return h_.length(e.target.typeParameters)}function os(e,t,n){var r,i,a,t=be(Ar(t)),s=t.localTypeParameters;return s?(r=h_.length(e.typeArguments),i=ja(s),!(a=h_.isInJavaScriptFile(e))&&(r<i||r>s.length)?(ge(e,i===s.length?h_.Diagnostics.Generic_type_0_requires_1_type_argument_s:h_.Diagnostics.Generic_type_0_requires_between_1_and_2_type_arguments,ve(t,void 0,1),i,s.length),_e):is(t,h_.concatenate(t.outerTypeParameters,Ka(n,s,i,a)))):e.typeArguments?(ge(e,h_.Diagnostics.Type_0_is_not_generic,ve(t)),_e):t}function cs(e){switch(e.kind){case 159:return e.typeName;case 201:var t=e.expression;if(h_.isEntityNameExpression(t))return t}}function ls(e,t){return e&&gr(e,t)||fe}function us(e,t,n){return 96&t.flags?os(e,t,n):524288&t.flags?(r=e,n=n,u=be(i=t),(d=p(i).typeParameters)?(s=h_.length(r.typeArguments))<(a=ja(d))||s>d.length?(ge(r,a===d.length?h_.Diagnostics.Generic_type_0_requires_1_type_argument_s:h_.Diagnostics.Generic_type_0_requires_between_1_and_2_type_arguments,ye(i),a,d.length),_e):(s=n,d=be(a=i),n=p(a),o=n.typeParameters,c=ns(s),(l=n.instantiations.get(c))||n.instantiations.set(c,l=K(d,go(o,Ka(s,o,ja(o),h_.isInJavaScriptFile(a.valueDeclaration))))),l):r.typeArguments?(ge(r,h_.Diagnostics.Type_0_is_not_generic,ye(i)),_e):u):16&t.flags&&ds(e)&&(t.members||h_.getJSDocClassTag(t.valueDeclaration))?rd(t):void 0;var r,i,a,s,o,c,l,u,d}function ds(e){return 1048576&e.flags&&159===e.kind}function ps(e){var t,n,r,i=q(e);return i.resolvedType||(n=t=void 0,r=793064,ds(e)&&(n=function(e){if(h_.isIdentifier(e.typeName)){var t,n;if("Object"===e.typeName.escapedText)return h_.isJSDocIndexSignature(e)?(t=Q(e.typeArguments[0]),n=Xa(Q(e.typeArguments[1]),!1),Ur(void 0,F,h_.emptyArray,h_.emptyArray,t===me&&n,t===oe&&n)):J;switch(e.typeName.escapedText){case"String":return me;case"Number":return oe;case"Boolean":return Pe;case"Void":return Fe;case"Undefined":return we;case"Null":return ae;case"Function":case"function":return We;case"Array":case"array":return e.typeArguments&&e.typeArguments.length?void 0:rt;case"Promise":case"promise":return e.typeArguments&&e.typeArguments.length?void 0:ud(J)}}}(e),r|=107455),n=n||function(e,t){var n=fs(e);if(t===fe)return _e;var r=us(e,t,n);if(r)return r;r=Xi(t);if(void 0!==r)return n?(ge(e,h_.Diagnostics.Type_0_is_not_generic,ye(t)),_e):r;if(!(107455&t.flags&&ds(e)))return _e;r=V(t);if(r.symbol&&!id(r)){t=us(e,r.symbol,n);if(t)return t}return ls(cs(e),793064),r}(e,t=ls(cs(e),r)),i.resolvedSymbol=t,i.resolvedType=n),i.resolvedType}function fs(e){return h_.map(e.typeArguments,Q)}function _s(e){var t=q(e);return t.resolvedType||(t.resolvedType=xc(Te(e.exprName))),t.resolvedType}function ms(e,t){function n(e){for(var t=0,n=e.declarations;t<n.length;t++){var r=n[t];switch(r.kind){case 229:case 230:case 232:return r}}}var r;return e?32768&(r=be(e)).flags?h_.length(r.typeParameters)!==t?(ge(n(e),h_.Diagnostics.Global_type_0_must_have_1_type_parameter_s,h_.symbolName(e),t),t?Be:I):r:(ge(n(e),h_.Diagnostics.Global_type_0_must_be_a_class_or_interface_type,h_.symbolName(e)),t?Be:I):t?Be:I}function gs(e,t){return hs(e,107455,t?h_.Diagnostics.Cannot_find_global_value_0:void 0)}function hs(e,t,n){return Zn(void 0,e,t,n,e,!1)}function ys(e,t,n){e=hs(e,793064,n?h_.Diagnostics.Cannot_find_global_type_0:void 0);return e||n?ms(e,t):void 0}function vs(e){return(ot=ot||ys("Symbol",0,e))||I}function bs(e){return(lt=lt||ys("Promise",1,e))||Be}function xs(e){return ut=ut||gs("Promise",e)}function ks(e){return(mt=mt||ys("AsyncIterable",1,e))||Be}function Ss(e){return(gt=gt||ys("AsyncIterator",1,e))||Be}function Ts(e){return(ht=ht||ys("AsyncIterableIterator",1,e))||Be}function Cs(e){return(pt=pt||ys("Iterable",1,e))||Be}function Es(e){return(ft=ft||ys("Iterator",1,e))||Be}function Ds(e){return(_t=_t||ys("IterableIterator",1,e))||Be}function As(e,t){void 0===t&&(t=0);e=hs(e,793064,void 0);return e&&ms(e,t)}function Ns(e,t){e=hs(e,1920,void 0),e=e&&Yn(e.exports,t,793064);return e&&be(e)}function ws(e,t){return e!==Be?is(e,t):I}function Is(e){return ws((ct=ct||ys("TypedPropertyDescriptor",1,!0))||Be,[e])}function Ps(e){return ws(Ts(!0),[e])}function Os(e){return ws(Cs(!0),[e])}function Fs(e){return ws(Ds(!0),[e])}function Ls(e){return ws(Qe,[e])}function Rs(e){return is((t=e.length,b[t]||(b[t]=function(e){for(var t=[],n=[],r=0;r<e;r++){var i=Pr(16384),a=(t.push(i),Jn(4,""+r));a.type=i,n.push(a)}var s=Fr(12);return s.typeParameters=t,s.outerTypeParameters=void 0,s.localTypeParameters=t,s.instantiations=h_.createMap(),s.instantiations.set(ns(s.typeParameters),s),(s.target=s).typeArguments=s.typeParameters,s.thisType=Pr(16384),s.thisType.isThisType=!0,(s.thisType.constraint=s).declaredProperties=n,s.declaredCallSignatures=h_.emptyArray,s.declaredConstructSignatures=h_.emptyArray,s.declaredStringIndexInfo=void 0,s.declaredNumberIndexInfo=void 0,s}(t))),e);var t}function Ms(e,t){for(var n=0,r=e.length-1,i=t.id;n<=r;){var a=n+(r-n>>1),s=e[a].id;if(s===i)return a;i<s?r=a-1:n=a+1}return~n}function Us(e,t){return 0<=Ms(e,t)}function Bs(e,t){for(var n,i,r,a,s=0,o=t;s<o.length;s++)n=e,i=o[s],a=r=void 0,65536&(a=i.flags)?Bs(n,i.types):1&a?n.containsAny=!0:!pe&&6144&a?(2048&a&&(n.containsUndefined=!0),4096&a&&(n.containsNull=!0),2097152&a||(n.containsNonWideningType=!0)):8192&a||131072&a&&function(){for(var e=0,t=0,n=i.types;t<n.length;t++){var r=n[t];if(6368&r.flags&&6368&e)return 1;if(6144&(e|=r.flags)&&16809984&e)return 1}}()||(2&a&&(n.containsString=!0),4&a&&(n.containsNumber=!0),96&a&&(n.containsStringOrNumberLiteral=!0),(r=(r=n.length)&&i.id>n[r-1].id?~r:Ms(n,i))<0&&(32768&a&&16&i.objectFlags&&i.symbol&&8208&i.symbol.flags&&js(n,i)||n.splice(~r,0,i)))}function js(e,t){for(var n=0,r=e;n<r.length;n++)if(Ao(r[n],t))return 1}function Ks(e){if(0!==e.length&&!function(e){var t=e[0];if(256&t.flags){for(var n=Nr(t.symbol),r=1;r<e.length;r++){var i=e[r];if(!(256&i.flags)||n!==Nr(i.symbol))return}return 1}}(e))for(var t=e.length;0<t;)!function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(e!==i&&Io(e,i))return 1}}(e[--t],e)||h_.orderedRemoveItemAt(e,t)}function W(e,t,n,r){if(0===e.length)return Le;if(1===e.length)return e[0];var i=[];{if(Bs(i,e),i.containsAny)return J;if(t)Ks(i);else if(i.containsStringOrNumberLiteral)for(var a=i,s=a.length;0<s;){var o=a[--s];(32&o.flags&&a.containsString||64&o.flags&&a.containsNumber||96&o.flags&&1048576&o.flags&&Us(a,o.regularType))&&h_.orderedRemoveItemAt(a,s)}return 0===i.length?i.containsNull?i.containsNonWideningType?ae:se:i.containsUndefined?i.containsNonWideningType?we:ie:Le:zs(i,n,r)}}function zs(e,t,n){var r,i;return 0===e.length?Le:1===e.length?e[0]:(r=ns(e),(i=x.get(r))||(i=Pr(65536|rs(e,6144)),x.set(r,i),i.types=e,i.aliasSymbol=t,i.aliasTypeArguments=n),i)}function $s(e,t){for(var n,r,i=0,a=t;i<a.length;i++)n=e,131072&(r=a[i]).flags?$s(n,r.types):1&r.flags?n.containsAny=!0:8192&r.flags?n.containsNever=!0:16&P(r)&&Uo(r)?n.containsEmptyObject=!0:!pe&&6144&r.flags||h_.contains(n,r)||(32768&r.flags&&(n.containsObjectType=!0),65536&r.flags&&void 0===n.unionIndex&&(n.unionIndex=n.length),32768&r.flags&&16&r.objectFlags&&r.symbol&&8208&r.symbol.flags&&js(n,r))||n.push(r)}function Js(e,t,n){var r,i,a;return 0===e.length?I:($s(r=[],e),r.containsNever?Le:r.containsAny?J:(r.containsEmptyObject&&!r.containsObjectType&&r.push(I),1===r.length?r[0]:void 0!==(i=r.unionIndex)?(e=r[i],W(h_.map(e.types,function(e){return Js(h_.replaceElement(r,i,e))}),!1,t,n)):(e=ns(r),(a=U.get(e))||(a=Pr(131072|rs(r,6144)),U.set(e,a),a.types=r,a.aliasSymbol=t,a.aliasTypeArguments=n),a)))}function qs(e){return 24&h_.getDeclarationModifierFlagsFromSymbol(e)||h_.startsWith(e.escapedName,"__@")?Le:uo(h_.symbolName(e))}function Vs(e){return kd(e,540672)?((t=e).resolvedIndexType||(t.resolvedIndexType=Pr(262144),t.resolvedIndexType.type=t),t.resolvedIndexType):32&P(e)?ma(e):1&e.flags||O(e,0)?me:W(h_.map(xe(e),qs));var t}function Hs(e,t,n,r){var i=n&&180===n.kind?n:void 0,a=96&t.flags?h_.escapeLeadingUnderscores(""+t.value):i&&Ou(i.argumentExpression,t,!1)?h_.getPropertyNameForKnownSymbolName(h_.idText(i.argumentExpression.name)):void 0;if(void 0!==a){var a=H(e,a);if(a){if(i){if(h_.isAssignmentTarget(i)&&(vd(i,a)||bd(i)))return ge(i.argumentExpression,h_.Diagnostics.Cannot_assign_to_0_because_it_is_a_constant_or_a_read_only_property,ye(a)),_e;r&&(q(n).resolvedSymbol=a)}return V(a)}}if(!(6144&t.flags)&&Sd(t,262774)){if(w(e))return J;r=Sd(t,84)&&O(e,1)||O(e,0)||void 0;if(r)return i&&r.isReadonly&&(h_.isAssignmentTarget(i)||h_.isDeleteTarget(i))&&ge(i,h_.Diagnostics.Index_signature_in_type_0_only_permits_reading,ve(e)),r.type;if(i&&!Td(e))return X&&!ue.suppressImplicitAnyIndexErrors&&(Fa(e,1)?ge(i.argumentExpression,h_.Diagnostics.Element_implicitly_has_an_any_type_because_index_expression_is_not_of_type_number):ge(i,h_.Diagnostics.Element_implicitly_has_an_any_type_because_type_0_has_no_index_signature,ve(e))),J}return n?(a=180===n.kind?n.argumentExpression:n.indexType,96&t.flags?ge(a,h_.Diagnostics.Property_0_does_not_exist_on_type_1,""+t.value,ve(e)):6&t.flags?ge(a,h_.Diagnostics.Type_0_has_no_matching_index_signature_for_type_1,ve(e),ve(t)):ge(a,h_.Diagnostics.Type_0_cannot_be_used_as_an_index_type,ve(t)),_e):J}function Gs(e){return!!(540672&e.flags)||(32&P(e)?Ws(ma(e)):!!(196608&e.flags)&&h_.forEach(e.types,Gs))}function Ws(e){return!!(802816&e.flags)||!!(196608&e.flags)&&h_.forEach(e.types,Ws)}function Qs(e){return!(!(32768&e.flags)||ha(e))&&0===(e=ya(e)).properties.length&&0===e.callSignatures.length&&0===e.constructSignatures.length&&e.stringIndexInfo&&!e.numberIndexInfo}function Ys(e){var t,n=e.objectType;if(131072&n.flags&&Gs(n)&&h_.some(n.types,Qs)){for(var r=[],i=[],a=0,s=n.types;a<s.length;a++){var o=s[a];Qs(o)?i.push(Fa(o,0)):r.push(o)}return W([Xs(Js(r),e.indexType),Js(i)])}if(ha(n))return e=go([_a(n)],[e.indexType]),t=(t=n.mapper)?ho(t,e):e,K(ga(n),t)}function Xs(e,t,n){var r,i,a,s;if(Ws(t)||(!n||180!==n.kind)&&Gs(e))return 1&e.flags?e:(i=e.id+","+t.id,(r=j.get(i))||j.set(i,(i=e,a=t,(s=Pr(524288)).objectType=i,s.indexType=a,r=s)),r);var o=$(e);if(!(65536&t.flags)||8&t.flags)return Hs(o,t,n,!0);for(var c=[],l=0,u=t.types;l<u.length;l++){var d=Hs(o,u[l],n,!1);if(d===_e)return _e;c.push(d)}return W(c)}function Zs(e){var t=q(e);return t.resolvedType||(t.resolvedType=Xs(Q(e.objectType),Q(e.indexType),e)),t.resolvedType}function eo(e){var t,n=q(e);return n.resolvedType||((t=Fr(32,e.symbol)).declaration=e,t.aliasSymbol=no(e),t.aliasTypeArguments=ro(e),ma(n.resolvedType=t)),n.resolvedType}function to(e){var t,n,r=q(e);return r.resolvedType||(t=no(e),0!==e.symbol.members.size||t?((n=Fr(16,e.symbol)).aliasSymbol=t,n.aliasTypeArguments=ro(e),h_.isJSDocTypeLiteral(e)&&e.isArrayType&&(n=Ls(n)),r.resolvedType=n):r.resolvedType=Ue),r.resolvedType}function no(e){return 231===e.parent.kind?he(e.parent):void 0}function ro(e){e=no(e);return e?Li(e):void 0}function io(t,n,r,i){if(1&t.flags||1&n.flags)return J;if(8192&t.flags)return n;if(8192&n.flags)return t;if(65536&t.flags)return cl(t,function(e){return io(e,n,r,i)});if(65536&n.flags)return cl(n,function(e){return io(t,e,r,i)});if(16777216&n.flags)return Me;if(262654&n.flags)return t;for(var e=h_.createSymbolTable(),a=h_.createUnderscoreEscapedMap(),s=t===I?(h=O(n,0),O(n,1)):(h=fa(O(t,0),O(n,0)),fa(O(t,1),O(n,1))),o=0,c=xe(n);o<c.length;o++){var l=65536&(p=c[o]).flags&&!(32768&p.flags);24&h_.getDeclarationModifierFlagsFromSymbol(p)?a.set(p.escapedName,!0):so(p)||l||e.set(p.escapedName,ao(p))}for(var u=0,d=xe(t);u<d.length;u++){var p,f,_,m,g=d[u];65536&g.flags&&!(32768&g.flags)||a.has(g.escapedName)||so(g)||(e.has(g.escapedName)?(f=V(p=e.get(g.escapedName)),16777216&p.flags&&(_=h_.concatenate(g.declarations,p.declarations),(m=Jn(4|16777216&g.flags,g.escapedName)).type=W([V(g),Hc(f,131072)]),m.leftSpread=g,m.rightSpread=p,m.declarations=_,e.set(g.escapedName,m))):e.set(g.escapedName,ao(g)))}var h=Ur(void 0,e,h_.emptyArray,h_.emptyArray,h,s);return h.flags|=i,h.flags|=5242880,h.objectFlags|=128,h.symbol=r,h}function ao(e){var t;return yd(e)?((t=Jn(4|16777216&e.flags,e.escapedName)).type=V(e),t.declarations=e.declarations,t.syntheticOrigin=e,t):e}function so(e){return 8192&e.flags&&h_.find(e.declarations,function(e){return h_.isClassLike(e.parent)})}function oo(e,t,n){e=Pr(e);return e.symbol=n,e.value=t,e}function co(e){var t;return 96&e.flags&&!(1048576&e.flags)?(e.freshType||(((t=oo(1048576|e.flags,e.value,e.symbol)).regularType=e).freshType=t),e.freshType):e}function lo(e){return 96&e.flags&&1048576&e.flags?e.regularType:e}function uo(e,t,n){var r="number"==typeof e?"#":"@",r=t?t+r+e:r+e,i=B.get(r);return i||B.set(r,i=oo(("number"==typeof e?64:32)|(t?256:0),e,n)),i}function po(e){var t,n,r=q(e);return r.resolvedType||(r.resolvedType=(e=e,t=h_.getThisContainer(e,!1),!(n=t&&t.parent)||!h_.isClassLike(n)&&230!==n.kind||h_.hasModifier(t,32)||152===t.kind&&!h_.isNodeDescendantOf(e,t.body)?(ge(e,h_.Diagnostics.A_this_type_is_available_only_in_a_non_static_member_of_a_class_or_interface),_e):qi(he(n)).thisType)),r.resolvedType}function Q(e){switch(e.kind){case 119:case 268:case 269:return J;case 136:return me;case 133:return oe;case 122:return Pe;case 137:return Oe;case 105:return Fe;case 139:return we;case 95:return ae;case 130:return Le;case 134:return 65536&e.flags?J:Me;case 169:case 99:return po(e);case 173:return(l=q(c=e)).resolvedType||(l.resolvedType=lo(Te(c.literal))),l.resolvedType;case 159:return ps(e);case 158:return Pe;case 201:return ps(e);case 162:return _s(e);case 164:return(l=q(c=e)).resolvedType||(l.resolvedType=Ls(Q(c.elementType))),l.resolvedType;case 165:return(o=q(s=e)).resolvedType||(o.resolvedType=Rs(h_.map(s.elementTypes,Q))),o.resolvedType;case 166:return(o=q(s=e)).resolvedType||(o.resolvedType=W(h_.map(s.types,Q),!1,no(s),ro(s))),o.resolvedType;case 167:return(a=q(i=e)).resolvedType||(a.resolvedType=Js(h_.map(i.types,Q),no(i),ro(i))),a.resolvedType;case 270:return i=Q(e.type),pe?W([i,ae]):i;case 168:case 271:case 272:case 267:return Q(e.type);case 160:case 161:case 163:case 285:case 273:return to(e);case 170:return(r=q(a=e)).resolvedType||(r.resolvedType=Vs(Q(a.type))),r.resolvedType;case 171:return Zs(e);case 172:return eo(e);case 71:case 143:r=gf(e);return r&&be(r);case 274:return(n=q(t=e)).resolvedType||(t=Q(t.type),n.resolvedType=t?Ls(t):_e),n.resolvedType;default:return _e}var t,n,r,i,a,s,o,c,l}function fo(e,t,n){if(e&&e.length){for(var r=[],i=0,a=e;i<a.length;i++){var s=a[i];r.push(n(s,t))}return r}return e}function _o(e,t){return fo(e,t,K)}function mo(e,t){return fo(e,t,vo)}function go(e,t){return h_.Debug.assert(void 0===t||e.length===t.length),1===e.length?(c=e[0],l=t?t[0]:J,function(e){return e===c?l:e}):2===e.length?(i=e[0],a=t?t[0]:J,s=e[1],o=t?t[1]:J,function(e){return e===i?a:e===s?o:e}):(n=e,r=t,function(e){for(var t=0;t<n.length;t++)if(e===n[t])return r?r[t]:J;return e});var n,r,i,a,s,o,c,l}function ho(t,n){return function(e){return K(t(e),n)}}function yo(e){var t=Pr(16384);return t.symbol=e.symbol,t.target=e,t}function vo(e,t,n){var r,i;if(e.typeParameters&&!n){r=h_.map(e.typeParameters,yo),t=ho(go(e.typeParameters,r),t);for(var a=0,s=r;a<s.length;a++)s[a].mapper=t}e.typePredicate&&(n=e.typePredicate,i=t,i=h_.isIdentifierTypePredicate(n)?{kind:1,parameterName:n.parameterName,parameterIndex:n.parameterIndex,type:K(n.type,i)}:{kind:0,type:K(n.type,i)});n=sa(e.declaration,r,e.thisParameter&&bo(e.thisParameter,t),fo(e.parameters,t,bo),void 0,i,e.minArgumentCount,e.hasRestParameter,e.hasLiteralTypes);return n.target=e,n.mapper=t,n}function bo(e,t){1&h_.getCheckFlags(e)&&(e=(n=p(e)).target,t=ho(n.mapper,t));var n=Jn(e.flags,e.escapedName);return n.checkFlags=1,n.declarations=e.declarations,n.parent=e.parent,n.target=e,n.mapper=t,e.valueDeclaration&&(n.valueDeclaration=e.valueDeclaration),e.isRestParameter&&(n.isRestParameter=e.isRestParameter),n}function xo(e,t){var r,n,i=64&e.objectFlags?e.target:e,a=i.symbol,s=p(a),o=s.typeParameters;return o||(n=Oi(r=a.declarations[0],!0)||h_.emptyArray,o=2048&a.flags&&!i.aliasTypeArguments?h_.filter(n,function(e){var n=e,e=r;if(n.symbol&&n.symbol.declarations&&1===n.symbol.declarations.length){var t=n.symbol.declarations[0].parent;if(h_.findAncestor(e,function(e){return 207===e.kind?"quit":e===t}))return h_.forEachChild(e,function e(t){switch(t.kind){case 169:return n.isThisType;case 71:return!n.isThisType&&h_.isPartOfTypeNode(t)&&Q(t)===n;case 162:return!0}return h_.forEachChild(t,e)})}return!0}):n,(s.typeParameters=o).length&&(s.instantiations=h_.createMap(),s.instantiations.set(ns(o),i))),o.length?(a=64&e.objectFlags?ho(e.mapper,t):t,t=ns(n=h_.map(o,a)),(a=s.instantiations.get(t))||(o=go(o,n),a=(32&i.objectFlags?function(i,a){var e=ma(i);if(262144&e.flags){var s=e.type;if(16384&s.flags){e=K(s,a);if(s!==e)return cl(e,function(e){return 704513&e.flags?ko(i,(t=s,n=e,r=a,function(e){return e===t?n:r(e)})):e;var t,n,r})}}return ko(i,a)}:ko)(i,o),s.instantiations.set(t,a)),a):e}function ko(e,t){var n=Fr(64|e.objectFlags,e.symbol);return 32&e.objectFlags&&(n.declaration=e.declaration),n.target=e,n.mapper=t,n.aliasSymbol=e.aliasSymbol,n.aliasTypeArguments=_o(e.aliasTypeArguments,t),n}function K(e,t){if(e&&t!==z){if(16384&e.flags)return t(e);if(32768&e.flags){if(16&e.objectFlags)return e.symbol&&14384&e.symbol.flags&&e.symbol.declarations?xo(e,t):e;if(32&e.objectFlags)return xo(e,t);if(4&e.objectFlags)return is(e.target,_o(e.typeArguments,t))}if(65536&e.flags&&!(8190&e.flags))return W(_o(e.types,t),!1,e.aliasSymbol,_o(e.aliasTypeArguments,t));if(131072&e.flags)return Js(_o(e.types,t),e.aliasSymbol,_o(e.aliasTypeArguments,t));if(262144&e.flags)return Vs(K(e.type,t));if(524288&e.flags)return Xs(K(e.objectType,t),K(e.indexType,t))}return e}function So(e,t){return e&&Xa(K(e.type,t),e.isReadonly,e.declaration)}function To(e){switch(h_.Debug.assert(151!==e.kind||h_.isObjectLiteralMethod(e)),e.kind){case 186:case 187:case 151:return Co(e);case 178:return h_.forEach(e.properties,To);case 177:return h_.forEach(e.elements,To);case 195:return To(e.whenTrue)||To(e.whenFalse);case 194:return 54===e.operatorToken.kind&&(To(e.left)||To(e.right));case 261:return To(e.initializer);case 185:return To(e.expression);case 254:return h_.forEach(e.properties,To);case 253:return e.initializer&&To(e.initializer);case 256:return e.expression&&To(e.expression)}return!1}function Co(e){if(e.typeParameters)return!1;if(h_.forEach(e.parameters,function(e){return!h_.getEffectiveTypeAnnotationNode(e)}))return!0;if(187!==e.kind){var t=h_.firstOrUndefined(e.parameters);if(!t||!h_.parameterIsThisKeyword(t))return!0}return 207!==e.body.kind&&To(e.body)}function Eo(e){return(Gl(e)||h_.isObjectLiteralMethod(e))&&Co(e)}function Do(e){if(32768&e.flags){var t,n=ya(e);if(n.constructSignatures.length)return(t=Fr(16,e.symbol)).members=n.members,t.properties=n.properties,t.callSignatures=h_.emptyArray,t.constructSignatures=h_.emptyArray,t}else if(131072&e.flags)return Js(h_.map(e.types,Do));return e}function Ao(e,t){return Ko(e,t,Cn)}function No(e,t){return Ko(e,t,Cn)?-1:0}function wo(e,t){return Ko(e,t,Sn)?-1:0}function Io(e,t){return Ko(e,t,kn)}function Se(e,t){return Ko(e,t,Sn)}function Po(e,t){return wi(e)===wi(t)||Io(e,t)&&!Ao(e,t)}function Oo(e,t){return Ko(e,t,Tn)}function Fo(e,t,n,r,i){return zo(e,t,Sn,n,r,i)}function Lo(e,t,n,r,i){zo(e,t,Tn,n,r,i)}function Ro(e,t,n,r,i,a,s){if(e===t)return-1;if(!t.hasRestParameter&&e.minArgumentCount>t.parameters.length)return 0;e.typeParameters&&e.typeParameters!==t.typeParameters&&(e=ju(e,t=(u=t).typeParameters?u.canonicalSignatureCache||(u.canonicalSignatureCache=Va(o=u,h_.map(o.typeParameters,function(e){return e.target&&!xa(e.target)?e.target:e}),h_.isInJavaScriptFile(o.declaration))):u,void 0,s));var o=t.declaration?t.declaration.kind:0,c=!n&&L&&151!==o&&150!==o&&152!==o,l=-1,u=Ja(e);if(u&&u!==Fe){var d=Ja(t);if(d){if(!(v=!c&&s(u,d,!1)||s(d,u,i)))return i&&a(h_.Diagnostics.The_this_types_of_each_signature_are_incompatible),0;l&=v}}for(var p,f=Mo(e),_=Mo(t),m=(d=f,T=t,p=_,(C=e).hasRestParameter===T.hasRestParameter?C.hasRestParameter?Math.max(d,p)+1:Math.min(d,p):C.hasRestParameter?p:d),g=e.parameters,h=t.parameters,y=0;y<m;y++){var v,b=y<f?sd(g[y]):qa(e),x=y<_?sd(h[y]):qa(t),k=n?void 0:Bu(gc(b)),S=n?void 0:Bu(gc(x));if(!(v=k&&S&&!k.typePredicate&&!S.typePredicate&&(6144&pc(b))==(6144&pc(x))?Ro(S,k,c?2:1,!1,i,a,s):!n&&!c&&s(b,x,!1)||s(x,b,i)))return i&&a(h_.Diagnostics.Types_of_parameters_0_and_1_are_incompatible,h_.symbolName(g[y<f?y:f]),h_.symbolName(h[y<_?y:_])),0;l&=v}if(!r){var T=ke(t);if(T===Fe)return l;var C=ke(e);if(t.typePredicate){if(e.typePredicate)l&=function(e,t,n,r,i,a,s){if(e.kind!==t.kind)return i&&(a(h_.Diagnostics.A_this_based_type_guard_is_not_compatible_with_a_parameter_based_type_guard),a(h_.Diagnostics.Type_predicate_0_is_not_assignable_to_1,Qr(e),Qr(t))),0;if(1===e.kind){var o=e,c=t;if(o.parameterIndex-(h_.getThisParameter(n)?1:0)!=c.parameterIndex-(h_.getThisParameter(r)?1:0))return i&&(a(h_.Diagnostics.Parameter_0_is_not_in_the_same_position_as_parameter_1,o.parameterName,c.parameterName),a(h_.Diagnostics.Type_predicate_0_is_not_assignable_to_1,Qr(e),Qr(t))),0}n=s(e.type,t.type,i);return 0===n&&i&&a(h_.Diagnostics.Type_predicate_0_is_not_assignable_to_1,Qr(e),Qr(t)),n}(e.typePredicate,t.typePredicate,e.declaration,t.declaration,i,a,s);else if(h_.isIdentifierTypePredicate(t.typePredicate))return i&&a(h_.Diagnostics.Signature_0_must_be_a_type_predicate,Wr(e)),0}else l&=1===n&&s(T,C,!1)||s(C,T,i)}return l}function Mo(e){var t=e.parameters.length;return e.hasRestParameter?t-1:t}function Uo(e){return 32768&e.flags?0===(t=ya(e)).properties.length&&0===t.callSignatures.length&&0===t.constructSignatures.length&&!t.stringIndexInfo&&!t.numberIndexInfo:!!(16777216&e.flags)||(65536&e.flags?h_.forEach(e.types,Uo):!!(131072&e.flags)&&!h_.forEach(e.types,function(e){return!Uo(e)}));var t}function Bo(e,t,n){if(e!==t){var r=k_(e)+","+k_(t),i=En.get(r);if(void 0!==i)return i;if(!(e.escapedName===t.escapedName&&256&e.flags&&256&t.flags))return En.set(r,!1),0;for(var a=V(t),s=0,o=xe(V(e));s<o.length;s++){var c=o[s];if(8&c.flags){var l=H(a,c.escapedName);if(!(l&&8&l.flags))return n&&n(h_.Diagnostics.Property_0_is_missing_in_type_1,h_.symbolName(c),ve(be(t),void 0,256)),En.set(r,!1),0}}En.set(r,!0)}return 1}function jo(e,t,n,r){var i=e.flags,a=t.flags;if(!(8192&a)){if(1&a||8192&i)return 1;if(262178&i&&2&a)return 1;if(32&i&&256&i&&32&a&&!(256&a)&&e.value===t.value)return 1;if(84&i&&4&a)return 1;if(64&i&&256&i&&64&a&&!(256&a)&&e.value===t.value)return 1;if(136&i&&8&a)return 1;if(16&i&&16&a&&Bo(e.symbol,t.symbol,r))return 1;if(256&i&&256&a){if(65536&i&&65536&a&&Bo(e.symbol,t.symbol,r))return 1;if(224&i&&224&a&&e.value===t.value&&Bo(Nr(e.symbol),Nr(t.symbol),r))return 1}if(2048&i&&(!pe||3072&a))return 1;if(4096&i&&(!pe||4096&a))return 1;if(32768&i&&16777216&a)return 1;if(n===Sn||n===Tn){if(1&i)return 1;if(68&i&&!(256&i)&&(16&a||64&a&&256&a))return 1}}}function Ko(e,t,n){if((e=96&e.flags&&1048576&e.flags?e.regularType:e)===(t=96&t.flags&&1048576&t.flags?t.regularType:t)||n!==Cn&&jo(e,t,n))return!0;if(32768&e.flags&&32768&t.flags){var r=n.get(Go(e,t,n));if(void 0!==r)return 1===r}return!!(1032192&e.flags||1032192&t.flags)&&zo(e,t,n,void 0)}function zo(e,t,T,d,n,r){var C,o,c,l,u=0,p=0,f=(0,0),_=!1,m=!1,n=(h_.Debug.assert(T!==Cn||!d,"no error reporting in identity checking"),D(e,t,!!d,n));return _?ge(d,h_.Diagnostics.Excessive_stack_depth_comparing_types_0_and_1,ve(e),ve(t)):C&&(r&&(C=h_.concatenateDiagnosticMessageChains(r,C)),en.add(h_.createDiagnosticForNodeFromMessageChain(d,C))),0!==n;function E(e,t,n,r){h_.Debug.assert(!!d),C=h_.chainDiagnosticMessages(C,e,t,n,r)}function g(e,t,n){var r=ve(t),i=ve(n);r===i&&(r=ve(t,void 0,256),i=ve(n,void 0,256)),E(e=e||(T===Tn?h_.Diagnostics.Type_0_is_not_comparable_to_type_1:r===i?h_.Diagnostics.Type_0_is_not_assignable_to_type_1_Two_different_types_with_this_name_exist_but_they_are_unrelated:h_.Diagnostics.Type_0_is_not_assignable_to_type_1),r,i)}function D(e,s,t,n){if(96&e.flags&&1048576&e.flags&&(e=e.regularType),96&s.flags&&1048576&s.flags&&(s=s.regularType),e===s)return-1;if(T===Cn)return r=s,32768&(i=e).flags&&32768&r.flags?x(i,r,!1):(65536&i.flags&&65536&r.flags||131072&i.flags&&131072&r.flags)&&(a=h(i,r))&&(a&=h(r,i))?a:0;var r,i,a,o,c,l,u;if(jo(e,s,T,t?E:void 0))return-1;if(128&P(e)&&1048576&e.flags){if(function e(i,a,s){if(kd(a,32768)&&!(512&P(a))){var o=!!(33554432&i.flags);if((T===Sn||T===Tn)&&(al(Ge,a)||!o&&Uo(a)))return!1;if(65536&a.flags){var t=v(i,a);if(t)return e(i,t,s)}for(var n=function(e){var t,n,r;if(!vu(a,e.escapedName,o))return s&&(h_.Debug.assert(!!d),h_.isJsxAttributes(d)||h_.isJsxOpeningLikeElement(d)?E(h_.Diagnostics.Property_0_does_not_exist_on_type_1,ye(e),ve(a)):(t=i.symbol&&h_.firstOrUndefined(i.symbol.declarations),(n=void 0)!==(n=e.valueDeclaration&&h_.findAncestor(e.valueDeclaration,function(e){return e===t})&&(r=e.valueDeclaration,h_.Debug.assertNode(r,h_.isObjectLiteralElementLike),d=r,h_.isIdentifier(r.name))?Au(r.name,a):n)?E(h_.Diagnostics.Object_literal_may_only_specify_known_properties_but_0_does_not_exist_in_type_1_Did_you_mean_to_write_2,ye(e),ve(a),n):E(h_.Diagnostics.Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1,ye(e),ve(a)))),{value:!0}},r=0,c=va(i);r<c.length;r++){var l=n(c[r]);if("object"==typeof l)return l.value}}return!1}(e,s,t))return t&&g(n,e,s),0;!function(e){if(196608&e.flags)for(var t=!1,n=0,r=e.types;n<r.length;n++)if(!(6144&r[n].flags)){if(t)return 1;t=!0}}(s)||(e=vc(e))}return T===Tn||196608&e.flags||65536&s.flags||m||e===Ge||!(0<xe(e).length||0<G(e,0).length||0<G(e,1).length)||!k(s)||function(e,t){for(var n=!!(33554432&e.flags),r=0,i=xe(e);r<i.length;r++)if(vu(t,i[r].escapedName,n))return 1}(e,s)?(r=0,i=C,a=m,m=!1,65536&e.flags?r=(T===Tn?b:function(e,t,n){for(var r=-1,i=0,a=e.types;i<a.length;i++){var s=D(a[i],t,n);if(!s)return 0;r&=s}return r})(e,s,t&&!(8190&e.flags)):(65536&s.flags?r=y(e,s,t&&!(8190&e.flags)&&!(8190&s.flags)):131072&s.flags?(m=!0,r=function(e,t){for(var n=-1,r=0,i=s.types;r<i.length;r++){var a=D(e,i[r],t);if(!a)return 0;n&=a}return n}(e,t)):131072&e.flags&&(r=b(e,s,!1)),!r&&(1032192&e.flags||1032192&s.flags)&&(r=x(e,s,t))&&(C=i)),m=a,!r&&t&&(32768&e.flags&&8190&s.flags?(c=s,l=ve(o=e),u=ve(c),(Xe===o&&me===c||Ze===o&&oe===c||et===o&&Pe===c||vs(!1)===o&&Oe===c)&&E(h_.Diagnostics._0_is_a_primitive_but_1_is_a_wrapper_object_Prefer_using_0_when_possible,u,l)):e.symbol&&32768&e.flags&&Ge===e&&E(h_.Diagnostics.The_Object_type_is_assignable_to_very_few_other_types_Did_you_mean_to_use_the_any_type_instead),g(n,e,s)),r):(t&&(o=G(e,0),c=G(e,1),0<o.length&&D(ke(o[0]),s,!1)||0<c.length&&D(ke(c[0]),s,!1)?E(h_.Diagnostics.Value_of_type_0_has_no_properties_in_common_with_type_1_Did_you_mean_to_call_it,ve(e),ve(s)):E(h_.Diagnostics.Type_0_has_no_properties_in_common_with_type_1,ve(e),ve(s))),0)}function h(e,t){for(var n=-1,r=0,i=e.types;r<i.length;r++){var a=y(i[r],t,!1);if(!a)return 0;n&=a}return n}function y(e,t,n){var r=t.types;if(65536&t.flags&&Us(r,e))return-1;for(var i=0,a=r;i<a.length;i++){var s=D(e,a[i],!1);if(s)return s}return n&&D(e,v(e,t)||r[r.length-1],!0),0}function v(e,t){var n,a=va(e);if(a){var r=function(e){for(var t,n=0,r=a;n<r.length;n++){var i=r[n];if($c(e,i.escapedName)){if(t)return;t=i}}return t}(t);if(r)for(var i=V(r),s=0,o=t.types;s<o.length;s++){var c=o[s],l=ui(c,r.escapedName);if(l&&D(i,l)){if(n)return;n=c}}}return n}function b(e,t,n){var r=e.types;if(65536&e.flags&&Us(r,t))return-1;for(var i=r.length,a=0;a<i;a++){var s=D(r[a],t,n&&a===i-1);if(s)return s}return 0}function x(e,t,n){if(_)return 0;var r=Go(e,t,T),i=T.get(r);if(void 0!==i){if(!n||2!==i)return 1===i?-1:0;T.set(r,3)}if(o){for(var a=0;a<u;a++)if(r===o[a])return 1;if(100===p)return _=!0,0}else o=[],c=[],l=[];var i=u,s=(o[u]=r,u++,c[p]=e,l[p]=t,p++,f),e=(1&f||!Xo(e,c,p)||(f|=1),2&f||!Xo(t,l,p)||(f|=2),3!==f?function(d,p,e){var t,n,r,i,a,s,o,c,l,u=C;if(16384&p.flags){if(32&P(d)&&ma(d)===Vs(p)&&!d.declaration.questionToken&&(t=D(ga(d),Xs(p,_a(d)),e)))return t}else if(262144&p.flags){if(262144&d.flags&&(t=D(p.type,d.type,!1)))return t;if((n=(16384&(n=p.type).flags?xa:524288&n.flags?ka:Sa)(n))&&(t=D(d,Vs(n),e)))return t}else if(524288&p.flags&&(n=ka(p))&&(t=D(d,n,e)))return C=u,t;if(16384&d.flags){if(32&P(p)&&ma(p)===Vs(d)){if(t=D(Xs(d,_a(p)),ga(p),e))return C=u,t}else if(((n=xa(d))||!(16777216&p.flags))&&(t=D(n=!n||1&n.flags?I:n,p,e&&n!==I)))return C=u,t}else if(524288&d.flags){if(n=ka(d)){if(t=D(n,p,e))return C=u,t}else if(524288&p.flags&&d.indexType===p.indexType&&(t=D(d.objectType,p.objectType,e)))return t}else{if(4&P(d)&&4&P(p)&&d.target===p.target&&!(67108864&d.flags||67108864&p.flags)){var f=Jo(d.target);if(t=function(e,t){var n=d.typeArguments||h_.emptyArray,r=p.typeArguments||h_.emptyArray;if(n.length!==r.length&&T===Cn)return 0;for(var i=(n.length<=r.length?n:r).length,a=-1,s=0;s<i;s++){var o=s<e.length?e[s]:1;if(4!==o){var c=n[s],l=r[s],u=-1;if(1===o?u=D(c,l,t):2===o?u=D(l,c,t):3===o?u=(u=D(l,c,!1))||D(c,l,t):(u=D(c,l,t))&&(u&=D(l,c,t)),!u)return 0;a&=u}}return a}(f,e))return t;if(f!==h_.emptyArray&&!function(e,t){for(var n=0;n<t.length;n++)if(1===t[n]&&1024&e.typeArguments[n].flags)return 1}(p,f)){if(!e||!h_.some(f,function(e){return 0===e}))return 0;C=u}}f=!!(8190&d.flags);if(163840&(d=T!==Cn?$(d):d).flags&&32768&p.flags){e=e&&C===u&&!f;if(32&P(p)&&p.declaration.questionToken&&!ha(d)&&Uo(d)?t=-1:ha(p)?t=ha(d)&&(i=p,a=e,s=!!(r=d).declaration.readonlyToken,o=!!r.declaration.questionToken,c=!!i.declaration.readonlyToken,l=!!i.declaration.questionToken,T===Cn?s==c&&o==l:T===Tn||!o||l)&&(s=D(ma(i),ma(r),a))?(c=go([_a(r)],[_a(i)]),s&D(K(ga(r),c),ga(i),a)):0:(t=function(e,t,n){if(T===Cn){var r=t;if(!(32768&e.flags&&32768&r.flags))return 0;var i=va(e),a=va(r);if(i.length!==a.length)return 0;for(var s=-1,o=0,c=i;o<c.length;o++){var l=c[o],u=ba(r,l.escapedName);if(!u)return 0;l=Zo(l,u,D);if(!l)return 0;s&=l}return s}a=T===kn&&!(128&P(e)),i=wc(e,t,a);if(i)return n&&E(h_.Diagnostics.Property_0_is_missing_in_type_1,ye(i),ve(e)),0;for(var d=-1,p=0,f=va(t);p<f.length;p++){var _=f[p];if(!(4194304&_.flags)){var m=H(e,_.escapedName);if(m&&m!==_){var g=h_.getDeclarationModifierFlagsFromSymbol(m),h=h_.getDeclarationModifierFlagsFromSymbol(_);if(8&g||8&h){if(256&h_.getCheckFlags(m))return n&&E(h_.Diagnostics.Property_0_has_conflicting_declarations_and_is_inaccessible_in_type_1,ye(m),ve(e)),0;if(m.valueDeclaration!==_.valueDeclaration)return n&&(8&g&&8&h?E(h_.Diagnostics.Types_have_separate_declarations_of_a_private_property_0,ye(_)):E(h_.Diagnostics.Property_0_is_private_in_type_1_but_not_in_type_2,ye(_),ve(8&g?e:t),ve(8&g?t:e))),0}else if(16&h){if(!function(r,e){return!Wo(e,function(e){return!!(16&h_.getDeclarationModifierFlagsFromSymbol(e))&&(t=r,n=Qo(e),!Wo(t,function(e){e=Qo(e);return!!e&&Ii(e,n)}));var t,n})}(m,_))return n&&E(h_.Diagnostics.Property_0_is_protected_but_type_1_is_not_a_class_derived_from_2,ye(_),ve(Qo(m)||e),ve(Qo(_)||t)),0}else if(16&g)return n&&E(h_.Diagnostics.Property_0_is_protected_in_type_1_but_public_in_type_2,ye(_),ve(e),ve(t)),0;h=D(V(m),V(_),n);if(!h)return n&&E(h_.Diagnostics.Types_of_property_0_are_incompatible,ye(_)),0;if(d&=h,T!==Tn&&16777216&m.flags&&!(16777216&_.flags))return n&&E(h_.Diagnostics.Property_0_is_optional_in_type_1_but_required_in_type_2,ye(_),ve(e),ve(t)),0}}}return d}(d,p,e))&&(t&=S(d,p,0,e))&&(t&=S(d,p,1,e))&&(t&=w(d,p,0,f,e))&&(t&=w(d,p,1,f,e)),t)return C=u,t}}return 0}(e,t,n):1);if(f=s,p--,e){if(-1===e||0===p){for(a=i;a<u;a++)T.set(o[a],1);u=i}}else T.set(r,n?3:2),u=i;return e}function k(e){var t;return 32768&e.flags?0===(t=ya(e)).callSignatures.length&&0===t.constructSignatures.length&&!t.stringIndexInfo&&!t.numberIndexInfo&&0<t.properties.length&&h_.every(t.properties,function(e){return!!(16777216&e.flags)}):!!(131072&e.flags)&&h_.every(e.types,k)}function S(e,t,n,r){if(T===Cn){var i=t,a=n,s=G(e,a),o=G(i,a);if(s.length!==o.length)return 0;for(var c=-1,l=0;l<s.length;l++){var u=ec(s[l],o[l],!1,!1,!1,D);if(!u)return 0;c&=u}return c}if(t===je||e===je)return-1;var d=G(e,n),p=G(t,n);if(1===n&&d.length&&p.length){if(Yo(e)&&!Yo(t))return r&&E(h_.Diagnostics.Cannot_assign_an_abstract_constructor_type_to_a_non_abstract_constructor_type),0;if(i=d[0],a=p[0],g=r,i.declaration&&a.declaration&&(i=h_.getSelectedModifierFlags(i.declaration,24),8!==(a=h_.getSelectedModifierFlags(a.declaration,24)))&&(16!==a||8===i)&&(16===a||i)&&!void(g&&E(h_.Diagnostics.Cannot_assign_a_0_constructor_type_to_a_1_constructor_type,Xr(i),Xr(a))))return 0}var f=-1,_=C;if(64&P(e)&&64&P(t)&&e.symbol===t.symbol)for(var m=0;m<p.length;m++){if(!(v=A(d[m],p[m],!0,r)))return 0;f&=v}else if(1===d.length&&1===p.length)var g=T===Tn||ue.noStrictGenericChecks,f=A(d[0],p[0],g,r);else e:for(var h=0,y=p;h<y.length;h++){for(var v,b=y[h],x=r,k=0,S=d;k<S.length;k++){if(v=A(S[k],b,!0,x)){f&=v,C=_;continue e}x=!1}return x&&E(h_.Diagnostics.Type_0_provides_no_match_for_the_signature_1,ve(e),Wr(b,void 0,void 0,n)),0}return f}function A(e,t,n,r){return Ro(n?Ga(e):e,n?Ga(t):t,0,!1,r,E,D)}function N(e,t,n){e=D(e.type,t.type,n);return!e&&n&&E(h_.Diagnostics.Index_signatures_are_incompatible),e}function w(c,e,t,n,r){var i,a,s;return T===Cn?(a=c,s=O(e,i=t),(a=O(a,i))||s?a&&s&&a.isReadonly===s.isReadonly?D(a.type,s.type):0:-1):!(i=O(e,t))||1&i.type.flags&&!n?-1:(a=O(c,t)||1===t&&O(c,0))?N(a,i,r):ha(c)?0===t&&D(ga(c),i.type,r):hc(c)?(s=-1,(s=0===t&&(e=O(c,1))?N(e,i,r):s)&&(s&=function(e,t,n){for(var r=-1,i=0,a=va(c);i<a.length;i++){var s=a[i];if(0===t||Zl(s.escapedName)){var o=D(V(s),e,n);if(!o)return n&&E(h_.Diagnostics.Property_0_is_incompatible_with_index_signature,ye(s)),0;r&=o}}return r}(i.type,t,r)),s):(r&&E(h_.Diagnostics.Index_signature_is_missing_in_type_0,ve(c)),0)}}function $o(e,t,n){e=is(e,h_.map(e.typeParameters,function(e){return e===t?n:e}));return e.flags|=67108864,e}function Jo(e){if(!L)return h_.emptyArray;var t=e.typeParameters||h_.emptyArray;if(!(n=e.variances)){if(e===Qe||e===Ye)n=[1];else{e.variances=h_.emptyArray;for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r],s=$o(e,a,Je),o=$o(e,a,qe),o=(Se(o,s)?1:0)|(Se(s,o)?2:0);3===o&&Se($o(e,a,Tt),s)&&(o=4),n.push(o)}}e.variances=n}return n}function qo(e){return 16384&e.flags&&!es(e)}function Vo(e){return 4&P(e)&&h_.some(e.typeArguments,function(e){return qo(e)||Vo(e)})}function Ho(e,t,n){void 0===n&&(n=0);for(var r=""+e.target.id,i=0,a=e.typeArguments;i<a.length;i++){var s,o=a[i];qo(o)?((s=h_.indexOf(t,o))<0&&(s=t.length,t.push(o)),r+="="+s):n<4&&Vo(o)?r+="<"+Ho(o,t,n+1)+">":r+="-"+o.id}return r}function Go(e,t,n){return n===Cn&&e.id>t.id&&(n=e,e=t,t=n),Vo(e)&&Vo(t)?Ho(e,n=[])+","+Ho(t,n):e.id+","+t.id}function Wo(e,t){if(!(6&h_.getCheckFlags(e)))return t(e);for(var n=0,r=e.containingType.types;n<r.length;n++){var i=H(r[n],e.escapedName),i=i&&Wo(i,t);if(i)return i}}function Qo(e){return e.parent&&32&e.parent.flags?be(Nr(e)):void 0}function Yo(e){if(16&P(e)){e=e.symbol;if(e&&32&e.flags){e=Hp(e);if(e&&h_.hasModifier(e,128))return 1}}}function Xo(e,t,n){if(5<=n&&32768&e.flags){var r=e.symbol;if(r)for(var i=0,a=0;a<n;a++){var s=t[a];if(32768&s.flags&&s.symbol===r&&5<=++i)return 1}}}function Zo(e,t,n){if(e===t)return-1;var r=24&h_.getDeclarationModifierFlagsFromSymbol(e);if(r!=(24&h_.getDeclarationModifierFlagsFromSymbol(t)))return 0;if(r){if(Vp(e)!==Vp(t))return 0}else if((16777216&e.flags)!=(16777216&t.flags))return 0;return yd(e)!==yd(t)?0:n(V(e),V(t))}function ec(e,t,n,r,i,a){if(e===t)return-1;if(o=t,!((s=e).parameters.length===o.parameters.length&&s.minArgumentCount===o.minArgumentCount&&s.hasRestParameter===o.hasRestParameter||(u=s.hasRestParameter?1:0,c=o.hasRestParameter?1:0,n&&s.minArgumentCount<=o.minArgumentCount&&(c<u||u==c&&s.parameters.length>=o.parameters.length))))return 0;var s,o,c;if(h_.length(e.typeParameters)!==h_.length(t.typeParameters))return 0;e=Ga(e),t=Ga(t);var l=-1;if(!r){n=Ja(e);if(n){var u=Ja(t);if(u){if(!(d=a(n,u)))return 0;l&=d}}}for(var d,p=t.parameters.length,f=0;f<p;f++){if(!(d=a(tc(e,f)?qa(e):sd(e.parameters[f]),tc(t,f)?qa(t):sd(t.parameters[f]))))return 0;l&=d}return i||(l&=a(ke(e),ke(t))),l}function tc(e,t){return e.hasRestParameter&&t>=e.parameters.length-1}function nc(a){return function(){for(var e=0,t=a;e<t.length;e++){var n=t[e],r=cc(n),i=i||r;if(r===n||r!==i)return}return 1}()?W(a):h_.reduceLeft(a,function(e,t){return Io(e,t)?t:e})}function rc(e){return 4&P(e)&&e.target===Qe}function ic(e){return 4&P(e)&&(e.target===Qe||e.target===Ye)||!(6144&e.flags)&&Se(e,at)}function ac(e){return!!H(e,"0")}function sc(e){return!!(6368&e.flags)}function oc(e){return!!(8&e.flags)||(65536&e.flags?!!(256&e.flags)||!h_.forEach(e.types,function(e){return!sc(e)}):sc(e))}function cc(e){return 256&e.flags?Gi(e):32&e.flags?me:64&e.flags?oe:128&e.flags?Pe:65536&e.flags?W(h_.sameMap(e.types,cc)):e}function lc(e){return 256&e.flags?Gi(e):32&e.flags&&1048576&e.flags?me:64&e.flags&&1048576&e.flags?oe:128&e.flags?Pe:65536&e.flags?W(h_.sameMap(e.types,lc)):e}function uc(e){return 4&P(e)&&8&e.target.objectFlags}function dc(e){for(var t=0,n=0,r=e;n<r.length;n++)t|=pc(r[n]);return t}function pc(e){return 65536&e.flags?dc(e.types):32&e.flags?""===e.value?32:0:64&e.flags?0===e.value?64:0:128&e.flags?e===Ie?128:0:7406&e.flags}function fc(e){return 7392&pc(e)?ol(e,function(e){return!(7392&pc(e))}):e}function _c(e){return 2&e.flags?Rt:4&e.flags?Mt:8&e.flags||e===Ie?Ie:7168&e.flags||32&e.flags&&""===e.value||64&e.flags&&0===e.value?e:Le}function mc(e,t){t=t&~e.flags&6144;return 0==t?e:W(2048==t?[e,we]:4096==t?[e,ae]:[e,we,ae])}function gc(e){return pe?Hc(e,524288):e}function hc(e){return e.symbol&&0!=(6656&e.symbol.flags)&&0===G(e,0).length&&0===G(e,1).length}function yc(e,t){var n=Jn(e.flags,e.escapedName);return n.declarations=e.declarations,n.parent=e.parent,n.type=t,(n.target=e).valueDeclaration&&(n.valueDeclaration=e.valueDeclaration),n}function vc(e){var t,n;return 128&P(e)&&1048576&e.flags?e.regularType||(n=function(e,t){for(var n=h_.createSymbolTable(),r=0,i=va(e);r<i.length;r++){var a=i[r],s=V(a),o=t(s);n.set(a.escapedName,o===s?a:yc(a,o))}return n}(t=e,vc),(n=Ur(t.symbol,n,t.callSignatures,t.constructSignatures,t.stringIndexInfo,t.numberIndexInfo)).flags=-1048577&t.flags,n.objectFlags|=128,e.regularType=n):e}function bc(e){return 6144&e.flags?e:xc(e)}function xc(e){if(6291456&e.flags){if(6144&e.flags)return J;if(128&P(e)){var t=e;for(var n,r,i,a=h_.createSymbolTable(),s=0,o=va(t);s<o.length;s++){var c=o[s];a.set(c.escapedName,4&c.flags?(i=r=void 0,r=V(n=c),(i=xc(r))===r?n:yc(n,i)):c)}var l=O(t,0),u=O(t,1);return Ur(t.symbol,a,h_.emptyArray,h_.emptyArray,l&&Xa(xc(l.type),l.isReadonly),u&&Xa(xc(u.type),u.isReadonly));return}if(65536&e.flags)return W(h_.sameMap(e.types,bc));if(rc(e)||uc(e))return is(e.target,h_.sameMap(e.typeArguments,xc))}return e}function kc(e,t){var n,r=ve(xc(t));switch(e.kind){case 149:case 148:n=h_.Diagnostics.Member_0_implicitly_has_an_1_type;break;case 146:n=e.dotDotDotToken?h_.Diagnostics.Rest_parameter_0_implicitly_has_an_any_type:h_.Diagnostics.Parameter_0_implicitly_has_an_1_type;break;case 176:n=h_.Diagnostics.Binding_element_0_implicitly_has_an_1_type;break;case 228:case 151:case 150:case 153:case 154:case 186:case 187:if(!e.name)return ge(e,h_.Diagnostics.Function_expression_which_lacks_return_type_annotation_implicitly_has_an_0_return_type,r);n=h_.Diagnostics._0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type;break;default:n=h_.Diagnostics.Variable_0_implicitly_has_an_1_type}ge(e,n,h_.declarationNameToString(h_.getNameOfDeclaration(e)),r)}function Sc(e,t){le&&X&&2097152&t.flags&&(function e(t){var n=!1;if(65536&t.flags)for(var r=0,i=t.types;r<i.length;r++)e(l=i[r])&&(n=!0);if(rc(t)||uc(t))for(var a=0,s=t.typeArguments;a<s.length;a++)e(l=s[a])&&(n=!0);if(128&P(t))for(var o=0,c=va(t);o<c.length;o++){var l,u=c[o];2097152&(l=V(u)).flags&&(e(l)||ge(u.valueDeclaration,h_.Diagnostics.Object_literal_s_property_0_implicitly_has_an_1_type,h_.symbolName(u),ve(xc(l))),n=!0)}return n}(t)||kc(e,t))}function Tc(e,t,n){for(var r=e.parameters.length,i=t.parameters.length,a=e.hasRestParameter&&t.hasRestParameter?Math.max(r,i):e.hasRestParameter?i:t.hasRestParameter?r:Math.min(r,i),s=0;s<a;s++)n(od(e,s),od(t,s))}function Cc(e,t,n,r){function i(e){for(var t=0;t<a.length;t++)if(e===a[t].typeParameter)return a[t].isFixed=!0,Fc(i,t);return e}var a=r?h_.map(r,Dc):h_.map(e.typeParameters,Ec);return i.signature=e,i.inferences=a,i.flags=t,i.compareTypes=n||wo,i}function Ec(e){return{typeParameter:e,candidates:void 0,inferredType:void 0,priority:void 0,topLevel:!0,isFixed:!1}}function Dc(e){return{typeParameter:e.typeParameter,candidates:e.candidates&&e.candidates.slice(),inferredType:e.inferredType,priority:e.priority,topLevel:e.topLevel,isFixed:e.isFixed}}function Ac(e){var t=P(e);return!!(802816&e.flags||4&t&&h_.forEach(e.typeArguments,Ac)||16&t&&e.symbol&&10288&e.symbol.flags||32&t||196608&e.flags&&(void 0===(t=e).couldContainTypeVariables&&(t.couldContainTypeVariables=h_.forEach(t.types,Ac)),t.couldContainTypeVariables))}function Nc(e,t){return e===t||196608&e.flags&&h_.forEach(e.types,function(e){return Nc(e,t)})}function wc(e,t,n){for(var r=0,i=va(t);r<i.length;r++){var a=i[r];if((n||!(16777216&a.flags))&&!H(e,a.escapedName))return a}}function Ic(i,e,x,k){var S,T;function C(e,t){if(Ac(t))if(e.aliasSymbol&&e.aliasTypeArguments&&e.aliasSymbol===t.aliasSymbol)for(var n=e.aliasTypeArguments,r=t.aliasTypeArguments,i=0;i<n.length;i++)C(n[i],r[i]);else{if(65536&e.flags&&65536&t.flags&&!(256&e.flags&&256&t.flags)||131072&e.flags&&131072&t.flags){if(e===t){for(var a=0,s=e.types;a<s.length;a++)C(f=s[a],f);return}for(var o,c=void 0,l=0,u=e.types;l<u.length;l++)Pc(f=u[l],t.types)?((c=c||[]).push(f),C(f,f)):96&f.flags&&Pc(o=cc(f),t.types)&&(c=c||[]).push(f,o);c&&(e=Oc(e,c),t=Oc(t,c))}if(540672&t.flags)8388608&e.flags||e===Re||!(_=D(t))||_.isFixed||(!_.candidates||k<_.priority?(_.candidates=[e],_.priority=k):k===_.priority&&_.candidates.push(e),8&k)||!(16384&t.flags)||Nc(x,t)||(_.topLevel=!1);else if(4&P(e)&&4&P(t)&&e.target===t.target)for(var n=e.typeArguments||h_.emptyArray,r=t.typeArguments||h_.emptyArray,d=(n.length<r.length?n:r).length,p=Jo(e.target),i=0;i<d;i++)(i<p.length&&2===p[i]?E:C)(n[i],r[i]);else if(262144&e.flags&&262144&t.flags)C(e.type,t.type);else if(524288&e.flags&&524288&t.flags)C(e.objectType,t.objectType),C(e.indexType,t.indexType);else if(196608&t.flags){for(var f,_,m=0,g=void 0,h=0,y=r=t.types;h<y.length;h++)D(f=y[h])?(g=f,m++):C(e,f);1===m&&(_=k,k|=2,C(e,g),k=_)}else if(65536&e.flags)for(var v=0,b=n=e.types;v<b.length;v++)C(b[v],t);else 163840&(e=$(e)).flags&&(_=e.id+","+t.id,T&&T.get(_)||((T=T||h_.createMap()).set(_,!0),(_=32768&t.flags&&!(16&P(t)&&t.symbol&&32&t.symbol.flags)?t.symbol:void 0)?h_.contains(S,_)||((S=S||[]).push(_),A(e,t),S.pop()):A(e,t)))}}function E(e,t){L?(k^=1,C(e,t),k^=1):C(e,t)}function D(e){if(540672&e.flags)for(var t=0,n=i;t<n.length;t++){var r=n[t];if(e===r.typeParameter)return r}}function A(e,t){if(ha(e)&&ha(t)&&(C(ma(e),ma(t)),C(ga(e),ga(t))),32&P(t)){var n=ma(t);if(262144&n.flags)return void((l=D(n.type))&&!l.isFixed&&(c=function(e,t){var n=xe(e),e=O(e,0);if(0!==n.length||e){for(var r=Ec(Xs(ma(t).type,_a(t))),i=[r],a=ga(t),s=!t.declaration.readonlyToken,o=t.declaration.questionToken?0:16777216,c=h_.createSymbolTable(),l=0,u=n;l<u.length;l++){var d=u[l],p=_(V(d));if(!p)return;var f=Jn(4|d.flags&o,d.escapedName);f.checkFlags=s&&yd(d)?8:0,f.declarations=d.declarations,f.type=p,c.set(d.escapedName,f)}if(e){t=_(e.type);if(!t)return;e=Xa(t,s&&e.isReadonly)}return Ur(void 0,c,h_.emptyArray,h_.emptyArray,e,void 0)}function _(e){return r.candidates=void 0,Ic(i,e,a),r.candidates&&W(r.candidates,!0)}}(e,t))&&(d=k,k|=4,C(c,l.typeParameter),k=d));if(16384&n.flags)return C(Vs(e),n),C(W(h_.map(xe(e),V)),ga(t))}if(!wc(e,t,!1)||!wc(t,e,!1)){for(var r=e,i=0,a=va(t);i<a.length;i++){var s=a[i],o=H(r,s.escapedName);o&&C(V(o),V(s))}p(e,t,0),p(e,t,1),c=e,(d=Fa(l=t,0))&&(u=Fa(c,0)||La(c,0))&&C(u,d),(d=Fa(l,1))&&(u=Fa(c,1)||Fa(c,0)||La(c,1))&&C(u,d)}var c,l,u,d}function p(e,t,n){for(var r,i,a=G(e,n),s=G(t,n),o=a.length,c=s.length,l=o<c?o:c,u=0;u<l;u++)r=Ga(a[o-l+u]),i=Ga(s[c-l+u]),Tc(r,i,E),r.typePredicate&&i.typePredicate&&r.typePredicate.kind===i.typePredicate.kind?C(r.typePredicate.type,i.typePredicate.type):C(ke(r),ke(i))}void 0===k&&(k=0),C(e,x)}function Pc(e,t){for(var n=0,r=t;n<r.length;n++)if(Ao(r[n],e))return 1}function Oc(e,t){for(var n=[],r=0,i=e.types;r<i.length;r++){var a=i[r];Pc(a,t)||n.push(a)}return(65536&e.flags?W:Js)(n)}function Fc(e,t){var n,r,i,a,s,o=e.inferences[t],c=o.inferredType;return!c&&(c=o.candidates?(i=e.signature,s=!o.topLevel||(s=xa(o.typeParameter))&&kd(s,270334)||!o.isFixed&&Nc(ke(i),o.typeParameter)?o.candidates:h_.sameMap(o.candidates,lc),xc(1&o.priority?h_.reduceLeft(s,function(e,t){return Io(t,e)?t:e}):1&e.flags||8&o.priority?W(s,!0):(i=s,pe?(a=h_.filter(i,function(e){return!(6144&e.flags)})).length?mc(nc(a),6144&dc(i)):W(i,!0):nc(i)))):2&e.flags?Re:(a=Da(o.typeParameter))?K(a,ho((n=e.signature.typeParameters,r=t,function(e){return h_.indexOf(n,e)>=r?I:e}),e)):Lc(!!(4&e.flags)),o.inferredType=c,i=xa(e.signature.typeParameters[t]))&&(t=K(i,e),e.compareTypes(c,ia(t,c))||(o.inferredType=c=t)),c}function Lc(e){return e?J:I}function Rc(e){for(var t=[],n=0;n<e.inferences.length;n++)t.push(Fc(e,n));return t}function Mc(e){var t=q(e);return t.resolvedSymbol||(t.resolvedSymbol=!h_.nodeIsMissing(e)&&Zn(e,e.escapedText,1156031,h_.Diagnostics.Cannot_find_name_0,e,!h_.isWriteOnlyAccess(e),h_.Diagnostics.Cannot_find_name_0_Did_you_mean_1)||fe),t.resolvedSymbol}function Uc(e){return!!h_.findAncestor(e,function(e){return 162===e.kind||71!==e.kind&&143!==e.kind&&"quit"})}function Bc(e){if(174!==e.parent.kind)return""+e.parent.elements.indexOf(e);var t=e.propertyName||e.name;switch(t.kind){case 71:return h_.idText(t);case 144:return h_.isStringOrNumericLiteral(t.expression)?t.expression.text:void 0;case 9:case 8:return t.text;default:h_.Debug.fail("Unexpected name kind for binding element name")}}function jc(e,t){switch(e.kind){case 71:return 71===t.kind&&Mc(e)===Mc(t)||(226===t.kind||176===t.kind)&&wr(Mc(e))===he(t);case 99:return 99===t.kind;case 97:return 97===t.kind;case 179:return 179===t.kind&&e.name.escapedText===t.name.escapedText&&jc(e.expression,t.expression);case 176:if(179!==t.kind)return!1;var n,r=t;if(r.name.escapedText!==Bc(e))return!1;if(176===e.parent.parent.kind&&jc(e.parent.parent,r.expression))return!0;if(226===e.parent.parent.kind)return(n=e.parent.parent.initializer)&&jc(n,r.expression)}return!1}function Kc(e,t){for(;179===e.kind;)if(jc(e=e.expression,t))return!0;return!1}function zc(e,t){return 179===t.kind&&Kc(e,t.expression)&&$c(function e(t){if(71===t.kind)return V(Mc(t));{var n;if(179===t.kind)return(n=e(t.expression))&&ui(n,t.name.escapedText)}}(t.expression),t.name.escapedText)}function $c(e,t){if(e&&65536&e.flags){e=Na(e,t);if(e&&2&h_.getCheckFlags(e))return void 0===e.isDiscriminantProperty&&(e.isDiscriminantProperty=32&e.checkFlags&&oc(V(e))),e.isDiscriminantProperty}return!1}function Jc(e,t){return jc(e,t)||Kc(e,t)}function qc(e,a){if(e!==a){if(8192&a.flags)return a;var t=ol(e,function(e){var t=a,n=e;if(!(65536&t.flags))return Se(t,n);for(var r=0,i=t.types;r<i.length;r++)if(Se(i[r],n))return!0;return!1});if(!(8192&t.flags))return t}return e}function Vc(e){var t,n,r=e.flags;if(2&r)return pe?4079361:4194049;if(32&r)return t=""===e.value,pe?t?3030785:1982209:t?3145473:4194049;if(20&r)return pe?4079234:4193922;if(64&r)return t=0===e.value,pe?t?3030658:1982082:t?3145346:4193922;if(8&r)return pe?4078980:4193668;else{if(136&r)return pe?e===Ie?3030404:1981828:e===Ie?3145092:4193668;if(32768&r)return(n=ya(t=e)).callSignatures.length||n.constructSignatures.length||n.members.get("bind")&&Io(t,We)?pe?6164448:8376288:pe?6166480:8378320;if(3072&r)return 2457472;if(4096&r)return 2340752;if(512&r)return pe?1981320:4193160;if(16777216&r)return pe?6166480:8378320;if(540672&r)return Vc(Sa(e)||I);if(196608&r){for(var i=0,a=0,s=e.types;a<s.length;a++)i|=Vc(s[a]);return i}return 8388607}}function Hc(e,t){var n,r;return 524288&e.flags?(r=ol(n=Sa(e)||I,function(e){return 0!=(Vc(e)&t)}))!==n?r:e:ol(e,function(e){return 0!=(Vc(e)&t)})}function Gc(e,t){return t?(t=jd(t),W([Hc(e,131072),t])):e}function Wc(e,t){t=h_.getTextOfPropertyName(t);return ui(e,t)||Zl(t)&&Fa(e,1)||Fa(e,0)||_e}function Qc(e,t){return ac(e)&&ui(e,""+t)||Fp(e,void 0,!1,!1)||_e}function Yc(e){return Ls(Fp(e,void 0,!1,!1)||_e)}function Xc(e){return 194===e.parent.kind&&e.parent.left===e||216===e.parent.kind&&e.parent.initializer===e}function Zc(e){return Wc(el(e.parent),e.name)}function el(e){var t,n,r=e.parent;switch(r.kind){case 215:return me;case 216:return Op(r.expression,r.awaitModifier)||_e;case 194:return 177===(n=r).parent.kind&&Xc(n.parent)||261===n.parent.kind&&Xc(n.parent.parent)?Gc(el(n),n.right):jd(n.right);case 188:return we;case 177:return n=e,Qc(el(t=r),h_.indexOf(t.elements,n));case 198:return Yc(el(r.parent));case 261:return Zc(r);case 262:return Gc(Zc(t=r),t.objectAssignmentInitializer)}return _e}function tl(e){return 226===e.kind?(t=e).initializer?q(n=t.initializer).resolvedType||jd(n):215===t.parent.parent.kind?me:216===t.parent.parent.kind&&Op(t.parent.parent.expression,t.parent.parent.awaitModifier)||_e:(t=(n=e).parent,e=tl(t.parent),Gc(174===t.kind?Wc(e,n.propertyName||n.name):n.dotDotDotToken?Yc(e):Qc(e,h_.indexOf(t.elements,n)),n.initializer));var t,n}function nl(e){return(226===e.kind||176===e.kind?tl:el)(e)}function rl(e){switch(e.kind){case 185:return rl(e.expression);case 194:switch(e.operatorToken.kind){case 58:return rl(e.left);case 26:return rl(e.right)}}return e}function il(e){var t=q(e);if(!t.switchTypes){t.switchTypes=[];for(var n=0,r=e.caseBlock.clauses;n<r.length;n++){var i=257===(i=r[n]).kind?sc(i=lo(jd(i.expression)))?i:void 0:Le;if(void 0===i)return t.switchTypes=h_.emptyArray;t.switchTypes.push(i)}}return t.switchTypes}function al(e,t){return e===t||65536&t.flags&&function(e,t){if(65536&e.flags){for(var n=0,r=e.types;n<r.length;n++){var i=r[n];if(!Us(t.types,i))return!1}return!0}return!!(256&e.flags&&Gi(e)===t)||Us(t.types,e)}(e,t)}function sl(e,t){return 65536&e.flags?h_.forEach(e.types,t):t(e)}function ol(e,t){var n,r;return 65536&e.flags?(n=e.types,(r=h_.filter(n,t))===n?e:zs(r)):t(e)?e:Le}function cl(e,t){if(!(65536&e.flags))return t(e);for(var n,r,i=0,a=e.types;i<a.length;i++){var s=t(a[i]);s&&(n?r?r.push(s):r=[n,s]:n=s)}return r?W(r):n}function ll(e,t){return ol(e,function(e){return 0!=(e.flags&t)})}function ul(e,t){return al(me,e)&&kd(t,32)||al(oe,e)&&kd(t,64)?cl(e,function(e){return 2&e.flags?ll(t,34):4&e.flags?ll(t,68):e}):e}function dl(e){return 0===e.flags}function pl(e){return 0===e.flags?e.type:e}function fl(e,t){return t?{flags:0,type:e}:e}function _l(e){return te[e.id]||(te[e.id]=(e=e,(t=Fr(256)).elementType=e,t));var t}function ml(e,t){var n,r,t=cc((n=(t=t).contextualType,t.contextualType=J,r=jd(t),t.contextualType=n,r));return al(t,e.elementType)?e:_l(W([e.elementType,t]))}function gl(e){return 256&P(e)?(t=e).finalArrayType||(t.finalArrayType=8192&(t=t.elementType).flags?it:Ls(65536&t.flags?W(t.types,!0):t)):e;var t}function hl(e){return 256&P(e)?e.elementType:Le}function yl(i,e){return function(){for(var e=!1,t=0,n=i;t<n.length;t++){var r=n[t];if(!(8192&r.flags)){if(!(256&P(r)))return;e=!0}}return e}()?_l(W(h_.map(i,hl))):W(h_.sameMap(i,gl),e)}function vl(e){var e=function e(t){var n=t.parent;return 185===n.kind||194===n.kind&&58===n.operatorToken.kind&&n.left===t||194===n.kind&&26===n.operatorToken.kind&&n.right===t?e(n):t}(e),t=e.parent,n=179===t.kind&&("length"===t.name.escapedText||181===t.parent.kind&&h_.isPushOrUnshiftIdentifier(t.name)),e=180===t.kind&&t.expression===e&&194===t.parent.kind&&58===t.parent.operatorToken.kind&&t.parent.left===t&&!h_.isAssignmentTarget(t.parent)&&Sd(jd(t.argumentExpression),84);return n||e}function bl(m,g,u,d,e){void 0===u&&(u=g);var p,f,_=0;return Lt?_e:!m.flowNode||!(e||17810175&g.flags)||(f=Ft,e=pl(h(m.flowNode)),Ft=f,e=256&P(e)&&vl(m)?rt:gl(e),203===m.parent.kind&&8192&Hc(e,524288).flags)?g:e;function h(e){if(2500===_)return Lt=!0,n=h_.findAncestor(t=m,h_.isFunctionOrModuleBlock),t=h_.getSourceFileOfNode(t),n=h_.getSpanOfTokenAtPosition(t,n.statements.pos),en.add(h_.createFileDiagnostic(t,n.start,n.length,h_.Diagnostics.The_containing_function_or_module_body_is_too_large_for_control_flow_analysis)),_e;var t,n,r,i,a;for(_++;;){var s=e.flags;if(1024&s)for(var o=f;o<Ft;o++)if(Wt[o]===e)return _--,Qt[o];var c=void 0;if(4096&s)e.locked=!0,c=h(e.antecedent),e.locked=!1;else{if(2048&s){e=e.antecedent;continue}if(16&s){if(!(c=function(e){var t=e.node;if(jc(m,t))return 2===h_.getAssignmentTargetKind(t)?fl(cc(pl(e=h(e.antecedent))),dl(e)):g===re||g===it?function(e){return 226===e.kind&&e.initializer&&gi(e.initializer)||176!==e.kind&&194===e.parent.kind&&gi(e.parent.right)}(t)?_l(Le):Se(e=cc(nl(t)),g)?e:rt:65536&g.flags?qc(g,nl(t)):g;if(Kc(m,t))return g}(e))){e=e.antecedent;continue}}else if(96&s)l=a=i=void 0,a=h((r=e).antecedent),c=8192&(l=pl(a)).flags||(i=0!=(32&r.flags),l=gl(l),(r=E(l,r.expression,i))===l)?a:fl((i=dl(a))&&8192&r.flags?Re:r,i);else if(128&s)c=function(t){var e=h(t.antecedent),n=pl(e),r=t.switchStatement.expression;return jc(m,r)?n=S(n,t.switchStatement,t.clauseStart,t.clauseEnd):y(r,n)&&(n=v(n,r,function(e){return S(e,t.switchStatement,t.clauseStart,t.clauseEnd)})),fl(n,dl(e))}(e);else if(12&s){if(1===e.antecedents.length){e=e.antecedents[0];continue}c=(4&s?function(e){for(var t=[],n=!1,r=!1,i=0,a=e.antecedents;i<a.length;i++){var s=a[i];if(!(2048&s.flags&&s.lock.locked)){var s=h(s),o=pl(s);if(o===g&&g===u)return o;h_.pushIfUnique(t,o),al(o,g)||(n=!0),dl(s)&&(r=!0)}}return fl(yl(t,n),r)}:function(e){var t=function(e){return e.id||(e.id=b_,b_++),e.id}(e),n=qt[t]||(qt[t]=h_.createMap());if(!p&&!(p=function e(t){var n,r;return 71===t.kind?(r=Mc(t))!==fe?(Sl(t)?"@":"")+k_(r):void 0:99===t.kind?"0":179===t.kind?(n=e(t.expression))&&n+"."+h_.idText(t.name):176===t.kind?(n=176===(r=t.parent.parent).kind?e(r):r.initializer&&e(r.initializer),r=Bc(t),n&&r&&n+"."+r):void 0}(m)))return g;t=n.get(p);if(t)return t;for(var r=Pt;r<Ot;r++)if(Vt[r]===e&&Ht[r]===p&&Gt[r].length)return fl(yl(Gt[r],!1),!0);var i,a=[],s=!1;Vt[Ot]=e,Ht[Ot]=p,Gt[Ot]=a;for(var o=0,c=e.antecedents;o<c.length;o++){var l=c[o],l=(Ot++,h(l)),l=(Ot--,i=i||l,pl(l)),u=n.get(p);if(u)return u;if(h_.pushIfUnique(a,l),al(l,g)||(s=!0),l===g)break}t=yl(a,s);return dl(i)?fl(t,!0):(n.set(p,t),t)})(e)}else if(256&s){if(!(c=function(e){if(g===re||g===it){var t=e.node,n=(181===t.kind?t.expression:t.left).expression;if(jc(m,rl(n))){n=h(e.antecedent),e=pl(n);if(256&P(e)){var r=e;if(181===t.kind)for(var i=0,a=t.arguments;i<a.length;i++)r=ml(r,a[i]);else Sd(jd(t.left.argumentExpression),84)&&(r=ml(r,t.right));return r===e?n:fl(r,dl(n))}return n}}}(e))){e=e.antecedent;continue}}else if(2&s){var l=e.container;if(l&&l!==d&&179!==m.kind&&99!==m.kind){e=l.flowNode;continue}c=u}else c=Ap(g)}return 1024&s&&(Wt[Ft]=e,Qt[Ft]=c,Ft++),_--,c}}function y(e,t){return 179===e.kind&&65536&t.flags&&jc(m,e.expression)&&$c(t,e.name.escapedText)}function v(e,t,n){var r=t.name.escapedText,t=ui(e,r),i=t&&n(t);return t===i?e:ol(e,function(e){return Oo(ui(e,r),i)})}function b(e,t,n){return jc(m,t)?Hc(e,n?1048576:2097152):y(t,g)?v(e,t,function(e){return Hc(e,n?1048576:2097152)}):zc(m,t)?g:e}function x(e,t,n,r){if(1&e.flags)return e;33!==t&&35!==t||(r=!r);var i,a=jd(n);return 6144&a.flags?pe?Hc(e,32===t||33===t?r?65536:524288:95===n.kind?r?32768:262144:r?16384:131072):e:16810497&e.flags?e:r?8192&(t=ol(e,function(e){return Oo(e=e,t=a)||Oo(t,e);var t})).flags?e:ul(t,a):sc(a)?(i=lo(a),ol(e,function(e){return lo(e)!==i})):e}function k(e,t,n,r,i){t=rl(t.expression);if(!jc(m,t))return Kc(m,t)?g:e;if((i=33!==n&&35!==n?i:!i)&&!(65536&e.flags)){t=ln.get(r.text);if(t){if(Io(t,e))return t;if(540672&e.flags&&Io(t,Sa(e)||J))return Js([e,t])}}return Hc(e,i?on.get(r.text)||64:cn.get(r.text)||8192)}function S(e,t,n,r){var i,a=il(t);return a.length?(t=a.slice(n,r),n=n===r||h_.contains(t,Le),r=8192&(i=W(t)).flags?Le:ul(ol(e,function(e){return Oo(i,e)}),i),n?(t=ol(e,function(e){return!(sc(e)&&h_.contains(a,lo(e)))}),8192&r.flags?t:W([r,t])):r):e}function T(e,t,n,r){if(!n)return ol(e,function(e){return!r(e,t)});if(65536&e.flags){n=ol(e,function(e){return r(e,t)});if(!(8192&n.flags))return n}return Io(t,e)?t:Se(e,t)?e:Se(t,e)?t:Js([e,t])}function C(e,t,n){if(function(e,t){if(e.arguments)for(var n=0,r=e.arguments;n<r.length;n++)if(Jc(t,r[n]))return 1;return 179===e.expression.kind&&Jc(t,e.expression.expression)}(t,m)&&(void 0===(i=q(r=t)).maybeTypePredicate&&(i.maybeTypePredicate=function(){if(97!==r.expression.kind){var e=Su(r.expression);if(e!==Re){var e=$(e);if(e!==_e)return e=G(e,0),!!h_.forEach(e,function(e){return e.typePredicate})}}return!1}()),i.maybeTypePredicate)){var r,i=td(t),a=i.typePredicate;if(a&&(!w(e)||a.type!==Ge&&a.type!==We))if(h_.isIdentifierTypePredicate(a)){i=t.arguments[a.parameterIndex-(i.thisParameter?1:0)];if(i){if(jc(m,i))return T(e,a.type,n,Io);if(Kc(m,i))return g}}else{i=h_.skipParentheses(t.expression);if(180===i.kind||179===i.kind){t=h_.skipParentheses(i.expression);if(jc(m,t))return T(e,a.type,n,Io);if(Kc(m,t))return g}}}return e}function E(e,t,n){switch(t.kind){case 71:case 99:case 97:case 179:return b(e,t,n);case 181:return C(e,t,n);case 185:return E(e,t.expression,n);case 194:var r,i,a,s,o,c,l=e,u=t,d=n;switch(u.operatorToken.kind){case 58:return b(l,u.left,d);case 32:case 33:case 34:case 35:var p=u.operatorToken.kind,f=rl(u.left),_=rl(u.right);if(189===f.kind&&9===_.kind)return k(l,f,p,_,d);if(189===_.kind&&9===f.kind)return k(l,_,p,f,d);if(jc(m,f))return x(l,p,_,d);if(jc(m,_))return x(l,p,f,d);if(y(f,g))return v(l,f,function(e){return x(e,p,_,d)});if(y(_,g))return v(l,_,function(e){return x(e,p,f,d)});if(zc(m,f)||zc(m,_))return g;break;case 93:return r=l,a=d,c=rl((i=u).left),jc(m,c)?Io(i=jd(i.right),We)&&((o=H(i,"prototype"))&&!w(o=V(o))&&(s=o),!w(r)||s!==Ge&&s!==We)&&(s||(o=void 0,2&P(i)?o=ra(i).declaredConstructSignatures:16&P(i)&&(o=G(i,1)),o&&o.length&&(s=W(h_.map(o,function(e){return ke(Ga(e))})))),s)?T(r,s,a,Po):r:Kc(m,c)?g:r;case 26:return E(l,u.right,d)}return l;case 192:if(51===t.operator)return E(e,t.operand,!n)}return e}}function xl(e){return h_.findAncestor(e.parent,function(e){return h_.isFunctionLike(e)&&!h_.getImmediatelyInvokedFunctionExpression(e)||234===e.kind||265===e.kind||149===e.kind})}function kl(e){var t;71===e.kind?h_.isAssignmentTarget(e)&&(t=Mc(e)).valueDeclaration&&146===h_.getRootDeclaration(t.valueDeclaration).kind&&(t.isAssigned=!0):h_.forEachChild(e,kl)}function Sl(e){var t=e.parent;return 179===t.kind||181===t.kind&&t.expression===e||180===t.kind&&t.expression===e}function Tl(e){return 540672&e.flags&&kd(Sa(e)||I,6144)}function Cl(e,t){e=V(e);return Sl(t)&&sl(e,Tl)?cl(xc(e),$):e}function El(e){var t,n=Mc(e);if(n===fe)return _e;if(n===M)return t=h_.getContainingFunction(e),de<2&&(187===t.kind?ge(e,h_.Diagnostics.The_arguments_object_cannot_be_referenced_in_an_arrow_function_in_ES3_and_ES5_Consider_using_a_standard_function_expression):h_.hasModifier(t,256)&&ge(e,h_.Diagnostics.The_arguments_object_cannot_be_referenced_in_an_async_function_or_method_in_ES3_and_ES5_Consider_using_a_standard_function_or_method)),q(t).flags|=8192,V(n);!lr(n,107455)||Uc(e)||Nf(dr(n))||fr(n);var r=wr(n),i=r.valueDeclaration;if(32&r.flags)if(229===i.kind&&h_.nodeIsDecorated(i))for(t=h_.getContainingClass(e);void 0!==t;){if(t===i&&t.name!==e){q(i).flags|=8388608,q(e).flags|=16777216;break}t=h_.getContainingClass(t)}else if(199===i.kind)for(t=h_.getThisContainer(e,!1);void 0!==t;){if(t.parent===i){149===t.kind&&h_.hasModifier(t,32)&&(q(i).flags|=8388608,q(e).flags|=16777216);break}t=h_.getThisContainer(t,!1)}Tp(e,e),bp(e,e),xp(e,e);var a=e,s=n;if(!(2<=de||0==(34&s.flags)||260===s.valueDeclaration.parent.kind)){for(var o,c=h_.getEnclosingBlockScopeContainer(s.valueDeclaration),l=(l=a.parent,o=c,!!h_.findAncestor(l,function(e){return e===o?"quit":h_.isFunctionLike(e)})),u=c,d=!1;u&&!h_.nodeStartsNewLexicalEnvironment(u);){if(h_.isIterationStatement(u,!1)){d=!0;break}u=u.parent}d&&(l&&(q(u).flags|=65536),214===c.kind&&h_.getAncestor(s.valueDeclaration,227).parent===c&&function(t){for(var e=a;185===e.parent.kind;)e=e.parent;var n,r=!1;return h_.isAssignmentTarget(e)?r=!0:192!==e.parent.kind&&193!==e.parent.kind||(r=43===(n=e.parent).operator||44===n.operator),r&&h_.findAncestor(e,function(e){return e===t?"quit":e===t.statement})}(c)&&(q(s.valueDeclaration).flags|=2097152),q(s.valueDeclaration).flags|=262144),l&&(q(s.valueDeclaration).flags|=131072)}c=Cl(r,e),l=h_.getAssignmentTargetKind(e);if(l){if(!(3&r.flags))return ge(e,h_.Diagnostics.Cannot_assign_to_0_because_it_is_not_a_variable,ye(n)),_e;if(yd(r))return ge(e,h_.Diagnostics.Cannot_assign_to_0_because_it_is_a_constant_or_a_read_only_property,ye(n)),_e}s=2097152&r.flags;if(3&r.flags){if(1===l)return c}else{if(!s)return c;i=h_.find(n.declarations,C_)}if(!i)return c;for(var p,f,_,m=146===h_.getRootDeclaration(i).kind,g=xl(i),h=xl(e),y=h!==g;h!==g&&(186===h.kind||187===h.kind||h_.isObjectLiteralOrClassExpressionMethod(h))&&(3&(_=r).flags&&0!=(2&bu(_))&&V(_)!==it||m&&(_=r,f=p=void 0,p=h_.getRootDeclaration(_.valueDeclaration).parent,4194304&(f=q(p)).flags||(f.flags|=4194304,h_.findAncestor(p.parent,function(e){return h_.isFunctionLike(e)&&!!(4194304&q(e).flags)}))||kl(p),!_.isAssigned));)h=xl(h);var s=m||s||y||c!==re&&c!==it&&(!pe||0!=(1&c.flags)||Uc(e)||246===e.parent.kind)||203===e.parent.kind||h_.isInAmbientContext(i),v=bl(e,c,s?m?(y=c,v=h_.getRootDeclaration(i),pe&&146===v.kind&&v.initializer&&2048&pc(y)&&!(2048&pc(Te(v.initializer)))?Hc(y,131072):y):c:c===re||c===it?we:mc(c,2048),h,!s);if(c===re||c===it){if(v===re||v===it)return X&&(ge(h_.getNameOfDeclaration(i),h_.Diagnostics.Variable_0_implicitly_has_type_1_in_some_locations_where_its_type_cannot_be_determined,ye(n),ve(v)),ge(e,h_.Diagnostics.Variable_0_implicitly_has_an_1_type,ye(n),ve(v))),Ap(v)}else if(!s&&!(2048&pc(c))&&2048&pc(v))return ge(e,h_.Diagnostics.Variable_0_is_used_before_being_assigned,ye(n)),c;return l?cc(v):v}function Dl(e,t){q(e).flags|=2,149===t.kind||152===t.kind?q(t.parent).flags|=4:q(t).flags|=4}function Al(e){return h_.isSuperCall(e)?e:h_.isFunctionLike(e)?void 0:h_.forEachChild(e,Al)}function Nl(e){var t=q(e);return void 0===t.hasSuperCall&&(t.superCall=Al(e.body),t.hasSuperCall=!!t.superCall),t.superCall}function wl(e){return zi(be(he(e)))===se}function Il(e,t,n){var r=t.parent;h_.getClassExtendsHeritageClauseElement(r)&&!wl(r)&&(!(r=Nl(t))||r.end>e.pos)&&ge(e,n)}function Pl(e,t){return h_.findAncestor(e,function(e){return e===t?"quit":146===e.kind})}function Ol(e){var t=181===e.parent.kind&&e.parent.expression===e,n=h_.getSuperContainer(e,!0),r=!1;if(!t)for(;n&&187===n.kind;)n=h_.getSuperContainer(n,!0),r=de<2;var i,a,s;return!(i=n)||(t?152!==i.kind:!h_.isClassLike(i.parent)&&178!==i.parent.kind||(h_.hasModifier(i,32)?151!==i.kind&&150!==i.kind&&153!==i.kind&&154!==i.kind:151!==i.kind&&150!==i.kind&&153!==i.kind&&154!==i.kind&&149!==i.kind&&148!==i.kind&&152!==i.kind))?((i=h_.findAncestor(e,function(e){return e===n?"quit":144===e.kind}))&&144===i.kind?ge(e,h_.Diagnostics.super_cannot_be_referenced_in_a_computed_property_name):t?ge(e,h_.Diagnostics.Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors):n&&n.parent&&(h_.isClassLike(n.parent)||178===n.parent.kind)?ge(e,h_.Diagnostics.super_property_access_is_permitted_only_in_a_constructor_member_function_or_member_accessor_of_a_derived_class):ge(e,h_.Diagnostics.super_can_only_be_referenced_in_members_of_derived_classes_or_object_literal_expressions),_e):(t||152!==n.kind||Il(e,n,h_.Diagnostics.super_must_be_called_before_accessing_a_property_of_super_in_the_constructor_of_a_derived_class),i=h_.hasModifier(n,32)||t?512:256,q(e).flags|=i,151===n.kind&&h_.hasModifier(n,256)&&(h_.isSuperProperty(e.parent)&&h_.isAssignmentTarget(e.parent)?q(n).flags|=4096:q(n).flags|=2048),r&&Dl(e.parent,n),178===n.parent.kind?de<2?(ge(e,h_.Diagnostics.super_is_only_allowed_in_members_of_object_literal_expressions_when_option_target_is_ES2015_or_higher),_e):J:(s=(a=be(he(t=n.parent)))&&$i(a)[0])?152===n.kind&&Pl(e,n)?(ge(e,h_.Diagnostics.super_cannot_be_referenced_in_constructor_arguments),_e):512==i?zi(a):ia(s,a.thisType):(h_.getClassExtendsHeritageClauseElement(t)||ge(e,h_.Diagnostics.super_can_only_be_referenced_in_a_derived_class),_e))}function Fl(e){return 4&P(e)&&e.target===nt?e.typeArguments[0]:void 0}function Ll(e){if(187!==e.kind){if(Eo(e)){var t=Ql(e);if(t){t=t.thisParameter;if(t)return V(t)}}t=h_.isInJavaScriptFile(e);if(Z||t){var n=151!==e.kind&&153!==e.kind&&154!==e.kind||178!==e.parent.kind?186===e.kind&&261===e.parent.kind?e.parent.parent:void 0:e.parent;if(n){for(var r=Jl(n),i=n,a=r;a;){var s=cl(a,function(e){return 131072&e.flags?h_.forEach(e.types,Fl):Fl(e)});if(s)return K(s,Vl(n));if(261!==i.parent.kind)break;a=Jl(i=i.parent.parent)}return r?gc(r):Fd(n)}r=e.parent;if(194===r.kind&&58===r.operatorToken.kind){e=r.left;if(179===e.kind||180===e.kind){e=e.expression;if(t&&h_.isIdentifier(e)){t=h_.getSourceFileOfNode(r);if(t.commonJsModuleIndicator&&Mc(e)===t.symbol)return}return Fd(e)}}}}}function Rl(e){var t=e.parent;if(Eo(t)){var n=h_.getImmediatelyInvokedFunctionExpression(t);if(n&&n.arguments){var r=h_.indexOf(t.parameters,e);if(e.dotDotDotToken){for(var i=[],a=r;a<n.arguments.length;a++)i.push(lc(Te(n.arguments[a])));return i.length?Ls(W(i)):void 0}var s=q(n),o=s.resolvedSignature,c=(s.resolvedSignature=Ct,r<n.arguments.length?lc(Te(n.arguments[r])):e.initializer?void 0:ie);return s.resolvedSignature=o,c}s=Ql(t);if(s)return o=h_.hasRestParameter(t),c=t.parameters.length-(o?1:0),r=h_.indexOf(t.parameters,e),void 0===h_.getThisParameter(t)||s.thisParameter||(h_.Debug.assert(0!==r),--r),r<c?od(s,r):o&&r===t.parameters.length-1&&tc(s,t.parameters.length-1)?V(h_.lastOrUndefined(s.parameters)):void 0}}function Ml(e){for(;e.parent&&!h_.isFunctionLike(e.parent);){if(146===e.parent.kind&&e.parent.initializer===e)return 1;e=e.parent}}function Ul(e){return 152===e.kind||h_.getEffectiveReturnTypeNode(e)||Bp(e)?ke(za(e)):!(e=Wl(e))||!e.resolvedReturnType&&0<=oi(e,3)?void 0:ke(e)}function Bl(e,t){var n=Ju(e),n=h_.indexOf(n,t);if(0<=n)return od(q(e).resolvedSignature===Dt?Dt:td(e),n)}function jl(e,t){return cl(e,function(e){e=229376&e.flags?H(e,t):void 0;return e?V(e):void 0})}function Kl(e,t){return cl(e,function(e){return Oa(e,t)})}function zl(e){var t=Jl(e.parent);if(t){if(!h_.hasDynamicName(e)){var n=jl(t,he(e).escapedName);if(n)return n}return Xl(e.name)&&Kl(t,1)||Kl(t,0)}}function $l(e,t){return e&&(jl(e,""+t)||Kl(e,1)||Lp(e,void 0,!1,!1,!1))}function Jl(e){e=ql(e);return e&&$(e)}function ql(e){if(!lf(e)){if(e.contextualType)return e.contextualType;var t=e.parent;switch(t.kind){case 226:case 146:case 149:case 148:case 176:var n=e.parent;if(e===n.initializer){var r=h_.getEffectiveTypeAnnotationNode(n);if(r)return Q(r);if(146===n.kind){r=Rl(n);if(r)return r}if(h_.isBindingPattern(n.name))return bi(n.name,!0,!1);if(h_.isBindingPattern(n.parent)){r=n.parent.parent,n=n.propertyName||n.name;if(176!==r.kind){r=h_.getEffectiveTypeAnnotationNode(r);if(r&&!h_.isBindingPattern(n)){n=h_.getTextOfPropertyName(n);if(n)return ui(Q(r),n)}}}}return;case 187:case 219:r=h_.getContainingFunction(e);if(r){n=h_.getFunctionFlags(r);if(!(1&n))return r=Ul(r),2&n?r&&tp(r):r}return;case 197:var i=t;if(s=h_.getContainingFunction(i)){var a=h_.getFunctionFlags(s),s=Ul(s);if(s)return i.asteriskToken?s:Up(s,0!=(2&a))}return;case 181:case 182:return Bl(t,e);case 184:case 202:return Q(t.type);case 194:var i=e,o=i.parent,s=o.operatorToken.kind;if(!h_.isAssignmentOperator(s))return 54===s?(a=ql(o))||i!==o.right?a:jd(o.left,!0):53!==s&&26!==s||i!==o.right?void 0:ql(o);if(i!==o.right)return;switch(h_.getSpecialPropertyAssignmentKind(o)){case 0:break;case 5:if(!o.left.symbol)break;case 1:case 2:case 3:case 4:return}return jd(o.left);case 261:case 262:return zl(t);case 263:return Jl(t.parent);case 177:var c=t;return $l(Jl(c),h_.indexOfNode(c.elements,e));case 195:return c=e.parent,e===c.whenTrue||e===c.whenFalse?ql(c):void 0;case 205:h_.Debug.assert(196===t.parent.kind);var l=t.parent;return 183===l.parent.kind?Bl(l.parent,e):void 0;case 185:l=h_.isInJavaScriptFile(t)?h_.getJSDocTypeTag(t):void 0;return l?Q(l.typeExpression.type):ql(t);case 256:var u=t,d=ql(h_.isJsxAttributeLike(u.parent)?u.parent.parent:u.parent.openingElement.attributes);return d&&!w(d)?h_.isJsxAttribute(u.parent)?jl(d,u.parent.name.escapedText):249===u.parent.kind?(u=du())&&""!==u?jl(d,u):J:d:void 0;case 253:case 255:return d=ql((u=t).parent),h_.isJsxAttribute(u)?!d||w(d)?void 0:jl(d,u.name.escapedText):d;case 251:case 250:return mu(t)}}}function Vl(e){return(e=h_.findAncestor(e,function(e){return!!e.contextualMapper}))?e.contextualMapper:z}function Hl(e,t){e=Ia(e,0);if(1===e.length){e=e[0];if(!function(e,t){for(var n=0;n<t.parameters.length;n++){var r=t.parameters[n];if(r.initializer||r.questionToken||r.dotDotDotToken||Ma(r))break}return t.parameters.length&&h_.parameterIsThisKeyword(t.parameters[0])&&n--,(e.hasRestParameter?Number.MAX_VALUE:e.parameters.length)<n}(e,t))return e}}function Gl(e){return 186===e.kind||187===e.kind}function Wl(e){return Gl(e)||h_.isObjectLiteralMethod(e)?Ql(e):void 0}function Ql(e){h_.Debug.assert(151!==e.kind||h_.isObjectLiteralMethod(e));t=e;var t=(h_.isObjectLiteralMethod(t)?function(e){if(h_.Debug.assert(h_.isObjectLiteralMethod(e)),!lf(e))return zl(e)}:Jl)(t);if(t){if(!(65536&t.flags))return Hl(t,e);for(var n,r,i=0,a=t.types;i<a.length;i++){var s=Hl(a[i],e);if(s)if(n){if(!ec(n[0],s,!1,!0,!0,No))return;n.push(s)}else n=[s]}return n&&((r=oa(n[0])).resolvedReturnType=void 0,r.unionSignatures=n),r}}function Yl(e){return 176===e.kind&&e.initializer||194===e.kind&&58===e.operatorToken.kind}function Xl(e){switch(e.kind){case 144:return Sd(eu(e),84);case 71:return Zl(e.escapedText);case 8:case 9:return Zl(e.text);default:return!1}}function Zl(e){return(+e).toString()===e}function eu(e){var t=q(e.expression);return t.resolvedType||(t.resolvedType=Te(e.expression),6144&t.resolvedType.flags||!Sd(t.resolvedType,262774)&&!Se(t.resolvedType,W([me,oe,Oe]))?ge(e,h_.Diagnostics.A_computed_property_name_must_be_of_type_string_number_symbol_or_any):Ou(e.expression,t.resolvedType,!0)),t.resolvedType}function tu(e,t,n,r){for(var i=[],a=0;a<n.length;a++)0!==r&&!Xl(e[a+t].name)||i.push(V(n[a]));return Xa(i.length?W(i,!0):we,!1)}function nu(n,e){var r=h_.isAssignmentTarget(n);!function(e,t){for(var n=h_.createUnderscoreEscapedMap(),r=0,i=e.properties;r<i.length;r++){var a=i[r];if(263!==a.kind){var s=a.name;if(144===s.kind&&i_(s),262===a.kind&&!t&&a.objectAssignmentInitializer)return De(a.equalsToken,h_.Diagnostics.can_only_be_used_in_an_object_literal_property_inside_a_destructuring_assignment);if(a.modifiers)for(var o=0,c=a.modifiers;o<c.length;o++){var l=c[o];120===l.kind&&151===a.kind||De(l,h_.Diagnostics._0_modifier_cannot_be_used_here,h_.getTextOfNode(l))}var u=void 0,d=(261===a.kind||262===a.kind?(s_(a.questionToken,h_.Diagnostics.An_object_member_cannot_be_declared_optional),8===s.kind&&g_(s),u=1):151===a.kind?u=1:153===a.kind?u=2:154===a.kind?u=4:h_.Debug.assertNever(a,"Unexpected syntax kind:"+a.kind),h_.getPropertyNameForPropertyNameNode(s));if(void 0!==d){var p=n.get(d);if(p)if(1===u&&1===p)De(s,h_.Diagnostics.Duplicate_identifier_0,h_.getTextOfNode(s));else{if(!(6&u&&6&p))return De(s,h_.Diagnostics.An_object_literal_cannot_have_property_and_accessor_with_the_same_name);if(6===p||u===p)return De(s,h_.Diagnostics.An_object_literal_cannot_have_multiple_get_Slashset_accessors_with_the_same_name);n.set(d,u|p)}else n.set(d,u)}}}}(n,r);for(var t,i=h_.createSymbolTable(),a=[],s=I,o=0,c=Jl(n),l=c&&c.pattern&&(174===c.pattern.kind||178===c.pattern.kind),u=!c&&h_.isInJavaScriptFile(n),d=0,p=!1,f=!1,_=!1,m=h_.isInJavaScriptFile(n),g=0,h=0;h<n.properties.length;h++){var y=n.properties[h],v=y.symbol,b=void 0;if(261===y.kind||262===y.kind||h_.isObjectLiteralMethod(y)){var x,k,S=void 0,T=(m&&(S=mi(y)),void 0),T=261===y.kind?(144===y.name.kind&&224&(x=eu(y.name)).flags&&(b=h_.escapeLeadingUnderscores(""+x.value)),x=e,144===(t=y).name.kind&&eu(t.name),Ud(t.initializer,x)):151===y.kind?(t=e,u_(k=y),144===k.name.kind&&eu(k.name),Bd(k,gd(k,t),t)):(h_.Debug.assert(262===y.kind),Ud(y.name,e)),C=(S&&(Fo(T,S,y),T=S),d|=T.flags,Jn(4|v.flags,b||v.escapedName));r?((261===y.kind&&Yl(y.initializer)||262===y.kind&&y.objectAssignmentInitializer)&&(C.flags|=16777216),!b&&h_.hasDynamicName(y)&&(p=!0)):!l||512&P(c)||((k=H(c,v.escapedName))?C.flags|=16777216&k.flags:ue.suppressExcessPropertyErrors||O(c,0)||ge(y.name,h_.Diagnostics.Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1,ye(v),ve(c))),C.declarations=v.declarations,C.parent=v.parent,v.valueDeclaration&&(C.valueDeclaration=v.valueDeclaration),C.type=T,C.target=v,v=C}else{if(263===y.kind){if(de<2&&Hf(y,2),0<a.length&&(s=io(s,A(),n.symbol,o),a=[],i=h_.createSymbolTable(),_=f=!1,d=0),!ru(T=Te(y.expression)))return ge(y,h_.Diagnostics.Spread_types_may_only_be_created_from_object_types),_e;s=io(s,T,n.symbol,o),g=h+1;continue}h_.Debug.assert(153===y.kind||154===y.kind),af(y)}!b&&h_.hasDynamicName(y)?Xl(y.name)?_=!0:f=!0:i.set(v.escapedName,v),a.push(v)}if(l)for(var E=0,D=xe(c);E<D.length;E++)C=D[E],i.get(C.escapedName)||(16777216&C.flags||ge(C.valueDeclaration||C.bindingElement,h_.Diagnostics.Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value),i.set(C.escapedName,C),a.push(C));return s!==I?s=0<a.length?io(s,A(),n.symbol,o):s:A();function A(){var e=u?wt:f?tu(n.properties,g,a,0):void 0,t=_&&!u?tu(n.properties,g,a,1):void 0,e=Ur(n.symbol,i,h_.emptyArray,h_.emptyArray,e,t),t=ue.suppressExcessPropertyErrors?0:1048576;return e.flags|=4194304|t|14680064&d,e.objectFlags|=128,p&&(e.objectFlags|=512),r&&(e.pattern=n),6144&e.flags||(o|=14680064&e.flags),e}}function ru(e){return 16777217&e.flags||7392&pc(e)&&ru(fc(e))||32768&e.flags&&!ha(e)||196608&e.flags&&!h_.forEach(e.types,function(e){return!ru(e)})}function iu(e){return!h_.stringContains(e,"-")}function au(e){switch(e.kind){case 179:case 99:return!1;case 71:return h_.isIntrinsicJsxName(e.escapedText);default:h_.Debug.fail()}}function su(e,t,n){for(var r,i=e.attributes,a=h_.createSymbolTable(),s=I,o=[],c=!1,l=!1,u=du(),d=0,p=i.properties;d<p.length;d++){var f,_,m=p[d],g=m.symbol;h_.isJsxAttribute(m)?(f=m.initializer?Te(m.initializer,n):ce,(_=Jn(33554436|g.flags,g.escapedName)).declarations=g.declarations,_.parent=g.parent,g.valueDeclaration&&(_.valueDeclaration=g.valueDeclaration),_.type=f,_.target=g,a.set(_.escapedName,_),o.push(_),m.name.escapedText===u&&(l=!0)):(h_.Debug.assert(255===m.kind),0<o.length&&(s=io(s,C(i.symbol,a),e.symbol,0),o=[],a=h_.createSymbolTable()),w(f=Te(m.expression))&&(c=!0),ru(f)?s=io(s,f,e.symbol,0):r=r?Js([r,f]):f)}if(!c){s!==I&&(o=xe(s=0<o.length?io(s,C(i.symbol,a),e.symbol,0):s));for(var a=h_.createSymbolTable(),h=0,y=o;h<y.length;h++){var v=y[h];t&&!t(v)||a.set(v.escapedName,v)}}var b=249===e.parent.kind?e.parent:void 0;if(b&&b.openingElement===e&&0<b.children.length){for(var x=[],k=0,S=b.children;k<S.length;k++){var T=S[k];10===T.kind?T.containsOnlyWhiteSpaces||x.push(me):x.push(Te(T,n))}!c&&u&&""!==u&&(l&&ge(i,h_.Diagnostics._0_are_specified_twice_The_attribute_named_0_will_be_overwritten,h_.unescapeLeadingUnderscores(u)),(b=Jn(33554436,u)).type=1===x.length?x[0]:Ls(W(x,!1)),a.set(u,b))}return c?J:(b=C(i.symbol,a),r&&a.size?Js([r,b]):r||b);function C(e,t){e=Ur(e,t,h_.emptyArray,h_.emptyArray,void 0,void 0);return e.flags|=37748736,e.objectFlags|=128,e}}function ou(e){var t=fn.get(e);return void 0===t&&fn.set(e,t=Ns(_n,e)||_e),t}function cu(e){var t=q(e);if(t.resolvedSymbol)return t.resolvedSymbol;var n,r=ou(mn);if(r===_e)return X&&ge(e,h_.Diagnostics.JSX_element_implicitly_has_type_any_because_no_interface_JSX_0_exists,h_.unescapeLeadingUnderscores(mn)),t.resolvedSymbol=fe;if(h_.isIdentifier(e.tagName))return(n=H(r,e.tagName.escapedText))?(t.jsxFlags|=1,t.resolvedSymbol=n):Fa(r,0)?(t.jsxFlags|=2,t.resolvedSymbol=r.symbol):(ge(e,h_.Diagnostics.Property_0_does_not_exist_on_type_1,h_.idText(e.tagName),"JSX."+mn),t.resolvedSymbol=fe);throw h_.Debug.fail()}function lu(e){var t=hs(_n,1920,void 0),t=t&&Yn(t.exports,e,793064),n=t&&be(t),n=n&&xe(n);if(n)return 0===n.length?"":1===n.length?n[0].escapedName:void(1<n.length&&ge(t.declarations[0],h_.Diagnostics.The_global_type_JSX_0_may_not_have_more_than_one_property,h_.unescapeLeadingUnderscores(e)))}function uu(){return dn||(dn=!0,rn=lu(hn)),rn}function du(){return pn||(pn=!0,an=lu(yn)),an}function pu(e){if(e){if(131072&e.flags){for(var t=[],n=0,r=e.types;n<r.length;n++){var i=r[n];t.push($(i))}return Js(t)}return $(e)}}function fu(e){h_.Debug.assert(au(e.tagName));var t=q(e);return t.resolvedJsxElementAttributesType||(e=cu(e),1&t.jsxFlags?t.resolvedJsxElementAttributesType=V(e):2&t.jsxFlags?t.resolvedJsxElementAttributesType=Za(e,0).type:t.resolvedJsxElementAttributesType=_e)}function _u(e,t){var n,r=q(e),i=t?"resolvedJsxElementAllAttributesType":"resolvedJsxElementAttributesType";return r[i]||(n=vt=vt||Ns(_n,gn),r[i]=function t(n,r,e,i){if(65536&(e=void 0===e?Te(n.tagName):e).flags)return W(e.types.map(function(e){return t(n,r,e,i)}),!0);if(2&e.flags)return J;if(32&e.flags){if((o=ou(mn))!==_e){var a=e.value;if(c=H(o,h_.escapeLeadingUnderscores(a)))return V(c);if(c=Fa(o,0))return c;ge(n,h_.Diagnostics.Property_0_does_not_exist_on_type_1,a,"JSX."+mn)}return J}var s,o=function(e,t){if(h_.Debug.assert(!(65536&t.flags)),w(t))return J;var n=G(t,1);if(0===n.length&&0===(n=G(t,0)).length)return ge(e.tagName,h_.Diagnostics.JSX_element_type_0_does_not_have_any_construct_or_call_signatures,h_.getTextOfNode(e.tagName)),_e;for(var r=[],i=0,a=n;i<a.length;i++){var s,o,c=a[i];c.typeParameters?(s=h_.isInJavaScriptFile(e),o=Ka(void 0,c.typeParameters,0,s),r.push(Va(c,o,s))):r.push(c)}return W(h_.map(r,ke),!0)}(n,e),c=(r?function(e,t,n,r){if(h_.Debug.assert(!(65536&t.flags)),!r||!Se(n,r)){var i=hu();if(i){Xu(e,t,n=[]);for(var a=void 0,s=void 0,o=0,c=n;o<c.length;o++){var l=c[o],u=ke(l),d=pu(u&&(0===l.parameters.length?I:V(l.parameters[0])));if(u&&Se(u,i)){for(var p=!0,f=0,_=e.attributes.properties;f<_.length;f++){var m=_[f];if(h_.isJsxAttribute(m)&&iu(m.name.escapedText)&&!H(d,m.name.escapedText)){p=!1;break}}p&&(a=da(a,d)),s=da(s,d)}}return a=a||s,r=ou(bn),a=r!==_e?da(r,a):a}}}:function(e,t,n,r){if(h_.Debug.assert(!(65536&t.flags)),(!r||!Se(n,r))&&(n=hu())&&(r=Xu(e,t,void 0))!==Et&&(e=r&&ke(r),t=pu(t=e&&(0===r.parameters.length?I:V(r.parameters[0]))),e)&&Se(e,n))return(r=ou(bn))!==_e?da(r,t):t})(n,e,o,i);return c||(i&&zo(o,i,Sn,n,h_.Diagnostics.JSX_element_type_0_is_not_a_constructor_function_for_JSX_elements),w(o)?o:void 0===(a=uu())?J:""===a?o:(e=ui(o,a))?w(e)||e===_e?e:(c=e,(a=ou(xn))!==_e&&((s=Li(a.symbol))?1===s.length&&(c=da(is(a,[o]),c)):c=da(e,a)),(s=ou(bn))!==_e?da(s,c):c):I)}(e,t,void 0,n))}function mu(e){return au(e.tagName)?fu(e):_u(e,!1)}function gu(){return bt=bt||Ns(_n,vn)}function hu(){var e;return xt||(e=gu())&&(xt=W([e,ae])),xt}function yu(e){!function(e){for(var t=h_.createUnderscoreEscapedMap(),n=0,r=e.attributes.properties;n<r.length;n++){var i=r[n];if(255!==i.kind){var a=i.name;if(t.get(a.escapedText))return De(a,h_.Diagnostics.JSX_elements_cannot_have_multiple_attributes_with_the_same_name);t.set(a.escapedText,!0);a=i.initializer;if(a&&256===a.kind&&!a.expression)return De(i.initializer,h_.Diagnostics.JSX_attributes_must_only_be_assigned_a_non_empty_expression)}}}(e),t=e,0===(ue.jsx||0)&&ge(t,h_.Diagnostics.Cannot_use_JSX_unless_the_jsx_flag_is_provided),void 0===gu()&&X&&ge(t,h_.Diagnostics.JSX_element_implicitly_has_type_any_because_the_global_type_JSX_Element_does_not_exist);var t=en&&2===ue.jsx?h_.Diagnostics.Cannot_find_name_0:void 0,n=$n(),t=Zn(e.tagName,n,107455,t,n,!0),n=(t&&(t.isReferenced=!0,2097152&t.flags)&&!Nf(dr(t))&&fr(t),e),r=au(n.tagName)?fu(n):_u(n,!1),t=su(n,function(e){return iu(e.escapedName)||!!H(r,e.escapedName)});if(r===I&&(w(t)||0<t.properties.length))ge(n,h_.Diagnostics.JSX_element_class_does_not_support_attributes_because_it_does_not_have_a_0_property,h_.unescapeLeadingUnderscores(uu()));else if(Fo(t,r,0<n.attributes.properties.length?n.attributes:n)&&!w(t)&&!w(r))for(var i=0,a=n.attributes.properties;i<a.length;i++){var s=a[i];if(h_.isJsxAttribute(s)&&!vu(r,s.name.escapedText,!0)){ge(s,h_.Diagnostics.Property_0_does_not_exist_on_type_1,h_.idText(s.name),ve(r));break}}}function vu(e,t,n){if(32768&e.flags){var r=ya(e);if(r.stringIndexInfo||r.numberIndexInfo&&Zl(t)||ba(e,t)||n&&!iu(t))return!0}else if(196608&e.flags)for(var i=0,a=e.types;i<a.length;i++)if(vu(a[i],t,n))return!0;return!1}function bu(e){return e.valueDeclaration?h_.getCombinedNodeFlags(e.valueDeclaration):0}function xu(e){return 8192&e.flags||4&h_.getCheckFlags(e)}function ku(e,t,n,r){var i=h_.getDeclarationModifierFlagsFromSymbol(r),a=179===e.kind||226===e.kind?e.name:e.right;if(256&h_.getCheckFlags(r))return ge(a,h_.Diagnostics.Property_0_has_conflicting_declarations_and_is_inaccessible_in_type_1,ye(r),ve(n)),!1;if(97===t.kind){if(de<2&&Wo(r,function(e){e=e.valueDeclaration?e.valueDeclaration.kind:149;return 151!==e&&150!==e}))return ge(a,h_.Diagnostics.Only_public_and_protected_methods_of_the_base_class_are_accessible_via_the_super_keyword),!1;if(128&i)return ge(a,h_.Diagnostics.Abstract_method_0_in_class_1_cannot_be_accessed_via_super_expression,ye(r),ve(Qo(r))),!1}return!(24&i&&(8&i?!ff(e,Hp(Nr(r)))&&(ge(a,h_.Diagnostics.Property_0_is_private_and_only_accessible_within_class_1,ye(r),ve(Qo(r))),1):97!==t.kind&&((t=pf(e,function(e){var t,e=be(he(e));return t=e,!Wo(r,function(e){return!!(16&h_.getDeclarationModifierFlagsFromSymbol(e))&&!Ii(t,Qo(e))})&&t?e:void 0}))?!(32&i)&&!(3&P(wi(n=16384&n.flags&&n.isThisType?xa(n):n))&&Ii(n,t))&&(ge(a,h_.Diagnostics.Property_0_is_protected_and_only_accessible_through_an_instance_of_class_1,ye(r),ve(t)),1):(ge(a,h_.Diagnostics.Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses,ye(r),ve(Qo(r)||n)),1))))}function Su(e){return Tu(Te(e),e)}function Tu(e,t){var n=6144&(pe?pc(e):e.flags);return n?(ge(t,2048&n?4096&n?h_.Diagnostics.Object_is_possibly_null_or_undefined:h_.Diagnostics.Object_is_possibly_undefined:h_.Diagnostics.Object_is_possibly_null),14336&(t=gc(e)).flags?_e:t):e}function Cu(e){return Du(e,e.expression,e.name)}function Eu(e){return Du(e,e.left,e.right)}function Du(e,t,n){var r=Su(t);if(w(r)||r===Re)return r;var i=$(xc(r));if(i===_e||16384&r.flags&&w(i))return i;var a=H(i,n.escapedText);if(!a){var s=O(i,0);if(s&&s.type)return s.isReadonly&&(h_.isAssignmentTarget(e)||h_.isDeleteTarget(e))&&ge(e,h_.Diagnostics.Index_signature_in_type_0_only_permits_reading,ve(i)),s.type;else{if(n.escapedText&&!nr(e)){var o=n;var s=16384&r.flags&&r.isThisType?i:r;if(65536&s.flags&&!(8190&s.flags))for(var c=0,l=s.types;c<l.length;c++){var u=l[c];if(!H(u,o.escapedText)){d=h_.chainDiagnosticMessages(d,h_.Diagnostics.Property_0_does_not_exist_on_type_1,h_.declarationNameToString(o),ve(u));break}}var r=Au(o,s),d=void 0!==r?h_.chainDiagnosticMessages(d,h_.Diagnostics.Property_0_does_not_exist_on_type_1_Did_you_mean_2,h_.declarationNameToString(o),ve(s),r):h_.chainDiagnosticMessages(d,h_.Diagnostics.Property_0_does_not_exist_on_type_1,h_.declarationNameToString(o),ve(s));en.add(h_.createDiagnosticForNodeFromMessageChain(o,d))}return _e}}r=e,s=n,(p=(f=a).valueDeclaration)&&(!h_.findAncestor(r,function(e){switch(e.kind){case 149:return!0;case 261:return!1;default:return!h_.isPartOfExpression(e)&&"quit"}})||Xn(p,s)||function(e){for(var t=V(e.parent);;){if(!(t=function(e){e=$i(e);if(0!==e.length)return h_.Debug.assert(1===e.length),e[0]}(t)))return;var n=ba(t,e.escapedName);if(n&&n.valueDeclaration)return 1}}(f)?229!==p.kind||159===r.parent.kind||h_.isInAmbientContext(p)||Xn(p,s)||ge(s,h_.Diagnostics.Class_0_used_before_its_declaration,h_.idText(s)):ge(s,h_.Diagnostics.Block_scoped_variable_0_used_before_its_declaration,h_.idText(s))),Iu(a,e,99===t.kind),ku(e,t,i,q(e).resolvedSymbol=a);var p,f=Cl(a,e),r=h_.getAssignmentTargetKind(e);return r&&(vd(e,a)||bd(e))?(ge(n,h_.Diagnostics.Cannot_assign_to_0_because_it_is_a_constant_or_a_read_only_property,h_.idText(n)),_e):179===e.kind&&1!==r&&(98311&a.flags||8192&a.flags&&65536&f.flags)?(p=bl(e,f),r?cc(p):p):f}function Au(e,t){e=wu(h_.idText(e),xe(t),107455);return e&&h_.symbolName(e)}function Nu(e,t,n){e=er(e,t,n,void 0,t,!1,function(e,t,n){return Yn(e,t,n)||wu(h_.unescapeLeadingUnderscores(t),h_.arrayFrom(e.values()),n)});return e&&h_.symbolName(e)}function wu(e,t,n){var r=.4*e.length,i=Math.min(3,.34*e.length),a=Number.MAX_VALUE,s=void 0,o=!1;if(!(30<e.length)){e=e.toLowerCase();for(var c=0,l=t;c<l.length;c++){var u=l[c],d=h_.symbolName(u);if(u.flags&n&&d&&Math.abs(d.length-e.length)<i){if((d=d.toLowerCase())===e)return u;o||d.length<3||e.length<3||"eval"===d||"intl"===d||"undefined"===d||"map"===d||"nan"===d||"set"===d||r<(d=h_.levenshtein(e,d))||(d<3?(o=!0,s=u):d<a&&(a=d,s=u))}}return s}}function Iu(e,t,n){if(e&&k&&106500&e.flags&&e.valueDeclaration&&h_.hasModifier(e.valueDeclaration,8)&&(!t||!h_.isWriteOnlyAccess(t))){if(n){n=h_.findAncestor(t,h_.isFunctionLikeDeclaration);if(n&&n.symbol===e)return}1&h_.getCheckFlags(e)?p(e).target.isReferenced=!0:e.isReferenced=!0}}function Pu(e){var t,n,r=Su(e.expression),i=e.argumentExpression;return i?(n=function(e){var t,n=h_.skipParentheses(e);if(71===n.kind){var r=Mc(n);if(3&r.flags)for(var i=e,a=e.parent;a;){if(215===a.kind&&i===a.statement&&function(e){if(227===(e=e.initializer).kind){var t=e.declarations[0];if(t&&!h_.isBindingPattern(t.name))return he(t)}else if(71===e.kind)return Mc(e)}(a)===r&&Fa(t=jd(a.expression),1)&&!Fa(t,0))return 1;a=(i=a).parent}}}(i)?oe:Te(i),r===_e||r===Re?r:Td(r)&&9!==i.kind?(ge(i,h_.Diagnostics.A_const_enum_member_can_only_be_accessed_using_a_string_literal),_e):Qd(Xs(r,n,e),e)):(i=h_.getSourceFileOfNode(e),182===e.parent.kind&&e.parent.expression===e?__(i,t=h_.skipTrivia(i.text,e.expression.end),e.end-t,h_.Diagnostics.new_T_cannot_be_used_to_create_an_array_Use_new_Array_T_instead):__(i,t=e.end-"]".length,e.end-t,h_.Diagnostics.Expression_expected),_e)}function Ou(e,t,n){return t!==_e&&h_.isWellKnownSymbolSyntactically(e)&&(0==(512&t.flags)?(n&&ge(e,h_.Diagnostics.A_computed_property_name_of_the_form_0_must_be_of_type_symbol,h_.getTextOfNode(e)),0):(e=Mc(t=e.expression))?(st=st||gs("Symbol",!0),st&&(e===st||(n&&ge(t,h_.Diagnostics.Symbol_reference_does_not_refer_to_the_global_Symbol_constructor_object),0))):void 0)}function Fu(e){return h_.isCallOrNewExpression(e)}function Lu(e){return Fu(e)&&h_.forEach(e.typeArguments,Ce),183===e.kind?Te(e.template):147!==e.kind&&h_.forEach(e.arguments,function(e){Te(e)}),Ct}function Ru(e){return Lu(e),Et}function Mu(e){for(var t=0;t<e.length;t++){var n=e[t];if(n&&198===n.kind)return t}return-1}function Uu(e,t,n,r){void 0===r&&(r=!1);var i=-1;if(h_.isJsxOpeningLikeElement(e))return 1;if(183===e.kind)var a=e,s=t.length,o=void 0,a=196===a.template.kind?(c=a.template,c=h_.lastOrUndefined(c.templateSpans),h_.Debug.assert(void 0!==c),h_.nodeIsMissing(c.literal)||!!c.literal.isUnterminated):(c=a.template,h_.Debug.assert(13===c.kind),!!c.isUnterminated);else if(147===e.kind)s=qu(e,o=void 0,n);else{var c=e;if(!c.arguments)return h_.Debug.assert(182===c.kind),0===n.minArgumentCount;s=r?t.length+1:t.length,a=c.arguments.end===c.end,o=c.typeArguments,i=Mu(t)}e=h_.length(n.typeParameters),r=ja(n.typeParameters);return(!o||o.length>=r&&o.length<=e)&&(0<=i?tc(n,i)||i>=n.minArgumentCount:!n.hasRestParameter&&s>n.parameters.length?void 0:(c=s>=n.minArgumentCount,a||c))}function Bu(e){if(32768&e.flags){e=ya(e);if(1===e.callSignatures.length&&0===e.constructSignatures.length&&0===e.properties.length&&!e.stringIndexInfo&&!e.numberIndexInfo)return e.callSignatures[0]}}function ju(e,t,n,r){var i=Cc(e,1,r);return Tc(t,e,function(e,t){Ic(i.inferences,K(e,n||z),t)}),n||Ic(i.inferences,ke(t),ke(e),8),Va(e,Rc(i),h_.isInJavaScriptFile(t.declaration))}function Ku(e,t,n,r){for(var i=h_.isInJavaScriptFile(e.declaration),a=e.typeParameters,s=Ka(h_.map(t,Q),a,ja(a),i),o=0;o<t.length;o++){h_.Debug.assert(void 0!==a[o],"Should not call checkTypeArguments with too many type arguments");var c=xa(a[o]);if(c){var l=n&&r&&h_.chainDiagnosticMessages(void 0,h_.Diagnostics.Type_0_does_not_satisfy_the_constraint_1),u=r||h_.Diagnostics.Type_0_does_not_satisfy_the_constraint_1,d=d||go(a,s),p=s[o];if(!Fo(p,ia(K(c,d),p),n?t[o]:void 0,u,l))return!1}}return s}function zu(e,t,n,r,i,a){if(h_.isJsxOpeningLikeElement(e)){var s=r;if((l=e).attributes.end===l.end)return 1;for(var o=h_.Diagnostics.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1,c=od(n,0),l=Od(l.attributes,c,void 0),u=0,d=xe(l);u<d.length;u++){var p=d[u];if(!H(c,p.escapedName)&&iu(p.escapedName))return}return zo(l,c,s,void 0,o)}l=Ja(n);if(l&&l!==Fe&&182!==e.kind){var s=$u(e),o=s?Te(s):Fe,f=a?s||e:void 0,_=h_.Diagnostics.The_this_context_of_type_0_is_not_assignable_to_method_s_this_of_type_1;if(!zo(o,Ja(n),r,f,_))return}for(var m=h_.Diagnostics.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1,g=qu(e,t,n),h=0;h<g;h++){var y=Gu(e,t,h);if(void 0===y||200!==y.kind){var v=od(n,h),b=Hu(e,h)||Od(y,v,i&&i[h]?z:void 0);if(!zo(i?vc(b):b,v,r,f=a?(b=h,v=y,147===(y=e).kind?y.expression:0===b&&183===y.kind?y.template:v):void 0,m))return}}return 1}function $u(e){return 181===e.kind&&(179===(e=e.expression).kind||180===e.kind)?e.expression:void 0}function Ju(e){var t,n;return 183===e.kind?(t=e.template,n=[void 0],196===t.kind&&h_.forEach(t.templateSpans,function(e){n.push(e.expression)}),n):147===e.kind?void 0:h_.isJsxOpeningLikeElement(e)?0<e.attributes.properties.length?[e.attributes]:h_.emptyArray:e.arguments||h_.emptyArray}function qu(e,t,n){if(147!==e.kind)return t.length;switch(e.parent.kind){case 229:case 199:return 1;case 149:return 2;case 151:case 153:case 154:return 0!==de&&3<=n.parameters.length?3:2;case 146:return 3}}function Vu(e,t){{if(0===t)return 229===(i=e.parent).kind||146===i.kind&&152===(i=i.parent).kind?V(he(i)):149===i.kind||151===i.kind||153===i.kind||154===i.kind?(a=he((i=i).parent),(h_.hasModifier(i,32)?V:be)(a)):(h_.Debug.fail("Unsupported decorator target."),_e);if(1!==t)return 2===t?229===(a=e.parent).kind?(h_.Debug.fail("Class decorators should not have a third synthetic argument."),_e):146===a.kind?oe:149===a.kind?(h_.Debug.fail("Property decorators should not have a third synthetic argument."),_e):151===a.kind||153===a.kind||154===a.kind?Is(hf(a)):(h_.Debug.fail("Unsupported decorator target."),_e):(h_.Debug.fail("Decorators should not have a fourth synthetic argument."),_e);if(229===(i=e.parent).kind)h_.Debug.fail("Class decorators should not have a second synthetic argument.");else{if(146===i.kind&&152===(i=i.parent).kind)return J;if(149===i.kind||151===i.kind||153===i.kind||154===i.kind){var n=i;switch(n.name.kind){case 71:return uo(h_.idText(n.name));case 8:case 9:return uo(n.name.text);case 144:var r=eu(n.name);return Sd(r,512)?r:me;default:return h_.Debug.fail("Unsupported property name."),_e}}h_.Debug.fail("Unsupported decorator target.")}return _e}var i,a}function Hu(e,t){return 147===e.kind?Vu(e,t):0===t&&183===e.kind?(yt=yt||ys("TemplateStringsArray",0,!0))||I:void 0}function Gu(e,t,n){if(147!==e.kind&&(0!==n||183!==e.kind))return t[n]}function Wu(l,e,t,n){var u,r,i,a,s,o=183===l.kind,c=147===l.kind,d=h_.isJsxOpeningLikeElement(l),p=(o||c||d||(u=l.typeArguments,97!==l.expression.kind&&h_.forEach(u,Ce)),t||[]),f=e,_=p,m=0,R=-1;h_.Debug.assert(!_.length);for(var g=0,h=f;g<h.length;g++){var y=h[g],v=y.declaration&&he(y.declaration),b=y.declaration&&y.declaration.parent;i&&v!==i?(a=m=_.length,r=b):r&&b===r?a++:(r=b,a=m),i=v,y.hasLiteralTypes?(s=++R,m++):s=a,_.splice(s,0,y)}if(!p.length)return en.add(h_.createDiagnosticForNode(l,h_.Diagnostics.Call_target_does_not_contain_any_signatures)),Ru(l);var x,k,S,T=Ju(l),C=1===p.length&&!p[0].typeParameters,E=0;if(!c&&!C)for(var D=o?1:0;D<T.length;D++)To(T[D])&&((x=x||new Array(T.length))[D]=!0,E++);f=t&&181===l.kind&&l.arguments.hasTrailingComma;if(O=(O=1<p.length?j(p,kn,f):O)||j(p,Sn,f))return O;if(k){if(d)return k;zu(l,T,k,Sn,void 0,!0)}else if(S)Ku(S,l.typeArguments,!0,n);else if(u&&h_.every(e,function(e){return h_.length(e.typeParameters)!==u.length})){for(var A=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY,w=0,M=e;w<M.length;w++)var I=M[w],A=Math.min(A,ja(I.typeParameters)),N=Math.max(N,h_.length(I.typeParameters));var U=A<N?A+"-"+N:A;en.add(h_.createDiagnosticForNode(l,h_.Diagnostics.Expected_0_type_arguments_but_got_1,U,u.length))}else if(T){A=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY;for(var P=0,B=e;P<B.length;P++)I=B[P],A=Math.min(A,I.minArgumentCount),N=Math.max(N,I.parameters.length);c=h_.some(e,function(e){return e.hasRestParameter}),o=-1<Mu(T),t=T.length-(o?1:0),f=c&&o?h_.Diagnostics.Expected_at_least_0_arguments_but_got_a_minimum_of_1:c?h_.Diagnostics.Expected_at_least_0_arguments_but_got_1:o?h_.Diagnostics.Expected_0_arguments_but_got_a_minimum_of_1:h_.Diagnostics.Expected_0_arguments_but_got_1;en.add(h_.createDiagnosticForNode(l,f,U=!c&&A<N?A+"-"+N:A,t))}else n&&en.add(h_.createDiagnosticForNode(l,n));if(le)return Ru(l);h_.Debug.assert(0<p.length);var O=function(e,t){for(var n=-1,r=-1,i=0;i<e.length;i++){var a=e[i];if(a.hasRestParameter||a.parameters.length>=t)return i;a.parameters.length>r&&(r=a.parameters.length,n=i)}return n}(p,void 0===ee?T.length:ee),d=p[O],F=d.typeParameters;if(F&&Fu(l)&&l.typeArguments){for(var L=l.typeArguments.map(hf);L.length>F.length;)L.pop();for(;L.length<F.length;)L.push(Lc(h_.isInJavaScriptFile(l)));e=Ha(d,L);return p[O]=e}return d;function j(e,t,n){if(void 0===n&&(n=!1),S=k=void 0,C)return a=e[0],Uu(l,T,a,n)?zu(l,T,a,t,x,!1)?a:void(k=a):void 0;for(var r=0;r<e.length;r++){var i=e[r];if(Uu(l,T,i,n))for(var a=void 0,s=i.typeParameters?Cc(i,h_.isInJavaScriptFile(l)?4:0):void 0;;){if((a=i).typeParameters){var o=void 0;if(u){var c=Ku(a,u,!1);if(!c){S=i;break}o=c}else o=function(e,t,n,r,i){for(var a=0,s=i.inferences;a<s.length;a++){var o=s[a];o.isFixed||(o.inferredType=void 0)}147!==e.kind&&(c=ql(e))&&(l=(l=Bu(c=K(c,(c=Vl(e))&&c.signature?Cc(c.signature,2|c.flags,c.compareTypes,c.inferences):c)))&&l.typeParameters?Wa(Va(l,l.typeParameters,h_.isInJavaScriptFile(e))):c,c=ke(t),Ic(i.inferences,l,c,8));var c,l=Ja(t);l&&(c=(c=$u(e))?Te(c):Fe,Ic(i.inferences,c,l));for(var u,d,p,f=qu(e,n,t),_=0;_<f;_++)void 0!==(d=Gu(e,n,_))&&200===d.kind||(p=od(t,_),void 0===(u=Hu(e,_))&&(u=Od(d,p,r&&void 0!==r[_]?z:i)),Ic(i.inferences,u,p));if(r)for(_=0;_<f;_++)!1===r[_]&&(d=n[_],p=od(t,_),Ic(i.inferences,Od(d,p,i),p));return Rc(i)}(l,a,T,x,s);a=Va(a,o,h_.isInJavaScriptFile(a.declaration))}if(!zu(l,T,a,t,x,!1)){k=a;break}if(0===E)return e[r]=a;0<--E?x[h_.indexOf(x,!0)]=!1:x=void 0}}}}function Qu(e,t,n,r){return w(e)||w(t)&&16384&e.flags||!n&&!r&&!(65536&e.flags)&&Se(e,We)}function Yu(e){switch(e.parent.kind){case 229:case 199:return h_.Diagnostics.Unable_to_resolve_signature_of_class_decorator_when_called_as_an_expression;case 146:return h_.Diagnostics.Unable_to_resolve_signature_of_parameter_decorator_when_called_as_an_expression;case 149:return h_.Diagnostics.Unable_to_resolve_signature_of_property_decorator_when_called_as_an_expression;case 151:case 153:case 154:return h_.Diagnostics.Unable_to_resolve_signature_of_method_decorator_when_called_as_an_expression}}function Xu(e,t,n){return h_.Debug.assert(!(65536&t.flags)),Zu(e,t,n)}function Zu(e,t,n){if(65536&t.flags){for(var r=void 0,i=0,a=t.types;i<a.length;i++)var s=a[i],r=r||Zu(e,s,n);return r}t=t&&G(t,0);if(t&&0<t.length)return Wu(e,t,n)}function ed(e,t){switch(e.kind){case 181:var n=e,r=t;if(97!==n.expression.kind)return(m=Su(n.expression))===Re?At:(i=$(m))===_e?Ru(n):(f=G(i,0),p=G(i,1),Qu(m,i,f.length,p.length)?(m!==_e&&n.typeArguments&&ge(n,h_.Diagnostics.Untyped_function_calls_may_not_accept_type_arguments),Lu(n)):f.length?Wu(n,f,r):(p.length?ge(n,h_.Diagnostics.Value_of_type_0_is_not_callable_Did_you_mean_to_include_new,ve(m)):ge(n,h_.Diagnostics.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature_Type_0_has_no_compatible_call_signatures,ve(i)),Ru(n)));if((m=Ol(n.expression))!==_e){var i=h_.getClassExtendsHeritageClauseElement(h_.getContainingClass(n));if(i)return Wu(n,Ki(m,i.typeArguments,i),r)}return Lu(n);case 182:return f=t,(p=e).arguments&&de<1&&0<=(g=Mu(p.arguments))&&ge(p.arguments[g],h_.Diagnostics.Spread_operator_in_new_expressions_is_only_available_when_targeting_ECMAScript_5_and_higher),(g=Su(p.expression))===Re?At:(g=$(g))===_e?Ru(p):w(g)?(p.typeArguments&&ge(p,h_.Diagnostics.Untyped_function_calls_may_not_accept_type_arguments),Lu(p)):(m=G(g,1)).length?function(e,t){if(!t||!t.declaration)return 1;var n=t.declaration,r=h_.getSelectedModifierFlags(n,24);if(!r)return 1;var t=Hp(n.parent.symbol),i=be(n.parent.symbol);if(ff(e,t))return 1;t=h_.getContainingClass(e);if(t)for(var a=$i(hf(t));a.length;){var s=a[0];if(16&r&&s.symbol===n.parent.symbol)return 1;a=$i(s)}return 8&r&&ge(e,h_.Diagnostics.Constructor_of_class_0_is_private_and_only_accessible_within_the_class_declaration,ve(i)),16&r&&ge(e,h_.Diagnostics.Constructor_of_class_0_is_protected_and_only_accessible_within_the_class_declaration,ve(i)),0}(p,m[0])?(_=g.symbol&&Hp(g.symbol))&&h_.hasModifier(_,128)?(ge(p,h_.Diagnostics.Cannot_create_an_instance_of_the_abstract_class_0,h_.declarationNameToString(h_.getNameOfDeclaration(_))),Ru(p)):Wu(p,m,f):Ru(p):(_=G(g,0)).length?(nd((m=Wu(p,_,f)).declaration)||ke(m)===Fe||ge(p,h_.Diagnostics.Only_a_void_function_can_be_called_with_the_new_keyword),Ja(m)===Fe&&ge(p,h_.Diagnostics.A_function_that_is_called_with_the_new_keyword_cannot_have_a_this_type_that_is_void),m):(ge(p,h_.Diagnostics.Cannot_use_new_with_an_expression_whose_type_lacks_a_call_or_construct_signature),Ru(p));case 183:return i=t,n=Te((r=e).tag),(g=$(n))===_e?Ru(r):(_=G(g,0),d=G(g,1),Qu(n,g,_.length,d.length)?Lu(r):_.length?Wu(r,_,i):(ge(r,h_.Diagnostics.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature_Type_0_has_no_compatible_call_signatures,ve(g)),Ru(r)));case 147:return d=t,l=Te((a=e).expression),(u=$(l))===_e?Ru(a):(s=G(u,0),c=G(u,1),Qu(l,u,s.length,c.length)?Lu(a):(o=a,s.length&&h_.every(s,function(e){return 0===e.minArgumentCount&&!e.hasRestParameter&&e.parameters.length<qu(o,void 0,e)})?(l=h_.getTextOfNode(a.expression,!1),ge(a,h_.Diagnostics._0_accepts_too_few_arguments_to_be_used_as_a_decorator_here_Did_you_mean_to_call_it_first_and_write_0,l),Ru(a)):(c=Yu(a),s.length?Wu(a,s,d,c):(l=h_.chainDiagnosticMessages(l=void 0,h_.Diagnostics.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature_Type_0_has_no_compatible_call_signatures,ve(u)),l=h_.chainDiagnosticMessages(l,c),en.add(h_.createDiagnosticForNodeFromMessageChain(a,l)),Ru(a)))));case 251:case 250:return Zu(e,Te(e.tagName),t)||Et}var a,s,o,c,l,u,d,p,f,_,m,g;h_.Debug.assertNever(e,"Branch in 'resolveSignature' should be unreachable.")}function td(e,t){var n=q(e),r=n.resolvedSignature;if(r&&r!==Dt&&!t)return r;n.resolvedSignature=Dt;e=ed(e,t);return n.resolvedSignature=Pt===Ot?e:r,e}function nd(e){return e&&h_.isInJavaScriptFile(e)&&(h_.getJSDocClassTag(e)||(e=h_.isFunctionDeclaration(e)||h_.isFunctionExpression(e)?he(e):h_.isVariableDeclaration(e)&&e.initializer&&h_.isFunctionExpression(e.initializer)?he(e.initializer):void 0)&&void 0!==e.members)}function rd(e){var t=p(e);return t.inferredClassType||(t.inferredClassType=Ur(e,e.members||F,h_.emptyArray,h_.emptyArray,void 0,void 0)),t.inferredClassType}function id(e){return e.symbol&&16&P(e)&&p(e.symbol).inferredClassType===e}function ad(e,t,n,r){n=vc(cc(Te(n,r))),Ce(t),r=Q(t);return le&&r!==_e&&!Oo(r,xc(n))&&Lo(n,r,e,h_.Diagnostics.Type_0_cannot_be_converted_to_type_1),r}function sd(e){var t=V(e);if(pe){e=e.valueDeclaration;if(e&&e.initializer)return mc(t,2048)}return t}function od(e,t){return e.hasRestParameter?t<e.parameters.length-1?sd(e.parameters[t]):qa(e):t<e.parameters.length?sd(e.parameters[t]):J}function cd(e){return 0<e.parameters.length?od(e,0):Le}function ld(e,t){var n=p(e);n.type||(n.type=t,71!==(t=e.valueDeclaration).name.kind&&(n.type===I&&(n.type=bi(t.name)),function e(t){for(var n=0,r=t.elements;n<r.length;n++){var i=r[n];h_.isOmittedExpression(i)||(71===i.name.kind?p(he(i)).type=_i(i):e(i.name))}}(t.name)))}function ud(e){var t=bs(!0);return t!==Be?is(t,[e=ip(e)||I]):I}function dd(e,t){t=ud(t);return t===I?(ge(e,h_.isImportCall(e)?h_.Diagnostics.A_dynamic_import_call_returns_a_Promise_Make_sure_you_have_a_declaration_for_Promise_or_include_ES2015_in_your_lib_option:h_.Diagnostics.An_async_function_or_method_must_return_a_Promise_Make_sure_you_have_a_declaration_for_Promise_or_include_ES2015_in_your_lib_option),_e):(xs(!0)||ge(e,h_.isImportCall(e)?h_.Diagnostics.A_dynamic_import_call_in_ES5_SlashES3_requires_the_Promise_constructor_Make_sure_you_have_a_declaration_for_the_Promise_constructor_or_include_ES2015_in_your_lib_option:h_.Diagnostics.An_async_function_or_method_in_ES5_SlashES3_requires_the_Promise_constructor_Make_sure_you_have_a_declaration_for_the_Promise_constructor_or_include_ES2015_in_your_lib_option),t)}function pd(e,t){var n=Wl(e);if(!e.body)return _e;var r,i,a,s,o=h_.getFunctionFlags(e);if(207!==e.body.kind)r=Fd(e.body,t),2&o&&(r=rp(r,e,h_.Diagnostics.The_return_type_of_an_async_function_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member));else{var c=void 0;if(1&o){if(!(c=h_.concatenate((l=e,i=t,a=[],s=h_.getFunctionFlags(l),h_.forEachYieldExpression(l.body,function(e){var t,n=e.expression;n&&(t=Fd(n,i),e.asteriskToken&&(t=Fp(t,e.expression,!1,0!=(2&s))),2&s&&(t=rp(t,n,e.asteriskToken?h_.Diagnostics.Type_of_iterated_elements_of_a_yield_Asterisk_operand_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member:h_.Diagnostics.Type_of_yield_operand_in_an_async_generator_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member)),h_.pushIfUnique(a,t))}),a),_d(e,t)))||0===c.length)return l=(2&o?Ps:Fs)(J),X&&ge(e.asteriskToken,h_.Diagnostics.Generator_implicitly_has_type_0_because_it_does_not_yield_any_values_Consider_supplying_a_return_type,ve(l)),l}else{if(!(c=_d(e,t)))return 2&o?dd(e,Le):Le;if(0===c.length)return 2&o?dd(e,Fe):Fe}r=W(c,!0),1&o&&(r=(2&o?Ps:Fs)(r))}n||Sc(e,r);var l=xc(r=!sc(r)||n&&Md(n===za(e)?r:ke(n))?r:lc(r));return 2==(3&o)?dd(e,l):l}function fd(e){return!(!(128&e.flags)||(e=h_.lastOrUndefined(e.body.statements))&&221===e.kind&&function(e){if(e.possiblyExhaustive){var t,n=jd(e.expression);if(oc(n))return(e=il(e)).length&&(n=cl(n,lo),t=e,65536&n.flags?!h_.forEach(n.types,function(e){return!h_.contains(t,e)}):h_.contains(t,n))}}(e))}function _d(t,n){var r=h_.getFunctionFlags(t),i=[],a=fd(t),s=!1;if(h_.forEachReturnStatement(t.body,function(e){var e=e.expression;e?(e=Fd(e,n),8192&(e=2&r?rp(e,t,h_.Diagnostics.The_return_type_of_an_async_function_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member):e).flags&&(s=!0),h_.pushIfUnique(i,e)):a=!0}),0!==i.length||a||!s&&186!==t.kind&&187!==t.kind)return pe&&i.length&&a&&h_.pushIfUnique(i,we),i}function md(e,t){if(le&&(!t||!kd(t,1025))&&!h_.nodeIsMissing(e.body)&&207===e.body.kind&&fd(e)){var n=256&e.flags;if(t&&8192&t.flags)ge(h_.getEffectiveReturnTypeNode(e),h_.Diagnostics.A_function_returning_never_cannot_have_a_reachable_end_point);else if(t&&!n)ge(h_.getEffectiveReturnTypeNode(e),h_.Diagnostics.A_function_whose_declared_type_is_neither_void_nor_any_must_return_a_value);else if(t&&pe&&!Se(we,t))ge(h_.getEffectiveReturnTypeNode(e),h_.Diagnostics.Function_lacks_ending_return_statement_and_return_type_does_not_include_undefined);else if(ue.noImplicitReturns){if(!t){if(!n)return;if(jp(e,ke(za(e))))return}ge(h_.getEffectiveReturnTypeNode(e)||e,h_.Diagnostics.Not_all_code_paths_return_a_value)}}}function gd(e,t){if(h_.Debug.assert(151!==e.kind||h_.isObjectLiteralMethod(e)),1===t&&To(e))return af(e),je;Zf(e)||186!==e.kind||a_(e);var n=q(e),r=V(e.symbol);if(!(1024&n.flags)){var i=Ql(e);if(!(1024&n.flags)){if(n.flags|=1024,i){n=G(r,0)[0];if(To(e)){var a=Vl(e);if(2===t){var s=n;var o=i;var c=a;for(var l=s.parameters.length-(s.hasRestParameter?1:0),u=0;u<l;u++){var d=s.parameters[u].valueDeclaration;d.type&&(d=h_.getEffectiveTypeAnnotationNode(d))&&Ic(c.inferences,Q(d),od(o,u))}}var p=n,f=a===z?i:vo(i,a);p.typeParameters=f.typeParameters,f.thisParameter&&(!(g=p.thisParameter)||g.valueDeclaration&&!g.valueDeclaration.type)&&(g||(p.thisParameter=yc(f.thisParameter,void 0)),ld(p.thisParameter,V(f.thisParameter)));for(var _=p.parameters.length-(p.hasRestParameter?1:0),m=0;m<_;m++){var g=p.parameters[m];h_.getEffectiveTypeAnnotationNode(g.valueDeclaration)||ld(g,od(f,m))}p.hasRestParameter&&tc(f,p.parameters.length-1)&&(!qn(g=h_.lastOrUndefined(p.parameters))&&h_.getEffectiveTypeAnnotationNode(g.valueDeclaration)||ld(g,V(h_.lastOrUndefined(f.parameters))))}h_.getEffectiveReturnTypeNode(e)||n.resolvedReturnType||(i=pd(e,t),n.resolvedReturnType)||(n.resolvedReturnType=i)}$d(e),af(e)}}return le&&151!==e.kind&&(Tp(e,e.name),bp(e,e.name),xp(e,e.name)),r}function hd(e,t,n){return!!Sd(t,84)||(ge(e,n),!1)}function yd(e){return!!(8&h_.getCheckFlags(e)||4&e.flags&&64&h_.getDeclarationModifierFlagsFromSymbol(e)||3&e.flags&&2&bu(e)||98304&e.flags&&!(65536&e.flags)||8&e.flags)}function vd(e,t){return yd(t)&&(!(4&t.flags)||179!==e.kind&&180!==e.kind||99!==e.expression.kind||!(e=h_.getContainingFunction(e))||152!==e.kind||e.parent!==t.valueDeclaration.parent&&e!==t.valueDeclaration.parent)}function bd(e){if(179===e.kind||180===e.kind){e=h_.skipParentheses(e.expression);if(71===e.kind){var e=q(e).resolvedSymbol;if(2097152&e.flags)return(e=ar(e))&&240===e.kind}}}function xd(e,t){var n=h_.skipOuterExpressions(e,3);return 71===n.kind||179===n.kind||180===n.kind||(ge(e,t),0)}function kd(e,t){if(e.flags&t)return!0;if(196608&e.flags)for(var n=0,r=e.types;n<r.length;n++)if(kd(r[n],t))return!0;return!1}function Sd(e,t,n){return!!(e.flags&t)||!(n&&7169&e.flags)&&(84&t&&Se(e,oe)||262178&t&&Se(e,me)||136&t&&Se(e,Pe)||1024&t&&Se(e,Fe)||8192&t&&Se(e,Le)||4096&t&&Se(e,ae)||2048&t&&Se(e,we)||512&t&&Se(e,Oe)||16777216&t&&Se(e,Me))}function Td(e){return 16&P(e)&&e.symbol&&Cd(e.symbol)}function Cd(e){return 0!=(128&e.flags)}function Ed(e,t,n){if(261===t.kind||262===t.kind){var r=t.name;if(144===r.kind&&eu(r),!pi(r))return s=h_.getTextOfPropertyName(r),(s=w(e)?e:ui(e,s)||Zl(s)&&Fa(e,1)||Fa(e,0))?262===t.kind?Ad(t,s):Ad(t.initializer,s):void ge(r,h_.Diagnostics.Type_0_has_no_property_1_and_no_string_index_signature,ve(e),h_.declarationNameToString(r))}else{if(263===t.kind){de<5&&Hf(t,4);var i=[];if(n)for(var a=0;a<n.length-1;a++)i.push(n[a].name);var s=fi(e,i,e.symbol);return Ad(t.expression,s)}ge(t,h_.Diagnostics.Property_assignment_expected)}}function Dd(e,t,n,r,i){var e=e.elements,a=e[n];if(200!==a.kind)if(198!==a.kind){var s=""+n,o=w(t)?t:ac(t)?ui(t,s):r;if(o)return Ad(a,o,i);Te(a),uc(t)?ge(a,h_.Diagnostics.Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2,ve(t),ss(t),e.length):ge(a,h_.Diagnostics.Type_0_has_no_property_1,ve(t),s)}else if(n<e.length-1)ge(a,h_.Diagnostics.A_rest_element_must_be_last_in_a_destructuring_pattern);else{o=a.expression;if(194!==o.kind||58!==o.operatorToken.kind)return Ad(o,Ls(r),i);ge(o.operatorToken,h_.Diagnostics.A_rest_element_cannot_have_an_initializer)}}function Ad(e,t,n){var r,i,a=262===e.kind?((a=e).objectAssignmentInitializer&&(!pe||2048&pc(Te(a.objectAssignmentInitializer))||(t=Hc(t,131072)),Pd(a.name,a.equalsToken,a.objectAssignmentInitializer,n)),e.name):e;if(194===a.kind&&58===a.operatorToken.kind&&(Id(a,n),a=a.left),178===a.kind){for(var s=t,o=a.properties,c=0,l=o;c<l.length;c++)Ed(s,l[c],o);return s}if(177!==a.kind)return e=t,i=Te(r=a,n),xd(r,263===r.parent.kind?h_.Diagnostics.The_target_of_an_object_rest_assignment_must_be_a_variable_or_a_property_access:h_.Diagnostics.The_left_hand_side_of_an_assignment_expression_must_be_a_variable_or_a_property_access)&&Fo(e,i,r,void 0),e;var u=a,d=t,p=n;de<2&&ue.downlevelIteration&&Hf(u,512);for(var f=Fp(d,u,!1,!1)||_e,_=u.elements,m=0;m<_.length;m++)Dd(u,d,m,f,p);return d}function Nd(e,t){return 0!=(6144&t.flags)||Oo(e,t)}function wd(e,t){var n=Se(e,t),r=Se(t,e);return r&&!n?e:n&&!r?t:W([e,t],!0)}function Id(e,t){return Pd(e.left,e.operatorToken,e.right,t,e)}function Pd(n,e,r,t,i){var a=e.kind;if(58===a&&(178===n.kind||177===n.kind))return Ad(n,Te(r,t),t);var s,o,c,l,u=Te(n,t),d=Te(r,t);switch(a){case 39:case 40:case 61:case 62:case 41:case 63:case 42:case 64:case 38:case 60:case 45:case 65:case 46:case 66:case 47:case 67:case 49:case 69:case 50:case 70:case 48:case 68:return u===Re||d===Re?Re:(u=Tu(u,n),d=Tu(d,r),p=void 0,136&u.flags&&136&d.flags&&void 0!==(p=function(){switch(e.kind){case 49:case 69:return 54;case 50:case 70:return 35;case 48:case 68:return 53;default:return}}())?ge(i||e,h_.Diagnostics.The_0_operator_is_not_allowed_for_boolean_types_Consider_using_1_instead,h_.tokenToString(e.kind),h_.tokenToString(p)):(p=hd(n,u,h_.Diagnostics.The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type),f=hd(r,d,h_.Diagnostics.The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type),p&&f&&m(oe)),oe);case 37:case 59:if(u===Re||d===Re)return Re;Sd(u,262178)||Sd(d,262178)||(u=Tu(u,n),d=Tu(d,r));var p=void 0;return Sd(u,84,!0)&&Sd(d,84,!0)?p=oe:Sd(u,262178,!0)||Sd(d,262178,!0)?p=me:(w(u)||w(d))&&(p=u===_e||d===_e?_e:J),p&&!_(a)?p:p?(59===a&&m(p),p):(g(),J);case 27:case 29:case 30:case 31:return _(a)&&(u=cc(Tu(u,n)),d=cc(Tu(d,r)),Oo(u,d)||Oo(d,u)||g()),Pe;case 32:case 33:case 34:case 35:var f=oc(u),p=oc(d);return f&&p||(u=f?cc(u):u,d=p?cc(d):d),Nd(u,d)||Nd(d,u)||g(),Pe;case 93:return f=n,p=r,l=d,(c=u)===Re||l===Re?Re:(!w(c)&&Sd(c,8190)&&ge(f,h_.Diagnostics.The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_parameter),w(l)||G(l,0).length||G(l,1).length||Io(l,We)||ge(p,h_.Diagnostics.The_right_hand_side_of_an_instanceof_expression_must_be_of_type_any_or_of_a_type_assignable_to_the_Function_interface_type),Pe);case 92:return c=n,l=r,o=d,u===Re||o===Re?Re:(s=Tu(u,c),o=Tu(o,l),Oo(s,me)||Sd(s,596)||ge(c,h_.Diagnostics.The_left_hand_side_of_an_in_expression_must_be_of_type_any_string_number_or_symbol),Sd(o,17317888)||ge(l,h_.Diagnostics.The_right_hand_side_of_an_in_expression_must_be_of_type_any_an_object_type_or_a_type_parameter),Pe);case 53:return 1048576&Vc(u)?W([cl(pe?u:cc(d),_c),d]):u;case 54:return 2097152&Vc(u)?wd(fc(u),d):u;case 58:return m(d),vc(d);case 26:return ue.allowUnreachableCode||!function e(t){switch((t=h_.skipParentheses(t)).kind){case 71:case 9:case 12:case 183:case 196:case 13:case 8:case 101:case 86:case 95:case 139:case 186:case 199:case 187:case 177:case 178:case 189:case 203:case 250:case 249:return!0;case 195:return e(t.whenTrue)&&e(t.whenFalse);case 194:return!h_.isAssignmentOperator(t.operatorToken.kind)&&e(t.left)&&e(t.right);case 192:case 193:switch(t.operator){case 51:case 37:case 38:case 52:return!0}return!1;default:return!1}}(n)||71===r.kind&&"eval"===r.escapedText||ge(n,h_.Diagnostics.Left_side_of_comma_operator_is_unused_and_has_no_side_effects),d}function _(e){var t=kd(u,512)?n:kd(d,512)?r:void 0;return!t||(ge(t,h_.Diagnostics.The_0_operator_cannot_be_applied_to_type_symbol,h_.tokenToString(e)),0)}function m(e){le&&h_.isAssignmentOperator(a)&&xd(n,h_.Diagnostics.The_left_hand_side_of_an_assignment_expression_must_be_a_variable_or_a_property_access)&&Fo(e,u,n,void 0)}function g(){ge(i||e,h_.Diagnostics.Operator_0_cannot_be_applied_to_types_1_and_2,h_.tokenToString(e.kind),ve(u),ve(d))}}function Od(e,t,n){var r=e.contextualType,i=e.contextualMapper,t=(e.contextualType=t,e.contextualMapper=n,Te(e,n===z?1:n?2:0));return e.contextualType=r,e.contextualMapper=i,t}function Fd(e,t){var n,r=q(e);return r.resolvedType||(n=Pt,Pt=Ot,r.resolvedType=Te(e,t),Pt=n),r.resolvedType}function Ld(e){return 184===(e=h_.skipParentheses(e)).kind||202===e.kind}function Rd(e){var t=jd(e.initializer,!0);return 2&h_.getCombinedNodeFlags(e)||64&h_.getCombinedModifierFlags(e)&&!h_.isParameterPropertyDeclaration(e)||Ld(e.initializer)?t:lc(t)}function Md(e){if(e){if(540672&e.flags){var t=Sa(e)||I;if(30&t.flags)return!0;e=t}return kd(e,262368)}return!1}function Ud(e,t,n){2===arguments.length&&(n=ql(e));t=Te(e,t);return Ld(e)||Md(n)?t:lc(t)}function Bd(e,t,n){if(2===n){n=Bu(t);if(n&&n.typeParameters){var r=Jl(e);if(r){r=Bu(gc(r));if(r&&!r.typeParameters)return Wa(ju(n,r,Vl(e)))}}}return t}function jd(e,t){if(181===e.kind&&97!==e.expression.kind&&!h_.isRequireCall(e,!0)){var n=Bu(Su(e.expression));if(n&&!n.typeParameters)return ke(n)}return(t?Fd:Te)(e)}function Te(e,t){t=143===e.kind?Eu(e):Bd(e,function(e,t){switch(e.kind){case 71:return El(e);case 99:var n=e,r=h_.getThisContainer(n,!0),i=!1;switch(152===r.kind&&Il(n,r,h_.Diagnostics.super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class),187===r.kind&&(r=h_.getThisContainer(r,!1),i=de<2),r.kind){case 233:ge(n,h_.Diagnostics.this_cannot_be_referenced_in_a_module_or_namespace_body);break;case 232:ge(n,h_.Diagnostics.this_cannot_be_referenced_in_current_location);break;case 152:Pl(n,r)&&ge(n,h_.Diagnostics.this_cannot_be_referenced_in_constructor_arguments);break;case 149:case 148:h_.hasModifier(r,32)&&ge(n,h_.Diagnostics.this_cannot_be_referenced_in_a_static_property_initializer);break;case 144:ge(n,h_.Diagnostics.this_cannot_be_referenced_in_a_computed_property_name)}if(i&&Dl(n,r),h_.isFunctionLike(r)&&(!Ml(n)||h_.getThisParameter(r))){if(186===r.kind&&194===r.parent.kind&&3===h_.getSpecialPropertyAssignmentKind(r.parent)){var i=Te(r.parent.left.expression.expression).symbol;if(i&&i.members&&16&i.flags)return rd(i)}i=Ci(r)||Ll(r);if(i)return i}return h_.isClassLike(r.parent)?(i=he(r.parent),bl(n,g=h_.hasModifier(r,32)?V(i):be(i).thisType)):h_.isInJavaScriptFile(n)&&(g=function(e){e=h_.getJSDocType(e);if(e&&273===e.kind&&(0<e.parameters.length&&e.parameters[0].name&&"this"===e.parameters[0].name.escapedText))return Q(e.parameters[0].type)}(r))&&g!==_e?g:(Z&&ge(n,h_.Diagnostics.this_implicitly_has_type_any_because_it_does_not_have_a_type_annotation),J);case 97:return Ol(e);case 95:return se;case 13:case 9:return co(uo(e.text));case 8:return g_(e),co(uo(+e.text));case 101:return ce;case 86:return Ie;case 196:return h_.forEach(e.templateSpans,function(e){Te(e.expression)}),me;case 12:return tt;case 177:for(var i=e,R=t,M=i.elements,a=!1,s=[],U=h_.isAssignmentTarget(i),B=Jl(i),o=0;o<M.length;o++){var c,l,u=M[o];U&&198===u.kind?(c=Fa(c=Te(u.expression,R),1)||Lp(c,void 0,!1,!1,!1))&&s.push(c):(l=Ud(u,R,$l(B,o)),s.push(l)),a=a||198===u.kind}if(!a){if(U&&s.length)return(l=as(Rs(s))).pattern=i,l;var d=Jl(i);if(d&&(65536&(i=d).flags?h_.forEach(i.types,ac):ac(i))){i=d.pattern;if(i&&(175===i.kind||177===i.kind))for(var j=i.elements,p=s.length;p<j.length;p++){var K=j[p];Yl(K)?s.push(d.typeArguments[p]):(200!==K.kind&&ge(K,h_.Diagnostics.Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value),s.push(_e))}if(s.length)return Rs(s)}}return Ls(s.length?W(s,!0):pe?Le:ie);case 178:return nu(e,t);case 179:return Cu(e);case 180:return Pu(e);case 181:if(91===e.expression.kind){var f=e;if(t_(f.arguments)||(_=f,Ne===h_.ModuleKind.ES2015?De(_,h_.Diagnostics.Dynamic_import_cannot_be_used_when_targeting_ECMAScript_2015_modules):_.typeArguments?De(_,h_.Diagnostics.Dynamic_import_cannot_have_type_arguments):1!==(m=_.arguments).length?De(_,h_.Diagnostics.Dynamic_import_must_have_one_specifier_as_an_argument):h_.isSpreadElement(m[0])&&De(m[0],h_.Diagnostics.Specifier_of_dynamic_import_cannot_be_spread_element)),0!==f.arguments.length){for(var _=f.arguments[0],m=Fd(_),z=1;z<f.arguments.length;++z)Fd(f.arguments[z]);(2048&m.flags||4096&m.flags||!Se(m,me))&&ge(_,h_.Diagnostics.Dynamic_import_s_specifier_must_be_of_type_string_but_here_has_type_0,ve(m));var g=hr(f,_);if(g){g=xr(g,_,!0);if(g)return dd(f,(P=V(g),g=g,Y&&P&&P!==_e?((L=P).syntheticType||(H(P,"default")?L.syntheticType=P:(h=h_.createSymbolTable(),(y=Jn(2097152,"default")).target=ur(g),h.set("default",y),y=Ur(g=Jn(2048,"__type"),h,h_.emptyArray,h_.emptyArray,void 0,void 0),g.type=y,L.syntheticType=Js([P,y]))),L.syntheticType):P))}}return dd(f,J);return}case 182:var h=e,y=(e_(h,h.typeArguments)||t_(h.arguments),td(h));if(97===h.expression.kind)return Fe;if(182===h.kind){var v=y.declaration;if(v&&152!==v.kind&&156!==v.kind&&161!==v.kind&&!h_.isJSDocConstructSignature(v))return(v=(v=Te(h.expression).symbol)||71!==h.expression.kind?v:Mc(h.expression))&&function(e){if(nd((e=h_.isDeclarationOfFunctionOrClassExpression(e)?he(e.valueDeclaration.initializer):e).valueDeclaration))return rd(e);if(3&e.flags){e=V(e);if(e.symbol&&!id(e)&&nd(e.symbol.valueDeclaration))return rd(e.symbol)}}(v)||(X&&ge(h,h_.Diagnostics.new_expression_whose_target_lacks_a_construct_signature_implicitly_has_an_any_type),J)}if(h_.isInJavaScriptFile(h)&&function(e){if(h_.isRequireCall(e,!0)){var t;if(h_.isIdentifier(e.expression))return!(e=Zn(e.expression,e.expression.escapedText,107455,void 0,void 0,!0))||(!(2097152&e.flags)&&0!=(t=16&e.flags?228:3&e.flags?226:0)?(e=h_.getDeclarationOfKind(e,t),h_.isInAmbientContext(e)):void 0);throw h_.Debug.fail()}}(h)){v=h.arguments[0];if(v=hr(v,v)){v=br(v);if(v)return V(v)}return J}return ke(y);case 183:return L=e,de<2&&Hf(L,65536),ke(td(L));case 185:return P=e,O=t,(F=h_.isInJavaScriptFile(P)?h_.getJSDocTypeTag(P):void 0)?ad(F,F.typeExpression.type,P.expression,O):Te(P.expression,O);case 199:return qp(F=e),af(F),V(he(F));case 186:case 187:return gd(e,t);case 189:return Te(e.expression),un;case 184:case 202:return ad(e,e.type,e.expression);case 203:return gc(Te(e.expression));case 204:return 94===(O=e).keywordToken&&"target"!==O.name.escapedText&&De(O.name,h_.Diagnostics._0_is_not_a_valid_meta_property_for_keyword_1_Did_you_mean_2,O.name.escapedText,h_.tokenToString(O.keywordToken),"target"),(I=h_.getNewTargetContainer(O))?152===I.kind?V(he(I.parent)):V(he(I)):(ge(O,h_.Diagnostics.Meta_property_0_is_only_allowed_in_the_body_of_a_function_declaration_function_expression_or_constructor,"new.target"),_e);case 188:return Te((I=e).expression),179!==(I=h_.skipParentheses(I.expression)).kind&&180!==I.kind?ge(I,h_.Diagnostics.The_operand_of_a_delete_operator_must_be_a_property_reference):(w=wr(q(I).resolvedSymbol))&&yd(w)&&ge(I,h_.Diagnostics.The_operand_of_a_delete_operator_cannot_be_a_read_only_property),Pe;case 190:return Te(e.expression),ie;case 191:return w=e,le&&(16384&w.flags||Ee(w,h_.Diagnostics.await_expression_is_only_allowed_within_an_async_function),Ml(w))&&ge(w,h_.Diagnostics.await_expressions_cannot_be_used_in_a_parameter_initializer),rp(Te(w.expression),w,h_.Diagnostics.Type_of_await_operand_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member);case 192:var b=e,x=Te(b.operand);if(x===Re)return Re;if(8===b.operand.kind){if(38===b.operator)return co(uo(-b.operand.text));if(37===b.operator)return co(uo(+b.operand.text))}switch(b.operator){case 37:case 38:case 52:return Tu(x,b.operand),kd(x,512)&&ge(b.operand,h_.Diagnostics.The_0_operator_cannot_be_applied_to_type_symbol,h_.tokenToString(b.operator)),oe;case 51:var $=3145728&Vc(x);return 1048576==$?Ie:2097152==$?ce:Pe;case 43:case 44:return hd(b.operand,Tu(x,b.operand),h_.Diagnostics.An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type)&&xd(b.operand,h_.Diagnostics.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_or_a_property_access),oe}return _e;case 193:return(N=Te((A=e).operand))===Re?Re:(hd(A.operand,Tu(N,A.operand),h_.Diagnostics.An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type)&&xd(A.operand,h_.Diagnostics.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_or_a_property_access),oe);case 194:return Id(e,t);case 195:return N=t,Te((A=e).condition),wd(Te(A.whenTrue,N),Te(A.whenFalse,N));case 198:return E=e,D=t,de<2&&ue.downlevelIteration&&Hf(E,1536),Fp(Te(E.expression,D),E.expression,!1,!1);case 200:return ie;case 197:return k=e,le&&(4096&k.flags&&!function(){for(var e=k,t=k.parent;t;){if(h_.isFunctionLike(t)&&e===t.body)return;if(h_.isClassLike(e))return 1;t=(e=t).parent}}()||Ee(k,h_.Diagnostics.A_yield_expression_is_only_allowed_in_a_generator_body),Ml(k))&&ge(k,h_.Diagnostics.yield_expressions_cannot_be_used_in_a_parameter_initializer),k.expression&&(E=(D=h_.getContainingFunction(k))&&h_.getFunctionFlags(D),k.asteriskToken&&(3==(3&E)&&de<5&&Hf(k,26624),1==(3&E))&&de<2&&ue.downlevelIteration&&Hf(k,256),1&E)&&(S=Fd(k.expression),T=void 0,(C=!!k.asteriskToken)&&(T=Fp(S,k.expression,!1,0!=(2&E))),D=h_.getEffectiveReturnTypeNode(D))&&(D=Up(Q(D),0!=(2&E))||J,Fo(C?2&E?ip(T,k.expression,h_.Diagnostics.Type_of_iterated_elements_of_a_yield_Asterisk_operand_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member):T:2&E?ip(S,k.expression,h_.Diagnostics.Type_of_yield_operand_in_an_async_generator_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member):S,D,k.expression,void 0)),J;case 256:return(C=e).expression?(T=Te(C.expression,t),C.dotDotDotToken&&T!==J&&!rc(T)&&ge(C,h_.Diagnostics.JSX_spread_child_must_be_an_array_type),T):_e;case 249:return yu((S=e).openingElement),au(S.closingElement.tagName)?cu(S.closingElement):Te(S.closingElement.tagName),gu()||J;case 250:return yu(e),gu()||J;case 254:return su(e.parent,void 0,t);case 251:h_.Debug.fail("Shouldn't ever directly check a JsxOpeningElement")}var k,S,T,C,E,D,A,N,w,I,P,O,F,L;return _e}(e,t),t);return!Td(t)||179===e.parent.kind&&e.parent.expression===e||180===e.parent.kind&&e.parent.expression===e||(71===e.kind||143===e.kind)&&_f(e)||ge(e,h_.Diagnostics.const_enums_can_only_be_used_in_property_or_index_access_expressions_or_the_right_hand_side_of_an_import_declaration_or_export_assignment),t}function Kd(e){e.expression&&Ee(e.expression,h_.Diagnostics.Type_expected),Ce(e.constraint),Ce(e.default);var t=Yi(he(e)),n=(Ta(t)||ge(e.constraint,h_.Diagnostics.Type_parameter_0_has_a_circular_constraint,ve(t)),Ea(t)===ze&&ge(e.default,h_.Diagnostics.Type_parameter_0_has_a_circular_default,ve(t)),xa(t)),t=Da(t);n&&t&&Fo(t,ia(n,t),e.default,h_.Diagnostics.Type_0_does_not_satisfy_the_constraint_1),le&&zp(e.name,h_.Diagnostics.Type_parameter_name_cannot_be_0)}function zd(e){Gf(e)||Wf(e),Np(e);var t=h_.getContainingFunction(e);!h_.hasModifier(e,92)||152===t.kind&&h_.nodeIsPresent(t.body)||ge(e,h_.Diagnostics.A_parameter_property_is_only_allowed_in_a_constructor_implementation),e.questionToken&&h_.isBindingPattern(e.name)&&t.body&&ge(e,h_.Diagnostics.A_binding_pattern_parameter_cannot_be_optional_in_an_implementation_signature),e.name&&h_.isIdentifier(e.name)&&("this"===e.name.escapedText||"new"===e.name.escapedText)&&(0!==h_.indexOf(t.parameters,e)&&ge(e,h_.Diagnostics.A_0_parameter_must_be_the_first_parameter,e.name.escapedText),152!==t.kind&&156!==t.kind&&161!==t.kind||ge(e,h_.Diagnostics.A_constructor_cannot_have_a_this_parameter)),!e.dotDotDotToken||h_.isBindingPattern(e.name)||rc(V(e.symbol))||ge(e,h_.Diagnostics.A_rest_parameter_must_be_of_an_array_type)}function $d(e){157===e.kind?Gf(n=e)||Wf(n)||(t=(n=n).parameters[0],1!==n.parameters.length?De(t?t.name:n,h_.Diagnostics.An_index_signature_must_have_exactly_one_parameter):t.dotDotDotToken?De(t.dotDotDotToken,h_.Diagnostics.An_index_signature_cannot_have_a_rest_parameter):h_.hasModifiers(t)?De(t.name,h_.Diagnostics.An_index_signature_parameter_cannot_have_an_accessibility_modifier):t.questionToken?De(t.questionToken,h_.Diagnostics.An_index_signature_parameter_cannot_have_a_question_mark):t.initializer?De(t.name,h_.Diagnostics.An_index_signature_parameter_cannot_have_an_initializer):t.type?136!==t.type.kind&&133!==t.type.kind?De(t.name,h_.Diagnostics.An_index_signature_parameter_type_must_be_string_or_number):n.type||De(n,h_.Diagnostics.An_index_signature_must_have_a_type_annotation):De(t.name,h_.Diagnostics.An_index_signature_parameter_must_have_a_type_annotation)):160!==e.kind&&228!==e.kind&&161!==e.kind&&155!==e.kind&&152!==e.kind&&156!==e.kind||Zf(e);var t,n=h_.getFunctionFlags(e);if(4&n||(3==(3&n)&&de<5&&Hf(e,6144),2==(3&n)&&de<4&&Hf(e,64),0!=(3&n)&&de<2&&Hf(e,128)),$p(e.typeParameters),h_.forEach(e.parameters,zd),e.type&&Ce(e.type),le){t=e,!h_.hasRestParameter(t)||h_.isInAmbientContext(t)||h_.nodeIsMissing(t.body)||h_.forEach(t.parameters,function(e){e.name&&!h_.isBindingPattern(e.name)&&e.name.escapedText===M.escapedName&&ge(e,h_.Diagnostics.Duplicate_identifier_arguments_Compiler_uses_arguments_to_initialize_rest_parameters)});var r,i,a=h_.getEffectiveReturnTypeNode(e);if(X&&!a)switch(e.kind){case 156:ge(e,h_.Diagnostics.Construct_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type);break;case 155:ge(e,h_.Diagnostics.Call_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type)}a&&(1==(5&(r=h_.getFunctionFlags(e)))?(i=Q(a))===Fe?ge(a,h_.Diagnostics.A_generator_cannot_have_a_void_type_annotation):Fo((2&r?Ps:Fs)(Up(i,0!=(2&r))||J),i,a):2==(3&r)&&ap(e)),k&&!e.body&&hp(e)}}function Jd(e){for(var t=h_.createMap(),n=0,r=e.members;n<r.length;n++){var i=r[n];if(148===i.kind){var a=void 0;switch(i.name.kind){case 9:case 8:a=i.name.text;break;case 71:a=h_.idText(i.name);break;default:continue}t.get(a)?(ge(h_.getNameOfDeclaration(i.symbol.valueDeclaration),h_.Diagnostics.Duplicate_identifier_0,a),ge(i.name,h_.Diagnostics.Duplicate_identifier_0,a)):t.set(a,!0)}}}function qd(e){if(230===e.kind){var t=he(e);if(0<t.declarations.length&&t.declarations[0]!==e)return}t=Qa(he(e));if(t)for(var n=!1,r=!1,i=0,a=t.declarations;i<a.length;i++){var s=a[i];if(1===s.parameters.length&&s.parameters[0].type)switch(s.parameters[0].type.kind){case 136:r?ge(s,h_.Diagnostics.Duplicate_string_index_signature):r=!0;break;case 133:n?ge(s,h_.Diagnostics.Duplicate_number_index_signature):n=!0}}}function Vd(e){var t,n,r,i;le&&(Zf(e)||(i=(n=e).kind,de<1?De(n.name,h_.Diagnostics.Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher):h_.isInAmbientContext(n)?De(n.name,h_.Diagnostics.An_accessor_cannot_be_declared_in_an_ambient_context):void 0!==n.body||h_.hasModifier(n,128)?n.body&&h_.hasModifier(n,128)?De(n,h_.Diagnostics.An_abstract_accessor_cannot_have_an_implementation):n.typeParameters?De(n.name,h_.Diagnostics.An_accessor_cannot_have_type_parameters):c_(r=n)||r.parameters.length===(153===r.kind?0:1)?154===i&&(n.type?De(n.name,h_.Diagnostics.A_set_accessor_cannot_have_a_return_type_annotation):(r=n.parameters[0]).dotDotDotToken?De(r.dotDotDotToken,h_.Diagnostics.A_set_accessor_cannot_have_rest_parameter):r.questionToken?De(r.questionToken,h_.Diagnostics.A_set_accessor_cannot_have_an_optional_parameter):r.initializer&&De(n.name,h_.Diagnostics.A_set_accessor_parameter_cannot_have_an_initializer)):De(n.name,153===i?h_.Diagnostics.A_get_accessor_cannot_have_parameters:h_.Diagnostics.A_set_accessor_must_have_exactly_one_parameter):__(n,n.end-1,";".length,h_.Diagnostics._0_expected,"{"))||i_(e.name),up(e),$d(e),153===e.kind&&!h_.isInAmbientContext(e)&&h_.nodeIsPresent(e.body)&&128&e.flags&&(256&e.flags||ge(e.name,h_.Diagnostics.A_get_accessor_must_return_a_value)),144===e.name.kind&&eu(e.name),!h_.hasDynamicName(e)&&(r=153===e.kind?154:153,i=h_.getDeclarationOfKind(e.symbol,r))&&((28&(n=h_.getModifierFlags(e)))!=(28&(t=h_.getModifierFlags(i)))&&ge(e.name,h_.Diagnostics.Getter_and_setter_accessors_do_not_agree_in_visibility),(128&n)!=(128&t)&&ge(e.name,h_.Diagnostics.Accessors_must_both_be_abstract_or_non_abstract),Hd(e,i,Ti,h_.Diagnostics.get_and_set_accessor_must_have_the_same_type),Hd(e,i,Ci,h_.Diagnostics.get_and_set_accessor_must_have_the_same_this_type)),t=Ei(he(e)),153===e.kind)&&md(e,t),Ce(e.body),fp(e)}function Hd(e,t,n,r){var i=n(e),n=n(t);i&&n&&!Ao(i,n)&&ge(e,r)}function Gd(e,t){for(var n,r,i=ja(e),a=!0,s=0;s<e.length;s++){var o,c=xa(e[s]);c&&(n||(r=go(e,n=Ka(h_.map(t,Q),e,i,h_.isInJavaScriptFile(t[s])))),o=n[s],a=a&&Fo(o,K(c,r),t[s],h_.Diagnostics.Type_0_does_not_satisfy_the_constraint_1))}return a}function Wd(e){e_(e,e.typeArguments),159!==e.kind||void 0===e.typeName.jsdocDotPos||h_.isInJavaScriptFile(e)||h_.isInJSDoc(e)||__(e,e.typeName.jsdocDotPos,1,h_.Diagnostics.JSDoc_types_can_only_be_used_inside_documentation_comments);var t=ps(e);if(t!==_e){if(e.typeArguments&&(h_.forEach(e.typeArguments,Ce),le)){var n=q(e).resolvedSymbol;if(!n)return void(h_.isJSDocIndexSignature(e)||ge(e,h_.Diagnostics.Type_0_is_not_generic,ve(t)));n=524288&n.flags&&p(n).typeParameters;Gd(n=!n&&4&P(t)?t.target.localTypeParameters:n,e.typeArguments)}16&t.flags&&8&q(e).resolvedSymbol.flags&&ge(e,h_.Diagnostics.Enum_type_0_has_members_with_initializers_that_are_not_literals,ve(t))}}function Qd(e,t){var n,r;return 524288&e.flags&&(n=e.objectType,Se(r=e.indexType,Vs(n))?180===t.kind&&h_.isAssignmentTarget(t)&&32&P(n)&&n.declaration.readonlyToken&&ge(t,h_.Diagnostics.Index_signature_in_type_0_only_permits_reading,ve(n)):O($(n),1)&&Sd(r,84)||ge(t,h_.Diagnostics.Type_0_cannot_be_used_to_index_type_1,ve(r),ve(n))),e}function Yd(e){return h_.hasModifier(e,8)&&h_.isInAmbientContext(e)}function Xd(e,t){var n=h_.getCombinedModifierFlags(e);return 230!==e.parent.kind&&229!==e.parent.kind&&199!==e.parent.kind&&h_.isInAmbientContext(e)&&(2&n||(n|=1),n|=2),n&t}function Zd(e){if(le){for(var t,n,r,i=0,a=155,s=!1,o=!0,c=!1,l=e.declarations,u=0!=(16384&e.flags),d=!1,p=!1,f=0,_=l;f<_.length;f++){var m,g=_[f],h=h_.isInAmbientContext(g),h=230===g.parent.kind||163===g.parent.kind||h;h&&(r=void 0),228!==g.kind&&151!==g.kind&&150!==g.kind&&152!==g.kind||(i|=m=Xd(g,155),a&=m,s=s||h_.hasQuestionToken(g),o=o&&h_.hasQuestionToken(g),h_.nodeIsPresent(g.body)&&t?u?p=!0:d=!0:r&&r.parent===g.parent&&r.end!==g.pos&&w(r),h_.nodeIsPresent(g.body)?t=t||g:c=!0,r=g,h)||(n=g)}if(p&&h_.forEach(l,function(e){ge(e,h_.Diagnostics.Multiple_constructor_implementations_are_not_allowed)}),d&&h_.forEach(l,function(e){ge(h_.getNameOfDeclaration(e),h_.Diagnostics.Duplicate_function_implementation)}),!n||n.body||h_.hasModifier(n,128)||n.questionToken||w(n),c&&(D=l,0!=(i^a)&&(A=Xd(N(D,t),155),h_.forEach(D,function(e){var t=Xd(e,155)^A;1&t?ge(h_.getNameOfDeclaration(e),h_.Diagnostics.Overload_signatures_must_all_be_exported_or_non_exported):2&t?ge(h_.getNameOfDeclaration(e),h_.Diagnostics.Overload_signatures_must_all_be_ambient_or_non_ambient):24&t?ge(h_.getNameOfDeclaration(e)||e,h_.Diagnostics.Overload_signatures_must_all_be_public_private_or_protected):128&t&&ge(h_.getNameOfDeclaration(e),h_.Diagnostics.Overload_signatures_must_all_be_abstract_or_non_abstract)})),D=l,l=t,s!==o&&(E=h_.hasQuestionToken(N(D,l)),h_.forEach(D,function(e){h_.hasQuestionToken(e)!==E&&ge(h_.getNameOfDeclaration(e),h_.Diagnostics.Overload_signatures_must_all_be_optional_or_required)})),t))for(var l=$a(e),y=za(t),v=0,b=l;v<b.length;v++){var x=b[v];if(S=x,C=T=void 0,k=Ga(k=y),S=Ga(S),T=ke(k),(C=ke(S))!==Fe&&!Ko(C,T,Sn)&&!Ko(T,C,Sn)||0===Ro(k,S,0,!0,!1,void 0,wo)){ge(x.declaration,h_.Diagnostics.Overload_signature_is_not_compatible_with_function_implementation);break}}}var k,S,T,C,E,D,A;function N(e,t){return void 0!==t&&t.parent===e[0].parent?t:e[0]}function w(t){if(!t.name||!h_.nodeIsMissing(t.name)){var n=!1,e=h_.forEachChild(t.parent,function(e){if(n)return e;n=e===t});if(e&&e.pos===t.end&&e.kind===t.kind){var r=e.name||e,i=e.name;if(t.name&&i&&(h_.isComputedPropertyName(t.name)&&h_.isComputedPropertyName(i)||!h_.isComputedPropertyName(t.name)&&!h_.isComputedPropertyName(i)&&h_.getEscapedTextOfIdentifierOrLiteral(t.name)===h_.getEscapedTextOfIdentifierOrLiteral(i)))return void(151!==t.kind&&150!==t.kind||h_.hasModifier(t,32)===h_.hasModifier(e,32)||ge(r,h_.hasModifier(t,32)?h_.Diagnostics.Function_overload_must_be_static:h_.Diagnostics.Function_overload_must_not_be_static));if(h_.nodeIsPresent(e.body))return ge(r,h_.Diagnostics.Function_implementation_name_must_be_0,h_.declarationNameToString(t.name))}i=t.name||t;u?ge(i,h_.Diagnostics.Constructor_implementation_is_missing):h_.hasModifier(t,128)?ge(i,h_.Diagnostics.All_declarations_of_an_abstract_method_must_be_consecutive):ge(i,h_.Diagnostics.Function_implementation_is_missing_or_not_immediately_following_the_declaration)}}}function ep(e){if(le){var t=e.localSymbol;if((t||(t=he(e)).exportSymbol)&&h_.getDeclarationOfKind(t,e.kind)===e){for(var n=0,r=0,i=0,a=0,s=t.declarations;a<s.length;a++){var o=g(_=s[a]),c=Xd(_,513);1&c?512&c?i|=o:n|=o:r|=o}var l,u=n&r,d=i&(n|r);if(u||d)for(var p=0,f=t.declarations;p<f.length;p++){var _,o=g(_=f[p]),m=h_.getNameOfDeclaration(_);o&d?ge(m,h_.Diagnostics.Merged_declaration_0_cannot_include_a_default_export_declaration_Consider_adding_a_separate_export_default_0_declaration_instead,h_.declarationNameToString(m)):o&u&&ge(m,h_.Diagnostics.Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local,h_.declarationNameToString(m))}(e=l=l||{})[e.None=0]="None",e[e.ExportValue=1]="ExportValue",e[e.ExportType=2]="ExportType",e[e.ExportNamespace=4]="ExportNamespace"}}function g(e){switch(e.kind){case 230:case 231:case 283:return 2;case 233:return h_.isAmbientModule(e)||0!==h_.getModuleInstanceState(e)?5:4;case 229:case 232:return 3;case 237:case 240:case 239:var t=0,n=dr(he(e));return h_.forEach(n.declarations,function(e){t|=g(e)}),t;case 226:case 176:case 228:case 242:return 1;default:h_.Debug.fail(h_.SyntaxKind[e.kind])}}}function tp(e,t,n){e=np(e,t);return e&&ip(e,t,n)}function np(e,t){if(!w(e)){var n=e;if(n.promisedTypeOfPromise)return n.promisedTypeOfPromise;if(Ni(e,bs(!1)))return n.promisedTypeOfPromise=e.typeArguments[0];e=ui(e,"then");if(!w(e)){e=e?G(e,0):h_.emptyArray;if(0!==e.length){e=Hc(W(h_.map(e,cd)),524288);if(!w(e)){e=G(e,0);if(0!==e.length)return n.promisedTypeOfPromise=W(h_.map(e,cd),!0);t&&ge(t,h_.Diagnostics.The_first_parameter_of_the_then_method_of_a_promise_must_be_a_callback)}}else t&&ge(t,h_.Diagnostics.A_promise_must_have_a_then_method)}}}function rp(e,t,n){return ip(e,t,n)||_e}function ip(e,t,n){var r=e;if(r.awaitedTypeOfType)return r.awaitedTypeOfType;if(w(e))return r.awaitedTypeOfType=e;if(65536&e.flags){for(var i=void 0,a=0,s=e.types;a<s.length;a++)var o=s[a],i=h_.append(i,ip(o,t,n));return i?r.awaitedTypeOfType=W(i):void 0}var c=np(e);if(c){if(e.id===c.id||0<=h_.indexOf(Zt,c.id))return void(t&&ge(t,h_.Diagnostics.Type_is_referenced_directly_or_indirectly_in_the_fulfillment_callback_of_its_own_then_method));Zt.push(e.id);c=ip(c,t,n);return(Zt.pop(),c)?r.awaitedTypeOfType=c:void 0}c=ui(e,"then");if(!(c&&0<G(c,0).length))return r.awaitedTypeOfType=e;t&&(h_.Debug.assert(!!n),ge(t,n))}function ap(e){var t=h_.getEffectiveReturnTypeNode(e),n=Q(t);if(2<=de){if(n===_e)return _e;var r=bs(!0);if(r!==Be&&!Ni(n,r))return ge(t,h_.Diagnostics.The_return_type_of_an_async_function_or_method_must_be_the_global_Promise_T_type),_e}else{if(op(t&&h_.getEntityNameFromTypeNode(t)),n===_e)return _e;r=h_.getEntityNameFromTypeNode(t);if(void 0===r)return ge(t,h_.Diagnostics.Type_0_is_not_a_valid_async_function_return_type_in_ES5_SlashES3_because_it_does_not_refer_to_a_Promise_compatible_constructor_value,ve(n)),_e;var i=gr(r,107455,!0),i=i?V(i):_e;if(i===_e)return 71===r.kind&&"Promise"===r.escapedText&&wi(n)===bs(!1)?ge(t,h_.Diagnostics.An_async_function_or_method_in_ES5_SlashES3_requires_the_Promise_constructor_Make_sure_you_have_a_declaration_for_the_Promise_constructor_or_include_ES2015_in_your_lib_option):ge(t,h_.Diagnostics.Type_0_is_not_a_valid_async_function_return_type_in_ES5_SlashES3_because_it_does_not_refer_to_a_Promise_compatible_constructor_value,h_.entityNameToString(r)),_e;var a=(dt=dt||ys("PromiseConstructorLike",0,!0))||I;if(a===I)return ge(t,h_.Diagnostics.Type_0_is_not_a_valid_async_function_return_type_in_ES5_SlashES3_because_it_does_not_refer_to_a_Promise_compatible_constructor_value,h_.entityNameToString(r)),_e;if(!Fo(i,a,t,h_.Diagnostics.Type_0_is_not_a_valid_async_function_return_type_in_ES5_SlashES3_because_it_does_not_refer_to_a_Promise_compatible_constructor_value))return _e;i=r&&Qp(r),a=Yn(e.locals,i.escapedText,107455);if(a)return ge(a.valueDeclaration,h_.Diagnostics.Duplicate_identifier_0_Compiler_uses_declaration_1_to_support_async_functions,h_.idText(i),h_.entityNameToString(r)),_e}return rp(n,e,h_.Diagnostics.The_return_type_of_an_async_function_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member)}function sp(e){var t=ke(td(e));if(!(1&t.flags)){var n,r,i=Yu(e);switch(e.parent.kind){case 229:n=W([V(he(e.parent)),Fe]);break;case 146:n=Fe,r=h_.chainDiagnosticMessages(r,h_.Diagnostics.The_return_type_of_a_parameter_decorator_function_must_be_either_void_or_any);break;case 149:n=Fe,r=h_.chainDiagnosticMessages(r,h_.Diagnostics.The_return_type_of_a_property_decorator_function_must_be_either_void_or_any);break;case 151:case 153:case 154:n=W([Is(hf(e.parent)),Fe])}Fo(t,n,e,i,r)}}function op(e){var t;e&&(t=Qp(e),e=2097152|(71===e.kind?793064:1920),t=Zn(t,t.escapedText,e,void 0,void 0,!0))&&2097152&t.flags&&Ir(t)&&!Nf(dr(t))&&fr(t)}function cp(e){e=function e(t){if(t)switch(t.kind){case 167:case 166:for(var n=void 0,r=0,i=t.types;r<i.length;r++){var a=e(i[r]);if(!a)return;if(n){if(!h_.isIdentifier(n)||!h_.isIdentifier(a)||n.escapedText!==a.escapedText)return}else n=a}return n;case 168:return e(t.type);case 159:return t.typeName}}(e);e&&h_.isEntityName(e)&&op(e)}function lp(e){var t=h_.getEffectiveTypeAnnotationNode(e);return h_.isRestParameter(e)?h_.getRestParameterElementType(t):t}function up(e){if(e.decorators&&h_.nodeCanBeDecorated(e)){ue.experimentalDecorators||ge(e,h_.Diagnostics.Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Set_the_experimentalDecorators_option_to_remove_this_warning);var t=e.decorators[0];if(Hf(t,8),146===e.kind&&Hf(t,32),ue.emitDecoratorMetadata)switch(Hf(t,16),e.kind){case 229:var n=h_.getFirstConstructorWithBody(e);if(n)for(var r=0,i=n.parameters;r<i.length;r++)cp(lp(i[r]));break;case 151:case 153:case 154:for(var a=0,s=e.parameters;a<s.length;a++)cp(lp(s[a]));cp(h_.getEffectiveReturnTypeNode(e));break;case 149:cp(h_.getEffectiveTypeAnnotationNode(e));break;case 146:cp(lp(e))}h_.forEach(e.decorators,sp)}}function dp(e){switch(e.kind){case 71:return e;case 179:return e.name;default:return}}function pp(t){up(t),$d(t);var e,n,r=h_.getFunctionFlags(t),i=(t.name&&144===t.name.kind&&eu(t.name),h_.hasDynamicName(t)||(e=he(t),n=t.localSymbol||e,i=h_.find(n.declarations,function(e){return e.kind===t.kind&&!(65536&e.flags)}),t===i&&Zd(n),e.parent&&h_.getDeclarationOfKind(e,t.kind)===t&&Zd(e)),Ce(t.body),h_.getEffectiveReturnTypeNode(t));0==(1&r)&&(n=i&&(2&r?ap(t):Q(i)),md(t,n)),le&&!i&&(X&&h_.nodeIsMissing(t.body)&&!Yd(t)&&kc(t,J),1&r)&&h_.nodeIsPresent(t.body)&&ke(za(t)),fp(t)}function fp(e){St&&St.push(e)}function _p(e){230!==e.parent.kind&&k&&!h_.isInAmbientContext(e)&&e.locals.forEach(function(t){var e,n;t.isReferenced||(t.valueDeclaration&&146===h_.getRootDeclaration(t.valueDeclaration).kind?(e=h_.getRootDeclaration(t.valueDeclaration),n=h_.getNameOfDeclaration(t.valueDeclaration),!ue.noUnusedParameters||h_.isParameterPropertyDeclaration(e)||h_.parameterIsThisKeyword(e)||n&&gp(n)||ge(n,h_.Diagnostics._0_is_declared_but_its_value_is_never_read,h_.symbolName(t))):ue.noUnusedLocals&&h_.forEach(t.declarations,function(e){return mp(e,h_.symbolName(t))}))})}function mp(e,t){e=h_.getNameOfDeclaration(e)||e;if(gp(e)){var n=h_.getRootDeclaration(e.parent);if(226===n.kind&&h_.isForInOrOfStatement(n.parent.parent)||145===n.kind)return}!function(e){var t;if(h_.isBindingElement(e)&&h_.isObjectBindingPattern(e.parent))return(t=h_.lastOrUndefined(e.parent.elements))!==e&&t.dotDotDotToken}(71===e.kind?e.parent:e)&&ge(e,h_.Diagnostics._0_is_declared_but_its_value_is_never_read,t)}function gp(e){return 71===e.kind&&95===h_.idText(e).charCodeAt(0)}function hp(e){if(ue.noUnusedLocals&&!h_.isInAmbientContext(e)&&e.typeParameters){var t=he(e);if((t&&t.declarations&&h_.lastOrUndefined(t.declarations))===e)for(var n=0,r=e.typeParameters;n<r.length;n++){var i=r[n];Ar(i.symbol).isReferenced||gp(i.name)||ge(i.name,h_.Diagnostics._0_is_declared_but_its_value_is_never_read,h_.symbolName(i.symbol))}}}function yp(e){var t;207===e.kind&&m_(e),h_.isFunctionOrModuleBlock(e)?(t=Lt,h_.forEach(e.statements,Ce),Lt=t):h_.forEach(e.statements,Ce),e.locals&&fp(e)}function vp(e,t,n){if(t&&t.escapedText===n&&(149!==e.kind&&148!==e.kind&&151!==e.kind&&150!==e.kind&&153!==e.kind&&154!==e.kind&&!h_.isInAmbientContext(e)))return 146!==(t=h_.getRootDeclaration(e)).kind||!h_.nodeIsMissing(t.parent.body)}function bp(e,t){vp(e,t,"_this")&&Yt.push(e)}function xp(e,t){vp(e,t,"_newTarget")&&Xt.push(e)}function kp(t){h_.findAncestor(t,function(e){if(4&Of(e))return 71!==t.kind?ge(h_.getNameOfDeclaration(t),h_.Diagnostics.Duplicate_identifier_this_Compiler_uses_variable_declaration_this_to_capture_this_reference):ge(t,h_.Diagnostics.Expression_resolves_to_variable_declaration_this_that_compiler_uses_to_capture_this_reference),!0})}function Sp(t){h_.findAncestor(t,function(e){if(8&Of(e))return 71!==t.kind?ge(h_.getNameOfDeclaration(t),h_.Diagnostics.Duplicate_identifier_newTarget_Compiler_uses_variable_declaration_newTarget_to_capture_new_target_meta_property_reference):ge(t,h_.Diagnostics.Expression_resolves_to_variable_declaration_newTarget_that_compiler_uses_to_capture_new_target_meta_property_reference),!0})}function Tp(e,t){vp(e,t,"_super")&&(t=h_.getContainingClass(e))&&!h_.isInAmbientContext(t)&&h_.getClassExtendsHeritageClauseElement(t)&&ge(e,71!==e.kind?h_.Diagnostics.Duplicate_identifier_super_Compiler_uses_super_to_capture_base_class_reference:h_.Diagnostics.Expression_resolves_to_super_that_compiler_uses_to_capture_base_class_reference)}function Cp(e,t){Ne>=h_.ModuleKind.ES2015||!vp(e,t,"require")&&!vp(e,t,"exports")||233===e.kind&&1!==h_.getModuleInstanceState(e)||265===(e=li(e)).kind&&h_.isExternalOrCommonJsModule(e)&&ge(t,h_.Diagnostics.Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module,h_.declarationNameToString(t),h_.declarationNameToString(t))}function Ep(e,t){4<=de||!vp(e,t,"Promise")||233===e.kind&&1!==h_.getModuleInstanceState(e)||265===(e=li(e)).kind&&h_.isExternalOrCommonJsModule(e)&&1024&e.flags&&ge(t,h_.Diagnostics.Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module_containing_async_functions,h_.declarationNameToString(t),h_.declarationNameToString(t))}function Dp(r){var i;146===h_.getRootDeclaration(r).kind&&(i=h_.getContainingFunction(r),function e(t){if(!h_.isTypeNode(t)&&!h_.isDeclarationName(t)){if(179===t.kind)return e(t.expression);if(71!==t.kind)return h_.forEachChild(t,e);var n=Zn(t,t.escapedText,2204607,void 0,void 0,!1);if(n&&n!==fe&&n.valueDeclaration)if(n.valueDeclaration===r)ge(t,h_.Diagnostics.Parameter_0_cannot_be_referenced_in_its_initializer,h_.declarationNameToString(r.name));else if(h_.getEnclosingBlockScopeContainer(n.valueDeclaration)===i){if(146===n.valueDeclaration.kind||176===n.valueDeclaration.kind){if(n.valueDeclaration.pos<r.pos)return;if(h_.findAncestor(t,function(e){return e===r.initializer?"quit":h_.isFunctionLike(e.parent)||149===e.parent.kind&&!h_.hasModifier(e.parent,32)&&h_.isClassLike(e.parent.parent)}))return}ge(t,h_.Diagnostics.Initializer_of_parameter_0_cannot_reference_identifier_1_declared_after_it,h_.declarationNameToString(r.name),h_.declarationNameToString(t))}}}(r.initializer))}function Ap(e){return e===re?J:e===it?rt:e}function Np(e){if(up(e),Ce(e.type),e.name)if(144===e.name.kind&&(eu(e.name),e.initializer)&&Fd(e.initializer),176===e.kind&&(174===e.parent.kind&&de<5&&Hf(e,4),e.propertyName&&144===e.propertyName.kind&&eu(e.propertyName),r=di(n=e.parent.parent),t=e.propertyName||e.name,Iu(t=H(r,h_.getTextOfPropertyName(t)),void 0,!1),n.initializer)&&t&&ku(n,n.initializer,r,t),h_.isBindingPattern(e.name)&&(175===e.name.kind&&de<2&&ue.downlevelIteration&&Hf(e,512),h_.forEach(e.name.elements,Ce)),e.initializer&&146===h_.getRootDeclaration(e).kind&&h_.nodeIsMissing(h_.getContainingFunction(e).body))ge(e,h_.Diagnostics.A_parameter_initializer_is_only_allowed_in_a_function_or_constructor_implementation);else if(h_.isBindingPattern(e.name))e.initializer&&215!==e.parent.parent.kind&&(Fo(Fd(e.initializer),xi(e),e,void 0),Dp(e));else{var t,n=he(e),r=Ap(Si(n));if(e===n.valueDeclaration?e.initializer&&215!==e.parent.parent.kind&&(Fo(Fd(e.initializer),r,e,void 0),Dp(e)):(t=Ap(xi(e)),r===_e||t===_e||Ao(r,t)||ge(e.name,h_.Diagnostics.Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_type_2,h_.declarationNameToString(e.name),ve(r),ve(t)),e.initializer&&Fo(Fd(e.initializer),t,e,void 0),r=e,t=n.valueDeclaration,146===r.kind&&226===t.kind||226===r.kind&&146===t.kind||(h_.hasQuestionToken(r)===h_.hasQuestionToken(t)?h_.getSelectedModifierFlags(r,504)===h_.getSelectedModifierFlags(t,504):void 0)||(ge(h_.getNameOfDeclaration(n.valueDeclaration),h_.Diagnostics.All_declarations_of_0_must_have_identical_modifiers,h_.declarationNameToString(e.name)),ge(e.name,h_.Diagnostics.All_declarations_of_0_must_have_identical_modifiers,h_.declarationNameToString(e.name)))),149!==e.kind&&148!==e.kind){if(ep(e),226===e.kind||176===e.kind){n=e;if(0==(3&h_.getCombinedNodeFlags(n))&&!h_.isParameterDeclaration(n)&&(226!==n.kind||n.initializer)){var i=he(n);if(1&i.flags){if(!h_.isIdentifier(n.name))throw h_.Debug.fail();var a=Zn(n,n.name.escapedText,3,void 0,void 0,!1);a&&a!==i&&2&a.flags&&3&bu(a)&&((i=208===(i=h_.getAncestor(a.valueDeclaration,227)).parent.kind&&i.parent.parent?i.parent.parent:void 0)&&(207===i.kind&&h_.isFunctionLike(i.parent)||234===i.kind||233===i.kind||265===i.kind)||(i=ye(a),ge(n,h_.Diagnostics.Cannot_initialize_outer_scoped_variable_0_in_the_same_scope_as_block_scoped_declaration_1,i,i)))}}}Tp(e,e.name),bp(e,e.name),xp(e,e.name),Cp(e,e.name),Ep(e,e.name)}}}function wp(e){return function(e){if(215!==e.parent.parent.kind&&216!==e.parent.parent.kind)if(h_.isInAmbientContext(e)){if(e.initializer){var t;if(!h_.isConst(e)||e.type)return __(e,e.initializer.pos-(t="=".length),t,h_.Diagnostics.Initializers_are_not_allowed_in_ambient_contexts);if(!d_(e.initializer))return De(e.initializer,h_.Diagnostics.A_const_initializer_in_an_ambient_context_must_be_a_string_or_numeric_literal)}if(e.initializer&&(!h_.isConst(e)||!d_(e.initializer)))return __(e,e.initializer.pos-(t="=".length),t,h_.Diagnostics.Initializers_are_not_allowed_in_ambient_contexts)}else if(!e.initializer){if(h_.isBindingPattern(e.name)&&!h_.isBindingPattern(e.parent))return De(e,h_.Diagnostics.A_destructuring_declaration_must_have_an_initializer);if(h_.isConst(e))return De(e,h_.Diagnostics.const_declarations_must_be_initialized)}ue.module===h_.ModuleKind.ES2015||ue.module===h_.ModuleKind.ESNext||ue.module===h_.ModuleKind.System||ue.noEmit||h_.isInAmbientContext(e.parent.parent)||!h_.hasModifier(e.parent.parent,1)||function e(t){if(71===t.kind){if("__esModule"===h_.idText(t))return De(t,h_.Diagnostics.Identifier_expected_esModule_is_reserved_as_an_exported_marker_when_transforming_ECMAScript_modules)}else for(var n=0,r=t.elements;n<r.length;n++){var i=r[n];if(!h_.isOmittedExpression(i))return e(i.name)}}(e.name),(h_.isLet(e)||h_.isConst(e))&&function e(t){if(71===t.kind){if(110===t.originalKeywordKind)return De(t,h_.Diagnostics.let_is_not_allowed_to_be_used_as_a_name_in_let_or_const_declarations)}else for(var n=0,r=t.elements;n<r.length;n++){var i=r[n];h_.isOmittedExpression(i)||e(i.name)}}(e.name)}(e),Np(e)}function Ip(e){Gf(e)||Wf(e)||p_(e.declarationList)||function(e){if(!function e(t){switch(t.kind){case 211:case 212:case 213:case 220:case 214:case 215:case 216:return!1;case 222:return e(t.parent)}return!0}(e.parent)){if(h_.isLet(e.declarationList))return De(e,h_.Diagnostics.let_declarations_can_only_be_declared_inside_a_block);h_.isConst(e.declarationList)&&De(e,h_.Diagnostics.const_declarations_can_only_be_declared_inside_a_block)}}(e),h_.forEach(e.declarationList.declarations,Ce)}function Pp(e){e=e.initializer;1<=e.declarations.length&&wp(e.declarations[0])}function Op(e,t){return Fp(Su(e),e,!0,void 0!==t)}function Fp(e,t,n,r){return w(e)?e:Lp(e,t,n,r,!0)||J}function Lp(e,t,n,r,i){var a=2<=de,s=!a&&ue.downlevelIteration;if(a||s||r){r=Rp(e,a?t:void 0,r,!0,i);if(r||a)return r}var o,c,i=e,a=!1,r=!1;if(n&&(65536&i.flags?(c=e.types,(o=h_.filter(c,function(e){return!(262178&e.flags)}))!==c&&(i=W(o,!0))):262178&i.flags&&(i=Le),(r=i!==e)&&(de<1&&t&&(ge(t,h_.Diagnostics.Using_a_string_in_a_for_of_statement_is_only_supported_in_ECMAScript_5_and_higher),a=!0),8192&i.flags)))return me;return ic(i)?(c=Fa(i,1),r&&c?262178&c.flags?me:W([c,me],!0):c):(t&&!a&&ge(t,!n||r?s?h_.Diagnostics.Type_0_is_not_an_array_type_or_does_not_have_a_Symbol_iterator_method_that_returns_an_iterator:h_.Diagnostics.Type_0_is_not_an_array_type:s?h_.Diagnostics.Type_0_is_not_an_array_type_or_a_string_type_or_does_not_have_a_Symbol_iterator_method_that_returns_an_iterator:h_.Diagnostics.Type_0_is_not_an_array_type_or_a_string_type,ve(i)),r?me:void 0)}function Rp(e,i,a,s,o){if(!w(e))return cl(e,function(e){var t=e;if(a){if(t.iteratedTypeOfAsyncIterable)return t.iteratedTypeOfAsyncIterable;if(Ni(e,ks(!1))||Ni(e,Ts(!1)))return t.iteratedTypeOfAsyncIterable=e.typeArguments[0]}if(s){if(t.iteratedTypeOfIterable)return t.iteratedTypeOfIterable;if(Ni(e,Cs(!1))||Ni(e,Ds(!1)))return t.iteratedTypeOfIterable=e.typeArguments[0]}var n=a&&ui(e,h_.getPropertyNameForKnownSymbolName("asyncIterator")),r=n||s&&ui(e,h_.getPropertyNameForKnownSymbolName("iterator"));if(!w(r)){var r=r&&G(r,0);if(h_.some(r))return r=Mp(W(h_.map(r,ke),!0),i,!!n),o&&i&&r&&Fo(e,n?(e=r,ws(ks(!0),[e])):Os(r),i),n?t.iteratedTypeOfAsyncIterable=r:t.iteratedTypeOfIterable=r;i&&(ge(i,a?h_.Diagnostics.Type_must_have_a_Symbol_asyncIterator_method_that_returns_an_async_iterator:h_.Diagnostics.Type_must_have_a_Symbol_iterator_method_that_returns_an_iterator),i=void 0)}})}function Mp(e,t,n){if(!w(e)){var r=e;if(n?r.iteratedTypeOfAsyncIterator:r.iteratedTypeOfIterator)return n?r.iteratedTypeOfAsyncIterator:r.iteratedTypeOfIterator;if(Ni(e,(n?Ss:Es)(!1)))return n?r.iteratedTypeOfAsyncIterator=e.typeArguments[0]:r.iteratedTypeOfIterator=e.typeArguments[0];e=ui(e,"next");if(!w(e)){e=e?G(e,0):h_.emptyArray;if(0!==e.length){e=W(h_.map(e,ke),!0);if(!(w(e)||n&&w(e=tp(e,t,h_.Diagnostics.The_type_returned_by_the_next_method_of_an_async_iterator_must_be_a_promise_for_a_type_with_a_value_property)))){e=e&&ui(e,"value");if(e)return n?r.iteratedTypeOfAsyncIterator=e:r.iteratedTypeOfIterator=e;t&&ge(t,n?h_.Diagnostics.The_type_returned_by_the_next_method_of_an_async_iterator_must_be_a_promise_for_a_type_with_a_value_property:h_.Diagnostics.The_type_returned_by_the_next_method_of_an_iterator_must_have_a_value_property)}}else t&&ge(t,n?h_.Diagnostics.An_async_iterator_must_have_a_next_method:h_.Diagnostics.An_iterator_must_have_a_next_method)}}}function Up(e,t){if(!w(e))return Rp(e,void 0,t,!t,!1)||Mp(e,void 0,t)}function Bp(e){return 153===e.kind&&void 0!==h_.getEffectiveSetAccessorTypeAnnotationNode(h_.getDeclarationOfKind(e.symbol,154))}function jp(e,t){e=2==(3&h_.getFunctionFlags(e))?np(t):t;return e&&kd(e,1025)}function Kp(n){var e,r=Ya(n.symbol,1),i=Ya(n.symbol,0),a=Fa(n,0),s=Fa(n,1);if((a||s)&&(h_.forEach(va(n),function(e){var t=V(e);u(e,t,n,i,a,0),u(e,t,n,r,s,1)}),1&P(n))&&h_.isClassLike(n.symbol.valueDeclaration))for(var t=0,o=n.symbol.valueDeclaration.members;t<o.length;t++){var c,l=o[t];!h_.hasModifier(l,32)&&h_.hasDynamicName(l)&&(c=V(l.symbol),u(l.symbol,c,n,i,a,0),u(l.symbol,c,n,r,s,1))}function u(t,e,n,r,i,a){var s,o;i&&(s=t.valueDeclaration,1!==a||(s?Xl(h_.getNameOfDeclaration(s)):Zl(t.escapedName)))&&(!s||194!==s.kind&&144!==h_.getNameOfDeclaration(s).kind&&t.parent!==n.symbol?r?o=r:2&P(n)&&(o=h_.forEach($i(n),function(e){return ba(e,t.escapedName)&&Fa(e,a)})?void 0:n.symbol.declarations[0]):o=s,o)&&!Se(e,i)&&ge(o,0===a?h_.Diagnostics.Property_0_of_type_1_is_not_assignable_to_string_index_type_2:h_.Diagnostics.Property_0_of_type_1_is_not_assignable_to_numeric_index_type_2,ye(t),ve(e),ve(i))}(e=a&&s&&!(e=r||i)&&2&P(n)?h_.forEach($i(n),function(e){return Fa(e,0)&&Fa(e,1)})?void 0:n.symbol.declarations[0]:e)&&!Se(s,a)&&ge(e,h_.Diagnostics.Numeric_index_type_0_is_not_assignable_to_string_index_type_1,ve(s),ve(a))}function zp(e,t){switch(e.escapedText){case"any":case"number":case"boolean":case"string":case"symbol":case"void":case"object":ge(e,t,e.escapedText)}}function $p(e){if(e)for(var t=!1,n=0;n<e.length;n++){var r=e[n];if(Kd(r),le){r.default?t=!0:t&&ge(r,h_.Diagnostics.Required_type_parameters_may_not_follow_optional_type_parameters);for(var i=0;i<n;i++)e[i].symbol===r.symbol&&ge(r.name,h_.Diagnostics.Duplicate_identifier_0,h_.declarationNameToString(r.name))}}}function Jp(e){if(1!==e.declarations.length){var t=p(e);if(!t.typeParametersChecked){t.typeParametersChecked=!0;t=h_.filter(e.declarations,function(e){return 229===e.kind||230===e.kind});if(!(t.length<=1)&&!function(e,t){for(var n=h_.length(t),r=ja(t),i=0,a=e;i<a.length;i++){var s=a[i],o=h_.length(s.typeParameters);if(o<r||n<o)return;for(var c=0;c<o;c++){var l=s.typeParameters[c],u=t[c];if(l.name.escapedText!==u.symbol.escapedName)return;var d=l.constraint&&Q(l.constraint),p=es(u);if((d||p)&&(!d||!p||!Ao(d,p)))return;d=l.default&&Q(l.default),p=Da(u);if(d&&p&&!Ao(d,p))return}}return 1}(t,be(e).localTypeParameters))for(var n=ye(e),r=0,i=t;r<i.length;r++)ge(i[r].name,h_.Diagnostics.All_declarations_of_0_must_have_identical_type_parameters,n)}}}function qp(e){t=e,i=h_.getSourceFileOfNode(t),function(e){var t=!1,n=!1;if(!Gf(e)&&!Wf(e)&&e.heritageClauses)for(var r=0,i=e.heritageClauses;r<i.length;r++){var a=i[r];if(85===a.token){if(t)return Ee(a,h_.Diagnostics.extends_clause_already_seen);if(n)return Ee(a,h_.Diagnostics.extends_clause_must_precede_implements_clause);if(1<a.types.length)return Ee(a.types[1],h_.Diagnostics.Classes_can_only_extend_a_single_class);t=!0}else{if(h_.Debug.assert(108===a.token),n)return Ee(a,h_.Diagnostics.implements_clause_already_seen);n=!0}n_(a)}}(t)||Xf(t.typeParameters,i),up(e),e.name&&(zp(e.name,h_.Diagnostics.Class_name_cannot_be_0),bp(e,e.name),xp(e,e.name),Cp(e,e.name),Ep(e,e.name)),$p(e.typeParameters),ep(e);for(var t=he(e),n=be(t),r=ia(n),i=V(t),t=(Jp(t),e),a=h_.createUnderscoreEscapedMap(),R=h_.createUnderscoreEscapedMap(),s=0,o=t.members;s<o.length;s++){var c=o[s];if(152===c.kind)for(var l=0,u=c.parameters;l<u.length;l++){var d=u[l];h_.isParameterPropertyDeclaration(d)&&!h_.isBindingPattern(d.name)&&_(a,d.name,d.name.escapedText,3)}else{var p=h_.hasModifier(c,32)?R:a,f=c.name&&h_.getPropertyNameForPropertyNameNode(c.name);if(f)switch(c.kind){case 153:_(p,c.name,f,1);break;case 154:_(p,c.name,f,2);break;case 149:_(p,c.name,f,3);break;case 151:_(p,c.name,f,4)}}}function _(e,t,n,r){var i=e.get(n);i?4&i?4!==r&&ge(t,h_.Diagnostics.Duplicate_identifier_0,h_.getTextOfNode(t)):i&r?ge(t,h_.Diagnostics.Duplicate_identifier_0,h_.getTextOfNode(t)):e.set(n,i|r):e.set(n,r)}if(!h_.isInAmbientContext(e))for(var m=e,g=0,M=m.members;g<M.length;g++){var U=M[g],h=U.name;if(h_.hasModifier(U,32)&&h){var B=h_.getPropertyNameForPropertyNameNode(h);switch(B){case"name":case"length":case"caller":case"arguments":case"prototype":ge(h,h_.Diagnostics.Static_property_0_conflicts_with_built_in_property_Function_0_of_constructor_function_1,B,ni(he(m)))}}}var y,v=h_.getClassExtendsHeritageClauseElement(e);if(v){de<2&&Hf(v.parent,1);t=$i(n);if(t.length&&le){var b,x=t[0],t=zi(n),k=$(t);if(P=v,(b=G(y=k,1)).length&&(b=b[0].declaration)&&h_.hasModifier(b,8)&&(ff(P,Hp(y.symbol))||ge(P,h_.Diagnostics.Cannot_extend_a_class_0_Class_constructor_is_marked_as_private,mr(y.symbol))),Ce(v.expression),h_.some(v.typeArguments)){h_.forEach(v.typeArguments,Ce);for(var S=0,j=ji(k,v.typeArguments,v);S<j.length&&Gd(j[S].typeParameters,v.typeArguments);S++);}Fo(r,ia(x,n.thisType),e.name||e,h_.Diagnostics.Class_0_incorrectly_extends_base_class_1),Fo(i,Do(k),e.name||e,h_.Diagnostics.Class_static_side_0_incorrectly_extends_base_class_static_side_1),540672&t.flags&&!Mi(i)&&ge(e.name||e,h_.Diagnostics.A_mixin_class_must_have_a_constructor_with_a_single_rest_parameter_of_type_any),k.symbol&&32&k.symbol.flags||540672&t.flags||(b=Ki(k,v.typeArguments,v),h_.forEach(b,function(e){return ke(e)!==x})&&ge(v.expression,h_.Diagnostics.Base_constructors_must_all_have_the_same_return_type));for(var T=n,C=x,E=0,K=xe(C);E<K.length;E++){var D,A,N,w=K[E],I=Vp(w);4194304&I.flags||(D=Vp(ba(T,I.escapedName)),A=h_.getDeclarationModifierFlagsFromSymbol(I),h_.Debug.assert(!!D,"derived should point to something, even if it is the base class' declaration."),D&&(D===I?(N=Hp(T.symbol),!(128&A)||N&&h_.hasModifier(N,128)||(199===N.kind?ge(N,h_.Diagnostics.Non_abstract_class_expression_does_not_implement_inherited_abstract_member_0_from_class_1,ye(w),ve(C)):ge(N,h_.Diagnostics.Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_class_2,ve(T),ye(w),ve(C)))):(N=h_.getDeclarationModifierFlagsFromSymbol(D),8&A||8&N||xu(I)&&xu(D)||98308&I.flags&&98308&D.flags||(w=void 0,w=xu(I)?98304&D.flags?h_.Diagnostics.Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_accessor:h_.Diagnostics.Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_property:4&I.flags?h_.Diagnostics.Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_function:h_.Diagnostics.Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_function,ge(h_.getNameOfDeclaration(D.valueDeclaration)||D.valueDeclaration,w,ve(C),ye(I),ve(T))))))}}}var P=h_.getClassImplementsHeritageClauseElements(e);if(P)for(var O=0,z=P;O<z.length;O++){var F,L=z[O];h_.isEntityNameExpression(L.expression)||ge(L.expression,h_.Diagnostics.A_class_can_only_implement_an_identifier_Slashqualified_name_with_optional_type_arguments),Wd(L),le&&(F=Q(L))!==_e&&(Ji(F)?Fo(r,ia(F,n.thisType),e.name||e,h_.Diagnostics.Class_0_incorrectly_implements_interface_1):ge(L,h_.Diagnostics.A_class_may_only_implement_another_class_or_interface))}le&&(Kp(n),qd(e))}function Vp(e){return 1&h_.getCheckFlags(e)?e.target:e}function Hp(e){return h_.forEach(e.declarations,function(e){return h_.isClassLike(e)?e:void 0})}function Gp(e){var t=q(e);if(!(16384&t.flags)){t.flags|=16384;for(var n=0,r=0,i=e.members;r<i.length;r++)var a=i[r],s=function(e,t){pi(e.name)?ge(e.name,h_.Diagnostics.Computed_property_names_are_not_allowed_in_enums):Zl(n=h_.getTextOfPropertyName(e.name))&&"Infinity"!==(n=n)&&"-Infinity"!==n&&"NaN"!==n&&ge(e.name,h_.Diagnostics.An_enum_member_cannot_have_a_numeric_name);if(!e.initializer)return!h_.isInAmbientContext(e.parent)||h_.isConst(e.parent)?void 0!==t?t:void ge(e.name,h_.Diagnostics.Enum_member_must_have_initializer):void 0;var o=e,n=Hi(he(o.parent)),t=h_.isConst(o.parent),e=o.initializer,r=1!==n||Vi(o)?c(e):void 0;if(void 0!==r)t&&"number"==typeof r&&!isFinite(r)&&ge(e,isNaN(r)?h_.Diagnostics.const_enum_member_initializer_was_evaluated_to_disallowed_value_NaN:h_.Diagnostics.const_enum_member_initializer_was_evaluated_to_a_non_finite_value);else{if(1===n)return ge(e,h_.Diagnostics.Computed_values_are_not_permitted_in_an_enum_with_string_valued_members),0;t?ge(e,h_.Diagnostics.In_const_enum_declarations_member_initializer_must_be_constant_expression):h_.isInAmbientContext(o.parent)?ge(e,h_.Diagnostics.In_ambient_enum_declarations_member_initializer_must_be_constant_expression):Fo(Te(e),be(he(o.parent)),e,void 0)}return r;function c(e){switch(e.kind){case 192:var t=c(e.operand);if("number"==typeof t)switch(e.operator){case 37:return t;case 38:return-t;case 52:return~t}break;case 194:var n=c(e.left),r=c(e.right);if("number"==typeof n&&"number"==typeof r)switch(e.operatorToken.kind){case 49:return n|r;case 48:return n&r;case 46:return n>>r;case 47:return n>>>r;case 45:return n<<r;case 50:return n^r;case 39:return n*r;case 41:return n/r;case 37:return n+r;case 38:return n-r;case 42:return n%r}break;case 9:return e.text;case 8:return g_(e),+e.text;case 185:return c(e.expression);case 71:return h_.nodeIsMissing(e)?0:l(e,he(o.parent),e.escapedText);case 180:case 179:var i=e;if(function e(t){return 71===t.kind||179===t.kind&&e(t.expression)||180===t.kind&&e(t.expression)&&9===t.argumentExpression.kind}(i)){var a,s=jd(i.expression);if(s.symbol&&384&s.symbol.flags)return a=void 0,a=179===i.kind?i.name.escapedText:(i=i.argumentExpression,h_.Debug.assert(h_.isLiteralExpression(i)),h_.escapeLeadingUnderscores(i.text)),l(e,s.symbol,a)}}}function l(e,t,n){t=t.exports.get(n);if(t){n=t.valueDeclaration;if(n!==o)return Xn(n,o)?q(n).enumMemberValue:(ge(e,h_.Diagnostics.A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_members_defined_in_other_enums),0)}}}(a,n),n="number"==typeof(q(a).enumMemberValue=s)?s+1:void 0}}function Wp(e){if(le){var t=h_.isGlobalScopeAugmentation(e),n=h_.isInAmbientContext(e),r=(t&&!n&&ge(e.name,h_.Diagnostics.Augmentations_for_the_global_scope_should_have_declare_modifier_unless_they_appear_in_already_ambient_context),h_.isAmbientModule(e));if(ef(e,r?h_.Diagnostics.An_ambient_module_declaration_is_only_allowed_at_the_top_level_in_a_file:h_.Diagnostics.A_namespace_declaration_is_only_allowed_in_a_namespace_or_module))return;Gf(e)||Wf(e)||n||9!==e.name.kind||De(e.name,h_.Diagnostics.Only_ambient_modules_can_use_quoted_names),h_.isIdentifier(e.name)&&(bp(e,e.name),Cp(e,e.name),Ep(e,e.name)),ep(e);var i=he(e);if(512&i.flags&&1<i.declarations.length&&!n&&S_(e,ue.preserveConstEnums||ue.isolatedModules)&&((n=function(){for(var e=0,t=i.declarations;e<t.length;e++){var n=t[e];if((229===n.kind||228===n.kind&&h_.nodeIsPresent(n.body))&&!h_.isInAmbientContext(n))return n}}())&&(h_.getSourceFileOfNode(e)!==h_.getSourceFileOfNode(n)?ge(e.name,h_.Diagnostics.A_namespace_declaration_cannot_be_in_a_different_file_from_a_class_or_function_with_which_it_is_merged):e.pos<n.pos&&ge(e.name,h_.Diagnostics.A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged)),n=h_.getDeclarationOfKind(i,229))&&(n=n,o=h_.getEnclosingBlockScopeContainer(e),n=h_.getEnclosingBlockScopeContainer(n),Qn(o)?Qn(n):!Qn(n)&&o===n)&&(q(e).flags|=32768),r)if(h_.isExternalModuleAugmentation(e)){if((t||33554432&he(e).flags)&&e.body)for(var a=0,s=e.body.statements;a<s.length;a++)!function e(t,n){switch(t.kind){case 208:for(var r=0,i=t.declarationList.declarations;r<i.length;r++)e(i[r],n);break;case 243:case 244:Ee(t,h_.Diagnostics.Exports_and_export_assignments_are_not_permitted_in_module_augmentations);break;case 237:case 238:Ee(t,h_.Diagnostics.Imports_are_not_permitted_in_module_augmentations_Consider_moving_them_to_the_enclosing_external_module);break;case 176:case 226:var a=t.name;if(h_.isBindingPattern(a)){for(var s=0,o=a.elements;s<o.length;s++)e(o[s],n);break}case 229:case 232:case 228:case 230:case 233:case 231:if(n)return;a=he(t);a&&(!(33554432&a.flags)||h_.isExternalModuleAugmentation(a.parent.declarations[0]))}}(s[a],t)}else Qn(e.parent)?t?ge(e.name,h_.Diagnostics.Augmentations_for_the_global_scope_can_only_be_directly_nested_in_external_modules_or_ambient_module_declarations):h_.isExternalModuleNameRelative(h_.getTextOfIdentifierOrLiteral(e.name))&&ge(e.name,h_.Diagnostics.Ambient_module_declaration_cannot_specify_relative_module_name):ge(e.name,t?h_.Diagnostics.Augmentations_for_the_global_scope_can_only_be_directly_nested_in_external_modules_or_ambient_module_declarations:h_.Diagnostics.Ambient_modules_cannot_be_nested_in_other_modules_or_namespaces)}var o;e.body&&(Ce(e.body),h_.isGlobalScopeAugmentation(e)||fp(e))}function Qp(e){switch(e.kind){case 71:return e;case 143:for(;71!==(e=e.left).kind;);return e;case 179:for(;71!==(e=e.expression).kind;);return e}}function Yp(e){var t,n=h_.getExternalModuleName(e);return h_.nodeIsMissing(n)||9===n.kind?(t=234===e.parent.kind&&h_.isAmbientModule(e.parent.parent),265===e.parent.kind||t?!t||!h_.isExternalModuleNameRelative(h_.getTextOfIdentifierOrLiteral(n))||ei(e)||(ge(e,h_.Diagnostics.Import_or_export_declaration_in_an_ambient_module_declaration_cannot_reference_module_through_relative_module_name),0):(ge(n,244===e.kind?h_.Diagnostics.Export_declarations_are_not_permitted_in_a_namespace:h_.Diagnostics.Import_declarations_in_a_namespace_cannot_reference_a_module),0)):(ge(n,h_.Diagnostics.String_literal_expected),0)}function Xp(e){var t,n=he(e),r=dr(n);r!==fe&&(t=(1156031&n.flags?107455:0)|(793064&n.flags?793064:0)|(1920&n.flags?1920:0),r.flags&t&&ge(e,246===e.kind?h_.Diagnostics.Export_declaration_conflicts_with_exported_declaration_of_0:h_.Diagnostics.Import_declaration_conflicts_with_local_declaration_of_0,ye(n)),!ue.isolatedModules||246!==e.kind||107455&r.flags||h_.isInAmbientContext(e)||ge(e,h_.Diagnostics.Cannot_re_export_a_type_when_the_isolatedModules_flag_is_provided))}function Zp(e){bp(e,e.name),Cp(e,e.name),Ep(e,e.name),Xp(e)}function ef(e,t){var n=265===e.parent.kind||234===e.parent.kind||233===e.parent.kind;return n||Ee(e,t),!n}function tf(e){var t,n;Xp(e),e.parent.parent.moduleSpecifier||((n=Zn(t=e.propertyName||e.name,t.escapedText,2998271,void 0,void 0,!0))&&(n===m||Qn(li(n.declarations[0])))?ge(t,h_.Diagnostics.Cannot_export_0_Only_local_declarations_can_be_exported_from_a_module,h_.idText(t)):pr(e))}function nf(e){var t,e=he(e),n=p(e);n.exportsChecked||((t=e.exports.get("export="))&&h_.forEachEntry(e.exports,function(e,t){return"export="!==t})&&(ei(t=ar(t)||t.valueDeclaration)||ge(t,h_.Diagnostics.An_export_assignment_cannot_be_used_in_a_module_with_other_exported_elements)),(t=Er(e))&&t.forEach(function(e,t){var n=e.declarations,e=e.flags;if("__export"!==t&&!(1984&e)){var r=h_.countWhere(n,Dn);if(!(524288&e&&r<=2)&&1<r)for(var i=0,a=n;i<a.length;i++){var s=a[i];rf(s)&&en.add(h_.createDiagnosticForNode(s,h_.Diagnostics.Cannot_redeclare_exported_variable_0,h_.unescapeLeadingUnderscores(t)))}}}),n.exportsChecked=!0)}function rf(e){return 228!==e.kind&&151!==e.kind||!!e.body}function Ce(e){if(e){if(h_.isInJavaScriptFile(e)&&e.jsDoc)for(var R=0,M=e.jsDoc;R<M.length;R++){var U=M[R].tags;h_.forEach(U,Ce)}var B=e.kind;if(Ae)switch(B){case 233:case 229:case 230:case 228:Ae.throwIfCancellationRequested()}switch(B){case 145:return Kd(e);case 146:return zd(e);case 149:case 148:return Gf(L=e)||Wf(L)||function(e){if(h_.isClassLike(e.parent)){if(l_(e.name,h_.Diagnostics.A_computed_property_name_in_a_class_property_declaration_must_directly_refer_to_a_built_in_symbol))return 1}else if(230===e.parent.kind){if(l_(e.name,h_.Diagnostics.A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol))return 1;if(e.initializer)return De(e.initializer,h_.Diagnostics.An_interface_property_cannot_have_an_initializer)}else if(163===e.parent.kind){if(l_(e.name,h_.Diagnostics.A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol))return 1;if(e.initializer)return De(e.initializer,h_.Diagnostics.A_type_literal_property_cannot_have_an_initializer)}return h_.isInAmbientContext(e)&&e.initializer&&Ee(e.initializer,h_.Diagnostics.Initializers_are_not_allowed_in_ambient_contexts)}(L)||i_(L.name),void Np(L);case 160:case 161:case 155:case 156:case 157:return $d(e);case 151:case 150:return u_(L=e)||i_(L.name),pp(L),void(h_.hasModifier(L,128)&&L.body&&ge(L,h_.Diagnostics.Method_0_cannot_have_an_implementation_because_it_is_marked_abstract,h_.declarationNameToString(L.name)));case 152:var t=e,n=($d(t),t.typeParameters&&__(t,t.typeParameters.pos,t.typeParameters.end-t.typeParameters.pos,h_.Diagnostics.Type_parameters_cannot_appear_on_a_constructor_declaration)||t.type&&De(t.type,h_.Diagnostics.Type_annotation_cannot_appear_on_a_constructor_declaration),Ce(t.body),fp(t),he(t));if(t===h_.getDeclarationOfKind(n,t.kind)&&Zd(n),!h_.nodeIsMissing(t.body)&&le){n=t.parent;if(h_.getClassExtendsHeritageClauseElement(n)){Dl(t.parent,n);var n=wl(n),r=Nl(t);if(r){if(n&&ge(r,h_.Diagnostics.A_constructor_cannot_contain_a_super_call_when_its_class_extends_null),h_.some(t.parent.members,function(e){return 149===e.kind&&!h_.hasModifier(e,32)&&!!e.initializer})||h_.some(t.parameters,function(e){return h_.hasModifier(e,92)})){for(var j=void 0,K=0,z=t.body.statements;K<z.length;K++){var $=z[K];if(210===$.kind&&h_.isSuperCall($.expression)){j=$;break}if(!h_.isPrologueDirective($))break}j||ge(t,h_.Diagnostics.A_super_call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_initialized_properties_or_has_parameter_properties)}}else n||ge(t,h_.Diagnostics.Constructors_for_derived_classes_must_contain_a_super_call)}}return;case 153:case 154:return Vd(e);case 159:return Wd(e);case 158:r=e,n=function(e){switch(e.parent.kind){case 187:case 155:case 228:case 186:case 160:case 151:case 150:var t=e.parent;if(e===t.type)return t}}(r);if(n){var i=za(n).typePredicate;if(i){Ce(r.type);var J=r.parameterName;if(h_.isThisTypePredicate(i))po(J);else if(0<=i.parameterIndex)n.parameters[i.parameterIndex].dotDotDotToken?ge(J,h_.Diagnostics.A_type_predicate_cannot_reference_a_rest_parameter):(t=h_.chainDiagnosticMessages(void 0,h_.Diagnostics.A_type_predicate_s_type_must_be_assignable_to_its_parameter_s_type),Fo(i.type,hf(n.parameters[i.parameterIndex]),r.type,void 0,t));else if(J){for(var q=!1,V=0,H=n.parameters;V<H.length;V++){var G=H[V].name;if(h_.isBindingPattern(G)&&function e(t,n,r){for(var i=0,a=t.elements;i<a.length;i++){var s=a[i];if(!h_.isOmittedExpression(s)){if(71===(s=s.name).kind&&s.escapedText===r)return ge(n,h_.Diagnostics.A_type_predicate_cannot_reference_element_0_in_a_binding_pattern,r),1;if((175===s.kind||174===s.kind)&&e(s,n,r))return 1}}}(G,J,i.parameterName)){q=!0;break}}q||ge(r.parameterName,h_.Diagnostics.Cannot_find_parameter_0,i.parameterName)}}}else ge(r,h_.Diagnostics.A_type_predicate_is_only_allowed_in_return_type_position_for_functions_and_methods);return;case 162:return void _s(e);case 163:return F=e,h_.forEach(F.members,Ce),void(le&&(Kp(to(F)),qd(F),Jd(F)));case 164:return void Ce(e.elementType);case 165:return Yf((F=e).elementTypes)||0!==F.elementTypes.length||De(F,h_.Diagnostics.A_tuple_type_element_list_cannot_be_empty),void h_.forEach(F.elementTypes,Ce);case 166:case 167:return void h_.forEach(e.types,Ce);case 168:case 170:return Ce(e.type);case 277:return w=e,O=h_.getJSDocHost(w),void(h_.isClassDeclaration(O)||h_.isClassExpression(O)?(I=h_.getAllJSDocTagsOfKind(O,277),h_.Debug.assert(0<I.length),1<I.length&&ge(I[1],h_.Diagnostics.Class_declarations_cannot_have_more_than_one_augments_or_extends_tag),I=dp(w.class.expression),(P=h_.getClassExtendsHeritageClauseElement(O))&&(P=dp(P.expression))&&I.escapedText!==P.escapedText&&ge(I,h_.Diagnostics.JSDoc_0_1_does_not_match_the_extends_2_clause,h_.idText(w.tagName),h_.idText(I),h_.idText(P))):ge(O,h_.Diagnostics.JSDoc_0_is_not_attached_to_a_class,h_.idText(w.tagName)));case 283:return void(e.typeExpression||ge(e.name,h_.Diagnostics.JSDoc_typedef_tag_should_either_have_a_type_annotation_or_be_followed_by_property_or_member_tags));case 279:return Ce((I=e).typeExpression),void(h_.getParameterSymbolFromJSDoc(I)||ge(I.name,h_.Diagnostics.JSDoc_param_tag_has_name_0_but_there_is_no_parameter_with_that_name,h_.idText(143===I.name.kind?I.name.right:I.name)));case 273:$d(e);case 274:case 271:case 270:case 268:case 269:return void(h_.isInJavaScriptFile(e)||h_.isInJSDoc(e)||De(e,h_.Diagnostics.JSDoc_types_can_only_be_used_inside_documentation_comments));case 267:return Ce(e.type);case 171:return Ce((P=e).objectType),Ce(P.indexType),void Qd(Zs(P),P);case 172:return Ce((O=e).typeParameter),Ce(O.type),void Fo(ma(eo(O)),me,O.typeParameter.constraint);case 228:return w=e,void(le&&(pp(w),a_(w),Tp(w,w.name),bp(w,w.name),xp(w,w.name),Cp(w,w.name),Ep(w,w.name)));case 207:case 234:return yp(e);case 208:return Ip(e);case 210:return m_(N=e),void Te(N.expression);case 211:return m_(N=e),Te(N.expression),Ce(N.thenStatement),209===N.thenStatement.kind&&ge(N.thenStatement,h_.Diagnostics.The_body_of_an_if_statement_cannot_be_the_empty_statement),void Ce(N.elseStatement);case 212:return m_(ce=e),Ce(ce.statement),void Te(ce.expression);case 213:return m_(ce=e),Te(ce.expression),void Ce(ce.statement);case 214:return m_(A=e)||A.initializer&&227===A.initializer.kind&&p_(A.initializer),A.initializer&&(227===A.initializer.kind?h_.forEach(A.initializer.declarations,wp):Te(A.initializer)),A.condition&&Te(A.condition),A.incrementor&&Te(A.incrementor),Ce(A.statement),void(A.locals&&fp(A));case 215:return o_(A=e),oe=Su(A.expression),227===A.initializer.kind?((C=A.initializer.declarations[0])&&h_.isBindingPattern(C.name)&&ge(C.name,h_.Diagnostics.The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern),Pp(A)):(E=Te(C=A.initializer),177===C.kind||178===C.kind?ge(C,h_.Diagnostics.The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern):Se((D=Vs(oe))!==Le?D:me,E)?xd(C,h_.Diagnostics.The_left_hand_side_of_a_for_in_statement_must_be_a_variable_or_a_property_access):ge(C,h_.Diagnostics.The_left_hand_side_of_a_for_in_statement_must_be_of_type_string_or_any)),Sd(oe,17317888)||ge(A.expression,h_.Diagnostics.The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter),Ce(A.statement),void(A.locals&&fp(A));case 216:return o_(D=e),216===D.kind&&(D.awaitModifier?2==(6&h_.getFunctionFlags(h_.getContainingFunction(D)))&&de<5&&Hf(D,16384):ue.downlevelIteration&&de<2&&Hf(D,256)),227===D.initializer.kind?Pp(D):(E=D.initializer,C=Op(D.expression,D.awaitModifier),177===E.kind||178===E.kind?Ad(E,C||_e):(oe=Te(E),xd(E,h_.Diagnostics.The_left_hand_side_of_a_for_of_statement_must_be_a_variable_or_a_property_access),C&&Fo(C,oe,E,void 0))),Ce(D.statement),void(D.locals&&fp(D));case 217:case 218:var a=e;if(!m_(a)){for(var s=a,o=s;o;){if(h_.isFunctionLike(o))return void De(s,h_.Diagnostics.Jump_target_cannot_cross_function_boundary);switch(o.kind){case 222:if(s.label&&o.label.escapedText===s.label.escapedText)return void(217!==s.kind||h_.isIterationStatement(o.statement,!0)||De(s,h_.Diagnostics.A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement));break;case 221:if(218!==s.kind||s.label)break;return;default:if(h_.isIterationStatement(o,!1)&&!s.label)return}o=o.parent}s.label?De(s,218===s.kind?h_.Diagnostics.A_break_statement_can_only_jump_to_a_label_of_an_enclosing_statement:h_.Diagnostics.A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement):De(s,218===s.kind?h_.Diagnostics.A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement:h_.Diagnostics.A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement)}return;case 219:return m_(a=e)||h_.getContainingFunction(a)||Ee(a,h_.Diagnostics.A_return_statement_can_only_be_used_within_a_function_body),void((T=h_.getContainingFunction(a))&&(b=ke(za(T)),pe||a.expression||8192&b.flags?(x=a.expression?Fd(a.expression):we,1&(k=h_.getFunctionFlags(T))||(154===T.kind?a.expression&&ge(a,h_.Diagnostics.Setters_cannot_return_a_value):152===T.kind?a.expression&&!Fo(x,b,a)&&ge(a,h_.Diagnostics.Return_type_of_constructor_signature_must_be_assignable_to_the_instance_type_of_the_class):(h_.getEffectiveReturnTypeNode(T)||Bp(T))&&(2&k?(k=np(b),S=rp(x,a,h_.Diagnostics.The_return_type_of_an_async_function_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member),k&&Fo(S,k,a)):Fo(x,b,a)))):152!==T.kind&&ue.noImplicitReturns&&!jp(T,b)&&ge(a,h_.Diagnostics.Not_all_code_paths_return_a_value)));case 220:return m_(S=e)||16384&S.flags&&Ee(S,h_.Diagnostics.with_statements_are_not_allowed_in_an_async_function_block),Te(S.expression),void(f_(k=h_.getSourceFileOfNode(S))||__(k,k=h_.getSpanOfTokenAtPosition(k,S.pos).start,S.statement.pos-k,h_.Diagnostics.The_with_statement_is_not_supported_All_symbols_in_a_with_block_will_have_type_any));case 221:return m_(v=e),ie=!1,ae=Te(v.expression),se=oc(ae),h_.forEach(v.caseBlock.clauses,function(e){var t,n,r,i;258!==e.kind||ie||(void 0===re?re=e:(__(t=h_.getSourceFileOfNode(v),t=h_.skipTrivia(t.text,e.pos),(0<e.statements.length?e.statements[0].pos:e.end)-t,h_.Diagnostics.A_default_clause_cannot_appear_more_than_once_in_a_switch_statement),ie=!0)),le&&257===e.kind&&(r=oc(n=Te((t=e).expression)),i=ae,r&&se||(n=r?cc(n):n,i=cc(ae)),Nd(i,n)||Lo(n,i,t.expression,void 0)),h_.forEach(e.statements,Ce)}),void(v.caseBlock.locals&&fp(v.caseBlock));case 222:return m_(y=e)||h_.findAncestor(y.parent,function(e){return h_.isFunctionLike(e)?"quit":222===e.kind&&e.label.escapedText===y.label.escapedText?(e=h_.getSourceFileOfNode(y),De(y.label,h_.Diagnostics.Duplicate_label_0,h_.getTextOfNodeFromSourceText(e.text,y.label)),!0):void 0}),void Ce(y.statement);case 223:return m_(x=e)||void 0===x.expression&&(T=x,b=h_.Diagnostics.Line_break_not_permitted_here,f_(h=h_.getSourceFileOfNode(T))||(T=h_.getSpanOfTokenAtPosition(h,T.pos),en.add(h_.createFileDiagnostic(h,h_.textSpanEnd(T),0,b,void 0,void 0,void 0)))),void(x.expression&&Te(x.expression));case 224:return m_(h=e),yp(h.tryBlock),(c=h.catchClause)&&(c.variableDeclaration&&(c.variableDeclaration.type?Ee(c.variableDeclaration.type,h_.Diagnostics.Catch_clause_variable_cannot_have_a_type_annotation):c.variableDeclaration.initializer?Ee(c.variableDeclaration.initializer,h_.Diagnostics.Catch_clause_variable_cannot_have_an_initializer):(ne=c.block.locals)&&h_.forEachKey(c.locals,function(e){var t=ne.get(e);t&&0!=(2&t.flags)&&De(t.valueDeclaration,h_.Diagnostics.Cannot_redeclare_identifier_0_in_catch_clause,e)})),yp(c.block)),void(h.finallyBlock&&yp(h.finallyBlock));case 226:return wp(e);case 176:var c=e,l=c;if(l.dotDotDotToken)g=l.parent.elements,l!==h_.lastOrUndefined(g)?De(l,h_.Diagnostics.A_rest_element_must_be_last_in_a_destructuring_pattern):175===l.name.kind||174===l.name.kind?De(l.name,h_.Diagnostics.A_rest_element_cannot_contain_a_binding_pattern):l.initializer&&__(l,l.initializer.pos-1,1,h_.Diagnostics.A_rest_element_cannot_have_an_initializer);return Np(c);case 229:return(g=e).name||h_.hasModifier(g,512)||Ee(g,h_.Diagnostics.A_class_declaration_without_the_default_modifier_must_have_a_name),qp(g),h_.forEach(g.members,Ce),void fp(g);case 230:var u=e;if(Gf(u)||Wf(u)||function(){var e=!1;if(u.heritageClauses)for(var t=0,n=u.heritageClauses;t<n.length;t++){var r=n[t];if(85!==r.token)return h_.Debug.assert(108===r.token),Ee(r,h_.Diagnostics.Interface_declaration_cannot_have_implements_clause);if(e)return Ee(r,h_.Diagnostics.extends_clause_already_seen);e=!0,n_(r)}}(),$p(u.typeParameters),le){zp(u.name,h_.Diagnostics.Interface_name_cannot_be_0),ep(u);l=he(u);if(Jp(l),u===h_.getDeclarationOfKind(l,230)){var W=be(l),Q=ia(W);if(function(t,e){var n=$i(t);if(n.length<2)return 1;var r=h_.createUnderscoreEscapedMap();h_.forEach(ra(t).declaredProperties,function(e){r.set(e.escapedName,{prop:e,containingType:t})});for(var i=!0,a=0,s=n;a<s.length;a++)for(var o=s[a],c=0,l=xe(ia(o,t.thisType));c<l.length;c++){var u,d,p=l[c],f=r.get(p.escapedName);f?f.containingType!==t&&0===Zo(f.prop,p,No)&&(i=!1,f=ve(f.containingType),u=ve(o),d=h_.chainDiagnosticMessages(void 0,h_.Diagnostics.Named_property_0_of_types_1_and_2_are_not_identical,ye(p),f,u),d=h_.chainDiagnosticMessages(d,h_.Diagnostics.Interface_0_cannot_simultaneously_extend_types_1_and_2,ve(t),f,u),en.add(h_.createDiagnosticForNodeFromMessageChain(e,d))):r.set(p.escapedName,{prop:p,containingType:o})}return i}(W,u.name)){for(var Y=0,X=$i(W);Y<X.length;Y++)Fo(Q,ia(X[Y],W.thisType),u.name,h_.Diagnostics.Interface_0_incorrectly_extends_interface_1);Kp(W)}}Jd(u)}return h_.forEach(h_.getInterfaceBaseTypeNodes(u),function(e){h_.isEntityNameExpression(e.expression)||ge(e.expression,h_.Diagnostics.An_interface_can_only_extend_an_identifier_Slashqualified_name_with_optional_type_arguments),Wd(e)}),h_.forEach(u.members,Ce),void(le&&(qd(u),fp(u)));case 231:return Gf(m=e)||Wf(m),zp(m.name,h_.Diagnostics.Type_alias_name_cannot_be_0),$p(m.typeParameters),Ce(m.type),void fp(m);case 232:return m=e,void(le&&(Gf(m)||Wf(m),zp(m.name,h_.Diagnostics.Enum_name_cannot_be_0),bp(m,m.name),xp(m,m.name),Cp(m,m.name),Ep(m,m.name),ep(m),Gp(m),ee=h_.isConst(m),ue.isolatedModules&&ee&&h_.isInAmbientContext(m)&&ge(m.name,h_.Diagnostics.Ambient_const_enums_are_not_allowed_when_the_isolatedModules_flag_is_provided),_=he(m),m===h_.getDeclarationOfKind(_,m.kind))&&(1<_.declarations.length&&h_.forEach(_.declarations,function(e){h_.isConstEnumDeclaration(e)!==ee&&ge(h_.getNameOfDeclaration(e),h_.Diagnostics.Enum_declarations_must_all_be_const_or_non_const)}),te=!1,h_.forEach(_.declarations,function(e){return 232===e.kind&&!!e.members.length&&void((e=e.members[0]).initializer||(te?ge(e.name,h_.Diagnostics.In_an_enum_with_multiple_declarations_only_one_declaration_can_omit_an_initializer_for_its_first_enum_element):te=!0))})));case 233:return Wp(e);case 238:return void(!ef(_=e,h_.Diagnostics.An_import_declaration_can_only_be_used_in_a_namespace_or_module)&&(Gf(_)||Wf(_)||!h_.hasModifiers(_)||Ee(_,h_.Diagnostics.An_import_declaration_cannot_have_modifiers),Yp(_))&&(_=_.importClause)&&(_.name&&Zp(_),_.namedBindings)&&(240===_.namedBindings.kind?Zp(_.namedBindings):h_.forEach(_.namedBindings.elements,Zp)));case 237:return void(!ef(p=e,h_.Diagnostics.An_import_declaration_can_only_be_used_in_a_namespace_or_module)&&(Gf(p)||Wf(p),h_.isInternalModuleImportEqualsDeclaration(p)||Yp(p))&&(Zp(p),h_.hasModifier(p,1)&&pr(p),h_.isInternalModuleImportEqualsDeclaration(p)?(Z=dr(he(p)))!==fe&&(107455&Z.flags&&(1920&gr(f=Qp(p.moduleReference),108479).flags||ge(f,h_.Diagnostics.Module_0_is_hidden_by_a_local_declaration_with_the_same_name,h_.declarationNameToString(f))),793064&Z.flags)&&zp(p.name,h_.Diagnostics.Import_name_cannot_be_0):Ne>=h_.ModuleKind.ES2015&&!h_.isInAmbientContext(p)&&De(p,h_.Diagnostics.Import_assignment_cannot_be_used_when_targeting_ECMAScript_modules_Consider_using_import_Asterisk_as_ns_from_mod_import_a_from_mod_import_d_from_mod_or_another_module_format_instead)));case 244:return void(ef(f=e,h_.Diagnostics.An_export_declaration_can_only_be_used_in_a_module)||(Gf(f)||Wf(f)||!h_.hasModifiers(f)||Ee(f,h_.Diagnostics.An_export_declaration_cannot_have_modifiers),f.moduleSpecifier&&!Yp(f))||(f.exportClause?(h_.forEach(f.exportClause.elements,tf),Z=!(d=234===f.parent.kind&&h_.isAmbientModule(f.parent.parent))&&234===f.parent.kind&&!f.moduleSpecifier&&h_.isInAmbientContext(f),265===f.parent.kind||d||Z||ge(f,h_.Diagnostics.Export_declarations_are_not_permitted_in_a_namespace)):((d=hr(f,f.moduleSpecifier))&&kr(d)&&ge(f.moduleSpecifier,h_.Diagnostics.Module_0_uses_export_and_cannot_be_used_with_export_Asterisk,ye(d)),Ne!==h_.ModuleKind.System&&Ne!==h_.ModuleKind.ES2015&&Ne!==h_.ModuleKind.ESNext&&Hf(f,32768))));case 243:return void(ef(p=e,h_.Diagnostics.An_export_assignment_can_only_be_used_in_a_module)||(233!==(d=(265===p.parent.kind?p:p.parent).parent).kind||h_.isAmbientModule(d)?(Gf(p)||Wf(p)||!h_.hasModifiers(p)||Ee(p,h_.Diagnostics.An_export_assignment_cannot_have_modifiers),71===p.expression.kind?pr(p):Fd(p.expression),nf(d),h_.isInAmbientContext(p)&&!h_.isEntityNameExpression(p.expression)&&De(p.expression,h_.Diagnostics.The_expression_of_an_export_assignment_must_be_an_identifier_or_qualified_name_in_an_ambient_context),p.isExportEquals&&!h_.isInAmbientContext(p)&&(Ne>=h_.ModuleKind.ES2015?De(p,h_.Diagnostics.Export_assignment_cannot_be_used_when_targeting_ECMAScript_modules_Consider_using_export_default_or_another_module_format_instead):Ne===h_.ModuleKind.System&&De(p,h_.Diagnostics.Export_assignment_is_not_supported_when_module_flag_is_system))):p.isExportEquals?ge(p,h_.Diagnostics.An_export_assignment_cannot_be_used_in_a_namespace):ge(p,h_.Diagnostics.A_default_export_can_only_be_used_in_an_ECMAScript_style_module)));case 209:case 225:return void m_(e);case 247:return void up(e)}}var d,p,Z,f,ee,_,te,m,g,ne,c,h,y,v,re,ie,ae,se,b,x,k,S,T,C,E,D,oe,A,ce,N,w,I,P,O,F,L}function af(e){kt&&kt.push(e)}function sf(e){h_.performance.mark("beforeCheck");var t=q(e);if(!(1&t.flags||ue.skipLibCheck&&e.isDeclarationFile||ue.skipDefaultLibCheck&&e.hasNoDefaultLib)){!function(e){if(h_.isInAmbientContext(e))for(var t=0,n=e.statements;t<n.length;t++){var r=n[t];if((h_.isDeclaration(r)||208===r.kind)&&230!==(r=r).kind&&231!==r.kind&&238!==r.kind&&237!==r.kind&&244!==r.kind&&243!==r.kind&&236!==r.kind&&!h_.hasModifier(r,515)&&Ee(r,h_.Diagnostics.A_declare_modifier_is_required_for_a_top_level_declaration_in_a_d_ts_file))return}}(e),h_.clear(Yt),h_.clear(Xt),St=le&&k?[]:void 0,Lt=!(kt=[]),h_.forEach(e.statements,Ce);for(var n,r,i,a,s,o=0,c=kt;o<c.length;o++){var l=c[o];switch(l.kind){case 186:case 187:case 151:case 150:n=l,a=i=r=void 0,h_.Debug.assert(151!==n.kind||h_.isObjectLiteralMethod(n)),r=h_.getFunctionFlags(n),i=h_.getEffectiveReturnTypeNode(n),a=i&&(2==(3&r)?ap(n):Q(i)),0==(1&r)&&md(n,a),n.body&&(i||ke(za(n)),207===n.body.kind?Ce(n.body):(i=Te(n.body),a&&Fo(2==(3&r)?rp(i,n.body,h_.Diagnostics.The_return_type_of_an_async_function_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member):i,a,n.body)),fp(n));break;case 153:case 154:Vd(l);break;case 199:r=l,h_.forEach(r.members,Ce),fp(r)}}if(h_.isExternalModule(e)&&fp(e),!e.isDeclarationFile)if(St)for(var u=0,d=St;u<d.length;u++){var p=d[u];switch(p.kind){case 265:case 233:s=p,ue.noUnusedLocals&&!h_.isInAmbientContext(s)&&s.locals.forEach(function(e){if(!e.isReferenced&&!e.exportSymbol)for(var t=0,n=e.declarations;t<n.length;t++){var r=n[t];h_.isAmbientModule(r)||mp(r,h_.symbolName(e))}});break;case 229:case 199:y=h=g=m=_=f=s=void 0;s=p;if(ue.noUnusedLocals&&!h_.isInAmbientContext(s)&&s.members)for(var f=0,_=s.members;f<_.length;f++){var m=_[f];if(151===m.kind||149===m.kind)!m.symbol.isReferenced&&h_.hasModifier(m,8)&&ge(m.name,h_.Diagnostics._0_is_declared_but_its_value_is_never_read,h_.symbolName(m.symbol));else if(152===m.kind)for(var g=0,h=m.parameters;g<h.length;g++){var y=h[g];!y.symbol.isReferenced&&h_.hasModifier(y,8)&&ge(y.name,h_.Diagnostics.Property_0_is_declared_but_its_value_is_never_read,h_.symbolName(y.symbol))}}hp(p);break;case 230:hp(p);break;case 207:case 235:case 214:case 215:case 216:_p(p);break;case 152:case 186:case 228:case 187:case 151:case 153:case 154:p.body&&_p(p),hp(p);break;case 150:case 155:case 156:case 157:case 160:case 161:case 231:hp(p)}}St=kt=void 0,h_.isExternalOrCommonJsModule(e)&&nf(e),Yt.length&&(h_.forEach(Yt,kp),h_.clear(Yt)),Xt.length&&(h_.forEach(Xt,Sp),h_.clear(Xt)),t.flags|=1}h_.performance.mark("afterCheck"),h_.performance.measure("Check","beforeCheck","afterCheck")}function of(e,t){try{return Ae=t,n=e,cf(),n?(r=(a=en.getGlobalDiagnostics()).length,sf(n),n=en.getDiagnostics(n.fileName),(i=en.getGlobalDiagnostics())!==a?(a=h_.relativeComplement(a,i,h_.compareDiagnostics),h_.concatenate(a,n)):0===r&&0<i.length?h_.concatenate(i,n):n):(h_.forEach(o.getSourceFiles(),sf),en.getDiagnostics())}finally{Ae=void 0}var n,r,i,a}function cf(){if(!le)throw new Error("Trying to get diagnostics from a type checker that does not produce them.")}function lf(e){if(e)for(;e.parent;){if(220===e.parent.kind&&e.parent.statement===e)return 1;e=e.parent}}function uf(e){switch(e.kind){case 145:case 229:case 230:case 231:case 232:return 1}}function df(e){for(var t=e;t.parent&&143===t.parent.kind;)t=t.parent;return t.parent&&159===t.parent.kind}function pf(e,t){for(var n;(e=h_.getContainingClass(e))&&!(n=t(e)););return n}function ff(e,t){return pf(e,function(e){return e===t})}function _f(e){return void 0!==function(e){for(;143===e.parent.kind;)e=e.parent;return 237===e.parent.kind?e.parent.moduleReference===e&&e.parent:243===e.parent.kind?e.parent.expression===e&&e.parent:void 0}(e)}function mf(t){if(h_.isDeclarationName(t))return he(t.parent);if(h_.isInJavaScriptFile(t)&&179===t.parent.kind&&t.parent===t.parent.parent.left){var e=function(e){switch(h_.getSpecialPropertyAssignmentKind(e.parent.parent)){case 1:case 3:return he(e.parent);case 4:case 2:case 5:return he(e.parent.parent)}}(t);if(e)return e}if(243===t.parent.kind&&h_.isEntityNameExpression(t))return gr(t,2998271);if(179!==t.kind&&_f(t))return e=h_.getAncestor(t,237),h_.Debug.assert(void 0!==e),_r(t,!0);if(h_.isRightSideOfQualifiedNameOrPropertyAccess(t)&&(t=t.parent),function(){for(var e=t;e.parent&&179===e.parent.kind;)e=e.parent;return e.parent&&201===e.parent.kind}()){var n=0,e=(201===t.parent.kind?(n=793064,h_.isExpressionWithTypeArgumentsInClassExtendsClause(t.parent)&&(n|=107455)):n=1920,gr(t,n|=2097152));if(e)return e}if(279===t.parent.kind)return h_.getParameterSymbolFromJSDoc(t.parent);if(145===t.parent.kind&&282===t.parent.parent.kind)return h_.Debug.assert(!h_.isInJavaScriptFile(t)),(e=h_.getTypeParameterFromJsDoc(t.parent))&&e.symbol;if(h_.isPartOfExpression(t)){if(h_.nodeIsMissing(t))return;if(71===t.kind)return h_.isJSXTagName(t)&&au(t)?cu(t.parent):gr(t,107455,!1,!0);if(179===t.kind||143===t.kind)return(e=q(t)).resolvedSymbol||(179===t.kind?Cu:Eu)(t),e.resolvedSymbol}else{if(df(t))return gr(t,n=159===t.parent.kind?793064:1920,!1,!0);if(253===t.parent.kind)return H(mu((e=t.parent).parent.parent),e.name.escapedText)||fe}return 158===t.parent.kind?gr(t,1):void 0}function gf(e){if(265===e.kind)return h_.isExternalModule(e)?Ar(e.symbol):void 0;if(!lf(e)){if(T_(e))return he(e.parent);if(h_.isLiteralComputedPropertyDeclarationName(e))return he(e.parent.parent);if(71===e.kind){if(_f(e))return mf(e);if(176===e.parent.kind&&174===e.parent.parent.kind&&e===e.parent.propertyName){var t=hf(e.parent.parent),t=t&&H(t,e.escapedText);if(t)return t}}switch(e.kind){case 71:case 179:case 143:return mf(e);case 99:var n=h_.getThisContainer(e,!1);if(h_.isFunctionLike(n)){n=za(n);if(n.thisParameter)return n.thisParameter}if(h_.isInExpressionContext(e))return Te(e).symbol;case 169:return po(e).symbol;case 97:return Te(e).symbol;case 123:n=e.parent;return n&&152===n.kind?n.parent.symbol:void 0;case 9:if(h_.isExternalModuleImportEqualsDeclaration(e.parent.parent)&&h_.getExternalModuleImportEqualsDeclarationExpression(e.parent.parent)===e||(238===e.parent.kind||244===e.parent.kind)&&e.parent.moduleSpecifier===e||h_.isInJavaScriptFile(e)&&h_.isRequireCall(e.parent,!1)||h_.isImportCall(e.parent))return hr(e,e);case 8:n=h_.isElementAccessExpression(e.parent)?e.parent.argumentExpression===e?jd(e.parent.expression):void 0:h_.isLiteralTypeNode(e.parent)&&h_.isIndexedAccessTypeNode(e.parent.parent)?Q(e.parent.parent.objectType):void 0;return n&&H(n,h_.escapeLeadingUnderscores(e.text));case 79:return he(e.parent);default:return}}}function hf(e){var t,n,r;return lf(e)?_e:h_.isPartOfTypeNode(e)?(t=Q(e))&&h_.isExpressionWithTypeArgumentsInClassImplementsClause(e)?ia(t,(r=hf(h_.getContainingClass(e))).thisType):t:h_.isPartOfExpression(e)?yf(e):h_.isExpressionWithTypeArgumentsInClassExtendsClause(e)?(t=$i(r=be(he(h_.getContainingClass(e))))[0])&&ia(t,r.thisType):uf(e)?be(n=he(e)):71===(t=e).kind&&uf(t.parent)&&t.parent.name===t?(n=gf(e))&&be(n):h_.isDeclaration(e)?V(n=he(e)):T_(e)?(n=gf(e))&&V(n):h_.isBindingPattern(e)?yi(e.parent,!0):_f(e)?(r=(n=gf(e))&&be(n))!==_e?r:V(n):_e}function yf(e){return lo(jd(e=h_.isRightSideOfQualifiedNameOrPropertyAccess(e)?e.parent:e))}function vf(e){return!(h_.isGeneratedIdentifier(e)||!(e=h_.getParseTreeNode(e,h_.isIdentifier))||179===e.parent.kind&&e.parent.name===e||zf(e)!==M)}function bf(e){var t,n,e=hr(e.parent,e);return!(e&&!h_.isShorthandAmbientModuleSymbol(e))||(t=kr(e),void 0===(n=p(e=br(e))).exportsSomeValue&&(n.exportsSomeValue=t?!!(107455&e.flags):h_.forEachEntry(Er(e),function(e){return(e=ur(e))&&!!(107455&e.flags)})),n.exportsSomeValue)}function xf(e,t){if(e=h_.getParseTreeNode(e,h_.isIdentifier)){r=zf(e,(i=(r=e).parent)&&h_.isModuleOrEnumDeclaration(i)&&r===i.name);if(r){if(1048576&r.flags){i=Ar(r.exportSymbol);if(!t&&944&i.flags)return;r=i}var n=Nr(r);if(n)return 512&n.flags&&265===n.valueDeclaration.kind?(t=n.valueDeclaration)!==h_.getSourceFileOfNode(e)?void 0:t:h_.findAncestor(e.parent,function(e){return h_.isModuleOrEnumDeclaration(e)&&he(e)===n})}}var r,i}function kf(e){if(e=h_.getParseTreeNode(e,h_.isIdentifier)){e=zf(e);if(lr(e,107455))return ar(e)}}function Sf(e){var t,n,r,i;return!!(418&e.flags)&&(void 0===(t=p(e)).isDeclarationWithCollidingName&&(n=h_.getEnclosingBlockScopeContainer(e.valueDeclaration),h_.isStatementWithLocals(n))&&(r=q(e.valueDeclaration),Zn(n.parent,e.escapedName,107455,void 0,void 0,!1)?t.isDeclarationWithCollidingName=!0:131072&r.flags?(e=262144&r.flags,r=h_.isIterationStatement(n,!1),i=207===n.kind&&h_.isIterationStatement(n.parent,!1),t.isDeclarationWithCollidingName=!(h_.isBlockScopedContainerTopLevel(n)||e&&(r||i))):t.isDeclarationWithCollidingName=!1),t.isDeclarationWithCollidingName)}function Tf(e){if(!h_.isGeneratedIdentifier(e)&&(e=h_.getParseTreeNode(e,h_.isIdentifier))){e=zf(e);if(e&&Sf(e))return e.valueDeclaration}}function Cf(e){if(e=h_.getParseTreeNode(e,h_.isDeclaration)){e=he(e);if(e)return Sf(e)}return!1}function Ef(e){switch(e.kind){case 237:case 239:case 240:case 242:case 246:return Af(he(e)||fe);case 244:var t=e.exportClause;return t&&h_.forEach(t.elements,Ef);case 243:return!e.expression||71!==e.expression.kind||Af(he(e)||fe)}return!1}function Df(e){return!(void 0===(e=h_.getParseTreeNode(e,h_.isImportEqualsDeclaration))||265!==e.parent.kind||!h_.isInternalModuleImportEqualsDeclaration(e))&&Af(he(e))&&e.moduleReference&&!h_.nodeIsMissing(e.moduleReference)}function Af(e){e=dr(e);return e===fe||107455&e.flags&&(ue.preserveConstEnums||!Nf(e))}function Nf(e){return Cd(e)||e.constEnumOnlyModule}function wf(e){var t;return!!h_.nodeIsPresent(e.body)&&(1<(t=$a(he(e))).length||1===t.length&&t[0].declaration!==e)}function If(e){return pe&&!Ba(e)&&e.initializer&&!h_.hasModifier(e,92)}function Pf(e){return pe&&Ba(e)&&!e.initializer&&h_.hasModifier(e,92)}function Of(e){return q(e).flags}function Ff(e){return Gp(e.parent),q(e).enumMemberValue}function Lf(e){switch(e.kind){case 264:case 179:case 180:return!0}return!1}function Rf(e){return 264===e.kind?Ff(e):(e=q(e).resolvedSymbol)&&8&e.flags&&h_.isConstEnumDeclaration(e.valueDeclaration.parent)?Ff(e.valueDeclaration):void 0}function Mf(e,t){if(!(e=h_.getParseTreeNode(e,h_.isEntityName)))return h_.TypeReferenceSerializationKind.Unknown;if(t&&!(t=h_.getParseTreeNode(t)))return h_.TypeReferenceSerializationKind.Unknown;var n=gr(e,107455,!0,!1,t),e=gr(e,793064,!0,!1,t);if(n&&n===e){t=xs(!1);if(t&&n===t)return h_.TypeReferenceSerializationKind.Promise;t=V(n);if(t&&Ui(t))return h_.TypeReferenceSerializationKind.TypeWithConstructSignatureAndValue}return e?(n=be(e))===_e?h_.TypeReferenceSerializationKind.Unknown:1&n.flags?h_.TypeReferenceSerializationKind.ObjectType:Sd(n,15360)?h_.TypeReferenceSerializationKind.VoidNullableOrNeverType:Sd(n,136)?h_.TypeReferenceSerializationKind.BooleanType:Sd(n,84)?h_.TypeReferenceSerializationKind.NumberLikeType:Sd(n,262178)?h_.TypeReferenceSerializationKind.StringLikeType:uc(n)?h_.TypeReferenceSerializationKind.ArrayLikeType:Sd(n,512)?h_.TypeReferenceSerializationKind.ESSymbolType:32768&n.flags&&0<G(n,0).length?h_.TypeReferenceSerializationKind.TypeWithCallSignature:rc(n)?h_.TypeReferenceSerializationKind.ArrayLikeType:h_.TypeReferenceSerializationKind.ObjectType:h_.TypeReferenceSerializationKind.ObjectType}function Uf(e,t,n,r){e=he(e),e=!e||133120&e.flags?_e:lc(V(e));8192&n&&(e=mc(e,2048)),ri().buildTypeDisplay(e,r,t,n)}function Bf(e,t,n,r){e=za(e);ri().buildTypeDisplay(ke(e),r,t,n)}function jf(e,t,n,r){e=xc(yf(e));ri().buildTypeDisplay(e,r,t,n)}function Kf(e){return It.has(h_.escapeLeadingUnderscores(e))}function zf(e,t){var n=q(e).resolvedSymbol;return n||(n=e,Zn(n=t&&(t=e.parent,h_.isDeclaration(t))&&e===t.name?li(t):n,e.escapedText,3253183,void 0,void 0,!0))}function $f(e){if(!h_.isGeneratedIdentifier(e)&&(e=h_.getParseTreeNode(e,h_.isIdentifier))){e=zf(e);if(e)return wr(e).valueDeclaration}}function Jf(e){return!!h_.isConst(e)&&!!(96&(e=V(he(e))).flags&&1048576&e.flags)}function qf(e,t){e=V(he(e));t.writeStringLiteral(ti(e))}function Vf(e){e=h_.getExternalModuleName(e),e=yr(e,e,void 0);if(e)return h_.getDeclarationOfKind(e,265)}function Hf(e,t){if((c&t)!==t&&ue.importHelpers){var n=h_.getSourceFileOfNode(e);if(h_.isEffectiveExternalModule(n,ue)&&!h_.isInAmbientContext(e)){var r,i=l=l||vr(n,h_.externalHelpersModuleNameText,h_.Diagnostics.This_syntax_requires_an_imported_helper_but_module_0_cannot_be_found,e)||fe;if(i!==fe)for(var a=t&~c,s=1;s<=65536;s<<=1)a&s&&(r=function(e){switch(e){case 1:return"__extends";case 2:return"__assign";case 4:return"__rest";case 8:return"__decorate";case 16:return"__metadata";case 32:return"__param";case 64:return"__awaiter";case 128:return"__generator";case 256:return"__values";case 512:return"__read";case 1024:return"__spread";case 2048:return"__await";case 4096:return"__asyncGenerator";case 8192:return"__asyncDelegator";case 16384:return"__asyncValues";case 32768:return"__exportStar";case 65536:return"__makeTemplateObject";default:h_.Debug.fail("Unrecognized helper")}}(s),Yn(i.exports,h_.escapeLeadingUnderscores(r),107455)||ge(e,h_.Diagnostics.This_syntax_requires_an_imported_helper_named_1_but_module_0_has_no_exported_member_1,h_.externalHelpersModuleNameText,r));c|=t}}}function Gf(e){if(e.decorators){if(!h_.nodeCanBeDecorated(e))return 151!==e.kind||h_.nodeIsPresent(e.body)?Ee(e,h_.Diagnostics.Decorators_are_not_valid_here):Ee(e,h_.Diagnostics.A_decorator_can_only_decorate_a_method_implementation_not_an_overload);if(153===e.kind||154===e.kind){var t=h_.getAllAccessorDeclarations(e.parent.members,e);if(t.firstAccessor.decorators&&e===t.secondAccessor)return Ee(e,h_.Diagnostics.Decorators_cannot_be_applied_to_multiple_get_Slashset_accessors_of_the_same_name)}}return!1}function Wf(e){var t,n,r,i,a=!!(a=e).modifiers&&(function(e){switch(e.kind){case 153:case 154:case 152:case 149:case 148:case 151:case 150:case 157:case 233:case 238:case 237:case 244:case 243:case 186:case 187:case 146:return;default:if(234===e.parent.kind||265===e.parent.kind)return;switch(e.kind){case 228:return Qf(e,120);case 229:return Qf(e,117);case 230:case 208:case 231:return 1;case 232:return Qf(e,76);default:return h_.Debug.fail(),0}}}(a)?Ee(a,h_.Diagnostics.Modifiers_cannot_appear_here):void 0);if(void 0!==a)return a;for(var s=0,o=0,c=e.modifiers;o<c.length;o++){var l=c[o];if(131!==l.kind){if(148===e.kind||150===e.kind)return De(l,h_.Diagnostics._0_modifier_cannot_appear_on_a_type_member,h_.tokenToString(l.kind));if(157===e.kind)return De(l,h_.Diagnostics._0_modifier_cannot_appear_on_an_index_signature,h_.tokenToString(l.kind))}switch(l.kind){case 76:if(232!==e.kind&&229===e.parent.kind)return De(e,h_.Diagnostics.A_class_member_cannot_have_the_0_keyword,h_.tokenToString(76));break;case 114:case 113:case 112:var u=Xr(h_.modifierToFlag(l.kind));if(28&s)return De(l,h_.Diagnostics.Accessibility_modifier_already_seen);if(32&s)return De(l,h_.Diagnostics._0_modifier_must_precede_1_modifier,u,"static");if(64&s)return De(l,h_.Diagnostics._0_modifier_must_precede_1_modifier,u,"readonly");if(256&s)return De(l,h_.Diagnostics._0_modifier_must_precede_1_modifier,u,"async");if(234===e.parent.kind||265===e.parent.kind)return De(l,h_.Diagnostics._0_modifier_cannot_appear_on_a_module_or_namespace_element,u);if(128&s)return 112===l.kind?De(l,h_.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,u,"abstract"):De(l,h_.Diagnostics._0_modifier_must_precede_1_modifier,u,"abstract");s|=h_.modifierToFlag(l.kind);break;case 115:if(32&s)return De(l,h_.Diagnostics._0_modifier_already_seen,"static");if(64&s)return De(l,h_.Diagnostics._0_modifier_must_precede_1_modifier,"static","readonly");if(256&s)return De(l,h_.Diagnostics._0_modifier_must_precede_1_modifier,"static","async");if(234===e.parent.kind||265===e.parent.kind)return De(l,h_.Diagnostics._0_modifier_cannot_appear_on_a_module_or_namespace_element,"static");if(146===e.kind)return De(l,h_.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"static");if(128&s)return De(l,h_.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,"static","abstract");s|=32,t=l;break;case 131:if(64&s)return De(l,h_.Diagnostics._0_modifier_already_seen,"readonly");if(149!==e.kind&&148!==e.kind&&157!==e.kind&&146!==e.kind)return De(l,h_.Diagnostics.readonly_modifier_can_only_appear_on_a_property_declaration_or_index_signature);s|=64,i=l;break;case 84:if(1&s)return De(l,h_.Diagnostics._0_modifier_already_seen,"export");if(2&s)return De(l,h_.Diagnostics._0_modifier_must_precede_1_modifier,"export","declare");if(128&s)return De(l,h_.Diagnostics._0_modifier_must_precede_1_modifier,"export","abstract");if(256&s)return De(l,h_.Diagnostics._0_modifier_must_precede_1_modifier,"export","async");if(229===e.parent.kind)return De(l,h_.Diagnostics._0_modifier_cannot_appear_on_a_class_element,"export");if(146===e.kind)return De(l,h_.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"export");s|=1;break;case 79:u=(265===e.parent.kind?e:e.parent).parent;if(233===u.kind&&!h_.isAmbientModule(u))return De(l,h_.Diagnostics.A_default_export_can_only_be_used_in_an_ECMAScript_style_module);s|=512;break;case 124:if(2&s)return De(l,h_.Diagnostics._0_modifier_already_seen,"declare");if(256&s)return De(l,h_.Diagnostics._0_modifier_cannot_be_used_in_an_ambient_context,"async");if(229===e.parent.kind)return De(l,h_.Diagnostics._0_modifier_cannot_appear_on_a_class_element,"declare");if(146===e.kind)return De(l,h_.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"declare");if(h_.isInAmbientContext(e.parent)&&234===e.parent.kind)return De(l,h_.Diagnostics.A_declare_modifier_cannot_be_used_in_an_already_ambient_context);s|=2,n=l;break;case 117:if(128&s)return De(l,h_.Diagnostics._0_modifier_already_seen,"abstract");if(229!==e.kind){if(151!==e.kind&&149!==e.kind&&153!==e.kind&&154!==e.kind)return De(l,h_.Diagnostics.abstract_modifier_can_only_appear_on_a_class_method_or_property_declaration);if(229!==e.parent.kind||!h_.hasModifier(e.parent,128))return De(l,h_.Diagnostics.Abstract_methods_can_only_appear_within_an_abstract_class);if(32&s)return De(l,h_.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,"static","abstract");if(8&s)return De(l,h_.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,"private","abstract")}s|=128;break;case 120:if(256&s)return De(l,h_.Diagnostics._0_modifier_already_seen,"async");if(2&s||h_.isInAmbientContext(e.parent))return De(l,h_.Diagnostics._0_modifier_cannot_be_used_in_an_ambient_context,"async");if(146===e.kind)return De(l,h_.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"async");s|=256,r=l}}{if(152===e.kind)return 32&s?De(t,h_.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"static"):128&s?De(t,h_.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"abstract"):256&s?De(r,h_.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"async"):64&s?De(i,h_.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"readonly"):void 0;if((238===e.kind||237===e.kind)&&2&s)return De(n,h_.Diagnostics.A_0_modifier_cannot_be_used_with_an_import_declaration,"declare");if(146===e.kind&&92&s&&h_.isBindingPattern(e.name))return De(e,h_.Diagnostics.A_parameter_property_may_not_be_declared_using_a_binding_pattern);if(146===e.kind&&92&s&&e.dotDotDotToken)return De(e,h_.Diagnostics.A_parameter_property_cannot_be_declared_using_a_rest_parameter);if(256&s){switch(a=r,e.kind){case 151:case 228:case 186:case 187:return!1}return De(a,h_.Diagnostics._0_modifier_cannot_be_used_here,"async")}}}function Qf(e,t){return 1<e.modifiers.length||e.modifiers[0].kind!==t}function Yf(e){var t,n;if(e&&e.hasTrailingComma)return t=e.end-",".length,n=e.end,__(e[0],t,n-t,h_.Diagnostics.Trailing_comma_not_allowed)}function Xf(e,t){var n;return!!Yf(e)||(e&&0===e.length?__(t,n=e.pos-"<".length,h_.skipTrivia(t.text,e.end)+">".length-n,h_.Diagnostics.Type_parameter_list_cannot_be_empty):void 0)}function Zf(n){var e=h_.getSourceFileOfNode(n);return Gf(n)||Wf(n)||Xf(n.typeParameters,e)||function(e){for(var t=!1,n=e.length,r=0;r<n;r++){var i=e[r];if(i.dotDotDotToken){if(r!==n-1)return De(i.dotDotDotToken,h_.Diagnostics.A_rest_parameter_must_be_last_in_a_parameter_list);if(h_.isBindingPattern(i.name))return De(i.name,h_.Diagnostics.A_rest_element_cannot_contain_a_binding_pattern);if(i.questionToken)return De(i.questionToken,h_.Diagnostics.A_rest_parameter_cannot_be_optional);if(i.initializer)return De(i.name,h_.Diagnostics.A_rest_parameter_cannot_have_an_initializer)}else if(i.questionToken){if(t=!0,i.initializer)return De(i.name,h_.Diagnostics.Parameter_cannot_have_question_mark_and_initializer)}else if(t&&!i.initializer)return De(i.name,h_.Diagnostics.A_required_parameter_cannot_follow_an_optional_parameter)}}(n.parameters)||function(e){if(187===n.kind){var t=n;if(h_.getLineAndCharacterOfPosition(e,t.equalsGreaterThanToken.pos).line!==h_.getLineAndCharacterOfPosition(e,t.equalsGreaterThanToken.end).line)return De(t.equalsGreaterThanToken,h_.Diagnostics.Line_terminator_not_permitted_before_arrow)}}(e)}function e_(r,e){return Yf(e)||function(e){var t,n;if(e&&0===e.length)return __(t=h_.getSourceFileOfNode(r),n=e.pos-"<".length,h_.skipTrivia(t.text,e.end)+">".length-n,h_.Diagnostics.Type_argument_list_cannot_be_empty)}(e)}function t_(e){if(e)for(var t=0,n=e;t<n.length;t++){var r=n[t];if(200===r.kind)return __(r,r.pos,0,h_.Diagnostics.Argument_expression_expected)}}function n_(e){var t,n=e.types;if(!Yf(n))return n&&0===n.length?(t=h_.tokenToString(e.token),__(e,n.pos,0,h_.Diagnostics._0_list_cannot_be_empty,t)):void h_.forEach(n,r_)}function r_(e){return e_(e,e.typeArguments)}function i_(e){144===e.kind&&194===e.expression.kind&&26===e.expression.operatorToken.kind&&De(e.expression,h_.Diagnostics.A_comma_expression_is_not_allowed_in_a_computed_property_name)}function a_(e){return e.asteriskToken&&(h_.Debug.assert(228===e.kind||186===e.kind||151===e.kind),h_.isInAmbientContext(e)?De(e.asteriskToken,h_.Diagnostics.Generators_are_not_allowed_in_an_ambient_context):!e.body&&De(e.asteriskToken,h_.Diagnostics.An_overload_signature_cannot_be_declared_as_a_generator))}function s_(e,t){return e&&De(e,t)}function o_(e){if(!m_(e)){if(216===e.kind&&e.awaitModifier&&0==(16384&e.flags))return De(e.awaitModifier,h_.Diagnostics.A_for_await_of_statement_is_only_allowed_within_an_async_function_or_async_generator);if(227===e.initializer.kind){var t=e.initializer;if(!p_(t)){var n=t.declarations;if(!n.length)return;if(1<n.length)return r=215===e.kind?h_.Diagnostics.Only_a_single_variable_declaration_is_allowed_in_a_for_in_statement:h_.Diagnostics.Only_a_single_variable_declaration_is_allowed_in_a_for_of_statement,Ee(t.declarations[1],r);var r,t=n[0];if(t.initializer)return r=215===e.kind?h_.Diagnostics.The_variable_declaration_of_a_for_in_statement_cannot_have_an_initializer:h_.Diagnostics.The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer,De(t.name,r);if(t.type)return De(t,r=215===e.kind?h_.Diagnostics.The_left_hand_side_of_a_for_in_statement_cannot_use_a_type_annotation:h_.Diagnostics.The_left_hand_side_of_a_for_of_statement_cannot_use_a_type_annotation)}}}}function c_(e){if(e.parameters.length===(153===e.kind?1:2))return h_.getThisParameter(e)}function l_(e,t){if(h_.isDynamicName(e))return De(e,t)}function u_(e){if((t=e).modifiers&&178===t.parent.kind&&(!(2&h_.getFunctionFlags(t))||1<t.modifiers.length)&&Ee(t,h_.Diagnostics.Modifiers_cannot_appear_here)||Zf(e)||a_(e))return 1;var t;if(178===e.parent.kind){if(s_(e.questionToken,h_.Diagnostics.An_object_member_cannot_be_declared_optional))return 1;if(void 0===e.body)return __(e,e.end-1,";".length,h_.Diagnostics._0_expected,"{")}return h_.isClassLike(e.parent)?h_.isInAmbientContext(e)?l_(e.name,h_.Diagnostics.A_computed_property_name_in_an_ambient_context_must_directly_refer_to_a_built_in_symbol):!e.body&&l_(e.name,h_.Diagnostics.A_computed_property_name_in_a_method_overload_must_directly_refer_to_a_built_in_symbol):230===e.parent.kind?l_(e.name,h_.Diagnostics.A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol):163===e.parent.kind&&l_(e.name,h_.Diagnostics.A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol)}function d_(e){return 9===e.kind||8===e.kind||192===e.kind&&38===e.operator&&8===e.operand.kind}function p_(e){var t=e.declarations;return Yf(e.declarations)||!e.declarations.length&&__(e,t.pos,t.end-t.pos,h_.Diagnostics.Variable_declaration_list_cannot_be_empty)}function f_(e){return 0<e.parseDiagnostics.length}function Ee(e,t,n,r,i){var a=h_.getSourceFileOfNode(e);if(!f_(a))return e=h_.getSpanOfTokenAtPosition(a,e.pos),en.add(h_.createFileDiagnostic(a,e.start,e.length,t,n,r,i)),!0}function __(e,t,n,r,i,a,s){e=h_.getSourceFileOfNode(e);if(!f_(e))return en.add(h_.createFileDiagnostic(e,t,n,r,i,a,s)),!0}function De(e,t,n,r,i){if(!f_(h_.getSourceFileOfNode(e)))return en.add(h_.createDiagnosticForNode(e,t,n,r,i)),!0}function m_(e){if(h_.isInAmbientContext(e)){if(h_.isAccessor(e.parent))return q(e).hasReportedStatementInAmbientContext=!0;if(!q(e).hasReportedStatementInAmbientContext&&h_.isFunctionLike(e.parent))return q(e).hasReportedStatementInAmbientContext=Ee(e,h_.Diagnostics.An_implementation_cannot_be_declared_in_ambient_contexts);if(207===e.parent.kind||234===e.parent.kind||265===e.parent.kind){var t=q(e.parent);if(!t.hasReportedStatementInAmbientContext)return t.hasReportedStatementInAmbientContext=Ee(e,h_.Diagnostics.Statements_are_not_allowed_in_ambient_contexts)}}}function g_(e){var t,n,r;4&e.numericLiteralFlags&&(t=void 0,1<=de?t=h_.Diagnostics.Octal_literals_are_not_available_when_targeting_ECMAScript_5_and_higher_Use_the_syntax_0:h_.isChildOfNodeWithKind(e,173)?t=h_.Diagnostics.Octal_literal_types_must_use_ES2015_syntax_Use_the_syntax_0:h_.isChildOfNodeWithKind(e,264)&&(t=h_.Diagnostics.Octal_literals_are_not_allowed_in_enums_members_initializer_Use_the_syntax_0),t)&&(r=((n=h_.isPrefixUnaryExpression(e.parent)&&38===e.parent.operator)?"-":"")+"0o"+e.text,De(n?e.parent:e,t,r))}}}(ts=ts||{}),function(u){function d(e){e=u.createNode(e,-1,-1);return e.flags|=8,e}function p(e,t){return e!==t&&(R(e,t),F(e,t),t.startsOnNewLine&&(e.startsOnNewLine=!0),u.aggregateTransformFlags(e)),e}function f(e,t){if(e){if(u.isNodeArray(e))return e}else e=[];return e.pos=-1,e.end=-1,e.hasTrailingComma=t,e}function n(e){if(void 0!==e){var t,n=d(e.kind);for(t in n.flags|=e.flags,R(n,e),e)!n.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(n[t]=e[t]);return n}}function r(e){return"number"==typeof e?i(e+""):"boolean"==typeof e?(e?_:M)():u.isString(e)?a(e):((t=a(u.getTextOfIdentifierOrLiteral(e=e))).textSourceNode=e,t);var t}function i(e){var t=d(8);return t.text=e,t.numericLiteralFlags=0,t}function a(e){var t=d(9);return t.text=e,t}function s(e,t){var n=d(71);return n.escapedText=u.escapeLeadingUnderscores(e),n.originalKeywordKind=e?u.stringToToken(e):0,n.autoGenerateKind=0,n.autoGenerateId=0,t&&(n.typeArguments=f(t)),n}u.updateNode=p,u.createNodeArray=f,u.getSynthesizedClone=n,u.createLiteral=r,u.createNumericLiteral=i,u.createIdentifier=s,u.updateIdentifier=function(e,t){return e.typeArguments!==t?p(s(u.idText(e),t),e):e};var o,c=0;function l(e){return d(e)}function _(){return d(101)}function M(){return d(86)}function U(e,t){var n=d(143);return n.left=e,n.right=I(t),n}function B(e){var t=d(144);return t.expression=e,t}function j(e,t,n){var r=d(145);return r.name=I(e),r.constraint=t,r.default=n,r}function K(e,t,n,r,i,a,s){var o=d(146);return o.decorators=P(e),o.modifiers=P(t),o.dotDotDotToken=n,o.name=I(r),o.questionToken=i,o.type=a,o.initializer=s?u.parenthesizeExpressionForList(s):void 0,o}function z(e){var t=d(147);return t.expression=u.parenthesizeForAccess(e),t}function $(e,t,n,r,i){var a=d(148);return a.modifiers=P(e),a.name=I(t),a.questionToken=n,a.type=r,a.initializer=i,a}function J(e,t,n,r,i,a){var s=d(149);return s.decorators=P(e),s.modifiers=P(t),s.name=I(n),s.questionToken=r,s.type=i,s.initializer=a,s}function q(e,t,n,r,i){e=m(150,e,t,n);return e.name=I(r),e.questionToken=i,e}function V(e,t,n,r,i,a,s,o,c){var l=d(151);return l.decorators=P(e),l.modifiers=P(t),l.asteriskToken=n,l.name=I(r),l.questionToken=i,l.typeParameters=P(a),l.parameters=f(s),l.type=o,l.body=c,l}function H(e,t,n,r){var i=d(152);return i.decorators=P(e),i.modifiers=P(t),i.typeParameters=void 0,i.parameters=f(n),i.type=void 0,i.body=r,i}function G(e,t,n,r,i,a){var s=d(153);return s.decorators=P(e),s.modifiers=P(t),s.name=I(n),s.typeParameters=void 0,s.parameters=f(r),s.type=i,s.body=a,s}function W(e,t,n,r,i){var a=d(154);return a.decorators=P(e),a.modifiers=P(t),a.name=I(n),a.typeParameters=void 0,a.parameters=f(r),a.body=i,a}function Q(e,t,n,r){var i=d(157);return i.decorators=P(e),i.modifiers=P(t),i.parameters=f(n),i.type=r,i}function m(e,t,n,r){e=d(e);return e.typeParameters=P(t),e.parameters=P(n),e.type=r,e}function e(e,t,n,r){return e.typeParameters!==t||e.parameters!==n||e.type!==r?p(m(e.kind,t,n,r),e):e}function Y(e,t){var n=d(158);return n.parameterName=I(e),n.type=t,n}function X(e,t){var n=d(159);return n.typeName=I(e),n.typeArguments=t&&u.parenthesizeTypeParameters(t),n}function Z(e){var t=d(162);return t.exprName=e,t}function ee(e){var t=d(163);return t.members=f(e),t}function te(e){var t=d(164);return t.elementType=u.parenthesizeArrayTypeMember(e),t}function ne(e){var t=d(165);return t.elementTypes=f(e),t}function g(e,t){e=d(e);return e.types=u.parenthesizeElementTypeMembers(t),e}function t(e,t){return e.types!==t?p(g(e.kind,t),e):e}function re(e){var t=d(168);return t.type=e,t}function ie(e){var t=d(170);return t.operator=127,t.type=u.parenthesizeElementTypeMember(e),t}function ae(e,t){var n=d(171);return n.objectType=u.parenthesizeElementTypeMember(e),n.indexType=t,n}function se(e,t,n,r){var i=d(172);return i.readonlyToken=e,i.typeParameter=t,i.questionToken=n,i.type=r,i}function oe(e){var t=d(173);return t.literal=e,t}function ce(e){var t=d(174);return t.elements=f(e),t}function le(e){var t=d(175);return t.elements=f(e),t}function ue(e,t,n,r){var i=d(176);return i.dotDotDotToken=e,i.propertyName=I(t),i.name=I(n),i.initializer=r,i}function de(e,t){var n=d(177);return n.elements=u.parenthesizeListElements(f(e)),t&&(n.multiLine=!0),n}function pe(e,t){var n=d(178);return n.properties=f(e),t&&(n.multiLine=!0),n}function fe(e,t){var n=d(179);return n.expression=u.parenthesizeForAccess(e),n.name=I(t),L(n,131072),n}function _e(e,t){var n=d(180);return n.expression=u.parenthesizeForAccess(e),n.argumentExpression=u.isString(e=t)||"number"==typeof e?r(e):e,n}function h(e,t,n){var r=d(181);return r.expression=u.parenthesizeForAccess(e),r.typeArguments=P(t),r.arguments=u.parenthesizeListElements(f(n)),r}function me(e,t,n){var r=d(182);return r.expression=u.parenthesizeForNew(e),r.typeArguments=P(t),r.arguments=n?u.parenthesizeListElements(f(n)):void 0,r}function ge(e,t){var n=d(183);return n.tag=u.parenthesizeForAccess(e),n.template=t,n}function he(e,t){var n=d(184);return n.type=e,n.expression=u.parenthesizePrefixOperand(t),n}function ye(e){var t=d(185);return t.expression=e,t}function y(e,t,n,r,i,a,s){var o=d(186);return o.modifiers=P(e),o.asteriskToken=t,o.name=I(n),o.typeParameters=P(r),o.parameters=f(i),o.type=a,o.body=s,o}function v(e,t,n,r,i,a){var s=d(187);return s.modifiers=P(e),s.typeParameters=P(t),s.parameters=f(n),s.type=r,s.equalsGreaterThanToken=i||d(36),s.body=u.parenthesizeConciseBody(a),s}function ve(e){var t=d(188);return t.expression=u.parenthesizePrefixOperand(e),t}function be(e){var t=d(189);return t.expression=u.parenthesizePrefixOperand(e),t}function b(e){var t=d(190);return t.expression=u.parenthesizePrefixOperand(e),t}function xe(e){var t=d(191);return t.expression=u.parenthesizePrefixOperand(e),t}function x(e,t){var n=d(192);return n.operator=e,n.operand=u.parenthesizePrefixOperand(t),n}function k(e,t){var n=d(193);return n.operand=u.parenthesizePostfixOperand(e),n.operator=t,n}function S(e,t,n){var r=d(194),t="number"==typeof(t=t)?l(t):t,i=t.kind;return r.left=u.parenthesizeBinaryOperand(i,e,!0,void 0),r.operatorToken=t,r.right=u.parenthesizeBinaryOperand(i,n,!1,r.left),r}function ke(e,t,n,r,i){var a=d(195);return a.condition=u.parenthesizeForConditionalHead(e),a.questionToken=i?t:d(55),a.whenTrue=u.parenthesizeSubexpressionOfConditionalExpression(i?n:t),a.colonToken=i?r:d(56),a.whenFalse=u.parenthesizeSubexpressionOfConditionalExpression(i||n),a}function Se(e,t){var n=d(196);return n.head=e,n.templateSpans=f(t),n}function Te(e,t){var n=d(197);return n.asteriskToken=e&&39===e.kind?e:void 0,n.expression=e&&39!==e.kind?e:t,n}function Ce(e){var t=d(198);return t.expression=u.parenthesizeExpressionForList(e),t}function Ee(e,t,n,r,i){var a=d(199);return a.decorators=void 0,a.modifiers=P(e),a.name=I(t),a.typeParameters=P(n),a.heritageClauses=P(r),a.members=f(i),a}function De(e,t){var n=d(201);return n.expression=u.parenthesizeForAccess(t),n.typeArguments=P(e),n}function Ae(e,t){var n=d(202);return n.expression=e,n.type=t,n}function Ne(e){var t=d(203);return t.expression=u.parenthesizeForAccess(e),t}function we(e,t){var n=d(204);return n.keywordToken=e,n.name=t,n}function Ie(e,t){var n=d(205);return n.expression=e,n.literal=t,n}function T(e,t){var n=d(207);return n.statements=f(e),t&&(n.multiLine=t),n}function Pe(e,t){var n=d(208);return n.decorators=void 0,n.modifiers=P(e),n.declarationList=u.isArray(t)?E(t):t,n}function Oe(e){var t=d(210);return t.expression=u.parenthesizeExpressionForExpressionStatement(e),t}function Fe(e,t,n){var r=d(211);return r.expression=e,r.thenStatement=t,r.elseStatement=n,r}function Le(e,t){var n=d(212);return n.statement=e,n.expression=t,n}function Re(e,t){var n=d(213);return n.expression=e,n.statement=t,n}function Me(e,t,n,r){var i=d(214);return i.initializer=e,i.condition=t,i.incrementor=n,i.statement=r,i}function Ue(e,t,n){var r=d(215);return r.initializer=e,r.expression=t,r.statement=n,r}function Be(e,t,n,r){var i=d(216);return i.awaitModifier=e,i.initializer=t,i.expression=n,i.statement=r,i}function je(e){var t=d(217);return t.label=I(e),t}function Ke(e){var t=d(218);return t.label=I(e),t}function ze(e){var t=d(219);return t.expression=e,t}function $e(e,t){var n=d(220);return n.expression=e,n.statement=t,n}function Je(e,t){var n=d(221);return n.expression=u.parenthesizeExpressionForList(e),n.caseBlock=t,n}function qe(e,t){var n=d(222);return n.label=I(e),n.statement=t,n}function Ve(e){var t=d(223);return t.expression=e,t}function He(e,t,n){var r=d(224);return r.tryBlock=e,r.catchClause=t,r.finallyBlock=n,r}function C(e,t,n){var r=d(226);return r.name=I(e),r.type=t,r.initializer=void 0!==n?u.parenthesizeExpressionForList(n):void 0,r}function E(e,t){var n=d(227);return n.flags|=3&t,n.declarations=f(e),n}function Ge(e,t,n,r,i,a,s,o){var c=d(228);return c.decorators=P(e),c.modifiers=P(t),c.asteriskToken=n,c.name=I(r),c.typeParameters=P(i),c.parameters=f(a),c.type=s,c.body=o,c}function We(e,t,n,r,i,a){var s=d(229);return s.decorators=P(e),s.modifiers=P(t),s.name=I(n),s.typeParameters=P(r),s.heritageClauses=P(i),s.members=f(a),s}function Qe(e,t,n,r,i,a){var s=d(230);return s.decorators=P(e),s.modifiers=P(t),s.name=I(n),s.typeParameters=P(r),s.heritageClauses=P(i),s.members=f(a),s}function Ye(e,t,n,r,i){var a=d(231);return a.decorators=P(e),a.modifiers=P(t),a.name=I(n),a.typeParameters=P(r),a.type=i,a}function Xe(e,t,n,r){var i=d(232);return i.decorators=P(e),i.modifiers=P(t),i.name=I(n),i.members=f(r),i}function Ze(e,t,n,r,i){var a=d(233);return a.flags|=532&i,a.decorators=P(e),a.modifiers=P(t),a.name=n,a.body=r,a}function et(e){var t=d(234);return t.statements=f(e),t}function tt(e){var t=d(235);return t.clauses=f(e),t}function nt(e){var t=d(236);return t.name=I(e),t}function rt(e,t,n,r){var i=d(237);return i.decorators=P(e),i.modifiers=P(t),i.name=I(n),i.moduleReference=r,i}function it(e,t,n,r){var i=d(238);return i.decorators=P(e),i.modifiers=P(t),i.importClause=n,i.moduleSpecifier=r,i}function at(e,t){var n=d(239);return n.name=e,n.namedBindings=t,n}function st(e){var t=d(240);return t.name=e,t}function ot(e){var t=d(241);return t.elements=f(e),t}function ct(e,t){var n=d(242);return n.propertyName=e,n.name=t,n}function D(e,t,n,r){var i=d(243);return i.decorators=P(e),i.modifiers=P(t),i.isExportEquals=n,i.expression=r,i}function A(e,t,n,r){var i=d(244);return i.decorators=P(e),i.modifiers=P(t),i.exportClause=n,i.moduleSpecifier=r,i}function N(e){var t=d(245);return t.elements=f(e),t}function w(e,t){var n=d(246);return n.propertyName=I(e),n.name=I(t),n}function lt(e){var t=d(248);return t.expression=e,t}function ut(e,t,n){var r=d(249);return r.openingElement=e,r.children=f(t),r.closingElement=n,r}function dt(e,t){var n=d(250);return n.tagName=e,n.attributes=t,n}function pt(e,t){var n=d(251);return n.tagName=e,n.attributes=t,n}function ft(e){var t=d(252);return t.tagName=e,t}function _t(e,t){var n=d(253);return n.name=e,n.initializer=t,n}function mt(e){var t=d(254);return t.properties=f(e),t}function gt(e){var t=d(255);return t.expression=e,t}function ht(e,t){var n=d(256);return n.dotDotDotToken=e,n.expression=t,n}function yt(e,t){var n=d(257);return n.expression=u.parenthesizeExpressionForList(e),n.statements=f(t),n}function vt(e){var t=d(258);return t.statements=f(e),t}function bt(e,t){var n=d(259);return n.token=e,n.types=f(t),n}function xt(e,t){var n=d(260);return n.variableDeclaration=u.isString(e)?C(e):e,n.block=t,n}function kt(e,t){var n=d(261);return n.name=I(e),n.questionToken=void 0,n.initializer=void 0!==t?u.parenthesizeExpressionForList(t):void 0,n}function St(e,t){var n=d(262);return n.name=I(e),n.objectAssignmentInitializer=void 0!==t?u.parenthesizeExpressionForList(t):void 0,n}function Tt(e){var t=d(263);return t.expression=void 0!==e?u.parenthesizeExpressionForList(e):void 0,t}function Ct(e,t){var n=d(264);return n.name=I(e),n.initializer=t&&u.parenthesizeExpressionForList(t),n}function Et(e,t){var n=d(288);return n.expression=e,n.original=t,F(n,t),n}function Dt(e){if(u.nodeIsSynthesized(e)&&!u.isParseTreeNode(e)&&!e.original&&!e.emitNode&&!e.id){if(289===e.kind)return e.elements;if(u.isBinaryExpression(e)&&26===e.operatorToken.kind)return[e.left,e.right]}return e}function At(e){var t=d(289);return t.elements=f(u.sameFlatMap(e,Dt)),t}function Nt(e){var t=u.createNode(266);return t.sourceFiles=e,t}function I(e){return u.isString(e)?s(e):e}function P(e){return e?f(e):void 0}function O(e){if(!e.emitNode){if(u.isParseTreeNode(e)){if(265===e.kind)return e.emitNode={annotatedNodes:[e]};O(u.getSourceFileOfNode(e)).annotatedNodes.push(e)}e.emitNode={}}return e.emitNode}function F(e,t){return t&&(e.pos=t.pos,e.end=t.end),e}function L(e,t){return O(e).flags=t,e}function wt(e){e=e.emitNode;return e&&e.leadingComments}function It(e,t){return O(e).leadingComments=t,e}function Pt(e){e=e.emitNode;return e&&e.trailingComments}function Ot(e,t){return O(e).trailingComments=t,e}function R(e,t){var n,r,i,a,s,o,c,l;return(e.original=t)&&(t=t.emitNode)&&(e.emitNode=(n=e.emitNode,r=t.flags,i=t.leadingComments,a=t.trailingComments,s=t.commentRange,o=t.sourceMapRange,c=t.tokenSourceMapRanges,l=t.constantValue,t=t.helpers,n=n||{},i&&(n.leadingComments=u.addRange(i.slice(),n.leadingComments)),a&&(n.trailingComments=u.addRange(a.slice(),n.trailingComments)),r&&(n.flags=r),s&&(n.commentRange=s),o&&(n.sourceMapRange=o),c&&(n.tokenSourceMapRanges=function(e,t){for(var n in t=t||[],e)t[n]=e[n];return t}(c,n.tokenSourceMapRanges)),void 0!==l&&(n.constantValue=l),t&&(n.helpers=u.addRange(n.helpers,t)),n)),e}u.createTempVariable=function(e){var t=s("");return t.autoGenerateKind=1,t.autoGenerateId=c,c++,e&&e(t),t},u.createLoopVariable=function(){var e=s("");return e.autoGenerateKind=2,e.autoGenerateId=c,c++,e},u.createUniqueName=function(e){e=s(e);return e.autoGenerateKind=3,e.autoGenerateId=c,c++,e},u.getGeneratedNameForNode=function(e){var t=s("");return t.autoGenerateKind=4,t.autoGenerateId=c,t.original=e,c++,t},u.createToken=l,u.createSuper=function(){return d(97)},u.createThis=function(){return d(99)},u.createNull=function(){return d(95)},u.createTrue=_,u.createFalse=M,u.createQualifiedName=U,u.updateQualifiedName=function(e,t,n){return e.left!==t||e.right!==n?p(U(t,n),e):e},u.createComputedPropertyName=B,u.updateComputedPropertyName=function(e,t){return e.expression!==t?p(B(t),e):e},u.createTypeParameterDeclaration=j,u.updateTypeParameterDeclaration=function(e,t,n,r){return e.name!==t||e.constraint!==n||e.default!==r?p(j(t,n,r),e):e},u.createParameter=K,u.updateParameter=function(e,t,n,r,i,a,s,o){return e.decorators!==t||e.modifiers!==n||e.dotDotDotToken!==r||e.name!==i||e.questionToken!==a||e.type!==s||e.initializer!==o?p(K(t,n,r,i,a,s,o),e):e},u.createDecorator=z,u.updateDecorator=function(e,t){return e.expression!==t?p(z(t),e):e},u.createPropertySignature=$,u.updatePropertySignature=function(e,t,n,r,i,a){return e.modifiers!==t||e.name!==n||e.questionToken!==r||e.type!==i||e.initializer!==a?p($(t,n,r,i,a),e):e},u.createProperty=J,u.updateProperty=function(e,t,n,r,i,a,s){return e.decorators!==t||e.modifiers!==n||e.name!==r||e.questionToken!==i||e.type!==a||e.initializer!==s?p(J(t,n,r,i,a,s),e):e},u.createMethodSignature=q,u.updateMethodSignature=function(e,t,n,r,i,a){return e.typeParameters!==t||e.parameters!==n||e.type!==r||e.name!==i||e.questionToken!==a?p(q(t,n,r,i,a),e):e},u.createMethod=V,u.updateMethod=function(e,t,n,r,i,a,s,o,c,l){return e.decorators!==t||e.modifiers!==n||e.asteriskToken!==r||e.name!==i||e.questionToken!==a||e.typeParameters!==s||e.parameters!==o||e.type!==c||e.body!==l?p(V(t,n,r,i,a,s,o,c,l),e):e},u.createConstructor=H,u.updateConstructor=function(e,t,n,r,i){return e.decorators!==t||e.modifiers!==n||e.parameters!==r||e.body!==i?p(H(t,n,r,i),e):e},u.createGetAccessor=G,u.updateGetAccessor=function(e,t,n,r,i,a,s){return e.decorators!==t||e.modifiers!==n||e.name!==r||e.parameters!==i||e.type!==a||e.body!==s?p(G(t,n,r,i,a,s),e):e},u.createSetAccessor=W,u.updateSetAccessor=function(e,t,n,r,i,a){return e.decorators!==t||e.modifiers!==n||e.name!==r||e.parameters!==i||e.body!==a?p(W(t,n,r,i,a),e):e},u.createCallSignature=function(e,t,n){return m(155,e,t,n)},u.updateCallSignature=e,u.createConstructSignature=function(e,t,n){return m(156,e,t,n)},u.updateConstructSignature=e,u.createIndexSignature=Q,u.updateIndexSignature=function(e,t,n,r,i){return e.parameters!==r||e.type!==i||e.decorators!==t||e.modifiers!==n?p(Q(t,n,r,i),e):e},u.createSignatureDeclaration=m,u.createKeywordTypeNode=d,u.createTypePredicateNode=Y,u.updateTypePredicateNode=function(e,t,n){return e.parameterName!==t||e.type!==n?p(Y(t,n),e):e},u.createTypeReferenceNode=X,u.updateTypeReferenceNode=function(e,t,n){return e.typeName!==t||e.typeArguments!==n?p(X(t,n),e):e},u.createFunctionTypeNode=function(e,t,n){return m(160,e,t,n)},u.updateFunctionTypeNode=e,u.createConstructorTypeNode=function(e,t,n){return m(161,e,t,n)},u.updateConstructorTypeNode=e,u.createTypeQueryNode=Z,u.updateTypeQueryNode=function(e,t){return e.exprName!==t?p(Z(t),e):e},u.createTypeLiteralNode=ee,u.updateTypeLiteralNode=function(e,t){return e.members!==t?p(ee(t),e):e},u.createArrayTypeNode=te,u.updateArrayTypeNode=function(e,t){return e.elementType!==t?p(te(t),e):e},u.createTupleTypeNode=ne,u.updateTypleTypeNode=function(e,t){return e.elementTypes!==t?p(ne(t),e):e},u.createUnionTypeNode=function(e){return g(166,e)},u.updateUnionTypeNode=t,u.createIntersectionTypeNode=function(e){return g(167,e)},u.updateIntersectionTypeNode=t,u.createUnionOrIntersectionTypeNode=g,u.createParenthesizedType=re,u.updateParenthesizedType=function(e,t){return e.type!==t?p(re(t),e):e},u.createThisTypeNode=function(){return d(169)},u.createTypeOperatorNode=ie,u.updateTypeOperatorNode=function(e,t){return e.type!==t?p(ie(t),e):e},u.createIndexedAccessTypeNode=ae,u.updateIndexedAccessTypeNode=function(e,t,n){return e.objectType!==t||e.indexType!==n?p(ae(t,n),e):e},u.createMappedTypeNode=se,u.updateMappedTypeNode=function(e,t,n,r,i){return e.readonlyToken!==t||e.typeParameter!==n||e.questionToken!==r||e.type!==i?p(se(t,n,r,i),e):e},u.createLiteralTypeNode=oe,u.updateLiteralTypeNode=function(e,t){return e.literal!==t?p(oe(t),e):e},u.createObjectBindingPattern=ce,u.updateObjectBindingPattern=function(e,t){return e.elements!==t?p(ce(t),e):e},u.createArrayBindingPattern=le,u.updateArrayBindingPattern=function(e,t){return e.elements!==t?p(le(t),e):e},u.createBindingElement=ue,u.updateBindingElement=function(e,t,n,r,i){return e.propertyName!==n||e.dotDotDotToken!==t||e.name!==r||e.initializer!==i?p(ue(t,n,r,i),e):e},u.createArrayLiteral=de,u.updateArrayLiteral=function(e,t){return e.elements!==t?p(de(t,e.multiLine),e):e},u.createObjectLiteral=pe,u.updateObjectLiteral=function(e,t){return e.properties!==t?p(pe(t,e.multiLine),e):e},u.createPropertyAccess=fe,u.updatePropertyAccess=function(e,t,n){return e.expression!==t||e.name!==n?p(L(fe(t,n),u.getEmitFlags(e)),e):e},u.createElementAccess=_e,u.updateElementAccess=function(e,t,n){return e.expression!==t||e.argumentExpression!==n?p(_e(t,n),e):e},u.createCall=h,u.updateCall=function(e,t,n,r){return e.expression!==t||e.typeArguments!==n||e.arguments!==r?p(h(t,n,r),e):e},u.createNew=me,u.updateNew=function(e,t,n,r){return e.expression!==t||e.typeArguments!==n||e.arguments!==r?p(me(t,n,r),e):e},u.createTaggedTemplate=ge,u.updateTaggedTemplate=function(e,t,n){return e.tag!==t||e.template!==n?p(ge(t,n),e):e},u.createTypeAssertion=he,u.updateTypeAssertion=function(e,t,n){return e.type!==t||e.expression!==n?p(he(t,n),e):e},u.createParen=ye,u.updateParen=function(e,t){return e.expression!==t?p(ye(t),e):e},u.createFunctionExpression=y,u.updateFunctionExpression=function(e,t,n,r,i,a,s,o){return e.name!==r||e.modifiers!==t||e.asteriskToken!==n||e.typeParameters!==i||e.parameters!==a||e.type!==s||e.body!==o?p(y(t,n,r,i,a,s,o),e):e},u.createArrowFunction=v,u.updateArrowFunction=function(e,t,n,r,i,a,s){var o,a=void 0===s?(o=e.equalsGreaterThanToken,u.cast(a,u.isConciseBody)):(o=u.cast(a,function(e){return 36===e.kind}),s);return e.modifiers!==t||e.typeParameters!==n||e.parameters!==r||e.type!==i||e.equalsGreaterThanToken!==o||e.body!==a?p(v(t,n,r,i,o,a),e):e},u.createDelete=ve,u.updateDelete=function(e,t){return e.expression!==t?p(ve(t),e):e},u.createTypeOf=be,u.updateTypeOf=function(e,t){return e.expression!==t?p(be(t),e):e},u.createVoid=b,u.updateVoid=function(e,t){return e.expression!==t?p(b(t),e):e},u.createAwait=xe,u.updateAwait=function(e,t){return e.expression!==t?p(xe(t),e):e},u.createPrefix=x,u.updatePrefix=function(e,t){return e.operand!==t?p(x(e.operator,t),e):e},u.createPostfix=k,u.updatePostfix=function(e,t){return e.operand!==t?p(k(t,e.operator),e):e},u.createBinary=S,u.updateBinary=function(e,t,n,r){return e.left!==t||e.right!==n?p(S(t,r||e.operatorToken,n),e):e},u.createConditional=ke,u.updateConditional=function e(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(2===r.length)return e(t,n,t.questionToken,r[0],t.colonToken,r[1]);u.Debug.assert(4===r.length);var a=r[0],s=r[1],o=r[2],c=r[3];return t.condition!==n||t.questionToken!==a||t.whenTrue!==s||t.colonToken!==o||t.whenFalse!==c?p(ke(n,a,s,o,c),t):t},u.createTemplateExpression=Se,u.updateTemplateExpression=function(e,t,n){return e.head!==t||e.templateSpans!==n?p(Se(t,n),e):e},u.createTemplateHead=function(e){var t=d(14);return t.text=e,t},u.createTemplateMiddle=function(e){var t=d(15);return t.text=e,t},u.createTemplateTail=function(e){var t=d(16);return t.text=e,t},u.createNoSubstitutionTemplateLiteral=function(e){var t=d(13);return t.text=e,t},u.createYield=Te,u.updateYield=function(e,t,n){return e.expression!==n||e.asteriskToken!==t?p(Te(t,n),e):e},u.createSpread=Ce,u.updateSpread=function(e,t){return e.expression!==t?p(Ce(t),e):e},u.createClassExpression=Ee,u.updateClassExpression=function(e,t,n,r,i,a){return e.modifiers!==t||e.name!==n||e.typeParameters!==r||e.heritageClauses!==i||e.members!==a?p(Ee(t,n,r,i,a),e):e},u.createOmittedExpression=function(){return d(200)},u.createExpressionWithTypeArguments=De,u.updateExpressionWithTypeArguments=function(e,t,n){return e.typeArguments!==t||e.expression!==n?p(De(t,n),e):e},u.createAsExpression=Ae,u.updateAsExpression=function(e,t,n){return e.expression!==t||e.type!==n?p(Ae(t,n),e):e},u.createNonNullExpression=Ne,u.updateNonNullExpression=function(e,t){return e.expression!==t?p(Ne(t),e):e},u.createMetaProperty=we,u.updateMetaProperty=function(e,t){return e.name!==t?p(we(e.keywordToken,t),e):e},u.createTemplateSpan=Ie,u.updateTemplateSpan=function(e,t,n){return e.expression!==t||e.literal!==n?p(Ie(t,n),e):e},u.createSemicolonClassElement=function(){return d(206)},u.createBlock=T,u.updateBlock=function(e,t){return e.statements!==t?p(T(t,e.multiLine),e):e},u.createVariableStatement=Pe,u.updateVariableStatement=function(e,t,n){return e.modifiers!==t||e.declarationList!==n?p(Pe(t,n),e):e},u.createEmptyStatement=function(){return d(209)},u.createStatement=Oe,u.updateStatement=function(e,t){return e.expression!==t?p(Oe(t),e):e},u.createIf=Fe,u.updateIf=function(e,t,n,r){return e.expression!==t||e.thenStatement!==n||e.elseStatement!==r?p(Fe(t,n,r),e):e},u.createDo=Le,u.updateDo=function(e,t,n){return e.statement!==t||e.expression!==n?p(Le(t,n),e):e},u.createWhile=Re,u.updateWhile=function(e,t,n){return e.expression!==t||e.statement!==n?p(Re(t,n),e):e},u.createFor=Me,u.updateFor=function(e,t,n,r,i){return e.initializer!==t||e.condition!==n||e.incrementor!==r||e.statement!==i?p(Me(t,n,r,i),e):e},u.createForIn=Ue,u.updateForIn=function(e,t,n,r){return e.initializer!==t||e.expression!==n||e.statement!==r?p(Ue(t,n,r),e):e},u.createForOf=Be,u.updateForOf=function(e,t,n,r,i){return e.awaitModifier!==t||e.initializer!==n||e.expression!==r||e.statement!==i?p(Be(t,n,r,i),e):e},u.createContinue=je,u.updateContinue=function(e,t){return e.label!==t?p(je(t),e):e},u.createBreak=Ke,u.updateBreak=function(e,t){return e.label!==t?p(Ke(t),e):e},u.createReturn=ze,u.updateReturn=function(e,t){return e.expression!==t?p(ze(t),e):e},u.createWith=$e,u.updateWith=function(e,t,n){return e.expression!==t||e.statement!==n?p($e(t,n),e):e},u.createSwitch=Je,u.updateSwitch=function(e,t,n){return e.expression!==t||e.caseBlock!==n?p(Je(t,n),e):e},u.createLabel=qe,u.updateLabel=function(e,t,n){return e.label!==t||e.statement!==n?p(qe(t,n),e):e},u.createThrow=Ve,u.updateThrow=function(e,t){return e.expression!==t?p(Ve(t),e):e},u.createTry=He,u.updateTry=function(e,t,n,r){return e.tryBlock!==t||e.catchClause!==n||e.finallyBlock!==r?p(He(t,n,r),e):e},u.createDebuggerStatement=function(){return d(225)},u.createVariableDeclaration=C,u.updateVariableDeclaration=function(e,t,n,r){return e.name!==t||e.type!==n||e.initializer!==r?p(C(t,n,r),e):e},u.createVariableDeclarationList=E,u.updateVariableDeclarationList=function(e,t){return e.declarations!==t?p(E(t,e.flags),e):e},u.createFunctionDeclaration=Ge,u.updateFunctionDeclaration=function(e,t,n,r,i,a,s,o,c){return e.decorators!==t||e.modifiers!==n||e.asteriskToken!==r||e.name!==i||e.typeParameters!==a||e.parameters!==s||e.type!==o||e.body!==c?p(Ge(t,n,r,i,a,s,o,c),e):e},u.createClassDeclaration=We,u.updateClassDeclaration=function(e,t,n,r,i,a,s){return e.decorators!==t||e.modifiers!==n||e.name!==r||e.typeParameters!==i||e.heritageClauses!==a||e.members!==s?p(We(t,n,r,i,a,s),e):e},u.createInterfaceDeclaration=Qe,u.updateInterfaceDeclaration=function(e,t,n,r,i,a,s){return e.decorators!==t||e.modifiers!==n||e.name!==r||e.typeParameters!==i||e.heritageClauses!==a||e.members!==s?p(Qe(t,n,r,i,a,s),e):e},u.createTypeAliasDeclaration=Ye,u.updateTypeAliasDeclaration=function(e,t,n,r,i,a){return e.decorators!==t||e.modifiers!==n||e.name!==r||e.typeParameters!==i||e.type!==a?p(Ye(t,n,r,i,a),e):e},u.createEnumDeclaration=Xe,u.updateEnumDeclaration=function(e,t,n,r,i){return e.decorators!==t||e.modifiers!==n||e.name!==r||e.members!==i?p(Xe(t,n,r,i),e):e},u.createModuleDeclaration=Ze,u.updateModuleDeclaration=function(e,t,n,r,i){return e.decorators!==t||e.modifiers!==n||e.name!==r||e.body!==i?p(Ze(t,n,r,i,e.flags),e):e},u.createModuleBlock=et,u.updateModuleBlock=function(e,t){return e.statements!==t?p(et(t),e):e},u.createCaseBlock=tt,u.updateCaseBlock=function(e,t){return e.clauses!==t?p(tt(t),e):e},u.createNamespaceExportDeclaration=nt,u.updateNamespaceExportDeclaration=function(e,t){return e.name!==t?p(nt(t),e):e},u.createImportEqualsDeclaration=rt,u.updateImportEqualsDeclaration=function(e,t,n,r,i){return e.decorators!==t||e.modifiers!==n||e.name!==r||e.moduleReference!==i?p(rt(t,n,r,i),e):e},u.createImportDeclaration=it,u.updateImportDeclaration=function(e,t,n,r,i){return e.decorators!==t||e.modifiers!==n||e.importClause!==r||e.moduleSpecifier!==i?p(it(t,n,r,i),e):e},u.createImportClause=at,u.updateImportClause=function(e,t,n){return e.name!==t||e.namedBindings!==n?p(at(t,n),e):e},u.createNamespaceImport=st,u.updateNamespaceImport=function(e,t){return e.name!==t?p(st(t),e):e},u.createNamedImports=ot,u.updateNamedImports=function(e,t){return e.elements!==t?p(ot(t),e):e},u.createImportSpecifier=ct,u.updateImportSpecifier=function(e,t,n){return e.propertyName!==t||e.name!==n?p(ct(t,n),e):e},u.createExportAssignment=D,u.updateExportAssignment=function(e,t,n,r){return e.decorators!==t||e.modifiers!==n||e.expression!==r?p(D(t,n,e.isExportEquals,r),e):e},u.createExportDeclaration=A,u.updateExportDeclaration=function(e,t,n,r,i){return e.decorators!==t||e.modifiers!==n||e.exportClause!==r||e.moduleSpecifier!==i?p(A(t,n,r,i),e):e},u.createNamedExports=N,u.updateNamedExports=function(e,t){return e.elements!==t?p(N(t),e):e},u.createExportSpecifier=w,u.updateExportSpecifier=function(e,t,n){return e.propertyName!==t||e.name!==n?p(w(t,n),e):e},u.createExternalModuleReference=lt,u.updateExternalModuleReference=function(e,t){return e.expression!==t?p(lt(t),e):e},u.createJsxElement=ut,u.updateJsxElement=function(e,t,n,r){return e.openingElement!==t||e.children!==n||e.closingElement!==r?p(ut(t,n,r),e):e},u.createJsxSelfClosingElement=dt,u.updateJsxSelfClosingElement=function(e,t,n){return e.tagName!==t||e.attributes!==n?p(dt(t,n),e):e},u.createJsxOpeningElement=pt,u.updateJsxOpeningElement=function(e,t,n){return e.tagName!==t||e.attributes!==n?p(pt(t,n),e):e},u.createJsxClosingElement=ft,u.updateJsxClosingElement=function(e,t){return e.tagName!==t?p(ft(t),e):e},u.createJsxAttribute=_t,u.updateJsxAttribute=function(e,t,n){return e.name!==t||e.initializer!==n?p(_t(t,n),e):e},u.createJsxAttributes=mt,u.updateJsxAttributes=function(e,t){return e.properties!==t?p(mt(t),e):e},u.createJsxSpreadAttribute=gt,u.updateJsxSpreadAttribute=function(e,t){return e.expression!==t?p(gt(t),e):e},u.createJsxExpression=ht,u.updateJsxExpression=function(e,t){return e.expression!==t?p(ht(e.dotDotDotToken,t),e):e},u.createCaseClause=yt,u.updateCaseClause=function(e,t,n){return e.expression!==t||e.statements!==n?p(yt(t,n),e):e},u.createDefaultClause=vt,u.updateDefaultClause=function(e,t){return e.statements!==t?p(vt(t),e):e},u.createHeritageClause=bt,u.updateHeritageClause=function(e,t){return e.types!==t?p(bt(e.token,t),e):e},u.createCatchClause=xt,u.updateCatchClause=function(e,t,n){return e.variableDeclaration!==t||e.block!==n?p(xt(t,n),e):e},u.createPropertyAssignment=kt,u.updatePropertyAssignment=function(e,t,n){return e.name!==t||e.initializer!==n?p(kt(t,n),e):e},u.createShorthandPropertyAssignment=St,u.updateShorthandPropertyAssignment=function(e,t,n){return e.name!==t||e.objectAssignmentInitializer!==n?p(St(t,n),e):e},u.createSpreadAssignment=Tt,u.updateSpreadAssignment=function(e,t){return e.expression!==t?p(Tt(t),e):e},u.createEnumMember=Ct,u.updateEnumMember=function(e,t,n){return e.name!==t||e.initializer!==n?p(Ct(t,n),e):e},u.updateSourceFileNode=function(e,t){var n;return e.statements!==t?((n=d(265)).flags|=e.flags,n.statements=f(t),n.endOfFileToken=e.endOfFileToken,n.fileName=e.fileName,n.path=e.path,n.text=e.text,void 0!==e.amdDependencies&&(n.amdDependencies=e.amdDependencies),void 0!==e.moduleName&&(n.moduleName=e.moduleName),void 0!==e.referencedFiles&&(n.referencedFiles=e.referencedFiles),void 0!==e.typeReferenceDirectives&&(n.typeReferenceDirectives=e.typeReferenceDirectives),void 0!==e.languageVariant&&(n.languageVariant=e.languageVariant),void 0!==e.isDeclarationFile&&(n.isDeclarationFile=e.isDeclarationFile),void 0!==e.renamedDependencies&&(n.renamedDependencies=e.renamedDependencies),void 0!==e.hasNoDefaultLib&&(n.hasNoDefaultLib=e.hasNoDefaultLib),void 0!==e.languageVersion&&(n.languageVersion=e.languageVersion),void 0!==e.scriptKind&&(n.scriptKind=e.scriptKind),void 0!==e.externalModuleIndicator&&(n.externalModuleIndicator=e.externalModuleIndicator),void 0!==e.commonJsModuleIndicator&&(n.commonJsModuleIndicator=e.commonJsModuleIndicator),void 0!==e.identifiers&&(n.identifiers=e.identifiers),void 0!==e.nodeCount&&(n.nodeCount=e.nodeCount),void 0!==e.identifierCount&&(n.identifierCount=e.identifierCount),void 0!==e.symbolCount&&(n.symbolCount=e.symbolCount),void 0!==e.parseDiagnostics&&(n.parseDiagnostics=e.parseDiagnostics),void 0!==e.bindDiagnostics&&(n.bindDiagnostics=e.bindDiagnostics),void 0!==e.lineMap&&(n.lineMap=e.lineMap),void 0!==e.classifiableNames&&(n.classifiableNames=e.classifiableNames),void 0!==e.resolvedModules&&(n.resolvedModules=e.resolvedModules),void 0!==e.resolvedTypeReferenceDirectiveNames&&(n.resolvedTypeReferenceDirectiveNames=e.resolvedTypeReferenceDirectiveNames),void 0!==e.imports&&(n.imports=e.imports),void 0!==e.moduleAugmentations&&(n.moduleAugmentations=e.moduleAugmentations),p(n,e)):e},u.getMutableClone=function(e){var t=n(e);return t.pos=e.pos,t.end=e.end,t.parent=e.parent,t},u.createNotEmittedStatement=function(e){var t=d(287);return t.original=e,F(t,e),t},u.createEndOfDeclarationMarker=function(e){var t=d(291);return t.emitNode={},t.original=e,t},u.createMergeDeclarationMarker=function(e){var t=d(290);return t.emitNode={},t.original=e,t},u.createPartiallyEmittedExpression=Et,u.updatePartiallyEmittedExpression=function(e,t){return e.expression!==t?p(Et(t,e.original),e):e},u.createCommaList=At,u.updateCommaList=function(e,t){return e.elements!==t?p(At(t),e):e},u.createBundle=Nt,u.updateBundle=function(e,t){return e.sourceFiles!==t?Nt(t):e},u.createImmediatelyInvokedFunctionExpression=function(e,t,n){return h(y(void 0,void 0,void 0,void 0,t?[t]:[],void 0,T(e,!0)),void 0,n?[n]:[])},u.createImmediatelyInvokedArrowFunction=function(e,t,n){return h(v(void 0,void 0,t?[t]:[],void 0,void 0,T(e,!0)),void 0,n?[n]:[])},u.createComma=function(e,t){return S(e,26,t)},u.createLessThan=function(e,t){return S(e,27,t)},u.createAssignment=function(e,t){return S(e,58,t)},u.createStrictEquality=function(e,t){return S(e,34,t)},u.createStrictInequality=function(e,t){return S(e,35,t)},u.createAdd=function(e,t){return S(e,37,t)},u.createSubtract=function(e,t){return S(e,38,t)},u.createPostfixIncrement=function(e){return k(e,43)},u.createLogicalAnd=function(e,t){return S(e,53,t)},u.createLogicalOr=function(e,t){return S(e,54,t)},u.createLogicalNot=function(e){return x(51,e)},u.createVoidZero=function(){return b(r(0))},u.createExportDefault=function(e){return D(void 0,void 0,!1,e)},u.createExternalModuleExport=function(e){return A(void 0,void 0,N([w(void 0,e)]))},u.disposeEmitNodes=function(e){e=(e=u.getSourceFileOfNode(u.getParseTreeNode(e)))&&e.emitNode,e=e&&e.annotatedNodes;if(e)for(var t=0,n=e;t<n.length;t++)n[t].emitNode=void 0},u.getOrCreateEmitNode=O,u.setTextRange=F,u.setEmitFlags=L,u.addEmitFlags=function(e,t){var n=O(e);return n.flags=n.flags|t,e},u.getSourceMapRange=function(e){var t=e.emitNode;return t&&t.sourceMapRange||e},u.setSourceMapRange=function(e,t){return O(e).sourceMapRange=t,e},u.createSourceMapSource=function(e,t,n){return new(o=o||u.objectAllocator.getSourceMapSourceConstructor())(e,t,n)},u.getTokenSourceMapRange=function(e,t){e=e.emitNode,e=e&&e.tokenSourceMapRanges;return e&&e[t]},u.setTokenSourceMapRange=function(e,t,n){var r=O(e);return(r.tokenSourceMapRanges||(r.tokenSourceMapRanges=[]))[t]=n,e},u.getCommentRange=function(e){var t=e.emitNode;return t&&t.commentRange||e},u.setCommentRange=function(e,t){return O(e).commentRange=t,e},u.getSyntheticLeadingComments=wt,u.setSyntheticLeadingComments=It,u.addSyntheticLeadingComment=function(e,t,n,r){return It(e,u.append(wt(e),{kind:t,pos:-1,end:-1,hasTrailingNewLine:r,text:n}))},u.getSyntheticTrailingComments=Pt,u.setSyntheticTrailingComments=Ot,u.addSyntheticTrailingComment=function(e,t,n,r){return Ot(e,u.append(Pt(e),{kind:t,pos:-1,end:-1,hasTrailingNewLine:r,text:n}))},u.getConstantValue=function(e){e=e.emitNode;return e&&e.constantValue},u.setConstantValue=function(e,t){return O(e).constantValue=t,e},u.addEmitHelper=function(e,t){var n=O(e);return n.helpers=u.append(n.helpers,t),e},u.addEmitHelpers=function(e,t){if(u.some(t))for(var n=O(e),r=0,i=t;r<i.length;r++){var a=i[r];n.helpers=u.appendIfUnique(n.helpers,a)}return e},u.removeEmitHelper=function(e,t){e=e.emitNode;if(e){e=e.helpers;if(e)return u.orderedRemoveItem(e,t)}return!1},u.getEmitHelpers=function(e){e=e.emitNode;return e&&e.helpers},u.moveEmitHelpers=function(e,t,n){var e=e.emitNode,r=e&&e.helpers;if(u.some(r)){for(var i=O(t),a=0,s=0;s<r.length;s++){var o=r[s];n(o)?(a++,i.helpers=u.appendIfUnique(i.helpers,o)):0<a&&(r[s-a]=o)}0<a&&(r.length-=a)}},u.compareEmitHelpers=function(e,t){return e===t||e.priority===t.priority?0:void 0===e.priority?1:void 0===t.priority?-1:u.compareValues(e.priority,t.priority)},u.setOriginalNode=R}(ts=ts||{}),function(d){function p(e,t,n){return d.isComputedPropertyName(t)?d.setTextRange(d.createElementAccess(e,t.expression),n):(n=d.setTextRange(d.isIdentifier(t)?d.createPropertyAccess(e,t):d.createElementAccess(e,t),t),d.getOrCreateEmitNode(n).flags|=64,n)}function a(e,t){e=d.createIdentifier(e||"React");return e.flags&=-9,e.parent=d.getParseTreeNode(t),e}function f(e,t,n){return e?function e(t,n){var r,i;return d.isQualifiedName(t)?(r=e(t.left,n),(i=d.createIdentifier(d.idText(t.right))).escapedText=t.right.escapedText,d.createPropertyAccess(r,i)):a(d.idText(t),n)}(e,n):d.createPropertyAccess(a(t,n),"createElement")}function i(e){return d.setEmitFlags(d.createIdentifier(e),4098)}d.nullTransformationContext={enableEmitNotification:d.noop,enableSubstitution:d.noop,endLexicalEnvironment:function(){},getCompilerOptions:d.notImplemented,getEmitHost:d.notImplemented,getEmitResolver:d.notImplemented,hoistFunctionDeclaration:d.noop,hoistVariableDeclaration:d.noop,isEmitNotificationEnabled:d.notImplemented,isSubstitutionEnabled:d.notImplemented,onEmitNode:d.noop,onSubstituteNode:d.notImplemented,readEmitHelpers:d.notImplemented,requestEmitHelper:d.noop,resumeLexicalEnvironment:d.noop,startLexicalEnvironment:d.noop,suspendLexicalEnvironment:d.noop},d.createTypeCheck=function(e,t){return"undefined"===t?d.createStrictEquality(e,d.createVoidZero()):d.createStrictEquality(d.createTypeOf(e),d.createLiteral(t))},d.createMemberAccessForPropertyName=p,d.createFunctionCall=function(e,t,n,r){return d.setTextRange(d.createCall(d.createPropertyAccess(e,"call"),void 0,[t].concat(n)),r)},d.createFunctionApply=function(e,t,n,r){return d.setTextRange(d.createCall(d.createPropertyAccess(e,"apply"),void 0,[t,n]),r)},d.createArraySlice=function(e,t){var n=[];return void 0!==t&&n.push("number"==typeof t?d.createLiteral(t):t),d.createCall(d.createPropertyAccess(e,"slice"),void 0,n)},d.createArrayConcat=function(e,t){return d.createCall(d.createPropertyAccess(e,"concat"),void 0,t)},d.createMathPow=function(e,t,n){return d.setTextRange(d.createCall(d.createPropertyAccess(d.createIdentifier("Math"),"pow"),void 0,[e,t]),n)},d.createExpressionForJsxElement=function(e,t,n,r,i,a,s){var o=[n];if(r&&o.push(r),i&&0<i.length)if(r||o.push(d.createNull()),1<i.length)for(var c=0,l=i;c<l.length;c++){var u=l[c];u.startsOnNewLine=!0,o.push(u)}else o.push(i[0]);return d.setTextRange(d.createCall(f(e,t,a),void 0,o),s)},d.getHelperName=i;var e,r={name:"typescript:values",scoped:!1,text:'\n            var __values = (this && this.__values) || function (o) {\n                var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;\n                if (m) return m.call(o);\n                return {\n                    next: function () {\n                        if (o && i >= o.length) o = void 0;\n                        return { value: o && o[i++], done: !o };\n                    }\n                };\n            };\n        '},s={name:"typescript:read",scoped:!(d.createValuesHelper=function(e,t,n){return e.requestEmitHelper(r),d.setTextRange(d.createCall(i("__values"),void 0,[t]),n)}),text:'\n            var __read = (this && this.__read) || function (o, n) {\n                var m = typeof Symbol === "function" && o[Symbol.iterator];\n                if (!m) return o;\n                var i = m.call(o), r, ar = [], e;\n                try {\n                    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n                }\n                catch (error) { e = { error: error }; }\n                finally {\n                    try {\n                        if (r && !r.done && (m = i["return"])) m.call(i);\n                    }\n                    finally { if (e) throw e.error; }\n                }\n                return ar;\n            };\n        '},R={name:"typescript:spread",scoped:!(d.createReadHelper=function(e,t,n,r){return e.requestEmitHelper(s),d.setTextRange(d.createCall(i("__read"),void 0,void 0!==n?[t,d.createLiteral(n)]:[t]),r)}),text:"\n            var __spread = (this && this.__spread) || function () {\n                for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n                return ar;\n            };"};function o(e,t){var n=T(e);switch(n.kind){case 71:return t;case 99:case 8:case 9:return;case 177:return 0!==n.elements.length;case 178:return 0<n.properties.length;default:return 1}}function _(e){return d.isIdentifier(e)?d.createLiteral(e):d.isComputedPropertyName(e)?d.getMutableClone(e.expression):d.getMutableClone(e)}function c(e,t,n){return l(e,t,n,8192)}function l(e,t,n,r){var i,a=d.getNameOfDeclaration(e);return a&&d.isIdentifier(a)&&!d.isGeneratedIdentifier(a)?(i=d.getMutableClone(a),r|=d.getEmitFlags(a),n||(r|=48),t||(r|=1536),r&&d.setEmitFlags(i,r),i):d.getGeneratedNameForNode(e)}function u(e,t,n,r){var i,e=d.createPropertyAccess(e,d.nodeIsSynthesized(t)?t:d.getSynthesizedClone(t));return d.setTextRange(e,t),r||(i|=48),n||(i|=1536),i&&d.setEmitFlags(e,i),e}function m(e){return d.isStringLiteral(e.expression)&&"use strict"===e.expression.text}function g(e,t,n){d.Debug.assert(0===e.length,"Prologue directives should be at the first statement in the target statements array");for(var r=!1,i=0,a=t.length;i<a;){var s=t[i];if(!d.isPrologueDirective(s))break;m(s)&&(r=!0),e.push(s),i++}return n&&!r&&e.push(D(d.createStatement(d.createLiteral("use strict")))),i}function h(e,t,n,r){for(var i=t.length;n<i;){var a=t[n];if(!(1048576&d.getEmitFlags(a)))break;e.push(r?d.visitNode(a,r,d.isStatement):a),n++}return n}function y(e){var t;return e=d.skipPartiallyEmittedExpressions(e),d.isLiteralKind(e.kind)?e.kind:194===e.kind&&37===e.operatorToken.kind?void 0!==e.cachedLiteralKind?e.cachedLiteralKind:(t=y(e.left),t=d.isLiteralKind(t)&&t===y(e.right)?t:0,e.cachedLiteralKind=t):0}function v(e){var t=d.skipPartiallyEmittedExpressions(e);return d.isLeftHandSideExpression(t)&&(182!==t.kind||t.arguments)?e:d.setTextRange(d.createParen(e),e)}function b(e){var t=d.skipPartiallyEmittedExpressions(e);return d.getExpressionPrecedence(t)>d.getOperatorPrecedence(194,26)?e:d.setTextRange(d.createParen(e),e)}function t(e){switch(e.kind){case 166:case 167:case 160:case 161:return d.createParenthesizedType(e)}return e}function x(e,t){for(;;){switch(e.kind){case 193:e=e.operand;continue;case 194:e=e.left;continue;case 195:e=e.condition;continue;case 181:if(t)return e;case 180:case 179:case 288:e=e.expression;continue}return e}}function k(e,t){switch(void 0===t&&(t=7),e.kind){case 185:return 0!=(1&t);case 184:case 202:case 203:return 0!=(2&t);case 288:return 0!=(4&t)}return!1}function S(e,t){var n;for(void 0===t&&(t=7);n=e,1&t&&(e=T(e)),2&t&&(e=C(e)),n!==(e=4&t?d.skipPartiallyEmittedExpressions(e):e););return e}function T(e){for(;185===e.kind;)e=e.expression;return e}function C(e){for(;d.isAssertionExpression(e)||203===e.kind;)e=e.expression;return e}function E(e,t,n){if(void 0===n&&(n=7),!e||!k(e,n)||185===(n=e).kind&&d.nodeIsSynthesized(n)&&d.nodeIsSynthesized(d.getSourceMapRange(n))&&d.nodeIsSynthesized(d.getCommentRange(n))&&!d.some(d.getSyntheticLeadingComments(n))&&!d.some(d.getSyntheticTrailingComments(n)))return t;else{var r=e,i=E(e.expression,t);switch(r.kind){case 185:return d.updateParen(r,i);case 184:return d.updateTypeAssertion(r,r.type,i);case 202:return d.updateAsExpression(r,i,r.type);case 203:return d.updateNonNullExpression(r,i);case 288:return d.updatePartiallyEmittedExpression(r,i)}}}function D(e){return e.startsOnNewLine=!0,e}function A(e){e=d.getOriginalNode(e,d.isSourceFile),e=e&&e.emitNode;return e&&e.externalHelpersModuleName}function N(e,t,n){if(e)return e.moduleName?d.createLiteral(e.moduleName):e.isDeclarationFile||!n.out&&!n.outFile?void 0:d.createLiteral(d.getExternalModuleNameFromPath(t,e.fileName))}function w(e){if(d.isDeclarationBindingElement(e))return e.name;if(!d.isObjectLiteralElementLike(e))return d.isAssignmentExpression(e,!0)?w(e.left):d.isSpreadElement(e)?w(e.expression):e;switch(e.kind){case 261:return w(e.initializer);case 262:return e.name;case 263:return w(e.expression)}}function n(e){var t;return d.isBindingElement(e)?e.dotDotDotToken?(d.Debug.assertNode(e.name,d.isIdentifier),d.setOriginalNode(d.setTextRange(d.createSpread(e.name),e),e)):(t=L(e.name),e.initializer?d.setOriginalNode(d.setTextRange(d.createAssignment(t,e.initializer),e),e):t):(d.Debug.assertNode(e,d.isExpression),e)}function I(e){var t;return d.isBindingElement(e)?e.dotDotDotToken?(d.Debug.assertNode(e.name,d.isIdentifier),d.setOriginalNode(d.setTextRange(d.createSpreadAssignment(e.name),e),e)):e.propertyName?(t=L(e.name),d.setOriginalNode(d.setTextRange(d.createPropertyAssignment(e.propertyName,e.initializer?d.createAssignment(t,e.initializer):t),e),e)):(d.Debug.assertNode(e.name,d.isIdentifier),d.setOriginalNode(d.setTextRange(d.createShorthandPropertyAssignment(e.name,e.initializer),e),e)):(d.Debug.assertNode(e,d.isObjectLiteralElementLike),e)}function P(e){switch(e.kind){case 175:case 177:return F(e);case 174:case 178:return O(e)}}function O(e){return d.isObjectBindingPattern(e)?d.setOriginalNode(d.setTextRange(d.createObjectLiteral(d.map(e.elements,I)),e),e):(d.Debug.assertNode(e,d.isObjectLiteralExpression),e)}function F(e){return d.isArrayBindingPattern(e)?d.setOriginalNode(d.setTextRange(d.createArrayLiteral(d.map(e.elements,n)),e),e):(d.Debug.assertNode(e,d.isArrayLiteralExpression),e)}function L(e){return d.isBindingPattern(e)?P(e):(d.Debug.assertNode(e,d.isExpression),e)}d.createSpreadHelper=function(e,t,n){return e.requestEmitHelper(s),e.requestEmitHelper(R),d.setTextRange(d.createCall(i("__spread"),void 0,t),n)},d.createForOfBindingStatement=function(e,t){var n;return d.isVariableDeclarationList(e)?(n=d.firstOrUndefined(e.declarations),n=d.updateVariableDeclaration(n,n.name,void 0,t),d.setTextRange(d.createVariableStatement(void 0,d.updateVariableDeclarationList(e,[n])),e)):(n=d.setTextRange(d.createAssignment(e,t),e),d.setTextRange(d.createStatement(n),e))},d.insertLeadingStatement=function(e,t){return d.isBlock(e)?d.updateBlock(e,d.setTextRange(d.createNodeArray([t].concat(e.statements)),e.statements)):d.createBlock(d.createNodeArray([e,t]),!0)},d.restoreEnclosingLabel=function e(t,n,r){var i;return n?(i=d.updateLabel(n,n.label,222===n.statement.kind?e(t,n.statement):t),r&&r(n),i):t},d.createCallBinding=function(e,t,n,r){var i,a,s=S(e,7);if(d.isSuperProperty(s))i=d.createThis(),a=s;else if(97===s.kind)i=d.createThis(),a=n<2?d.setTextRange(d.createIdentifier("_super"),s):s;else if(4096&d.getEmitFlags(s))i=d.createVoidZero(),a=v(s);else switch(s.kind){case 179:o(s.expression,r)?(i=d.createTempVariable(t),a=d.createPropertyAccess(d.setTextRange(d.createAssignment(i,s.expression),s.expression),s.name),d.setTextRange(a,s)):(i=s.expression,a=s);break;case 180:o(s.expression,r)?(i=d.createTempVariable(t),a=d.createElementAccess(d.setTextRange(d.createAssignment(i,s.expression),s.expression),s.argumentExpression),d.setTextRange(a,s)):(i=s.expression,a=s);break;default:i=d.createVoidZero(),a=v(e)}return{target:a,thisArg:i}},d.inlineExpressions=function(e){return 10<e.length?d.createCommaList(e):d.reduceLeft(e,d.createComma)},d.createExpressionFromEntityName=function e(t){var n,r;return d.isQualifiedName(t)?(n=e(t.left),r=d.getMutableClone(t.right),d.setTextRange(d.createPropertyAccess(n,r),t)):d.getMutableClone(t)},d.createExpressionForPropertyName=_,d.createExpressionForObjectLiteralElementLike=function(e,t,n){switch(t.kind){case 153:case 154:var r,i=e.properties,a=t,s=n,o=e.multiLine,c=(i=d.getAllAccessorDeclarations(i,a)).firstAccessor,l=i.getAccessor,i=i.setAccessor;return a===c?(r=[],l&&(u=d.createFunctionExpression(l.modifiers,void 0,void 0,void 0,l.parameters,void 0,l.body),d.setTextRange(u,l),d.setOriginalNode(u,l),l=d.createPropertyAssignment("get",u),r.push(l)),i&&(u=d.createFunctionExpression(i.modifiers,void 0,void 0,void 0,i.parameters,void 0,i.body),d.setTextRange(u,i),d.setOriginalNode(u,i),l=d.createPropertyAssignment("set",u),r.push(l)),r.push(d.createPropertyAssignment("enumerable",d.createTrue())),r.push(d.createPropertyAssignment("configurable",d.createTrue())),i=d.setTextRange(d.createCall(d.createPropertyAccess(d.createIdentifier("Object"),"defineProperty"),void 0,[s,_(a.name),d.createObjectLiteral(r,o)]),c),d.aggregateTransformFlags(i)):void 0;case 261:return u=t,d.aggregateTransformFlags(d.setOriginalNode(d.setTextRange(d.createAssignment(p(n,u.name,u.name),u.initializer),u),u));case 262:return l=t,d.aggregateTransformFlags(d.setOriginalNode(d.setTextRange(d.createAssignment(p(n,l.name,l.name),d.getSynthesizedClone(l.name)),l),l));case 151:return s=t,d.aggregateTransformFlags(d.setOriginalNode(d.setTextRange(d.createAssignment(p(n,s.name,s.name),d.setOriginalNode(d.setTextRange(d.createFunctionExpression(s.modifiers,s.asteriskToken,void 0,void 0,s.parameters,void 0,s.body),s),s)),s),s))}var u},d.getInternalName=function(e,t,n){return l(e,t,n,49152)},d.isInternalName=function(e){return 0!=(32768&d.getEmitFlags(e))},d.getLocalName=function(e,t,n){return l(e,t,n,16384)},d.isLocalName=function(e){return 0!=(16384&d.getEmitFlags(e))},d.getExportName=c,d.isExportName=function(e){return 0!=(8192&d.getEmitFlags(e))},d.getDeclarationName=function(e,t,n){return l(e,t,n)},d.getExternalModuleOrNamespaceExportName=function(e,t,n,r){return e&&d.hasModifier(t,1)?u(e,l(t),n,r):c(t,n,r)},d.getNamespaceMemberName=u,d.convertToFunctionBody=function(e,t){return d.isBlock(e)?e:d.setTextRange(d.createBlock([d.setTextRange(d.createReturn(e),e)],t),e)},d.convertFunctionDeclarationToExpression=function(e){d.Debug.assert(!!e.body);var t=d.createFunctionExpression(e.modifiers,e.asteriskToken,e.name,e.typeParameters,e.parameters,e.type,e.body);return d.setOriginalNode(t,e),d.setTextRange(t,e),e.startsOnNewLine&&(t.startsOnNewLine=!0),d.aggregateTransformFlags(t),t},d.addPrologue=function(e,t,n,r){return h(e,t,g(e,t,n),r)},d.addStandardPrologue=g,d.addCustomPrologue=h,d.startsWithUseStrict=function(e){e=d.firstOrUndefined(e);return void 0!==e&&d.isPrologueDirective(e)&&m(e)},d.ensureUseStrict=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var i=r[n];if(!d.isPrologueDirective(i))break;if(m(i)){t=!0;break}}return t?e:d.setTextRange(d.createNodeArray([D(d.createStatement(d.createLiteral("use strict")))].concat(e)),e)},d.parenthesizeBinaryOperand=function(e,t,n,r){return 185!==d.skipPartiallyEmittedExpressions(t).kind&&function(e,t,n,r){var i=d.getOperatorPrecedence(194,e),a=d.getOperatorAssociativity(194,e),s=d.skipPartiallyEmittedExpressions(t),o=d.getExpressionPrecedence(s);switch(d.compareValues(o,i)){case-1:return n||1!==a||197!==t.kind;case 1:return;case 0:if(n)return 1===a;if(d.isBinaryExpression(s)&&s.operatorToken.kind===e){if(39===e||49===e||48===e||50===e)return;if(37===e){var c=r?y(r):0;if(d.isLiteralKind(c)&&c===y(s))return}}return 0===d.getExpressionAssociativity(s)}}(e,t,n,r)?d.createParen(t):t},d.parenthesizeForConditionalHead=function(e){var t=d.getOperatorPrecedence(195,55),n=d.skipPartiallyEmittedExpressions(e),n=d.getExpressionPrecedence(n);return-1===d.compareValues(n,t)?d.createParen(e):e},d.parenthesizeSubexpressionOfConditionalExpression=function(e){return 194===e.kind&&26===e.operatorToken.kind?d.createParen(e):e},d.parenthesizeForNew=function(e){var t=x(e,!0);switch(t.kind){case 181:return d.createParen(e);case 182:return t.arguments?e:d.createParen(e)}return v(e)},d.parenthesizeForAccess=v,d.parenthesizePostfixOperand=function(e){return d.isLeftHandSideExpression(e)?e:d.setTextRange(d.createParen(e),e)},d.parenthesizePrefixOperand=function(e){return d.isUnaryExpression(e)?e:d.setTextRange(d.createParen(e),e)},d.parenthesizeListElements=function(e){for(var t,n=0;n<e.length;n++){var r=b(e[n]);void 0===t&&r===e[n]||(t=void 0===t?e.slice(0,n):t).push(r)}return void 0!==t?d.setTextRange(d.createNodeArray(t,e.hasTrailingComma),e):e},d.parenthesizeExpressionForList=b,d.parenthesizeExpressionForExpressionStatement=function(e){var t=d.skipPartiallyEmittedExpressions(e);if(d.isCallExpression(t)){var n=t.expression,r=d.skipPartiallyEmittedExpressions(n).kind;if(186===r||187===r)return(r=d.getMutableClone(t)).expression=d.setTextRange(d.createParen(n),n),E(e,r,4)}n=x(t,!1).kind;return 178===n||186===n?d.setTextRange(d.createParen(e),e):e},d.parenthesizeElementTypeMember=t,d.parenthesizeArrayTypeMember=function(e){switch(e.kind){case 162:case 170:return d.createParenthesizedType(e)}return t(e)},d.parenthesizeElementTypeMembers=function(e){return d.createNodeArray(d.sameMap(e,t))},d.parenthesizeTypeParameters=function(e){if(d.some(e)){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(0===n&&d.isFunctionOrConstructorTypeNode(r)&&r.typeParameters?d.createParenthesizedType(r):r)}return d.createNodeArray(t)}},d.parenthesizeConciseBody=function(e){return d.isBlock(e)||178!==x(e,!1).kind?e:d.setTextRange(d.createParen(e),e)},(e=d.OuterExpressionKinds||(d.OuterExpressionKinds={}))[e.Parentheses=1]="Parentheses",e[e.Assertions=2]="Assertions",e[e.PartiallyEmittedExpressions=4]="PartiallyEmittedExpressions",e[e.All=7]="All",d.isOuterExpression=k,d.skipOuterExpressions=S,d.skipParentheses=T,d.skipAssertions=C,d.recreateOuterExpressions=E,d.startOnNewLine=D,d.getExternalHelpersModuleName=A,d.getOrCreateExternalHelpersModuleNameIfNeeded=function(e,t,n){if(t.importHelpers&&d.isEffectiveExternalModule(e,t)){var r=A(e);if(r)return r;var r=d.getEmitModuleKind(t),i=n&&r!==d.ModuleKind.System&&r!==d.ModuleKind.ES2015&&r!==d.ModuleKind.ESNext;if(!i){t=d.getEmitHelpers(e);if(t)for(var a=0,s=t;a<s.length;a++)if(!s[a].scoped){i=!0;break}}return i?(n=d.getOriginalNode(e,d.isSourceFile),(r=d.getOrCreateEmitNode(n)).externalHelpersModuleName||(r.externalHelpersModuleName=d.createUniqueName(d.externalHelpersModuleNameText))):void 0}},d.getLocalNameForExternalImport=function(e,t){var n,r=d.getNamespaceDeclarationNode(e);return r&&!d.isDefaultImport(e)?(n=r.name,d.isGeneratedIdentifier(n)?n:d.createIdentifier(d.getSourceTextOfNodeFromSourceFile(t,r.name))):238===e.kind&&e.importClause||244===e.kind&&e.moduleSpecifier?d.getGeneratedNameForNode(e):void 0},d.getExternalModuleNameLiteral=function(e,t,n,r,i){var a=d.getExternalModuleName(e);if(9===a.kind)return n=n,i=i,N(r.getExternalModuleFileFromDeclaration(e),n,i)||function(e){e=e.renamedDependencies&&e.renamedDependencies.get(a.text);return e&&d.createLiteral(e)}(t)||d.getSynthesizedClone(a)},d.tryGetModuleNameFromFile=N,d.getInitializerOfBindingOrAssignmentElement=function e(t){return d.isDeclarationBindingElement(t)?t.initializer:d.isPropertyAssignment(t)?d.isAssignmentExpression(t.initializer,!0)?t.initializer.right:void 0:d.isShorthandPropertyAssignment(t)?t.objectAssignmentInitializer:d.isAssignmentExpression(t,!0)?t.right:d.isSpreadElement(t)?e(t.expression):void 0},d.getTargetOfBindingOrAssignmentElement=w,d.getRestIndicatorOfBindingOrAssignmentElement=function(e){switch(e.kind){case 146:case 176:return e.dotDotDotToken;case 198:case 263:return e}},d.getPropertyNameOfBindingOrAssignmentElement=function(e){switch(e.kind){case 176:var t;if(e.propertyName)return t=e.propertyName,d.isComputedPropertyName(t)&&d.isStringOrNumericLiteral(t.expression)?t.expression:t;break;case 261:if(e.name)return t=e.name,d.isComputedPropertyName(t)&&d.isStringOrNumericLiteral(t.expression)?t.expression:t;break;case 263:return e.name}var n=w(e);if(n&&d.isPropertyName(n))return d.isComputedPropertyName(n)&&d.isStringOrNumericLiteral(n.expression)?n.expression:n;d.Debug.fail("Invalid property name for binding element.")},d.getElementsOfBindingOrAssignmentPattern=function(e){switch(e.kind){case 174:case 175:case 177:return e.elements;case 178:return e.properties}},d.convertToArrayAssignmentElement=n,d.convertToObjectAssignmentElement=I,d.convertToAssignmentPattern=P,d.convertToObjectAssignmentPattern=O,d.convertToArrayAssignmentPattern=F,d.convertToAssignmentElementTarget=L}(ts=ts||{}),function(f){function s(e,t,n,r){if(void 0===e||void 0===t)return e;f.aggregateTransformFlags(e);t=t(e);return t===e?e:void 0!==t?(e=f.isArray(t)?(r||i)(t):t,f.Debug.assertNode(e,n),f.aggregateTransformFlags(e),e):void 0}function o(e,t,n,r,i){if(void 0===e||void 0===t)return e;var a,s=e.length;(void 0===r||r<0)&&(r=0),(void 0===i||s-r<i)&&(i=s-r),(0<r||i<s)&&(a=f.createNodeArray([],e.hasTrailingComma&&r+i===s));for(var o=0;o<i;o++){var c=e[o+r],l=(f.aggregateTransformFlags(c),void 0!==c?t(c):void 0);if((void 0!==a||void 0===l||l!==c)&&(void 0===a&&(a=f.createNodeArray(e.slice(0,o),e.hasTrailingComma),f.setTextRange(a,e)),l))if(f.isArray(l))for(var u=0,d=l;u<d.length;u++){var p=d[u];f.Debug.assertNode(p,n),f.aggregateTransformFlags(p),a.push(p)}else f.Debug.assertNode(l,n),f.aggregateTransformFlags(l),a.push(l)}return a||e}function c(e,t,n,r,i){n.startLexicalEnvironment(),e=o(e,t,f.isStatement,r),i&&!f.startsWithUseStrict(e)&&(e=f.setTextRange(f.createNodeArray([f.createStatement(f.createLiteral("use strict"))].concat(e)),e));t=n.endLexicalEnvironment();return f.setTextRange(f.createNodeArray(f.concatenate(e,t)),e)}function l(e,t,n,r){void 0===r&&(r=o),n.startLexicalEnvironment();r=r(e,t,f.isParameterDeclaration);return n.suspendLexicalEnvironment(),r}function u(e,t,n){n.resumeLexicalEnvironment();var e=s(e,t,f.isConciseBody),t=n.endLexicalEnvironment();return f.some(t)?(n=f.convertToFunctionBody(e),t=f.mergeLexicalEnvironment(n.statements,t),f.updateBlock(n,t)):e}function i(e){return f.Debug.assert(e.length<=1,"Too many nodes written to output."),f.singleOrUndefined(e)}f.visitNode=s,f.visitNodes=o,f.visitLexicalEnvironment=c,f.visitParameterList=l,f.visitFunctionBody=u,f.visitEachChild=function(e,t,n,r,i){if(void 0===r&&(r=o),void 0!==e){var a=e.kind;if(0<a&&a<=142||169===a)return e;switch(a){case 71:return f.updateIdentifier(e,r(e.typeArguments,t,f.isTypeNode));case 143:return f.updateQualifiedName(e,s(e.left,t,f.isEntityName),s(e.right,t,f.isIdentifier));case 144:return f.updateComputedPropertyName(e,s(e.expression,t,f.isExpression));case 145:return f.updateTypeParameterDeclaration(e,s(e.name,t,f.isIdentifier),s(e.constraint,t,f.isTypeNode),s(e.default,t,f.isTypeNode));case 146:return f.updateParameter(e,r(e.decorators,t,f.isDecorator),r(e.modifiers,t,f.isModifier),s(e.dotDotDotToken,i,f.isToken),s(e.name,t,f.isBindingName),s(e.questionToken,i,f.isToken),s(e.type,t,f.isTypeNode),s(e.initializer,t,f.isExpression));case 147:return f.updateDecorator(e,s(e.expression,t,f.isExpression));case 148:return f.updatePropertySignature(e,r(e.modifiers,t,f.isToken),s(e.name,t,f.isPropertyName),s(e.questionToken,i,f.isToken),s(e.type,t,f.isTypeNode),s(e.initializer,t,f.isExpression));case 149:return f.updateProperty(e,r(e.decorators,t,f.isDecorator),r(e.modifiers,t,f.isModifier),s(e.name,t,f.isPropertyName),s(e.questionToken,i,f.isToken),s(e.type,t,f.isTypeNode),s(e.initializer,t,f.isExpression));case 150:return f.updateMethodSignature(e,r(e.typeParameters,t,f.isTypeParameterDeclaration),r(e.parameters,t,f.isParameterDeclaration),s(e.type,t,f.isTypeNode),s(e.name,t,f.isPropertyName),s(e.questionToken,i,f.isToken));case 151:return f.updateMethod(e,r(e.decorators,t,f.isDecorator),r(e.modifiers,t,f.isModifier),s(e.asteriskToken,i,f.isToken),s(e.name,t,f.isPropertyName),s(e.questionToken,i,f.isToken),r(e.typeParameters,t,f.isTypeParameterDeclaration),l(e.parameters,t,n,r),s(e.type,t,f.isTypeNode),u(e.body,t,n));case 152:return f.updateConstructor(e,r(e.decorators,t,f.isDecorator),r(e.modifiers,t,f.isModifier),l(e.parameters,t,n,r),u(e.body,t,n));case 153:return f.updateGetAccessor(e,r(e.decorators,t,f.isDecorator),r(e.modifiers,t,f.isModifier),s(e.name,t,f.isPropertyName),l(e.parameters,t,n,r),s(e.type,t,f.isTypeNode),u(e.body,t,n));case 154:return f.updateSetAccessor(e,r(e.decorators,t,f.isDecorator),r(e.modifiers,t,f.isModifier),s(e.name,t,f.isPropertyName),l(e.parameters,t,n,r),u(e.body,t,n));case 155:return f.updateCallSignature(e,r(e.typeParameters,t,f.isTypeParameterDeclaration),r(e.parameters,t,f.isParameterDeclaration),s(e.type,t,f.isTypeNode));case 156:return f.updateConstructSignature(e,r(e.typeParameters,t,f.isTypeParameterDeclaration),r(e.parameters,t,f.isParameterDeclaration),s(e.type,t,f.isTypeNode));case 157:return f.updateIndexSignature(e,r(e.decorators,t,f.isDecorator),r(e.modifiers,t,f.isModifier),r(e.parameters,t,f.isParameterDeclaration),s(e.type,t,f.isTypeNode));case 158:return f.updateTypePredicateNode(e,s(e.parameterName,t),s(e.type,t,f.isTypeNode));case 159:return f.updateTypeReferenceNode(e,s(e.typeName,t,f.isEntityName),r(e.typeArguments,t,f.isTypeNode));case 160:return f.updateFunctionTypeNode(e,r(e.typeParameters,t,f.isTypeParameterDeclaration),r(e.parameters,t,f.isParameterDeclaration),s(e.type,t,f.isTypeNode));case 161:return f.updateConstructorTypeNode(e,r(e.typeParameters,t,f.isTypeParameterDeclaration),r(e.parameters,t,f.isParameterDeclaration),s(e.type,t,f.isTypeNode));case 162:return f.updateTypeQueryNode(e,s(e.exprName,t,f.isEntityName));case 163:return f.updateTypeLiteralNode(e,r(e.members,t,f.isTypeElement));case 164:return f.updateArrayTypeNode(e,s(e.elementType,t,f.isTypeNode));case 165:return f.updateTypleTypeNode(e,r(e.elementTypes,t,f.isTypeNode));case 166:return f.updateUnionTypeNode(e,r(e.types,t,f.isTypeNode));case 167:return f.updateIntersectionTypeNode(e,r(e.types,t,f.isTypeNode));case 168:return f.updateParenthesizedType(e,s(e.type,t,f.isTypeNode));case 170:return f.updateTypeOperatorNode(e,s(e.type,t,f.isTypeNode));case 171:return f.updateIndexedAccessTypeNode(e,s(e.objectType,t,f.isTypeNode),s(e.indexType,t,f.isTypeNode));case 172:return f.updateMappedTypeNode(e,s(e.readonlyToken,i,f.isToken),s(e.typeParameter,t,f.isTypeParameterDeclaration),s(e.questionToken,i,f.isToken),s(e.type,t,f.isTypeNode));case 173:return f.updateLiteralTypeNode(e,s(e.literal,t,f.isExpression));case 174:return f.updateObjectBindingPattern(e,r(e.elements,t,f.isBindingElement));case 175:return f.updateArrayBindingPattern(e,r(e.elements,t,f.isArrayBindingElement));case 176:return f.updateBindingElement(e,s(e.dotDotDotToken,i,f.isToken),s(e.propertyName,t,f.isPropertyName),s(e.name,t,f.isBindingName),s(e.initializer,t,f.isExpression));case 177:return f.updateArrayLiteral(e,r(e.elements,t,f.isExpression));case 178:return f.updateObjectLiteral(e,r(e.properties,t,f.isObjectLiteralElementLike));case 179:return f.updatePropertyAccess(e,s(e.expression,t,f.isExpression),s(e.name,t,f.isIdentifier));case 180:return f.updateElementAccess(e,s(e.expression,t,f.isExpression),s(e.argumentExpression,t,f.isExpression));case 181:return f.updateCall(e,s(e.expression,t,f.isExpression),r(e.typeArguments,t,f.isTypeNode),r(e.arguments,t,f.isExpression));case 182:return f.updateNew(e,s(e.expression,t,f.isExpression),r(e.typeArguments,t,f.isTypeNode),r(e.arguments,t,f.isExpression));case 183:return f.updateTaggedTemplate(e,s(e.tag,t,f.isExpression),s(e.template,t,f.isTemplateLiteral));case 184:return f.updateTypeAssertion(e,s(e.type,t,f.isTypeNode),s(e.expression,t,f.isExpression));case 185:return f.updateParen(e,s(e.expression,t,f.isExpression));case 186:return f.updateFunctionExpression(e,r(e.modifiers,t,f.isModifier),s(e.asteriskToken,i,f.isToken),s(e.name,t,f.isIdentifier),r(e.typeParameters,t,f.isTypeParameterDeclaration),l(e.parameters,t,n,r),s(e.type,t,f.isTypeNode),u(e.body,t,n));case 187:return f.updateArrowFunction(e,r(e.modifiers,t,f.isModifier),r(e.typeParameters,t,f.isTypeParameterDeclaration),l(e.parameters,t,n,r),s(e.type,t,f.isTypeNode),s(e.equalsGreaterThanToken,t,f.isToken),u(e.body,t,n));case 188:return f.updateDelete(e,s(e.expression,t,f.isExpression));case 189:return f.updateTypeOf(e,s(e.expression,t,f.isExpression));case 190:return f.updateVoid(e,s(e.expression,t,f.isExpression));case 191:return f.updateAwait(e,s(e.expression,t,f.isExpression));case 192:return f.updatePrefix(e,s(e.operand,t,f.isExpression));case 193:return f.updatePostfix(e,s(e.operand,t,f.isExpression));case 194:return f.updateBinary(e,s(e.left,t,f.isExpression),s(e.right,t,f.isExpression),s(e.operatorToken,t,f.isToken));case 195:return f.updateConditional(e,s(e.condition,t,f.isExpression),s(e.questionToken,t,f.isToken),s(e.whenTrue,t,f.isExpression),s(e.colonToken,t,f.isToken),s(e.whenFalse,t,f.isExpression));case 196:return f.updateTemplateExpression(e,s(e.head,t,f.isTemplateHead),r(e.templateSpans,t,f.isTemplateSpan));case 197:return f.updateYield(e,s(e.asteriskToken,i,f.isToken),s(e.expression,t,f.isExpression));case 198:return f.updateSpread(e,s(e.expression,t,f.isExpression));case 199:return f.updateClassExpression(e,r(e.modifiers,t,f.isModifier),s(e.name,t,f.isIdentifier),r(e.typeParameters,t,f.isTypeParameterDeclaration),r(e.heritageClauses,t,f.isHeritageClause),r(e.members,t,f.isClassElement));case 201:return f.updateExpressionWithTypeArguments(e,r(e.typeArguments,t,f.isTypeNode),s(e.expression,t,f.isExpression));case 202:return f.updateAsExpression(e,s(e.expression,t,f.isExpression),s(e.type,t,f.isTypeNode));case 203:return f.updateNonNullExpression(e,s(e.expression,t,f.isExpression));case 204:return f.updateMetaProperty(e,s(e.name,t,f.isIdentifier));case 205:return f.updateTemplateSpan(e,s(e.expression,t,f.isExpression),s(e.literal,t,f.isTemplateMiddleOrTemplateTail));case 207:return f.updateBlock(e,r(e.statements,t,f.isStatement));case 208:return f.updateVariableStatement(e,r(e.modifiers,t,f.isModifier),s(e.declarationList,t,f.isVariableDeclarationList));case 210:return f.updateStatement(e,s(e.expression,t,f.isExpression));case 211:return f.updateIf(e,s(e.expression,t,f.isExpression),s(e.thenStatement,t,f.isStatement,f.liftToBlock),s(e.elseStatement,t,f.isStatement,f.liftToBlock));case 212:return f.updateDo(e,s(e.statement,t,f.isStatement,f.liftToBlock),s(e.expression,t,f.isExpression));case 213:return f.updateWhile(e,s(e.expression,t,f.isExpression),s(e.statement,t,f.isStatement,f.liftToBlock));case 214:return f.updateFor(e,s(e.initializer,t,f.isForInitializer),s(e.condition,t,f.isExpression),s(e.incrementor,t,f.isExpression),s(e.statement,t,f.isStatement,f.liftToBlock));case 215:return f.updateForIn(e,s(e.initializer,t,f.isForInitializer),s(e.expression,t,f.isExpression),s(e.statement,t,f.isStatement,f.liftToBlock));case 216:return f.updateForOf(e,e.awaitModifier,s(e.initializer,t,f.isForInitializer),s(e.expression,t,f.isExpression),s(e.statement,t,f.isStatement,f.liftToBlock));case 217:return f.updateContinue(e,s(e.label,t,f.isIdentifier));case 218:return f.updateBreak(e,s(e.label,t,f.isIdentifier));case 219:return f.updateReturn(e,s(e.expression,t,f.isExpression));case 220:return f.updateWith(e,s(e.expression,t,f.isExpression),s(e.statement,t,f.isStatement,f.liftToBlock));case 221:return f.updateSwitch(e,s(e.expression,t,f.isExpression),s(e.caseBlock,t,f.isCaseBlock));case 222:return f.updateLabel(e,s(e.label,t,f.isIdentifier),s(e.statement,t,f.isStatement,f.liftToBlock));case 223:return f.updateThrow(e,s(e.expression,t,f.isExpression));case 224:return f.updateTry(e,s(e.tryBlock,t,f.isBlock),s(e.catchClause,t,f.isCatchClause),s(e.finallyBlock,t,f.isBlock));case 226:return f.updateVariableDeclaration(e,s(e.name,t,f.isBindingName),s(e.type,t,f.isTypeNode),s(e.initializer,t,f.isExpression));case 227:return f.updateVariableDeclarationList(e,r(e.declarations,t,f.isVariableDeclaration));case 228:return f.updateFunctionDeclaration(e,r(e.decorators,t,f.isDecorator),r(e.modifiers,t,f.isModifier),s(e.asteriskToken,i,f.isToken),s(e.name,t,f.isIdentifier),r(e.typeParameters,t,f.isTypeParameterDeclaration),l(e.parameters,t,n,r),s(e.type,t,f.isTypeNode),u(e.body,t,n));case 229:return f.updateClassDeclaration(e,r(e.decorators,t,f.isDecorator),r(e.modifiers,t,f.isModifier),s(e.name,t,f.isIdentifier),r(e.typeParameters,t,f.isTypeParameterDeclaration),r(e.heritageClauses,t,f.isHeritageClause),r(e.members,t,f.isClassElement));case 230:return f.updateInterfaceDeclaration(e,r(e.decorators,t,f.isDecorator),r(e.modifiers,t,f.isModifier),s(e.name,t,f.isIdentifier),r(e.typeParameters,t,f.isTypeParameterDeclaration),r(e.heritageClauses,t,f.isHeritageClause),r(e.members,t,f.isTypeElement));case 231:return f.updateTypeAliasDeclaration(e,r(e.decorators,t,f.isDecorator),r(e.modifiers,t,f.isModifier),s(e.name,t,f.isIdentifier),r(e.typeParameters,t,f.isTypeParameterDeclaration),s(e.type,t,f.isTypeNode));case 232:return f.updateEnumDeclaration(e,r(e.decorators,t,f.isDecorator),r(e.modifiers,t,f.isModifier),s(e.name,t,f.isIdentifier),r(e.members,t,f.isEnumMember));case 233:return f.updateModuleDeclaration(e,r(e.decorators,t,f.isDecorator),r(e.modifiers,t,f.isModifier),s(e.name,t,f.isIdentifier),s(e.body,t,f.isModuleBody));case 234:return f.updateModuleBlock(e,r(e.statements,t,f.isStatement));case 235:return f.updateCaseBlock(e,r(e.clauses,t,f.isCaseOrDefaultClause));case 236:return f.updateNamespaceExportDeclaration(e,s(e.name,t,f.isIdentifier));case 237:return f.updateImportEqualsDeclaration(e,r(e.decorators,t,f.isDecorator),r(e.modifiers,t,f.isModifier),s(e.name,t,f.isIdentifier),s(e.moduleReference,t,f.isModuleReference));case 238:return f.updateImportDeclaration(e,r(e.decorators,t,f.isDecorator),r(e.modifiers,t,f.isModifier),s(e.importClause,t,f.isImportClause),s(e.moduleSpecifier,t,f.isExpression));case 239:return f.updateImportClause(e,s(e.name,t,f.isIdentifier),s(e.namedBindings,t,f.isNamedImportBindings));case 240:return f.updateNamespaceImport(e,s(e.name,t,f.isIdentifier));case 241:return f.updateNamedImports(e,r(e.elements,t,f.isImportSpecifier));case 242:return f.updateImportSpecifier(e,s(e.propertyName,t,f.isIdentifier),s(e.name,t,f.isIdentifier));case 243:return f.updateExportAssignment(e,r(e.decorators,t,f.isDecorator),r(e.modifiers,t,f.isModifier),s(e.expression,t,f.isExpression));case 244:return f.updateExportDeclaration(e,r(e.decorators,t,f.isDecorator),r(e.modifiers,t,f.isModifier),s(e.exportClause,t,f.isNamedExports),s(e.moduleSpecifier,t,f.isExpression));case 245:return f.updateNamedExports(e,r(e.elements,t,f.isExportSpecifier));case 246:return f.updateExportSpecifier(e,s(e.propertyName,t,f.isIdentifier),s(e.name,t,f.isIdentifier));case 248:return f.updateExternalModuleReference(e,s(e.expression,t,f.isExpression));case 249:return f.updateJsxElement(e,s(e.openingElement,t,f.isJsxOpeningElement),r(e.children,t,f.isJsxChild),s(e.closingElement,t,f.isJsxClosingElement));case 250:return f.updateJsxSelfClosingElement(e,s(e.tagName,t,f.isJsxTagNameExpression),s(e.attributes,t,f.isJsxAttributes));case 251:return f.updateJsxOpeningElement(e,s(e.tagName,t,f.isJsxTagNameExpression),s(e.attributes,t,f.isJsxAttributes));case 252:return f.updateJsxClosingElement(e,s(e.tagName,t,f.isJsxTagNameExpression));case 253:return f.updateJsxAttribute(e,s(e.name,t,f.isIdentifier),s(e.initializer,t,f.isStringLiteralOrJsxExpression));case 254:return f.updateJsxAttributes(e,r(e.properties,t,f.isJsxAttributeLike));case 255:return f.updateJsxSpreadAttribute(e,s(e.expression,t,f.isExpression));case 256:return f.updateJsxExpression(e,s(e.expression,t,f.isExpression));case 257:return f.updateCaseClause(e,s(e.expression,t,f.isExpression),r(e.statements,t,f.isStatement));case 258:return f.updateDefaultClause(e,r(e.statements,t,f.isStatement));case 259:return f.updateHeritageClause(e,r(e.types,t,f.isExpressionWithTypeArguments));case 260:return f.updateCatchClause(e,s(e.variableDeclaration,t,f.isVariableDeclaration),s(e.block,t,f.isBlock));case 261:return f.updatePropertyAssignment(e,s(e.name,t,f.isPropertyName),s(e.initializer,t,f.isExpression));case 262:return f.updateShorthandPropertyAssignment(e,s(e.name,t,f.isIdentifier),s(e.objectAssignmentInitializer,t,f.isExpression));case 263:return f.updateSpreadAssignment(e,s(e.expression,t,f.isExpression));case 264:return f.updateEnumMember(e,s(e.name,t,f.isPropertyName),s(e.initializer,t,f.isExpression));case 265:return f.updateSourceFileNode(e,c(e.statements,t,n));case 288:return f.updatePartiallyEmittedExpression(e,s(e.expression,t,f.isExpression));case 289:return f.updateCommaList(e,r(e.elements,t,f.isExpression));default:return e}}}}(ts=ts||{}),function(o){function c(e,t,n){return e?t(n,e):n}function l(e,t,n){return e?t(n,e):n}function n(e,t,n,r){if(void 0===e)return t;var i=r?l:o.reduceLeft,a=r||n,r=e.kind;if(0<r&&r<=142)return t;if(158<=r&&r<=173)return t;var s=t;switch(e.kind){case 206:case 209:case 200:case 225:case 287:break;case 143:s=c(e.left,n,s),s=c(e.right,n,s);break;case 144:s=c(e.expression,n,s);break;case 146:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,n,s),s=c(e.type,n,s),s=c(e.initializer,n,s);break;case 147:s=c(e.expression,n,s);break;case 148:s=i(e.modifiers,a,s),s=c(e.name,n,s),s=c(e.questionToken,n,s),s=c(e.type,n,s),s=c(e.initializer,n,s);break;case 149:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,n,s),s=c(e.type,n,s),s=c(e.initializer,n,s);break;case 151:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,n,s),s=i(e.typeParameters,a,s),s=i(e.parameters,a,s),s=c(e.type,n,s),s=c(e.body,n,s);break;case 152:s=i(e.modifiers,a,s),s=i(e.parameters,a,s),s=c(e.body,n,s);break;case 153:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,n,s),s=i(e.parameters,a,s),s=c(e.type,n,s),s=c(e.body,n,s);break;case 154:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,n,s),s=i(e.parameters,a,s),s=c(e.body,n,s);break;case 174:case 175:s=i(e.elements,a,s);break;case 176:s=c(e.propertyName,n,s),s=c(e.name,n,s),s=c(e.initializer,n,s);break;case 177:s=i(e.elements,a,s);break;case 178:s=i(e.properties,a,s);break;case 179:s=c(e.expression,n,s),s=c(e.name,n,s);break;case 180:s=c(e.expression,n,s),s=c(e.argumentExpression,n,s);break;case 181:case 182:s=c(e.expression,n,s),s=i(e.typeArguments,a,s),s=i(e.arguments,a,s);break;case 183:s=c(e.tag,n,s),s=c(e.template,n,s);break;case 184:s=c(e.type,n,s),s=c(e.expression,n,s);break;case 186:s=i(e.modifiers,a,s),s=c(e.name,n,s),s=i(e.typeParameters,a,s),s=i(e.parameters,a,s),s=c(e.type,n,s),s=c(e.body,n,s);break;case 187:s=i(e.modifiers,a,s),s=i(e.typeParameters,a,s),s=i(e.parameters,a,s),s=c(e.type,n,s),s=c(e.body,n,s);break;case 185:case 188:case 189:case 190:case 191:case 197:case 198:case 203:s=c(e.expression,n,s);break;case 192:case 193:s=c(e.operand,n,s);break;case 194:s=c(e.left,n,s),s=c(e.right,n,s);break;case 195:s=c(e.condition,n,s),s=c(e.whenTrue,n,s),s=c(e.whenFalse,n,s);break;case 196:s=c(e.head,n,s),s=i(e.templateSpans,a,s);break;case 199:s=i(e.modifiers,a,s),s=c(e.name,n,s),s=i(e.typeParameters,a,s),s=i(e.heritageClauses,a,s),s=i(e.members,a,s);break;case 201:s=c(e.expression,n,s),s=i(e.typeArguments,a,s);break;case 202:s=c(e.expression,n,s),s=c(e.type,n,s);break;case 205:s=c(e.expression,n,s),s=c(e.literal,n,s);break;case 207:s=i(e.statements,a,s);break;case 208:s=i(e.modifiers,a,s),s=c(e.declarationList,n,s);break;case 210:s=c(e.expression,n,s);break;case 211:s=c(e.expression,n,s),s=c(e.thenStatement,n,s),s=c(e.elseStatement,n,s);break;case 212:s=c(e.statement,n,s),s=c(e.expression,n,s);break;case 213:case 220:s=c(e.expression,n,s),s=c(e.statement,n,s);break;case 214:s=c(e.initializer,n,s),s=c(e.condition,n,s),s=c(e.incrementor,n,s),s=c(e.statement,n,s);break;case 215:case 216:s=c(e.initializer,n,s),s=c(e.expression,n,s),s=c(e.statement,n,s);break;case 219:case 223:s=c(e.expression,n,s);break;case 221:s=c(e.expression,n,s),s=c(e.caseBlock,n,s);break;case 222:s=c(e.label,n,s),s=c(e.statement,n,s);break;case 224:s=c(e.tryBlock,n,s),s=c(e.catchClause,n,s),s=c(e.finallyBlock,n,s);break;case 226:s=c(e.name,n,s),s=c(e.type,n,s),s=c(e.initializer,n,s);break;case 227:s=i(e.declarations,a,s);break;case 228:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,n,s),s=i(e.typeParameters,a,s),s=i(e.parameters,a,s),s=c(e.type,n,s),s=c(e.body,n,s);break;case 229:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,n,s),s=i(e.typeParameters,a,s),s=i(e.heritageClauses,a,s),s=i(e.members,a,s);break;case 232:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,n,s),s=i(e.members,a,s);break;case 233:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,n,s),s=c(e.body,n,s);break;case 234:s=i(e.statements,a,s);break;case 235:s=i(e.clauses,a,s);break;case 237:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.name,n,s),s=c(e.moduleReference,n,s);break;case 238:s=i(e.decorators,a,s),s=i(e.modifiers,a,s),s=c(e.importClause,n,s),s=c(e.moduleSpecifier,n,s);break;case 239:s=c(e.name,n,s),s=c(e.namedBindings,n,s);break;case 240:s=c(e.name,n,s);break;case 241:case 245:s=i(e.elements,a,s);break;case 242:case 246:s=c(e.propertyName,n,s),s=c(e.name,n,s);break;case 243:s=o.reduceLeft(e.decorators,n,s),s=o.reduceLeft(e.modifiers,n,s),s=c(e.expression,n,s);break;case 244:s=o.reduceLeft(e.decorators,n,s),s=o.reduceLeft(e.modifiers,n,s),s=c(e.exportClause,n,s),s=c(e.moduleSpecifier,n,s);break;case 248:s=c(e.expression,n,s);break;case 249:s=c(e.openingElement,n,s),s=o.reduceLeft(e.children,n,s),s=c(e.closingElement,n,s);break;case 250:case 251:s=c(e.tagName,n,s),s=c(e.attributes,n,s);break;case 254:s=i(e.properties,a,s);break;case 252:s=c(e.tagName,n,s);break;case 253:s=c(e.name,n,s),s=c(e.initializer,n,s);break;case 255:case 256:s=c(e.expression,n,s);break;case 257:s=c(e.expression,n,s);case 258:s=i(e.statements,a,s);break;case 259:s=i(e.types,a,s);break;case 260:s=c(e.variableDeclaration,n,s),s=c(e.block,n,s);break;case 261:s=c(e.name,n,s),s=c(e.initializer,n,s);break;case 262:s=c(e.name,n,s),s=c(e.objectAssignmentInitializer,n,s);break;case 263:s=c(e.expression,n,s);break;case 264:s=c(e.name,n,s),s=c(e.initializer,n,s);break;case 265:s=i(e.statements,a,s);break;case 288:s=c(e.expression,n,s);break;case 289:s=i(e.elements,a,s)}return s}function s(e){var t;return void 0===e?0:536870912&e.transformFlags?e.transformFlags&~o.getTransformFlagsSubtreeExclusions(e.kind):(t=e,t=o.hasModifier(t,2)||o.isTypeNode(t)&&201!==t.kind?0:n(t,0,r,i),o.computeTransformFlagsForNode(e,t))}function r(e,t){return e|s(t)}function i(e,t){return e|function(e){if(void 0===e)return 0;for(var t=0,n=0,r=0,i=e;r<i.length;r++){var a=i[r];t|=s(a),n|=-536870913&a.transformFlags}return e.transformFlags=536870912|n,t}(t)}var t,a,u;o.reduceEachChild=n,o.mergeLexicalEnvironment=function(e,t){return o.some(t)?o.isNodeArray(e)?o.setTextRange(o.createNodeArray(o.concatenate(e,t)),e):o.addRange(e,t):e},o.liftToBlock=function(e){return t.assert(o.every(e,o.isStatement),"Cannot lift nodes to a Block."),o.singleOrUndefined(e)||o.createBlock(e)},o.aggregateTransformFlags=function(e){return s(e),e},a=t=o.Debug||(o.Debug={}),u=!1,a.failBadSyntaxKind=a.shouldAssert(1)?function(e,t){return a.fail((t||"Unexpected node.")+"\r\nNode "+o.formatSyntaxKind(e.kind)+" was unexpected.",a.failBadSyntaxKind)}:o.noop,a.assertEachNode=a.shouldAssert(1)?function(e,t,n){return a.assert(void 0===t||o.every(e,t),n||"Unexpected node.",function(){return"Node array did not pass test '"+a.getFunctionName(t)+"'."},a.assertEachNode)}:o.noop,a.assertNode=a.shouldAssert(1)?function(e,t,n){return a.assert(void 0===t||t(e),n||"Unexpected node.",function(){return"Node "+o.formatSyntaxKind(e.kind)+" did not pass test '"+a.getFunctionName(t)+"'."},a.assertNode)}:o.noop,a.assertOptionalNode=a.shouldAssert(1)?function(e,t,n){return a.assert(void 0===t||void 0===e||t(e),n||"Unexpected node.",function(){return"Node "+o.formatSyntaxKind(e.kind)+" did not pass test '"+a.getFunctionName(t)+"'."},a.assertOptionalNode)}:o.noop,a.assertOptionalToken=a.shouldAssert(1)?function(e,t,n){return a.assert(void 0===t||void 0===e||e.kind===t,n||"Unexpected node.",function(){return"Node "+o.formatSyntaxKind(e.kind)+" was not a '"+o.formatSyntaxKind(t)+"' token."},a.assertOptionalToken)}:o.noop,a.assertMissingNode=a.shouldAssert(1)?function(e,t){return a.assert(void 0===e,t||"Unexpected node.",function(){return"Node "+o.formatSyntaxKind(e.kind)+" was unexpected'."},a.assertMissingNode)}:o.noop,a.enableDebugInfo=function(){if(!u){Object.defineProperties(o.objectAllocator.getSymbolConstructor().prototype,{__debugFlags:{get:function(){return o.formatSymbolFlags(this.flags)}}}),Object.defineProperties(o.objectAllocator.getTypeConstructor().prototype,{__debugFlags:{get:function(){return o.formatTypeFlags(this.flags)}},__debugObjectFlags:{get:function(){return 32768&this.flags?o.formatObjectFlags(this.objectFlags):""}},__debugTypeToString:{value:function(){return this.checker.typeToString(this)}}});for(var e=0,t=[o.objectAllocator.getNodeConstructor(),o.objectAllocator.getIdentifierConstructor(),o.objectAllocator.getTokenConstructor(),o.objectAllocator.getSourceFileConstructor()];e<t.length;e++){var n=t[e];n.prototype.hasOwnProperty("__debugKind")||Object.defineProperties(n.prototype,{__debugKind:{get:function(){return o.formatSyntaxKind(this.kind)}},__debugModifierFlags:{get:function(){return o.formatModifierFlags(o.getModifierFlagsNoCache(this))}},__debugTransformFlags:{get:function(){return o.formatTransformFlags(this.transformFlags)}},__debugEmitFlags:{get:function(){return o.formatEmitFlags(o.getEmitFlags(this))}},__debugGetText:{value:function(e){var t,n;return!o.nodeIsSynthesized(this)&&(n=(t=o.getParseTreeNode(this))&&o.getSourceFileOfNode(t))?o.getSourceTextOfNodeFromSourceFile(n,t,e):""}}})}u=!0}}}(ts=ts||{}),function(x){function k(e){return(e=x.getOriginalNode(e))?x.getNodeId(e):0}function S(e,t,n){var r=e[t];r?r.push(n):e[t]=r=[n]}x.getOriginalNodeId=k,x.collectExternalModuleInfo=function(e,t,n){for(var r=[],i=x.createMultiMap(),a=[],s=x.createMap(),o=!1,c=void 0,l=!1,u=0,d=e.statements;u<d.length;u++){var p=d[u];switch(p.kind){case 238:r.push(p);break;case 237:248===p.moduleReference.kind&&r.push(p);break;case 244:if(p.moduleSpecifier)p.exportClause?r.push(p):(r.push(p),l=!0);else for(var f=0,_=p.exportClause.elements;f<_.length;f++){var m,g=_[f];s.get(x.idText(g.name))||(m=g.propertyName||g.name,i.add(x.idText(m),g),(v=t.getReferencedImportDeclaration(m)||t.getReferencedValueDeclaration(m))&&S(a,k(v),g.name),s.set(x.idText(g.name),!0),b=x.append(b,g.name))}break;case 243:p.isExportEquals&&!c&&(c=p);break;case 208:if(x.hasModifier(p,1))for(var h=0,y=p.declarationList.declarations;h<y.length;h++)var v,b=function e(t,n,r){var i;if(x.isBindingPattern(t.name))for(var a=0,s=t.name.elements;a<s.length;a++){var o=s[a];x.isOmittedExpression(o)||(r=e(o,n,r))}else x.isGeneratedIdentifier(t.name)||(i=x.idText(t.name),n.get(i))||(n.set(i,!0),r=x.append(r,t.name));return r}(v=y[h],s,b);break;case 228:x.hasModifier(p,1)&&(x.hasModifier(p,512)?o||(S(a,k(p),x.getDeclarationName(p)),o=!0):(m=p.name,s.get(x.idText(m))||(S(a,k(p),m),s.set(x.idText(m),!0),b=x.append(b,m))));break;case 229:x.hasModifier(p,1)&&(x.hasModifier(p,512)?o||(S(a,k(p),x.getDeclarationName(p)),o=!0):(m=p.name)&&!s.get(x.idText(m))&&(S(a,k(p),m),s.set(x.idText(m),!0),b=x.append(b,m)))}}e=x.getOrCreateExternalHelpersModuleNameIfNeeded(e,n,l),n=e&&x.createImportDeclaration(void 0,void 0,x.createImportClause(void 0,x.createNamespaceImport(e)),x.createLiteral(x.externalHelpersModuleNameText));return n&&r.unshift(n),{externalImports:r,exportSpecifiers:i,exportEquals:c,hasExportStarsToExportValues:l,exportedBindings:a,exportedNames:b,externalHelpersImportDeclaration:n}},x.isSimpleCopiableExpression=function(e){return 9===e.kind||8===e.kind||13===e.kind||x.isKeyword(e.kind)||x.isIdentifier(e)}}(ts=ts||{}),function(F){function L(e,t,n,r,i){i||(i=F.visitNode(F.getInitializerOfBindingOrAssignmentElement(t),e.visitor,F.isExpression),n=i?n?(a=i,l=R(e,n,!0,r),F.createConditional(F.createTypeCheck(l,"undefined"),a,l)):i:n||F.createVoidZero());var a=F.getTargetOfBindingOrAssignmentElement(t);if(F.isObjectBindingOrAssignmentPattern(a)){var s,o,c=e,l=t,u=a,d=n,p=r,f=F.getElementsOfBindingOrAssignmentPattern(u),_=f.length;1!==_&&(d=R(c,d,!F.isDeclarationBindingElement(l)||0!==_,p));for(var m=0;m<_;m++){var g,h,y=f[m];F.getRestIndicatorOfBindingOrAssignmentElement(y)?m===_-1&&(s&&(c.emitBindingOrAssignment(c.createObjectBindingOrAssignmentPattern(s),d,p,u),s=void 0),L(c,y,h=function(e,t,n,r,i){e.requestEmitHelper(M);for(var a=[],s=0,o=0;o<n.length-1;o++){var c,l=F.getPropertyNameOfBindingOrAssignmentElement(n[o]);l&&(F.isComputedPropertyName(l)?(c=r[s],s++,a.push(F.createConditional(F.createTypeCheck(c,"symbol"),c,F.createAdd(c,F.createLiteral(""))))):a.push(F.createLiteral(l)))}return F.createCall(F.getHelperName("__rest"),void 0,[t,F.setTextRange(F.createArrayLiteral(a),i)])}(c.context,d,f,o,u),y)):(g=F.getPropertyNameOfBindingOrAssignmentElement(y),!(1<=c.level)||1572864&y.transformFlags||1572864&F.getTargetOfBindingOrAssignmentElement(y).transformFlags||F.isComputedPropertyName(g)?(s&&(c.emitBindingOrAssignment(c.createObjectBindingOrAssignmentPattern(s),d,p,u),s=void 0),h=function(e,t,n){{var r;if(F.isComputedPropertyName(n))return r=R(e,F.visitNode(n.expression,e.visitor),!1,n),F.createElementAccess(t,r)}return F.isStringOrNumericLiteral(n)?((r=F.getSynthesizedClone(n)).text=r.text,F.createElementAccess(t,r)):(e=F.createIdentifier(F.idText(n)),F.createPropertyAccess(t,e))}(c,d,g),F.isComputedPropertyName(g)&&(o=F.append(o,h.argumentExpression)),L(c,y,h,y)):s=F.append(s,y))}s&&c.emitBindingOrAssignment(c.createObjectBindingOrAssignmentPattern(s),d,p,u)}else if(F.isArrayBindingOrAssignmentPattern(a)){var v,b,x=e,i=t,k=a,S=n,T=r,C=F.getElementsOfBindingOrAssignmentPattern(k),E=C.length;x.level<1&&x.downlevelIteration?S=R(x,F.createReadHelper(x.context,S,0<E&&F.getRestIndicatorOfBindingOrAssignmentElement(C[E-1])?void 0:E,T),!1,T):(1!==E&&(x.level<1||0===E)||F.every(C,F.isOmittedExpression))&&(S=R(x,S,!F.isDeclarationBindingElement(i)||0!==E,T));for(var D=0;D<E;D++){var A,N=C[D];1<=x.level?v=1048576&N.transformFlags?(A=F.createTempVariable(void 0),x.hoistTempVariables&&x.context.hoistVariableDeclaration(A),b=F.append(b,[A,N]),F.append(v,x.createArrayBindingOrAssignmentElement(A))):F.append(v,N):F.isOmittedExpression(N)||(F.getRestIndicatorOfBindingOrAssignmentElement(N)?D===E-1&&L(x,N,F.createArraySlice(S,D),N):L(x,N,F.createElementAccess(S,D),N))}if(v&&x.emitBindingOrAssignment(x.createArrayBindingOrAssignmentPattern(v),S,T,k),b)for(var w=0,I=b;w<I.length;w++){var P=I[w],O=P[0];L(x,N=P[1],O,N)}}else e.emitBindingOrAssignment(a,n,r,t)}function R(e,t,n,r){return F.isIdentifier(t)&&n?t:(n=F.createTempVariable(void 0),e.hoistTempVariables?(e.context.hoistVariableDeclaration(n),e.emitExpression(F.setTextRange(F.createAssignment(n,t),r))):e.emitBindingOrAssignment(n,t,r,void 0),n)}function y(e){return F.Debug.assertEachNode(e,F.isArrayBindingElement),F.createArrayBindingPattern(e)}function u(e){return F.createArrayLiteral(F.map(e,F.convertToArrayAssignmentElement))}function v(e){return F.Debug.assertEachNode(e,F.isBindingElement),F.createObjectBindingPattern(e)}function d(e){return F.createObjectLiteral(F.map(e,F.convertToObjectAssignmentElement))}function b(e){return F.createBindingElement(void 0,void 0,e)}function p(e){return e}(e=F.FlattenLevel||(F.FlattenLevel={}))[e.All=0]="All",e[e.ObjectRest=1]="ObjectRest",F.flattenDestructuringAssignment=function(e,i,t,n,r,a){var s,o,c=e;if(F.isDestructuringAssignment(e))for(s=e.right;F.isEmptyArrayLiteral(e.left)||F.isEmptyObjectLiteral(e.left);){if(!F.isDestructuringAssignment(s))return s;c=e=s,s=e.right}n={context:t,level:n,downlevelIteration:t.getCompilerOptions().downlevelIteration,hoistTempVariables:!0,emitExpression:l,emitBindingOrAssignment:function(e,t,n,r){F.Debug.assertNode(e,a?F.isIdentifier:F.isExpression);e=a?a(e,t,n):F.setTextRange(F.createAssignment(F.visitNode(e,i,F.isExpression),t),n);e.original=r,l(e)},createArrayBindingOrAssignmentPattern:u,createObjectBindingOrAssignmentPattern:d,createArrayBindingOrAssignmentElement:p,visitor:i};if(s&&(s=F.visitNode(s,i,F.isExpression),r?s=R(n,s,!0,c):F.nodeIsSynthesized(e)&&(c=s)),L(n,e,s,c,F.isDestructuringAssignment(e)),s&&r){if(!F.some(o))return s;o.push(s)}return F.aggregateTransformFlags(F.inlineExpressions(o))||F.createOmittedExpression();function l(e){F.setEmitFlags(e,64),F.aggregateTransformFlags(e),o=F.append(o,e)}};var e,M={name:"typescript:rest",scoped:!(F.flattenDestructuringBinding=function(e,t,n,r,i,a,s){var o,c,l=[],u=[];L({context:n,level:r,downlevelIteration:n.getCompilerOptions().downlevelIteration,hoistTempVariables:a,emitExpression:function(e){c=F.append(c,e)},emitBindingOrAssignment:h,createArrayBindingOrAssignmentPattern:y,createObjectBindingOrAssignmentPattern:v,createArrayBindingOrAssignmentElement:b,visitor:t},e,i,e,s),c&&(r=F.createTempVariable(void 0),a?h(r,o=F.inlineExpressions(c),c=void 0,void 0):(n.hoistVariableDeclaration(r),(t=F.lastOrUndefined(l)).pendingExpressions=F.append(t.pendingExpressions,F.createAssignment(r,t.value)),F.addRange(t.pendingExpressions,c),t.value=r));for(var d=0,p=l;d<p.length;d++){var f=p[d],_=f.pendingExpressions,m=f.name,g=(o=f.value,f.location),f=f.original,_=F.createVariableDeclaration(m,void 0,_?F.inlineExpressions(F.append(_,o)):o);_.original=f,F.setTextRange(_,g),F.isIdentifier(m)&&F.setEmitFlags(_,64),F.aggregateTransformFlags(_),u.push(_)}return u;function h(e,t,n,r){F.Debug.assertNode(e,F.isBindingName),c&&(t=F.inlineExpressions(F.append(c,t)),c=void 0),l.push({pendingExpressions:c,name:e,value:t,location:n,original:r})}}),text:'\n            var __rest = (this && this.__rest) || function (s, e) {\n                var t = {};\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n                    t[p] = s[p];\n                if (s != null && typeof Object.getOwnPropertySymbols === "function")\n                    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n                        t[p[i]] = s[p[i]];\n                return t;\n            };'}}(ts=ts||{}),function(Ne){function we(e,t,n,r,i,a){var s=[];return s.push(Ne.createArrayLiteral(t,!0)),s.push(n),r&&(s.push(r),i)&&s.push(i),e.requestEmitHelper(o),Ne.setTextRange(Ne.createCall(Ne.getHelperName("__decorate"),void 0,s),a)}var o={name:"typescript:decorate",scoped:!(Ne.transformTypeScript=function(I){var P,O,F,L,R,M,U,a,B=I.startLexicalEnvironment,_=I.resumeLexicalEnvironment,j=I.endLexicalEnvironment,K=I.hoistVariableDeclaration,z=I.getEmitResolver(),$=I.getCompilerOptions(),d=void 0===$.strictNullChecks?$.strict:$.strictNullChecks,J=Ne.getEmitScriptTarget($),q=Ne.getEmitModuleKind($),o=I.onEmitNode,c=I.onSubstituteNode;return I.onEmitNode=function(e,t,n){var r=a,i=P;Ne.isSourceFile(t)&&(P=t),2&M&&233===Ne.getOriginalNode(t).kind&&(a|=2),8&M&&232===Ne.getOriginalNode(t).kind&&(a|=8),o(e,t,n),a=r,P=i},I.onSubstituteNode=function(e,t){if(t=c(e,t),1===e){var n,r,i=t;switch(i.kind){case 71:return function(e){if(1&M&&16777216&z.getNodeCheckFlags(e)){var t=z.getReferencedValueDeclaration(e);if(t){var t=U[t.id];if(t)return t=Ne.getSynthesizedClone(t),Ne.setSourceMapRange(t,e),Ne.setCommentRange(t,e),t}}}(r=i)||Ae(r)||r;case 179:case 180:return void 0===(n=function(e){return!$.isolatedModules&&(Ne.isPropertyAccessExpression(e)||Ne.isElementAccessExpression(e))?z.getConstantValue(e):void 0}(r=i))?r:(Ne.setConstantValue(r,n),n=Ne.createLiteral(n),$.removeComments||(r=Ne.isPropertyAccessExpression(r)?Ne.declarationNameToString(r.name):Ne.getTextOfNode(r.argumentExpression),Ne.addSyntheticTrailingComment(n,3," "+r+" ")),n)}return i}if(Ne.isShorthandPropertyAssignment(t)){e=t;if(2&M){var a,s=e.name,o=Ae(s);if(o)return e.objectAssignmentInitializer?(a=Ne.createAssignment(o,e.objectAssignmentInitializer),Ne.setTextRange(Ne.createPropertyAssignment(s,a),e)):Ne.setTextRange(Ne.createPropertyAssignment(s,o),e)}return e}return t},I.enableSubstitution(179),I.enableSubstitution(180),function(e){return e.isDeclarationFile||(e=V(P=e,y),Ne.addEmitHelpers(e,I.readEmitHelpers()),P=void 0),e};function V(e,t){var n=L,r=R,i=e;switch(i.kind){case 265:case 235:case 234:case 207:L=i,R=void 0;break;case 229:case 228:Ne.hasModifier(i,2)||(i.name?N(i):Ne.Debug.assert(229===i.kind||Ne.hasModifier(i,512)))}t=t(e);return L!==n&&(R=r),L=n,t}function H(e){return V(e,s)}function s(e){return 1&e.transformFlags?t(e):2&e.transformFlags?Ne.visitEachChild(e,H,I):e}function i(e){return V(e,p)}function p(e){switch(e.kind){case 238:case 237:case 243:case 244:var t,n,r,i=e;if(Ne.getParseTreeNode(i)!==i)return i;switch(i.kind){case 238:return(n=i).importClause?(r=Ne.visitNode(n.importClause,_e,Ne.isImportClause))?Ne.updateImportDeclaration(n,void 0,void 0,r,n.moduleSpecifier):void 0:n;case 237:return ve(i);case 243:return r=i,z.isValueAliasDeclaration(r)?Ne.visitEachChild(r,H,I):void 0;case 244:return(n=i).exportClause?z.isValueAliasDeclaration(n)&&(t=Ne.visitNode(n.exportClause,he,Ne.isNamedExports))?Ne.updateExportDeclaration(n,void 0,void 0,t,n.moduleSpecifier):void 0:$.isolatedModules||z.moduleExportsSomeValue(n.moduleSpecifier)?n:void 0;default:Ne.Debug.fail("Unhandled ellided statement")}return;default:return s(e)}}function ae(e){return V(e,m)}function m(e){if(244!==e.kind&&238!==e.kind&&239!==e.kind&&(237!==e.kind||248!==e.moduleReference.kind))return 1&e.transformFlags||Ne.hasModifier(e,1)?t(e):2&e.transformFlags?Ne.visitEachChild(e,H,I):e}function g(e){return V(e,h)}function h(e){switch(e.kind){case 152:return;case 149:case 157:case 153:case 154:case 151:return s(e);case 206:return e;default:return void Ne.Debug.failBadSyntaxKind(e)}}function G(e){if(!(2270&Ne.modifierToFlag(e.kind)||O&&84===e.kind))return e}function t(e){if(Ne.hasModifier(e,2)&&Ne.isStatement(e))return Ne.createNotEmittedStatement(e);switch(e.kind){case 84:case 79:return O?void 0:e;case 114:case 112:case 113:case 117:case 76:case 124:case 131:case 164:case 165:case 163:case 158:case 145:case 119:case 122:case 136:case 133:case 130:case 105:case 137:case 161:case 160:case 162:case 159:case 166:case 167:case 168:case 169:case 170:case 171:case 172:case 173:case 157:case 147:case 231:case 149:case 236:return;case 152:var t=e;return ne(t)?Ne.updateConstructor(t,Ne.visitNodes(t.decorators,H,Ne.isDecorator),Ne.visitNodes(t.modifiers,H,Ne.isModifier),Ne.visitParameterList(t.parameters,H,I),Ne.visitFunctionBody(t.body,H,I)):void 0;case 230:return Ne.createNotEmittedStatement(e);case 229:return E=Q(t=e,!0),A=t,w=0,Ne.some(E)&&(w|=1),(D=Ne.getClassExtendsHeritageClauseElement(A))&&95!==Ne.skipOuterExpressions(D.expression).kind&&(w|=64),(A.decorators&&0<A.decorators.length||(D=Ne.getFirstConstructorWithBody(A))&&Ne.forEach(D.parameters,se))&&(w|=2),Ne.childIsDecorated(A)&&(w|=4),re(A)?w|=8:ie(D=A)&&Ne.hasModifier(D,512)?w|=32:be(A)&&(w|=16),J<=1&&7&w&&(w|=128),128&(D=w)&&I.startLexicalEnvironment(),A=t.name||(5&D?Ne.getGeneratedNameForNode(t):void 0),w=[N=2&D?(w=t,x=A,k=D,N=Ne.moveRangePastDecorators(w),S=function(e){var t;if(8388608&z.getNodeCheckFlags(e))return De(),t=Ne.createUniqueName(e.name&&!Ne.isGeneratedIdentifier(e.name)?Ne.idText(e.name):"default"),U[Ne.getOriginalNodeId(e)]=t,K(t),t}(w),T=Ne.getLocalName(w,!1,!0),C=Ne.visitNodes(w.heritageClauses,H,Ne.isHeritageClause),k=W(w,0!=(64&k)),x=Ne.createClassExpression(void 0,x,void 0,C,k),Ne.setOriginalNode(x,w),Ne.setTextRange(x,N),C=Ne.createVariableStatement(void 0,Ne.createVariableDeclarationList([Ne.createVariableDeclaration(T,void 0,S?Ne.createAssignment(S,x):x)],1)),Ne.setOriginalNode(C,w),Ne.setTextRange(C,N),Ne.setCommentRange(C,w),C):(k=t,T=A,x=128&(S=D)?void 0:Ne.visitNodes(k.modifiers,G,Ne.isModifier),x=Ne.createClassDeclaration(void 0,x,T,void 0,Ne.visitNodes(k.heritageClauses,H,Ne.isHeritageClause),W(k,0!=(64&S))),T=Ne.getEmitFlags(k),1&S&&(T|=32),Ne.setTextRange(x,k),Ne.setOriginalNode(x,k),Ne.setEmitFlags(x,T),x)],1&D&&Y(w,E,128&D?Ne.getInternalName(t):Ne.getLocalName(t)),oe(w,t,!1),oe(w,t,!0),C=w,(E=function(n){var e,t,r=function(){var e=n.decorators,t=Z(Ne.getFirstConstructorWithBody(n));if(e||t)return{decorators:e,parameters:t}}(),r=ee(n,n,r);if(r)return e=U&&U[Ne.getOriginalNodeId(n)],t=Ne.getLocalName(n,!1,!0),r=we(I,r,t),t=Ne.createAssignment(t,e?Ne.createAssignment(e,r):r),Ne.setEmitFlags(t,1536),Ne.setSourceMapRange(t,Ne.moveRangePastDecorators(n)),t}(A=t))&&C.push(Ne.setOriginalNode(Ne.createStatement(E),A)),128&D&&(E=Ne.createTokenRange(Ne.skipTrivia(P.text,t.members.end),18),A=Ne.getInternalName(t),(A=Ne.createPartiallyEmittedExpression(A)).end=E.end,Ne.setEmitFlags(A,1536),(A=Ne.createReturn(A)).pos=E.pos,Ne.setEmitFlags(A,1920),w.push(A),Ne.addRange(w,I.endLexicalEnvironment()),E=Ne.createImmediatelyInvokedArrowFunction(w),Ne.setEmitFlags(E,33554432),A=Ne.createVariableStatement(void 0,Ne.createVariableDeclarationList([Ne.createVariableDeclaration(Ne.getLocalName(t,!1,!1),void 0,E)])),Ne.setOriginalNode(A,t),Ne.setCommentRange(A,t),Ne.setSourceMapRange(A,Ne.moveRangePastDecorators(t)),Ne.startOnNewLine(A),w=[A]),8&D?ke(w,t):(128&D||2&D)&&(32&D?w.push(Ne.createExportDefault(Ne.getLocalName(t,!1,!0))):16&D&&w.push(Ne.createExternalModuleExport(Ne.getLocalName(t,!1,!0)))),1<w.length&&(w.push(Ne.createEndOfDeclarationMarker(t)),Ne.setEmitFlags(N,4194304|Ne.getEmitFlags(N))),Ne.singleOrMany(w);case 199:return b=Q(E=e,!0),A=Ne.visitNodes(E.heritageClauses,H,Ne.isHeritageClause),D=W(E,Ne.some(A,function(e){return 85===e.token})),A=Ne.createClassExpression(void 0,E.name,void 0,A,D),Ne.setOriginalNode(A,E),Ne.setTextRange(A,E),0<b.length?(D=[],w=Ne.createTempVariable(K),8388608&z.getNodeCheckFlags(E)&&(De(),U[Ne.getOriginalNodeId(E)]=Ne.getSynthesizedClone(w)),Ne.setEmitFlags(A,65536|Ne.getEmitFlags(A)),D.push(Ne.startOnNewLine(Ne.createAssignment(w,A))),Ne.addRange(D,function(e){for(var t=[],n=0,r=b;n<r.length;n++){var i=r[n],a=X(i,e);a.startsOnNewLine=!0,Ne.setSourceMapRange(a,Ne.moveRangePastModifiers(i)),Ne.setCommentRange(a,i),t.push(a)}return t}(w)),D.push(Ne.startOnNewLine(w)),Ne.inlineExpressions(D)):A;case 259:var n=e;return 85===n.token?(r=Ne.visitNodes(n.types,H,Ne.isExpressionWithTypeArguments,0,1),Ne.setTextRange(Ne.createHeritageClause(85,r),n)):void 0;case 201:return Ne.updateExpressionWithTypeArguments(e,void 0,Ne.visitNode(e.expression,H,Ne.isLeftHandSideExpression));case 151:var r=e;return ne(r)?((n=Ne.updateMethod(r,void 0,Ne.visitNodes(r.modifiers,G,Ne.isModifier),r.asteriskToken,te(r),void 0,void 0,Ne.visitParameterList(r.parameters,H,I),void 0,Ne.visitFunctionBody(r.body,H,I)))!==r&&(Ne.setCommentRange(n,r),Ne.setSourceMapRange(n,Ne.moveRangePastDecorators(r))),n):void 0;case 153:var i=e;return ce(i)?((a=Ne.updateGetAccessor(i,void 0,Ne.visitNodes(i.modifiers,G,Ne.isModifier),te(i),Ne.visitParameterList(i.parameters,H,I),void 0,Ne.visitFunctionBody(i.body,H,I)||Ne.createBlock([])))!==i&&(Ne.setCommentRange(a,i),Ne.setSourceMapRange(a,Ne.moveRangePastDecorators(i))),a):void 0;case 154:var a,i=e;return ce(i)?((a=Ne.updateSetAccessor(i,void 0,Ne.visitNodes(i.modifiers,G,Ne.isModifier),te(i),Ne.visitParameterList(i.parameters,H,I),Ne.visitFunctionBody(i.body,H,I)||Ne.createBlock([])))!==i&&(Ne.setCommentRange(a,i),Ne.setSourceMapRange(a,Ne.moveRangePastDecorators(i))),a):void 0;case 228:return ne(h=e)?(y=Ne.updateFunctionDeclaration(h,void 0,Ne.visitNodes(h.modifiers,G,Ne.isModifier),h.asteriskToken,h.name,void 0,Ne.visitParameterList(h.parameters,H,I),void 0,Ne.visitFunctionBody(h.body,H,I)||Ne.createBlock([])),re(h)?(ke(v=[y],h),v):y):Ne.createNotEmittedStatement(h);case 186:return ne(v=e)?Ne.updateFunctionExpression(v,Ne.visitNodes(v.modifiers,G,Ne.isModifier),v.asteriskToken,v.name,void 0,Ne.visitParameterList(v.parameters,H,I),void 0,Ne.visitFunctionBody(v.body,H,I)||Ne.createBlock([])):Ne.createOmittedExpression();case 187:return y=e,Ne.updateArrowFunction(y,Ne.visitNodes(y.modifiers,G,Ne.isModifier),void 0,Ne.visitParameterList(y.parameters,H,I),void 0,y.equalsGreaterThanToken,Ne.visitFunctionBody(y.body,H,I));case 146:h=e;return Ne.parameterIsThisKeyword(h)?void 0:(m=Ne.createParameter(void 0,void 0,h.dotDotDotToken,Ne.visitNode(h.name,H,Ne.isBindingName),void 0,void 0,Ne.visitNode(h.initializer,H,Ne.isExpression)),Ne.setOriginalNode(m,h),Ne.setTextRange(m,Ne.moveRangePastModifiers(h)),Ne.setCommentRange(m,h),Ne.setSourceMapRange(m,Ne.moveRangePastModifiers(h)),Ne.setEmitFlags(m.name,32),m);case 185:return m=e,g=Ne.skipOuterExpressions(m.expression,-3),Ne.isAssertionExpression(g)?(g=Ne.visitNode(m.expression,H,Ne.isExpression),Ne.createPartiallyEmittedExpression(g,m)):Ne.visitEachChild(m,H,I);case 184:case 202:return g=e,_=Ne.visitNode(g.expression,H,Ne.isExpression),Ne.createPartiallyEmittedExpression(_,g);case 181:return _=e,Ne.updateCall(_,Ne.visitNode(_.expression,H,Ne.isExpression),void 0,Ne.visitNodes(_.arguments,H,Ne.isExpression));case 182:return f=e,Ne.updateNew(f,Ne.visitNode(f.expression,H,Ne.isExpression),void 0,Ne.visitNodes(f.arguments,H,Ne.isExpression));case 203:return f=e,l=Ne.visitNode(f.expression,H,Ne.isLeftHandSideExpression),Ne.createPartiallyEmittedExpression(l,f);case 232:var s,o,c,l=e;return!Ne.isConst(l)||$.preserveConstEnums||$.isolatedModules?(u=2,!pe(s=[],l)||q===Ne.ModuleKind.System&&L===P||(u|=512),c=Ce(l),d=Ee(l),p=Ne.hasModifier(l,1)?Ne.getExternalModuleOrNamespaceExportName(F,l,!1,!0):Ne.getLocalName(l,!1,!0),p=Ne.createLogicalOr(p,Ne.createAssignment(p,Ne.createObjectLiteral())),de(l)&&(o=Ne.getLocalName(l,!1,!0),p=Ne.createAssignment(o,p)),c=Ne.createStatement(Ne.createCall(Ne.createFunctionExpression(void 0,void 0,void 0,void 0,[Ne.createParameter(void 0,void 0,void 0,c)],void 0,(o=l,c=F,F=d,d=[],B(),Ne.addRange(d,Ne.map(o.members,ue)),Ne.addRange(d,j()),F=c,Ne.createBlock(Ne.setTextRange(Ne.createNodeArray(d),o.members),!0))),void 0,[p])),Ne.setOriginalNode(c,l),Ne.setTextRange(c,l),Ne.setEmitFlags(c,u),s.push(c),s.push(Ne.createEndOfDeclarationMarker(l)),s):void 0;case 208:return re(d=e)?0===(p=Ne.getInitializedVariables(d.declarationList)).length?void 0:Ne.setTextRange(Ne.createStatement(Ne.inlineExpressions(Ne.map(p,le))),d):Ne.visitEachChild(d,H,I);case 226:return u=e,Ne.updateVariableDeclaration(u,Ne.visitNode(u.name,H,Ne.isBindingName),void 0,Ne.visitNode(u.initializer,H,Ne.isExpression));case 233:return function l(e){if(!function(e){return Ne.isInstantiatedModule(e,$.preserveConstEnums||$.isolatedModules)}(e))return Ne.createNotEmittedStatement(e);Ne.Debug.assertNode(e.name,Ne.isIdentifier,"A TypeScript namespace should have an Identifier name."),0==(2&M)&&(M|=2,I.enableSubstitution(71),I.enableSubstitution(262),I.enableEmitNotification(233));var t=[],n=2;!pe(t,e)||q===Ne.ModuleKind.System&&L===P||(n|=512);var r=Ce(e),i=Ee(e),a=Ne.hasModifier(e,1)?Ne.getExternalModuleOrNamespaceExportName(F,e,!1,!0):Ne.getLocalName(e,!1,!0),a=Ne.createLogicalOr(a,Ne.createAssignment(a,Ne.createObjectLiteral()));de(e)&&(s=Ne.getLocalName(e,!1,!0),a=Ne.createAssignment(s,a));var s=Ne.createStatement(Ne.createCall(Ne.createFunctionExpression(void 0,void 0,void 0,void 0,[Ne.createParameter(void 0,void 0,void 0,r)],void 0,function(e,t){var n=F,r=O,i=R;F=t,O=e,R=void 0;var a,s,o,c=[],t=(B(),e.body),e=(234===t.kind?(V(t,function(e){return Ne.addRange(c,Ne.visitNodes(e.statements,ae,Ne.isStatement))}),a=t.statements,s=t):((o=l(t))&&(Ne.isArray(o)?Ne.addRange(c,o):c.push(o)),o=fe(e).body,a=Ne.moveRangePos(o.statements,-1)),Ne.addRange(c,j()),F=n,O=r,R=i,Ne.createBlock(Ne.setTextRange(Ne.createNodeArray(c),a),!0));return Ne.setTextRange(e,s),234!==t.kind&&Ne.setEmitFlags(e,1536|Ne.getEmitFlags(e)),e}(e,i)),void 0,[a]));return Ne.setOriginalNode(s,e),Ne.setTextRange(s,e),Ne.setEmitFlags(s,n),t.push(s),t.push(Ne.createEndOfDeclarationMarker(e)),t}(e);case 237:return ve(e);default:return Ne.Debug.failBadSyntaxKind(e),Ne.visitEachChild(e,H,I)}var u,d,p,l,f,_,m,g,h,y,v,b,x,k,S,T,C,E,D,A,N,w}function y(e){var t=(void 0===$.alwaysStrict?$.strict:$.alwaysStrict)&&!(Ne.isExternalModule(e)&&q>=Ne.ModuleKind.ES2015);return Ne.updateSourceFileNode(e,Ne.visitLexicalEnvironment(e.statements,i,I,0,t))}function se(e){return void 0!==e.decorators&&0<e.decorators.length}function W(e,t){var n,r,i,a,s,o,c,l,u,d=[],p=(n=e,t=t,c=Ne.forEach(n.members,f),l=262144&n.transformFlags,u=Ne.getFirstConstructorWithBody(n),c||l?(c=Ne.visitParameterList(u&&u.parameters,H,I)||[],l=n,r=u,t=t,a=[],s=0,_(),r?(p=a,s=r.body?(o=r.body.statements,(i=Ne.addPrologue(p,o,!1,H))!==o.length&&210===(o=o[i]).kind&&Ne.isSuperCall(o.expression)?(p.push(Ne.visitNode(o,H,Ne.isStatement)),i+1):i):0,p=Ne.filter(r.parameters,v),Ne.addRange(a,Ne.map(p,b))):t&&a.push(Ne.createStatement(Ne.createCall(Ne.createSuper(),void 0,[Ne.createSpread(Ne.createIdentifier("arguments"))]))),o=Q(l,!1),Y(a,o,Ne.createThis()),r&&Ne.addRange(a,Ne.visitNodes(r.body.statements,H,Ne.isStatement,s)),a=Ne.mergeLexicalEnvironment(a,j()),i=Ne.setTextRange(Ne.createBlock(Ne.setTextRange(Ne.createNodeArray(a),r?r.body.statements:l.members),!0),r?r.body:void 0),Ne.startOnNewLine(Ne.setOriginalNode(Ne.setTextRange(Ne.createConstructor(void 0,void 0,c,i),u||n),u))):Ne.visitEachChild(u,H,I));return p&&d.push(p),Ne.addRange(d,Ne.visitNodes(e.members,g,Ne.isClassElement)),Ne.setTextRange(Ne.createNodeArray(d),e.members)}function v(e){return Ne.hasModifier(e,92)&&Ne.isIdentifier(e.name)}function b(e){Ne.Debug.assert(Ne.isIdentifier(e.name));var t=e.name,n=Ne.getMutableClone(t),t=(Ne.setEmitFlags(n,1584),Ne.getMutableClone(t));return Ne.setEmitFlags(t,1536),Ne.startOnNewLine(Ne.setTextRange(Ne.createStatement(Ne.createAssignment(Ne.setTextRange(Ne.createPropertyAccess(Ne.createThis(),n),e.name),t)),Ne.moveRangePos(e,-1)))}function Q(e,t){return Ne.filter(e.members,t?x:f)}function x(e){return n(e,!0)}function f(e){return n(e,!1)}function n(e,t){return 149===e.kind&&t===Ne.hasModifier(e,32)&&void 0!==e.initializer}function Y(e,t,n){for(var r=0,i=t;r<i.length;r++){var a=i[r],s=Ne.createStatement(X(a,n));Ne.setSourceMapRange(s,Ne.moveRangePastModifiers(a)),Ne.setCommentRange(s,a),e.push(s)}}function X(e,t){var n=te(e),e=Ne.visitNode(e.initializer,H,Ne.isExpression),t=Ne.createMemberAccessForPropertyName(t,n,n);return Ne.createAssignment(t,e)}function k(e){return r(e,!0)}function S(e){return r(e,!1)}function r(e,t){return Ne.nodeOrChildIsDecorated(e)&&t===Ne.hasModifier(e,32)}function Z(e){var t;if(e)for(var n=e.parameters,r=0;r<n.length;r++){var i=n[r];(t||i.decorators)&&((t=t||new Array(n.length))[r]=i.decorators)}return t}function ee(e,t,n){var r;if(n)return Ne.addRange(r=[],Ne.map(n.decorators,T)),Ne.addRange(r,Ne.flatMap(n.parameters,C)),n=e,e=t,t=r,$.emitDecoratorMetadata&&(function(e){e=e.kind;return 151===e||153===e||154===e||149===e}(n)&&t.push(Ie(I,"design:type",E(n))),function(e){switch(e.kind){case 229:case 199:return void 0!==Ne.getFirstConstructorWithBody(e);case 151:case 153:case 154:return 1}return}(n)&&t.push(Ie(I,"design:paramtypes",function(e,n){var e=Ne.isClassLike(e)?Ne.getFirstConstructorWithBody(e):Ne.isFunctionLike(e)&&Ne.nodeIsPresent(e.body)?e:void 0,t=[];if(e)for(var r=function(e){if(n&&153===e.kind){var t=Ne.getAllAccessorDeclarations(n.members,e).setAccessor;if(t)return t.parameters}return e.parameters}(e),i=r.length,a=0;a<i;a++){var s=r[a];0===a&&Ne.isIdentifier(s.name)&&"this"===s.name.escapedText||(s.dotDotDotToken?t.push(l(Ne.getRestParameterElementType(s.type))):t.push(E(s)))}return Ne.createArrayLiteral(t)}(n,e))),151===n.kind)&&t.push(Ie(I,"design:returntype",(e=n,Ne.isFunctionLike(e)&&e.type?l(e.type):Ne.isAsyncFunction(e)?Ne.createIdentifier("Promise"):Ne.createVoidZero()))),r}function oe(e,t,n){Ne.addRange(e,Ne.map(function(e,t){for(var n,r=0,i=Ne.filter(e.members,t?k:S);r<i.length;r++){var a=function(e,t){var n=ee(t,e,function(e,t){switch(t.kind){case 153:case 154:var n=e,r=t;if(r.body){var n=Ne.getAllAccessorDeclarations(n.members,r),i=n.firstAccessor,a=n.secondAccessor,n=n.setAccessor,i=i.decorators?i:a&&a.decorators?a:void 0;if(i&&r===i){a=i.decorators,r=Z(n);if(a||r)return{decorators:a,parameters:r}}}return;case 151:if((i=t).body){n=i.decorators,i=Z(i);if(n||i)return{decorators:n,parameters:i}}return;case 149:a=t.decorators;return a?{decorators:a}:void 0;default:return}}(e,t));{var r,i;if(n)return e=function(e){return Ne.hasModifier(t,32)?Ne.getDeclarationName(e):Ne.createPropertyAccess(Ne.getDeclarationName(e),"prototype")}(e),r=A(t,!0),i=0<J?149===t.kind?Ne.createVoidZero():Ne.createNull():void 0,n=we(I,n,e,r,i,Ne.moveRangePastDecorators(t)),Ne.setEmitFlags(n,1536),n}}(e,i[r]);a&&(n?n.push(a):n=[a])}return n}(t,n),xe))}function T(e){return Ne.visitNode(e.expression,H,Ne.isExpression)}function C(e,t){var n,r;if(e)for(var i=[],a=0,s=e;a<s.length;a++){var o=s[a],c=(c=I,n=T(o),r=t,o=o.expression,c.requestEmitHelper(Pe),Ne.setTextRange(Ne.createCall(Ne.getHelperName("__param"),void 0,[Ne.createLiteral(r),n]),o));Ne.setEmitFlags(c,1536),i.push(c)}return i}function E(e){switch(e.kind){case 149:case 146:case 153:return l(e.type);case 154:return l(Ne.getSetAccessorTypeAnnotationNode(e));case 229:case 199:case 151:return Ne.createIdentifier("Function");default:return Ne.createVoidZero()}}function l(e){if(void 0!==e)switch(e.kind){case 105:case 139:case 95:case 130:return Ne.createVoidZero();case 168:return l(e.type);case 160:case 161:return Ne.createIdentifier("Function");case 164:case 165:return Ne.createIdentifier("Array");case 158:case 122:return Ne.createIdentifier("Boolean");case 136:return Ne.createIdentifier("String");case 134:return Ne.createIdentifier("Object");case 173:switch(e.literal.kind){case 9:return Ne.createIdentifier("String");case 8:return Ne.createIdentifier("Number");case 101:case 86:return Ne.createIdentifier("Boolean");default:Ne.Debug.failBadSyntaxKind(e.literal)}break;case 133:return Ne.createIdentifier("Number");case 137:return J<2?D():Ne.createIdentifier("Symbol");case 159:var t=e;switch(z.getTypeReferenceSerializationKind(t.typeName,L)){case Ne.TypeReferenceSerializationKind.Unknown:var n=u(t.typeName,!0),r=Ne.createTempVariable(K);return Ne.createLogicalOr(Ne.createLogicalAnd(Ne.createTypeCheck(Ne.createAssignment(r,n),"function"),r),Ne.createIdentifier("Object"));case Ne.TypeReferenceSerializationKind.TypeWithConstructSignatureAndValue:return u(t.typeName,!1);case Ne.TypeReferenceSerializationKind.VoidNullableOrNeverType:return Ne.createVoidZero();case Ne.TypeReferenceSerializationKind.BooleanType:return Ne.createIdentifier("Boolean");case Ne.TypeReferenceSerializationKind.NumberLikeType:return Ne.createIdentifier("Number");case Ne.TypeReferenceSerializationKind.StringLikeType:return Ne.createIdentifier("String");case Ne.TypeReferenceSerializationKind.ArrayLikeType:return Ne.createIdentifier("Array");case Ne.TypeReferenceSerializationKind.ESSymbolType:return J<2?D():Ne.createIdentifier("Symbol");case Ne.TypeReferenceSerializationKind.TypeWithCallSignature:return Ne.createIdentifier("Function");case Ne.TypeReferenceSerializationKind.Promise:return Ne.createIdentifier("Promise");default:Ne.TypeReferenceSerializationKind.ObjectType;return Ne.createIdentifier("Object")}return;case 167:case 166:for(var i,a=0,s=e.types;a<s.length;a++){for(var o=s[a];168===o.kind;)o=o.type;if(130!==o.kind&&(d||95!==o.kind&&139!==o.kind)){var c=l(o);if(Ne.isIdentifier(c)&&"Object"===c.escapedText)return c;if(i){if(!Ne.isIdentifier(i)||!Ne.isIdentifier(c)||i.escapedText!==c.escapedText)return Ne.createIdentifier("Object")}else i=c}}return i||Ne.createVoidZero();case 162:case 170:case 171:case 172:case 163:case 119:case 169:break;default:Ne.Debug.failBadSyntaxKind(e)}return Ne.createIdentifier("Object")}function u(e,t){switch(e.kind){case 71:var n=Ne.getMutableClone(e);return n.flags&=-9,n.original=void 0,n.parent=Ne.getParseTreeNode(L),t?Ne.createLogicalAnd(Ne.createStrictInequality(Ne.createTypeOf(n),Ne.createLiteral("undefined")),n):n;case 143:return n=t,n=71===(r=e).left.kind?u(r.left,n):n?(n=Ne.createTempVariable(K),Ne.createLogicalAnd(Ne.createAssignment(n,u(r.left,!0)),n)):u(r.left,!1),Ne.createPropertyAccess(n,r.right)}var r}function D(){return Ne.createConditional(Ne.createTypeCheck(Ne.createIdentifier("Symbol"),"function"),Ne.createIdentifier("Symbol"),Ne.createIdentifier("Object"))}function A(e,t){e=e.name;return Ne.isComputedPropertyName(e)?t?Ne.getGeneratedNameForNode(e):e.expression:Ne.isIdentifier(e)?Ne.createLiteral(Ne.idText(e)):Ne.getSynthesizedClone(e)}function te(e){var t,n=e.name;return Ne.isComputedPropertyName(n)?(t=Ne.visitNode(n.expression,H,Ne.isExpression),e.decorators&&(e=Ne.getGeneratedNameForNode(n),K(e),t=Ne.createAssignment(e,t)),Ne.updateComputedPropertyName(n,t)):n}function ne(e){return!Ne.nodeIsMissing(e.body)}function ce(e){return!Ne.nodeIsMissing(e.body)||!Ne.hasModifier(e,128)}function le(e){var t=e.name;return Ne.isBindingPattern(t)?Ne.flattenDestructuringAssignment(e,H,I,0,!1,Se):Ne.setTextRange(Ne.createAssignment(Te(t),Ne.visitNode(e.initializer,H,Ne.isExpression)),e)}function ue(e){var t=A(e,!1),n=(r=e,void 0!==(n=z.getConstantValue(r))?Ne.createLiteral(n):(0==(8&M)&&(M|=8,I.enableSubstitution(71)),r.initializer?Ne.visitNode(r.initializer,H,Ne.isExpression):Ne.createVoidZero())),r=Ne.createAssignment(Ne.createElementAccess(F,t),n),n=9===n.kind?r:Ne.createAssignment(Ne.createElementAccess(F,r),t);return Ne.setTextRange(Ne.createStatement(Ne.setTextRange(n,e)),e)}function de(e){return re(e)||ie(e)&&q!==Ne.ModuleKind.ES2015&&q!==Ne.ModuleKind.ESNext&&q!==Ne.ModuleKind.System}function N(e){R=R||Ne.createUnderscoreEscapedMap();var t=w(e);R.has(t)||R.set(t,e)}function w(e){return Ne.Debug.assertNode(e.name,Ne.isIdentifier),e.name.escapedText}function pe(e,t){var n,r,i=Ne.createVariableStatement(Ne.visitNodes(t.modifiers,G,Ne.isModifier),Ne.createVariableDeclarationList([Ne.createVariableDeclaration(Ne.getLocalName(t,!1,!0))],265===L.kind?0:1));return Ne.setOriginalNode(i,t),N(t),n=t,R&&(r=w(n),R.get(r)!==n)?(r=Ne.createMergeDeclarationMarker(i),Ne.setEmitFlags(r,4195840),e.push(r),!1):(232===t.kind?Ne.setSourceMapRange(i.declarationList,t):Ne.setSourceMapRange(i,t),Ne.setCommentRange(i,t),Ne.setEmitFlags(i,4195328),e.push(i),!0)}function fe(e){if(233===e.body.kind)return fe(e.body)||e.body}function _e(e){var t=z.isReferencedAliasDeclaration(e)?e.name:void 0,n=Ne.visitNode(e.namedBindings,me,Ne.isNamedImportBindings);return t||n?Ne.updateImportClause(e,t,n):void 0}function me(e){var t;return 240===e.kind?z.isReferencedAliasDeclaration(e)?e:void 0:(t=Ne.visitNodes(e.elements,ge,Ne.isImportSpecifier),Ne.some(t)?Ne.updateNamedImports(e,t):void 0)}function ge(e){return z.isReferencedAliasDeclaration(e)?e:void 0}function he(e){var t=Ne.visitNodes(e.elements,ye,Ne.isExportSpecifier);return Ne.some(t)?Ne.updateNamedExports(e,t):void 0}function ye(e){return z.isValueAliasDeclaration(e)?e:void 0}function ve(e){var t,n,r;return Ne.isExternalModuleImportEqualsDeclaration(e)?z.isReferencedAliasDeclaration(e)?Ne.visitEachChild(e,H,I):void 0:(r=e,z.isReferencedAliasDeclaration(r)||!Ne.isExternalModule(P)&&z.isTopLevelValueImportEqualsWithEntityName(r)?(r=Ne.createExpressionFromEntityName(e.moduleReference),Ne.setEmitFlags(r,3584),be(e)||!re(e)?Ne.setOriginalNode(Ne.setTextRange(Ne.createVariableStatement(Ne.visitNodes(e.modifiers,G,Ne.isModifier),Ne.createVariableDeclarationList([Ne.setOriginalNode(Ne.createVariableDeclaration(e.name,void 0,r),e)])),e),e):Ne.setOriginalNode((t=e.name,r=r,n=e,Ne.setTextRange(Ne.createStatement(Ne.createAssignment(Ne.getNamespaceMemberName(F,t,!1,!0),r)),n)),e)):void 0)}function re(e){return void 0!==O&&Ne.hasModifier(e,1)}function ie(e){return void 0===O&&Ne.hasModifier(e,1)}function be(e){return ie(e)&&!Ne.hasModifier(e,512)}function xe(e){return Ne.createStatement(e)}function ke(e,t){var n=Ne.createAssignment(Ne.getExternalModuleOrNamespaceExportName(F,t,!1,!0),Ne.getLocalName(t)),n=(Ne.setSourceMapRange(n,Ne.createRange((t.name||t).pos,t.end)),Ne.createStatement(n));Ne.setSourceMapRange(n,Ne.createRange(-1,t.end)),e.push(n)}function Se(e,t,n){return Ne.setTextRange(Ne.createAssignment(Te(e),t),n)}function Te(e){return Ne.getNamespaceMemberName(F,e,!1,!0)}function Ce(e){var t=Ne.getGeneratedNameForNode(e);return Ne.setSourceMapRange(t,e.name),t}function Ee(e){return Ne.getGeneratedNameForNode(e)}function De(){0==(1&M)&&(M|=1,I.enableSubstitution(71),U=[])}function Ae(e){if(M&a&&!Ne.isGeneratedIdentifier(e)&&!Ne.isLocalName(e)){var t=z.getReferencedExportContainer(e,!1);if(t&&265!==t.kind&&(2&a&&233===t.kind||8&a&&232===t.kind))return Ne.setTextRange(Ne.createPropertyAccess(Ne.getGeneratedNameForNode(t),e),e)}}}),priority:2,text:'\n            var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n                var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n                if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n                else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n                return c > 3 && r && Object.defineProperty(target, key, r), r;\n            };'};function Ie(e,t,n){return e.requestEmitHelper(r),Ne.createCall(Ne.getHelperName("__metadata"),void 0,[Ne.createLiteral(t),n])}var r={name:"typescript:metadata",scoped:!1,priority:3,text:'\n            var __metadata = (this && this.__metadata) || function (k, v) {\n                if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n            };'};var Pe={name:"typescript:param",scoped:!1,priority:4,text:"\n            var __param = (this && this.__param) || function (paramIndex, decorator) {\n                return function (target, key) { decorator(target, key, paramIndex); }\n            };"}}(ts=ts||{}),function(v){var i={name:"typescript:awaiter",scoped:!(v.transformES2017=function(o){var a,n=o.startLexicalEnvironment,c=o.resumeLexicalEnvironment,l=o.endLexicalEnvironment,u=o.getEmitResolver(),e=o.getCompilerOptions(),d=v.getEmitScriptTarget(e),s=0,p=o.onEmitNode,f=o.onSubstituteNode;return o.onEmitNode=function(e,t,n){if(1&a&&(229===(i=t.kind)||152===i||151===i||153===i||154===i)){var r,i=6144&u.getNodeCheckFlags(t);if(i!==s)return r=s,s=i,p(e,t,n),void(s=r)}var i;p(e,t,n)},o.onSubstituteNode=function(e,t){if(t=f(e,t),1===e&&s){var n,r,i=t;switch(i.kind){case 179:return h(i);case 180:return y(i);case 181:return r=(n=i).expression,v.isSuperProperty(r)?(r=(v.isPropertyAccessExpression(r)?h:y)(r),v.createCall(v.createPropertyAccess(r,"call"),void 0,[v.createThis()].concat(n.arguments))):n}return i}return t},function(e){return e.isDeclarationFile||(e=v.visitEachChild(e,_,o),v.addEmitHelpers(e,o.readEmitHelpers())),e};function _(e){if(0==(16&e.transformFlags))return e;switch(e.kind){case 120:return;case 191:return r=e,v.setOriginalNode(v.setTextRange(v.createYield(void 0,v.visitNode(r.expression,_,v.isExpression)),r),r);case 151:return r=e,v.updateMethod(r,void 0,v.visitNodes(r.modifiers,_,v.isModifier),r.asteriskToken,r.name,void 0,void 0,v.visitParameterList(r.parameters,_,o),void 0,2&v.getFunctionFlags(r)?i(r):v.visitFunctionBody(r.body,_,o));case 228:return n=e,v.updateFunctionDeclaration(n,void 0,v.visitNodes(n.modifiers,_,v.isModifier),n.asteriskToken,n.name,void 0,v.visitParameterList(n.parameters,_,o),void 0,2&v.getFunctionFlags(n)?i(n):v.visitFunctionBody(n.body,_,o));case 186:return n=e,v.updateFunctionExpression(n,v.visitNodes(n.modifiers,_,v.isModifier),n.asteriskToken,n.name,void 0,v.visitParameterList(n.parameters,_,o),void 0,2&v.getFunctionFlags(n)?i(n):v.visitFunctionBody(n.body,_,o));case 187:return t=e,v.updateArrowFunction(t,v.visitNodes(t.modifiers,_,v.isModifier),void 0,v.visitParameterList(t.parameters,_,o),void 0,t.equalsGreaterThanToken,2&v.getFunctionFlags(t)?i(t):v.visitFunctionBody(t.body,_,o));default:return v.visitEachChild(e,_,o)}var t,n,r}function i(e){c();var t,n,r=v.getOriginalNode(e,v.isFunctionLike).type,i=d<2?function(){var e=r&&v.getEntityNameFromTypeNode(r);if(e&&v.isEntityName(e)){var t=u.getTypeReferenceSerializationKind(e);if(t===v.TypeReferenceSerializationKind.TypeWithConstructSignatureAndValue||t===v.TypeReferenceSerializationKind.Unknown)return e}}():void 0,a=187===e.kind,s=0!=(8192&u.getNodeCheckFlags(e));return a?(a=b(o,s,i,m(e.body)),t=l(),v.some(t)?(n=v.convertToFunctionBody(a),v.updateBlock(n,v.setTextRange(v.createNodeArray(v.concatenate(n.statements,t)),n.statements))):a):(a=v.addPrologue(t=[],e.body.statements,!1,_),t.push(v.createReturn(b(o,s,i,m(e.body,a)))),v.addRange(t,l()),n=v.createBlock(t,!0),v.setTextRange(n,e.body),2<=d&&(4096&u.getNodeCheckFlags(e)?(g(),v.addEmitHelper(n,v.advancedAsyncSuperHelper)):2048&u.getNodeCheckFlags(e)&&(g(),v.addEmitHelper(n,v.asyncSuperHelper))),n)}function m(e,t){if(v.isBlock(e))return v.updateBlock(e,v.visitLexicalEnvironment(e.statements,_,o,t));n();t=v.convertToFunctionBody(v.visitNode(e,_,v.isConciseBody)),e=l();return v.updateBlock(t,v.setTextRange(v.createNodeArray(v.concatenate(t.statements,e)),t.statements))}function g(){0==(1&a)&&(a|=1,o.enableSubstitution(181),o.enableSubstitution(179),o.enableSubstitution(180),o.enableEmitNotification(229),o.enableEmitNotification(151),o.enableEmitNotification(153),o.enableEmitNotification(154),o.enableEmitNotification(152))}function h(e){return 97===e.expression.kind?t(v.createLiteral(v.idText(e.name)),e):e}function y(e){return 97===e.expression.kind?t(e.argumentExpression,e):e}function t(e,t){return 4096&s?v.setTextRange(v.createPropertyAccess(v.createCall(v.createIdentifier("_super"),void 0,[e]),"value"),t):v.setTextRange(v.createCall(v.createIdentifier("_super"),void 0,[e]),t)}}),priority:5,text:'\n            var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n                return new (P || (P = Promise))(function (resolve, reject) {\n                    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n                    function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n                    function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n                    step((generator = generator.apply(thisArg, _arguments || [])).next());\n                });\n            };'};function b(e,t,n,r){e.requestEmitHelper(i);e=v.createFunctionExpression(void 0,v.createToken(39),void 0,void 0,[],void 0,r);return(e.emitNode||(e.emitNode={})).flags|=786432,v.createCall(v.getHelperName("__awaiter"),void 0,[v.createThis(),t?v.createIdentifier("arguments"):v.createVoidZero(),n?v.createExpressionFromEntityName(n):v.createVoidZero(),e])}v.asyncSuperHelper={name:"typescript:async-super",scoped:!0,text:"\n            const _super = name => super[name];\n        "},v.advancedAsyncSuperHelper={name:"typescript:advanced-async-super",scoped:!0,text:"\n            const _super = (function (geti, seti) {\n                const cache = Object.create(null);\n                return name => cache[name] || (cache[name] = { get value() { return geti(name); }, set value(v) { seti(name, v); } });\n            })(name => super[name], (name, value) => super[name] = value);\n        "}}(ts=ts||{}),function(E){var n={name:"typescript:assign",scoped:!(E.transformESNext=function(h){var a=h.resumeLexicalEnvironment,s=h.endLexicalEnvironment,g=h.hoistVariableDeclaration,o=h.getEmitResolver(),e=h.getCompilerOptions(),i=E.getEmitScriptTarget(e),c=h.onEmitNode;h.onEmitNode=function(e,t,n){if(1&l&&(229===(i=t.kind)||152===i||151===i||153===i||154===i)){var r,i=6144&o.getNodeCheckFlags(t);if(i!==d)return r=d,d=i,c(e,t,n),void(d=r)}var i;c(e,t,n)};var l,y,u=h.onSubstituteNode,d=(h.onSubstituteNode=function(e,t){if(t=u(e,t),1===e&&d){var n,r,i=t;switch(i.kind){case 179:return _(i);case 180:return m(i);case 181:return r=(n=i).expression,E.isSuperProperty(r)?(r=(E.isPropertyAccessExpression(r)?_:m)(r),E.createCall(E.createPropertyAccess(r,"call"),void 0,[E.createThis()].concat(n.arguments))):n}return i}return t},0);return function(e){return e.isDeclarationFile||(e=E.visitEachChild(e,v,h),E.addEmitHelpers(e,h.readEmitHelpers())),e};function v(e){return t(e,!1)}function b(e){return t(e,!0)}function x(e){if(120!==e.kind)return e}function t(e,t){if(0==(8&e.transformFlags))return e;switch(e.kind){case 191:return g=e,2&y&&1&y?E.setOriginalNode(E.setTextRange(E.createYield(N(h,E.visitNode(g.expression,v,E.isExpression))),g),g):E.visitEachChild(g,v,h);case 197:return g=e,2&y&&1&y&&g.asteriskToken?(m=E.visitNode(g.expression,v,E.isExpression),E.setOriginalNode(E.setTextRange(E.createYield(N(h,E.updateYield(g,g.asteriskToken,(_=P(f=h,m,m),m=m,f.requestEmitHelper(A),f.requestEmitHelper(I),E.setTextRange(E.createCall(E.getHelperName("__asyncDelegator"),void 0,[_]),m))))),g),g)):E.visitEachChild(g,v,h);case 222:return f=e,2&y&&1&y?216===(_=E.unwrapInnermostStatementOfLabel(f)).kind&&_.awaitModifier?k(_,f):E.restoreEnclosingLabel(E.visitEachChild(f,v,h),f):E.visitEachChild(f,v,h);case 178:return 1048576&(p=e).transformFlags?((m=function(){for(var e,t=[],n=0,r=p.properties;n<r.length;n++){var i,a=r[n];263===a.kind?(e&&(t.push(E.createObjectLiteral(e)),e=void 0),i=a.expression,t.push(E.visitNode(i,v,E.isExpression))):(e=e||[],261===a.kind?e.push(E.createPropertyAssignment(a.name,E.visitNode(a.initializer,v,E.isExpression))):e.push(E.visitNode(a,v,E.isObjectLiteralElementLike)))}return e&&t.push(E.createObjectLiteral(e)),t}()).length&&178!==m[0].kind&&m.unshift(E.createObjectLiteral()),D(h,m)):E.visitEachChild(p,v,h);case 194:return u=e,d=t,E.isDestructuringAssignment(u)&&1048576&u.left.transformFlags?E.flattenDestructuringAssignment(u,v,h,1,!d):26===u.operatorToken.kind?E.updateBinary(u,E.visitNode(u.left,b,E.isExpression),E.visitNode(u.right,d?b:v,E.isExpression)):E.visitEachChild(u,v,h);case 226:return d=e,E.isBindingPattern(d.name)&&1048576&d.name.transformFlags?E.flattenDestructuringBinding(d,v,h,1):E.visitEachChild(d,v,h);case 216:return k(e,void 0);case 214:return u=e,E.updateFor(u,E.visitNode(u.initializer,b,E.isForInitializer),E.visitNode(u.condition,v,E.isExpression),E.visitNode(u.incrementor,v,E.isExpression),E.visitNode(u.statement,v,E.isStatement));case 190:return E.visitEachChild(e,b,h);case 152:return c=e,l=y,y=0,c=E.updateConstructor(c,void 0,c.modifiers,E.visitParameterList(c.parameters,v,h),C(c)),y=l,c;case 151:return l=e,c=y,y=E.getFunctionFlags(l),l=E.updateMethod(l,void 0,1&y?E.visitNodes(l.modifiers,x,E.isModifier):l.modifiers,2&y?void 0:l.asteriskToken,E.visitNode(l.name,v,E.isPropertyName),E.visitNode(void 0,v,E.isToken),void 0,E.visitParameterList(l.parameters,v,h),void 0,(2&y&&1&y?T:C)(l)),y=c,l;case 153:return s=e,o=y,y=0,s=E.updateGetAccessor(s,void 0,s.modifiers,E.visitNode(s.name,v,E.isPropertyName),E.visitParameterList(s.parameters,v,h),void 0,C(s)),y=o,s;case 154:return o=e,s=y,y=0,o=E.updateSetAccessor(o,void 0,o.modifiers,E.visitNode(o.name,v,E.isPropertyName),E.visitParameterList(o.parameters,v,h),C(o)),y=s,o;case 228:return i=e,a=y,y=E.getFunctionFlags(i),i=E.updateFunctionDeclaration(i,void 0,1&y?E.visitNodes(i.modifiers,x,E.isModifier):i.modifiers,2&y?void 0:i.asteriskToken,i.name,void 0,E.visitParameterList(i.parameters,v,h),void 0,(2&y&&1&y?T:C)(i)),y=a,i;case 186:return a=e,i=y,y=E.getFunctionFlags(a),a=E.updateFunctionExpression(a,1&y?E.visitNodes(a.modifiers,x,E.isModifier):a.modifiers,2&y?void 0:a.asteriskToken,a.name,void 0,E.visitParameterList(a.parameters,v,h),void 0,(2&y&&1&y?T:C)(a)),y=i,a;case 187:return n=e,r=y,y=E.getFunctionFlags(n),n=E.updateArrowFunction(n,n.modifiers,void 0,E.visitParameterList(n.parameters,v,h),void 0,n.equalsGreaterThanToken,C(n)),y=r,n;case 146:return 1048576&(r=e).transformFlags?E.updateParameter(r,void 0,void 0,r.dotDotDotToken,E.getGeneratedNameForNode(r),void 0,void 0,E.visitNode(r.initializer,v,E.isExpression)):E.visitEachChild(r,v,h);case 210:return E.visitEachChild(e,b,h);case 185:return E.visitEachChild(e,t?b:v,h);case 260:return(n=e).variableDeclaration?E.visitEachChild(n,v,h):E.updateCatchClause(n,E.createVariableDeclaration(E.createTempVariable(void 0)),E.visitNode(n.block,v,E.isBlock));default:return E.visitEachChild(e,v,h)}var n,r,i,a,s,o,c,l,u,d,p,f,_,m,g}function k(e,t){return 1048576&e.initializer.transformFlags&&(d=e,m=E.skipParentheses(d.initializer),e=E.isVariableDeclarationList(m)||E.isAssignmentPattern(m)?(_=E.createTempVariable(f=p=void 0),m=[E.createForOfBindingStatement(m,_)],E.isBlock(d.statement)&&(E.addRange(m,d.statement.statements),p=d.statement,f=d.statement.statements),E.updateForOf(d,d.awaitModifier,E.setTextRange(E.createVariableDeclarationList([E.setTextRange(E.createVariableDeclaration(_),d.initializer)],1),d.initializer),d.expression,E.setTextRange(E.createBlock(E.setTextRange(E.createNodeArray(m),f),!0),p))):d),e.awaitModifier?(_=e,m=t,f=E.visitNode(_.expression,v,E.isExpression),p=E.isIdentifier(f)?E.getGeneratedNameForNode(f):E.createTempVariable(void 0),d=E.isIdentifier(f)?E.getGeneratedNameForNode(p):E.createTempVariable(void 0),i=E.createUniqueName("e"),a=E.getGeneratedNameForNode(i),s=E.createTempVariable(void 0),f=P(h,f,_.expression),o=E.createCall(E.createPropertyAccess(p,"next"),void 0,[]),c=E.createPropertyAccess(d,"done"),l=E.createPropertyAccess(d,"value"),u=E.createFunctionCall(s,p,[]),g(i),g(s),l=E.setEmitFlags(E.setTextRange(E.createFor(E.setEmitFlags(E.setTextRange(E.createVariableDeclarationList([E.setTextRange(E.createVariableDeclaration(p,void 0,f),_.expression),E.createVariableDeclaration(d)]),_.expression),2097152),E.createComma(E.createAssignment(d,S(o)),E.createLogicalNot(c)),void 0,(f=_,o=S(l),o=E.createForOfBindingStatement(f.initializer,o),o=[E.visitNode(o,v,E.isStatement)],f=E.visitNode(f.statement,v,E.isStatement),E.isBlock(f)?(E.addRange(o,f.statements),r=(n=f).statements):o.push(f),E.setEmitFlags(E.setTextRange(E.createBlock(E.setTextRange(E.createNodeArray(o),r),!0),n),432))),_),256),E.createTry(E.createBlock([E.restoreEnclosingLabel(l,m)]),E.createCatchClause(E.createVariableDeclaration(a),E.setEmitFlags(E.createBlock([E.createStatement(E.createAssignment(i,E.createObjectLiteral([E.createPropertyAssignment("error",a)])))]),1)),E.createBlock([E.createTry(E.createBlock([E.setEmitFlags(E.createIf(E.createLogicalAnd(E.createLogicalAnd(d,E.createLogicalNot(c)),E.createAssignment(s,E.createPropertyAccess(p,"return"))),E.createStatement(S(u))),1)]),void 0,E.setEmitFlags(E.createBlock([E.setEmitFlags(E.createIf(i,E.createThrow(E.createPropertyAccess(i,"error"))),1)]),1))]))):E.restoreEnclosingLabel(E.visitEachChild(e,v,h),t);var n,r,i,a,s,o,c,l,u,d,p,f,_,m}function S(e){return 1&y?E.createYield(void 0,N(h,e)):E.createAwait(e)}function T(e){a();var t=[],n=E.addPrologue(t,e.body.statements,!1,v),r=(p(t,e),t.push(E.createReturn((r=h,n=E.createFunctionExpression(void 0,E.createToken(39),e.name&&E.getGeneratedNameForNode(e.name),void 0,[],void 0,E.updateBlock(e.body,E.visitLexicalEnvironment(e.body.statements,v,h,n))),r.requestEmitHelper(A),r.requestEmitHelper(w),(n.emitNode||(n.emitNode={})).flags|=262144,E.createCall(E.getHelperName("__asyncGenerator"),void 0,[E.createThis(),E.createIdentifier("arguments"),n])))),E.addRange(t,s()),E.updateBlock(e.body,t));return 2<=i&&(4096&o.getNodeCheckFlags(e)?(f(),E.addEmitHelper(r,E.advancedAsyncSuperHelper)):2048&o.getNodeCheckFlags(e)&&(f(),E.addEmitHelper(r,E.asyncSuperHelper))),r}function C(e){a();var t,n=0,r=[],i=E.visitNode(e.body,v,E.isConciseBody),e=(E.isBlock(i)&&(n=E.addPrologue(r,i.statements,!1,v)),E.addRange(r,p(void 0,e)),s());return 0<n||E.some(r)||E.some(e)?(t=E.convertToFunctionBody(i,!0),E.addRange(r,t.statements.slice(n)),E.addRange(r,e),E.updateBlock(t,E.setTextRange(E.createNodeArray(r),t.statements))):i}function p(e,t){for(var n=0,r=t.parameters;n<r.length;n++){var i,a=r[n];1048576&a.transformFlags&&(i=E.getGeneratedNameForNode(a),a=E.flattenDestructuringBinding(a,v,h,1,i,!1,!0),E.some(a))&&(i=E.createVariableStatement(void 0,E.createVariableDeclarationList(a)),E.setEmitFlags(i,1048576),e=E.append(e,i))}return e}function f(){0==(1&l)&&(l|=1,h.enableSubstitution(181),h.enableSubstitution(179),h.enableSubstitution(180),h.enableEmitNotification(229),h.enableEmitNotification(151),h.enableEmitNotification(153),h.enableEmitNotification(154),h.enableEmitNotification(152))}function _(e){return 97===e.expression.kind?n(E.createLiteral(E.idText(e.name)),e):e}function m(e){return 97===e.expression.kind?n(e.argumentExpression,e):e}function n(e,t){return 4096&d?E.setTextRange(E.createPropertyAccess(E.createCall(E.createIdentifier("_super"),void 0,[e]),"value"),t):E.setTextRange(E.createCall(E.createIdentifier("_super"),void 0,[e]),t)}}),priority:1,text:"\n            var __assign = (this && this.__assign) || Object.assign || function(t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                        t[p] = s[p];\n                }\n                return t;\n            };"};function D(e,t){return 2<=e.getCompilerOptions().target?E.createCall(E.createPropertyAccess(E.createIdentifier("Object"),"assign"),void 0,t):(e.requestEmitHelper(n),E.createCall(E.getHelperName("__assign"),void 0,t))}E.createAssignHelper=D;var A={name:"typescript:await",scoped:!1,text:"\n            var __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\n        "};function N(e,t){return e.requestEmitHelper(A),E.createCall(E.getHelperName("__await"),void 0,[t])}var w={name:"typescript:asyncGenerator",scoped:!1,text:'\n            var __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n                if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");\n                var g = generator.apply(thisArg, _arguments || []), i, q = [];\n                return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;\n                function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n                function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n                function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\n                function fulfill(value) { resume("next", value); }\n                function reject(value) { resume("throw", value); }\n                function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n            };\n        '},I={name:"typescript:asyncDelegator",scoped:!1,text:'\n            var __asyncDelegator = (this && this.__asyncDelegator) || function (o) {\n                var i, p;\n                return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;\n                function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; }; }\n            };\n        '},r={name:"typescript:asyncValues",scoped:!1,text:'\n            var __asyncValues = (this && this.__asyncIterator) || function (o) {\n                if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");\n                var m = o[Symbol.asyncIterator];\n                return m ? m.call(o) : typeof __values === "function" ? __values(o) : o[Symbol.iterator]();\n            };\n        '};function P(e,t,n){return e.requestEmitHelper(r),E.setTextRange(E.createCall(E.getHelperName("__asyncValues"),void 0,[t]),n)}}(ts=ts||{}),function(_){_.transformJsx=function(c){var l=c.getCompilerOptions();return function(e){return e.isDeclarationFile||(e=_.visitEachChild(e,n,c),_.addEmitHelpers(e,c.readEmitHelpers())),e};function n(e){if(!(4&e.transformFlags))return e;var t=e;switch(t.kind){case 249:return r(t,!1);case 250:return i(t,!1);case 256:return f(t);default:return _.visitEachChild(t,n,c)}}function u(e){switch(e.kind){case 10:return void 0===(t=function(e){for(var t,n=0,r=-1,i=0;i<e.length;i++){var a=e.charCodeAt(i);_.isLineBreak(a)?(-1!==n&&-1!==r&&(t=s(t,e.substr(n,r-n+1))),n=-1):_.isWhiteSpaceSingleLine(a)||(r=i,-1===n&&(n=i))}return-1!==n?s(t,e.substr(n)):t}(_.getTextOfNode(e,!0)))?void 0:_.createLiteral(t);case 256:return f(e);case 249:return r(e,!0);case 250:return i(e,!0);default:return void _.Debug.failBadSyntaxKind(e)}var t}function r(e,t){return a(e.openingElement,e.children,t,e)}function i(e,t){return a(e,void 0,t,e)}function a(e,t,n,r){var i,a=function e(t){if(249===t.kind)return e(t.openingElement);t=t.tagName;return _.isIdentifier(t)&&_.isIntrinsicJsxName(t.escapedText)?_.createLiteral(_.idText(t)):_.createExpressionFromEntityName(t)}(e),s=e.attributes.properties,o=0===s.length?_.createNull():(i=_.flatten(_.spanMap(s,_.isJsxSpreadAttribute,function(e,t){return t?_.map(e,d):_.createObjectLiteral(_.map(e,p))})),_.isJsxSpreadAttribute(s[0])&&i.unshift(_.createObjectLiteral()),(o=_.singleOrUndefined(i))||_.createAssignHelper(c,i)),s=_.createExpressionForJsxElement(c.getEmitResolver().getJsxFactoryEntity(),l.reactNamespace,a,o,_.mapDefined(t,u),e,r);return n&&_.startOnNewLine(s),s}function d(e){return _.visitNode(e.expression,n,_.isExpression)}function p(e){n=e.name,t=_.idText(n);var t,n=/^[A-Za-z_]\w*$/.test(t)?n:_.createLiteral(t),r=void 0===(t=e.initializer)?_.createTrue():9===t.kind?(e=t.text,(e=(r=o(e))===e?void 0:r)?_.setTextRange(_.createLiteral(e),t):t):256===t.kind?void 0===t.expression?_.createTrue():f(t):void _.Debug.failBadSyntaxKind(t);return _.createPropertyAssignment(n,r)}function s(e,t){t=o(t);return void 0===e?t:e+" "+t}function o(e){return e.replace(/&((#((\d+)|x([\da-fA-F]+)))|(\w+));/g,function(e,t,n,r,i,a,s){return i?String.fromCharCode(parseInt(i,10)):a?String.fromCharCode(parseInt(a,16)):(i=m.get(s))?String.fromCharCode(i):e})}function f(e){return _.visitNode(e.expression,n,_.isExpression)}};var m=_.createMapFromTemplate({quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830})}(ts=ts||{}),function(d){d.transformES2016=function(c){var l=c.hoistVariableDeclaration;return function(e){return e.isDeclarationFile?e:d.visitEachChild(e,u,c)};function u(e){if(0==(32&e.transformFlags))return e;if(194!==e.kind)return d.visitEachChild(e,u,c);var t,n,r,i,a,s,o=e;switch(o.operatorToken.kind){case 62:return t=o,a=d.visitNode(t.left,u,d.isExpression),s=d.visitNode(t.right,u,d.isExpression),i=d.isElementAccessExpression(a)?(n=d.createTempVariable(l),i=d.createTempVariable(l),r=d.setTextRange(d.createElementAccess(d.setTextRange(d.createAssignment(n,a.expression),a.expression),d.setTextRange(d.createAssignment(i,a.argumentExpression),a.argumentExpression)),a),d.setTextRange(d.createElementAccess(n,i),a)):d.isPropertyAccessExpression(a)?(n=d.createTempVariable(l),r=d.setTextRange(d.createPropertyAccess(d.setTextRange(d.createAssignment(n,a.expression),a.expression),a.name),a),d.setTextRange(d.createPropertyAccess(n,a.name),a)):r=a,d.setTextRange(d.createAssignment(r,d.createMathPow(i,s,t)),t);case 40:return n=o,a=d.visitNode(n.left,u,d.isExpression),r=d.visitNode(n.right,u,d.isExpression),d.createMathPow(a,r,n);default:return d.visitEachChild(o,u,c)}}}}(ts=ts||{}),function(vt){(e={None:0,0:"None",Function:1,1:"Function",ArrowFunction:2,2:"ArrowFunction",AsyncFunctionBody:4,4:"AsyncFunctionBody",NonStaticClassElement:8,8:"NonStaticClassElement",CapturesThis:16,16:"CapturesThis",ExportedVariableStatement:32,32:"ExportedVariableStatement",TopLevel:64,64:"TopLevel",Block:128,128:"Block",IterationStatement:256,256:"IterationStatement",IterationStatementBlock:512,512:"IterationStatementBlock",ForStatement:1024,1024:"ForStatement",ForInOrForOfStatement:2048,2048:"ForInOrForOfStatement",ConstructorWithCapturedSuper:4096,4096:"ConstructorWithCapturedSuper",ComputedPropertyName:8192,8192:"ComputedPropertyName",AncestorFactsMask:16383,16383:"AncestorFactsMask",BlockScopeIncludes:0})[0]="BlockScopeIncludes",e[e.BlockScopeExcludes=4032]="BlockScopeExcludes",e[e.SourceFileIncludes=64]="SourceFileIncludes",e[e.SourceFileExcludes=3968]="SourceFileExcludes",e[e.FunctionIncludes=65]="FunctionIncludes",e[e.FunctionExcludes=16286]="FunctionExcludes",e[e.AsyncFunctionBodyIncludes=69]="AsyncFunctionBodyIncludes",e[e.AsyncFunctionBodyExcludes=16278]="AsyncFunctionBodyExcludes",e[e.ArrowFunctionIncludes=66]="ArrowFunctionIncludes",e[e.ArrowFunctionExcludes=16256]="ArrowFunctionExcludes",e[e.ConstructorIncludes=73]="ConstructorIncludes",e[e.ConstructorExcludes=16278]="ConstructorExcludes",e[e.DoOrWhileStatementIncludes=256]="DoOrWhileStatementIncludes",e[e.DoOrWhileStatementExcludes=0]="DoOrWhileStatementExcludes",e[e.ForStatementIncludes=1280]="ForStatementIncludes",e[e.ForStatementExcludes=3008]="ForStatementExcludes",e[e.ForInOrForOfStatementIncludes=2304]="ForInOrForOfStatementIncludes",e[e.ForInOrForOfStatementExcludes=1984]="ForInOrForOfStatementExcludes",e[e.BlockIncludes=128]="BlockIncludes",e[e.BlockExcludes=3904]="BlockExcludes",e[e.IterationStatementBlockIncludes=512]="IterationStatementBlockIncludes",e[e.IterationStatementBlockExcludes=4032]="IterationStatementBlockExcludes",e[e.ComputedPropertyNameIncludes=8192]="ComputedPropertyNameIncludes",e[e.ComputedPropertyNameExcludes=0]="ComputedPropertyNameExcludes",e[e.NewTarget=16384]="NewTarget",e[e.NewTargetInComputedPropertyName=32768]="NewTargetInComputedPropertyName",e[e.SubtreeFactsMask=-16384]="SubtreeFactsMask",e[e.PropagateNewTargetMask=49152]="PropagateNewTargetMask";var e,$={name:"typescript:extends",scoped:!(vt.transformES2015=function(Le){var Re,I,Me,Ue,Be,s,P=Le.startLexicalEnvironment,O=Le.resumeLexicalEnvironment,F=Le.endLexicalEnvironment,je=Le.hoistVariableDeclaration,o=Le.getCompilerOptions(),Ke=Le.getEmitResolver(),c=Le.onSubstituteNode,i=Le.onEmitNode;return Le.onEmitNode=function(e,t,n){var r;1&s&&vt.isFunctionLike(t)?(r=ze(16286,8&vt.getEmitFlags(t)?81:65),i(e,t,n),$e(r,0,0)):i(e,t,n)},Le.onSubstituteNode=function(e,t){if(t=c(e,t),1===e){var n=t;switch(n.kind){case 71:var r=n;if(2&s&&!vt.isInternalName(r)){var i=Ke.getReferencedDeclarationWithCollidingName(r);if(i&&(!vt.isClassLike(i)||!function(e){var t=vt.getParseTreeNode(r);if(!(!t||t===e||t.end<=e.pos||t.pos>=e.end))for(var n=vt.getEnclosingBlockScopeContainer(e);t;){if(t===n||t===e)return;if(vt.isClassElement(t)&&t.parent===e)return 1;t=t.parent}}(i)))return vt.setTextRange(vt.getGeneratedNameForNode(vt.getNameOfDeclaration(i)),r)}return r;case 99:return i=n,1&s&&16&Me?vt.setTextRange(vt.createIdentifier("_this"),i):i}return n}if(vt.isIdentifier(t)){e=t;if(2&s&&!vt.isInternalName(e)){var a=vt.getParseTreeNode(e,vt.isIdentifier);if(a&&function(e){var t=e.parent;switch(t.kind){case 176:case 229:case 232:case 226:return t.name===e&&Ke.isDeclarationWithCollidingName(t)}}(a))return vt.setTextRange(vt.getGeneratedNameForNode(a),e)}return e}return t},function(e){if(e.isDeclarationFile)return e;I=(Re=e).text;e=e,t=ze(3968,64),n=[],P(),r=vt.addStandardPrologue(n,e.statements,!1),R(n,e),r=vt.addCustomPrologue(n,e.statements,r,qe),vt.addRange(n,vt.visitNodes(e.statements,qe,vt.isStatement,r)),Ue&&n.push(vt.createVariableStatement(void 0,vt.createVariableDeclarationList(Ue))),vt.addRange(n,F()),$e(t,0,0);var t,n,r=vt.updateSourceFileNode(e,vt.setTextRange(vt.createNodeArray(n),e.statements));return vt.addEmitHelpers(r,Le.readEmitHelpers()),Ue=I=Re=void 0,Me=0,r};function ze(e,t){var n=Me;return Me=16383&(Me&~e|t),n}function $e(e,t,n){Me=-16384&(Me&~t|n)|e}function Je(e){return 4096&Me&&219===e.kind&&!e.expression}function it(e){return 0!=(128&e.transformFlags)||void 0!==Be||4096&Me&&(vt.isStatement(e)||207===e.kind)||vt.isIterationStatement(e,!1)&&T(e)||0!=(33554432&vt.getEmitFlags(e))}function qe(R){if(!it(R))return R;var M,U,e,B,j,t,n,r,i,a,K,z,s,o,c,$,l,u,J,q,d,p,f,_,m,g=R;switch(g.kind){case 115:return;case 229:return p=g,f=vt.createVariableDeclaration(vt.getLocalName(p,!0),void 0,st(p)),vt.setOriginalNode(f,p),_=[],f=vt.createVariableStatement(void 0,vt.createVariableDeclarationList([f])),vt.setOriginalNode(f,p),vt.setTextRange(f,p),vt.startOnNewLine(f),_.push(f),vt.hasModifier(p,1)&&(m=vt.hasModifier(p,512)?vt.createExportDefault(vt.getLocalName(p)):vt.createExternalModuleExport(vt.getLocalName(p)),vt.setOriginalNode(m,f),_.push(m)),0==(4194304&(m=vt.getEmitFlags(p)))&&(_.push(vt.createEndOfDeclarationMarker(p)),vt.setEmitFlags(f,4194304|m)),vt.singleOrMany(_);case 199:return st(g);case 146:return(p=g).dotDotDotToken?void 0:vt.isBindingPattern(p.name)?vt.setOriginalNode(vt.setTextRange(vt.createParameter(void 0,void 0,void 0,vt.getGeneratedNameForNode(p),void 0,void 0,void 0),p),p):p.initializer?vt.setOriginalNode(vt.setTextRange(vt.createParameter(void 0,void 0,void 0,p.name,void 0,void 0,void 0),p),p):p;case 228:return f=g,m=Be,Be=void 0,_=ze(16286,65),J=vt.visitParameterList(f.parameters,qe,Le),q=(64&f.transformFlags?Ge:ct)(f),d=16384&Me?vt.getLocalName(f):f.name,$e(_,49152,0),Be=m,vt.updateFunctionDeclaration(f,void 0,vt.visitNodes(f.modifiers,qe,vt.isModifier),f.asteriskToken,d,void 0,J,void 0,q);case 187:return 16384&(d=g).transformFlags&&rt(),J=Be,Be=void 0,q=ze(16256,66),u=vt.createFunctionExpression(void 0,void 0,void 0,void 0,vt.visitParameterList(d.parameters,qe,Le),void 0,Ge(d)),vt.setTextRange(u,d),vt.setOriginalNode(u,d),vt.setEmitFlags(u,8),$e(q,0,0),Be=J,u;case 186:return u=g,s=262144&vt.getEmitFlags(u)?ze(16278,69):ze(16286,65),o=Be,Be=void 0,c=vt.visitParameterList(u.parameters,qe,Le),$=(64&u.transformFlags?Ge:ct)(u),l=16384&Me?vt.getLocalName(u):u.name,$e(s,49152,0),Be=o,vt.updateFunctionExpression(u,void 0,u.asteriskToken,l,void 0,c,void 0,$);case 226:return Ye(g);case 71:return s=g,Be&&!vt.isGeneratedIdentifier(s)&&"arguments"===s.escapedText&&Ke.isArgumentsLocalBinding(s)?Be.argumentsName||(Be.argumentsName=vt.createUniqueName("arguments")):s;case 227:return 64&(o=g).transformFlags?(3&o.flags&&nt(),l=vt.flatMap(o.declarations,1&o.flags?ut:Ye),c=vt.createVariableDeclarationList(l),vt.setOriginalNode(c,o),vt.setTextRange(c,o),vt.setCommentRange(c,o),8388608&o.transformFlags&&(vt.isBindingPattern(o.declarations[0].name)||vt.isBindingPattern(vt.lastOrUndefined(o.declarations).name))&&($=vt.firstOrUndefined(l))&&(l=vt.lastOrUndefined(l),vt.setSourceMapRange(c,vt.createRange($.pos,l.end))),c):vt.visitEachChild(o,qe,Le);case 221:return a=g,void 0!==Be?(K=Be.allowedNonLabeledJumps,Be.allowedNonLabeledJumps|=2,z=vt.visitEachChild(a,qe,Le),Be.allowedNonLabeledJumps=K,z):vt.visitEachChild(a,qe,Le);case 235:return K=ze(4032,0),z=vt.visitEachChild(g,qe,Le),$e(K,0,0),z;case 207:return lt(g,!1);case 218:case 217:a=g;if(Be){var h=218===a.kind?2:4;if(!(a.label&&Be.labels&&Be.labels.get(vt.idText(a.label))||!a.label&&Be.allowedNonLabeledJumps&h)){h=void 0,h=(a.label?218===a.kind?(h="break-"+a.label.escapedText,Ze(Be,!0,vt.idText(a.label),h)):(h="continue-"+a.label.escapedText,Ze(Be,!1,vt.idText(a.label),h)):h=218===a.kind?(Be.nonLocalJumps|=2,"break"):(Be.nonLocalJumps|=4,"continue"),vt.createLiteral(h));if(Be.loopOutParameters.length){for(var V=Be.loopOutParameters,H=void 0,G=0;G<V.length;G++)var W=gt(V[G],1),H=0===G?W:vt.createBinary(H,26,W);h=vt.createBinary(H,26,h)}return vt.createReturn(h)}}return vt.visitEachChild(a,qe,Le);case 222:var h=g,y=(Be&&!Be.labels&&(Be.labels=vt.createMap()),vt.unwrapInnermostStatementOfLabel(h,Be&&dt));if(!vt.isIterationStatement(y,!1))return vt.restoreEnclosingLabel(vt.visitNode(y,qe,vt.isStatement),h,Be&&Xe);var Q=y,Y=h;switch(Q.kind){case 212:case 213:return pt(Q,Y);case 214:return ft(Q,Y);case 215:return _t(Q,Y);case 216:return mt(Q,Y)}return;case 212:case 213:return pt(g,void 0);case 214:return ft(g,void 0);case 215:return _t(g,void 0);case 216:return mt(g,void 0);case 210:var v=g;switch(v.expression.kind){case 185:return vt.updateStatement(v,We(v.expression,!1));case 194:return vt.updateStatement(v,Qe(v.expression,!1))}return vt.visitEachChild(v,qe,Le);case 178:for(var y=g,X=y.properties,Z=X.length,b=Z,ee=Z,te=0;te<Z;te++){var ne=X[te];if(16777216&ne.transformFlags&&4&Me&&te<ee&&(ee=te),144===ne.name.kind){b=te;break}}if(b===Z)return vt.visitEachChild(y,qe,Le);ee<b&&(b=ee);for(var re,ie,ae,se,oe=vt.createTempVariable(je),x=[],k=vt.createAssignment(oe,vt.setEmitFlags(vt.createObjectLiteral(vt.visitNodes(X,qe,vt.isObjectLiteralElementLike,0,b),y.multiLine),65536)),ce=(y.multiLine&&(k.startsOnNewLine=!0),x.push(k),x),S=y,le=oe,k=b,ue=S.properties,de=ue.length,pe=k;pe<de;pe++){var fe=ue[pe];switch(fe.kind){case 153:case 154:var T=vt.getAllAccessorDeclarations(S.properties,fe);fe===T.firstAccessor&&ce.push(ot(le,T,S,S.multiLine));break;case 151:ce.push((T=fe,re=le,ae=(ie=S).multiLine,se=void 0,se=ze(0,0),re=vt.createAssignment(vt.createMemberAccessForPropertyName(re,vt.visitNode(T.name,qe,vt.isPropertyName)),He(T,T,void 0,ie)),vt.setTextRange(re,T),ae&&(re.startsOnNewLine=!0),$e(se,49152,49152&Me?16384:0),re));break;case 261:ce.push(function(e,t,n){t=vt.createAssignment(vt.createMemberAccessForPropertyName(t,vt.visitNode(e.name,qe,vt.isPropertyName)),vt.visitNode(e.initializer,qe,vt.isExpression));return vt.setTextRange(t,e),n&&(t.startsOnNewLine=!0),t}(fe,le,S.multiLine));break;case 262:ce.push(function(e,t,n){t=vt.createAssignment(vt.createMemberAccessForPropertyName(t,vt.visitNode(e.name,qe,vt.isPropertyName)),vt.getSynthesizedClone(e.name));return vt.setTextRange(t,e),n&&(t.startsOnNewLine=!0),t}(fe,le,S.multiLine));break;default:vt.Debug.failBadSyntaxKind(S)}}return x.push(y.multiLine?vt.startOnNewLine(vt.getMutableClone(oe)):oe),vt.inlineExpressions(x);case 260:return k=g,oe=ze(4032,0),vt.Debug.assert(!!k.variableDeclaration,"Catch clause variable should always be present when downleveling ES2015."),r=vt.isBindingPattern(k.variableDeclaration.name)?(x=vt.createTempVariable(void 0),r=vt.createVariableDeclaration(x),vt.setTextRange(r,k.variableDeclaration),x=vt.flattenDestructuringBinding(k.variableDeclaration,qe,Le,0,x),x=vt.createVariableDeclarationList(x),vt.setTextRange(x,k.variableDeclaration),x=vt.createVariableStatement(void 0,x),vt.updateCatchClause(k,r,(r=k.block,x=x,i=vt.visitNodes(r.statements,qe,vt.isStatement),vt.updateBlock(r,[x].concat(i))))):vt.visitEachChild(k,qe,Le),$e(oe,0,0),r;case 262:return i=g,vt.setTextRange(vt.createPropertyAssignment(i.name,vt.getSynthesizedClone(i.name)),i);case 144:return r=ze(0,8192),n=vt.visitEachChild(g,qe,Le),$e(r,49152,49152&Me?32768:0),n;case 177:return 64&(n=g).transformFlags?et(n.elements,!0,n.multiLine,n.elements.hasTrailingComma):vt.visitEachChild(n,qe,Le);case 181:var C=g;if(33554432&vt.getEmitFlags(C)){var _e=C,me=vt.cast(vt.cast(vt.skipOuterExpressions(_e.expression),vt.isArrowFunction).body,vt.isBlock),ge=vt.visitNodes(me.statements,qe,vt.isStatement,0,1),me=vt.visitNodes(me.statements,qe,vt.isStatement,1,me.statements.length-1),E=vt.cast(vt.firstOrUndefined(ge),vt.isVariableStatement).declarationList.declarations[0],D=vt.skipOuterExpressions(E.initializer),A=vt.tryCast(D,vt.isAssignmentExpression),D=vt.cast(A?vt.skipOuterExpressions(A.right):D,vt.isCallExpression),he=vt.cast(vt.skipOuterExpressions(D.expression),vt.isFunctionExpression),ye=he.body.statements,N=0,ve=-1,w=[];for(A&&((t=vt.tryCast(ye[N],vt.isExpressionStatement))&&(w.push(t),N++),w.push(ye[N]),N++,w.push(vt.createStatement(vt.createAssignment(A.left,vt.cast(E.name,vt.isIdentifier)))));!vt.isReturnStatement(vt.elementAt(ye,ve));)ve--;return vt.addRange(w,ye,N,ve),ve<-1&&vt.addRange(w,ye,ve+1),vt.addRange(w,me),vt.addRange(w,ge,1),vt.recreateOuterExpressions(_e.expression,vt.recreateOuterExpressions(E.initializer,vt.recreateOuterExpressions(A&&A.right,vt.updateCall(D,vt.recreateOuterExpressions(D.expression,vt.updateFunctionExpression(he,void 0,void 0,void 0,void 0,he.parameters,void 0,vt.updateBlock(he.body,w))),void 0,D.arguments))))}return 64&C.transformFlags?ht(C,!0):vt.updateCall(C,vt.visitNode(C.expression,Ve,vt.isExpression),void 0,vt.visitNodes(C.arguments,qe,vt.isExpression));case 182:return 524288&(t=g).transformFlags?(me=(N=vt.createCallBinding(vt.createPropertyAccess(t.expression,"bind"),je)).target,N=N.thisArg,vt.createNew(vt.createFunctionApply(vt.visitNode(me,qe,vt.isExpression),N,et(vt.createNodeArray([vt.createVoidZero()].concat(t.arguments)),!1,!1,!1)),void 0,[])):vt.visitEachChild(t,qe,Le);case 185:return We(g,!0);case 194:return Qe(g,!0);case 13:case 14:case 15:case 16:return ge=g,vt.setTextRange(vt.createLiteral(ge.text),ge);case 9:return(_e=g).hasExtendedUnicodeEscape?vt.setTextRange(vt.createLiteral(_e.text),_e):_e;case 8:return 48&(E=g).numericLiteralFlags?vt.setTextRange(vt.createNumericLiteral(E.text),E):E;case 183:var A=g,he=vt.visitNode(A.tag,qe,vt.isExpression),be=[void 0],xe=[],ke=[],A=A.template;if(vt.isNoSubstitutionTemplateLiteral(A))xe.push(vt.createLiteral(A.text)),ke.push(tt(A));else{xe.push(vt.createLiteral(A.head.text)),ke.push(tt(A.head));for(var Se=0,Te=A.templateSpans;Se<Te.length;Se++){var Ce=Te[Se];xe.push(vt.createLiteral(Ce.literal.text)),ke.push(tt(Ce.literal)),be.push(vt.visitNode(Ce.expression,qe,vt.isExpression))}}A=Le,w=vt.createArrayLiteral(xe),D=vt.createArrayLiteral(ke),A.requestEmitHelper(bt);A=vt.createCall(vt.getHelperName("__makeTemplateObject"),void 0,[w,D]);return vt.isExternalModule(Re)?(w=vt.createUniqueName("templateObject"),Ue=vt.append(Ue,vt.createVariableDeclaration(w)),be[0]=vt.createLogicalOr(w,vt.createAssignment(w,A))):be[0]=A,vt.createCall(he,void 0,be);case 196:for(var C=g,I=[],Ee=(j=I,P=B=C,vt.Debug.assert(0!==P.templateSpans.length),0===P.head.text.length&&0!==P.templateSpans[0].literal.text.length||j.push(vt.createLiteral(B.head.text)),I),De=0,Ae=C.templateSpans;De<Ae.length;De++){var Ne=Ae[De];Ee.push(vt.visitNode(Ne.expression,qe,vt.isExpression)),0!==Ne.literal.text.length&&Ee.push(vt.createLiteral(Ne.literal.text))}var P=vt.reduceLeft(I,vt.createAdd);return vt.nodeIsSynthesized(P)&&(P.pos=C.pos,P.end=C.end),P;case 197:return vt.visitEachChild(g,qe,Le);case 198:return vt.visitNode(g.expression,qe,vt.isExpression);case 97:return yt(!1);case 99:return j=g,Be?2&Me?(Be.containsLexicalThis=!0,j):Be.thisName||(Be.thisName=vt.createUniqueName("this")):j;case 204:return 94===(B=g).keywordToken&&"target"===B.name.escapedText?(Me|=8192&Me?32768:16384,vt.createIdentifier("_newTarget")):B;case 151:return I=g,vt.Debug.assert(!vt.isComputedPropertyName(I.name)),P=He(I,vt.moveRangePos(I,-1),void 0,void 0),vt.setEmitFlags(P,512|vt.getEmitFlags(P)),vt.setTextRange(vt.createPropertyAssignment(I.name,P),I);case 153:case 154:return F=g,vt.Debug.assert(!vt.isComputedPropertyName(F.name)),M=Be,Be=void 0,e=ze(16286,65),U=32768&F.transformFlags?(U=vt.visitParameterList(F.parameters,qe,Le),O=Ge(F),153===F.kind?vt.updateGetAccessor(F,F.decorators,F.modifiers,F.name,U,F.type,O):vt.updateSetAccessor(F,F.decorators,F.modifiers,F.name,U,O)):vt.visitEachChild(F,qe,Le),$e(e,49152,0),Be=M,U;case 208:var we,O=g,F=ze(0,vt.hasModifier(O,1)?32:0);if(Be&&0==(3&O.declarationList.flags)){for(var Ie=void 0,Pe=0,Oe=O.declarationList.declarations;Pe<Oe.length;Pe++){var Fe,L=Oe[Pe];(function(a,e){a.hoistedLocalVariables||(a.hoistedLocalVariables=[]),function e(t){if(71===t.kind)a.hoistedLocalVariables.push(t);else for(var n=0,r=t.elements;n<r.length;n++){var i=r[n];vt.isOmittedExpression(i)||e(i.name)}}(e.name)})(Be,L),L.initializer&&(Fe=void 0,vt.isBindingPattern(L.name)?Fe=vt.flattenDestructuringAssignment(L,qe,Le,0):(Fe=vt.createBinary(L.name,58,vt.visitNode(L.initializer,qe,vt.isExpression)),vt.setTextRange(Fe,L)),Ie=vt.append(Ie,Fe))}we=Ie?vt.setTextRange(vt.createStatement(vt.inlineExpressions(Ie)),O):void 0}else we=vt.visitEachChild(O,qe,Le);return $e(F,0,0),we;case 219:return e=g,Be?(Be.nonLocalJumps|=8,Je(e)&&(e=at(e)),vt.createReturn(vt.createObjectLiteral([vt.createPropertyAssignment(vt.createIdentifier("value"),e.expression?vt.visitNode(e.expression,qe,vt.isExpression):vt.createVoidZero())]))):Je(e)?at(e):vt.visitEachChild(e,qe,Le);default:return vt.visitEachChild(g,qe,Le)}}function r(e){return it(e)?lt(e,!0):e}function Ve(e){return 97===e.kind?yt(!0):qe(e)}function at(e){return vt.setOriginalNode(vt.createReturn(vt.createIdentifier("_this")),e)}function st(e){e.name&&nt();var t=vt.getClassExtendsHeritageClauseElement(e),n=vt.createFunctionExpression(void 0,void 0,void 0,void 0,t?[vt.createParameter(void 0,void 0,void 0,"_super")]:[],void 0,function(e,t){for(var n,r,i,a,s,o,c,l,u,d,p,f,_,m,g,h,y,v=[],b=(P(),(d=t)&&v.push(vt.setTextRange(vt.createStatement((p=Le,f=vt.getLocalName(e),p.requestEmitHelper($),vt.createCall(vt.getHelperName("__extends"),void 0,[f,vt.createIdentifier("_super")]))),d)),p=v,f=e,d=t,t=Be,Be=void 0,o=ze(16278,73),c=vt.getFirstConstructorWithBody(f),l=!(!(s=c)||void 0===d)&&!vt.some(s.parameters)&&!(!(s=vt.firstOrUndefined(s.body.statements))||!vt.nodeIsSynthesized(s)||210!==s.kind)&&(s=s.expression,!(!vt.nodeIsSynthesized(s)||181!==s.kind))&&(l=s.expression,!(!vt.nodeIsSynthesized(l)||97!==l.kind))&&!(!(l=vt.singleOrUndefined(s.arguments))||!vt.nodeIsSynthesized(l)||198!==l.kind)&&(s=l.expression,vt.isIdentifier(s))&&"arguments"===s.escapedText,u=vt.createFunctionDeclaration(void 0,void 0,void 0,vt.getInternalName(f),void 0,vt.visitParameterList(c&&!l&&c.parameters,qe,Le)||[],void 0,(s=c,n=f,N=d,w=l,i=[],O(),A=-1,w?A=0:s&&(A=vt.addStandardPrologue(i,s.body.statements,!1)),s&&(j(i,s),K(i,s,w),w||(A=vt.addCustomPrologue(i,s.body.statements,A,qe)),vt.Debug.assert(0<=A,"statementOffset not initialized correctly!")),N=N&&95!==vt.skipOuterExpressions(N.expression).kind,E=i,D=s,u=A,1!=(w=N?D?w?(M(E,D,B()),rt(),1):!(a=u<(w=D.body.statements).length&&210===(r=w[u]).kind&&vt.isSuperCall(r.expression)?ht(r.expression,!1):a)||u!==w.length-1||49152&D.transformFlags?(M(E,D,a||L(),r),a?1:0):(u=vt.createReturn(a),194===a.kind&&181===a.left.kind||vt.Debug.fail("Assumed generated super call would have form 'super.call(...) || this'."),vt.setCommentRange(u,vt.getCommentRange(vt.setEmitFlags(a.left,1536))),E.push(u),2):(E.push(vt.createReturn(B())),2):(D&&R(E,D),0))&&2!=w||A++,s&&(1==w&&(Me|=4096),vt.addRange(i,vt.visitNodes(s.body.statements,qe,vt.isStatement,A))),!N||2==w||s&&function e(t){if(219===t.kind)return!0;if(211===t.kind){var n=t;if(n.elseStatement)return e(n.thenStatement)&&e(n.elseStatement)}else if(207===t.kind){n=vt.lastOrUndefined(t.statements);if(n&&e(n))return!0}return!1}(s.body)||i.push(vt.createReturn(vt.createIdentifier("_this"))),vt.addRange(i,F()),s&&U(i,s,!1),a=vt.createBlock(vt.setTextRange(vt.createNodeArray(i),s?s.body.statements:n.members),!0),vt.setTextRange(a,s?s.body:n),s||vt.setEmitFlags(a,1536),a)),vt.setTextRange(u,c||f),d&&vt.setEmitFlags(u,8),p.push(u),$e(o,49152,0),Be=t,v),x=e,k=0,S=x.members;k<S.length;k++){var T=S[k];switch(T.kind){case 206:b.push((y=T,vt.setTextRange(vt.createEmptyStatement(),y)));break;case 151:b.push((y=z(x,T),_=T,C=x,g=m=void 0,h=void 0,m=ze(0,0),g=vt.getCommentRange(_),h=vt.getSourceMapRange(_),y=vt.createMemberAccessForPropertyName(y,vt.visitNode(_.name,qe,vt.isPropertyName),_.name),C=He(_,_,void 0,C),vt.setEmitFlags(C,1536),vt.setSourceMapRange(C,h),h=vt.setTextRange(vt.createStatement(vt.createAssignment(y,C)),_),vt.setOriginalNode(h,_),vt.setCommentRange(h,g),vt.setEmitFlags(h,48),$e(m,49152,49152&Me?16384:0),h));break;case 153:case 154:var C=vt.getAllAccessorDeclarations(x.members,T);T===C.firstAccessor&&b.push(function(e,t,n){e=vt.createStatement(ot(e,t,n,!1));return vt.setEmitFlags(e,1536),vt.setSourceMapRange(e,vt.getSourceMapRange(t.firstAccessor)),e}(z(x,T),C,x));break;case 152:break;default:vt.Debug.failBadSyntaxKind(x)}}var E=vt.createTokenRange(vt.skipTrivia(I,e.members.end),18),D=vt.getInternalName(e),A=vt.createPartiallyEmittedExpression(D),N=(A.end=E.end,vt.setEmitFlags(A,1536),vt.createReturn(A)),w=(N.pos=E.pos,vt.setEmitFlags(N,1920),v.push(N),vt.addRange(v,F()),vt.createBlock(vt.setTextRange(vt.createNodeArray(v),e.members),!0));return vt.setEmitFlags(w,1536),w}(e,t)),n=(65536&vt.getEmitFlags(e)&&vt.setEmitFlags(n,65536),vt.createPartiallyEmittedExpression(n)),n=(n.end=e.end,vt.setEmitFlags(n,1536),vt.createPartiallyEmittedExpression(n)),e=(n.end=vt.skipTrivia(I,e.pos),vt.setEmitFlags(n,1536),vt.createParen(vt.createCall(n,void 0,t?[vt.visitNode(t.expression,qe,vt.isExpression)]:[])));return vt.addSyntheticLeadingComment(e,3,"* @class "),e}function L(){return vt.setEmitFlags(vt.createThis(),4)}function B(){return vt.createLogicalOr(vt.createLogicalAnd(vt.createStrictInequality(vt.createIdentifier("_super"),vt.createNull()),vt.createFunctionApply(vt.createIdentifier("_super"),L(),vt.createIdentifier("arguments"))),L())}function j(e,t){if(0!=(131072&t.transformFlags))for(var n=0,r=t.parameters;n<r.length;n++){var i=r[n],a=i.name,s=i.initializer;if(!i.dotDotDotToken)if(vt.isBindingPattern(a))o=e,c=i,l=a,u=s,d=void 0,d=vt.getGeneratedNameForNode(c),0<l.elements.length?o.push(vt.setEmitFlags(vt.createVariableStatement(void 0,vt.createVariableDeclarationList(vt.flattenDestructuringBinding(c,qe,Le,0,d))),1048576)):u&&o.push(vt.setEmitFlags(vt.createStatement(vt.createAssignment(d,vt.visitNode(u,qe,vt.isExpression))),1048576));else if(s){l=void 0;c=void 0;o=void 0;d=void 0;l=e;c=i;o=a;d=s;d=vt.visitNode(d,qe,vt.isExpression);o=vt.createIf(vt.createTypeCheck(vt.getSynthesizedClone(o),"undefined"),vt.setEmitFlags(vt.setTextRange(vt.createBlock([vt.createStatement(vt.setTextRange(vt.createAssignment(vt.setEmitFlags(vt.getMutableClone(o),48),vt.setEmitFlags(d,48|vt.getEmitFlags(d))),c))]),c),417));o.startsOnNewLine=!0,vt.setTextRange(o,c),vt.setEmitFlags(o,1048992),l.push(o)}}var o,c,l,u,d}function K(e,t,n){var r,i,a=vt.lastOrUndefined(t.parameters);a&&a.dotDotDotToken&&71===a.name.kind&&!n&&(n=vt.getMutableClone(a.name),vt.setEmitFlags(n,48),r=vt.getSynthesizedClone(a.name),t=t.parameters.length-1,i=vt.createLoopVariable(),e.push(vt.setEmitFlags(vt.setTextRange(vt.createVariableStatement(void 0,vt.createVariableDeclarationList([vt.createVariableDeclaration(n,void 0,vt.createArrayLiteral([]))])),a),1048576)),n=vt.createFor(vt.setTextRange(vt.createVariableDeclarationList([vt.createVariableDeclaration(i,void 0,vt.createLiteral(t))]),a),vt.setTextRange(vt.createLessThan(i,vt.createPropertyAccess(vt.createIdentifier("arguments"),"length")),a),vt.setTextRange(vt.createPostfixIncrement(i),a),vt.createBlock([vt.startOnNewLine(vt.setTextRange(vt.createStatement(vt.createAssignment(vt.createElementAccess(r,0==t?i:vt.createSubtract(i,vt.createLiteral(t))),vt.createElementAccess(vt.createIdentifier("arguments"),i))),a))])),vt.setEmitFlags(n,1048576),vt.startOnNewLine(n),e.push(n))}function R(e,t){32768&t.transformFlags&&187!==t.kind&&M(e,t,vt.createThis())}function M(e,t,n,r){rt();n=vt.createVariableStatement(void 0,vt.createVariableDeclarationList([vt.createVariableDeclaration("_this",void 0,n)]));vt.setEmitFlags(n,1050112),vt.setTextRange(n,r),vt.setSourceMapRange(n,t),e.push(n)}function U(e,t,n){if(16384&Me){var r=void 0;switch(t.kind){case 187:return e;case 151:case 153:case 154:r=vt.createVoidZero();break;case 152:r=vt.createPropertyAccess(vt.setEmitFlags(vt.createThis(),4),"constructor");break;case 228:case 186:r=vt.createConditional(vt.createLogicalAnd(vt.setEmitFlags(vt.createThis(),4),vt.createBinary(vt.setEmitFlags(vt.createThis(),4),93,vt.getLocalName(t))),vt.createPropertyAccess(vt.setEmitFlags(vt.createThis(),4),"constructor"),vt.createVoidZero());break;default:vt.Debug.failBadSyntaxKind(t)}var i=vt.createVariableStatement(void 0,vt.createVariableDeclarationList([vt.createVariableDeclaration("_newTarget",void 0,r)]));if(n)return[i].concat(e);e.unshift(i)}return e}function ot(e,t,n,r){var i,a=t.firstAccessor,s=t.getAccessor,t=t.setAccessor,o=ze(0,0),e=vt.getMutableClone(e),c=(vt.setEmitFlags(e,1568),vt.setSourceMapRange(e,a.name),vt.createExpressionForPropertyName(vt.visitNode(a.name,qe,vt.isPropertyName))),a=(vt.setEmitFlags(c,1552),vt.setSourceMapRange(c,a.name),[]),n=(s&&(i=He(s,void 0,void 0,n),vt.setSourceMapRange(i,vt.getSourceMapRange(s)),vt.setEmitFlags(i,512),i=vt.createPropertyAssignment("get",i),vt.setCommentRange(i,vt.getCommentRange(s)),a.push(i)),t&&(s=He(t,void 0,void 0,n),vt.setSourceMapRange(s,vt.getSourceMapRange(t)),vt.setEmitFlags(s,512),i=vt.createPropertyAssignment("set",s),vt.setCommentRange(i,vt.getCommentRange(t)),a.push(i)),a.push(vt.createPropertyAssignment("enumerable",vt.createTrue()),vt.createPropertyAssignment("configurable",vt.createTrue())),vt.createCall(vt.createPropertyAccess(vt.createIdentifier("Object"),"defineProperty"),void 0,[e,c,vt.createObjectLiteral(a,!0)]));return r&&(n.startsOnNewLine=!0),$e(o,49152,49152&Me?16384:0),n}function He(e,t,n,r){var i=Be,r=(Be=void 0,r&&vt.isClassLike(r)&&!vt.hasModifier(e,32)?ze(16286,73):ze(16286,65)),a=vt.visitParameterList(e.parameters,qe,Le),s=Ge(e);return 16384&Me&&!n&&(228===e.kind||186===e.kind)&&(n=vt.getGeneratedNameForNode(e)),$e(r,49152,0),Be=i,vt.setOriginalNode(vt.setTextRange(vt.createFunctionExpression(void 0,e.asteriskToken,n,void 0,a,void 0,s),t),e)}function Ge(e){var t,n,r=!1,i=!1,a=[],s=e.body,o=(O(),vt.isBlock(s)&&(o=vt.addStandardPrologue(a,s.statements,!1)),R(a,e),j(a,e),K(a,e,!1),!r&&0<a.length&&(r=!0),vt.isBlock(s)?(o=vt.addCustomPrologue(a,s.statements,o,qe),n=s.statements,vt.addRange(a,vt.visitNodes(s.statements,qe,vt.isStatement,o)),!r&&s.multiLine&&(r=!0)):(vt.Debug.assert(187===e.kind),n=vt.moveRangeEnd(s,-1),o=e.equalsGreaterThanToken,vt.nodeIsSynthesized(o)||vt.nodeIsSynthesized(s)||(vt.rangeEndIsOnSameLineAsRangeStart(o,s,Re)?i=!0:r=!0),o=vt.visitNode(s,qe,vt.isExpression),o=vt.createReturn(o),vt.setTextRange(o,s),vt.setEmitFlags(o,1440),a.push(o),t=s),Le.endLexicalEnvironment()),s=(vt.addRange(a,o),U(a,e,!1),!r&&o&&o.length&&(r=!0),vt.createBlock(vt.setTextRange(vt.createNodeArray(a),n),r));return vt.setTextRange(s,e.body),!r&&i&&vt.setEmitFlags(s,1),t&&vt.setTokenSourceMapRange(s,18,t),vt.setOriginalNode(s,e.body),s}function ct(e){var t=vt.visitFunctionBody(e.body,r,Le);return vt.updateBlock(t,vt.setTextRange(vt.createNodeArray(U(t.statements,e,!0)),t.statements))}function lt(e,t){return t?vt.visitEachChild(e,qe,Le):(t=256&Me?ze(4032,512):ze(3904,128),e=vt.visitEachChild(e,qe,Le),$e(t,0,0),e)}function We(e,t){if(!t)switch(e.expression.kind){case 185:return vt.updateParen(e,We(e.expression,!1));case 194:return vt.updateParen(e,Qe(e.expression,!1))}return vt.visitEachChild(e,qe,Le)}function Qe(e,t){return vt.isDestructuringAssignment(e)?vt.flattenDestructuringAssignment(e,qe,Le,0,t):vt.visitEachChild(e,qe,Le)}function ut(e){var t,n,r=e.name;return vt.isBindingPattern(r)?Ye(e):e.initializer||(r=e,t=Ke.getNodeCheckFlags(r),n=131072&t,t&=262144,0!=(64&Me))||n&&t&&0!=(512&Me)||0!=(2048&Me)||Ke.isDeclarationWithCollidingName(r)&&(!t||n||0!=(3072&Me))?vt.visitEachChild(e,qe,Le):((r=vt.getMutableClone(e)).initializer=vt.createVoidZero(),r)}function Ye(e){var t=ze(32,0),e=vt.isBindingPattern(e.name)?vt.flattenDestructuringBinding(e,qe,Le,0,void 0,0!=(32&t)):vt.visitEachChild(e,qe,Le);return $e(t,0,0),e}function dt(e){Be.labels.set(vt.idText(e.label),!0)}function Xe(e){Be.labels.set(vt.idText(e.label),!1)}function n(e,t,n,r,i){e=ze(e,t),t=function(e,t,n){if(!T(e))return i=void 0,Be&&(i=Be.allowedNonLabeledJumps,Be.allowedNonLabeledJumps=6),u=n?n(e,t,void 0):vt.restoreEnclosingLabel(vt.visitEachChild(e,qe,Le),t,Be&&Xe),Be&&(Be.allowedNonLabeledJumps=i),u;var r,i=vt.createUniqueName("_loop");switch(e.kind){case 214:case 215:case 216:var a=e.initializer;a&&227===a.kind&&(r=a)}var s=[],o=[];if(r&&3&vt.getCombinedNodeFlags(r))for(var c=0,l=r.declarations;c<l.length;c++)!function e(t,n,r){var i=t.name;if(vt.isBindingPattern(i))for(var a=0,s=i.elements;a<s.length;a++){var o=s[a];vt.isOmittedExpression(o)||e(o,n,r)}else n.push(vt.createParameter(void 0,void 0,void 0,i)),2097152&Ke.getNodeCheckFlags(t)&&(t=vt.createUniqueName("out_"+vt.idText(i)),r.push({originalName:i,outParamName:t}))}(l[c],s,o);var u=Be,d=(Be={loopOutParameters:o},u&&(u.argumentsName&&(Be.argumentsName=u.argumentsName),u.thisName&&(Be.thisName=u.thisName),u.hoistedLocalVariables)&&(Be.hoistedLocalVariables=u.hoistedLocalVariables),P(),vt.visitNode(e.statement,qe,vt.isStatement,vt.liftToBlock)),p=F(),f=Be,p=(Be=u,(o.length||p)&&(_=vt.isBlock(d)?d.statements.slice():[d],o.length&&S(o,1,_),vt.addRange(_,p),d=vt.createBlock(_,!0)),vt.isBlock(d)?d.multiLine=!0:d=vt.createBlock([d],!0),0!=(16777216&e.statement.transformFlags)),_=p&&0!=(4&Me),m=0;f.containsLexicalThis&&(m|=8),_&&(m|=262144);_=[vt.createVariableStatement(void 0,vt.setEmitFlags(vt.createVariableDeclarationList([vt.createVariableDeclaration(i,void 0,vt.setEmitFlags(vt.createFunctionExpression(void 0,p?vt.createToken(39):void 0,void 0,void 0,s,void 0,d),m))]),2097152))];if(f.argumentsName&&(u?u.argumentsName=f.argumentsName:(g=g||[]).push(vt.createVariableDeclaration(f.argumentsName,void 0,vt.createIdentifier("arguments")))),f.thisName&&(u?u.thisName=f.thisName:(g=g||[]).push(vt.createVariableDeclaration(f.thisName,void 0,vt.createIdentifier("this")))),f.hoistedLocalVariables)if(u)u.hoistedLocalVariables=f.hoistedLocalVariables;else for(var g=g||[],h=0,y=f.hoistedLocalVariables;h<y.length;h++){var v=y[h];g.push(vt.createVariableDeclaration(v))}if(o.length){g=g||[];for(var b=0,x=o;b<x.length;b++)g.push(vt.createVariableDeclaration(x[b].outParamName))}g&&_.push(vt.createVariableStatement(void 0,vt.createVariableDeclarationList(g)));d=p,m=Be,u=[],f=!(-5&(p=f).nonLocalJumps||p.labeledNonLocalBreaks||p.labeledNonLocalContinues),k=vt.createCall(i,void 0,vt.map(s,function(e){return e.name})),d=d?vt.createYield(vt.createToken(39),vt.setEmitFlags(k,8388608)):k,f?(u.push(vt.createStatement(d)),S(p.loopOutParameters,0,u)):(k=vt.createUniqueName("state"),f=vt.createVariableStatement(void 0,vt.createVariableDeclarationList([vt.createVariableDeclaration(k,void 0,d)])),u.push(f),S(p.loopOutParameters,0,u),8&p.nonLocalJumps&&(d=void 0,d=m?(m.nonLocalJumps|=8,vt.createReturn(k)):vt.createReturn(vt.createPropertyAccess(k,"value")),u.push(vt.createIf(vt.createBinary(vt.createTypeOf(k),34,vt.createLiteral("object")),d))),2&p.nonLocalJumps&&u.push(vt.createIf(vt.createBinary(k,34,vt.createLiteral("break")),vt.createBreak())),(p.labeledNonLocalBreaks||p.labeledNonLocalContinues)&&(C(p.labeledNonLocalBreaks,!0,k,m,f=[]),C(p.labeledNonLocalContinues,!1,k,m,f),u.push(vt.createSwitch(k,vt.createCaseBlock(f)))));var k,d=u,m=n?n(e,t,d):((p=vt.getMutableClone(e)).statement=void 0,(p=vt.visitEachChild(p,qe,Le)).statement=vt.createBlock(d,!0),p.transformFlags=0,vt.aggregateTransformFlags(p),vt.restoreEnclosingLabel(p,t,Be&&Xe));return _.push(m),_}(n,r,i);return $e(e,0,0),t}function pt(e,t){return n(0,256,e,t)}function ft(e,t){return n(3008,1280,e,t)}function _t(e,t){return n(1984,2304,e,t)}function mt(e,t){return n(1984,2304,e,t,o.downlevelIteration?l:a)}function u(e,t,n){var r,i,a,s,o,c,l=[];return vt.isVariableDeclarationList(e.initializer)?(3&e.initializer.flags&&nt(),(a=vt.firstOrUndefined(e.initializer.declarations))&&vt.isBindingPattern(a.name)?(c=vt.flattenDestructuringBinding(a,qe,Le,0,t),s=vt.setTextRange(vt.createVariableDeclarationList(c),e.initializer),vt.setOriginalNode(s,e.initializer),o=c[0],c=vt.lastOrUndefined(c),vt.setSourceMapRange(s,vt.createRange(o.pos,c.end)),l.push(vt.createVariableStatement(void 0,s))):l.push(vt.setTextRange(vt.createVariableStatement(void 0,vt.setOriginalNode(vt.setTextRange(vt.createVariableDeclarationList([vt.createVariableDeclaration(a?a.name:vt.createTempVariable(void 0),void 0,t)]),vt.moveRangePos(e.initializer,-1)),e.initializer)),vt.moveRangeEnd(e.initializer,-1)))):(o=vt.createAssignment(e.initializer,t),vt.isDestructuringAssignment(o)?(vt.aggregateTransformFlags(o),l.push(vt.createStatement(Qe(o,!1)))):(o.end=e.initializer.end,l.push(vt.setTextRange(vt.createStatement(vt.visitNode(o,qe,vt.isExpression)),vt.moveRangeEnd(e.initializer,-1))))),n?vt.addRange(l,n):(c=vt.visitNode(e.statement,qe,vt.isStatement,vt.liftToBlock),vt.isBlock(c)?(vt.addRange(l,c.statements),i=(r=c).statements):l.push(c)),vt.setEmitFlags(vt.setTextRange(vt.createBlock(vt.setTextRange(vt.createNodeArray(l),i),!0),r),432)}function a(e,t,n){var r=vt.visitNode(e.expression,qe,vt.isExpression),i=vt.createLoopVariable(),a=vt.isIdentifier(r)?vt.getGeneratedNameForNode(r):vt.createTempVariable(void 0),r=(vt.setEmitFlags(r,48|vt.getEmitFlags(r)),vt.setTextRange(vt.createFor(vt.setEmitFlags(vt.setTextRange(vt.createVariableDeclarationList([vt.setTextRange(vt.createVariableDeclaration(i,void 0,vt.createLiteral(0)),vt.moveRangePos(e.expression,-1)),vt.setTextRange(vt.createVariableDeclaration(a,void 0,r),e.expression)]),e.expression),2097152),vt.setTextRange(vt.createLessThan(i,vt.createPropertyAccess(a,"length")),e.expression),vt.setTextRange(vt.createPostfixIncrement(i),e.expression),u(e,vt.createElementAccess(a,i),n)),e));return vt.setEmitFlags(r,256),vt.setTextRange(r,e),vt.restoreEnclosingLabel(r,t,Be&&Xe)}function l(e,t,n){var r=vt.visitNode(e.expression,qe,vt.isExpression),i=vt.isIdentifier(r)?vt.getGeneratedNameForNode(r):vt.createTempVariable(void 0),a=vt.isIdentifier(r)?vt.getGeneratedNameForNode(i):vt.createTempVariable(void 0),s=vt.createUniqueName("e"),o=vt.getGeneratedNameForNode(s),c=vt.createTempVariable(void 0),r=vt.createValuesHelper(Le,r,e.expression),l=vt.createCall(vt.createPropertyAccess(i,"next"),void 0,[]),r=(je(s),je(c),vt.setEmitFlags(vt.setTextRange(vt.createFor(vt.setEmitFlags(vt.setTextRange(vt.createVariableDeclarationList([vt.setTextRange(vt.createVariableDeclaration(i,void 0,r),e.expression),vt.createVariableDeclaration(a,void 0,l)]),e.expression),2097152),vt.createLogicalNot(vt.createPropertyAccess(a,"done")),vt.createAssignment(a,l),u(e,vt.createPropertyAccess(a,"value"),n)),e),256));return vt.createTry(vt.createBlock([vt.restoreEnclosingLabel(r,t,Be&&Xe)]),vt.createCatchClause(vt.createVariableDeclaration(o),vt.setEmitFlags(vt.createBlock([vt.createStatement(vt.createAssignment(s,vt.createObjectLiteral([vt.createPropertyAssignment("error",o)])))]),1)),vt.createBlock([vt.createTry(vt.createBlock([vt.setEmitFlags(vt.createIf(vt.createLogicalAnd(vt.createLogicalAnd(a,vt.createLogicalNot(vt.createPropertyAccess(a,"done"))),vt.createAssignment(c,vt.createPropertyAccess(i,"return"))),vt.createStatement(vt.createFunctionCall(c,i,[]))),1)]),void 0,vt.setEmitFlags(vt.createBlock([vt.setEmitFlags(vt.createIf(s,vt.createThrow(vt.createPropertyAccess(s,"error"))),1)]),1))]))}function T(e){return 0!=(65536&Ke.getNodeCheckFlags(e))}function gt(e,t){var n=0===t?e.outParamName:e.originalName,t=0===t?e.originalName:e.outParamName;return vt.createBinary(t,58,n)}function S(e,t,n){for(var r=0,i=e;r<i.length;r++){var a=i[r];n.push(vt.createStatement(gt(a,t)))}}function Ze(e,t,n,r){(t?(e.labeledNonLocalBreaks||(e.labeledNonLocalBreaks=vt.createMap()),e.labeledNonLocalBreaks):(e.labeledNonLocalContinues||(e.labeledNonLocalContinues=vt.createMap()),e.labeledNonLocalContinues)).set(n,r)}function C(e,i,a,s,o){e&&e.forEach(function(e,t){var n,r=[];!s||s.labels&&s.labels.get(t)?(n=vt.createIdentifier(t),r.push(i?vt.createBreak(n):vt.createContinue(n))):(Ze(s,i,t,e),r.push(vt.createReturn(a))),o.push(vt.createCaseClause(vt.createLiteral(e),r))})}function ht(e,t){var n=vt.createCallBinding(e.expression,je),r=n.target,n=n.thisArg;return 97===e.expression.kind&&vt.setEmitFlags(n,4),r=524288&e.transformFlags?vt.createFunctionApply(vt.visitNode(r,Ve,vt.isExpression),vt.visitNode(n,qe,vt.isExpression),et(e.arguments,!1,!1,!1)):vt.createFunctionCall(vt.visitNode(r,Ve,vt.isExpression),vt.visitNode(n,qe,vt.isExpression),vt.visitNodes(e.arguments,qe,vt.isExpression),e),97===e.expression.kind&&(n=vt.createThis(),vt.setEmitFlags(n,4),n=vt.createLogicalOr(r,n),r=t?vt.createAssignment(vt.createIdentifier("_this"),n):n),vt.setOriginalNode(r,e)}function et(e,t,i,a){var s=e.length,n=vt.flatten(vt.spanMap(e,d,function(e,t,n,r){return t(e,i,a&&r===s)}));if(o.downlevelIteration){if(1===n.length){var r=n[0];if(vt.isCallExpression(r)&&vt.isIdentifier(r.expression)&&4096&vt.getEmitFlags(r.expression)&&"___spread"===r.expression.escapedText)return n[0]}return vt.createSpreadHelper(Le,n)}return 1===n.length?(r=e[0],t&&vt.isSpreadElement(r)&&177!==r.expression.kind?vt.createArraySlice(n[0]):n[0]):vt.createArrayConcat(n.shift(),n)}function d(e){return vt.isSpreadElement(e)?t:p}function t(e){return vt.map(e,f)}function p(e,t,n){return vt.createArrayLiteral(vt.visitNodes(vt.createNodeArray(e,n),qe,vt.isExpression),t)}function f(e){return vt.visitNode(e.expression,qe,vt.isExpression)}function tt(e){var t=vt.getSourceTextOfNodeFromSourceFile(Re,e),n=13===e.kind||16===e.kind,t=(t=t.substring(1,t.length-(n?1:2))).replace(/\r\n?/g,"\n");return vt.setTextRange(vt.createLiteral(t),e)}function yt(e){return 8&Me&&!e?vt.createPropertyAccess(vt.createIdentifier("_super"),"prototype"):vt.createIdentifier("_super")}function nt(){0==(2&s)&&(s|=2,Le.enableSubstitution(71))}function rt(){0==(1&s)&&(s|=1,Le.enableSubstitution(99),Le.enableEmitNotification(152),Le.enableEmitNotification(151),Le.enableEmitNotification(153),Le.enableEmitNotification(154),Le.enableEmitNotification(187),Le.enableEmitNotification(186),Le.enableEmitNotification(228))}function z(e,t){return vt.hasModifier(t,32)?vt.getInternalName(e):vt.createPropertyAccess(vt.getInternalName(e),"prototype")}}),priority:0,text:"\n            var __extends = (this && this.__extends) || (function () {\n                var extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n                return function (d, b) {\n                    extendStatics(d, b);\n                    function __() { this.constructor = d; }\n                    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n                };\n            })();"},bt={name:"typescript:makeTemplateObject",scoped:!1,priority:0,text:'\n            var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n                if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }\n                return cooked;\n            };'}}(ts=ts||{}),function(o){o.transformES5=function(e){var i,a,t=e.getCompilerOptions(),r=(1!==t.jsx&&3!==t.jsx||(i=e.onEmitNode,e.onEmitNode=function(e,t,n){switch(t.kind){case 251:case 252:case 250:var r=t.tagName;a[o.getOriginalNodeId(r)]=!0}i(e,t,n)},e.enableEmitNotification(251),e.enableEmitNotification(252),e.enableEmitNotification(250),a=[]),e.onSubstituteNode);return e.onSubstituteNode=function(e,t){var n;return t.id&&a&&a[t.id]?r(e,t):(t=r(e,t),o.isPropertyAccessExpression(t)?(n=s((e=t).name))?o.setTextRange(o.createElementAccess(e.expression,n),e):e:o.isPropertyAssignment(t)?(n=t,(e=o.isIdentifier(n.name)&&s(n.name))?o.updatePropertyAssignment(n,e,n.initializer):n):t)},e.enableSubstitution(179),e.enableSubstitution(261),function(e){return e};function s(e){var t=e.originalKeywordKind||(o.nodeIsSynthesized(e)?o.stringToToken(o.idText(e)):void 0);if(72<=t&&t<=107)return o.setTextRange(o.createLiteral(e),e)}}}(ts=ts||{}),function(Pe){var Oe={name:"typescript:generator",scoped:!(Pe.transformGenerators=function(K){var j,ie,z,$,h,y,v,b,x,k,O=K.resumeLexicalEnvironment,F=K.endLexicalEnvironment,r=K.hoistFunctionDeclaration,J=K.hoistVariableDeclaration,e=K.getCompilerOptions(),ae=Pe.getEmitScriptTarget(e),i=K.getEmitResolver(),a=K.onSubstituteNode;K.onSubstituteNode=function(e,t){if(t=a(e,t),1!==e)return t;e=t;if(Pe.isIdentifier(e)){t=e;if(!Pe.isGeneratedIdentifier(t)&&j&&j.has(Pe.idText(t))){var n=Pe.getOriginalNode(t);if(Pe.isIdentifier(n)&&n.parent){n=i.getReferencedValueDeclaration(n);if(n){var n=ie[Pe.getOriginalNodeId(n)];if(n)return n=Pe.getMutableClone(n),Pe.setSourceMapRange(n,t),Pe.setCommentRange(n,t),n}}}return t}return e};var S,L,R,q,T,C,se,E,D,oe,A,N,ce=1,le=0,w=0;return function(e){return e.isDeclarationFile||0==(512&e.transformFlags)||(e=Pe.visitEachChild(e,V,K),Pe.addEmitHelpers(e,K.readEmitHelpers())),e};function V(e){var t,n,r=e.transformFlags;if($){var i=e;switch(i.kind){case 212:case 213:return n=i,$?(ve(),n=Pe.visitEachChild(n,V,K),X(),n):Pe.visitEachChild(n,V,K);case 221:return n=i,$&&U({kind:2,isScript:!0,breakLabel:-1}),n=Pe.visitEachChild(n,V,K),$&&xe(),n;case 222:return t=i,$&&U({kind:4,isScript:!0,labelText:Pe.idText(t.label),breakLabel:-1}),t=Pe.visitEachChild(t,V,K),$&&ke(),t;default:return s(i)}}else{if(z)return s(e);if(!(256&r))return 512&r?Pe.visitEachChild(e,V,K):e;var a=e;switch(a.kind){case 228:return ue(a);case 186:return de(a);default:return Pe.Debug.failBadSyntaxKind(a),Pe.visitEachChild(a,V,K)}}}function s(e){switch(e.kind){case 228:return ue(e);case 186:return de(e);case 153:case 154:return F=z,L=$,$=z=!1,r=Pe.visitEachChild(e,V,K),z=F,$=L,r;case 208:F=e;if(16777216&F.transformFlags)return void _e(F.declarationList);if(1048576&Pe.getEmitFlags(F))return F;for(var t=0,n=F.declarationList.declarations;t<n.length;t++){var R=n[t];J(R.name)}L=Pe.getInitializedVariables(F.declarationList);return 0!==L.length?Pe.setSourceMapRange(Pe.createStatement(Pe.inlineExpressions(Pe.map(L,me))),F):void 0;case 214:var r=e,i=($&&ve(),r.initializer);if(i&&Pe.isVariableDeclarationList(i)){for(var a=0,s=i.declarations;a<s.length;a++){var M=s[a];J(M.name)}i=Pe.getInitializedVariables(i);r=Pe.updateFor(r,0<i.length?Pe.inlineExpressions(Pe.map(i,me)):void 0,Pe.visitNode(r.condition,V,Pe.isExpression),Pe.visitNode(r.incrementor,V,Pe.isExpression),Pe.visitNode(r.statement,V,Pe.isStatement,Pe.liftToBlock))}else r=Pe.visitEachChild(r,V,K);return $&&X(),r;case 215:var i=e,o=($&&ve(),i.initializer);if(Pe.isVariableDeclarationList(o)){for(var c=0,U=o.declarations;c<U.length;c++){var B=U[c];J(B.name)}i=Pe.updateForIn(i,o.declarations[0].name,Pe.visitNode(i.expression,V,Pe.isExpression),Pe.visitNode(i.statement,V,Pe.isStatement,Pe.liftToBlock))}else i=Pe.visitEachChild(i,V,K);return $&&X(),i;case 218:o=e;if($){var l=Se(o.label&&Pe.idText(o.label));if(0<l)return Ce(l,o)}return Pe.visitEachChild(o,V,K);case 217:l=e;if($){var u=Te(l.label&&Pe.idText(l.label));if(0<u)return Ce(u,l)}return Pe.visitEachChild(l,V,K);case 219:return u=e,O=Pe.visitNode(u.expression,V,Pe.isExpression),u=u,Pe.setTextRange(Pe.createReturn(Pe.createArrayLiteral(O?[Z(2),O]:[Z(2)])),u);default:if(16777216&e.transformFlags){var d=e;switch(d.kind){case 194:var p,f,_,m=d;switch(Pe.getExpressionAssociativity(m)){case 0:return H((y=m).right)?Pe.isLogicalOperator(y.operatorToken.kind)?(f=y,_=Q(),te(g=W(),Pe.visitNode(f.left,V,Pe.isExpression),f.left),(53===f.operatorToken.kind?Ae:De)(_,g,f.left),te(g,Pe.visitNode(f.right,V,Pe.isExpression),f.right),Y(_),g):26===y.operatorToken.kind?(p=[],x((f=y).left),x(f.right),Pe.inlineExpressions(p)):((_=Pe.getMutableClone(y)).left=G(Pe.visitNode(y.left,V,Pe.isExpression)),_.right=Pe.visitNode(y.right,V,Pe.isExpression),_):Pe.visitEachChild(y,V,K);case 1:var g=m,h=g.left,y=g.right;if(H(y)){var v=void 0;switch(h.kind){case 179:v=Pe.updatePropertyAccess(h,G(Pe.visitNode(h.expression,V,Pe.isLeftHandSideExpression)),h.name);break;case 180:v=Pe.updateElementAccess(h,G(Pe.visitNode(h.expression,V,Pe.isLeftHandSideExpression)),G(Pe.visitNode(h.argumentExpression,V,Pe.isExpression)));break;default:v=Pe.visitNode(h,V,Pe.isExpression)}var b=g.operatorToken.kind;return 59<=b&&b<=70?Pe.setTextRange(Pe.createAssignment(v,Pe.setTextRange(Pe.createBinary(G(v),function(){switch(b){case 59:return 37;case 60:return 38;case 61:return 39;case 62:return 40;case 63:return 41;case 64:return 42;case 65:return 45;case 66:return 46;case 67:return 47;case 68:return 48;case 69:return 49;case 70:return 50}}(),Pe.visitNode(y,V,Pe.isExpression)),g)),g):Pe.updateBinary(g,v,Pe.visitNode(y,V,Pe.isExpression))}return Pe.visitEachChild(g,V,K);default:Pe.Debug.fail("Unknown associativity.")}function x(e){Pe.isBinaryExpression(e)&&26===e.operatorToken.kind?(x(e.left),x(e.right)):(H(e)&&0<p.length&&(re(1,[Pe.createStatement(Pe.inlineExpressions(p))]),p=[]),p.push(Pe.visitNode(e,V,Pe.isExpression)))}return;case 195:return H((N=d).whenTrue)||H(N.whenFalse)?(w=Q(),I=Q(),P=W(),Ae(w,Pe.visitNode(N.condition,V,Pe.isExpression),N.condition),te(P,Pe.visitNode(N.whenTrue,V,Pe.isExpression),N.whenTrue),ne(I),Y(w),te(P,Pe.visitNode(N.whenFalse,V,Pe.isExpression),N.whenFalse),Y(I),P):Pe.visitEachChild(N,V,K);case 197:return w=d,I=Q(),P=Pe.visitNode(w.expression,V,Pe.isExpression),w.asteriskToken?re(7,[0==(8388608&Pe.getEmitFlags(w.expression))?Pe.createValuesHelper(K,P,w):P],w):re(6,[P],w),Y(I),P=w,Pe.setTextRange(Pe.createCall(Pe.createPropertyAccess(q,"sent"),void 0,[]),P);case 177:return pe(d.elements,void 0,void 0,d.multiLine);case 178:return N=(C=d).properties,E=C.multiLine,D=ge(N),te(A=W(),Pe.createObjectLiteral(Pe.visitNodes(N,V,Pe.isObjectLiteralElementLike,0,D),E)),(N=Pe.reduceLeft(N,function(e,t){H(t)&&0<e.length&&(ee(Pe.createStatement(Pe.inlineExpressions(e))),e=[]);t=Pe.createExpressionForObjectLiteralElementLike(C,t,A),t=Pe.visitNode(t,V,Pe.isExpression);return t&&(E&&(t.startsOnNewLine=!0),e.push(t)),e},[],D)).push(E?Pe.startOnNewLine(Pe.getMutableClone(A)):A),Pe.inlineExpressions(N);case 180:return H((D=d).argumentExpression)?((T=Pe.getMutableClone(D)).expression=G(Pe.visitNode(D.expression,V,Pe.isLeftHandSideExpression)),T.argumentExpression=Pe.visitNode(D.argumentExpression,V,Pe.isExpression),T):Pe.visitEachChild(D,V,K);case 181:return T=d,!Pe.isImportCall(T)&&Pe.forEach(T.arguments,H)?(k=(S=Pe.createCallBinding(T.expression,J,ae,!0)).target,S=S.thisArg,Pe.setOriginalNode(Pe.createFunctionApply(G(Pe.visitNode(k,V,Pe.isLeftHandSideExpression)),S,pe(T.arguments),T),T)):Pe.visitEachChild(T,V,K);case 182:return k=d,Pe.forEach(k.arguments,H)?(j=(S=Pe.createCallBinding(Pe.createPropertyAccess(k.expression,"bind"),J)).target,S=S.thisArg,Pe.setOriginalNode(Pe.setTextRange(Pe.createNew(Pe.createFunctionApply(G(Pe.visitNode(j,V,Pe.isExpression)),S,pe(k.arguments,Pe.createVoidZero())),void 0,[]),k),k)):Pe.visitEachChild(k,V,K);default:return Pe.visitEachChild(d,V,K)}var j,k,S,T,C,E,D,A,N,w,I,P;return}else return 33554944&e.transformFlags?Pe.visitEachChild(e,V,K):e}var O,r,F,L}function ue(e){var t,n;return e.asteriskToken?e=Pe.setOriginalNode(Pe.setTextRange(Pe.createFunctionDeclaration(void 0,e.modifiers,void 0,e.name,void 0,Pe.visitParameterList(e.parameters,V,K),void 0,o(e.body)),e),e):(t=z,n=$,$=z=!1,e=Pe.visitEachChild(e,V,K),z=t,$=n),z?void r(e):e}function de(e){var t,n;return e.asteriskToken?e=Pe.setOriginalNode(Pe.setTextRange(Pe.createFunctionExpression(void 0,void 0,e.name,void 0,Pe.visitParameterList(e.parameters,V,K),void 0,o(e.body)),e),e):(t=z,n=$,$=z=!1,e=Pe.visitEachChild(e,V,K),z=t,$=n),e}function o(e){var t=[],n=z,r=$,i=h,a=y,s=v,o=b,c=x,l=k,u=ce,d=S,p=L,f=R,_=q,m=($=!(z=!0),ce=1,R=L=S=k=x=b=v=y=h=void 0,q=Pe.createTempVariable(void 0),O(),Pe.addPrologue(t,e.statements,!1,V)),g=(fe(e.statements,m),se=C=!1,N=A=oe=D=E=T=void(w=le=0),m=function(){if(S){for(var e=0;e<S.length;e++)!function(e){we(e);var t=e;if(h)for(;le<v.length&&y[le]<=t;le++){var n=h[le],r=v[le];switch(n.kind){case 0:0===r?(D=D||[],(oe=oe||[]).push(A),A=n):1===r&&(A=oe.pop());break;case 1:0===r?(N=N||[]).push(n):1===r&&N.pop()}}if(!C){se=C=!1;var i=S[e];if(0!==i)if(10===i)C=!0,P(Pe.createReturn(Pe.createArrayLiteral([Z(7)])));else{var a=L[e];if(1===i)return P(a[0]);var s,o,c,l=R[e];switch(i){case 2:return s=a[0],o=a[1],c=l,P(Pe.setTextRange(Pe.createStatement(Pe.createAssignment(s,o)),c));case 3:return function(e,t){C=!0,P(Pe.setEmitFlags(Pe.setTextRange(Pe.createReturn(Pe.createArrayLiteral([Z(3),I(e)])),t),384))}(a[0],l);case 4:return function(e,t,n){P(Pe.setEmitFlags(Pe.createIf(t,Pe.setEmitFlags(Pe.setTextRange(Pe.createReturn(Pe.createArrayLiteral([Z(3),I(e)])),n),384)),1))}(a[0],a[1],l);case 5:return function(e,t,n){P(Pe.setEmitFlags(Pe.createIf(Pe.createLogicalNot(t),Pe.setEmitFlags(Pe.setTextRange(Pe.createReturn(Pe.createArrayLiteral([Z(3),I(e)])),n),384)),1))}(a[0],a[1],l);case 6:return function(e,t){C=!0,P(Pe.setEmitFlags(Pe.setTextRange(Pe.createReturn(Pe.createArrayLiteral(e?[Z(4),e]:[Z(4)])),t),384))}(a[0],l);case 7:return function(e,t){C=!0,P(Pe.setEmitFlags(Pe.setTextRange(Pe.createReturn(Pe.createArrayLiteral([Z(5),e])),t),384))}(a[0],l);case 8:return Ie(a[0],l);case 9:(function(e,t){se=C=!0,P(Pe.setTextRange(Pe.createThrow(e),t))})(a[0],l)}}}}(e);Ne(S.length)}else Ne(0);var t;return E?(t=Pe.createPropertyAccess(q,"label"),(t=Pe.createSwitch(t,Pe.createCaseBlock(E))).startsOnNewLine=!0,[t]):D||[]}(),g=K,m=Pe.setEmitFlags(Pe.createFunctionExpression(void 0,void 0,void 0,void 0,[Pe.createParameter(void 0,void 0,void 0,q)],void 0,Pe.createBlock(m,0<m.length)),524288),g.requestEmitHelper(Oe),Pe.createCall(Pe.getHelperName("__generator"),void 0,[Pe.createThis(),m]));return Pe.addRange(t,F()),t.push(Pe.createReturn(g)),z=n,$=r,h=i,y=a,v=s,b=o,x=c,k=l,ce=u,S=d,L=p,R=f,q=_,Pe.setTextRange(Pe.createBlock(t,e.multiLine),e)}function pe(e,r,t,i){var a,n=ge(e),s=(0<n&&(a=W(),s=Pe.visitNodes(e,V,Pe.isExpression,0,n),te(a,Pe.createArrayLiteral(r?[r].concat(s):s)),r=void 0),Pe.reduceLeft(e,function(e,t){var n;return H(t)&&0<e.length&&(n=void 0!==a,te(a=a||W(),n?Pe.createArrayConcat(a,[Pe.createArrayLiteral(e,i)]):Pe.createArrayLiteral(r?[r].concat(e):e,i)),r=void 0,e=[]),e.push(Pe.visitNode(t,V,Pe.isExpression)),e},[],n));return a?Pe.createArrayConcat(a,[Pe.createArrayLiteral(s,i)]):Pe.setTextRange(Pe.createArrayLiteral(r?[r].concat(s):s,i),t)}function fe(e,t){for(var n=e.length,r=t=void 0===t?0:t;r<n;r++)c(e[r])}function M(e){Pe.isBlock(e)?fe(e.statements):c(e)}function c(e){var t=$;$=$||H(e),function(e){switch(e.kind){case 207:return H(L=e)?fe(L.statements):ee(Pe.visitNode(L,V,Pe.isStatement));case 210:return ee(Pe.visitNode(e,V,Pe.isStatement));case 211:return H(L=e)&&(H(L.thenStatement)||H(L.elseStatement))?(O=Q(),F=L.elseStatement?Q():void 0,Ae(L.elseStatement?F:O,Pe.visitNode(L.expression,V,Pe.isExpression),L.expression),M(L.thenStatement),L.elseStatement&&(ne(O),Y(F),M(L.elseStatement)),Y(O)):ee(Pe.visitNode(L,V,Pe.isStatement));case 212:return H(F=e)?(O=Q(),P=Q(),be(O),Y(P),M(F.statement),Y(O),De(P,Pe.visitNode(F.expression,V,Pe.isExpression)),X()):ee(Pe.visitNode(F,V,Pe.isStatement));case 213:return H(P=e)?(I=be(w=Q()),Y(w),Ae(I,Pe.visitNode(P.expression,V,Pe.isExpression)),M(P.statement),ne(w),X()):ee(Pe.visitNode(P,V,Pe.isStatement));case 214:return H(I=e)?(w=Q(),t=be(n=Q()),I.initializer&&(N=I.initializer,Pe.isVariableDeclarationList(N)?_e(N):ee(Pe.setTextRange(Pe.createStatement(Pe.visitNode(N,V,Pe.isExpression)),N))),Y(w),I.condition&&Ae(t,Pe.visitNode(I.condition,V,Pe.isExpression)),M(I.statement),Y(n),I.incrementor&&ee(Pe.setTextRange(Pe.createStatement(Pe.visitNode(I.incrementor,V,Pe.isExpression)),I.incrementor)),ne(w),X()):ee(Pe.visitNode(I,V,Pe.isStatement));case 215:N=e;if(H(N)){var t=W(),n=W(),r=Pe.createLoopVariable(),i=N.initializer,n=(J(r),te(t,Pe.createArrayLiteral()),ee(Pe.createForIn(n,Pe.visitNode(N.expression,V,Pe.isExpression),Pe.createStatement(Pe.createCall(Pe.createPropertyAccess(t,"push"),void 0,[n])))),te(r,Pe.createLiteral(0)),Q()),a=Q(),s=be(a),s=(Y(n),Ae(s,Pe.createLessThan(r,Pe.createPropertyAccess(t,"length"))),void 0);if(Pe.isVariableDeclarationList(i)){for(var o=0,c=i.declarations;o<c.length;o++){var l=c[o];J(l.name)}s=Pe.getSynthesizedClone(i.declarations[0].name)}else s=Pe.visitNode(i,V,Pe.isExpression),Pe.Debug.assert(Pe.isLeftHandSideExpression(s));te(s,Pe.createElementAccess(t,r)),M(N.statement),Y(a),ee(Pe.createStatement(Pe.createPostfixIncrement(r))),ne(n),X()}else ee(Pe.visitNode(N,V,Pe.isStatement));return;case 217:return 0<(s=Te((i=e).label?Pe.idText(i.label):void 0))?ne(s,i):ee(i);case 218:return 0<(r=Se((a=e).label?Pe.idText(a.label):void 0))?ne(r,a):ee(a);case 219:return A=e,re(8,[Pe.visitNode(A.expression,V,Pe.isExpression)],A);case 220:return H(A=e)?(C=G(Pe.visitNode(A.expression,V,Pe.isExpression)),E=Q(),D=Q(),Y(E),U({kind:1,expression:C,startLabel:E,endLabel:D}),M(A.statement),Pe.Debug.assert(1===B()),Y(he().endLabel)):ee(Pe.visitNode(A,V,Pe.isStatement));case 221:C=e;if(H(C.caseBlock)){for(var u=C.caseBlock,d=u.clauses.length,R=(U({kind:2,isScript:!1,breakLabel:E=Q()}),G(Pe.visitNode(C.expression,V,Pe.isExpression))),p=[],f=-1,_=0;_<d;_++){var m=u.clauses[_];p.push(Q()),258===m.kind&&-1===f&&(f=_)}for(var g=0,h=[];g<d;){for(var y=0,_=g;_<d;_++)if(257===(m=u.clauses[_]).kind){var v=m;if(H(v.expression)&&0<h.length)break;h.push(Pe.createCaseClause(Pe.visitNode(v.expression,V,Pe.isExpression),[Ce(p[_],v.expression)]))}else y++;h.length&&(ee(Pe.createSwitch(R,Pe.createCaseBlock(h))),g+=h.length,h=[]),0<y&&(g+=y,y=0)}for(ne(0<=f?p[f]:E),_=0;_<d;_++)Y(p[_]),fe(u.clauses[_].statements);xe()}else ee(Pe.visitNode(C,V,Pe.isStatement));return;case 222:return H(D=e)?(U({kind:4,isScript:!1,labelText:Pe.idText(D.label),breakLabel:Q()}),M(D.statement),ke()):ee(Pe.visitNode(D,V,Pe.isStatement));case 223:return T=e,re(9,[Pe.visitNode(T.expression,V,Pe.isExpression)],T);case 224:return H(T=e)?(k=Q(),S=Q(),Y(k),U({kind:0,state:0,startLabel:k,endLabel:S}),Ee(),M(T.tryBlock),T.catchClause&&(k=T.catchClause.variableDeclaration,Pe.Debug.assert(0===B()),Pe.isGeneratedIdentifier(k.name)?(b=k.name,J(k.name)):(b=W(x=Pe.idText(k.name)),j||(j=Pe.createMap(),ie=[],K.enableSubstitution(71)),j.set(x,!0),ie[Pe.getOriginalNodeId(k)]=b),x=ye(),Pe.Debug.assert(x.state<1),ne(x.endLabel),Y(k=Q()),x.state=1,x.catchVariable=b,x.catchLabel=k,te(b,Pe.createCall(Pe.createPropertyAccess(q,"sent"),void 0,[])),Ee(),M(T.catchClause.block)),T.finallyBlock&&(Pe.Debug.assert(0===B()),S=ye(),Pe.Debug.assert(S.state<2),ne(S.endLabel),Y(x=Q()),S.state=2,S.finallyLabel=x,M(T.finallyBlock)),Pe.Debug.assert(0===B()),(k=he()).state<2?ne(k.endLabel):re(10),Y(k.endLabel),Ee(),k.state=3):ee(Pe.visitEachChild(T,V,K));default:ee(Pe.visitNode(e,V,Pe.isStatement))}var b,x,k,S,T,C,E,D,A,n,t,N,w,I,P,O,F,L}(e),$=t}function _e(e){for(var t=0,n=e.declarations;t<n.length;t++){var r=n[t],i=Pe.getSynthesizedClone(r.name);Pe.setCommentRange(i,r.name),J(i)}for(var a=Pe.getInitializedVariables(e),s=a.length,o=0,c=[];o<s;){for(var l=o;l<s&&!(H((r=a[l]).initializer)&&0<c.length);l++)c.push(me(r));c.length&&(ee(Pe.createStatement(Pe.inlineExpressions(c))),o+=c.length,c=[])}}function me(e){return Pe.setSourceMapRange(Pe.createAssignment(Pe.setSourceMapRange(Pe.getSynthesizedClone(e.name),e.name),Pe.visitNode(e.initializer,V,Pe.isExpression)),e)}function H(e){return e&&0!=(16777216&e.transformFlags)}function ge(e){for(var t=e.length,n=0;n<t;n++)if(H(e[n]))return n;return-1}function G(e){var t;return Pe.isGeneratedIdentifier(e)||4096&Pe.getEmitFlags(e)?e:(te(t=Pe.createTempVariable(J),e,e),t)}function W(e){e=e?Pe.createUniqueName(e):Pe.createTempVariable(void 0);return J(e),e}function Q(){var e=ce;return ce++,(x=x||[])[e]=-1,e}function Y(e){Pe.Debug.assert(void 0!==x,"No labels were defined."),x[e]=S?S.length:0}function U(e){h||(h=[],v=[],y=[],b=[]);var t=v.length;v[t]=0,y[t]=S?S.length:0,h[t]=e,b.push(e)}function he(){var e=ye(),t=(Pe.Debug.assert(void 0!==e,"beginBlock was never called."),v.length);return v[t]=1,y[t]=S?S.length:0,h[t]=e,b.pop(),e}function ye(){return Pe.lastOrUndefined(b)}function B(){var e=ye();return e&&e.kind}function ve(){U({kind:3,isScript:!0,breakLabel:-1,continueLabel:-1})}function be(e){var t=Q();return U({kind:3,isScript:!1,breakLabel:t,continueLabel:e}),t}function X(){Pe.Debug.assert(3===B());var e=he(),t=e.breakLabel;e.isScript||Y(t)}function xe(){Pe.Debug.assert(2===B());var e=he(),t=e.breakLabel;e.isScript||Y(t)}function ke(){Pe.Debug.assert(4===B());var e=he();e.isScript||Y(e.breakLabel)}function l(e){return 2===e.kind||3===e.kind}function u(e){return 4===e.kind}function d(e){return 3===e.kind}function p(e,t){for(var n=t;0<=n;n--){var r=b[n];if(!u(r))break;if(r.labelText===e)return 1}}function Se(e){if(b)if(e)for(var t=b.length-1;0<=t;t--){if(u(n=b[t])&&n.labelText===e)return n.breakLabel;if(l(n)&&p(e,t-1))return n.breakLabel}else for(t=b.length-1;0<=t;t--){var n;if(l(n=b[t]))return n.breakLabel}return 0}function Te(e){if(b)if(e){for(var t=b.length-1;0<=t;t--)if(d(n=b[t])&&p(e,t-1))return n.continueLabel}else for(t=b.length-1;0<=t;t--){var n;if(d(n=b[t]))return n.continueLabel}return 0}function I(e){var t;return 0<e?(void 0===k&&(k=[]),t=Pe.createLiteral(-1),void 0===k[e]?k[e]=[t]:k[e].push(t),t):Pe.createOmittedExpression()}function Z(e){var t=Pe.createLiteral(e);return Pe.addSyntheticTrailingComment(t,3,function(){switch(e){case 2:return"return";case 3:return"break";case 4:return"yield";case 5:return"yield*";case 7:return"endfinally"}}()),t}function Ce(e,t){return Pe.Debug.assertLessThan(0,e,"Invalid label"),Pe.setTextRange(Pe.createReturn(Pe.createArrayLiteral([Z(3),I(e)])),t)}function Ee(){re(0)}function ee(e){e?re(1,[e]):Ee()}function te(e,t,n){re(2,[e,t],n)}function ne(e,t){re(3,[e],t)}function De(e,t,n){re(4,[e,t],n)}function Ae(e,t,n){re(5,[e,t],n)}function re(e,t,n){void 0===S&&(S=[],L=[],R=[]),void 0===x&&Y(Q());var r=S.length;S[r]=e,L[r]=t,R[r]=n}function Ne(e){if(!function(e){if(!se)return 1;if(x&&k)for(var t=0;t<x.length;t++)if(x[t]===e&&k[t])return 1}(e)||(we(e),Ie(N=void 0,void 0)),D&&E&&f(!1),void 0!==k&&void 0!==T)for(var t=0;t<T.length;t++){var n=T[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var a=i[r],a=k[a];if(void 0!==a)for(var s=0,o=a;s<o.length;s++)o[s].text=String(t)}}}function f(e){if(E=E||[],D){if(N)for(var t=N.length-1;0<=t;t--){var n=N[t];D=[Pe.createWith(n.expression,Pe.createBlock(D))]}var r,i,a,s;A&&(r=A.startLabel,i=A.catchLabel,a=A.finallyLabel,s=A.endLabel,D.unshift(Pe.createStatement(Pe.createCall(Pe.createPropertyAccess(Pe.createPropertyAccess(q,"trys"),"push"),void 0,[Pe.createArrayLiteral([I(r),I(i),I(a),I(s)])]))),A=void 0),e&&D.push(Pe.createStatement(Pe.createAssignment(Pe.createPropertyAccess(q,"label"),Pe.createLiteral(w+1))))}E.push(Pe.createCaseClause(Pe.createLiteral(w),D||[])),D=void 0}function we(e){if(x)for(var t=0;t<x.length;t++)x[t]===e&&(D&&(f(!C),se=C=!1,w++),void 0===(T=void 0===T?[]:T)[w]?T[w]=[t]:T[w].push(t))}function P(e){e&&(D?D.push(e):D=[e])}function Ie(e,t){se=C=!0,P(Pe.setEmitFlags(Pe.setTextRange(Pe.createReturn(Pe.createArrayLiteral(e?[Z(2),e]:[Z(2)])),t),384))}}),priority:6,text:'\n            var __generator = (this && this.__generator) || function (thisArg, body) {\n                var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n                return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n                function verb(n) { return function (v) { return step([n, v]); }; }\n                function step(op) {\n                    if (f) throw new TypeError("Generator is already executing.");\n                    while (_) try {\n                        if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;\n                        if (y = 0, t) op = [0, t.value];\n                        switch (op[0]) {\n                            case 0: case 1: t = op; break;\n                            case 4: _.label++; return { value: op[1], done: false };\n                            case 5: _.label++; y = op[1]; op = [0]; continue;\n                            case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                            default:\n                                if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                                if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                                if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                                if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                                if (t[2]) _.ops.pop();\n                                _.trys.pop(); continue;\n                        }\n                        op = body.call(thisArg, _);\n                    } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n                    if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n                }\n            };'}}(ts=ts||{}),function(q){q.transformModule=function(I){var r=I.startLexicalEnvironment,i=I.endLexicalEnvironment,C=I.hoistVariableDeclaration,p=I.getCompilerOptions(),f=I.getEmitResolver(),_=I.getEmitHost(),P=q.getEmitScriptTarget(p),O=q.getEmitModuleKind(p),E=I.onSubstituteNode,a=I.onEmitNode;I.onSubstituteNode=function(e,t){if((t=E(e,t)).id&&h[t.id])return t;var n,r,i;if(1!==e)return q.isShorthandPropertyAssignment(t)?(r=(e=t).name,(i=S(r))!==r?e.objectAssignmentInitializer?(n=q.createAssignment(i,e.objectAssignmentInitializer),q.setTextRange(q.createPropertyAssignment(r,n),e)):q.setTextRange(q.createPropertyAssignment(r,i),e):e):t;var a=t;switch(a.kind){case 71:return S(a);case 194:var s=a;if(q.isAssignmentOperator(s.operatorToken.kind)&&q.isIdentifier(s.left)&&!q.isGeneratedIdentifier(s.left)&&!q.isLocalName(s.left)&&!q.isDeclarationNameOfEnumOrNamespace(s.left)){var o=T(s.left);if(o){for(var c=s,l=0,u=o;l<u.length;l++){var d=u[l];h[q.getNodeId(c)]=!0,c=$(d,c,s)}return c}}return s;case 193:case 192:o=a;if((43===o.operator||44===o.operator)&&q.isIdentifier(o.operand)&&!q.isGeneratedIdentifier(o.operand)&&!q.isLocalName(o.operand)&&!q.isDeclarationNameOfEnumOrNamespace(o.operand)){var p=T(o.operand);if(p){for(var f=193===o.kind?q.setTextRange(q.createBinary(o.operand,q.createToken(43===o.operator?59:60),q.createLiteral(1)),o):o,_=0,m=p;_<m.length;_++){var g=m[_];h[q.getNodeId(f)]=!0,f=$(g,f)}return f}}return o}return a},I.onEmitNode=function(e,t,n){265===t.kind?(m=t,g=s[q.getOriginalNodeId(m)],h=[],a(e,t,n),h=g=m=void 0):a(e,t,n)},I.enableSubstitution(71),I.enableSubstitution(194),I.enableSubstitution(192),I.enableSubstitution(193),I.enableSubstitution(262),I.enableEmitNotification(265);var m,g,h,o,s=[],F=[];return function(e){if(e.isDeclarationFile||!(q.isExternalModule(e)||p.isolatedModules||67108864&e.transformFlags))return e;m=e,g=q.collectExternalModuleInfo(e,f,p),s[q.getOriginalNodeId(e)]=g;e=function(){switch(O){case q.ModuleKind.AMD:return n;case q.ModuleKind.UMD:return D;default:return t}}()(e);return g=m=void 0,o=!1,q.aggregateTransformFlags(e)};function c(){return!g.exportEquals&&q.isExternalModule(m)}function t(e){r();var t=[],n=p.alwaysStrict||!p.noImplicitUseStrict&&q.isExternalModule(m),n=q.addPrologue(t,e.statements,n,y),n=(c()&&q.append(t,k()),q.append(t,q.visitNode(g.externalHelpersImportDeclaration,y,q.isStatement)),q.addRange(t,q.visitNodes(e.statements,y,q.isStatement,n)),d(t,!1),q.addRange(t,i()),q.updateSourceFileNode(e,q.setTextRange(q.createNodeArray(t),e.statements)));return g.hasExportStarsToExportValues&&!p.importHelpers&&q.addEmitHelper(n,A),q.addEmitHelpers(n,I.readEmitHelpers()),n}function n(e){var t=q.createIdentifier("define"),n=q.tryGetModuleNameFromFile(e,_,p),r=l(e,!0),i=r.aliasedModuleNames,a=r.unaliasedModuleNames,r=r.importAliasNames;return q.updateSourceFileNode(e,q.setTextRange(q.createNodeArray([q.createStatement(q.createCall(t,void 0,(n?[n]:[]).concat([q.createArrayLiteral([q.createLiteral("require"),q.createLiteral("exports")].concat(i,a)),q.createFunctionExpression(void 0,void 0,void 0,void 0,[q.createParameter(void 0,void 0,void 0,"require"),q.createParameter(void 0,void 0,void 0,"exports")].concat(r),void 0,u(e))])))]),e.statements))}function D(e){var t=l(e,!1),n=t.aliasedModuleNames,r=t.unaliasedModuleNames,t=t.importAliasNames,i=q.tryGetModuleNameFromFile(e,_,p),i=q.createFunctionExpression(void 0,void 0,void 0,void 0,[q.createParameter(void 0,void 0,void 0,"factory")],void 0,q.setTextRange(q.createBlock([q.createIf(q.createLogicalAnd(q.createTypeCheck(q.createIdentifier("module"),"object"),q.createTypeCheck(q.createPropertyAccess(q.createIdentifier("module"),"exports"),"object")),q.createBlock([q.createVariableStatement(void 0,[q.createVariableDeclaration("v",void 0,q.createCall(q.createIdentifier("factory"),void 0,[q.createIdentifier("require"),q.createIdentifier("exports")]))]),q.setEmitFlags(q.createIf(q.createStrictInequality(q.createIdentifier("v"),q.createIdentifier("undefined")),q.createStatement(q.createAssignment(q.createPropertyAccess(q.createIdentifier("module"),"exports"),q.createIdentifier("v")))),1)]),q.createIf(q.createLogicalAnd(q.createTypeCheck(q.createIdentifier("define"),"function"),q.createPropertyAccess(q.createIdentifier("define"),"amd")),q.createBlock([q.createStatement(q.createCall(q.createIdentifier("define"),void 0,(i?[i]:[]).concat([q.createArrayLiteral([q.createLiteral("require"),q.createLiteral("exports")].concat(n,r)),q.createIdentifier("factory")])))])))],!0),void 0));return q.updateSourceFileNode(e,q.setTextRange(q.createNodeArray([q.createStatement(q.createCall(i,void 0,[q.createFunctionExpression(void 0,void 0,void 0,void 0,[q.createParameter(void 0,void 0,void 0,"require"),q.createParameter(void 0,void 0,void 0,"exports")].concat(t),void 0,u(e))]))]),e.statements))}function l(e,t){for(var n=[],r=[],i=[],a=0,s=e.amdDependencies;a<s.length;a++){var o=s[a];o.name?(n.push(q.createLiteral(o.path)),i.push(q.createParameter(void 0,void 0,void 0,o.name))):r.push(q.createLiteral(o.path))}for(var c=0,l=g.externalImports;c<l.length;c++){var u=l[c],d=q.getExternalModuleNameLiteral(u,m,_,f,p),u=q.getLocalNameForExternalImport(u,m);d&&(t&&u?(q.setEmitFlags(u,4),n.push(d),i.push(q.createParameter(void 0,void 0,void 0,u))):r.push(d))}return{aliasedModuleNames:n,unaliasedModuleNames:r,importAliasNames:i}}function u(e){r();var t=[],n=q.addPrologue(t,e.statements,!p.noImplicitUseStrict,y),e=(c()&&q.append(t,k()),q.append(t,q.visitNode(g.externalHelpersImportDeclaration,y,q.isStatement)),q.addRange(t,q.visitNodes(e.statements,y,q.isStatement,n)),d(t,!0),q.addRange(t,i()),q.createBlock(t,!0));return g.hasExportStarsToExportValues&&!p.importHelpers&&q.addEmitHelper(e,A),o&&q.addEmitHelper(e,N),e}function d(e,t){var n,r;g.exportEquals&&(n=q.visitNode(g.exportEquals.expression,L))&&(t?(r=q.createReturn(n),q.setTextRange(r,g.exportEquals),q.setEmitFlags(r,1920)):(r=q.createStatement(q.createAssignment(q.createPropertyAccess(q.createIdentifier("module"),"exports"),n)),q.setTextRange(r,g.exportEquals),q.setEmitFlags(r,1536)),e.push(r))}function y(e){switch(e.kind){case 238:var t,n=e,r=q.getNamespaceDeclarationNode(n);if(O!==q.ModuleKind.AMD){if(!n.importClause)return q.setTextRange(q.createStatement(R(n)),n);var i=[];r&&!q.isDefaultImport(n)?i.push(q.createVariableDeclaration(q.getSynthesizedClone(r.name),void 0,R(n))):(i.push(q.createVariableDeclaration(q.getGeneratedNameForNode(n),void 0,R(n))),r&&q.isDefaultImport(n)&&i.push(q.createVariableDeclaration(q.getSynthesizedClone(r.name),void 0,q.getGeneratedNameForNode(n)))),t=q.append(t,q.setTextRange(q.createVariableStatement(void 0,q.createVariableDeclarationList(i,2<=P?2:0)),n))}else r&&q.isDefaultImport(n)&&(t=q.append(t,q.createVariableStatement(void 0,q.createVariableDeclarationList([q.setTextRange(q.createVariableDeclaration(q.getSynthesizedClone(r.name),void 0,q.getGeneratedNameForNode(n)),n)],2<=P?2:0))));return M(n)?(i=q.getOriginalNodeId(n),F[i]=U(F[i],n)):t=U(t,n),q.singleOrMany(t);case 237:return r=e,q.Debug.assert(q.isExternalModuleImportEqualsDeclaration(r),"import= for internal module references should be handled in an earlier transformer."),O!==q.ModuleKind.AMD?w=q.hasModifier(r,1)?q.append(w,q.setTextRange(q.createStatement($(r.name,R(r))),r)):q.append(w,q.setTextRange(q.createVariableStatement(void 0,q.createVariableDeclarationList([q.createVariableDeclaration(q.getSynthesizedClone(r.name),void 0,R(r))],2<=P?2:0)),r)):q.hasModifier(r,1)&&(w=q.append(w,q.setTextRange(q.createStatement($(q.getExportName(r),q.getLocalName(r))),r))),M(r)?(i=q.getOriginalNodeId(r),F[i]=B(F[i],r)):w=B(w,r),q.singleOrMany(w);case 244:n=e;if(n.moduleSpecifier){var a=q.getGeneratedNameForNode(n);if(n.exportClause){var s=[];O!==q.ModuleKind.AMD&&s.push(q.setTextRange(q.createVariableStatement(void 0,q.createVariableDeclarationList([q.createVariableDeclaration(a,void 0,R(n))])),n));for(var o=0,c=n.exportClause.elements;o<c.length;o++){var l=c[o],u=q.createPropertyAccess(a,l.propertyName||l.name);s.push(q.setTextRange(q.createStatement($(q.getExportName(l),u)),l))}return q.singleOrMany(s)}return q.setTextRange(q.createStatement((f=I,p=O!==q.ModuleKind.AMD?R(n):a,f.getCompilerOptions().importHelpers?q.createCall(q.getHelperName("__exportStar"),void 0,[p,q.createIdentifier("exports")]):q.createCall(q.createIdentifier("__export"),void 0,[p]))),n)}return;case 243:var d,p,f=e;return f.isExportEquals?void 0:((p=f.original)&&M(p)?(p=q.getOriginalNodeId(f),F[p]=z(F[p],q.createIdentifier("default"),q.visitNode(f.expression,L),f,!0)):d=z(d,q.createIdentifier("default"),q.visitNode(f.expression,L),f,!0),q.singleOrMany(d));case 208:var _,m,g,h=e;if(q.hasModifier(h,1)){for(var y=void 0,v=0,b=h.declarationList.declarations;v<b.length;v++){var x=b[v];q.isIdentifier(x.name)&&q.isLocalName(x.name)?(y=y||q.visitNodes(h.modifiers,J,q.isModifier),m=q.append(m,x)):x.initializer&&(g=q.append(g,(x=x,q.isBindingPattern(x.name)?q.flattenDestructuringAssignment(q.visitNode(x,L),void 0,I,0,!1,$):q.createAssignment(q.setTextRange(q.createPropertyAccess(q.createIdentifier("exports"),x.name),x.name),q.visitNode(x.initializer,L)))))}m&&(_=q.append(_,q.updateVariableStatement(h,y,q.updateVariableDeclarationList(h.declarationList,m)))),g&&(_=q.append(_,q.setTextRange(q.createStatement(q.inlineExpressions(g)),h)))}else _=q.append(_,q.visitEachChild(h,L,I));return M(h)?(D=q.getOriginalNodeId(h),F[D]=j(F[D],h)):_=j(_,h),q.singleOrMany(_);case 228:return D=e,N=q.hasModifier(D,1)?q.append(N,q.setOriginalNode(q.setTextRange(q.createFunctionDeclaration(void 0,q.visitNodes(D.modifiers,J,q.isModifier),D.asteriskToken,q.getDeclarationName(D,!0,!0),void 0,q.visitNodes(D.parameters,L),void 0,q.visitEachChild(D.body,L,I)),D),D)):q.append(N,q.visitEachChild(D,L,I)),M(D)?(A=q.getOriginalNodeId(D),F[A]=K(F[A],D)):N=K(N,D),q.singleOrMany(N);case 229:return A=e,E=q.hasModifier(A,1)?q.append(E,q.setOriginalNode(q.setTextRange(q.createClassDeclaration(void 0,q.visitNodes(A.modifiers,J,q.isModifier),q.getDeclarationName(A,!0,!0),void 0,q.visitNodes(A.heritageClauses,L),q.visitNodes(A.members,L)),A),A)):q.append(E,q.visitEachChild(A,L,I)),M(A)?(C=q.getOriginalNodeId(A),F[C]=K(F[C],A)):E=K(E,A),q.singleOrMany(E);case 290:return M(C=e)&&208===C.original.kind&&(T=q.getOriginalNodeId(C),F[T]=j(F[T],C.original)),C;case 291:return T=e,k=q.getOriginalNodeId(T),(S=F[k])?(delete F[k],q.append(S,T)):T;default:return q.visitEachChild(e,L,I)}var k,S,T,C,E,D,A,N,w}function L(e){{if(!(67108864&e.transformFlags))return e;if(!q.isImportCall(e))return q.visitEachChild(e,L,I);var t=e,n,r,i,a=q.visitNode(q.firstOrUndefined(t.arguments),L),s=!!(16384&t.transformFlags);switch(p.module){case q.ModuleKind.AMD:return v(a,s);case q.ModuleKind.UMD:return n=a,r=s,o=!0,q.isSimpleCopiableExpression(n)?(i=q.isGeneratedIdentifier(n)?n:q.isStringLiteral(n)?q.createLiteral(n):q.setEmitFlags(q.setTextRange(q.getSynthesizedClone(n),n),1536),q.createConditional(q.createIdentifier("__syncRequire"),b(n,r),v(i,r))):(i=q.createTempVariable(C),q.createComma(q.createAssignment(i,n),q.createConditional(q.createIdentifier("__syncRequire"),b(i,r),v(i,r))));default:q.ModuleKind.CommonJS;return b(a,s)}}}function v(e,t){var n,r=q.createUniqueName("resolve"),i=q.createUniqueName("reject"),a=[q.createParameter(void 0,void 0,void 0,r),q.createParameter(void 0,void 0,void 0,i)],e=q.createBlock([q.createStatement(q.createCall(q.createIdentifier("require"),void 0,[q.createArrayLiteral([e||q.createOmittedExpression()]),r,i]))]);return 2<=P?n=q.createArrowFunction(void 0,void 0,a,void 0,void 0,e):(n=q.createFunctionExpression(void 0,void 0,void 0,void 0,a,void 0,e),t&&q.setEmitFlags(n,8)),q.createNew(q.createIdentifier("Promise"),void 0,[n])}function b(e,t){var n,r=q.createCall(q.createPropertyAccess(q.createIdentifier("Promise"),"resolve"),void 0,[]),e=q.createCall(q.createIdentifier("require"),void 0,e?[e]:[]);return 2<=P?n=q.createArrowFunction(void 0,void 0,[],void 0,void 0,e):(n=q.createFunctionExpression(void 0,void 0,void 0,void 0,[],void 0,q.createBlock([q.createReturn(e)])),t&&q.setEmitFlags(n,8)),q.createCall(q.createPropertyAccess(r,"then"),void 0,[n])}function R(e){var e=q.getExternalModuleNameLiteral(e,m,_,f,p),t=[];return e&&t.push(e),q.createCall(q.createIdentifier("require"),void 0,t)}function M(e){return 0!=(4194304&q.getEmitFlags(e))}function U(e,t){if(!g.exportEquals){t=t.importClause;if(t){t.name&&(e=x(e,t));var n=t.namedBindings;if(n)switch(n.kind){case 240:e=x(e,n);break;case 241:for(var r=0,i=n.elements;r<i.length;r++)e=x(e,i[r])}}}return e}function B(e,t){return g.exportEquals?e:x(e,t)}function j(e,t){if(!g.exportEquals)for(var n=0,r=t.declarationList.declarations;n<r.length;n++)e=function e(t,n){if(g.exportEquals)return t;if(q.isBindingPattern(n.name))for(var r=0,i=n.name.elements;r<i.length;r++){var a=i[r];q.isOmittedExpression(a)||(t=e(t,a))}else q.isGeneratedIdentifier(n.name)||(t=x(t,n));return t}(e,r[n]);return e}function K(e,t){return g.exportEquals||(q.hasModifier(t,1)&&(e=z(e,q.hasModifier(t,512)?q.createIdentifier("default"):q.getDeclarationName(t),q.getLocalName(t),t)),t.name&&(e=x(e,t))),e}function x(e,t){var n=q.getDeclarationName(t),t=g.exportSpecifiers.get(q.idText(n));if(t)for(var r=0,i=t;r<i.length;r++){var a=i[r];e=z(e,a.name,n,a.name)}return e}function z(e,n,r,t,i){return q.append(e,function(e,t){e=q.setTextRange(q.createStatement($(n,r)),e);return q.startOnNewLine(e),t||q.setEmitFlags(e,1536),e}(t,i))}function k(){var e=0===P?q.createStatement($(q.createIdentifier("__esModule"),q.createLiteral(!0))):q.createStatement(q.createCall(q.createPropertyAccess(q.createIdentifier("Object"),"defineProperty"),void 0,[q.createIdentifier("exports"),q.createLiteral("__esModule"),q.createObjectLiteral([q.createPropertyAssignment("value",q.createLiteral(!0))])]));return q.setEmitFlags(e,1048576),e}function $(e,t,n){return q.setTextRange(q.createAssignment(q.createPropertyAccess(q.createIdentifier("exports"),q.getSynthesizedClone(e)),t),n)}function J(e){switch(e.kind){case 84:case 79:return}return e}function S(e){if(4096&q.getEmitFlags(e))return(t=q.getExternalHelpersModuleName(m))?q.createPropertyAccess(t,e):e;if(!q.isGeneratedIdentifier(e)&&!q.isLocalName(e)){var t=f.getReferencedExportContainer(e,q.isExportName(e));if(t&&265===t.kind)return q.setTextRange(q.createPropertyAccess(q.createIdentifier("exports"),q.getSynthesizedClone(e)),e);var n,t=f.getReferencedImportDeclaration(e);if(t){if(q.isImportClause(t))return q.setTextRange(q.createPropertyAccess(q.getGeneratedNameForNode(t.parent),q.createIdentifier("default")),e);if(q.isImportSpecifier(t))return n=t.propertyName||t.name,q.setTextRange(q.createPropertyAccess(q.getGeneratedNameForNode(t.parent.parent.parent),q.getSynthesizedClone(n)),e)}}return e}function T(e){if(!q.isGeneratedIdentifier(e)){e=f.getReferencedImportDeclaration(e)||f.getReferencedValueDeclaration(e);if(e)return g&&g.exportedBindings[q.getOriginalNodeId(e)]}}};var A={name:"typescript:export-star",scoped:!0,text:"\n            function __export(m) {\n                for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n            }\n        "},N={name:"typescript:dynamicimport-sync-require",scoped:!0,text:'\n            var __syncRequire = typeof module === "object" && typeof module.exports === "object";'}}(ts=ts||{}),function(V){V.transformSystemModule=function(T){var j=T.startLexicalEnvironment,K=T.endLexicalEnvironment,C=T.hoistVariableDeclaration,c=T.getCompilerOptions(),_=T.getEmitResolver(),l=T.getEmitHost(),z=T.onSubstituteNode,i=T.onEmitNode;T.onSubstituteNode=function(e,t){if(n=t=z(e,t),m&&n.id&&m[n.id])return t;var n;if(1!==e)return t;var r=t;switch(r.kind){case 71:var i=r;if(4096&V.getEmitFlags(i))return(a=V.getExternalHelpersModuleName(h))?V.createPropertyAccess(a,i):i;if(!V.isGeneratedIdentifier(i)&&!V.isLocalName(i)){var a=_.getReferencedImportDeclaration(i);if(a){if(V.isImportClause(a))return V.setTextRange(V.createPropertyAccess(V.getGeneratedNameForNode(a.parent),V.createIdentifier("default")),i);if(V.isImportSpecifier(a))return V.setTextRange(V.createPropertyAccess(V.getGeneratedNameForNode(a.parent.parent.parent),V.getSynthesizedClone(a.propertyName||a.name)),i)}}return i;case 194:a=r;if(V.isAssignmentOperator(a.operatorToken.kind)&&V.isIdentifier(a.left)&&!V.isGeneratedIdentifier(a.left)&&!V.isLocalName(a.left)&&!V.isDeclarationNameOfEnumOrNamespace(a.left)){i=q(a.left);if(i){for(var s=a,o=0,c=i;o<c.length;o++)s=L(c[o],B(s));return s}}return a;case 192:case 193:var l=r;if((43===l.operator||44===l.operator)&&V.isIdentifier(l.operand)&&!V.isGeneratedIdentifier(l.operand)&&!V.isLocalName(l.operand)&&!V.isDeclarationNameOfEnumOrNamespace(l.operand)){var u=q(l.operand);if(u){for(var d=193===l.kind?V.setTextRange(V.createPrefix(l.operator,l.operand),l):l,p=0,f=u;p<f.length;p++)d=L(f[p],B(d));return d=193===l.kind?43===l.operator?V.createSubtract(B(d),V.createLiteral(1)):V.createAdd(B(d),V.createLiteral(1)):d}}return l}return r},T.onEmitNode=function(e,t,n){var r;265===t.kind?(r=V.getOriginalNodeId(t),h=t,g=u[r],y=d[r],(m=p[r])&&delete p[r],i(e,t,n),m=y=g=h=void 0):i(e,t,n)},T.enableSubstitution(71),T.enableSubstitution(194),T.enableSubstitution(192),T.enableSubstitution(193),T.enableEmitNotification(265);var h,g,y,o,E,D,m,u=[],A=[],d=[],p=[];return function(e){var t,n,r,i,a,s;return e.isDeclarationFile||!(V.isEffectiveExternalModule(e,c)||67108864&e.transformFlags)?e:(t=V.getOriginalNodeId(e),D=h=e,g=u[t]=V.collectExternalModuleInfo(e,_,c),y=V.createUniqueName("exports"),d[t]=y,o=V.createUniqueName("context"),n=function(e){for(var t=V.createMap(),n=[],r=0;r<e.length;r++){var i,a,s=e[r],o=V.getExternalModuleNameLiteral(s,h,l,_,c);o&&(i=o.text,void 0!==(a=t.get(i))?n[a].externalImports.push(s):(t.set(i,n.length),n.push({name:o,externalImports:[s]})))}return n}(g.externalImports),r=e,i=n,a=[],j(),s=c.alwaysStrict||!c.noImplicitUseStrict&&V.isExternalModule(h),s=V.addPrologue(a,r.statements,s,f),a.push(V.createVariableStatement(void 0,V.createVariableDeclarationList([V.createVariableDeclaration("__moduleName",void 0,V.createLogicalAnd(o,V.createPropertyAccess(o,"id")))]))),V.visitNode(g.externalHelpersImportDeclaration,f,V.isStatement),r=V.visitNodes(r.statements,f,V.isStatement,s),V.addRange(a,E),V.addRange(a,K()),s=function(e){if(g.hasExportStarsToExportValues){if(!g.exportedNames&&0===g.exportSpecifiers.size){for(var t=!1,n=0,r=g.externalImports;n<r.length;n++)if(244===(c=r[n]).kind&&c.exportClause){t=!0;break}if(!t)return m=v(void 0),e.push(m),m.name}var i=[];if(g.exportedNames)for(var a=0,s=g.exportedNames;a<s.length;a++){var o=s[a];"default"!==o.escapedText&&i.push(V.createPropertyAssignment(V.createLiteral(o),V.createTrue()))}for(var c,l=0,u=g.externalImports;l<u.length;l++)if(244===(c=u[l]).kind){var d=c;if(d.exportClause)for(var p=0,f=d.exportClause.elements;p<f.length;p++){var _=f[p];i.push(V.createPropertyAssignment(V.createLiteral(V.idText(_.name||_.propertyName)),V.createTrue()))}}var m=V.createUniqueName("exportedNames"),m=(e.push(V.createVariableStatement(void 0,V.createVariableDeclarationList([V.createVariableDeclaration(m,void 0,V.createObjectLiteral(i,!0))]))),v(m));return e.push(m),m.name}}(a),(s=V.createObjectLiteral([V.createPropertyAssignment("setters",function(e,t){for(var n=[],r=0,i=t;r<i.length;r++){for(var a=i[r],s=V.forEach(a.externalImports,function(e){return V.getLocalNameForExternalImport(e,h)}),o=s?V.getGeneratedNameForNode(s):V.createUniqueName(""),c=[],l=0,u=a.externalImports;l<u.length;l++){var d=u[l],p=V.getLocalNameForExternalImport(d,h);switch(d.kind){case 238:if(!d.importClause)break;case 237:V.Debug.assert(void 0!==p),c.push(V.createStatement(V.createAssignment(p,o)));break;case 244:if(V.Debug.assert(void 0!==p),d.exportClause){for(var f=[],_=0,m=d.exportClause.elements;_<m.length;_++){var g=m[_];f.push(V.createPropertyAssignment(V.createLiteral(V.idText(g.name)),V.createElementAccess(o,V.createLiteral(V.idText(g.propertyName||g.name)))))}c.push(V.createStatement(V.createCall(y,void 0,[V.createObjectLiteral(f,!0)])))}else c.push(V.createStatement(V.createCall(e,void 0,[o])))}}n.push(V.createFunctionExpression(void 0,void 0,void 0,void 0,[V.createParameter(void 0,void 0,void 0,o)],void 0,V.createBlock(c,!0)))}return V.createArrayLiteral(n,!0)}(s,i)),V.createPropertyAssignment("execute",V.createFunctionExpression(void 0,void 0,void 0,void 0,[],void 0,V.createBlock(r,!0)))])).multiLine=!0,a.push(V.createReturn(s)),i=V.createBlock(a,!0),r=V.createFunctionExpression(void 0,void 0,void 0,void 0,[V.createParameter(void 0,void 0,void 0,y),V.createParameter(void 0,void 0,void 0,o)],void 0,i),s=V.tryGetModuleNameFromFile(e,l,c),a=V.createArrayLiteral(V.map(n,function(e){return e.name})),n=V.setEmitFlags(V.updateSourceFileNode(e,V.setTextRange(V.createNodeArray([V.createStatement(V.createCall(V.createPropertyAccess(V.createIdentifier("System"),"register"),void 0,s?[s,a,r]:[a,r]))]),e.statements)),1024),c.outFile||c.out||V.moveEmitHelpers(n,i,function(e){return!e.scoped}),m&&(p[t]=m,m=void 0),D=E=o=y=g=h=void 0,V.aggregateTransformFlags(n))};function v(e){var t=V.createUniqueName("exportStar"),n=V.createIdentifier("m"),r=V.createIdentifier("n"),i=V.createIdentifier("exports"),a=V.createStrictInequality(r,V.createLiteral("default"));return e&&(a=V.createLogicalAnd(a,V.createLogicalNot(V.createCall(V.createPropertyAccess(e,"hasOwnProperty"),void 0,[r])))),V.createFunctionDeclaration(void 0,void 0,void 0,t,void 0,[V.createParameter(void 0,void 0,void 0,n)],void 0,V.createBlock([V.createVariableStatement(void 0,V.createVariableDeclarationList([V.createVariableDeclaration(i,void 0,V.createObjectLiteral([]))])),V.createForIn(V.createVariableDeclarationList([V.createVariableDeclaration(r,void 0)]),n,V.createBlock([V.setEmitFlags(V.createIf(a,V.createStatement(V.createAssignment(V.createElementAccess(i,r),V.createElementAccess(n,r)))),1)])),V.createStatement(V.createCall(y,void 0,[i]))],!0))}function f(e){switch(e.kind){case 238:return(a=e).importClause&&C(V.getLocalNameForExternalImport(a,h)),P(a)?(o=V.getOriginalNodeId(a),A[o]=b(A[o],a)):s=b(s,a),V.singleOrMany(s);case 237:return o=e,V.Debug.assert(V.isExternalModuleImportEqualsDeclaration(o),"import= for internal module references should be handled in an earlier transformer."),C(V.getLocalNameForExternalImport(o,h)),P(o)?(a=V.getOriginalNodeId(o),A[a]=x(A[a],o)):i=x(i,o),V.singleOrMany(i);case 244:return;case 243:var t,n,r=e;return r.isExportEquals?void 0:(t=V.visitNode(r.expression,U,V.isExpression),(n=r.original)&&P(n)?(n=V.getOriginalNodeId(r),void(A[n]=S(A[n],V.createIdentifier("default"),t,!0))):$(V.createIdentifier("default"),t,!0));default:return R(e)}var i,a,s,o}function N(e){if(V.isBindingPattern(e.name))for(var t=0,n=e.name.elements;t<n.length;t++){var r=n[t];V.isOmittedExpression(r)||N(r)}else C(V.getSynthesizedClone(e.name))}function w(e){return 0==(2097152&V.getEmitFlags(e))&&(265===D.kind||0==(3&V.getOriginalNode(e).flags))}function I(e,t){t=t?a:s;return V.isBindingPattern(e.name)?V.flattenDestructuringAssignment(e,U,T,0,!1,t):e.initializer?t(e.name,V.visitNode(e.initializer,U,V.isExpression)):e.name}function a(e,t,n){return r(e,t,n,!0)}function s(e,t,n){return r(e,t,n,!1)}function r(e,t,n,r){return C(V.getSynthesizedClone(e)),r?L(e,B(V.setTextRange(V.createAssignment(e,t),n))):B(V.setTextRange(V.createAssignment(e,t),n))}function P(e){return 0!=(4194304&V.getEmitFlags(e))}function b(e,t){if(!g.exportEquals){t=t.importClause;if(t){t.name&&(e=k(e,t));var n=t.namedBindings;if(n)switch(n.kind){case 240:e=k(e,n);break;case 241:for(var r=0,i=n.elements;r<i.length;r++)e=k(e,i[r])}}}return e}function x(e,t){return g.exportEquals?e:k(e,t)}function O(e,t,n){if(!g.exportEquals)for(var r=0,i=t.declarationList.declarations;r<i.length;r++){var a=i[r];(a.initializer||n)&&(e=function e(t,n,r){if(g.exportEquals)return t;if(V.isBindingPattern(n.name))for(var i=0,a=n.name.elements;i<a.length;i++){var s=a[i];V.isOmittedExpression(s)||(t=e(t,s,r))}else{var o;V.isGeneratedIdentifier(n.name)||(o=void 0,r&&(t=S(t,n.name,V.getLocalName(n)),o=V.idText(n.name)),t=k(t,n,o))}return t}(e,a,n))}return e}function F(e,t){var n;return g.exportEquals||(V.hasModifier(t,1)&&(e=S(e,n=V.hasModifier(t,512)?V.createLiteral("default"):t.name,V.getLocalName(t)),n=V.getTextOfIdentifierOrLiteral(n)),t.name&&(e=k(e,t,n))),e}function k(e,t,n){if(!g.exportEquals){var r=V.getDeclarationName(t),t=g.exportSpecifiers.get(V.idText(r));if(t)for(var i=0,a=t;i<a.length;i++){var s=a[i];s.name.escapedText!==n&&(e=S(e,s.name,r))}}return e}function S(e,t,n,r){return V.append(e,$(t,n,r))}function $(e,t,n){e=V.createStatement(L(e,t));return V.startOnNewLine(e),n||V.setEmitFlags(e,1536),e}function L(e,t){e=V.isIdentifier(e)?V.createLiteral(e):e;return V.setEmitFlags(t,1536|V.getEmitFlags(t)),V.setCommentRange(V.createCall(y,void 0,[e,t]),t)}function R(e){switch(e.kind){case 208:var t=e;if(!w(t.declarationList))return V.visitNode(t,U,V.isStatement);for(var n,r,i=V.hasModifier(t,1),a=P(t),s=0,o=t.declarationList.declarations;s<o.length;s++){var c=o[s];c.initializer?n=V.append(n,I(c,i&&!a)):N(c)}return n&&(r=V.append(r,V.setTextRange(V.createStatement(V.inlineExpressions(n)),t))),a?(S=V.getOriginalNodeId(t),A[S]=O(A[S],t,i)):r=O(r,t,!1),V.singleOrMany(r);case 228:return S=e,E=V.hasModifier(S,1)?V.append(E,V.updateFunctionDeclaration(S,S.decorators,V.visitNodes(S.modifiers,J,V.isModifier),S.asteriskToken,V.getDeclarationName(S,!0,!0),void 0,V.visitNodes(S.parameters,U,V.isParameterDeclaration),void 0,V.visitNode(S.body,U,V.isBlock))):V.append(E,V.visitEachChild(S,U,T)),void(P(S)?(t=V.getOriginalNodeId(S),A[t]=F(A[t],S)):E=F(E,S));case 229:return b=e,k=V.getLocalName(b),C(k),x=V.append(x,V.setTextRange(V.createStatement(V.createAssignment(k,V.setTextRange(V.createClassExpression(void 0,b.name,void 0,V.visitNodes(b.heritageClauses,U,V.isHeritageClause),V.visitNodes(b.members,U,V.isClassElement)),b))),b)),P(b)?(k=V.getOriginalNodeId(b),A[k]=F(A[k],b)):x=F(x,b),V.singleOrMany(x);case 214:return k=D,D=b=e,b=V.updateFor(b,M(b.initializer),V.visitNode(b.condition,U,V.isExpression),V.visitNode(b.incrementor,U,V.isExpression),V.visitNode(b.statement,R,V.isStatement)),D=k,b;case 215:return v=D,D=y=e,y=V.updateForIn(y,M(y.initializer),V.visitNode(y.expression,U,V.isExpression),V.visitNode(y.statement,R,V.isStatement,V.liftToBlock)),D=v,y;case 216:return v=D,D=y=e,y=V.updateForOf(y,y.awaitModifier,M(y.initializer),V.visitNode(y.expression,U,V.isExpression),V.visitNode(y.statement,R,V.isStatement,V.liftToBlock)),D=v,y;case 212:return h=e,V.updateDo(h,V.visitNode(h.statement,R,V.isStatement,V.liftToBlock),V.visitNode(h.expression,U,V.isExpression));case 213:return h=e,V.updateWhile(h,V.visitNode(h.expression,U,V.isExpression),V.visitNode(h.statement,R,V.isStatement,V.liftToBlock));case 222:return V.updateLabel(e,e.label,V.visitNode(e.statement,R,V.isStatement,V.liftToBlock));case 220:return g=e,V.updateWith(g,V.visitNode(g.expression,U,V.isExpression),V.visitNode(g.statement,R,V.isStatement,V.liftToBlock));case 221:return g=e,V.updateSwitch(g,V.visitNode(g.expression,U,V.isExpression),V.visitNode(g.caseBlock,R,V.isCaseBlock));case 235:return m=D,D=e,_=V.updateCaseBlock(e,V.visitNodes(e.clauses,R,V.isCaseOrDefaultClause)),D=m,_;case 257:return m=e,V.updateCaseClause(m,V.visitNode(m.expression,U,V.isExpression),V.visitNodes(m.statements,R,V.isStatement));case 258:case 224:return V.visitEachChild(e,R,T);case 260:return _=D,D=e,f=V.updateCatchClause(e,e.variableDeclaration,V.visitNode(e.block,R,V.isBlock)),D=_,f;case 207:return f=D,D=e,p=V.visitEachChild(e,R,T),D=f,p;case 290:return P(p=e)&&208===p.original.kind&&(u=V.getOriginalNodeId(p),d=V.hasModifier(p.original,1),A[u]=O(A[u],p.original,d)),p;case 291:return u=e,d=V.getOriginalNodeId(u),(l=A[d])?(delete A[d],V.append(l,u)):u;default:return U(e)}var l,u,d,p,f,_,m,g,h,y,v,b,x,k,S}function M(e){if(!e)return e;if(a=e,V.isVariableDeclarationList(a)&&w(a)){for(var t=void 0,n=0,r=e.declarations;n<r.length;n++){var i=r[n],t=V.append(t,I(i,!1));i.initializer||N(i)}return t?V.inlineExpressions(t):V.createOmittedExpression()}var a;return V.visitEachChild(e,R,T)}function U(e){return 1024&e.transformFlags&&194===e.kind?n((t=e).left)?V.flattenDestructuringAssignment(t,U,T,0,!0):V.visitEachChild(t,U,T):V.isImportCall(e)?(t=e,V.createCall(V.createPropertyAccess(o,V.createIdentifier("import")),void 0,V.some(t.arguments)?[V.visitNode(t.arguments[0],U)]:[])):2048&e.transformFlags||67108864&e.transformFlags?V.visitEachChild(e,U,T):e;var t}function n(e){return V.isAssignmentExpression(e,!0)?n(e.left):V.isSpreadElement(e)?n(e.expression):V.isObjectLiteralExpression(e)?V.some(e.properties,n):V.isArrayLiteralExpression(e)?V.some(e.elements,n):V.isShorthandPropertyAssignment(e)?n(e.name):V.isPropertyAssignment(e)?n(e.initializer):!!V.isIdentifier(e)&&void 0!==(e=_.getReferencedExportContainer(e))&&265===e.kind}function J(e){switch(e.kind){case 84:case 79:return}return e}function q(e){var t,n;return V.isGeneratedIdentifier(e)||(n=_.getReferencedImportDeclaration(e)||_.getReferencedValueDeclaration(e))&&((e=_.getReferencedExportContainer(e,!1))&&265===e.kind&&(t=V.append(t,V.getDeclarationName(n))),t=V.addRange(t,g&&g.exportedBindings[V.getOriginalNodeId(n)])),t}function B(e){return(m=void 0===m?[]:m)[V.getNodeId(e)]=!0,e}}}(ts=ts||{}),function(l){l.transformES2015Module=function(i){var r,a=i.getCompilerOptions(),s=i.onEmitNode,o=i.onSubstituteNode;return i.onEmitNode=function(e,t,n){l.isSourceFile(t)?(s(e,r=t,n),r=void 0):s(e,t,n)},i.onSubstituteNode=function(e,t){if(t=o(e,t),l.isIdentifier(t)&&1===e){e=t;if(4096&l.getEmitFlags(e)){var n=l.getExternalHelpersModuleName(r);if(n)return l.createPropertyAccess(n,e)}return e}return t},i.enableEmitNotification(265),i.enableSubstitution(71),function(e){var t,n,r;return!e.isDeclarationFile&&(l.isExternalModule(e)||a.isolatedModules)?(t=l.getOrCreateExternalHelpersModuleNameIfNeeded(e,a))?(r=l.addPrologue(n=[],e.statements),l.append(n,l.createImportDeclaration(void 0,void 0,l.createImportClause(void 0,l.createNamespaceImport(t)),l.createLiteral(l.externalHelpersModuleNameText))),l.addRange(n,l.visitNodes(e.statements,c,l.isStatement,r)),l.updateSourceFileNode(e,l.setTextRange(l.createNodeArray(n),e.statements))):l.visitEachChild(e,c,i):e};function c(e){switch(e.kind){case 237:return;case 243:return e.isExportEquals?void 0:e}return e}}}(ts=ts||{}),function(T){T.getTransformers=function(e,t){var n=e.jsx,r=T.getEmitScriptTarget(e),i=T.getEmitModuleKind(e),e=[];return T.addRange(e,t&&t.before),e.push(T.transformTypeScript),2===n&&e.push(T.transformJsx),r<5&&e.push(T.transformESNext),r<4&&e.push(T.transformES2017),r<3&&e.push(T.transformES2016),r<2&&(e.push(T.transformES2015),e.push(T.transformGenerators)),e.push(function(){switch(i){case T.ModuleKind.ESNext:case T.ModuleKind.ES2015:return T.transformES2015Module;case T.ModuleKind.System:return T.transformSystemModule;default:return T.transformModule}}()),r<1&&e.push(T.transformES5),T.addRange(e,t&&t.after),e},T.transformNodes=function(e,t,n,r,i,a){for(var s,o,c,l=new Array(292),u=[],d=[],p=0,f=!1,_=function(e,t){return t},m=function(e,t,n){return n(e,t)},g=0,h={getCompilerOptions:function(){return n},getEmitResolver:function(){return e},getEmitHost:function(){return t},startLexicalEnvironment:function(){T.Debug.assert(0<g,"Cannot modify the lexical environment during initialization."),T.Debug.assert(g<2,"Cannot modify the lexical environment after transformation has completed."),T.Debug.assert(!f,"Lexical environment is suspended."),u[p]=s,d[p]=o,p++,o=s=void 0},suspendLexicalEnvironment:function(){T.Debug.assert(0<g,"Cannot modify the lexical environment during initialization."),T.Debug.assert(g<2,"Cannot modify the lexical environment after transformation has completed."),T.Debug.assert(!f,"Lexical environment is already suspended."),f=!0},resumeLexicalEnvironment:function(){T.Debug.assert(0<g,"Cannot modify the lexical environment during initialization."),T.Debug.assert(g<2,"Cannot modify the lexical environment after transformation has completed."),T.Debug.assert(f,"Lexical environment is not suspended."),f=!1},endLexicalEnvironment:function(){var e,t;return T.Debug.assert(0<g,"Cannot modify the lexical environment during initialization."),T.Debug.assert(g<2,"Cannot modify the lexical environment after transformation has completed."),T.Debug.assert(!f,"Lexical environment is suspended."),(s||o)&&(o&&(e=o.slice()),s)&&(t=T.createVariableStatement(void 0,T.createVariableDeclarationList(s)),e?e.push(t):e=[t]),s=u[--p],o=d[p],0===p&&(u=[],d=[]),e},hoistVariableDeclaration:function(e){T.Debug.assert(0<g,"Cannot modify the lexical environment during initialization."),T.Debug.assert(g<2,"Cannot modify the lexical environment after transformation has completed.");e=T.setEmitFlags(T.createVariableDeclaration(e),64);s?s.push(e):s=[e]},hoistFunctionDeclaration:function(e){T.Debug.assert(0<g,"Cannot modify the lexical environment during initialization."),T.Debug.assert(g<2,"Cannot modify the lexical environment after transformation has completed."),o?o.push(e):o=[e]},requestEmitHelper:function(e){T.Debug.assert(0<g,"Cannot modify the transformation context during initialization."),T.Debug.assert(g<2,"Cannot modify the transformation context after transformation has completed."),T.Debug.assert(!e.scoped,"Cannot request a scoped emit helper."),c=T.append(c,e)},readEmitHelpers:function(){T.Debug.assert(0<g,"Cannot modify the transformation context during initialization."),T.Debug.assert(g<2,"Cannot modify the transformation context after transformation has completed.");var e=c;return c=void 0,e},enableSubstitution:function(e){T.Debug.assert(g<2,"Cannot modify the transformation context after transformation has completed."),l[e]|=1},enableEmitNotification:function(e){T.Debug.assert(g<2,"Cannot modify the transformation context after transformation has completed."),l[e]|=2},isSubstitutionEnabled:k,isEmitNotificationEnabled:S,get onSubstituteNode(){return _},set onSubstituteNode(e){T.Debug.assert(g<1,"Cannot modify transformation hooks after initialization has completed."),T.Debug.assert(void 0!==e,"Value must not be 'undefined'"),_=e},get onEmitNode(){return m},set onEmitNode(e){T.Debug.assert(g<1,"Cannot modify transformation hooks after initialization has completed."),T.Debug.assert(void 0!==e,"Value must not be 'undefined'"),m=e}},y=0,v=r;y<v.length;y++){var b=v[y];T.disposeEmitNodes(T.getSourceFileOfNode(T.getParseTreeNode(b)))}T.performance.mark("beforeTransform");var x=T.chain.apply(void 0,i)(h),g=1,i=T.map(r,a?x:function(e){return!e||T.isSourceFile(e)&&e.isDeclarationFile?e:x(e)});return g=2,T.performance.mark("afterTransform"),T.performance.measure("transformTime","beforeTransform","afterTransform"),{transformed:i,substituteNode:function(e,t){return T.Debug.assert(g<3,"Cannot substitute a node after the result is disposed."),t&&k(t)&&_(e,t)||t},emitNodeWithNotification:function(e,t,n){T.Debug.assert(g<3,"Cannot invoke TransformationResult callbacks after the result is disposed."),t&&(S(t)?m(e,t,n):n(e,t))},dispose:function(){if(g<3){for(var e=0,t=r;e<t.length;e++){var n=t[e];T.disposeEmitNodes(T.getSourceFileOfNode(T.getParseTreeNode(n)))}c=m=_=d=o=u=s=void 0,g=3}}};function k(e){return 0!=(1&l[e.kind])&&0==(4&T.getEmitFlags(e))}function S(e){return 0!=(2&l[e.kind])||0!=(2&T.getEmitFlags(e))}}}(ts=ts||{}),function(x){var k={emittedLine:1,emittedColumn:1,sourceLine:1,sourceColumn:1,sourceIndex:0};function n(e){e<0?e=1+(-e<<1):e<<=1;var t="";do{var n=31&e;0<(e>>=5)&&(n|=32),t+=function(e){if(e<64)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e);throw TypeError(e+": not a 64 based value")}(n)}while(0<e);return t}x.createSourceMapWriter=function(r,i){var c,a,s,o,l,u,d,p,f=r.getCompilerOptions(),_=f.extendedDiagnostics,m=!(f.sourceMap||f.inlineSourceMap);return{initialize:function(e,t,n){m||(p&&h(),o=-1,l=a=c=void 0,u=k,d=0,(p={sourceMapFilePath:t,jsSourceMappingURL:f.inlineSourceMap?void 0:x.getBaseFileName(x.normalizeSlashes(t)),sourceMapFile:x.getBaseFileName(x.normalizeSlashes(e)),sourceMapSourceRoot:f.sourceRoot||"",sourceMapSources:[],inputSourceFileNames:[],sourceMapNames:[],sourceMapMappings:"",sourceMapSourcesContent:f.inlineSources?[]:void 0,sourceMapDecodedMappings:[]}).sourceMapSourceRoot=x.normalizeSlashes(p.sourceMapSourceRoot),p.sourceMapSourceRoot.length&&47!==p.sourceMapSourceRoot.charCodeAt(p.sourceMapSourceRoot.length-1)&&(p.sourceMapSourceRoot+=x.directorySeparator),f.mapRoot?(s=x.normalizeSlashes(f.mapRoot),265===n.kind&&(s=x.getDirectoryPath(x.getSourceFilePathInNewDir(n,r,s))),x.isRootedDiskPath(s)||x.isUrl(s)?p.jsSourceMappingURL=x.combinePaths(s,p.jsSourceMappingURL):(s=x.combinePaths(r.getCommonSourceDirectory(),s),p.jsSourceMappingURL=x.getRelativePathToDirectoryOrUrl(x.getDirectoryPath(x.normalizePath(e)),x.combinePaths(s,p.jsSourceMappingURL),r.getCurrentDirectory(),r.getCanonicalFileName,!0))):s=x.getDirectoryPath(x.normalizePath(e)))},reset:h,getSourceMapData:function(){return p},setSourceFile:b,emitPos:v,emitNodeWithSourceMap:function(e,t,n){if(m)return n(e,t);var r,i,a,s,o;t&&(r=(s=t.emitNode)&&s.flags,i=(a=(s=s&&s.sourceMapRange)||t).pos,a=a.end,(s=(s=s&&s.source)===(o=c)?void 0:s)&&b(s),287!==t.kind&&0==(16&r)&&0<=i&&v(g(i)),s&&b(o),64&r?(m=!0,n(e,t),m=!1):n(e,t),s&&b(s),287!==t.kind&&0==(32&r)&&0<=a&&v(a),s)&&b(o)},emitTokenWithSourceMap:function(e,t,n,r){var i;return m?r(t,n):(i=(e=e&&e.emitNode)&&e.flags,n=g((e=e&&e.tokenSourceMapRanges&&e.tokenSourceMapRanges[t])?e.pos:n),0==(128&i)&&0<=n&&v(n),n=r(t,n),e&&(n=e.end),0==(256&i)&&0<=n&&v(n),n)},getText:t,getSourceMappingURL:function(){var e;if(!m)return f.inlineSourceMap?(e=x.convertToBase64(t()),p.jsSourceMappingURL="data:application/json;base64,"+e):p.jsSourceMappingURL}};function g(e){return c.skipTrivia?c.skipTrivia(e):x.skipTrivia(a,e)}function h(){m||(p=d=u=l=o=s=c=void 0)}function y(){if(l&&l!==u){var e=u.emittedColumn;if(u.emittedLine===l.emittedLine)p.sourceMapMappings&&(p.sourceMapMappings+=",");else{for(var t=u.emittedLine;t<l.emittedLine;t++)p.sourceMapMappings+=";";e=1}p.sourceMapMappings+=n(l.emittedColumn-e),p.sourceMapMappings+=n(l.sourceIndex-u.sourceIndex),p.sourceMapMappings+=n(l.sourceLine-u.sourceLine),p.sourceMapMappings+=n(l.sourceColumn-u.sourceColumn),0<=l.nameIndex&&(x.Debug.assert(!1,"We do not support name index right now, Make sure to update updateLastEncodedAndRecordedSpans when we start using this"),p.sourceMapMappings+=n(l.nameIndex-d),d=l.nameIndex),u=l,p.sourceMapDecodedMappings.push(u)}}function v(e){var t,n;m||x.positionIsSynthesized(e)||(_&&x.performance.mark("beforeSourcemap"),(e=x.getLineAndCharacterOfPosition(c,e)).line++,e.character++,t=i.getLine(),n=i.getColumn(),!l||l.emittedLine!==t||l.emittedColumn!==n||l.sourceIndex===o&&(l.sourceLine>e.line||l.sourceLine===e.line&&l.sourceColumn>e.character)?(y(),l={emittedLine:t,emittedColumn:n,sourceLine:e.line,sourceColumn:e.character,sourceIndex:o}):(l.sourceLine=e.line,l.sourceColumn=e.character,l.sourceIndex=o),_&&(x.performance.mark("afterSourcemap"),x.performance.measure("Source Map","beforeSourcemap","afterSourcemap")))}function b(e){m||(a=(c=e).text,e=f.sourceRoot?r.getCommonSourceDirectory():s,e=x.getRelativePathToDirectoryOrUrl(e,c.fileName,r.getCurrentDirectory(),r.getCanonicalFileName,!0),-1===(o=x.indexOf(p.sourceMapSources,e))&&(o=p.sourceMapSources.length,p.sourceMapSources.push(e),p.inputSourceFileNames.push(c.fileName),f.inlineSources)&&p.sourceMapSourcesContent.push(c.text))}function t(){if(!m)return y(),JSON.stringify({version:3,file:p.sourceMapFile,sourceRoot:p.sourceMapSourceRoot,sources:p.sourceMapSources,names:p.sourceMapNames,mappings:p.sourceMapMappings,sourcesContent:p.sourceMapSourcesContent})}}}(ts=ts||{}),function(E){E.createCommentWriter=function(e,s){var o,t,c,l,u,f=e.extendedDiagnostics,d=E.getNewLineCharacter(e),_=-1,m=-1,g=-1,h=!1,y=e.removeComments;return{reset:function(){u=l=c=t=void 0},setWriter:function(e){o=e},setSourceFile:function(e){c=(t=e).text,l=E.getLineStarts(t),u=void 0},emitNodeWithComments:function(e,t,n){var r,i,a,s,o,c,l,u,d,p;y?n(e,t):t&&(h=!1,i=(r=t.emitNode)&&r.flags,a=(s=r&&r.commentRange||t).pos,s=s.end,a<0&&s<0||a===s?v(e,t,r,i,n):(f&&E.performance.mark("preEmitNodeWithComment"),o=287!==t.kind,c=a<0||0!=(512&i)||10===t.kind,l=s<0||0!=(1024&i)||10===t.kind,c||x(a,o),u=_,d=m,p=g,c||(_=a),l||(m=s,227===t.kind&&(g=s)),f&&E.performance.measure("commentTime","preEmitNodeWithComment"),v(e,t,r,i,n),f&&E.performance.mark("postEmitNodeWithComment"),_=u,m=d,g=p,!l&&o&&T(s,k),f&&E.performance.measure("commentTime","postEmitNodeWithComment")))},emitBodyWithDetachedComments:function(e,t,n){f&&E.performance.mark("preEmitBodyWithDetachedComments");var r=t.pos,i=t.end,a=E.getEmitFlags(e),i=y||i<0||0!=(1024&a);r<0||0!=(512&a)||(r=E.emitDetachedComments(c,l,o,C,t,d,y))&&(u?u.push(r):u=[r]),f&&E.performance.measure("commentTime","preEmitBodyWithDetachedComments"),2048&a&&!y?(y=!0,n(e),y=!1):n(e),f&&E.performance.mark("beginEmitBodyWithDetachedCommetns"),i||(x(t.end,!0),h&&!o.isAtStartOfLine()&&o.writeLine()),f&&E.performance.measure("commentTime","beginEmitBodyWithDetachedCommetns")},emitTrailingCommentsOfPosition:function(e,t){y||(f&&E.performance.mark("beforeEmitTrailingCommentsOfPosition"),T(e,t?k:i),f&&E.performance.measure("commentTime","beforeEmitTrailingCommentsOfPosition"))},emitLeadingCommentsOfPosition:function(e){y||-1===e||x(e,!0)}};function v(e,t,n,r,i){var a=n&&n.leadingComments,i=(E.some(a)&&(f&&E.performance.mark("preEmitNodeWithSynthesizedComments"),E.forEach(a,p),f)&&E.performance.measure("commentTime","preEmitNodeWithSynthesizedComments"),a=e,e=t,t=i,2048&r?(y=!0,t(a,e),y=!1):t(a,e),n&&n.trailingComments);E.some(i)&&(f&&E.performance.mark("postEmitNodeWithSynthesizedComments"),E.forEach(i,b),f)&&E.performance.measure("commentTime","postEmitNodeWithSynthesizedComments")}function p(e){2===e.kind&&o.writeLine(),n(e),e.hasTrailingNewLine||2===e.kind?o.writeLine():o.write(" ")}function b(e){o.isAtStartOfLine()||o.write(" "),n(e),e.hasTrailingNewLine&&o.writeLine()}function n(e){var t=3===e.kind?"/*"+e.text+"*/":"//"+e.text,e=3===e.kind?E.computeLineStarts(t):void 0;E.writeCommentRange(t,e,o,0,t.length,d)}function x(e,t){h=!1,t?S(e,a):0===e&&S(e,r)}function r(e,t,n,r,i){E.isRecognizedTripleSlashComment(c,e,t)&&a(e,t,0,r,i)}function a(e,t,n,r,i){h||(E.emitNewLineBeforeLeadingCommentOfPosition(l,o,i,e),h=!0),s&&s(e),E.writeCommentRange(c,l,o,e,t,d),s&&s(t),r?o.writeLine():o.write(" ")}function k(e,t,n,r){o.isAtStartOfLine()||o.write(" "),s&&s(e),E.writeCommentRange(c,l,o,e,t,d),s&&s(t),r&&o.writeLine()}function i(e,t,n,r){s&&s(e),E.writeCommentRange(c,l,o,e,t,d),s&&s(t),r?o.writeLine():o.write(" ")}function S(e,t){var n,r;-1!==_&&e===_||(r=e,void 0!==u&&E.lastOrUndefined(u).nodePos===r?(r=t,n=E.lastOrUndefined(u).detachedCommentEndPos,u.length-1?u.pop():u=void 0,E.forEachLeadingCommentRange(c,n,r,n)):E.forEachLeadingCommentRange(c,e,t,e))}function T(e,t){(-1===m||e!==m&&e!==g)&&E.forEachTrailingCommentRange(c,e,t)}function C(e,t,n,r,i,a){s&&s(r),E.writeCommentRange(e,t,n,r,i,a),s&&s(i)}}}(ts=ts||{}),function(he){function s(s,u,n,M,e,U){var d,p,f,_,m,g,h,r,y,i,a,B,t=266===e.kind?e.sourceFiles:[e],o=266===e.kind,c=s.getNewLine(),l=s.getCompilerOptions();J();var v,b,x,k=!1,S=l.removeComments?he.noop:function(e){var t;e&&(t=he.getJSDocCommentRanges(e,y),he.emitNewLineBeforeLeadingComments(i,g,e,t),he.emitComments(y,i,g,t,!1,!0,c,he.writeCommentRange))},j=l.stripInternal?function(e){var t;e&&(t=he.getLeadingCommentRanges(y,e.pos),he.forEach(t,$)||ge(e))}:ge,T=!0,C=[],E="",K=[],z=!1,D=[];return he.forEach(t,function(t){var e;he.isSourceFileJavaScript(t)||(l.noResolve||he.forEach(t.referencedFiles,function(e){var n,r,i,a,e=he.tryResolveScriptReference(s,t,e);e&&!he.contains(K,e)&&(r=!o&&!z,a=!1,(n=e).isDeclarationFile?i=n.fileName:he.forEachEmittedFile(s,function(e,t){t=266===t.kind;t&&!r||(he.Debug.assert(!!e.declarationFilePath||he.isSourceFileJavaScript(n),"Declaration file is not present only for javascript files"),i=e.declarationFilePath||e.jsFilePath,a=t)},n,U),i&&(i=he.getRelativePathToDirectoryOrUrl(he.getDirectoryPath(he.normalizeSlashes(M)),i,s.getCurrentDirectory(),s.getCanonicalFileName,!1),E+='/// <reference path="'+i+'" />'+c),a&&(z=!0),K.push(e))}),r=!1,o&&he.isExternalModule(t)?he.isExternalModule(t)&&(T=!1,d('declare module "'+he.getResolvedExternalModuleName(s,t)+'" {'),p(),f(),Z(t),_(),d("}"),p()):(T=!0,Z(t)),C.length&&(e=g,he.forEach(C,function(e){if(e.isVisible&&!e.asynchronousOutput){he.Debug.assert(238===e.node.kind),J(),he.Debug.assert(0===e.indent||1===e.indent&&o);for(var t=0;t<e.indent;t++)f();for(ie(e.node),e.asynchronousOutput=g.getText(),t=0;t<e.indent;t++)_()}}),q(e),D=D.concat(C),C=[]),!o&&he.isExternalModule(t)&&t.moduleAugmentations.length&&!r&&(d("export {};"),p()))}),x&&he.forEachKey(x,function(e){E+='/// <reference types="'+e+'" />'+c}),{reportedDeclarationError:k,moduleElementDeclarationEmitInfo:D,synchronousDeclarationOutput:g.getText(),referencesOutput:E};function $(e){e=y.substring(e.pos,e.end);return he.stringContains(e,"@internal")}function J(){var e=he.createTextWriter(c);e.trackSymbol=W,e.reportInaccessibleThisError=Y,e.reportPrivateInBaseOfClassExpression=Q,e.writeKeyword=e.write,e.writeOperator=e.write,e.writePunctuation=e.write,e.writeSpace=e.write,e.writeStringLiteral=e.writeLiteral,e.writeParameter=e.write,e.writeProperty=e.write,e.writeSymbol=e.write,q(e)}function q(e){d=(g=e).write,m=e.writeTextOfNode,p=e.writeLine,f=e.increaseIndent,_=e.decreaseIndent}function V(e){var t=g;he.forEach(e,function(e){226===e.kind?t=e.parent.parent:241===e.kind||242===e.kind||239===e.kind?he.Debug.fail("We should be getting ImportDeclaration instead to write"):t=e;var t,e=he.forEach(C,function(e){return e.node===t?e:void 0});if(e=!e&&b?he.forEach(b,function(e){return e.node===t?e:void 0}):e)if(238===e.node.kind)e.isVisible=!0;else{J();for(var n=e.indent;n;n--)f();233===t.kind&&(he.Debug.assert(void 0===b),b=[]),ne(t),233===t.kind&&(e.subModuleElementDeclarationEmitInfo=b,b=void 0),e.asynchronousOutput=g.getText()}}),q(t)}function H(e){if(e){x=x||he.createMap();for(var t=0,n=e;t<n.length;t++){var r=n[t];x.has(r)||x.set(r,r)}}}function G(e){var t;0===e.accessibility?e&&e.aliasesToMakeVisible&&V(e.aliasesToMakeVisible):(k=!0,(t=g.getSymbolAccessibilityDiagnostic(e))&&(t.typeName?n.add(he.createDiagnosticForNode(e.errorNode||t.errorNode,t.diagnosticMessage,he.getTextOfNodeFromSourceText(y,t.typeName),e.errorSymbolName,e.errorModuleName)):n.add(he.createDiagnosticForNode(e.errorNode||t.errorNode,t.diagnosticMessage,e.errorSymbolName,e.errorModuleName))))}function W(e,t,n){G(u.isSymbolAccessible(e,t,n,!0)),H(u.getTypeReferenceDirectivesForSymbol(e,n))}function Q(e){v&&(k=!0,n.add(he.createDiagnosticForNode(v,he.Diagnostics.Property_0_of_exported_class_expression_may_not_be_private_or_protected,e)))}function Y(){v&&(k=!0,n.add(he.createDiagnosticForNode(v,he.Diagnostics.The_inferred_type_of_0_references_an_inaccessible_this_type_A_type_annotation_is_necessary,he.declarationNameToString(v))))}function A(e,t,n){g.getSymbolAccessibilityDiagnostic=n,d(": ");n=146===e.kind&&(u.isRequiredInitializedParameter(e)||u.isOptionalUninitializedParameterProperty(e));t&&!n?P(t):(v=e.name,u.writeTypeOfDeclaration(e,h,16388|(n?8192:0),g),v=void 0)}function N(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];j(r)}}function X(e,t,n,r){for(var i=g.getTextPos(),a=0,s=e;a<s.length;a++){var o=s[a];r&&!r(o)||(i!==g.getTextPos()&&d(t),i=g.getTextPos(),n(o))}}function w(e,t,n){X(e,", ",t,n)}function I(e,t){g.getSymbolAccessibilityDiagnostic=t,P(e)}function P(e){switch(e.kind){case 119:case 136:case 133:case 122:case 134:case 137:case 105:case 139:case 95:case 130:case 169:case 173:return m(y,e);case 201:return void(he.isEntityNameExpression((s=e).expression)&&(he.Debug.assert(71===s.expression.kind||179===s.expression.kind),c(s.expression),s.typeArguments)&&(d("<"),w(s.typeArguments,P),d(">")));case 159:return c((s=e).typeName),void(s.typeArguments&&(d("<"),w(s.typeArguments,P),d(">")));case 162:return a=e,d("typeof "),void c(a.exprName);case 164:return P(e.elementType),void d("[]");case 165:return a=e,d("["),w(a.elementTypes,P),void d("]");case 166:return void X(e.types," | ",P);case 167:return void X(e.types," & ",P);case 168:return i=e,d("("),P(i.type),void d(")");case 170:return i=e,d(he.tokenToString(i.operator)),d(" "),void P(i.type);case 171:return P((r=e).objectType),d("["),P(r.indexType),void d("]");case 172:return r=h,h=n=e,d("{"),p(),f(),n.readonlyToken&&d("readonly "),d("["),o(n.typeParameter.name),d(" in "),P(n.typeParameter.constraint),d("]"),n.questionToken&&d("?"),d(": "),P(n.type),d(";"),p(),_(),d("}"),void(h=r);case 160:case 161:return fe(e);case 163:return n=e,d("{"),n.members.length&&(p(),f(),N(n.members),_()),void d("}");case 71:case 143:return c(e);case 158:return m(y,(t=e).parameterName),d(" is "),void P(t.type)}var t,n,r,i,a,s;function o(e){var t;71===e.kind?m(y,e):(t=143===e.kind?e.left:e.expression,e=143===e.kind?e.right:e.name,o(t),d("."),m(y,e))}function c(e){G(u.isEntityNameVisible(e,237===e.parent.kind?e.parent:h)),H(u.getTypeReferenceDirectivesForEntityName(e)),o(e)}}function Z(e){y=e.text,i=he.getLineStarts(e),a=e.identifiers,B=he.isExternalModule(e),h=e,he.emitDetachedComments(y,i,g,he.writeCommentRange,e,c,!0),N(e.statements)}function ee(e,t,n,r){t=function(e){if(!a.has(e))return e;for(var t=0;;){var n=e+"_"+ ++t;if(!a.has(n))return n}}(t);return r&&d("declare "),d("const "),d(t),d(": "),g.getSymbolAccessibilityDiagnostic=function(){return n},u.writeTypeOfExpression(e,h,16388,g),d(";"),p(),t}function te(e,t){var n;t?ne(e):(237===e.kind||265===e.parent.kind&&B)&&(t=void 0,(b&&265!==e.parent.kind?b:(238===e.kind&&(n=e).importClause&&(t=n.importClause.name&&u.isDeclarationVisible(n.importClause)||re(n.importClause.namedBindings)),C)).push({node:e,outputPos:g.getTextPos(),indent:g.getIndent(),isVisible:t}))}function ne(e){switch(e.kind){case 228:return pe(e);case 208:return l=e,he.every(l.declarationList&&l.declarationList.declarations,function(e){return e.name&&he.isEmptyBindingPattern(e.name)})||(S(l),O(l),he.isLet(l.declarationList)?d("let "):he.isConst(l.declarationList)?d("const "):d("var "),w(l.declarationList.declarations,ue,u.isDeclarationVisible),d(";"),p());case 230:return S(l=e),O(l),d("interface "),m(y,l.name),o=h,R((h=l).typeParameters),(c=he.filter(he.getInterfaceBaseTypeNodes(l),function(e){return he.isEntityNameExpression(e.expression)}))&&c.length&&ce(c,!1),d(" {"),p(),f(),N(l.members),_(),d("}"),p(),h=o;case 229:return c=h,h=o=e,(s=he.getClassExtendsHeritageClauseElement(o))&&!he.isEntityNameExpression(s.expression)&&(a=95===s.expression.kind?"null":ee(s.expression,o.name.escapedText+"_base",{diagnosticMessage:he.Diagnostics.extends_clause_of_exported_class_0_has_or_is_using_private_name_1,errorNode:s,typeName:o.name},!he.findAncestor(o,function(e){return 233===e.kind}))),S(o),O(o),he.hasModifier(o,128)&&d("abstract "),d("class "),m(y,o.name),R(o.typeParameters),s&&(he.isEntityNameExpression(s.expression)?ce([s],!1):(d(" extends "),d(a),s.typeArguments&&(d("<"),w(s.typeArguments,P),d(">")))),ce(he.getClassImplementsHeritageClauseElements(o),!0),d(" {"),p(),f(),(a=he.getFirstConstructorWithBody(o))&&he.forEach(a.parameters,function(e){he.hasModifier(e,92)&&le(e)}),N(o.members),_(),d("}"),p(),h=c;case 231:return s=h,S(h=i=e),O(i),d("type "),m(y,i.name),R(i.typeParameters),d(" = "),I(i.type,function(){return{diagnosticMessage:he.Diagnostics.Exported_type_alias_0_has_or_is_using_private_name_1,errorNode:i.type,typeName:i.name}}),d(";"),p(),h=s;case 232:return S(r=e),O(r),he.isConst(r)&&d("const "),d("enum "),m(y,r.name),d(" {"),p(),f(),N(r.members),_(),d("}"),p();case 233:var t=e;for(S(t),O(t),he.isGlobalScopeAugmentation(t)?d("global "):(16&t.flags?d("namespace "):d("module "),he.isExternalModuleAugmentation(t)?L(t):m(y,t.name));t.body&&234!==t.body.kind;)t=t.body,d("."),m(y,t.name);r=h;return void(t.body?(h=t,d(" {"),p(),f(),N(t.body.statements),_(),d("}"),p(),h=r):d(";"));case 237:return S(n=e),he.hasModifier(n,1)&&d("export "),d("import "),m(y,n.name),d(" = "),he.isInternalModuleImportEqualsDeclaration(n)?(I(n.moduleReference,function(){return{diagnosticMessage:he.Diagnostics.Import_declaration_0_is_using_private_name_1,errorNode:n,typeName:n.name}}),d(";")):(d("require("),L(n),d(");")),g.writeLine();case 238:return ie(e);default:he.Debug.fail("Unknown symbol kind")}var n,r,i,a,s,o,c,l}function O(e){var t;265===e.parent.kind&&(1&(t=he.getModifierFlags(e))&&d("export "),512&t?d("default "):230!==e.kind&&T&&d("declare "))}function F(e){8&e?d("private "):16&e&&d("protected "),32&e&&d("static "),64&e&&d("readonly "),128&e&&d("abstract ")}function re(e){if(e)return 240===e.kind?u.isDeclarationVisible(e):he.forEach(e.elements,function(e){return u.isDeclarationVisible(e)})}function ie(e){var t;S(e),he.hasModifier(e,1)&&d("export "),d("import "),e.importClause&&(t=g.getTextPos(),e.importClause.name&&u.isDeclarationVisible(e.importClause)&&m(y,e.importClause.name),e.importClause.namedBindings&&re(e.importClause.namedBindings)&&(t!==g.getTextPos()&&d(", "),240===e.importClause.namedBindings.kind?(d("* as "),m(y,e.importClause.namedBindings.name)):(d("{ "),w(e.importClause.namedBindings.elements,ae,u.isDeclarationVisible),d(" }"))),d(" from ")),L(e),d(";"),g.writeLine()}function L(e){var t;if(r=r||233!==e.kind,9===(t=237===e.kind?he.getExternalModuleImportEqualsDeclarationExpression(e):233===e.kind?e.name:e.moduleSpecifier).kind&&o&&(l.out||l.outFile)){e=he.getExternalModuleNameFromDeclaration(s,u,e);if(e)return d('"'),d(e),d('"')}m(y,t)}function ae(e){e.propertyName&&(m(y,e.propertyName),d(" as ")),m(y,e.name)}function se(e){ae(e),V(u.collectLinkedAliases(e.propertyName||e.name))}function oe(e){return 151===e.parent.kind&&he.hasModifier(e.parent,8)}function R(e){e&&(d("<"),w(e,function(t){function e(){var e;switch(t.parent.kind){case 229:e=he.Diagnostics.Type_parameter_0_of_exported_class_has_or_is_using_private_name_1;break;case 230:e=he.Diagnostics.Type_parameter_0_of_exported_interface_has_or_is_using_private_name_1;break;case 156:e=he.Diagnostics.Type_parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1;break;case 155:e=he.Diagnostics.Type_parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1;break;case 151:case 150:e=he.hasModifier(t.parent,32)?he.Diagnostics.Type_parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:229===t.parent.parent.kind?he.Diagnostics.Type_parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:he.Diagnostics.Type_parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1;break;case 228:e=he.Diagnostics.Type_parameter_0_of_exported_function_has_or_is_using_private_name_1;break;case 231:e=he.Diagnostics.Type_parameter_0_of_exported_type_alias_has_or_is_using_private_name_1;break;default:he.Debug.fail("This is unknown parent for type parameter: "+t.parent.kind)}return{diagnosticMessage:e,errorNode:t,typeName:t.name}}f(),S(t),_(),m(y,t.name),t.constraint&&!oe(t)&&(d(" extends "),160===t.parent.kind||161===t.parent.kind||t.parent.parent&&163===t.parent.parent.kind?(he.Debug.assert(151===t.parent.kind||150===t.parent.kind||160===t.parent.kind||161===t.parent.kind||155===t.parent.kind||156===t.parent.kind),P(t.constraint)):I(t.constraint,e)),t.default&&!oe(t)&&(d(" = "),160===t.parent.kind||161===t.parent.kind||t.parent.parent&&163===t.parent.parent.kind?(he.Debug.assert(151===t.parent.kind||150===t.parent.kind||160===t.parent.kind||161===t.parent.kind||155===t.parent.kind||156===t.parent.kind),P(t.default)):I(t.default,e))}),d(">"))}function ce(e,t){e&&(d(t?" implements ":" extends "),w(e,function(e){he.isEntityNameExpression(e.expression)?I(e,function(){return{diagnosticMessage:229===e.parent.parent.kind?t?he.Diagnostics.Implements_clause_of_exported_class_0_has_or_is_using_private_name_1:he.Diagnostics.extends_clause_of_exported_class_0_has_or_is_using_private_name_1:he.Diagnostics.extends_clause_of_exported_interface_0_has_or_is_using_private_name_1,errorNode:e,typeName:he.getNameOfDeclaration(e.parent.parent)}}):t||95!==e.expression.kind||d("null")}))}function le(e){he.hasDynamicName(e)||(S(e),F(he.getModifierFlags(e)),ue(e),d(";"),p())}function ue(t){function n(e){return 226===t.kind?e.errorModuleName?2===e.accessibility?he.Diagnostics.Exported_variable_0_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:he.Diagnostics.Exported_variable_0_has_or_is_using_name_1_from_private_module_2:he.Diagnostics.Exported_variable_0_has_or_is_using_private_name_1:149===t.kind||148===t.kind||146===t.kind&&he.hasModifier(t.parent,8)?he.hasModifier(t,32)?e.errorModuleName?2===e.accessibility?he.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:he.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:he.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_private_name_1:229===t.parent.kind||146===t.kind?e.errorModuleName?2===e.accessibility?he.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:he.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:he.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_private_name_1:e.errorModuleName?he.Diagnostics.Property_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2:he.Diagnostics.Property_0_of_exported_interface_has_or_is_using_private_name_1:void 0}function e(e){for(var t=[],n=0,r=e.elements;n<r.length;n++){var i=r[n];200!==i.kind&&t.push(i)}w(t,a)}function a(t){t.name&&(he.isBindingPattern(t.name)?e(t.name):(m(y,t.name),A(t,void 0,function(e){e=n(e);return void 0!==e?{diagnosticMessage:e,errorNode:t,typeName:t.name}:void 0})))}226===t.kind&&!u.isDeclarationVisible(t)||(he.isBindingPattern(t.name)?e(t.name):(m(y,t.name),(149===t.kind||148===t.kind||146===t.kind&&!he.isParameterPropertyDeclaration(t))&&he.hasQuestionToken(t)&&d("?"),149!==t.kind&&148!==t.kind||163!==t.parent.kind?u.isLiteralConstDeclaration(t)?(d(" = "),u.writeLiteralConstValue(t,g)):he.hasModifier(t,8)||A(t,t.type,function(e){e=n(e);return void 0!==e?{diagnosticMessage:e,errorNode:t,typeName:t.name}:void 0}):de(t)))}function de(e){e.type&&(d(": "),P(e.type))}function pe(e){he.hasDynamicName(e)||u.isImplementationOfOverload(e)||(S(e),228===e.kind?O(e):151!==e.kind&&152!==e.kind||F(he.getModifierFlags(e)),228===e.kind?(d("function "),m(y,e.name)):152===e.kind?d("constructor"):(m(y,e.name),he.hasQuestionToken(e)&&d("?")),_e(e))}function fe(e){S(e),_e(e)}function _e(n){var e=h,t=!1;if(157===(h=n).kind)F(he.getModifierFlags(n)),d("[");else{if(152===n.kind&&he.hasModifier(n,8))return d("();"),p();156===n.kind||161===n.kind?d("new "):160===n.kind&&(i=g.getText(),n.typeParameters)&&"<"===i.charAt(i.length-1)&&(t=!0,d("(")),R(n.typeParameters),d("(")}w(n.parameters,me),157===n.kind?d("]"):d(")");var r,i=160===n.kind||161===n.kind;i||163===n.parent.kind?n.type&&(d(i?" => ":": "),P(n.type)):152===n.kind||he.hasModifier(n,8)||(r=n,g.getSymbolAccessibilityDiagnostic=function(e){var t;switch(n.kind){case 156:t=e.errorModuleName?he.Diagnostics.Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:he.Diagnostics.Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 155:t=e.errorModuleName?he.Diagnostics.Return_type_of_call_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:he.Diagnostics.Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 157:t=e.errorModuleName?he.Diagnostics.Return_type_of_index_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:he.Diagnostics.Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 151:case 150:t=he.hasModifier(n,32)?e.errorModuleName?2===e.accessibility?he.Diagnostics.Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:he.Diagnostics.Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:he.Diagnostics.Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_name_0:229===n.parent.kind?e.errorModuleName?2===e.accessibility?he.Diagnostics.Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:he.Diagnostics.Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:he.Diagnostics.Return_type_of_public_method_from_exported_class_has_or_is_using_private_name_0:e.errorModuleName?he.Diagnostics.Return_type_of_method_from_exported_interface_has_or_is_using_name_0_from_private_module_1:he.Diagnostics.Return_type_of_method_from_exported_interface_has_or_is_using_private_name_0;break;case 228:t=e.errorModuleName?2===e.accessibility?he.Diagnostics.Return_type_of_exported_function_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:he.Diagnostics.Return_type_of_exported_function_has_or_is_using_name_0_from_private_module_1:he.Diagnostics.Return_type_of_exported_function_has_or_is_using_private_name_0;break;default:he.Debug.fail("This is unknown kind for signature: "+n.kind)}return{diagnosticMessage:t,errorNode:n.name||n}},d(": "),r.type?P(r.type):(v=r.name,u.writeReturnTypeOfSignatureDeclaration(r,h,16388,g),v=void 0)),h=e,i?t&&d(")"):(d(";"),p())}function me(t){function n(e){174===e.kind?(d("{"),w(e.elements,r),d("}")):175===e.kind&&(d("["),w(e=e.elements,r),e&&e.hasTrailingComma&&d(", "),d("]"))}function r(e){200===e.kind?d(" "):176===e.kind&&(e.propertyName&&(m(y,e.propertyName),d(": ")),e.name)&&(he.isBindingPattern(e.name)?n(e.name):(he.Debug.assert(71===e.name.kind),e.dotDotDotToken&&d("..."),m(y,e.name)))}f(),S(t),t.dotDotDotToken&&d("..."),he.isBindingPattern(t.name)?n(t.name):m(y,t.name),u.isOptionalParameter(t)&&d("?"),_(),160===t.parent.kind||161===t.parent.kind||163===t.parent.parent.kind?de(t):he.hasModifier(t.parent,8)||A(t,t.type,function(e){e=function(e){switch(t.parent.kind){case 152:return e.errorModuleName?2===e.accessibility?he.Diagnostics.Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:he.Diagnostics.Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_private_module_2:he.Diagnostics.Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_name_1;case 156:return e.errorModuleName?he.Diagnostics.Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:he.Diagnostics.Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1;case 155:return e.errorModuleName?he.Diagnostics.Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:he.Diagnostics.Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1;case 157:return e.errorModuleName?he.Diagnostics.Parameter_0_of_index_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:he.Diagnostics.Parameter_0_of_index_signature_from_exported_interface_has_or_is_using_private_name_1;case 151:case 150:return he.hasModifier(t.parent,32)?e.errorModuleName?2===e.accessibility?he.Diagnostics.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:he.Diagnostics.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:he.Diagnostics.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:229===t.parent.parent.kind?e.errorModuleName?2===e.accessibility?he.Diagnostics.Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:he.Diagnostics.Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:he.Diagnostics.Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:e.errorModuleName?he.Diagnostics.Parameter_0_of_method_from_exported_interface_has_or_is_using_name_1_from_private_module_2:he.Diagnostics.Parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1;case 228:return e.errorModuleName?2===e.accessibility?he.Diagnostics.Parameter_0_of_exported_function_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:he.Diagnostics.Parameter_0_of_exported_function_has_or_is_using_name_1_from_private_module_2:he.Diagnostics.Parameter_0_of_exported_function_has_or_is_using_private_name_1;default:he.Debug.fail("This is unknown parent for parameter: "+t.parent.kind)}}(e);return void 0!==e?{diagnosticMessage:e,errorNode:t,typeName:t.name}:void 0})}function ge(e){switch(e.kind){case 228:case 233:case 237:case 230:case 229:case 231:case 232:return te(e,u.isDeclarationVisible(e));case 208:return te(e,he.forEach(e.declarationList.declarations,function(e){return u.isDeclarationVisible(e)}));case 238:return te(e,!e.importClause);case 244:return S(a=e),d("export "),a.exportClause?(d("{ "),w(a.exportClause.elements,se),d(" }")):d("*"),a.moduleSpecifier&&(d(" from "),L(a)),d(";"),void g.writeLine();case 152:case 151:case 150:return pe(e);case 156:case 155:case 157:return fe(e);case 153:case 154:return a=e,void(he.hasDynamicName(a)||a===(i=he.getAllAccessorDeclarations(a.parent.members,a)).firstAccessor&&(S(i.getAccessor),S(i.setAccessor),F(he.getModifierFlags(a)|(i.setAccessor?0:64)),m(y,a.name),he.hasModifier(a,8)||(!(r=s(n=a))&&(r=s(i=153===a.kind?i.setAccessor:i.getAccessor))&&(n=i),A(a,r,function(e){return 154===n.kind?{diagnosticMessage:he.hasModifier(n.parent,32)?e.errorModuleName?he.Diagnostics.Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:he.Diagnostics.Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_private_name_1:e.errorModuleName?he.Diagnostics.Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:he.Diagnostics.Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_private_name_1,errorNode:n.parameters[0],typeName:n.name}:{diagnosticMessage:he.hasModifier(n,32)?e.errorModuleName?2===e.accessibility?he.Diagnostics.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:he.Diagnostics.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:he.Diagnostics.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_name_0:e.errorModuleName?2===e.accessibility?he.Diagnostics.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:he.Diagnostics.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:he.Diagnostics.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_name_0,errorNode:n.name,typeName:void 0}})),d(";"),p()));case 149:case 148:return le(e);case 264:i=e;return S(i),m(y,i.name),void 0!==(i=u.getConstantValue(i))&&(d(" = "),d(he.getTextOfConstantValue(i))),d(","),void p();case 243:return 71===(r=e).expression.kind?(d(r.isExportEquals?"export = ":"export default "),m(y,r.expression)):(t=ee(r.expression,"_default",{diagnosticMessage:he.Diagnostics.Default_export_of_the_module_has_or_is_using_private_name_0,errorNode:r},T),d(r.isExportEquals?"export = ":"export default "),d(t)),d(";"),p(),void(71===r.expression.kind&&V(u.collectLinkedAliases(r.expression)));case 265:return Z(e)}var t,n,r,i,a;function s(e){if(e)return 153===e.kind?e.type:0<e.parameters.length?e.parameters[0].type:void 0}}}he.getDeclarationDiagnostics=function(n,r,e){var i=he.createDiagnosticCollection();return he.forEachEmittedFile(n,function(e,t){e=e.declarationFilePath;s(n,r,i,e,t,!1)},e),i.getDiagnostics(e?e.fileName:void 0)},he.writeDeclarationFile=function(e,t,n,r,i,a){var r=s(n,r,i,e,t,a),a=r.reportedDeclarationError||n.isEmitBlocked(e)||n.getCompilerOptions().noEmit;return a||(t=266===t.kind?t.sourceFiles:[t],r=r.referencesOutput+function t(n,e){var r=0,i="";return he.forEach(e,function(e){e.asynchronousOutput&&(i=(i+=n.substring(r,e.outputPos))+t(e.asynchronousOutput,e.subModuleElementDeclarationEmitInfo),r=e.outputPos)}),i+=n.substring(r)}(r.synchronousDeclarationOutput,r.moduleElementDeclarationEmitInfo),he.writeFile(n,i,e,r,n.getCompilerOptions().emitBOM,t)),a}}(ts=ts||{}),function(nt){(e=[])[0]="",e[16]=",",e[4]=" |",e[8]=" &";var e,rt=e,it=((e=[])[512]=["{","}"],e[1024]=["(",")"],e[2048]=["<",">"],e[4096]=["[","]"],e);function r(e,t,n,r){var n=nt.isArray(n)?n:nt.getSourceFilesToEmit(e,n),i=e.getCompilerOptions();if(i.outFile||i.out)n.length&&t({jsFilePath:o=i.outFile||i.out,sourceMapFilePath:l(o,i),declarationFilePath:i.declaration?nt.removeFileExtension(o)+".d.ts":""},nt.createBundle(n),r);else for(var a=0,s=n;a<s.length;a++){var o,c=s[a];t({jsFilePath:o=nt.getOwnEmitOutputFilePath(c,e,function(e,t){if(1===t.jsx)if(nt.isSourceFileJavaScript(e)){if(nt.fileExtensionIs(e.fileName,".jsx"))return".jsx"}else if(1===e.languageVariant)return".jsx";return".js"}(c,i)),sourceMapFilePath:l(o,i),declarationFilePath:nt.isSourceFileJavaScript(c)||!r&&!i.declaration?void 0:nt.getDeclarationEmitOutputFilePath(c,e)},c,r)}}function l(e,t){return t.sourceMap?e+".map":void 0}function i(k,e){void 0===k&&(k={});var ee,s,o,c,l,r,te,t,u=(e=void 0===e?{}:e).hasGlobalName,d=e.onEmitSourceMapOfNode,p=e.onEmitSourceMapOfToken,f=e.onEmitSourceMapOfPosition,i=e.onEmitNode,_=e.onEmitHelpers,g=e.onSetSourceFile,h=e.substituteNode,m=e.onBeforeEmitNodeArray,y=e.onAfterEmitNodeArray,v=e.onBeforeEmitToken,b=e.onAfterEmitToken,x=nt.getNewLineCharacter(k),n=nt.createCommentWriter(k,f),C=n.emitNodeWithComments,Ee=n.emitBodyWithDetachedComments,ne=n.emitTrailingCommentsOfPosition,De=n.emitLeadingCommentsOfPosition;return R(),{printNode:function(e,t,n){switch(e){case 0:nt.Debug.assert(nt.isSourceFile(t),"Expected a SourceFile node.");break;case 2:nt.Debug.assert(nt.isIdentifier(t),"Expected an Identifier node.");break;case 1:nt.Debug.assert(nt.isExpression(t),"Expected an Expression node.")}switch(t.kind){case 265:return D(t);case 266:return E(t)}return A(e,t,n,I()),P()},printFile:D,printBundle:E,writeNode:A,writeFile:w,writeBundle:N};function E(e){return N(e,I()),P()}function D(e){return w(e,I()),P()}function A(e,t,n,r){var i=te;L(r),O(e,t,n),R(),te=i}function N(e,t){var n=te;L(t),W(e),G(e),K(e);for(var r=0,i=e.sourceFiles;r<i.length;r++){var a=i[r];O(0,a,a)}R(),te=n}function w(e,t){var n=te;L(t),W(e),G(e),O(0,e,e),R(),te=n}function I(){return t=t||nt.createTextWriter(x)}function P(){var e=t.getText();return t.reset(),e}function O(e,t,n){n&&F(n),se(e,t)}function F(e){ee=e,n.setSourceFile(e),g&&g(e)}function L(e){te=e,n.setWriter(e)}function R(){s=[],o=[],c=nt.createMap(),l=[],r=0,n.reset(),L(void 0)}function re(e){e&&ie(e)}function ie(e){se(4,e)}function M(e){se(2,e)}function ae(e){se(1,e)}function se(e,t){i?i(e,t,U):U(e,t)}function U(e,t){t=Ne(e,t),C&&0!==e?C(e,t,B):B(e,t)}function B(e,t){d&&0!==e&&2!==e?d(e,t,j):j(e,t)}function j(R,e){switch(R){case 0:var t=e,n=(nt.Debug.assertNode(t,nt.isSourceFile),ye(),t.statements);return void(!Ee||0!==n.length&&nt.isPrologueDirective(n[0])&&!nt.nodeIsSynthesized(n[0])?Ke(t):Ee(t,n,Ke));case 2:return t=e,nt.Debug.assertNode(t,nt.isIdentifier),void Ie(t);case 1:return Ae(e);case 3:return ie((n=nt.cast(e,nt.isTypeParameterDeclaration)).name),he(" in "),void ie(n.constraint);case 4:var M,U,r,i,a,B,s,j,o,K,c,l,u,d,p,f,z,_,m,g,h,$,y,v,b,x,k,S,J,q,T,V,H,G,W,C,E,D,A,N,w,I,P,Q,Y,O,F=e,X=F.kind;if(nt.isKeyword(X))Je(F);else{switch(X){case 14:case 15:case 16:return we(F);case 71:return Ie(F);case 143:return(71===(Y=(Q=F).left).kind?ae:ie)(Y),he("."),void ie(Q.right);case 144:return Y=F,he("["),ae(Y.expression),void he("]");case 145:return ie((Q=F).name),le(" extends ",Q.constraint),void le(" = ",Q.default);case 146:return pe(O=F,O.decorators),ce(O,O.modifiers),re(O.dotDotDotToken),O.name&&ie(O.name),re(O.questionToken),O.parent&&273===O.parent.kind&&!O.name?ie(O.type):le(": ",O.type),void ue(" = ",O.initializer);case 147:return O=F,he("@"),void ae(O.expression);case 148:return pe(P=F,P.decorators),ce(P,P.modifiers),ie(P.name),re(P.questionToken),le(": ",P.type),void he(";");case 149:return pe(P=F,P.decorators),ce(P,P.modifiers),ie(P.name),re(P.questionToken),le(": ",P.type),ue(" = ",P.initializer),void he(";");case 150:return pe(I=F,I.decorators),ce(I,I.modifiers),ie(I.name),re(I.questionToken),_e(I,I.typeParameters),me(I,I.parameters),le(": ",I.type),void he(";");case 151:return pe(I=F,I.decorators),ce(I,I.modifiers),re(I.asteriskToken),ie(I.name),re(I.questionToken),void oe(I,Le);case 152:return ce(w=F,w.modifiers),he("constructor"),void oe(w,Le);case 153:case 154:return pe(w=F,w.decorators),ce(w,w.modifiers),he(153===w.kind?"get ":"set "),ie(w.name),void oe(w,Le);case 155:return pe(N=F,N.decorators),ce(N,N.modifiers),_e(N,N.typeParameters),me(N,N.parameters),le(": ",N.type),void he(";");case 156:return pe(N=F,N.decorators),ce(N,N.modifiers),he("new "),_e(N,N.typeParameters),me(N,N.parameters),le(": ",N.type),void he(";");case 157:return pe(A=F,A.decorators),ce(A,A.modifiers),ge(A,A.parameters,4432),le(": ",A.type),void he(";");case 158:return ie((A=F).parameterName),he(" is "),void ie(A.type);case 159:return ie((D=F).typeName),void fe(D,D.typeArguments);case 160:return _e(D=F,D.typeParameters),$e(D,D.parameters),he(" => "),void ie(D.type);case 273:return E=F,he("function"),me(E,E.parameters),he(":"),void ie(E.type);case 161:return E=F,he("new "),_e(E,E.typeParameters),me(E,E.parameters),he(" => "),void ie(E.type);case 162:return C=F,he("typeof "),void ie(C.exprName);case 163:return C=F,he("{"),W=1&nt.getEmitFlags(C)?448:65,ge(C,C.members,262144|W),void he("}");case 164:return ie(F.elementType),void he("[]");case 165:return W=F,he("["),ge(W,W.elementTypes,336),void he("]");case 166:return void ge(F,F.types,260);case 167:return void ge(F,F.types,264);case 168:return G=F,he("("),ie(G.type),void he(")");case 201:return ae((G=F).expression),void fe(G,G.typeArguments);case 169:return void he("this");case 170:return ke((H=F).operator),he(" "),void ie(H.type);case 171:return ie((H=F).objectType),he("["),ie(H.indexType),void he("]");case 172:return T=F,V=nt.getEmitFlags(T),he("{"),1&V?he(" "):(ye(),ve()),T.readonlyToken&&(ie(T.readonlyToken),he(" ")),he("["),se(3,T.typeParameter),he("]"),re(T.questionToken),he(": "),ie(T.type),he(";"),1&V?he(" "):(ye(),be()),void he("}");case 173:return void ae(F.literal);case 268:return void he("*");case 269:return void he("?");case 270:return T=F,he("?"),void ie(T.type);case 271:return V=F,he("!"),void ie(V.type);case 272:return ie(F.type),void he("=");case 274:return q=F,he("..."),void ie(q.type);case 174:return void(0===(J=(q=F).elements).length?he("{}"):(he("{"),ge(q,J,432),he("}")));case 175:return void(0===(J=F).elements.length?he("[]"):(he("["),ge(J,J.elements,304),he("]")));case 176:return ze((S=F).propertyName,": "),re(S.dotDotDotToken),ie(S.name),void ue(" = ",S.initializer);case 205:return ae((S=F).expression),void ie(S.literal);case 206:return void he(";");case 207:return xe(17,(k=F).pos,k),Pe(k,!k.multiLine&&Ye(k)),ve(),De(k.statements.end),be(),void xe(18,k.statements.end,k);case 208:return ce(k=F,k.modifiers),ie(k.declarationList),void he(";");case 209:return void he(";");case 210:return ae(F.expression),void he(";");case 211:return x=xe(90,(b=F).pos,b),he(" "),xe(19,x,b),ae(b.expression),xe(20,b.expression.end,b),de(b,b.thenStatement),void(b.elseStatement&&(qe(b),xe(82,b.thenStatement.end,b),211===b.elseStatement.kind?(he(" "),ie(b.elseStatement)):de(b,b.elseStatement)));case 212:return x=F,he("do"),de(x,x.statement),nt.isBlock(x.statement)?he(" "):qe(x),he("while ("),ae(x.expression),void he(");");case 213:return b=F,he("while ("),ae(b.expression),he(")"),void de(b,b.statement);case 214:return v=xe(88,(y=F).pos),he(" "),xe(19,v,y),Oe(y.initializer),he(";"),ue(" ",y.condition),he(";"),ue(" ",y.incrementor),he(")"),void de(y,y.statement);case 215:return y=xe(88,(v=F).pos),he(" "),xe(19,y),Oe(v.initializer),he(" in "),ae(v.expression),xe(20,v.expression.end),void de(v,v.statement);case 216:return $=xe(88,(h=F).pos),he(" "),ze(h.awaitModifier," "),xe(19,$),Oe(h.initializer),he(" of "),ae(h.expression),xe(20,h.expression.end),void de(h,h.statement);case 217:return xe(77,($=F).pos),le(" ",$.label),void he(";");case 218:return xe(72,(h=F).pos),le(" ",h.label),void he(";");case 219:return _=(z=F).pos,g=(m=z)&&nt.getParseTreeNode(m),_=xe(96,_=g&&g.kind===m.kind?nt.skipTrivia(ee.text,_):_,m),g&&g.kind===m.kind&&ne(_,!0),ue(" ",z.expression),void he(";");case 220:return g=F,he("with ("),ae(g.expression),he(")"),void de(g,g.statement);case 221:return _=xe(98,(m=F).pos),he(" "),xe(19,_),ae(m.expression),xe(20,m.expression.end),he(" "),void ie(m.caseBlock);case 222:return ie((z=F).label),he(": "),void ie(z.statement);case 223:return f=F,he("throw"),ue(" ",f.expression),void he(";");case 224:return f=F,he("try "),ie(f.tryBlock),f.catchClause&&(qe(f),ie(f.catchClause)),void(f.finallyBlock&&(qe(f),he("finally "),ie(f.finallyBlock)));case 225:return xe(78,F.pos),void he(";");case 226:return ie((p=F).name),le(": ",p.type),void ue(" = ",p.initializer);case 227:return p=F,he(nt.isLet(p)?"let ":nt.isConst(p)?"const ":"var "),void ge(p,p.declarations,272);case 228:return void Fe(F);case 229:return void Re(F);case 230:return pe(d=F,d.decorators),ce(d,d.modifiers),he("interface "),ie(d.name),_e(d,d.typeParameters),ge(d,d.heritageClauses,256),he(" {"),ge(d,d.members,65),void he("}");case 231:return pe(d=F,d.decorators),ce(d,d.modifiers),he("type "),ie(d.name),_e(d,d.typeParameters),he(" = "),ie(d.type),void he(";");case 232:return ce(L=F,L.modifiers),he("enum "),ie(L.name),Te(),he(" {"),ge(L,L.members,81),he("}"),void Ce();case 233:var L=F;ce(L,L.modifiers),512&~L.flags&&he(16&L.flags?"namespace ":"module "),ie(L.name);for(var Z=L.body;233===Z.kind;)he("."),ie(Z.name),Z=Z.body;return he(" "),void ie(Z);case 234:return u=F,Te(),he("{"),Pe(u,Ye(u)),he("}"),void Ce();case 235:return xe(17,(u=F).pos),ge(u,u.clauses,65),void xe(18,u.clauses.end);case 236:return l=F,he("export as namespace "),ie(l.name),void he(";");case 237:return ce(l=F,l.modifiers),he("import "),ie(l.name),he(" = "),(71===(l=l.moduleReference).kind?ae:ie)(l),void he(";");case 238:return ce(c=F,c.modifiers),he("import "),c.importClause&&(ie(c.importClause),he(" from ")),ae(c.moduleSpecifier),void he(";");case 239:return ie((c=F).name),c.name&&c.namedBindings&&he(", "),void ie(c.namedBindings);case 240:return K=F,he("* as "),void ie(K.name);case 241:return void Me(F);case 242:return void Ue(F);case 243:return he((K=F).isExportEquals?"export = ":"export default "),ae(K.expression),void he(";");case 244:return o=F,he("export "),o.exportClause?ie(o.exportClause):he("*"),o.moduleSpecifier&&(he(" from "),ae(o.moduleSpecifier)),void he(";");case 245:return void Me(F);case 246:return void Ue(F);case 247:return;case 248:return o=F,he("require("),ae(o.expression),void he(")");case 10:return void te.writeLiteral(Se(F,!0));case 251:return s=F,he("<"),Be(s.tagName),j=s.attributes.properties,nt.some(j)&&he(" "),s.attributes.properties&&0<s.attributes.properties.length&&ie(s.attributes),void he(">");case 252:return j=F,he("</"),Be(j.tagName),void he(">");case 253:return ie((s=F).name),void le("=",s.initializer);case 254:return void ge(F,F.properties,131328);case 255:return B=F,he("{..."),ae(B.expression),void he("}");case 256:return void((B=F).expression&&(he("{"),re(B.dotDotDotToken),ae(B.expression),he("}")));case 257:return a=F,he("case "),ae(a.expression),he(":"),void je(a,a.statements);case 258:return a=F,he("default:"),void je(a,a.statements);case 259:return i=F,he(" "),ke(i.token),he(" "),void ge(i,i.types,272);case 260:return r=xe(74,(i=F).pos),he(" "),i.variableDeclaration&&(xe(19,r),ie(i.variableDeclaration),xe(20,i.variableDeclaration.end),he(" ")),void ie(i.block);case 261:return ie((r=F).name),he(": "),r=r.initializer,ne&&0==(512&nt.getEmitFlags(r))&&(U=nt.getCommentRange(r),ne(U.pos)),void ae(r);case 262:return ie((U=F).name),void(U.objectAssignmentInitializer&&(he(" = "),ae(U.objectAssignmentInitializer)));case 263:return void((M=F).expression&&(he("..."),ae(M.expression)));case 264:return ie((M=F).name),void ue(" = ",M.initializer)}if(nt.isExpression(F))return Ae(Ne(1,F));nt.isToken(F)&&Je(F)}return}}function Ae(e){switch(e.kind){case 8:return void we(e);case 9:case 12:case 13:return we(e);case 71:return Ie(e);case 86:case 95:case 97:case 101:case 99:case 91:return void Je(e);case 177:return void Y(e,e.elements,4466|(e.multiLine?32768:0));case 178:return y=e,(v=65536&nt.getEmitFlags(y))&&ve(),b=y.multiLine?32768:0,x=1<=ee.languageVersion?32:0,ge(y,y.properties,263122|x|b),void(v&&be());case 179:return y=e,b=x=!1,131072&nt.getEmitFlags(y)||(g=y.expression.end,v=nt.skipTrivia(ee.text,y.expression.end)+1,(m=nt.createToken(23)).pos=g,m.end=v,x=T(y,y.expression,m),b=T(y,m,y.name)),ae(y.expression),S(x),he(!x&&(g=y.expression,g=nt.skipPartiallyEmittedExpressions(g),nt.isNumericLiteral(g)?(h=Ze(g),!g.numericLiteralFlags&&!nt.stringContains(h,nt.tokenToString(23))):nt.isPropertyAccessExpression(g)||nt.isElementAccessExpression(g)?"number"==typeof(h=nt.getConstantValue(g))&&isFinite(h)&&Math.floor(h)===h&&k.removeComments:void 0)?"..":"."),S(b),ie(y.name),void Ve(x,b);case 180:return ae((m=e).expression),he("["),ae(m.argumentExpression),void he("]");case 181:return ae((h=e).expression),fe(h,h.typeArguments),void Y(h,h.arguments,1296);case 182:return _=e,he("new "),ae(_.expression),fe(_,_.typeArguments),void Y(_,_.arguments,9488);case 183:return ae((_=e).tag),he(" "),void ae(_.template);case 184:return f=e,he("<"),ie(f.type),he(">"),void ae(f.expression);case 185:return f=e,he("("),ae(f.expression),void he(")");case 186:return void Fe(e);case 187:return pe(p=e,p.decorators),ce(p,p.modifiers),void oe(p,z);case 188:return p=e,he("delete "),void ae(p.expression);case 189:return d=e,he("typeof "),void ae(d.expression);case 190:return d=e,he("void "),void ae(d.expression);case 191:return u=e,he("await "),void ae(u.expression);case 192:return ke((u=e).operator),192!==(l=u.operand).kind||(37!==u.operator||37!==l.operator&&43!==l.operator)&&(38!==u.operator||38!==l.operator&&44!==l.operator)||he(" "),void ae(u.operand);case 193:return ae((l=e).operand),void ke(l.operator);case 194:return s=26!==(a=e).operatorToken.kind,o=T(a,a.left,a.operatorToken),c=T(a,a.operatorToken,a.right),ae(a.left),S(o,s?" ":void 0),De(a.operatorToken.pos),Je(a.operatorToken),ne(a.operatorToken.end,!0),S(c," "),ae(a.right),void Ve(o,c);case 195:return a=T(s=e,s.condition,s.questionToken),o=T(s,s.questionToken,s.whenTrue),c=T(s,s.whenTrue,s.colonToken),i=T(s,s.colonToken,s.whenFalse),ae(s.condition),S(a," "),ie(s.questionToken),S(o," "),ae(s.whenTrue),Ve(a,o),S(c," "),ie(s.colonToken),S(i," "),ae(s.whenFalse),void Ve(c,i);case 196:return ie((i=e).head),void ge(i,i.templateSpans,131072);case 197:return r=e,he("yield"),ie(r.asteriskToken),void ue(" ",r.expression);case 198:return r=e,he("..."),void ae(r.expression);case 199:return void Re(e);case 200:return;case 202:return ae((n=e).expression),void(n.type&&(he(" as "),ie(n.type)));case 203:return ae(e.expression),void he("!");case 204:return xe((n=e).keywordToken,n.pos),he("."),void ie(n.name);case 249:return ie((t=e).openingElement),ge(t,t.children,131072),void ie(t.closingElement);case 250:return t=e,he("<"),Be(t.tagName),he(" "),t.attributes.properties&&0<t.attributes.properties.length&&ie(t.attributes),void he("/>");case 288:return void ae(e.expression);case 289:return void Y(e,e.elements,272)}var t,n,r,i,a,s,o,c,l,u,d,p,f,_,m,g,h,y,v,b,x}function Ne(e,t){return t&&h&&h(e,t)||t}function K(e){_&&_(e,Z)}function we(e){var t=Ze(e);!k.sourceMap&&!k.inlineSourceMap||9!==e.kind&&!nt.isTemplateLiteralKind(e.kind)?he(t):te.writeLiteral(t)}function Ie(e){he(Se(e,!1)),fe(e,e.typeArguments)}function z(e){_e(e,e.typeParameters),$e(e,e.parameters),le(": ",e.type),he(" "),ie(e.equalsGreaterThanToken)}function Pe(e,t){t=t||1&nt.getEmitFlags(e)?384:65;ge(e,e.statements,t)}function Oe(e){void 0!==e&&(227===e.kind?ie:ae)(e)}function Fe(e){pe(e,e.decorators),ce(e,e.modifiers),he("function"),re(e.asteriskToken),he(" "),M(e.name),oe(e,Le)}function $(e,t){J(t)}function oe(e,t){var n,r=e.body;r?nt.isBlock(r)?((n=65536&nt.getEmitFlags(e))&&ve(),524288&nt.getEmitFlags(e)?(t(e),i?i(4,r,$):J(r)):(Te(),t(e),i?i(4,r,$):J(r),Ce()),n&&be()):(t(e),he(" "),ae(r)):(t(e),he(";"))}function Le(e){_e(e,e.typeParameters),me(e,e.parameters),le(": ",e.type)}function J(e){he(" {"),ve();var t=function(e){if(1&nt.getEmitFlags(e))return 1;if(!e.multiLine&&(nt.nodeIsSynthesized(e)||nt.rangeIsOnSingleLine(e,ee))&&!He(e,e.statements,2)&&!We(e,e.statements,2)){for(var t,n=0,r=e.statements;n<r.length;n++){var i=r[n];if(Ge(t,i,2))return;t=i}return 1}}(e)?q:V;Ee?Ee(e,e.statements,t):t(e),be(),xe(18,e.statements.end,e)}function q(e){V(e,!0)}function V(e,t){var n=H(e.statements,!0),r=te.getTextPos();K(e),0===n&&r===te.getTextPos()&&t?(be(),ge(e,e.statements,384),ve()):ge(e,e.statements,1,n)}function Re(e){pe(e,e.decorators),ce(e,e.modifiers),he("class"),Q(" ",e.name,M);var t=65536&nt.getEmitFlags(e);t&&ve(),_e(e,e.typeParameters),ge(e,e.heritageClauses,256),Te(),he(" {"),ge(e,e.members,65),he("}"),Ce(),t&&be()}function Me(e){he("{"),ge(e,e.elements,432),he("}")}function Ue(e){e.propertyName&&(ie(e.propertyName),he(" as ")),ie(e.name)}function Be(e){(71===e.kind?ae:ie)(e)}function je(e,t){var n=1===t.length&&(nt.nodeIsSynthesized(e)||nt.nodeIsSynthesized(t[0])||nt.rangeStartPositionsAreOnSameLine(e,t[0],ee)),r=(0<t.length&&ne(t.pos),81985);n&&(he(" "),r&=-66),ge(e,t,r)}function Ke(e){var t=e.statements,n=(Te(),K(e),nt.findIndex(t,function(e){return!nt.isPrologueDirective(e)}));ge(e,t,1,-1===n?t.length:n),Ce()}function H(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(!nt.isPrologueDirective(i))return r;n&&n.has(i.expression.text)||((t||0<r)&&ye(),ie(i),!n)||n.set(i.expression.text,!0)}return e.length}function G(e){if(nt.isSourceFile(e))F(e),H(e.statements);else for(var t=nt.createMap(),n=0,r=e.sourceFiles;n<r.length;n++){var i=r[n];F(i),H(i.statements,!0,t)}}function W(e){var t;if(nt.isSourceFile(e))return(t=nt.getShebang(e.text))?(he(t),ye(),1):void 0;for(var n=0,r=e.sourceFiles;n<r.length&&!W(r[n]);n++);}function ce(e,t){t&&t.length&&(ge(e,t,131328),he(" "))}function le(e,t){Q(e,t,ie)}function ue(e,t){Q(e,t,ae)}function Q(e,t,n){t&&(he(e),n(t))}function ze(e,t){e&&(ie(e),he(t))}function de(e,t){nt.isBlock(t)||1&nt.getEmitFlags(e)?(he(" "),ie(t)):(ye(),ve(),ie(t),be())}function pe(e,t){ge(e,t,24577)}function fe(e,t){ge(e,t,26960)}function _e(e,t){ge(e,t,26960)}function me(e,t){ge(e,t,1360)}function $e(e,t){var n,r;n=e,!(r=nt.singleOrUndefined(t))||r.pos!==n.pos||nt.isArrowFunction(n)&&n.type||nt.some(n.decorators)||nt.some(n.modifiers)||nt.some(n.typeParameters)||nt.some(r.decorators)||nt.some(r.modifiers)||r.dotDotDotToken||r.questionToken||r.type||r.initializer||!nt.isIdentifier(r.name)?me(e,t):ge(e,t,336)}function ge(e,t,n,r,i){X(ie,e,t,n,r,i)}function Y(e,t,n,r,i){X(ae,e,t,n,r,i)}function X(e,t,n,r,i,a){void 0===i&&(i=0),void 0===a&&(a=n?n.length-i:0);var s=void 0===n;if(!(s&&8192&r)){s=s||i>=n.length||0===a;if(s&&16384&r)return m&&m(n),y&&y(n);if(7680&r&&he(it[7680&r][0]),m&&m(n),s)1&r?ye():128&r&&!(262144&r)&&he(" ");else{var o=0==(131072&r),c=o;He(t,n,r)?(ye(),c=!1):128&r&&he(" "),64&r&&ve();for(var l=void 0,u=void 0,d=rt[28&r],p=0;p<a;p++){var f,_=n[i+p];l&&(d&&l.end!==t.end&&De(l.end),he(d),Ge(l,_,r)?(0==(67&r)&&(ve(),u=!0),ye(),c=!1):l&&256&r&&he(" ")),c?ne&&(f=nt.getCommentRange(_),ne(f.pos)):c=o,e(_),u&&(be(),u=!1),l=_}s=32&r&&n.hasTrailingComma;16&r&&s&&he(","),!l||!d||l.end===t.end||1024&nt.getEmitFlags(l)||De(l.end),64&r&&be(),We(t,n,r)?ye():128&r&&he(" ")}y&&y(n),7680&r&&he(it[7680&r][1])}}function he(e){te.write(e)}function ye(){te.writeLine()}function ve(){te.increaseIndent()}function be(){te.decreaseIndent()}function xe(e,t,n){return p?p(n,e,t,ke):ke(e,t)}function Je(e){v&&v(e),he(nt.tokenToString(e.kind)),b&&b(e)}function ke(e,t){e=nt.tokenToString(e);return he(e),t<0?t:t+e.length}function qe(e){1&nt.getEmitFlags(e)?he(" "):ye()}function Z(e){for(var a=e.split(/\r\n?|\n/g),t=function(){for(var e,t=0,n=a;t<n.length;t++)for(var r=n[t],i=0;i<r.length&&(void 0===e||i<e);i++)if(!nt.isWhiteSpaceLike(r.charCodeAt(i))&&(void 0===e||i<e)){e=i;break}return e}(),n=0;n<a.length;n++){var r=t?a[n].slice(t):a[n];r.length&&(ye(),he(r),ye())}}function S(e,t){e?(ve(),ye()):t&&he(t)}function Ve(e,t){e&&be(),t&&be()}function He(e,t,n){return 1&n||2&n&&(32768&n||(void 0===(t=t[0])?!nt.rangeIsOnSingleLine(e,ee):nt.positionIsSynthesized(e.pos)||nt.nodeIsSynthesized(t)?Qe(t,n):!nt.rangeStartPositionsAreOnSameLine(e,t,ee)))}function Ge(e,t,n){return 1&n||(2&n?void 0!==e&&void 0!==t&&(nt.nodeIsSynthesized(e)||nt.nodeIsSynthesized(t)?Qe(e,n)||Qe(t,n):!nt.rangeEndIsOnSameLineAsRangeStart(e,t,ee)):t.startsOnNewLine)}function We(e,t,n){return 1&n?0==(65536&n):2&n&&(32768&n||(void 0===(t=nt.lastOrUndefined(t))?!nt.rangeIsOnSingleLine(e,ee):nt.positionIsSynthesized(e.pos)||nt.nodeIsSynthesized(t)?Qe(t,n):!nt.rangeEndPositionsAreOnSameLine(e,t,ee)))}function Qe(e,t){return!nt.nodeIsSynthesized(e)||void 0===(e=e.startsOnNewLine)?0!=(32768&t):e}function T(e,t,n){return e=Xe(e),t=Xe(t),!!(n=Xe(n)).startsOnNewLine||!(nt.nodeIsSynthesized(e)||nt.nodeIsSynthesized(t)||nt.nodeIsSynthesized(n)||nt.rangeEndIsOnSameLineAsRangeStart(t,n,ee))}function Ye(e){return 0===e.statements.length&&nt.rangeEndIsOnSameLineAsRangeStart(e,e,ee)}function Xe(e){for(;185===e.kind&&nt.nodeIsSynthesized(e);)e=e.expression;return e}function Se(e,t){return nt.isGeneratedIdentifier(e)?4===(r=e).autoGenerateKind?function t(e){var n=nt.getNodeId(e);return s[n]||(s[n]=function(e){switch(e.kind){case 71:return a(Se(e));case 233:case 232:return function(e){var t=Se(e.name);return function(e,t){for(var n=t;nt.isNodeDescendantOf(n,t);n=n.nextContainer)if(n.locals){var r=n.locals.get(nt.escapeLeadingUnderscores(e));if(r&&3253183&r.flags)return}return 1}(t,e)?t:a(t)}(e);case 238:case 244:return function(e){e=nt.getExternalModuleName(e);return a(nt.isStringLiteral(e)?nt.makeIdentifierFromModuleName(e.text):"module")}(e);case 228:case 229:case 243:return a("default");case 199:return a("class");case 151:case 153:case 154:return function(e){return nt.isIdentifier(e.name)?t(e.name):tt(0)}(e);default:return tt(0)}}(e))}(function(){for(var e=r.autoGenerateId,t=r,n=t.original;n&&(t=n,!nt.isIdentifier(t)||4!==t.autoGenerateKind||t.autoGenerateId===e);)n=t.original;return t}()):(n=r.autoGenerateId,o[n]||(o[n]=function(e){switch(e.autoGenerateKind){case 1:return tt(0);case 2:return tt(268435456);case 3:return a(nt.idText(e))}nt.Debug.fail("Unsupported GeneratedIdentifierKind.")}(r))):!nt.isIdentifier(e)||!nt.nodeIsSynthesized(e)&&e.parent?9===e.kind&&e.textSourceNode?Se(e.textSourceNode,t):!nt.isLiteralExpression(e)||!nt.nodeIsSynthesized(e)&&e.parent?nt.getSourceTextOfNodeFromSourceFile(ee,e,t):e.text:nt.idText(e);var r,n}function Ze(e){var t;return 9===e.kind&&e.textSourceNode?(t=e.textSourceNode,nt.isIdentifier(t)?16777216&nt.getEmitFlags(e)?'"'+nt.escapeString(Se(t))+'"':'"'+nt.escapeNonAsciiString(Se(t))+'"':Ze(t)):nt.getLiteralText(e,ee)}function Te(){l.push(r),r=0}function Ce(){r=l.pop()}function et(e){return!(u&&u(e)||ee.identifiers.has(e)||c.has(e))}function tt(e){if(e&&!(r&e)&&et(t=268435456===e?"_i":"_n"))return r|=e,t;for(;;){var t,n=268435455&r;if(r++,8!=n&&13!=n&&et(t=n<26?"_"+String.fromCharCode(97+n):"_"+(n-26)))return t}}function a(e){95!==e.charCodeAt(e.length-1)&&(e+="_");for(var t=1;;){var n=e+t;if(et(n))return c.set(n,!0),n;t++}}}nt.forEachEmittedFile=r,nt.emitFiles=function(l,u,e,d,t){var f,_,m,g=u.getCompilerOptions(),h=nt.getEmitModuleKind(g),p=g.sourceMap||g.inlineSourceMap?[]:void 0,y=g.listEmittedFiles?[]:void 0,v=nt.createDiagnosticCollection(),n=u.getNewLine(),b=nt.createTextWriter(n),x=nt.createSourceMapWriter(u,b),k=!1,n=nt.getSourceFilesToEmit(u,e),e=nt.transformNodes(l,u,g,n,t,!1),S=i(g,{hasGlobalName:l.hasGlobalName,onEmitNode:e.emitNodeWithNotification,substituteNode:e.substituteNode,onEmitSourceMapOfNode:x.emitNodeWithSourceMap,onEmitSourceMapOfToken:x.emitTokenWithSourceMap,onEmitSourceMapOfPosition:x.emitPos,onEmitHelpers:function(e,t){var n=!1,r=266===e.kind?e:void 0;if(!r||h!==nt.ModuleKind.None){for(var i=r?r.sourceFiles.length:1,a=0;a<i;a++){var s=r?r.sourceFiles[a]:e,o=nt.isSourceFile(s)?s:f,c=g.noEmitHelpers||void 0!==nt.getExternalHelpersModuleName(o),l=nt.isSourceFile(s)&&!m,o=nt.getEmitHelpers(s);if(o)for(var u=0,d=nt.stableSort(o,nt.compareEmitHelpers);u<d.length;u++){var p=d[u];if(p.scoped){if(r)continue}else{if(c)continue;if(l){if(_.get(p.name))continue;_.set(p.name,!0)}}t(p.text),n=!0}}return n}},onSetSourceFile:function(e){f=e,x.setSourceFile(e)}});return nt.performance.mark("beforePrint"),r(u,function(e,t){var n,r,i,a,s,o=e.jsFilePath,c=e.sourceMapFilePath,e=e.declarationFilePath;u.isEmitBlocked(o)||g.noEmit?k=!0:d||(n=o,r=c,i=266===t.kind?t:void 0,s=265===t.kind?t:void 0,a=i?i.sourceFiles:[s],x.initialize(n,r,t),i?(_=nt.createMap(),m=!1,S.writeBundle(i,b)):(m=!0,S.writeFile(s,b)),b.writeLine(),(i=x.getSourceMappingURL())&&b.write("//# sourceMappingURL="+i),g.sourceMap&&!g.inlineSourceMap&&nt.writeFile(u,v,r,x.getText(),!1,a),p&&p.push(x.getSourceMapData()),nt.writeFile(u,v,n,b.getText(),g.emitBOM,a),x.reset(),b.reset(),_=f=void 0,m=!1),!(k=e?nt.writeDeclarationFile(e,266===(s=t).kind?nt.updateBundle(s,nt.sameMap(s.sourceFiles,nt.getOriginalSourceFile)):nt.getOriginalSourceFile(s),u,l,v,d)||k:k)&&y&&(d||y.push(o),c&&y.push(c),e)&&y.push(e)},e.transformed,d),nt.performance.measure("printTime","beforePrint"),e.dispose(),{emitSkipped:k,diagnostics:v.getDiagnostics(),emittedFiles:y,sourceMaps:p}},nt.createPrinter=i,(e={None:0,0:"None",SingleLine:0})[0]="SingleLine",e[e.MultiLine=1]="MultiLine",e[e.PreserveLines=2]="PreserveLines",e[e.LinesMask=3]="LinesMask",e[e.NotDelimited=0]="NotDelimited",e[e.BarDelimited=4]="BarDelimited",e[e.AmpersandDelimited=8]="AmpersandDelimited",e[e.CommaDelimited=16]="CommaDelimited",e[e.DelimitersMask=28]="DelimitersMask",e[e.AllowTrailingComma=32]="AllowTrailingComma",e[e.Indented=64]="Indented",e[e.SpaceBetweenBraces=128]="SpaceBetweenBraces",e[e.SpaceBetweenSiblings=256]="SpaceBetweenSiblings",e[e.Braces=512]="Braces",e[e.Parenthesis=1024]="Parenthesis",e[e.AngleBrackets=2048]="AngleBrackets",e[e.SquareBrackets=4096]="SquareBrackets",e[e.BracketsMask=7680]="BracketsMask",e[e.OptionalIfUndefined=8192]="OptionalIfUndefined",e[e.OptionalIfEmpty=16384]="OptionalIfEmpty",e[e.Optional=24576]="Optional",e[e.PreferNewLine=32768]="PreferNewLine",e[e.NoTrailingNewLine=65536]="NoTrailingNewLine",e[e.NoInterveningComments=131072]="NoInterveningComments",e[e.NoSpaceIfEmpty=262144]="NoSpaceIfEmpty",e[e.SingleElement=524288]="SingleElement",e[e.Modifiers=131328]="Modifiers",e[e.HeritageClauses=256]="HeritageClauses",e[e.SingleLineTypeLiteralMembers=448]="SingleLineTypeLiteralMembers",e[e.MultiLineTypeLiteralMembers=65]="MultiLineTypeLiteralMembers",e[e.TupleTypeElements=336]="TupleTypeElements",e[e.UnionTypeConstituents=260]="UnionTypeConstituents",e[e.IntersectionTypeConstituents=264]="IntersectionTypeConstituents",e[e.ObjectBindingPatternElements=432]="ObjectBindingPatternElements",e[e.ArrayBindingPatternElements=304]="ArrayBindingPatternElements",e[e.ObjectLiteralExpressionProperties=263122]="ObjectLiteralExpressionProperties",e[e.ArrayLiteralExpressionElements=4466]="ArrayLiteralExpressionElements",e[e.CommaListElements=272]="CommaListElements",e[e.CallExpressionArguments=1296]="CallExpressionArguments",e[e.NewExpressionArguments=9488]="NewExpressionArguments",e[e.TemplateExpressionSpans=131072]="TemplateExpressionSpans",e[e.SingleLineBlockStatements=384]="SingleLineBlockStatements",e[e.MultiLineBlockStatements=65]="MultiLineBlockStatements",e[e.VariableDeclarationList=272]="VariableDeclarationList",e[e.SingleLineFunctionBodyStatements=384]="SingleLineFunctionBodyStatements",e[e.MultiLineFunctionBodyStatements=1]="MultiLineFunctionBodyStatements",e[e.ClassHeritageClauses=256]="ClassHeritageClauses",e[e.ClassMembers=65]="ClassMembers",e[e.InterfaceMembers=65]="InterfaceMembers",e[e.EnumMembers=81]="EnumMembers",e[e.CaseBlockClauses=65]="CaseBlockClauses",e[e.NamedImportsOrExportsElements=432]="NamedImportsOrExportsElements",e[e.JsxElementChildren=131072]="JsxElementChildren",e[e.JsxElementAttributes=131328]="JsxElementAttributes",e[e.CaseOrDefaultClauseStatements=81985]="CaseOrDefaultClauseStatements",e[e.HeritageClauseTypes=272]="HeritageClauseTypes",e[e.SourceFileStatements=65537]="SourceFileStatements",e[e.Decorators=24577]="Decorators",e[e.TypeArguments=26960]="TypeArguments",e[e.TypeParameters=26960]="TypeParameters",e[e.Parameters=1360]="Parameters",e[e.IndexSignatureParameters=4432]="IndexSignatureParameters"}(ts=ts||{}),function(v){function b(e,t,n,r,i){var a=[],e=e.emit(t,function(e,t,n){a.push({name:e,writeByteOrderMark:n,text:t})},r,n,i);return{outputFiles:a,emitSkipped:e.emitSkipped}}v.getFileEmitOutput=b,v.createBuilder=function(p){var t,c,a,s=v.createMap(),d=v.createMap(),f=v.createMap(),l=v.createMap();return{updateProgram:function(e){a&&n(e)},getFilesAffectedBy:o,emitChangedFiles:function(n,r){m(n);var i,a,e=n.getCompilerOptions();return f.size?e.outFile||e.out?(v.Debug.assert(0===d.size),f.clear(),[n.emit(void 0,r)]):(a=v.createMap(),f.forEach(function(e,t){o(n,t).forEach(function(e){d.delete(e.path),a.has(e.path)||(a.set(e.path,!0),(i=i||[]).push(n.emit(e,r)))})}),f.clear(),i||v.emptyArray):v.emptyArray},getSemanticDiagnostics:function(e,t){m(e),v.Debug.assert(0===f.size);var n=e.getCompilerOptions();if(n.outFile||n.out)return v.Debug.assert(0===d.size),e.getSemanticDiagnostics(void 0,t);for(var r,i,a,s,o=0,c=e.getSourceFiles();o<c.length;o++)var l=c[o],u=v.addRange(u,(r=e,i=t,s=a=void 0,a=(l=l).path,(s=d.get(a))||(s=r.getSemanticDiagnostics(l,i),d.set(a,s),s)));return u||v.emptyArray},clear:function(){a=t=void 0,s.clear(),d.clear(),f.clear(),l.clear()}};function n(r){var i,e=r.getCompilerOptions().module!==v.ModuleKind.None;function o(n){return v.mapDefinedIter(i.entries(),function(e){var t=e[0];return e[1].has(n)?t:void 0})}t!==e&&(a=(t=e)?(i=v.createMap(),{onAddSourceFile:function(e,t){e=h(e,t);e&&i.set(t.path,e)},onRemoveSourceFile:function(n){i.forEach(function(e,t){e.has(n)&&s.get(t)&&u(t)}),i.delete(n)},onUpdateSourceFile:function(e,t){e=h(e,t);e?i.set(t.path,e):i.delete(t.path)},onUpdateSourceFileWithSameVersion:function(e,t){var n,e=h(e,t);return e?(n=i.get(t.path),i.set(t.path,e),!n||n.size!==e.size||v.forEachEntry(e,function(e,t){return!n.delete(t)})||!!n.size):i.delete(t.path)},getFilesAffectedByUpdatedShape:function(e,r){if(!v.isExternalModule(r)&&!function(){for(var e=0,t=r.statements;e<t.length;e++){var n=t[e];if(!v.isModuleWithStringLiteralName(n))return}return 1}())return y(e,r);var t=e.getCompilerOptions();if(t&&(t.isolatedModules||t.out||t.outFile))return[r];var n=v.createMap(),t=r.path;n.set(t,r);for(var i=o(t);0<i.length;){var a,s=i.pop();n.has(s)||(a=e.getSourceFileByPath(s),n.set(s,a),a&&g(e,a)&&i.push.apply(i,o(s)))}return v.flatMapIter(n.values(),function(e){return e})}}):{onAddSourceFile:v.noop,onRemoveSourceFile:v.noop,onUpdateSourceFile:v.noop,onUpdateSourceFileWithSameVersion:v.returnFalse,getFilesAffectedByUpdatedShape:function(e,t){var n=e.getCompilerOptions();return n&&(n.out||n.outFile)?[t]:y(e,t)}},s.clear(),d.clear()),l.clear(),c=void 0,v.mutateMap(s,v.arrayToMap(r.getSourceFiles(),function(e){return e.path}),{createNewValue:function(e,t){return n=r,u((t=t).path),a.onAddSourceFile(n,t),{version:t.version,signature:void 0};var n},onDeleteValue:_,onExistingValue:function(e,t){var n;n=r,t=t,(e=e).version!==t.version?(u(t.path),e.version=t.version,a.onUpdateSourceFile(n,t)):a.onUpdateSourceFileWithSameVersion(n,t)&&u(t.path)}})}function u(e){f.set(e,!0),d.delete(e)}function _(e,t){f.delete(t),d.delete(t),a.onRemoveSourceFile(t)}function m(e){a||n(e)}function o(e,t){m(e);t=e.getSourceFileByPath(t);return t?g(e,t)?a.getFilesAffectedByUpdatedShape(e,t):[t]:v.emptyArray}function g(e,t){var n,r,i;if(v.Debug.assert(!!t),!l.has(t.path))return l.set(t.path,!0),n=s.get(t.path),v.Debug.assert(!!n),i=n.signature,t.isDeclarationFile?(r=t.version,n.signature=r):(e=b(e,t,!0)).outputFiles&&0<e.outputFiles.length?(r=p.computeHash(e.outputFiles[0].text),n.signature=r):r=i,!i||r!==i}function h(e,t){var n;if(t.imports&&0<t.imports.length)for(var r=e.getTypeChecker(),i=0,a=t.imports;i<a.length;i++){var s=a[i],s=r.getSymbolAtLocation(s);s&&s.declarations&&s.declarations[0]&&(s=v.getSourceFileOfNode(s.declarations[0]))&&d(s.path)}var o=v.getDirectoryPath(t.path);if(t.referencedFiles&&0<t.referencedFiles.length)for(var c=0,l=t.referencedFiles;c<l.length;c++){var u=l[c];d(v.toPath(u.fileName,o,p.getCanonicalFileName))}return t.resolvedTypeReferenceDirectiveNames&&t.resolvedTypeReferenceDirectiveNames.forEach(function(e){e&&(e=e.resolvedFileName,d(v.toPath(e,o,p.getCanonicalFileName)))}),n;function d(e){(n=n||v.createMap()).set(e,!0)}}function y(t,e){if(c)return c;var n;s(e);for(var r=0,i=t.getSourceFiles();r<i.length;r++){var a=i[r];a!==e&&s(a)}return c=n||v.emptyArray;function s(e){t.isSourceFileDefaultLibrary(e)||(n=n||[]).push(e)}}}}(ts=ts||{}),function(Ge){var We=/(^\s*$)|(^\s*\/\/\/?\s*(@ts-ignore)?)/;function Qe(e,t){t=Ge.getDirectoryPath(t),t=Ge.isRootedDiskPath(e)?e:Ge.combinePaths(t,e);return Ge.normalizePath(t)}function Ye(e,i,a){var s;return Ge.forEach(e,function(e){var t=Ge.getNormalizedPathComponents(e,i);if(t.pop(),s){for(var n=Math.min(s.length,t.length),r=0;r<n;r++)if(a(s[r])!==a(t[r])){if(0===r)return!0;s.length=r;break}t.length<s.length&&(s.length=t.length)}else s=t})?"":s?Ge.getNormalizedPathFromPathComponents(s):i}function Xe(i,a){var s,o=Ge.createMap();function t(){return Ge.getDirectoryPath(Ge.normalizePath(Ge.sys.getExecutingFilePath()))}var n=Ge.getNewLineCharacter(i),e=Ge.sys.realpath&&function(e){return Ge.sys.realpath(e)};return{getSourceFile:function(e,t,n){var r;try{Ge.performance.mark("beforeIORead"),r=Ge.sys.readFile(e,i.charset),Ge.performance.mark("afterIORead"),Ge.performance.measure("I/O Read","beforeIORead","afterIORead")}catch(e){n&&n(e.message),r=""}return void 0!==r?Ge.createSourceFile(e,r,t,a):void 0},getDefaultLibLocation:t,getDefaultLibFileName:function(e){return Ge.combinePaths(t(),Ge.getDefaultLibFileName(e))},writeFile:function(e,t,n,r){try{Ge.performance.mark("beforeIOWrite"),function e(t){var n;t.length>Ge.getRootLength(t)&&(n=t,!(o.has(n)||Ge.sys.directoryExists(n)&&(o.set(n,!0),1)))&&(e(Ge.getDirectoryPath(t)),Ge.sys.createDirectory(t))}(Ge.getDirectoryPath(Ge.normalizePath(e))),Ge.isWatchSet(i)&&Ge.sys.createHash&&Ge.sys.getModifiedTime?function(e,t,n){s=s||Ge.createMap();var r=Ge.sys.createHash(t),i=Ge.sys.getModifiedTime(e);if(i){var a=s.get(e);if(a&&a.byteOrderMark===n&&a.hash===r&&a.mtime.getTime()===i.getTime())return}Ge.sys.writeFile(e,t,n);a=Ge.sys.getModifiedTime(e);s.set(e,{hash:r,byteOrderMark:n,mtime:a})}(e,t,n):Ge.sys.writeFile(e,t,n),Ge.performance.mark("afterIOWrite"),Ge.performance.measure("I/O Write","beforeIOWrite","afterIOWrite")}catch(e){r&&r(e.message)}},getCurrentDirectory:Ge.memoize(function(){return Ge.sys.getCurrentDirectory()}),useCaseSensitiveFileNames:function(){return Ge.sys.useCaseSensitiveFileNames},getCanonicalFileName:function(e){return Ge.sys.useCaseSensitiveFileNames?e:e.toLowerCase()},getNewLine:function(){return n},fileExists:function(e){return Ge.sys.fileExists(e)},readFile:function(e){return Ge.sys.readFile(e)},trace:function(e){return Ge.sys.write(e+n)},directoryExists:function(e){return Ge.sys.directoryExists(e)},getEnvironmentVariable:function(e){return Ge.sys.getEnvironmentVariable?Ge.sys.getEnvironmentVariable(e):""},getDirectories:function(e){return Ge.sys.getDirectories(e)},realpath:e}}function a(e,t){var n,r,i=Ge.DiagnosticCategory[e.category].toLowerCase()+" TS"+e.code+": "+T(e.messageText,t.getNewLine())+t.getNewLine();return e.file?(n=(r=Ge.getLineAndCharacterOfPosition(e.file,e.start)).line,r=r.character,e=e.file.fileName,Ge.convertToRelativePath(e,t.getCurrentDirectory(),function(e){return t.getCanonicalFileName(e)})+"("+(n+1)+","+(r+1)+"): "+i):i}Ge.findConfigFile=function(e,t,n){for(void 0===n&&(n="tsconfig.json");;){var r=Ge.combinePaths(e,n);if(t(r))return r;r=Ge.getDirectoryPath(e);if(r===e)break;e=r}},Ge.resolveTripleslashReference=Qe,Ge.computeCommonSourceDirectoryOfFilenames=Ye,Ge.createCompilerHost=Xe,Ge.getPreEmitDiagnostics=function(e,t,n){var r=e.getOptionsDiagnostics(n).concat(e.getSyntacticDiagnostics(t,n),e.getGlobalDiagnostics(n),e.getSemanticDiagnostics(t,n));return e.getCompilerOptions().declaration&&Ge.addRange(r,e.getDeclarationDiagnostics(t,n)),Ge.sortAndDeduplicateDiagnostics(r)},Ge.formatDiagnostics=function(e,t){for(var n="",r=0,i=e;r<i.length;r++)n+=a(i[r],t);return n},Ge.formatDiagnostic=a;var x="[30;47m";function k(e,t){return t+e+"[0m"}function S(e,t){for(;e.length<t;)e=" "+e;return e}function T(e,t){if(Ge.isString(e))return e;for(var n=e,r="",i=0;n;){if(i){r+=t;for(var a=0;a<i;a++)r+="  "}r+=n.messageText,i++,n=n.next}return r}function Ze(e,t,n){if(0===e.length)return[];for(var r=[],i=Ge.createMap(),a=0,s=e;a<s.length;a++){var o=s[a],c=void 0;i.has(o)?c=i.get(o):i.set(o,c=n(o,t)),r.push(c)}return r}function et(e,t){switch(t.extension){case".ts":case".d.ts":return;case".tsx":return n();case".jsx":return n()||r();case".js":return r()}function n(){return e.jsx?void 0:Ge.Diagnostics.Module_0_was_resolved_to_1_but_jsx_is_not_set}function r(){return e.allowJs||!e.noImplicitAny?void 0:Ge.Diagnostics.Could_not_find_a_declaration_file_for_module_0_1_implicitly_has_an_any_type}}function tt(e){return Ge.Debug.assert(e.every(function(e){return void 0!==e}),"A name is undefined.",function(){return JSON.stringify(e)}),e}function nt(e){for(var t=e.imports,e=e.moduleAugmentations,n=t.map(function(e){return e.text}),r=0,i=e;r<i.length;r++){var a=i[r];9===a.kind&&n.push(a.text)}return n}Ge.formatDiagnosticsWithColorAndContext=function(e,t){for(var n="",r=0,i=e;r<i.length;r++){var a=i[r],s="";if(a.file){var o=a.start,c=a.length,l=a.file,u=Ge.getLineAndCharacterOfPosition(l,o),d=u.line,p=u.character,u=Ge.getLineAndCharacterOfPosition(l,o+c),f=u.line,_=u.character,m=Ge.getLineAndCharacterOfPosition(l,l.text.length).line,o=t?Ge.convertToRelativePath(l.fileName,t.getCurrentDirectory(),function(e){return t.getCanonicalFileName(e)}):l.fileName,g=4<=f-d,h=(f+1+"").length;g&&(h=Math.max("...".length,h)),s+=t.getNewLine();for(var y=d;y<=f;y++){g&&d+1<y&&y<f-1&&(s+=k(S("...",h),x)+" "+t.getNewLine(),y=f-1);var v=Ge.getPositionOfLineAndCharacter(l,y,0),b=y<m?Ge.getPositionOfLineAndCharacter(l,y+1,0):l.text.length,v=(v=(v=l.text.slice(v,b)).replace(/\s+$/g,"")).replace("\t"," ");s=(s=(s+=k(S(y+1+"",h),x)+" ")+(v+t.getNewLine()))+k(S("",h),x)+" [91m",y===d?(b=y===f?_:void 0,s=(s+=v.slice(0,p).replace(/\S/g," "))+v.slice(p,b).replace(/./g,"~")):s+=(y===f?v.slice(0,_):v).replace(/./g,"~"),s+="[0m"}n=n+t.getNewLine()+(o+"("+(d+1)+","+(p+1)+"): ")}c=function(e){switch(e){case Ge.DiagnosticCategory.Warning:return"[93m";case Ge.DiagnosticCategory.Error:return"[91m";case Ge.DiagnosticCategory.Message:return"[93m"}}(a.category);n+=k(Ge.DiagnosticCategory[a.category].toLowerCase(),c)+" TS"+a.code+": "+T(a.messageText,t.getNewLine()),a.file&&(n=n+t.getNewLine()+s),n+=t.getNewLine()}return n},Ge.flattenDiagnosticMessageText=T,Ge.isProgramUptoDate=function(e,t,n,r,i,a,s){return!(!e||s||e.getRootFileNames().length!==t.length||e.getSourceFiles().some(function(e){return e.version!==r(e.path)||a(e.path)})||e.getMissingFilePaths().some(i)||(s=e.getCompilerOptions(),!Ge.compareDataObjects(s,n))||s.configFile&&n.configFile&&s.configFile.text!==n.configFile.text)},Ge.createProgram=function(R,k,S,T){var f,e,t,M,r,U,C=[],B={},j={},E=Ge.createMap(),D=Ge.createDiagnosticCollection(),K="number"==typeof k.maxNodeModuleJsDepth?k.maxNodeModuleJsDepth:0,m=0,g=Ge.createMap(),A=Ge.createMap();Ge.performance.mark("beforeProgram"),S=S||Xe(k);var i,z,$,N,J,w,q=k.noLib,V=Ge.memoize(function(){return S.getDefaultLibFileName(k)}),H=S.getDefaultLibLocation?S.getDefaultLibLocation():Ge.getDirectoryPath(V()),_=Ge.createDiagnosticCollection(),I=S.getCurrentDirectory(),G=Ge.getSupportedExtensions(k),W=Ge.createMap(),Q=S.hasInvalidatedResolution||Ge.returnFalse;N=S.resolveModuleNames?function(e,t,n){return S.resolveModuleNames(tt(e),t,n).map(function(e){var t;return e&&void 0===e.extension?((t=Ge.clone(e)).extension=Ge.extensionFromPath(e.resolvedFileName),t):e})}:(z=Ge.createModuleResolutionCache(I,function(e){return S.getCanonicalFileName(e)}),$=function(e,t){return Ge.resolveModuleName(e,t,k,S,z).resolvedModule},function(e,t){return Ze(tt(e),t,$)}),w=S.resolveTypeReferenceDirectives?function(e,t){return S.resolveTypeReferenceDirectives(tt(e),t)}:(J=function(e,t){return Ge.resolveTypeReferenceDirective(e,t,k,S).resolvedTypeReferenceDirective},function(e,t){return Ze(tt(e),t,J)});var P,Y=Ge.createMap(),O=Ge.createMap(),X=Ge.createMap(),F=Ge.createMap(),Z=S.useCaseSensitiveFileNames()?Ge.createMap():void 0,L=(s=k,(a=T&&T.getCompilerOptions())&&(a.target!==s.target||a.module!==s.module||a.moduleResolution!==s.moduleResolution||a.noResolve!==s.noResolve||a.jsx!==s.jsx||a.allowJs!==s.allowJs||a.disableSizeLimit!==s.disableSizeLimit||a.baseUrl!==s.baseUrl||!Ge.equalOwnProperties(a.paths,s.paths))),ee=function(){if(!T)return 0;var e=T.getCompilerOptions();if(Ge.changesAffectModuleResolution(e,k))return T.structureIsReused=0;Ge.Debug.assert(!(3&T.structureIsReused));var t=T.getRootFileNames();if(!Ge.arrayIsEqualTo(t,R))return T.structureIsReused=0;if(!Ge.arrayIsEqualTo(k.types,e.types))return T.structureIsReused=0;var n=[],r=[],i=[];if(T.structureIsReused=2,T.getMissingFilePaths().some(function(e){return S.fileExists(e)}))return T.structureIsReused=0;t=T.getSourceFiles();for(var a=Ge.createMap(),s=0,o=t;s<o.length;s++){var c=o[s];if(!(y=S.getSourceFileByPath?S.getSourceFileByPath(c.fileName,c.path,k.target,void 0,L):S.getSourceFile(c.fileName,k.target,void 0,L)))return T.structureIsReused=0;Ge.Debug.assert(!y.redirectInfo,"Host should not return a redirect source file from `getSourceFile`");var l=void 0;if(c.redirectInfo){if(y!==c.redirectInfo.unredirected)return T.structureIsReused=0;l=!1,y=c}else if(T.redirectTargetsSet.has(c.path)){if(y!==c)return T.structureIsReused=0;l=!1}else l=y!==c;y.path=c.path,r.push(y.path);var u=T.sourceFileToPackageName.get(c.path);if(void 0!==u){var d=a.get(u),p=l?1:0;if(void 0!==d&&1==p||1===d)return T.structureIsReused=0;a.set(u,p)}l?(c.hasNoDefaultLib!==y.hasNoDefaultLib&&(T.structureIsReused=1),Ge.arrayIsEqualTo(c.referencedFiles,y.referencedFiles,De)||(T.structureIsReused=1),Ne(y),Ge.arrayIsEqualTo(c.imports,y.imports,Ae)||(T.structureIsReused=1),Ge.arrayIsEqualTo(c.moduleAugmentations,y.moduleAugmentations,Ae)||(T.structureIsReused=1),(524288&c.flags)!=(524288&y.flags)&&(T.structureIsReused=1),Ge.arrayIsEqualTo(c.typeReferenceDirectives,y.typeReferenceDirectives,De)||(T.structureIsReused=1),i.push({oldFile:c,newFile:y})):Q(c.path)&&(T.structureIsReused=1,i.push({oldFile:c,newFile:y})),n.push(y)}if(2!==T.structureIsReused)return T.structureIsReused;U=i.map(function(e){return e.newFile.path});for(var f=0,_=i;f<_.length;f++){var m,g,h=_[f],y=(c=h.oldFile,h.newFile),h=Ge.getNormalizedAbsolutePath(y.fileName,I);N&&(g=ue(m=nt(y),h,y,{program:T,file:c,modifiedFilePaths:U}),Ge.hasChangesInResolutions(m,g,c.resolvedModules,Ge.moduleResolutionIsEqualTo)?(T.structureIsReused=1,y.resolvedModules=Ge.zipToMap(m,g)):y.resolvedModules=c.resolvedModules),w&&(m=Ge.map(y.typeReferenceDirectives,function(e){return e.fileName}),g=w(m,h),Ge.hasChangesInResolutions(m,g,c.resolvedTypeReferenceDirectiveNames,Ge.typeDirectiveIsEqualTo)?(T.structureIsReused=1,y.resolvedTypeReferenceDirectiveNames=Ge.zipToMap(m,g)):y.resolvedTypeReferenceDirectiveNames=c.resolvedTypeReferenceDirectiveNames)}if(2!==T.structureIsReused)return T.structureIsReused;if(S.hasChangedAutomaticTypeDirectiveNames)return T.structureIsReused=1;P=T.getMissingFilePaths();for(var v=0;v<n.length;v++)F.set(r[v],n[v]),T.isSourceFileFromExternalLibrary(T.getSourceFileByPath(r[v]))&&A.set(r[v],!0);C=n,D=T.getFileProcessingDiagnostics();for(var b=0,x=i;b<x.length;b++)D.reattachFileDiagnostics(x[b].newFile);return E=T.getResolvedTypeReferenceDirectives(),O=T.sourceFileToPackageName,X=T.redirectTargetsSet,T.structureIsReused=2}();if(2!==ee){Ge.forEach(R,function(e){return Ee(e,!1)});var n=Ge.getAutomaticTypeDirectiveNames(k,S);if(n.length)for(var a=k.configFilePath?Ge.getDirectoryPath(k.configFilePath):S.getCurrentDirectory(),s=Ge.combinePaths(a,"__inferred type names__.ts"),te=w(n,s),o=0;o<n.length;o++)Re(n[o],te[o]);q||(k.lib?Ge.forEach(k.lib,function(e){Ee(Ge.combinePaths(H,e),!0)}):Ee(V(),!0)),P=Ge.arrayFrom(F.keys(),function(e){return e}).filter(function(e){return!F.get(e)})}if(Ge.Debug.assert(!!P),z=void 0,T&&S.onReleaseOldSourceFile)for(var ne=0,re=T.getSourceFiles();ne<re.length;ne++){var ie=re[ne];me(ie.path)&&!L||S.onReleaseOldSourceFile(ie,T.getCompilerOptions())}if(T=void 0,f={getRootFileNames:function(){return R},getSourceFile:me,getSourceFileByPath:ge,getSourceFiles:function(){return C},getMissingFilePaths:function(){return P},getCompilerOptions:function(){return k},getSyntacticDiagnostics:function(e,t){return he(e,ye,t)},getOptionsDiagnostics:function(){return Ge.sortAndDeduplicateDiagnostics(Ge.concatenate(D.getGlobalDiagnostics(),Ge.concatenate(_.getGlobalDiagnostics(),k.configFile?_.getDiagnostics(k.configFile.fileName):[])))},getGlobalDiagnostics:function(){return Ge.sortAndDeduplicateDiagnostics(v().getGlobalDiagnostics().slice())},getSemanticDiagnostics:function(e,t){return he(e,ve,t)},getDeclarationDiagnostics:function(e,t){var n=f.getCompilerOptions();return!e||n.out||n.outFile?ke(e,t):he(e,Ce,t)},getTypeChecker:fe,getClassifiableNames:function(){if(!r){fe(),r=Ge.createUnderscoreEscapedMap();for(var e=0,t=C;e<t.length;e++){var n=t[e];Ge.copyEntries(n.classifiableNames,r)}}return r},getDiagnosticsProducingTypeChecker:v,getCommonSourceDirectory:le,emit:function(c,l,u,d,p){return b(function(){var e=f,t=c,n=l,r=u,i=d,a=p,s=[];if(k.noEmit)return{diagnostics:s,sourceMaps:void 0,emittedFiles:void 0,emitSkipped:!0};if(k.noEmitOnError){var o=e.getOptionsDiagnostics(r).concat(e.getSyntacticDiagnostics(t,r),e.getGlobalDiagnostics(r),e.getSemanticDiagnostics(t,r));if(0===o.length&&e.getCompilerOptions().declaration&&(s=e.getDeclarationDiagnostics(void 0,r)),0<o.length||0<s.length)return{diagnostics:Ge.concatenate(o,s),sourceMaps:void 0,emittedFiles:void 0,emitSkipped:!0}}return e=v().getEmitResolver(k.outFile||k.out?void 0:t),Ge.performance.mark("beforeEmit"),r=i?[]:Ge.getTransformers(k,a),o=Ge.emitFiles(e,de(n),t,i,r),Ge.performance.mark("afterEmit"),Ge.performance.measure("Emit","beforeEmit","afterEmit"),o})},getCurrentDirectory:function(){return I},getNodeCount:function(){return v().getNodeCount()},getIdentifierCount:function(){return v().getIdentifierCount()},getSymbolCount:function(){return v().getSymbolCount()},getTypeCount:function(){return v().getTypeCount()},getFileProcessingDiagnostics:function(){return D},getResolvedTypeReferenceDirectives:function(){return E},isSourceFileFromExternalLibrary:pe,isSourceFileDefaultLibrary:function(t){return!!t.hasNoDefaultLib||!!k.noLib&&(k.lib?Ge.forEach(k.lib,function(e){return 0===Ge.compareStrings(t.fileName,Ge.combinePaths(H,e),!S.useCaseSensitiveFileNames())}):0===Ge.compareStrings(t.fileName,V(),!S.useCaseSensitiveFileNames()))},dropDiagnosticsProducingTypeChecker:function(){t=void 0},getSourceFileFromReference:function(e,t){return we(Qe(t.fileName,e.fileName),function(e){return F.get(y(e))})},sourceFileToPackageName:O,redirectTargetsSet:X},k.isolatedModules&&(k.declaration&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"declaration","isolatedModules"),k.noEmitOnError&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"noEmitOnError","isolatedModules"),k.out&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"out","isolatedModules"),k.outFile)&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"outFile","isolatedModules"),k.inlineSourceMap&&(k.sourceMap&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"sourceMap","inlineSourceMap"),k.mapRoot)&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"mapRoot","inlineSourceMap"),k.paths&&void 0===k.baseUrl&&x(Ge.Diagnostics.Option_paths_cannot_be_used_without_specifying_baseUrl_option,"paths"),k.paths)for(var c in k.paths)if(Ge.hasProperty(k.paths,c))if(Ge.hasZeroOrOneAsteriskCharacter(c)||Ke(!0,c,Ge.Diagnostics.Pattern_0_can_have_at_most_one_Asterisk_character,c),Ge.isArray(k.paths[c])){var ae=k.paths[c].length;0===ae&&Ke(!1,c,Ge.Diagnostics.Substitutions_for_pattern_0_shouldn_t_be_an_empty_array,c);for(var l=0;l<ae;l++){var u=k.paths[c][l],se=typeof u;"string"==se?Ge.hasZeroOrOneAsteriskCharacter(u)||je(c,l,Ge.Diagnostics.Substitution_0_in_pattern_1_in_can_have_at_most_one_Asterisk_character,u,c):je(c,l,Ge.Diagnostics.Substitution_0_for_pattern_1_has_incorrect_type_expected_string_got_2,u,c,se)}}else Ke(!1,c,Ge.Diagnostics.Substitutions_for_pattern_0_should_be_an_array,c);k.sourceMap||k.inlineSourceMap||(k.inlineSources&&x(Ge.Diagnostics.Option_0_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided,"inlineSources"),k.sourceRoot&&x(Ge.Diagnostics.Option_0_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided,"sourceRoot")),k.out&&k.outFile&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"out","outFile"),k.mapRoot&&!k.sourceMap&&x(Ge.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"mapRoot","sourceMap"),k.declarationDir&&(k.declaration||x(Ge.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"declarationDir","declaration"),k.out||k.outFile)&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"declarationDir",k.out?"out":"outFile"),k.lib&&k.noLib&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"lib","noLib"),k.noImplicitUseStrict&&(void 0===k.alwaysStrict?k.strict:k.alwaysStrict)&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"noImplicitUseStrict","alwaysStrict");var d,p,oe,a=k.target||0,s=k.outFile||k.out,h=Ge.forEach(C,function(e){return Ge.isExternalModule(e)&&!e.isDeclarationFile?e:void 0});function ce(e,t){var n,r;e&&(n=y(e),F.has(n)&&(k.configFilePath||(r=Ge.chainDiagnosticMessages(void 0,Ge.Diagnostics.Adding_a_tsconfig_json_file_will_help_organize_projects_that_contain_both_TypeScript_and_JavaScript_files_Learn_more_at_https_Colon_Slash_Slashaka_ms_Slashtsconfig)),r=Ge.chainDiagnosticMessages(r,Ge.Diagnostics.Cannot_write_file_0_because_it_would_overwrite_input_file,e),He(e,Ge.createCompilerDiagnosticFromMessageChain(r))),r=S.useCaseSensitiveFileNames()?n:n.toLocaleLowerCase(),t.has(r)?He(e,Ge.createCompilerDiagnostic(Ge.Diagnostics.Cannot_write_file_0_because_it_would_be_overwritten_by_multiple_input_files,e)):t.set(r,!0))}return k.isolatedModules?(k.module===Ge.ModuleKind.None&&a<2&&x(Ge.Diagnostics.Option_isolatedModules_can_only_be_used_when_either_option_module_is_provided_or_option_target_is_ES2015_or_higher,"isolatedModules","target"),(p=Ge.forEach(C,function(e){return Ge.isExternalModule(e)||e.isDeclarationFile?void 0:e}))&&(d=Ge.getErrorSpanForNode(p,p),_.add(Ge.createFileDiagnostic(p,d.start,d.length,Ge.Diagnostics.Cannot_compile_namespaces_when_the_isolatedModules_flag_is_provided)))):h&&a<2&&k.module===Ge.ModuleKind.None&&(p=Ge.getErrorSpanForNode(h,h.externalModuleIndicator),_.add(Ge.createFileDiagnostic(h,p.start,p.length,Ge.Diagnostics.Cannot_use_imports_exports_or_module_augmentations_when_module_is_none))),s&&(k.module&&k.module!==Ge.ModuleKind.AMD&&k.module!==Ge.ModuleKind.System?x(Ge.Diagnostics.Only_amd_and_system_modules_are_supported_alongside_0,k.out?"out":"outFile","module"):void 0===k.module&&h&&(d=Ge.getErrorSpanForNode(h,h.externalModuleIndicator),_.add(Ge.createFileDiagnostic(h,d.start,d.length,Ge.Diagnostics.Cannot_compile_modules_using_option_0_unless_the_module_flag_is_amd_or_system,k.out?"out":"outFile")))),(k.outDir||k.sourceRoot||k.mapRoot)&&(p=le(),k.outDir)&&""===p&&Ge.forEach(C,function(e){return 1<Ge.getRootLength(e.fileName)})&&x(Ge.Diagnostics.Cannot_find_the_common_subdirectory_path_for_the_input_files,"outDir"),!k.noEmit&&k.allowJs&&k.declaration&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"allowJs","declaration"),k.checkJs&&!k.allowJs&&_.add(Ge.createCompilerDiagnostic(Ge.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"checkJs","allowJs")),k.emitDecoratorMetadata&&!k.experimentalDecorators&&x(Ge.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"emitDecoratorMetadata","experimentalDecorators"),k.jsxFactory?(k.reactNamespace&&x(Ge.Diagnostics.Option_0_cannot_be_specified_with_option_1,"reactNamespace","jsxFactory"),Ge.parseIsolatedEntityName(k.jsxFactory,a)||$e("jsxFactory",Ge.Diagnostics.Invalid_value_for_jsxFactory_0_is_not_a_valid_identifier_or_qualified_name,k.jsxFactory)):k.reactNamespace&&!Ge.isIdentifierText(k.reactNamespace,a)&&$e("reactNamespace",Ge.Diagnostics.Invalid_value_for_reactNamespace_0_is_not_a_valid_identifier,k.reactNamespace),k.noEmit||k.suppressOutputPathCheck||(s=de(),oe=Ge.createMap(),Ge.forEachEmittedFile(s,function(e){ce(e.jsFilePath,oe),ce(e.declarationFilePath,oe)})),Ge.performance.mark("afterProgram"),Ge.performance.measure("Program","beforeProgram","afterProgram"),f;function y(e){return Ge.toPath(e,I,Ue)}function le(){var i;return void 0===e&&(i=Ge.filter(C,function(e){return Ge.sourceFileMayBeEmitted(e,k,pe)}),e=k.rootDir&&function(e,t){var n=!0;if(e)for(var r=S.getCanonicalFileName(Ge.getNormalizedAbsolutePath(t,I)),i=0,a=e;i<a.length;i++){var s=a[i];s.isDeclarationFile||0!==S.getCanonicalFileName(Ge.getNormalizedAbsolutePath(s.fileName,I)).indexOf(r)&&(_.add(Ge.createCompilerDiagnostic(Ge.Diagnostics.File_0_is_not_under_rootDir_1_rootDir_is_expected_to_contain_all_source_files,s.fileName,k.rootDir)),n=!1)}return n}(i,k.rootDir)?Ge.getNormalizedAbsolutePath(k.rootDir,I):function(){for(var e=[],t=0,n=i;t<n.length;t++){var r=n[t];r.isDeclarationFile||e.push(r.fileName)}return Ye(e,I,Ue)}())&&e[e.length-1]!==Ge.directorySeparator&&(e+=Ge.directorySeparator),e}function ue(e,t,n,r){if(0===ee&&!n.ambientModuleNames.length)return N(e,t);var i,a,s,o=r.program&&r.program.getSourceFile(t);if(o!==n&&n.resolvedModules){for(var c=[],l=0,u=e;l<u.length;l++){var d=u[l],p=n.resolvedModules.get(d);c.push(p)}return c}for(var f={},_=0;_<e.length;_++){if(d=e[_],n===o&&!Q(o.path)){var m=o&&o.resolvedModules.get(d);if(m){Ge.isTraceEnabled(k,S)&&Ge.trace(S,Ge.Diagnostics.Reusing_resolution_of_module_0_to_file_1_from_old_program,d,t),(a=a||new Array(e.length))[_]=m,(s=s||[]).push(d);continue}}m=!1;Ge.contains(n.ambientModuleNames,d)?(m=!0,Ge.isTraceEnabled(k,S)&&Ge.trace(S,Ge.Diagnostics.Module_0_was_resolved_as_locally_declared_ambient_module_in_file_1,d,t)):m=function(e,t){var n;return!Ge.getResolvedModule(t.file,e)&&!(!(n=t.program&&t.program.getTypeChecker().tryFindAmbientModuleWithoutAugmentations(e))||!n.declarations||!(n=Ge.forEach(n.declarations,function(e){e=Ge.getSourceFileOfNode(e);return!Ge.contains(t.modifiedFilePaths,e.path)&&e}))||(Ge.isTraceEnabled(k,S)&&Ge.trace(S,Ge.Diagnostics.Module_0_was_resolved_as_ambient_module_declared_in_1_since_this_file_was_not_modified,e,n.fileName),0))}(d,r),m?(a=a||new Array(e.length))[_]=f:(i=i||[]).push(d)}var g=i&&i.length?N(i,t,s):Ge.emptyArray;if(!a)return Ge.Debug.assert(g.length===e.length),g;for(var h=0,_=0;_<a.length;_++)a[_]?a[_]===f&&(a[_]=void 0):(a[_]=g[h],h++);return Ge.Debug.assert(h===g.length),a}function de(e){return{getCanonicalFileName:Ue,getCommonSourceDirectory:f.getCommonSourceDirectory,getCompilerOptions:f.getCompilerOptions,getCurrentDirectory:function(){return I},getNewLine:function(){return S.getNewLine()},getSourceFile:f.getSourceFile,getSourceFileByPath:f.getSourceFileByPath,getSourceFiles:f.getSourceFiles,isSourceFileFromExternalLibrary:pe,writeFile:e||function(e,t,n,r,i){return S.writeFile(e,t,n,r,i)},isEmitBlocked:_e}}function pe(e){return A.get(e.path)}function v(){return t=t||Ge.createTypeChecker(f,!0)}function fe(){return M=M||Ge.createTypeChecker(f,!1)}function _e(e){return W.has(y(e))}function me(e){return ge(y(e))}function ge(e){return F.get(e)}function he(e,t,n){return e?t(e,n):Ge.sortAndDeduplicateDiagnostics(Ge.flatMap(f.getSourceFiles(),function(e){return n&&n.throwIfCancellationRequested(),t(e,n)}))}function ye(e){return Ge.isSourceFileJavaScript(e)?(e.additionalSyntacticDiagnostics||(e.additionalSyntacticDiagnostics=(s=e,b(function(){var d=[],p=s;return f(s),d;function f(e){switch(p.kind){case 146:case 149:if(p.questionToken===e)return void d.push(m(e,Ge.Diagnostics._0_can_only_be_used_in_a_ts_file,"?"));case 151:case 150:case 152:case 153:case 154:case 186:case 228:case 187:case 226:if(p.type===e)return void d.push(m(e,Ge.Diagnostics.types_can_only_be_used_in_a_ts_file))}switch(e.kind){case 237:return void d.push(m(e,Ge.Diagnostics.import_can_only_be_used_in_a_ts_file));case 243:if(e.isExportEquals)return void d.push(m(e,Ge.Diagnostics.export_can_only_be_used_in_a_ts_file));break;case 259:if(108===e.token)return void d.push(m(e,Ge.Diagnostics.implements_clauses_can_only_be_used_in_a_ts_file));break;case 230:return void d.push(m(e,Ge.Diagnostics.interface_declarations_can_only_be_used_in_a_ts_file));case 233:return void d.push(m(e,Ge.Diagnostics.module_declarations_can_only_be_used_in_a_ts_file));case 231:return void d.push(m(e,Ge.Diagnostics.type_aliases_can_only_be_used_in_a_ts_file));case 232:return void d.push(m(e,Ge.Diagnostics.enum_declarations_can_only_be_used_in_a_ts_file));case 203:return void d.push(m(e,Ge.Diagnostics.non_null_assertions_can_only_be_used_in_a_ts_file));case 202:return void d.push(m(e.type,Ge.Diagnostics.type_assertion_expressions_can_only_be_used_in_a_ts_file));case 184:Ge.Debug.fail()}var t=p;p=e,Ge.forEachChild(e,f,n),p=t}function n(e){switch(p.decorators!==e||k.experimentalDecorators||d.push(m(p,Ge.Diagnostics.Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Set_the_experimentalDecorators_option_to_remove_this_warning)),p.kind){case 229:case 151:case 150:case 152:case 153:case 154:case 186:case 228:case 187:if(e===p.typeParameters)return void d.push(_(e,Ge.Diagnostics.type_parameter_declarations_can_only_be_used_in_a_ts_file));case 208:if(e!==p.modifiers)break;for(var t=e,n=208===p.kind,r=0,i=t;r<i.length;r++){var a=i[r];switch(a.kind){case 76:if(n)continue;case 114:case 112:case 113:case 131:case 124:case 117:d.push(m(a,Ge.Diagnostics._0_can_only_be_used_in_a_ts_file,Ge.tokenToString(a.kind)))}}return;case 149:if(e!==p.modifiers)break;for(var s=0,o=e;s<o.length;s++){var c=o[s];115!==c.kind&&d.push(m(c,Ge.Diagnostics._0_can_only_be_used_in_a_ts_file,Ge.tokenToString(c.kind)))}return;case 146:if(e===p.modifiers)return void d.push(_(e,Ge.Diagnostics.parameter_modifiers_can_only_be_used_in_a_ts_file));break;case 181:case 182:case 201:if(e===p.typeArguments)return void d.push(_(e,Ge.Diagnostics.type_arguments_can_only_be_used_in_a_ts_file))}for(var l=0,u=e;l<u.length;l++)f(u[l])}function _(e,t,n,r,i){var a=e.pos;return Ge.createFileDiagnostic(s,a,e.end-a,t,n,r,i)}function m(e,t,n,r,i){return Ge.createDiagnosticForNodeInSourceFile(s,e,t,n,r,i)}})),Ge.isCheckJsEnabledForFile(e,k)&&(e.additionalSyntacticDiagnostics=Ge.concatenate(e.additionalSyntacticDiagnostics,e.jsDocDiagnostics))),Ge.concatenate(e.additionalSyntacticDiagnostics,e.parseDiagnostics)):e.parseDiagnostics;var s}function b(e){try{return e()}catch(e){throw e instanceof Ge.OperationCanceledException&&(t=M=void 0),e}}function ve(e,t){return Te(e,t,B,be)}function be(i,a){return b(function(){var e,t,n,r;return k.skipLibCheck&&i.isDeclarationFile||k.skipDefaultLibCheck&&i.hasNoDefaultLib?Ge.emptyArray:(t=v(),Ge.Debug.assert(!!i.bindDiagnostics),r=(e=3===i.scriptKind||4===i.scriptKind||5===i.scriptKind||Ge.isCheckJsEnabledForFile(i,k))?i.bindDiagnostics:Ge.emptyArray,e=e?t.getDiagnostics(i,a):Ge.emptyArray,t=D.getDiagnostics(i.fileName),n=_.getDiagnostics(i.fileName),r=r.concat(e,t,n),Ge.filter(r,xe))})}function xe(e){var t=e.file,e=e.start;if(t)for(var n=Ge.getLineStarts(t),r=Ge.computeLineAndCharacterOfPosition(n,e).line;0<r;){var i=t.text.slice(n[r-1],n[r]),i=We.exec(i);if(!i)return!0;if(i[3])return!1;r--}return!0}function ke(e,t){return Te(e,t,j,Se)}function Se(t,n){return b(function(){var e=v().getEmitResolver(t,n);return Ge.getDeclarationDiagnostics(de(Ge.noop),e,t)})}function Te(e,t,n,r){var i=e?n.perFile&&n.perFile.get(e.path):n.allDiagnostics;return i||(i=r(e,t)||Ge.emptyArray,e?(n.perFile||(n.perFile=Ge.createMap()),n.perFile.set(e.path,i)):n.allDiagnostics=i,i)}function Ce(e,t){return e.isDeclarationFile?[]:ke(e,t)}function Ee(e,t){Ie(Ge.normalizePath(e),t,void 0)}function De(e,t){return e.fileName===t.fileName}function Ae(e,t){return 9===e.kind?9===t.kind&&e.text===t.text:71===t.kind&&e.escapedText===t.escapedText}function Ne(o){if(!o.imports){var c,l,u,e,t,n=Ge.isSourceFileJavaScript(o),d=Ge.isExternalModule(o);k.importHelpers&&(k.isolatedModules||d)&&!o.isDeclarationFile&&(e=Ge.createLiteral(Ge.externalHelpersModuleNameText),t=Ge.createImportDeclaration(void 0,void 0,void 0),(e.parent=t).parent=o,c=[e]);for(var r=0,i=o.statements;r<i.length;r++){var a=i[r];(function e(t,n){switch(t.kind){case 238:case 237:case 244:var r=Ge.getExternalModuleName(t);r&&Ge.isStringLiteral(r)&&(!r.text||n&&Ge.isExternalModuleNameRelative(r.text)||(c=c||[]).push(r));break;case 233:if(Ge.isAmbientModule(t)&&(n||Ge.hasModifier(t,2)||o.isDeclarationFile)){var r=t.name,i=Ge.getTextOfIdentifierOrLiteral(r);if(d||n&&!Ge.isExternalModuleNameRelative(i))(l=l||[]).push(r);else if(!n){o.isDeclarationFile&&(u=u||[]).push(i);r=t.body;if(r)for(var a=0,s=r.statements;a<s.length;a++)e(s[a],!0)}}}})(a,!1),(524288&o.flags||n)&&s(a)}o.imports=c||Ge.emptyArray,o.moduleAugmentations=l||Ge.emptyArray,o.ambientModuleNames=u||Ge.emptyArray}function s(e){Ge.isRequireCall(e,!0)||Ge.isImportCall(e)&&1===e.arguments.length&&9===e.arguments[0].kind?(c=c||[]).push(e.arguments[0]):Ge.forEachChild(e,s)}}function we(t,n,e,r){var i;return Ge.hasExtension(t)?k.allowNonTsExtensions||Ge.forEach(G,function(e){return Ge.fileExtensionIs(S.getCanonicalFileName(t),e)})?(i=n(t),e&&(i?r&&S.getCanonicalFileName(t)===S.getCanonicalFileName(r.fileName)&&e(Ge.Diagnostics.A_file_cannot_have_a_reference_to_itself):e(Ge.Diagnostics.File_0_not_found,t)),i):void(e&&e(Ge.Diagnostics.File_0_has_unsupported_extension_The_only_supported_extensions_are_1,t,"'"+G.join("', '")+"'")):k.allowNonTsExtensions&&n(t)||(e&&k.allowNonTsExtensions?void e(Ge.Diagnostics.File_0_not_found,t):(r=Ge.forEach(G,function(e){return n(t+e)}),e&&!r&&e(Ge.Diagnostics.File_0_not_found,t+".ts"),r))}function Ie(e,t,n,r,i,a){we(e,function(e){return Oe(e,y(e),t,r,i,a,n)},function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];D.add(void 0!==r&&void 0!==a&&void 0!==i?Ge.createFileDiagnostic.apply(void 0,[r,i,a-i,e].concat(t)):Ge.createCompilerDiagnostic.apply(void 0,[e].concat(t)))},r)}function Pe(e,t,n,r,i){void 0!==n&&void 0!==r&&void 0!==i?D.add(Ge.createFileDiagnostic(n,r,i-r,Ge.Diagnostics.File_name_0_differs_from_already_included_file_name_1_only_in_casing,e,t)):D.add(Ge.createCompilerDiagnostic(Ge.Diagnostics.File_name_0_differs_from_already_included_file_name_1_only_in_casing,e,t))}function Oe(t,e,n,r,i,a,s){if(F.has(e))return(d=F.get(e))&&k.forceConsistentCasingInFileNames&&Ge.getNormalizedAbsolutePath(d.fileName,I)!==Ge.getNormalizedAbsolutePath(t,I)&&Pe(t,d.fileName,r,i,a),d&&A.get(d.path)&&0===m?(A.set(d.path,!1),k.noResolve||(Fe(d,n),Le(d)),g.set(d.path,!1),Be(d)):d&&g.get(d.path)&&m<K&&(g.set(d.path,!1),Be(d)),d;var o,c,l,u,d=S.getSourceFile(t,k.target,function(e){void 0!==r&&void 0!==i&&void 0!==a?D.add(Ge.createFileDiagnostic(r,i,a-i,Ge.Diagnostics.Cannot_read_file_0_Colon_1,t,e)):D.add(Ge.createCompilerDiagnostic(Ge.Diagnostics.Cannot_read_file_0_Colon_1,t,e))},L);if(s){var p,f=s.name+"/"+s.subModuleName+"@"+s.version,_=Y.get(f);if(_)return u=_,o=d,p=t,l=e,(c=Object.create(u)).fileName=p,c.path=l,c.redirectInfo={redirectTarget:u,unredirected:o},Object.defineProperties(c,{id:{get:function(){return this.redirectInfo.redirectTarget.id},set:function(e){this.redirectInfo.redirectTarget.id=e}},symbol:{get:function(){return this.redirectInfo.redirectTarget.symbol},set:function(e){this.redirectInfo.redirectTarget.symbol=e}}}),p=c,X.set(_.path,!0),F.set(e,p),O.set(e,s.name),C.push(p),p;d&&(Y.set(f,d),O.set(e,s.name))}return F.set(e,d),d&&(A.set(e,0<m),d.path=e,S.useCaseSensitiveFileNames()&&(l=e.toLowerCase(),(u=Z.get(l))?Pe(t,u.fileName,r,i,a):Z.set(l,d)),q=q||d.hasNoDefaultLib,k.noResolve||(Fe(d,n),Le(d)),Be(d),n?C.unshift(d):C.push(d)),d}function Fe(t,n){Ge.forEach(t.referencedFiles,function(e){Ie(Qe(e.fileName,t.fileName),n,void 0,t,e.pos,e.end)})}function Le(e){for(var t=Ge.map(e.typeReferenceDirectives,function(e){return e.fileName.toLocaleLowerCase()}),n=w(t,e.fileName),r=0;r<t.length;r++){var i=e.typeReferenceDirectives[r],a=n[r],s=i.fileName.toLocaleLowerCase();Ge.setResolvedTypeReferenceDirective(e,s,a),Re(s,a,e,i.pos,i.end)}}function Re(e,t,n,r,i){var a,s=E.get(e);s&&s.primary||(a=!0,t?!t.primary&&s?(t.resolvedFileName!==s.resolvedFileName&&S.readFile(t.resolvedFileName)!==me(s.resolvedFileName).text&&D.add(Me(n,r,i,Ge.Diagnostics.Conflicting_definitions_for_0_found_at_1_and_2_Consider_installing_a_specific_version_of_this_library_to_resolve_the_conflict,e,t.resolvedFileName,s.resolvedFileName)),a=!1):Ie(t.resolvedFileName,!1,t.packageId,n,r,i):D.add(Me(n,r,i,Ge.Diagnostics.Cannot_find_type_definition_file_for_0,e)),a&&E.set(e,t))}function Me(e,t,n,r){for(var i=[],a=4;a<arguments.length;a++)i[a-4]=arguments[a];return void 0===e||void 0===t||void 0===n?Ge.createCompilerDiagnostic.apply(void 0,[r].concat(i)):Ge.createFileDiagnostic.apply(void 0,[e,t,n-t,r].concat(i))}function Ue(e){return S.getCanonicalFileName(e)}function Be(e){if(Ne(e),e.imports.length||e.moduleAugmentations.length){var t=nt(e),n={program:T,file:e,modifiedFilePaths:U},r=ue(t,Ge.getNormalizedAbsolutePath(e.fileName,I),e,n);Ge.Debug.assert(r.length===t.length);for(var i=0;i<t.length;i++){var a,s,o,c,l=r[i];Ge.setResolvedModule(e,t[i],l),l&&(a=l.isExternalLibraryImport,c=!Ge.extensionIsTypeScript(l.extension),s=l.resolvedFileName,a&&m++,o=a&&c&&K<m,c=s&&!et(k,l)&&!k.noResolve&&i<e.imports.length&&!o&&!(c&&!k.allowJs),o?g.set(e.path,!0):c&&Oe(s,y(s),!1,e,Ge.skipTrivia(e.text,e.imports[i].pos),e.imports[i].end,l.packageId),a)&&m--}}else e.resolvedModules=void 0}function je(e,t,n,r,i,a){for(var s=!0,o=0,c=ze();o<c.length;o++){var l=c[o];if(Ge.isObjectLiteralExpression(l.initializer))for(var u=0,d=Ge.getPropertyAssignment(l.initializer,e);u<d.length;u++){var p=d[u];Ge.isArrayLiteralExpression(p.initializer)&&p.initializer.elements.length>t&&(_.add(Ge.createDiagnosticForNodeInSourceFile(k.configFile,p.initializer.elements[t],n,r,i,a)),s=!1)}}s&&_.add(Ge.createCompilerDiagnostic(n,r,i,a))}function Ke(e,t,n,r){for(var i=!0,a=0,s=ze();a<s.length;a++){var o=s[a];Ge.isObjectLiteralExpression(o.initializer)&&Ve(o.initializer,e,t,void 0,n,r)&&(i=!1)}i&&_.add(Ge.createCompilerDiagnostic(n,r))}function ze(){var e=qe();return e?Ge.getPropertyAssignment(e,"paths"):Ge.emptyArray}function x(e,t,n){Je(!0,t,n,e,t,n)}function $e(e,t,n){Je(!1,e,void 0,t,n)}function Je(e,t,n,r,i,a){var s=qe();s&&Ve(s,e,t,n,r,i,a)||_.add(Ge.createCompilerDiagnostic(r,i,a))}function qe(){if(void 0===i&&(i=null,k.configFile)&&k.configFile.jsonObject)for(var e=0,t=Ge.getPropertyAssignment(k.configFile.jsonObject,"compilerOptions");e<t.length;e++){var n=t[e];if(Ge.isObjectLiteralExpression(n.initializer)){i=n.initializer;break}}return i}function Ve(e,t,n,r,i,a,s){for(var e=Ge.getPropertyAssignment(e,n,r),o=0,c=e;o<c.length;o++){var l=c[o];_.add(Ge.createDiagnosticForNodeInSourceFile(k.configFile,t?l.name:l.initializer,i,a,s))}return e.length}function He(e,t){W.set(y(e),!0),_.add(t)}},Ge.getResolutionDiagnostic=et}(ts=ts||{}),function(E){var e,v;function i(e){return e&&void 0!==e.enableAutoDiscovery&&void 0===e.enable?{enable:e.enableAutoDiscovery,include:e.include||[],exclude:e.exclude||[]}:e}function b(){var t,n;return e||(t=E.createMap(),n=E.createMap(),E.forEach(E.optionDeclarations,function(e){t.set(e.name.toLowerCase(),e),e.shortName&&n.set(e.shortName,e.name)}),e={optionNameMap:t,shortOptionNames:n})}function r(e){return y(e,E.createCompilerDiagnostic)}function y(e,t){var n=E.arrayFrom(e.type.keys()).map(function(e){return"'"+e+"'"}).join(", ");return t(E.Diagnostics.Argument_for_0_option_must_be_Colon_1,"--"+e.name,n)}function m(e,t,n){return l(e,u(t||""),n)}function g(t,e,n){if(e=u(e=void 0===e?"":e),!E.startsWith(e,"-")){if(""===e)return[];var r=e.split(",");switch(t.element.type){case"number":return E.map(r,parseInt);case"string":return E.map(r,function(e){return e||""});default:return E.filter(E.map(r,function(e){return m(t.element,e,n)}),function(e){return!!e})}}}function h(e,t){void 0===t&&(t=!1),e=e.toLowerCase();var n=b(),r=n.optionNameMap,n=n.shortOptionNames;return t&&void 0!==(t=n.get(e))&&(e=t),r.get(e)}function n(e,t){e=E.parseJsonText(e,t);return{config:S(e,e.parseDiagnostics),error:e.parseDiagnostics.length?e.parseDiagnostics[0]:void 0}}function x(e,t){t=a(e,t);return E.isString(t)?E.parseJsonText(e,t):{parseDiagnostics:[t]}}function a(e,t){var n;try{n=t(e)}catch(t){return E.createCompilerDiagnostic(E.Diagnostics.Cannot_read_file_0_Colon_1,e,t.message)}return void 0===n?E.createCompilerDiagnostic(E.Diagnostics.The_specified_path_does_not_exist_Colon_0,e):n}function k(e){return E.arrayToMap(e,function(e){return e.name})}function S(e,t){return T(e,t,void 0,void 0)}function T(p,f,_,m){return p.jsonObject?g(p.jsonObject,_,void 0,void 0):{};function g(e,t,n,r){for(var i={},a=0,s=e.properties;a<s.length;a++){var o,c,l,u,d=s[a];261===d.kind?(d.questionToken&&f.push(E.createDiagnosticForNodeInSourceFile(p,d.questionToken,E.Diagnostics._0_can_only_be_used_in_a_ts_file,"?")),h(d.name)||f.push(E.createDiagnosticForNodeInSourceFile(p,d.name,E.Diagnostics.String_literal_with_double_quotes_expected)),o=E.unescapeLeadingUnderscores(E.getTextOfPropertyName(d.name)),c=t?t.get(o):void 0,n&&!c&&f.push(E.createDiagnosticForNodeInSourceFile(p,d.name,n,o)),l=function t(r,n){switch(r.kind){case 101:return s(n&&"boolean"!==n.type),!0;case 86:return s(n&&"boolean"!==n.type),!1;case 95:return s(n&&"extends"===n.name),null;case 9:h(r)||f.push(E.createDiagnosticForNodeInSourceFile(p,r,E.Diagnostics.String_literal_with_double_quotes_expected)),s(n&&E.isString(n.type)&&"string"!==n.type);var e=r.text;return!n||E.isString(n.type)||(i=n).type.has(e.toLowerCase())||f.push(y(i,function(e,t,n){return E.createDiagnosticForNodeInSourceFile(p,r,e,t,n)})),e;case 8:return s(n&&"number"!==n.type),Number(r.text);case 178:s(n&&"object"!==n.type);var i=r;return n?g(i,(e=n).elementOptions,e.extraKeyDiagnosticMessage,e.name):g(i,void 0,void 0,void 0);case 177:return s(n&&"list"!==n.type),e=r.elements,a=n&&n.element,e.map(function(e){return t(e,a)})}var a;return void(n?s(!0):f.push(E.createDiagnosticForNodeInSourceFile(p,r,E.Diagnostics.Property_value_can_only_be_string_literal_numeric_literal_true_false_null_object_literal_or_array_literal)));function s(e){e&&f.push(E.createDiagnosticForNodeInSourceFile(p,r,E.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,n.name,C(n)))}}(d.initializer,c),void 0!==o&&(i[o]=l,m)&&(r||t===_)&&(u=D(c,l),r?u&&m.onSetValidOptionKeyValueInParent(r,c,l):t===_&&(u?m.onSetValidOptionKeyValueInRoot(o,d.name,l,d.initializer):c||m.onSetUnknownOptionKeyValueInRoot(o,d.name,l,d.initializer)))):f.push(E.createDiagnosticForNodeInSourceFile(p,d,E.Diagnostics.Property_assignment_expected))}return i}function h(e){return E.isStringLiteral(e)&&E.isStringDoubleQuoted(e,p)}}function C(e){return"list"===e.type?"Array":E.isString(e.type)?e.type:"string"}function D(e,t){if(e)return!!N(t)||("list"===e.type?E.isArray(t):typeof t===(E.isString(e.type)?e.type:"string"))}function A(e,t){t&&Object.defineProperty(e,"configFile",{enumerable:!1,writable:!1,value:t})}function N(e){return null==e}function w(e,t){return E.getDirectoryPath(E.toPath(e,t,E.identity))}function o(e,r,t,n,i,a,s,o){void 0===i&&(i={}),void 0===s&&(s=[]),void 0===o&&(o=[]),E.Debug.assert(void 0===e&&void 0!==r||void 0!==e&&void 0===r);var c,l,u,d,p,f=[],_=E.createGetCanonicalFileName(t.useCaseSensitiveFileNames),e=function p(e,t,n,r,i,a,s,o){r=E.normalizeSlashes(r);var c=E.toPath(i||"",r,a);if(0<=s.indexOf(c))return o.push(E.createCompilerDiagnostic(E.Diagnostics.Circularity_detected_while_resolving_configuration_Colon_0,s.concat([c]).join(" -> "))),{raw:e||S(t,o)};e=e?function(e,t,n,r,i,a){E.hasProperty(e,"excludes")&&a.push(E.createCompilerDiagnostic(E.Diagnostics.Unknown_option_excludes_Did_you_mean_exclude));var s,o=L(e.compilerOptions,n,a,i),c=M(e.typeAcquisition||e.typingOptions,n,a,i);return e.compileOnSave=function(e,t,n){if(E.hasProperty(e,E.compileOnSaveCommandLineOption.name))return!("boolean"!=typeof(e=U(E.compileOnSaveCommandLineOption,e.compileOnSave,t,n))||!e)&&e}(e,n,a),e.extends&&(E.isString(e.extends)?(i=i?w(i,n):n,s=O(e.extends,t,i,r,a,E.createCompilerDiagnostic)):a.push(E.createCompilerDiagnostic(E.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,"extends","string"))),{raw:e,options:o,typeAcquisition:c,extendedConfigPath:s}}(e,n,r,a,i,o):function(a,s,o,c,l,u){var r,i,d,p=F(l),e={onSetValidOptionKeyValueInParent:function(e,t,n){E.Debug.assert("compilerOptions"===e||"typeAcquisition"===e||"typingOptions"===e),("compilerOptions"===e?p:"typeAcquisition"===e?r=r||R(l):i=i||R(l))[t.name]=B(t,o,n)},onSetValidOptionKeyValueInRoot:function(e,t,n,r){switch(e){case"extends":var i=l?w(l,o):o;return void(d=O(n,s,i,c,u,function(e,t){return E.createDiagnosticForNodeInSourceFile(a,r,e,t)}));case"files":return void(0===n.length&&u.push(E.createDiagnosticForNodeInSourceFile(a,r,E.Diagnostics.The_files_list_in_config_file_0_is_empty,l||"tsconfig.json")))}},onSetUnknownOptionKeyValueInRoot:function(e,t,n,r){"excludes"===e&&u.push(E.createDiagnosticForNodeInSourceFile(a,t,E.Diagnostics.Unknown_option_excludes_Did_you_mean_exclude))}},e=T(a,u,v=void 0===v?k([{name:"compilerOptions",type:"object",elementOptions:k(E.optionDeclarations),extraKeyDiagnosticMessage:E.Diagnostics.Unknown_compiler_option_0},{name:"typingOptions",type:"object",elementOptions:k(E.typeAcquisitionDeclarations),extraKeyDiagnosticMessage:E.Diagnostics.Unknown_type_acquisition_option_0},{name:"typeAcquisition",type:"object",elementOptions:k(E.typeAcquisitionDeclarations),extraKeyDiagnosticMessage:E.Diagnostics.Unknown_type_acquisition_option_0},{name:"extends",type:"string"},{name:"files",type:"list",element:{name:"files",type:"string"}},{name:"include",type:"list",element:{name:"include",type:"string"}},{name:"exclude",type:"list",element:{name:"exclude",type:"string"}},E.compileOnSaveCommandLineOption]):v,e);return r=r||(i?void 0!==i.enableAutoDiscovery?{enable:i.enableAutoDiscovery,include:i.include,exclude:i.exclude}:i:R(l)),{raw:e,options:p,typeAcquisition:r,extendedConfigPath:d}}(t,n,r,a,i,o);{var l,u;e.extendedConfigPath&&(s=s.concat([c]),i=function(e,t,n,r,i,a,s){var o,c,l,u,d=x(t,function(e){return n.readFile(e)});return e&&(e.extendedSourceFiles||(e.extendedSourceFiles=[])).push(d.fileName),d.parseDiagnostics.length?void s.push.apply(s,d.parseDiagnostics):(o=E.getDirectoryPath(t),t=p(void 0,d,n,o,E.getBaseFileName(t),i,a,s),e&&(a=e.extendedSourceFiles).push.apply(a,d.extendedSourceFiles),P(t)&&(c=E.convertToRelativePath(o,r,i),l=function(e){return E.isRootedDiskPath(e)?e:E.combinePaths(c,e)},s=function(e){u[e]&&(u[e]=E.map(u[e],l))},u=t.raw,s("include"),s("exclude"),s("files")),t)}(t,e.extendedConfigPath,n,r,a,s,o))&&P(i)&&(l=i.raw,u=e.raw,(c=function(e){var t=u[e]||l[e];t&&(u[e]=t)})("include"),c("exclude"),c("files"),void 0===u.compileOnSave&&(u.compileOnSave=l.compileOnSave),e.options=E.assign({},i.options,e.options))}return e}(e,r,t,n,a,_,s,f),_=e.raw,i=E.extend(i,e.options||{}),m=(i.configFilePath=a,A(i,r),E.hasProperty(_,"files")&&!N(_.files)&&(E.isArray(_.files)?0===(l=_.files).length&&y(E.Diagnostics.The_files_list_in_config_file_0_is_empty,a||"tsconfig.json"):y(E.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,"files","Array")),E.hasProperty(_,"include")&&!N(_.include)&&(E.isArray(_.include)?u=_.include:y(E.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,"include","Array")),E.hasProperty(_,"exclude")&&!N(_.exclude)?E.isArray(_.exclude)?d=_.exclude:y(E.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,"exclude","Array"):(c=_.compilerOptions&&_.compilerOptions.outDir)&&(d=[c]),l=u=void 0===(c=l)&&void 0===u?["**/*"]:u,u=d,d=a?w(a,n):n,n=i,t=t,h=f,o=o,p=r,d=E.normalizePath(d),h=function(e,t,n,r){var t=E.getRegularExpressionForWildcard(t,n,"exclude"),i=t&&new RegExp(t,r?"":"i"),a={};if(void 0!==e){for(var s=[],o=0,c=e;o<c.length;o++){var l,u,d,p=c[o],p=E.normalizePath(E.combinePaths(n,p));i&&i.test(p)||(p=p,l=r,d=void 0,(l=(d=z.exec(p))?{key:l?d[0]:d[0].toLowerCase(),flags:K.test(p)?1:0}:E.isImplicitGlob(p)?{key:p,flags:1}:void 0)&&(u=l.key,d=l.flags,void 0===(p=a[u])||p<d)&&1===(a[u]=d)&&s.push(u))}for(u in a)if(E.hasProperty(a,u))for(var f=0,_=s;f<_.length;f++){var m=_[f];u!==m&&E.containsPath(m,u,n,!r)&&delete a[u]}}return a}(m=l?$(l,h,!1,p,"include"):m,g=u?$(u,h,!0,p,"exclude"):g,d,t.useCaseSensitiveFileNames),0!==(p=j({filesSpecs:c,includeSpecs:l,excludeSpecs:u,validatedIncludeSpecs:m,validatedExcludeSpecs:g,wildcardDirectories:h},d,n,t,o)).fileNames.length||E.hasProperty(_,"files")||0!==s.length||f.push(I(p.spec,a)),p),g=m.fileNames,h=m.wildcardDirectories,n=m.spec;return{options:i,fileNames:g,typeAcquisition:e.typeAcquisition||R(),raw:_,errors:f,wildcardDirectories:h,compileOnSave:!!_.compileOnSave,configFileSpecs:n};function y(e,t,n){r||f.push(E.createCompilerDiagnostic(e,t,n))}}function I(e,t){var n=e.includeSpecs,e=e.excludeSpecs;return E.createCompilerDiagnostic(E.Diagnostics.No_inputs_were_found_in_config_file_0_Specified_include_paths_were_1_and_exclude_paths_were_2,t||"tsconfig.json",JSON.stringify(n||[]),JSON.stringify(e||[]))}function P(e){return!!e.options}function O(e,t,n,r,i,a){if(e=E.normalizeSlashes(e),E.isRootedDiskPath(e)||E.startsWith(e,"./")||E.startsWith(e,"../")){n=E.toPath(e,n,r);if(t.fileExists(n)||E.endsWith(n,".json")||t.fileExists(n+=".json"))return n;i.push(a(E.Diagnostics.File_0_does_not_exist,e))}else i.push(a(E.Diagnostics.A_path_in_an_extends_option_must_be_relative_or_rooted_but_0_is_not,e))}function F(e){return"jsconfig.json"===E.getBaseFileName(e)?{allowJs:!0,maxNodeModuleJsDepth:2,allowSyntheticDefaultImports:!0,skipLibCheck:!0}:{}}function L(e,t,n,r){r=F(r);return s(E.optionDeclarations,e,t,r,E.Diagnostics.Unknown_compiler_option_0,n),r}function R(e){return{enable:"jsconfig.json"===E.getBaseFileName(e),include:[],exclude:[]}}function M(e,t,n,r){r=R(r),e=i(e);return s(E.typeAcquisitionDeclarations,e,t,r,E.Diagnostics.Unknown_type_acquisition_option_0,n),r}function s(e,t,n,r,i,a){if(t){var s,o=k(e);for(s in t){var c=o.get(s);c?r[c.name]=U(c,t[s],n,a):a.push(E.createCompilerDiagnostic(i,s))}}}function U(e,t,n,r){var i,a,s,o;if(D(e,t))return"list"===(i=e.type)&&E.isArray(t)?(a=e,s=n,o=r,E.filter(E.map(t,function(e){return U(a.element,e,s,o)}),function(e){return!!e})):E.isString(i)?c(e,n,t):l(e,t,r);r.push(E.createCompilerDiagnostic(E.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,e.name,C(e)))}function B(e,t,n){var r;if(!N(n))return"list"===e.type?(r=e).element.isFilePath||!E.isString(r.element.type)?E.filter(E.map(n,function(e){return B(r.element,t,e)}),function(e){return!!e}):n:E.isString(e.type)?c(e,t,n):e.type.get(E.isString(n)?n.toLowerCase():n)}function c(e,t,n){return n=e.isFilePath&&""===(n=E.normalizePath(E.combinePaths(t,n)))?".":n}function l(e,t,n){if(!N(t)){t=t.toLowerCase(),t=e.type.get(t);if(void 0!==t)return t;n.push(r(e))}}function u(e){return"function"==typeof e.trim?e.trim():e.replace(/^[\s]+|[\s]+$/g,"")}E.compileOnSaveCommandLineOption={name:"compileOnSave",type:"boolean"},E.optionDeclarations=[{name:"help",shortName:"h",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Command_line_Options,description:E.Diagnostics.Print_this_message},{name:"help",shortName:"?",type:"boolean"},{name:"all",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Command_line_Options,description:E.Diagnostics.Show_all_compiler_options},{name:"version",shortName:"v",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Command_line_Options,description:E.Diagnostics.Print_the_compiler_s_version},{name:"init",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Command_line_Options,description:E.Diagnostics.Initializes_a_TypeScript_project_and_creates_a_tsconfig_json_file},{name:"project",shortName:"p",type:"string",isFilePath:!0,showInSimplifiedHelpView:!0,category:E.Diagnostics.Command_line_Options,paramType:E.Diagnostics.FILE_OR_DIRECTORY,description:E.Diagnostics.Compile_the_project_given_the_path_to_its_configuration_file_or_to_a_folder_with_a_tsconfig_json},{name:"pretty",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Command_line_Options,description:E.Diagnostics.Stylize_errors_and_messages_using_color_and_context_experimental},{name:"watch",shortName:"w",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Command_line_Options,description:E.Diagnostics.Watch_input_files},{name:"target",shortName:"t",type:E.createMapFromTemplate({es3:0,es5:1,es6:2,es2015:2,es2016:3,es2017:4,esnext:5}),paramType:E.Diagnostics.VERSION,showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Specify_ECMAScript_target_version_Colon_ES3_default_ES5_ES2015_ES2016_ES2017_or_ESNEXT},{name:"module",shortName:"m",type:E.createMapFromTemplate({none:E.ModuleKind.None,commonjs:E.ModuleKind.CommonJS,amd:E.ModuleKind.AMD,system:E.ModuleKind.System,umd:E.ModuleKind.UMD,es6:E.ModuleKind.ES2015,es2015:E.ModuleKind.ES2015,esnext:E.ModuleKind.ESNext}),paramType:E.Diagnostics.KIND,showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Specify_module_code_generation_Colon_none_commonjs_amd_system_umd_es2015_or_ESNext},{name:"lib",type:"list",element:{name:"lib",type:E.createMapFromTemplate({es5:"lib.es5.d.ts",es6:"lib.es2015.d.ts",es2015:"lib.es2015.d.ts",es7:"lib.es2016.d.ts",es2016:"lib.es2016.d.ts",es2017:"lib.es2017.d.ts",esnext:"lib.esnext.d.ts",dom:"lib.dom.d.ts","dom.iterable":"lib.dom.iterable.d.ts",webworker:"lib.webworker.d.ts",scripthost:"lib.scripthost.d.ts","es2015.core":"lib.es2015.core.d.ts","es2015.collection":"lib.es2015.collection.d.ts","es2015.generator":"lib.es2015.generator.d.ts","es2015.iterable":"lib.es2015.iterable.d.ts","es2015.promise":"lib.es2015.promise.d.ts","es2015.proxy":"lib.es2015.proxy.d.ts","es2015.reflect":"lib.es2015.reflect.d.ts","es2015.symbol":"lib.es2015.symbol.d.ts","es2015.symbol.wellknown":"lib.es2015.symbol.wellknown.d.ts","es2016.array.include":"lib.es2016.array.include.d.ts","es2017.object":"lib.es2017.object.d.ts","es2017.sharedmemory":"lib.es2017.sharedmemory.d.ts","es2017.string":"lib.es2017.string.d.ts","es2017.intl":"lib.es2017.intl.d.ts","esnext.asynciterable":"lib.esnext.asynciterable.d.ts"})},showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Specify_library_files_to_be_included_in_the_compilation_Colon},{name:"allowJs",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Allow_javascript_files_to_be_compiled},{name:"checkJs",type:"boolean",category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Report_errors_in_js_files},{name:"jsx",type:E.createMapFromTemplate({preserve:1,"react-native":3,react:2}),paramType:E.Diagnostics.KIND,showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Specify_JSX_code_generation_Colon_preserve_react_native_or_react},{name:"declaration",shortName:"d",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Generates_corresponding_d_ts_file},{name:"sourceMap",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Generates_corresponding_map_file},{name:"outFile",type:"string",isFilePath:!0,paramType:E.Diagnostics.FILE,showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Concatenate_and_emit_output_to_single_file},{name:"outDir",type:"string",isFilePath:!0,paramType:E.Diagnostics.DIRECTORY,showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Redirect_output_structure_to_the_directory},{name:"rootDir",type:"string",isFilePath:!0,paramType:E.Diagnostics.LOCATION,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Specify_the_root_directory_of_input_files_Use_to_control_the_output_directory_structure_with_outDir},{name:"removeComments",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Do_not_emit_comments_to_output},{name:"noEmit",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Do_not_emit_outputs},{name:"importHelpers",type:"boolean",category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Import_emit_helpers_from_tslib},{name:"downlevelIteration",type:"boolean",category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Provide_full_support_for_iterables_in_for_of_spread_and_destructuring_when_targeting_ES5_or_ES3},{name:"isolatedModules",type:"boolean",category:E.Diagnostics.Basic_Options,description:E.Diagnostics.Transpile_each_file_as_a_separate_module_similar_to_ts_transpileModule},{name:"strict",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Strict_Type_Checking_Options,description:E.Diagnostics.Enable_all_strict_type_checking_options},{name:"noImplicitAny",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Strict_Type_Checking_Options,description:E.Diagnostics.Raise_error_on_expressions_and_declarations_with_an_implied_any_type},{name:"strictNullChecks",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Strict_Type_Checking_Options,description:E.Diagnostics.Enable_strict_null_checks},{name:"strictFunctionTypes",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Strict_Type_Checking_Options,description:E.Diagnostics.Enable_strict_checking_of_function_types},{name:"noImplicitThis",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Strict_Type_Checking_Options,description:E.Diagnostics.Raise_error_on_this_expressions_with_an_implied_any_type},{name:"alwaysStrict",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Strict_Type_Checking_Options,description:E.Diagnostics.Parse_in_strict_mode_and_emit_use_strict_for_each_source_file},{name:"noUnusedLocals",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Additional_Checks,description:E.Diagnostics.Report_errors_on_unused_locals},{name:"noUnusedParameters",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Additional_Checks,description:E.Diagnostics.Report_errors_on_unused_parameters},{name:"noImplicitReturns",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Additional_Checks,description:E.Diagnostics.Report_error_when_not_all_code_paths_in_function_return_a_value},{name:"noFallthroughCasesInSwitch",type:"boolean",showInSimplifiedHelpView:!0,category:E.Diagnostics.Additional_Checks,description:E.Diagnostics.Report_errors_for_fallthrough_cases_in_switch_statement},{name:"moduleResolution",type:E.createMapFromTemplate({node:E.ModuleResolutionKind.NodeJs,classic:E.ModuleResolutionKind.Classic}),paramType:E.Diagnostics.STRATEGY,category:E.Diagnostics.Module_Resolution_Options,description:E.Diagnostics.Specify_module_resolution_strategy_Colon_node_Node_js_or_classic_TypeScript_pre_1_6},{name:"baseUrl",type:"string",isFilePath:!0,category:E.Diagnostics.Module_Resolution_Options,description:E.Diagnostics.Base_directory_to_resolve_non_absolute_module_names},{name:"paths",type:"object",isTSConfigOnly:!0,category:E.Diagnostics.Module_Resolution_Options,description:E.Diagnostics.A_series_of_entries_which_re_map_imports_to_lookup_locations_relative_to_the_baseUrl},{name:"rootDirs",type:"list",isTSConfigOnly:!0,element:{name:"rootDirs",type:"string",isFilePath:!0},category:E.Diagnostics.Module_Resolution_Options,description:E.Diagnostics.List_of_root_folders_whose_combined_content_represents_the_structure_of_the_project_at_runtime},{name:"typeRoots",type:"list",element:{name:"typeRoots",type:"string",isFilePath:!0},category:E.Diagnostics.Module_Resolution_Options,description:E.Diagnostics.List_of_folders_to_include_type_definitions_from},{name:"types",type:"list",element:{name:"types",type:"string"},showInSimplifiedHelpView:!0,category:E.Diagnostics.Module_Resolution_Options,description:E.Diagnostics.Type_declaration_files_to_be_included_in_compilation},{name:"allowSyntheticDefaultImports",type:"boolean",category:E.Diagnostics.Module_Resolution_Options,description:E.Diagnostics.Allow_default_imports_from_modules_with_no_default_export_This_does_not_affect_code_emit_just_typechecking},{name:"preserveSymlinks",type:"boolean",category:E.Diagnostics.Module_Resolution_Options,description:E.Diagnostics.Do_not_resolve_the_real_path_of_symlinks},{name:"sourceRoot",type:"string",isFilePath:!0,paramType:E.Diagnostics.LOCATION,category:E.Diagnostics.Source_Map_Options,description:E.Diagnostics.Specify_the_location_where_debugger_should_locate_TypeScript_files_instead_of_source_locations},{name:"mapRoot",type:"string",isFilePath:!0,paramType:E.Diagnostics.LOCATION,category:E.Diagnostics.Source_Map_Options,description:E.Diagnostics.Specify_the_location_where_debugger_should_locate_map_files_instead_of_generated_locations},{name:"inlineSourceMap",type:"boolean",category:E.Diagnostics.Source_Map_Options,description:E.Diagnostics.Emit_a_single_file_with_source_maps_instead_of_having_a_separate_file},{name:"inlineSources",type:"boolean",category:E.Diagnostics.Source_Map_Options,description:E.Diagnostics.Emit_the_source_alongside_the_sourcemaps_within_a_single_file_requires_inlineSourceMap_or_sourceMap_to_be_set},{name:"experimentalDecorators",type:"boolean",category:E.Diagnostics.Experimental_Options,description:E.Diagnostics.Enables_experimental_support_for_ES7_decorators},{name:"emitDecoratorMetadata",type:"boolean",category:E.Diagnostics.Experimental_Options,description:E.Diagnostics.Enables_experimental_support_for_emitting_type_metadata_for_decorators},{name:"jsxFactory",type:"string",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Specify_the_JSX_factory_function_to_use_when_targeting_react_JSX_emit_e_g_React_createElement_or_h},{name:"diagnostics",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Show_diagnostic_information},{name:"extendedDiagnostics",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Show_verbose_diagnostic_information},{name:"traceResolution",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Enable_tracing_of_the_name_resolution_process},{name:"listFiles",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Print_names_of_files_part_of_the_compilation},{name:"listEmittedFiles",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Print_names_of_generated_files_part_of_the_compilation},{name:"out",type:"string",isFilePath:!1,category:E.Diagnostics.Advanced_Options,paramType:E.Diagnostics.FILE,description:E.Diagnostics.Deprecated_Use_outFile_instead_Concatenate_and_emit_output_to_single_file},{name:"reactNamespace",type:"string",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Deprecated_Use_jsxFactory_instead_Specify_the_object_invoked_for_createElement_when_targeting_react_JSX_emit},{name:"skipDefaultLibCheck",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Deprecated_Use_skipLibCheck_instead_Skip_type_checking_of_default_library_declaration_files},{name:"charset",type:"string",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.The_character_set_of_the_input_files},{name:"emitBOM",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Emit_a_UTF_8_Byte_Order_Mark_BOM_in_the_beginning_of_output_files},{name:"locale",type:"string",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.The_locale_used_when_displaying_messages_to_the_user_e_g_en_us},{name:"newLine",type:E.createMapFromTemplate({crlf:0,lf:1}),paramType:E.Diagnostics.NEWLINE,category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Specify_the_end_of_line_sequence_to_be_used_when_emitting_files_Colon_CRLF_dos_or_LF_unix},{name:"noErrorTruncation",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_truncate_error_messages},{name:"noLib",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_include_the_default_library_file_lib_d_ts},{name:"noResolve",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_add_triple_slash_references_or_imported_modules_to_the_list_of_compiled_files},{name:"stripInternal",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_emit_declarations_for_code_that_has_an_internal_annotation},{name:"disableSizeLimit",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Disable_size_limitations_on_JavaScript_projects},{name:"noImplicitUseStrict",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_emit_use_strict_directives_in_module_output},{name:"noEmitHelpers",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_generate_custom_helper_functions_like_extends_in_compiled_output},{name:"noEmitOnError",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_emit_outputs_if_any_errors_were_reported},{name:"preserveConstEnums",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_erase_const_enum_declarations_in_generated_code},{name:"declarationDir",type:"string",isFilePath:!0,paramType:E.Diagnostics.DIRECTORY,category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Output_directory_for_generated_declaration_files},{name:"skipLibCheck",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Skip_type_checking_of_declaration_files},{name:"allowUnusedLabels",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_report_errors_on_unused_labels},{name:"allowUnreachableCode",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Do_not_report_errors_on_unreachable_code},{name:"suppressExcessPropertyErrors",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Suppress_excess_property_checks_for_object_literals},{name:"suppressImplicitAnyIndexErrors",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Suppress_noImplicitAny_errors_for_indexing_objects_lacking_index_signatures},{name:"forceConsistentCasingInFileNames",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Disallow_inconsistently_cased_references_to_the_same_file},{name:"maxNodeModuleJsDepth",type:"number",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.The_maximum_dependency_depth_to_search_under_node_modules_and_load_JavaScript_files},{name:"noStrictGenericChecks",type:"boolean",category:E.Diagnostics.Advanced_Options,description:E.Diagnostics.Disable_strict_checking_of_generic_signatures_in_function_types},{name:"plugins",type:"list",isTSConfigOnly:!0,element:{name:"plugin",type:"object"},description:E.Diagnostics.List_of_language_service_plugins}],E.typeAcquisitionDeclarations=[{name:"enableAutoDiscovery",type:"boolean"},{name:"enable",type:"boolean"},{name:"include",type:"list",element:{name:"include",type:"string"}},{name:"exclude",type:"list",element:{name:"exclude",type:"string"}}],E.defaultInitCompilerOptions={module:E.ModuleKind.CommonJS,target:1,strict:!0},E.convertEnableAutoDiscoveryToEnable=i,E.createCompilerDiagnosticForInvalidCustomType=r,E.parseCustomTypeOption=m,E.parseListTypeOption=g,E.parseCommandLine=function(e,u){var d={},p=[],f=[];return _(e),{options:d,fileNames:p,errors:f};function _(e){for(var t=0;t<e.length;){var n=e[t];if(t++,64===n.charCodeAt(0)){r=void 0;i=void 0;a=void 0;s=void 0;o=void 0;var r=n.slice(1);var i=u?u(r):E.sys.readFile(r);if(i){for(var a=[],s=0;;){for(;s<i.length&&i.charCodeAt(s)<=32;)s++;if(s>=i.length)break;var o=s;if(34===i.charCodeAt(o)){for(s++;s<i.length&&34!==i.charCodeAt(s);)s++;s<i.length?(a.push(i.substring(o+1,s)),s++):f.push(E.createCompilerDiagnostic(E.Diagnostics.Unterminated_quoted_string_in_response_file_0,r))}else{for(;32<i.charCodeAt(s);)s++;a.push(i.substring(o,s))}}_(a)}else f.push(E.createCompilerDiagnostic(E.Diagnostics.File_0_not_found,r))}else if(45===n.charCodeAt(0)){var c=h(n.slice(45===n.charCodeAt(1)?2:1),!0);if(c)if(c.isTSConfigOnly)f.push(E.createCompilerDiagnostic(E.Diagnostics.Option_0_can_only_be_specified_in_tsconfig_json_file,c.name));else switch(e[t]||"boolean"===c.type||f.push(E.createCompilerDiagnostic(E.Diagnostics.Compiler_option_0_expects_an_argument,c.name)),c.type){case"number":d[c.name]=parseInt(e[t]),t++;break;case"boolean":var l=e[t];d[c.name]="false"!==l,"false"!==l&&"true"!==l||t++;break;case"string":d[c.name]=e[t]||"",t++;break;case"list":l=g(c,e[t],f);d[c.name]=l||[],l&&t++;break;default:d[c.name]=m(c,e[t],f),t++}else f.push(E.createCompilerDiagnostic(E.Diagnostics.Unknown_compiler_option_0,n))}else p.push(n)}}},E.readConfigFile=function(e,t){t=a(e,t);return E.isString(t)?n(e,t):{config:{},error:t}},E.parseConfigFileTextToJson=n,E.readJsonConfigFile=x,E.convertToObject=S,E.generateTSConfig=function(e,t,n){for(var s=function(i){function e(e){if(E.hasProperty(i,e)){if(s.has(e)&&s.get(e).category===E.Diagnostics.Command_line_Options)return;var t,n=i[e],r=s.get(e.toLowerCase());r&&((t=function e(t){return"string"===t.type||"number"===t.type||"boolean"===t.type?void 0:"list"===t.type?e(t.element):t.type}(r))?"list"===r.type?a.set(e,n.map(function(e){return y(e,t)})):a.set(e,y(n,t)):a.set(e,n))}}var t,a=E.createMap(),s=b().optionNameMap;for(t in i)e(t);return a}(E.extend(e,E.defaultInitCompilerOptions)),r=E.createMultiMap(),i=0,a=E.optionDeclarations;i<a.length;i++){var o=a[i],c=o.category;void 0!==c&&c!==E.Diagnostics.Command_line_Options&&c!==E.Diagnostics.Advanced_Options&&r.add(E.getLocaleSpecificMessage(c),o)}var l=0,u=0,d=[],p=[],f=(r.forEach(function(e,t){0!==d.length&&(d.push(""),p.push("")),d.push("/* "+t+" */"),p.push("");for(var n=0,r=e;n<r.length;n++){var i=r[n],a=s.has(i.name)?'"'+i.name+'": '+JSON.stringify(s.get(i.name))+((u+=1)===s.size?"":","):'// "'+i.name+'": '+JSON.stringify(function(e){switch(e.type){case"number":return 1;case"boolean":return!0;case"string":return e.isFilePath?"./":"";case"list":return[];case"object":return{};default:return e.type.keys().next().value}}(i))+",";d.push(a),p.push("/* "+(i.description&&E.getLocaleSpecificMessage(i.description)||i.name)+" */"),l=Math.max(a.length,l)}}),v(2)),_=[];_.push("{"),_.push(f+'"compilerOptions": {');for(var m=0;m<d.length;m++){var g=d[m],h=p[m];_.push(g&&""+f+f+g+(h&&v(l-g.length+2)+h))}if(t.length){for(_.push(f+"},"),_.push(f+'"files": ['),m=0;m<t.length;m++)_.push(""+f+f+JSON.stringify(t[m])+(m===t.length-1?"":","));_.push(f+"]")}else _.push(f+"}");return _.push("}"),_.join(n);function y(n,e){return E.forEachEntry(e,function(e,t){if(e===n)return t})}function v(e){return Array(e+1).join(" ")}},E.parseJsonConfigFileContent=function(e,t,n,r,i,a,s){return o(e,void 0,t,n,r,i,a,s)},E.parseJsonSourceFileConfigFileContent=function(e,t,n,r,i,a,s){return o(void 0,e,t,n,r,i,a,s)},E.setConfigFileInOptions=A,E.isErrorNoInputFiles=function(e){return e.code===E.Diagnostics.No_inputs_were_found_in_config_file_0_Specified_include_paths_were_1_and_exclude_paths_were_2.code},E.getErrorForNoInputFiles=I,E.convertCompilerOptionsFromJson=function(e,t,n){var r=[];return{options:L(e,t,r,n),errors:r}},E.convertTypeAcquisitionFromJson=function(e,t,n){var r=[];return{options:M(e,t,r,n),errors:r}};var d=/(^|\/)\*\*\/?$/,p=/(^|\/)\*\*\/(.*\/)?\*\*($|\/)/,f=/(^|\/)\*\*\/(.*\/)?\.\.($|\/)/,K=/\/[^/]*?[*?][^/]*\//,z=/^[^*?]*(?=\/[^/]*[*?])/;function j(e,t,n,r,i){void 0===i&&(i=[]),t=E.normalizePath(t);var a=r.useCaseSensitiveFileNames?J:q,s=E.createMap(),o=E.createMap(),c=e.filesSpecs,l=e.validatedIncludeSpecs,u=e.validatedExcludeSpecs,d=e.wildcardDirectories,p=E.getSupportedExtensions(n,i);if(c)for(var f=0,_=c;f<_.length;f++){var m=_[f],g=E.getNormalizedAbsolutePath(m,t);s.set(a(g),g)}if(l&&0<l.length)for(var h=0,y=r.readDirectory(t,p,u,l,void 0);h<y.length;h++)if(!function(e,t,n,r,i){for(var a=E.getExtensionPriority(e,r),s=E.adjustExtensionPriority(a,r),o=0;o<s;o++){var c=r[o],c=i(E.changeExtension(e,c));if(t.has(c)||n.has(c))return 1}return}(g=y[h],s,o,p,a)){C=T=S=k=x=b=v=void 0;for(var v=g,b=o,x=p,k=a,S=E.getExtensionPriority(v,x),T=E.getNextLowestExtensionPriority(S,x);T<x.length;T++){var C=x[T],C=k(E.changeExtension(v,C));b.delete(C)}S=a(g);s.has(S)||o.has(S)||o.set(S,g)}n=E.arrayFrom(s.values()),i=E.arrayFrom(o.values());return{fileNames:n.concat(i),wildcardDirectories:d,spec:e}}function $(e,n,r,c,l){return e.filter(function(e){t=e;var t=!r&&d.test(t)?E.Diagnostics.File_specification_cannot_end_in_a_recursive_directory_wildcard_Asterisk_Asterisk_Colon_0:p.test(t)?E.Diagnostics.File_specification_cannot_contain_multiple_recursive_directory_wildcards_Asterisk_Asterisk_Colon_0:f.test(t)?E.Diagnostics.File_specification_cannot_contain_a_parent_directory_that_appears_after_a_recursive_directory_wildcard_Asterisk_Asterisk_Colon_0:void 0;return void 0!==t&&n.push(function(e,t){if(c&&c.jsonObject)for(var n=0,r=E.getPropertyAssignment(c.jsonObject,l);n<r.length;n++){var i=r[n];if(E.isArrayLiteralExpression(i.initializer))for(var a=0,s=i.initializer.elements;a<s.length;a++){var o=s[a];if(E.isStringLiteral(o)&&o.text===t)return E.createDiagnosticForNodeInSourceFile(c,o,e,t)}}return E.createCompilerDiagnostic(e,t)}(t,e)),void 0===t})}function J(e){return e}function q(e){return e.toLowerCase()}E.getFileNamesFromConfigSpecs=j,E.convertCompilerOptionsForTelemetry=function(e){var t,n,r={};for(t in e)e.hasOwnProperty(t)&&void 0!==(n=h(t))&&(r[t]=function t(n,e){switch(e.type){case"object":case"string":return"";case"number":return"number"==typeof n?n:"";case"boolean":return"boolean"==typeof n?n:"";case"list":var r=e.element;return E.isArray(n)?n.map(function(e){return t(e,r)}):"";default:return E.forEachEntry(e.type,function(e,t){if(e===n)return t})}}(e[t],n));return r}}(ts=ts||{}),function(e){function t(e){this.text=e}var n,r;r=e.ScriptSnapshot||(e.ScriptSnapshot={}),t.prototype.getText=function(e,t){return 0===e&&t===this.text.length?this.text:this.text.substring(e,t)},t.prototype.getLength=function(){return this.text.length},t.prototype.getChangeRange=function(){},n=t,r.fromString=function(e){return new n(e)};e.TextChange=function(){},(r=e.HighlightSpanKind||(e.HighlightSpanKind={})).none="none",r.definition="definition",r.reference="reference",r.writtenReference="writtenReference",(r=e.IndentStyle||(e.IndentStyle={}))[r.None=0]="None",r[r.Block=1]="Block",r[r.Smart=2]="Smart",(r=e.SymbolDisplayPartKind||(e.SymbolDisplayPartKind={}))[r.aliasName=0]="aliasName",r[r.className=1]="className",r[r.enumName=2]="enumName",r[r.fieldName=3]="fieldName",r[r.interfaceName=4]="interfaceName",r[r.keyword=5]="keyword",r[r.lineBreak=6]="lineBreak",r[r.numericLiteral=7]="numericLiteral",r[r.stringLiteral=8]="stringLiteral",r[r.localName=9]="localName",r[r.methodName=10]="methodName",r[r.moduleName=11]="moduleName",r[r.operator=12]="operator",r[r.parameterName=13]="parameterName",r[r.propertyName=14]="propertyName",r[r.punctuation=15]="punctuation",r[r.space=16]="space",r[r.text=17]="text",r[r.typeParameterName=18]="typeParameterName",r[r.enumMemberName=19]="enumMemberName",r[r.functionName=20]="functionName",r[r.regularExpressionLiteral=21]="regularExpressionLiteral",(r=e.OutputFileType||(e.OutputFileType={}))[r.JavaScript=0]="JavaScript",r[r.SourceMap=1]="SourceMap",r[r.Declaration=2]="Declaration",(r=e.EndOfLineState||(e.EndOfLineState={}))[r.None=0]="None",r[r.InMultiLineCommentTrivia=1]="InMultiLineCommentTrivia",r[r.InSingleQuoteStringLiteral=2]="InSingleQuoteStringLiteral",r[r.InDoubleQuoteStringLiteral=3]="InDoubleQuoteStringLiteral",r[r.InTemplateHeadOrNoSubstitutionTemplate=4]="InTemplateHeadOrNoSubstitutionTemplate",r[r.InTemplateMiddleOrTail=5]="InTemplateMiddleOrTail",r[r.InTemplateSubstitutionPosition=6]="InTemplateSubstitutionPosition",(r=e.TokenClass||(e.TokenClass={}))[r.Punctuation=0]="Punctuation",r[r.Keyword=1]="Keyword",r[r.Operator=2]="Operator",r[r.Comment=3]="Comment",r[r.Whitespace=4]="Whitespace",r[r.Identifier=5]="Identifier",r[r.NumberLiteral=6]="NumberLiteral",r[r.StringLiteral=7]="StringLiteral",r[r.RegExpLiteral=8]="RegExpLiteral",(r=e.ScriptElementKind||(e.ScriptElementKind={})).unknown="",r.warning="warning",r.keyword="keyword",r.scriptElement="script",r.moduleElement="module",r.classElement="class",r.localClassElement="local class",r.interfaceElement="interface",r.typeElement="type",r.enumElement="enum",r.enumMemberElement="enum member",r.variableElement="var",r.localVariableElement="local var",r.functionElement="function",r.localFunctionElement="local function",r.memberFunctionElement="method",r.memberGetAccessorElement="getter",r.memberSetAccessorElement="setter",r.memberVariableElement="property",r.constructorImplementationElement="constructor",r.callSignatureElement="call",r.indexSignatureElement="index",r.constructSignatureElement="construct",r.parameterElement="parameter",r.typeParameterElement="type parameter",r.primitiveType="primitive type",r.label="label",r.alias="alias",r.constElement="const",r.letElement="let",r.directory="directory",r.externalModuleName="external module name",r.jsxAttribute="JSX attribute",(r=e.ScriptElementKindModifier||(e.ScriptElementKindModifier={})).none="",r.publicMemberModifier="public",r.privateMemberModifier="private",r.protectedMemberModifier="protected",r.exportedModifier="export",r.ambientModifier="declare",r.staticModifier="static",r.abstractModifier="abstract",(r=e.ClassificationTypeNames||(e.ClassificationTypeNames={})).comment="comment",r.identifier="identifier",r.keyword="keyword",r.numericLiteral="number",r.operator="operator",r.stringLiteral="string",r.whiteSpace="whitespace",r.text="text",r.punctuation="punctuation",r.className="class name",r.enumName="enum name",r.interfaceName="interface name",r.moduleName="module name",r.typeParameterName="type parameter name",r.typeAliasName="type alias name",r.parameterName="parameter name",r.docCommentTagName="doc comment tag name",r.jsxOpenTagName="jsx open tag name",r.jsxCloseTagName="jsx close tag name",r.jsxSelfClosingTagName="jsx self closing tag name",r.jsxAttribute="jsx attribute",r.jsxText="jsx text",r.jsxAttributeStringLiteralValue="jsx attribute string literal value",(r=e.ClassificationType||(e.ClassificationType={}))[r.comment=1]="comment",r[r.identifier=2]="identifier",r[r.keyword=3]="keyword",r[r.numericLiteral=4]="numericLiteral",r[r.operator=5]="operator",r[r.stringLiteral=6]="stringLiteral",r[r.regularExpressionLiteral=7]="regularExpressionLiteral",r[r.whiteSpace=8]="whiteSpace",r[r.text=9]="text",r[r.punctuation=10]="punctuation",r[r.className=11]="className",r[r.enumName=12]="enumName",r[r.interfaceName=13]="interfaceName",r[r.moduleName=14]="moduleName",r[r.typeParameterName=15]="typeParameterName",r[r.typeAliasName=16]="typeAliasName",r[r.parameterName=17]="parameterName",r[r.docCommentTagName=18]="docCommentTagName",r[r.jsxOpenTagName=19]="jsxOpenTagName",r[r.jsxCloseTagName=20]="jsxCloseTagName",r[r.jsxSelfClosingTagName=21]="jsxSelfClosingTagName",r[r.jsxAttribute=22]="jsxAttribute",r[r.jsxText=23]="jsxText",r[r.jsxAttributeStringLiteralValue=24]="jsxAttributeStringLiteralValue"}(ts=ts||{}),function(p){function n(e){switch(e.kind){case 146:case 226:case 176:case 149:case 148:case 261:case 262:case 151:case 150:case 152:case 153:case 154:case 228:case 186:case 187:case 260:case 253:return 1;case 145:case 230:case 231:case 163:return 2;case 283:return void 0===e.name?3:2;case 264:case 229:return 3;case 233:return p.isAmbientModule(e)||1===p.getModuleInstanceState(e)?5:4;case 232:case 241:case 242:case 237:case 238:case 243:case 244:return 7;case 265:return 5}return 7}function r(e){for(;143===e.parent.kind;)e=e.parent;return p.isInternalModuleImportEqualsDeclaration(e.parent)&&e.parent.moduleReference===e}function t(e,t){e=i(e);return e&&e.parent&&e.parent.kind===t&&e.parent.expression===e}function i(e){return s(e)?e.parent:e}function a(e){return 71===e.kind&&(218===e.parent.kind||217===e.parent.kind)&&e.parent.label===e}function s(e){return e&&e.parent&&179===e.parent.kind&&e.parent.name===e}p.scanner=p.createScanner(5,!0),(e=p.SemanticMeaning||(p.SemanticMeaning={}))[e.None=0]="None",e[e.Value=1]="Value",e[e.Type=2]="Type",e[e.Namespace=4]="Namespace",e[e.All=7]="All",p.getMeaningFromDeclaration=n,p.getMeaningFromLocation=function(e){return 265===e.kind?1:243===e.parent.kind?7:r(e)?(t=e,p.Debug.assert(71===t.kind),143===t.parent.kind&&t.parent.right===t&&237===t.parent.parent.kind?7:4):p.isDeclarationName(e)?n(e.parent):function(e){switch((e=p.isRightSideOfQualifiedNameOrPropertyAccess(e)?e.parent:e).kind){case 99:return!p.isPartOfExpression(e);case 169:return 1}switch(e.parent.kind){case 159:return 1;case 201:return!p.isExpressionWithTypeArgumentsInClassExtendsClause(e.parent)}}(e)?2:function(e){var t=e,n=!0;if(143===t.parent.kind){for(;t.parent&&143===t.parent.kind;)t=t.parent;n=t.right===e}return 159===t.parent.kind&&!n}(t=e)||function(e){var t=e,n=!0;if(179===t.parent.kind){for(;t.parent&&179===t.parent.kind;)t=t.parent;n=t.name===e}if(!n&&201===t.parent.kind&&259===t.parent.parent.kind)return 229===(e=t.parent.parent.parent).kind&&108===t.parent.parent.token||230===e.kind&&85===t.parent.parent.token}(t)?4:p.isTypeParameterDeclaration(e.parent)?(p.Debug.assert(p.isJSDocTemplateTag(e.parent.parent)),2):1;var t},p.isInRightSideOfInternalImportEqualsDeclaration=r,p.isCallExpressionTarget=function(e){return t(e,181)},p.isNewExpressionTarget=function(e){return t(e,182)},p.climbPastPropertyAccess=i,p.getTargetLabel=function(e,t){for(;e;){if(222===e.kind&&e.label.escapedText===t)return e.label;e=e.parent}},p.isJumpStatementTarget=a,p.isLabelName=function(e){return 71===e.kind&&222===e.parent.kind&&e.parent.label===e||a(e)},p.isRightSideOfQualifiedName=function(e){return 143===e.parent.kind&&e.parent.right===e},p.isRightSideOfPropertyAccess=s,p.isNameOfModuleDeclaration=function(e){return 233===e.parent.kind&&e.parent.name===e},p.isNameOfFunctionDeclaration=function(e){return 71===e.kind&&p.isFunctionLike(e.parent)&&e.parent.name===e},p.isLiteralNameOfPropertyDeclarationOrIndexAccess=function(e){switch(e.parent.kind){case 149:case 148:case 261:case 264:case 151:case 150:case 153:case 154:case 233:return p.getNameOfDeclaration(e.parent)===e;case 180:return e.parent.argumentExpression===e;case 144:return!0;case 173:return 171===e.parent.parent.kind}},p.isExpressionOfExternalModuleImportEqualsDeclaration=function(e){return p.isExternalModuleImportEqualsDeclaration(e.parent.parent)&&p.getExternalModuleImportEqualsDeclarationExpression(e.parent.parent)===e},p.getContainerNode=function(e){for(283===e.kind&&(e=e.parent.parent);;){if(!(e=e.parent))return;switch(e.kind){case 265:case 151:case 150:case 228:case 186:case 153:case 154:case 229:case 230:case 232:case 233:return e}}},p.getNodeKind=function e(t){switch(t.kind){case 265:return p.isExternalModule(t)?"module":"script";case 233:return"module";case 229:case 199:return"class";case 230:return"interface";case 231:return"type";case 232:return"enum";case 226:return a(t);case 176:return a(p.getRootDeclaration(t));case 187:case 228:case 186:return"function";case 153:return"getter";case 154:return"setter";case 151:case 150:return"method";case 149:case 148:return"property";case 157:return"index";case 156:return"construct";case 155:return"call";case 152:return"constructor";case 145:return"type parameter";case 264:return"enum member";case 146:return p.hasModifier(t,92)?"property":"parameter";case 237:case 242:case 239:case 246:case 240:return"alias";case 283:return"type";case 194:var n=p.getSpecialPropertyAssignmentKind(t),r=t.right;switch(n){case 0:return"";case 1:case 2:var i=e(r);return""===i?"const":i;case 3:return"method";case 4:return"property";case 5:return p.isFunctionExpression(r)?"method":"property";default:return p.assertTypeIsNever(n),""}default:return""}function a(e){return p.isConst(e)?"const":p.isLet(e)?"let":"var"}},p.isThis=function(e){switch(e.kind){case 99:return!0;case 71:return p.identifierIsThisKeyword(e)&&146===e.parent.kind;default:return!1}};var e,o=/^\/\/\/\s*</;function c(e,t,n){return e<=n.pos&&t>=n.end}function l(e,t,n,r){return Math.max(e,n)<Math.min(t,r)}function u(e,t){if(p.nodeIsMissing(e))return!1;switch(e.kind){case 229:case 230:case 232:case 178:case 174:case 163:case 207:case 234:case 235:case 241:case 245:return d(e,18,t);case 260:return u(e.block,t);case 182:if(!e.arguments)return!0;case 181:case 185:case 168:return d(e,20,t);case 160:case 161:return u(e.type,t);case 152:case 153:case 154:case 228:case 186:case 151:case 150:case 156:case 155:case 187:return e.body?u(e.body,t):e.type?u(e.type,t):f(e,20,t);case 233:return e.body&&u(e.body,t);case 211:return e.elseStatement?u(e.elseStatement,t):u(e.thenStatement,t);case 210:return u(e.expression,t)||f(e,25);case 177:case 175:case 180:case 144:case 165:return d(e,22,t);case 157:return e.type?u(e.type,t):f(e,22,t);case 257:case 258:return!1;case 214:case 215:case 216:case 213:return u(e.statement,t);case 212:return _(e,106,t)?d(e,20,t):u(e.statement,t);case 162:return u(e.exprName,t);case 189:case 188:case 190:case 197:case 198:return u(e.expression,t);case 183:return u(e.template,t);case 196:return u(p.lastOrUndefined(e.templateSpans),t);case 205:return p.nodeIsPresent(e.literal);case 244:case 238:return p.nodeIsPresent(e.moduleSpecifier);case 192:return u(e.operand,t);case 194:return u(e.right,t);case 195:return u(e.whenFalse,t);default:return!0}}function d(e,t,n){e=e.getChildren(n);if(e.length){n=p.lastOrUndefined(e);if(n.kind===t)return!0;if(25===n.kind&&1!==e.length)return e[e.length-2].kind===t}return!1}function f(e,t,n){return!!_(e,t,n)}function _(e,t,n){return p.forEach(e.getChildren(n),function(e){return e.kind===t&&e})}function m(t){var e=p.forEach(t.parent.getChildren(),function(e){if(p.isSyntaxList(e)&&e.pos<=t.pos&&e.end>=t.end)return e});return p.Debug.assert(!e||p.contains(e.getChildren(),t)),e}function g(e,t,n,r){return y(e,t,!1,r,!1,n)}function h(e,t,n,r){return y(e,t,!0,void 0,r,n)}function y(e,t,n,r,i,a){var s=e;e:for(;;){if(!p.isToken(s))for(var o=0,c=s.getChildren();o<c.length;o++){var l=c[o];if(a||!p.isJSDocNode(l)){if((n?l.getFullStart():l.getStart(e,a))>t)break;var u=l.getEnd();if(t<u||t===u&&(1===l.kind||i)){s=l;continue e}if(r&&u===t){u=v(t,e,l);if(u&&r(u))return u}}}return s}}function v(s,o,c,l){var e=function e(t){if(p.isToken(t))return t;for(var n,r=t.getChildren(),i=0;i<r.length;i++){var a=r[i];if(s<a.end)return a.getStart(o,l)>=s||!k(a)||b(a)?(n=d(r,i))&&u(n):e(a)}return p.Debug.assert(void 0!==c||265===t.kind||p.isJSDocCommentContainingNode(t)),r.length?(n=d(r,r.length))&&u(n):void 0}(c||o);return p.Debug.assert(!(e&&b(e))),e;function u(e){return p.isToken(e)?e:(e=d(e=e.getChildren(),e.length))&&u(e)}function d(e,t){for(var n=t-1;0<=n;n--)if(b(e[n]))p.Debug.assert(0<n,"`JsxText` tokens should not be the first child of `JsxElement | JsxSelfClosingElement`");else if(k(e[n]))return e[n]}}function b(e){return p.isJsxText(e)&&e.containsOnlyWhiteSpaces}function x(e,t,n,r){return!!p.formatting.getRangeOfEnclosingComment(e,t,!1,void 0,n,r)}function k(e){return 0!==e.getWidth()}function S(e){return 71===e||p.isKeyword(e)}p.getLineStartPositionForPosition=function(e,t){return p.getLineStarts(t)[t.getLineAndCharacterOfPosition(e).line]},p.rangeContainsRange=function(e,t){return c(e.pos,e.end,t)},p.startEndContainsRange=c,p.rangeContainsStartEnd=function(e,t,n){return e.pos<=t&&e.end>=n},p.rangeOverlapsWithStartEnd=function(e,t,n){return l(e.pos,e.end,t,n)},p.startEndOverlapsWithStartEnd=l,p.positionBelongsToNode=function(e,t,n){return t<e.end||!u(e,n)},p.isCompletedNode=u,p.findListItemInfo=function(e){var t,n=m(e);if(n)return t=n.getChildren(),{listItemIndex:p.indexOfNode(t,e),list:n}},p.hasChildOfKind=f,p.findChildOfKind=_,p.findContainingList=m,p.getTouchingWord=function(e,t,n){return g(e,t,n,function(e){return S(e.kind)})},p.getTouchingPropertyName=function(e,t,n){return g(e,t,n,function(e){return 9===(e=e.kind)||8===e||S(e)})},p.getTouchingToken=g,p.getTokenAtPosition=h,p.findTokenOnLeftOfPosition=function(e,t){var n=h(e,t,!1);return p.isToken(n)&&t>n.getStart(e)&&t<n.getEnd()?n:v(t,e)},p.findNextToken=function(a,e){return function e(t){if(p.isToken(t)&&t.pos===a.end)return t;for(var n=0,r=t.getChildren();n<r.length;n++){var i=r[n];if((i.pos<=a.pos&&i.end>a.end||i.pos===a.end)&&k(i))return e(i)}}(e)},p.findPrecedingToken=v,p.isInString=function(e,t){e=v(t,e);if(e&&p.isStringTextContainingNode(e)){var n=e.getStart(),r=e.getEnd();if(n<t&&t<r)return!0;if(t===r)return!!e.isUnterminated}return!1},p.isInsideJsxElementOrAttribute=function(e,t){e=h(e,t,!1);return!!e&&(10===e.kind||27===e.kind&&10===e.parent.kind||27===e.kind&&256===e.parent.kind||!(!e||18!==e.kind||256!==e.parent.kind)||27===e.kind&&252===e.parent.kind)},p.isWhiteSpaceOnlyJsxText=b,p.isInTemplateString=function(e,t){var n=h(e,t,!1);return p.isTemplateLiteralKind(n.kind)&&t>n.getStart(e)},p.isInComment=x,p.hasDocComment=function(n,e){e=h(n,e,!1),e=p.getLeadingCommentRanges(n.text,e.pos);return p.forEach(e,function(e){var t=n.text;return t.length>=e.pos+3&&"/"===t[e.pos]&&"*"===t[e.pos+1]&&"*"===t[e.pos+2]})},p.getNodeModifiers=function(e){var t=p.getCombinedModifierFlags(e),n=[];return 8&t&&n.push("private"),16&t&&n.push("protected"),4&t&&n.push("public"),32&t&&n.push("static"),128&t&&n.push("abstract"),1&t&&n.push("export"),p.isInAmbientContext(e)&&n.push("declare"),0<n.length?n.join(","):""},p.getTypeArgumentOrTypeParameterList=function(e){return 159===e.kind||181===e.kind?e.typeArguments:p.isFunctionLike(e)||229===e.kind||230===e.kind?e.typeParameters:void 0},p.isWord=S,p.isComment=function(e){return 2===e||3===e},p.isStringOrRegularExpressionOrTemplateLiteral=function(e){return!(9!==e&&12!==e&&!p.isTemplateLiteralKind(e))},p.isPunctuation=function(e){return 17<=e&&e<=70},p.isInsideTemplateLiteral=function(e,t){return p.isTemplateLiteralKind(e.kind)&&e.getStart()<t&&t<e.getEnd()||!!e.isUnterminated&&t===e.getEnd()},p.isAccessibilityModifier=function(e){switch(e){case 114:case 112:case 113:return!0}return!1},p.cloneCompilerOptions=function(e){var t=p.clone(e);return p.setConfigFileInOptions(t,e&&e.configFile),t},p.isArrayLiteralOrObjectLiteralDestructuringPattern=function e(t){if(177===t.kind||178===t.kind){if(194===t.parent.kind&&t.parent.left===t&&58===t.parent.operatorToken.kind)return!0;if(216===t.parent.kind&&t.parent.initializer===t)return!0;if(e((261===t.parent.kind?t.parent:t).parent))return!0}return!1},p.hasTrailingDirectorySeparator=function(e){e=e.charAt(e.length-1);return"/"===e||"\\"===e},p.isInReferenceComment=function(t,e){return x(t,e,void 0,function(e){e=t.text.substring(e.pos,e.end);return o.test(e)})},p.isInNonReferenceComment=function(t,e){return x(t,e,void 0,function(e){e=t.text.substring(e.pos,e.end);return!o.test(e)})},p.createTextSpanFromNode=function(e,t){return p.createTextSpanFromBounds(e.getStart(t),e.getEnd())},p.createTextSpanFromRange=function(e){return p.createTextSpanFromBounds(e.pos,e.end)},p.isTypeKeyword=function(e){switch(e){case 119:case 122:case 130:case 133:case 134:case 136:case 137:case 105:return!0;default:return!1}},p.isExternalModuleSymbol=function(e){return p.Debug.assert(!!(1536&e.flags)),34===e.name.charCodeAt(0)},p.nodeSeenTracker=function(){var t=[];return function(e){e=p.getNodeId(e);return!t[e]&&(t[e]=!0)}}}(ts=ts||{}),function(o){function n(e){return e.declarations&&0<e.declarations.length&&146===e.declarations[0].kind}o.isFirstDeclarationOfSymbolParameter=n;e();var r,t,i,a={displayParts:function(){return r},writeKeyword:function(e){return c(e,o.SymbolDisplayPartKind.keyword)},writeOperator:function(e){return c(e,o.SymbolDisplayPartKind.operator)},writePunctuation:function(e){return c(e,o.SymbolDisplayPartKind.punctuation)},writeSpace:function(e){return c(e,o.SymbolDisplayPartKind.space)},writeStringLiteral:function(e){return c(e,o.SymbolDisplayPartKind.stringLiteral)},writeParameter:function(e){return c(e,o.SymbolDisplayPartKind.parameterName)},writeProperty:function(e){return c(e,o.SymbolDisplayPartKind.propertyName)},writeSymbol:function(e,t){s(),r.push(l(e,t))},writeLine:function(){r.push(f()),t=!0},increaseIndent:function(){i++},decreaseIndent:function(){i--},clear:e,trackSymbol:o.noop,reportInaccessibleThisError:o.noop,reportPrivateInBaseOfClassExpression:o.noop};function s(){var e;t&&((e=o.getIndentString(i))&&r.push(u(e,o.SymbolDisplayPartKind.space)),t=!1)}function c(e,t){s(),r.push(u(e,t))}function e(){r=[],t=!0,i=0}function l(e,t){return u(e,3&(e=t.flags)?n(t)?o.SymbolDisplayPartKind.parameterName:o.SymbolDisplayPartKind.localName:4&e||32768&e||65536&e?o.SymbolDisplayPartKind.propertyName:8&e?o.SymbolDisplayPartKind.enumMemberName:16&e?o.SymbolDisplayPartKind.functionName:32&e?o.SymbolDisplayPartKind.className:64&e?o.SymbolDisplayPartKind.interfaceName:384&e?o.SymbolDisplayPartKind.enumName:1536&e?o.SymbolDisplayPartKind.moduleName:8192&e?o.SymbolDisplayPartKind.methodName:262144&e?o.SymbolDisplayPartKind.typeParameterName:524288&e||2097152&e?o.SymbolDisplayPartKind.aliasName:o.SymbolDisplayPartKind.text)}function u(e,t){return{text:e,kind:o.SymbolDisplayPartKind[t]}}function d(e){return u(o.tokenToString(e),o.SymbolDisplayPartKind.keyword)}function p(e){return u(e,o.SymbolDisplayPartKind.text)}function f(){return u("\n",o.SymbolDisplayPartKind.lineBreak)}function _(e){try{return e(a),a.displayParts()}finally{a.clear()}}function m(e){return e.parent&&(242===e.parent.kind||246===e.parent.kind)&&e.parent.propertyName===e}function g(e,t){return o.ensureScriptKind(e,t&&t.getScriptKind&&t.getScriptKind(e))}o.symbolPart=l,o.displayPart=u,o.spacePart=function(){return u(" ",o.SymbolDisplayPartKind.space)},o.keywordPart=d,o.punctuationPart=function(e){return u(o.tokenToString(e),o.SymbolDisplayPartKind.punctuation)},o.operatorPart=function(e){return u(o.tokenToString(e),o.SymbolDisplayPartKind.operator)},o.textOrKeywordPart=function(e){var t=o.stringToToken(e);return void 0===t?p(e):d(t)},o.textPart=p,o.getNewLineOrDefaultFromHost=function(e){return e.getNewLine?e.getNewLine():"\r\n"},o.lineBreakPart=f,o.mapToDisplayParts=_,o.typeToDisplayParts=function(t,n,r,i){return _(function(e){t.getSymbolDisplayBuilder().buildTypeDisplay(n,e,r,i)})},o.symbolToDisplayParts=function(t,n,r,i,a){return _(function(e){t.getSymbolDisplayBuilder().buildSymbolDisplay(n,e,r,i,a)})},o.signatureToDisplayParts=function(t,n,r,i){return i|=65536,_(function(e){t.getSymbolDisplayBuilder().buildSignatureDisplay(n,e,r,i)})},o.getDeclaredName=function(e,t,n){return m(n)||o.isStringOrNumericLiteral(n)&&144===n.parent.kind?o.getTextOfIdentifierOrLiteral(n):(n=o.getLocalSymbolForExportDefault(t),e.symbolToString(n||t))},o.isImportOrExportSpecifierName=m,o.stripQuotes=function(e){var t=e.length;return 2<=t&&e.charCodeAt(0)===e.charCodeAt(t-1)&&o.isSingleOrDoubleQuote(e.charCodeAt(0))?e.substring(1,t-1):e},o.scriptKindIs=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=g(e,t);return o.forEach(n,function(e){return e===i})},o.getScriptKind=g,o.getUniqueSymbolId=function(e,t){return o.getSymbolId(o.skipAlias(e,t))},o.getFirstNonSpaceCharacterPosition=function(e,t){for(;o.isWhiteSpaceLike(e.charCodeAt(t));)t+=1;return t},o.getOpenBrace=function(e,t){return e.body.getFirstToken(t)},o.getOpenBraceOfClassLike=function(e,t){return o.getTokenAtPosition(t,e.members.pos-1,!1)},o.getSourceFileImportLocation=function(e){var t=e.text,n=o.getLeadingCommentRanges(t,0);if(!n)return 0;var r=0;n.length&&3===n[0].kind&&o.isPinnedComment(t,n[0])&&(r=n[0].end+1,n=n.slice(1));for(var i=0,a=n;i<a.length;i++){var s=a[i];if(2!==s.kind||!o.isRecognizedTripleSlashComment(e.text,s.pos,s.end))break;r=s.end+1}return r},o.getSynthesizedDeepClone=function e(t){var n,r;if(void 0!==t)return(n=o.visitEachChild(t,e,o.nullTransformationContext))===t?(r=o.getSynthesizedClone(t),o.isStringLiteral(r)?r.textSourceNode=t:o.isNumericLiteral(r)&&(r.numericLiteralFlags=t.numericLiteralFlags),r.pos=t.pos,r.end=t.end,r):(n.parent=void 0,n)},o.suppressLeadingAndTrailingTrivia=function(e){o.Debug.assert(void 0!==e),function e(t){o.addEmitFlags(t,512);t=o.forEachChild(t,function(e){return e});t&&e(t)}(e),function e(t){o.addEmitFlags(t,1024);var n=void 0;o.forEachChild(t,function(e){n=e},function(e){e.length&&(n=o.last(e))}),n&&e(n)}(e)}}(ts=ts||{}),function(x){function v(e,t){switch(t){case 233:case 229:case 230:case 228:e.throwIfCancellationRequested()}}function a(a,s,e,o,c){var l=[];return function e(t){var n,r,i;t&&x.textSpanIntersectsWith(c,t.getFullStart(),t.getFullWidth())&&(i=t.kind,v(s,i),71!==i||x.nodeIsMissing(t)||o.has(t.escapedText)&&(i=a.getSymbolAtLocation(t))&&(i=function(e,t){var n=e.getFlags();if(0!=(788448&n)){if(32&n)return 11;if(384&n)return 12;if(524288&n)return 16;if(2&t){if(64&n)return 13;if(262144&n)return 15}else if(1536&n&&(4&t||1&t&&x.forEach(e.declarations,function(e){return 233===e.kind&&1===x.getModuleInstanceState(e)})))return 14}}(i,x.getMeaningFromLocation(t)))&&(n=t.getStart(),r=t.getWidth(),i=i,l.push(n),l.push(r),l.push(i)),x.forEachChild(t,e))}(e),{spans:l,endOfLineState:0}}function s(e){x.Debug.assert(e.spans.length%3==0);for(var t=e.spans,n=[],r=0;r<t.length;r+=3)n.push({textSpan:x.createTextSpan(t[r],t[r+1]),classificationType:function(e){switch(e){case 1:return"comment";case 2:return"identifier";case 3:return"keyword";case 4:return"number";case 5:return"operator";case 6:return"string";case 8:return"whitespace";case 9:return"text";case 10:return"punctuation";case 11:return"class name";case 12:return"enum name";case 13:return"interface name";case 14:return"module name";case 15:return"type parameter name";case 16:return"type alias name";case 17:return"parameter name";case 18:return"doc comment tag name";case 19:return"jsx open tag name";case 20:return"jsx close tag name";case 21:return"jsx self closing tag name";case 22:return"jsx attribute";case 23:return"jsx text";case 24:return"jsx attribute string literal value"}}(t[r+2])});return n}function r(c,l,e){var u=e.start,d=e.length,p=x.createScanner(5,!1,l.languageVariant,l.text),o=x.createScanner(5,!1,l.languageVariant,l.text),r=[];return y(l),{spans:r,endOfLineState:0};function f(e,t,n){r.push(e),r.push(t),r.push(n)}function _(e,t,n,r){if(3===t){t=x.parseIsolatedJSDocComment(l.text,n,r);if(t&&t.jsDoc){t.jsDoc.parent=e;{e=t.jsDoc;var i=e.pos;if(e.tags)for(var a=0,s=e.tags;a<s.length;a++){var o=s[a];switch(o.pos!==i&&m(i,o.pos-i),f(o.atToken.pos,o.atToken.end-o.atToken.pos,10),f(o.tagName.pos,o.tagName.end-o.tagName.pos,18),i=o.tagName.end,o.kind){case 279:!function(e){e.isNameFirst&&(m(i,e.name.pos-i),f(e.name.pos,e.name.end-e.name.pos,17),i=e.name.end),e.typeExpression&&(m(i,e.typeExpression.pos-i),y(e.typeExpression),i=e.typeExpression.end),e.isNameFirst||(m(i,e.name.pos-i),f(e.name.pos,e.name.end-e.name.pos,17),i=e.name.end)}(o);break;case 282:!function(e){for(var t=0,n=e.getChildren();t<n.length;t++)y(n[t])}(o);break;case 281:case 280:y(o.typeExpression)}i=o.end}i!==e.end&&m(i,e.end-i);return}}}m(n,r)}function m(e,t){f(e,t,1)}function g(e,t,n){for(var r,i,a,s=t;s<n&&!x.isLineBreak(e.charCodeAt(s));s++);for(f(t,s-t,1),o.setTextPos(s);o.getTextPos()<n;)i=a=i=r=void 0,r=o.getTextPos(),i=o.scan(),a=o.getTextPos(),(i=h(i))&&f(r,a-r,i)}function h(e,t){if(x.isKeyword(e))return 3;if((27===e||29===e)&&t&&x.getTypeArgumentOrTypeParameterList(t.parent))return 10;if(x.isPunctuation(e)){if(t){if(58===e&&(226===t.parent.kind||149===t.parent.kind||146===t.parent.kind||253===t.parent.kind))return 5;if(194===t.parent.kind||192===t.parent.kind||193===t.parent.kind||195===t.parent.kind)return 5}return 10}if(8===e)return 4;if(9===e)return 253===t.parent.kind?24:6;if(12===e)return 6;if(x.isTemplateLiteralKind(e))return 6;if(10===e)return 23;if(71===e){if(t)switch(t.parent.kind){case 229:return t.parent.name===t?11:void 0;case 145:return t.parent.name===t?15:void 0;case 230:return t.parent.name===t?13:void 0;case 232:return t.parent.name===t?12:void 0;case 233:return t.parent.name===t?14:void 0;case 146:return t.parent.name===t?x.isThisIdentifier(t)?3:17:void 0}return 2}}function y(e){if(e&&x.decodedTextSpanIntersectsWith(u,d,e.pos,e.getFullWidth())){v(c,e.kind);for(var t=0,n=e.getChildren(l);t<n.length;t++){var r=n[t];i=r,o=s=a=void 0,x.isJSDoc(i)||x.nodeIsMissing(i)||(o=function(e){switch(e.parent&&e.parent.kind){case 251:if(e.parent.tagName===e)return 19;break;case 252:if(e.parent.tagName===e)return 20;break;case 250:if(e.parent.tagName===e)return 21;break;case 253:if(e.parent.name===e)return 22}}(i),x.isToken(i)||10===i.kind||void 0!==o?(a=10===i.kind?i.pos:function(e){for(p.setTextPos(e.pos);;){var t=p.getTextPos();if(!x.couldStartTrivia(l.text,t))return t;var n,r=p.scan(),i=p.getTextPos(),a=i-t;if(!x.isTrivia(r))return t;4!==r&&5!==r&&(x.isComment(r)?(_(e,r,t,a),p.setTextPos(i)):7===r&&(60===(n=(r=l.text).charCodeAt(t))||62===n?f(t,a,1):(x.Debug.assert(124===n||61===n),g(r,t,i))))}}(i),s=i.end-a,x.Debug.assert(0<=s),0<s&&(o=o||h(i.kind,i))&&f(a,s,o),1):void 0)||y(r)}}var i,a,s,o}}x.createClassifier=function(){var h=x.createScanner(5,!1),y=[],v=(y[71]=!0,y[9]=!0,y[8]=!0,y[12]=!0,y[99]=!0,y[43]=!0,y[44]=!0,y[20]=!0,y[22]=!0,y[18]=!0,y[101]=!0,y[86]=!0,[]);function d(e,t,n){for(var r=0,i=0,a=0;0<v.length;)v.pop();switch(t){case 3:e='"\\\n'+e,r=3;break;case 2:e="'\\\n"+e,r=3;break;case 1:e="/*\n"+e,r=3;break;case 4:e="`\n"+e,r=2;break;case 5:e="}\n"+e,r=2;case 6:v.push(14)}h.setText(e);var s={endOfLineState:0,spans:[]},o=0;do{var c,i=h.scan(),l=(x.isTrivia(i)||(41!==i&&63!==i||y[a]?23===a&&b(i)||b(a)&&b(i)&&(c=a,l=i,x.isAccessibilityModifier(c))&&125!==l&&135!==l&&123!==l&&115!==l?i=71:71===a&&27===i?o++:29===i&&0<o?o--:119===i||136===i||133===i||122===i||137===i?0<o&&!n&&(i=71):14===i?v.push(i):17===i?0<v.length&&v.push(i):18===i&&0<v.length&&(14===(c=x.lastOrUndefined(v))?16===(i=h.reScanTemplateToken())?v.pop():x.Debug.assertEqual(i,15,"Should have been a template middle."):(x.Debug.assertEqual(c,17,"Should have been an open brace"),v.pop())):12===h.reScanSlashToken()&&(i=12),a=i),g=m=_=u=l=void 0,h.getTokenPos()),u=h.getTextPos(),d=l,p=u,f=function(e){if(b(e))return 3;if(function(){switch(e){case 39:case 41:case 42:case 37:case 38:case 45:case 46:case 47:case 27:case 29:case 30:case 31:case 93:case 92:case 118:case 32:case 33:case 34:case 35:case 48:case 50:case 49:case 53:case 54:case 69:case 68:case 70:case 65:case 66:case 67:case 59:case 60:case 61:case 63:case 64:case 58:case 26:return 1;default:return}}()||function(){switch(e){case 37:case 38:case 52:case 51:case 43:case 44:return 1;default:return}}())return 5;if(17<=e&&e<=70)return 10;switch(e){case 8:return 4;case 9:return 6;case 12:return 7;case 7:case 3:case 2:return 1;case 5:case 4:return 8;default:return x.isTemplateLiteralKind(e)?6:2}}(i);if(8!==f&&(0===d&&0<r&&(d+=r),0<(p=(p-=r)-(d-=r)))&&(s.spans.push(d),s.spans.push(p),s.spans.push(f)),u>=e.length)if(9===i){var _=h.getTokenText();if(h.isUnterminated()){for(var m=_.length-1,g=0;92===_.charCodeAt(m-g);)g++;1&g&&(l=_.charCodeAt(0),s.endOfLineState=34===l?3:2)}}else 3===i?h.isUnterminated()&&(s.endOfLineState=1):x.isTemplateLiteralKind(i)?h.isUnterminated()&&(16===i?s.endOfLineState=5:13===i?s.endOfLineState=4:x.Debug.fail("Only 'NoSubstitutionTemplateLiteral's and 'TemplateTail's can be unterminated; got SyntaxKind #"+i)):0<v.length&&14===x.lastOrUndefined(v)&&(s.endOfLineState=6)}while(1!==i);return s}function b(e){return 72<=e&&e<=142}return{getClassificationsForLine:function(e,t,n){for(var t=d(e,t,n),n=e,r=[],i=t.spans,a=0,s=0;s<i.length;s+=3){var o,c=i[s],l=i[s+1],u=i[s+2];0<=a&&0<(o=c-a)&&r.push({length:o,classification:x.TokenClass.Whitespace}),r.push({length:l,classification:function(e){switch(e){case 1:return x.TokenClass.Comment;case 3:return x.TokenClass.Keyword;case 4:return x.TokenClass.NumberLiteral;case 5:return x.TokenClass.Operator;case 6:return x.TokenClass.StringLiteral;case 8:return x.TokenClass.Whitespace;case 10:return x.TokenClass.Punctuation;default:return x.TokenClass.Identifier}}(u)}),a=c+l}return 0<(n=n.length-a)&&r.push({length:n,classification:x.TokenClass.Whitespace}),{entries:r,finalLexState:t.endOfLineState}},getEncodedLexicalClassifications:d}},x.getSemanticClassifications=function(e,t,n,r,i){return s(a(e,t,n,r,i))},x.getEncodedSemanticClassifications=a,x.getSyntacticClassifications=function(e,t,n){return s(r(e,t,n))},x.getEncodedSyntacticClassifications=r}(ts=ts||{}),function(b){function x(e,t,n,r,i,a,s,o){void 0===o&&(o=[]),e=b.normalizeSlashes(e=void 0===e?"":e),""===(e=b.getDirectoryPath(e))&&(e="."+b.directorySeparator),e=b.ensureTrailingDirectorySeparator(e);var e=C(b.isRootedDiskPath(e)?e:b.combinePaths(t,e)),e=b.getDirectoryPath(e),c=!(a.useCaseSensitiveFileNames&&a.useCaseSensitiveFileNames());if(h(a,e)){n=E(a,e,n,void 0,["./*"]);if(n){for(var l=b.createMap(),u=0,d=n;u<d.length;u++){var p=d[u],p=b.normalizePath(p);s&&0===b.comparePaths(p,s,t,c)||(p=r?b.getBaseFileName(p):b.removeFileExtension(b.getBaseFileName(p)),l.get(p))||l.set(p,!0)}b.forEachKey(l,function(e){o.push(T(e,"script",i))})}n=g(a,e);if(n)for(var f=0,_=n;f<_.length;f++){var m=_[f],m=b.getBaseFileName(b.normalizePath(m));o.push(T(m,"directory",i))}}return o}function k(e,t,n,r,i){if(void 0===i&&(i=[]),t.types)for(var a=0,s=t.types;a<s.length;a++){var o=s[a];i.push(T(o,"external module name",r))}else if(e.getDirectories){var c=void 0;try{c=b.getEffectiveTypeRoots(t,e)}catch(e){}if(c)for(var l=0,u=c;l<u.length;l++)_(e,u[l],r,i)}if(e.getDirectories)for(var d=0,p=S(n,e);d<p.length;d++){var f=p[d];_(e,b.combinePaths(b.getDirectoryPath(f),"node_modules/@types"),r,i)}return i}function _(e,t,n,r){if(e.getDirectories&&h(e,t)){e=g(e,t);if(e)for(var i=0,a=e;i<a.length;i++){var s=a[i],s=b.normalizePath(s);r.push(T(b.getBaseFileName(s),"external module name",n))}}}function S(e,t){for(var n=[];r=b.findConfigFile(e,function(e){return D(t,t.fileExists,e)},"package.json");){n.push(r),e=b.getDirectoryPath(r);var r=b.getDirectoryPath(e);if(e===r)break;e=r}return n}function T(e,t,n){return{name:e,kind:t,kindModifiers:"",sortText:e,replacementSpan:n}}function d(e,t){var n=e.lastIndexOf(b.directorySeparator),n=-1!==n?n+1:0;return{start:t+n,length:e.length-n}}function C(e){return b.hasTrailingDirectorySeparator(e)?b.ensureTrailingDirectorySeparator(b.normalizePath(e)):b.normalizePath(e)}function g(e,t){return D(e,e.getDirectories,t)}function E(e,t,n,r,i){return D(e,e.readDirectory,t,n,r,i)}function h(e,t){try{return b.directoryProbablyExists(t,e)}catch(e){}}function D(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return t&&t.apply(e,n)}catch(e){}}var e,p,A;(e=(e=b.Completions||(b.Completions={})).PathCompletions||(e.PathCompletions={})).getStringLiteralCompletionEntriesFromModuleNames=function(e,g,t,n){var r,i=b.normalizeSlashes(e.text),a=e.getSourceFile().path,s=b.getDirectoryPath(a),e=d(e.text,e.getStart()+1);return{isGlobalCompletion:!1,isMemberCompletion:!1,isNewIdentifierLocation:!0,entries:function(e){var t;if(e&&2<=e.length&&46===e.charCodeAt(0))return t=3<=e.length&&46===e.charCodeAt(1)?2:1,47===(e=e.charCodeAt(t))||92===e}(i)||b.isRootedDiskPath(i)?(r=b.getSupportedExtensions(g),g.rootDirs?function(e,t,n,r,i,a,s){var o=g.project||a.getCurrentDirectory(),c=!(a.useCaseSensitiveFileNames&&a.useCaseSensitiveFileNames());l=o,u=n,d=c,o=b.map(e,function(e){return b.normalizePath(b.isRootedDiskPath(e)?e:b.combinePaths(l,e))}),p=b.forEach(o,function(e){return b.containsPath(e,u,l,d)?u.substr(e.length):void 0});for(var l,u,d,p,f=[],_=0,m=b.deduplicate(b.map(o,function(e){return b.combinePaths(e,p)}));_<m.length;_++)x(t,m[_],r,!1,i,a,s,f);return f}(g.rootDirs,i,s,r,e,t,a):x(i,s,r,!1,e,t,a)):function(e,t,n,r,i,a){var s=r.baseUrl,o=r.paths;if(s){var c=b.getSupportedExtensions(r),l=r.project||i.getCurrentDirectory(),l=b.isRootedDiskPath(s)?s:b.combinePaths(l,s),u=x(e,b.normalizePath(l),c,!1,n,i);if(o)for(var d in o)if(o.hasOwnProperty(d))if("*"===d){if(o[d])for(var p=0,f=o[d];p<f.length;p++)for(var _=0,m=function(e,t,n,r,i){if(i.readDirectory){n=b.hasZeroOrOneAsteriskCharacter(n)?b.tryParsePattern(n):void 0;if(n){var a=C(n.prefix),s=b.getDirectoryPath(a),a=b.getBaseFileName(a),o=b.stringContains(e,b.directorySeparator),e=o?b.combinePaths(s,a+b.getDirectoryPath(e)):s,c=b.normalizePath(n.suffix),s=b.combinePaths(t,e),l=o?s:b.ensureTrailingDirectorySeparator(s)+a,n=E(i,s,r,void 0,[c?"**/*":"./*"]);if(n){for(var u=[],d=0,p=n;d<p.length;d++){var f,_,m=p[d],m=b.normalizePath(m);b.endsWith(m,c)&&b.startsWith(m,l)&&(f=l.length,_=m.length-f-c.length,u.push(b.removeFileExtension(m.substr(f,_))))}return u}}}}(e,s,f[p],c,i);_<m.length;_++){var g=m[_];u.push(T(g,"external module name",n))}}else b.startsWith(d,e)&&o[d]&&1===o[d].length&&o[d][0]&&u.push(T(d,"external module name",n))}else u=[];k(i,r,t,n,u);for(var h=0,y=function(t,h,e,n,r){var i,a=b.stringContains(t,b.directorySeparator),s=a?t.substr(0,t.lastIndexOf(b.directorySeparator)):void 0,n=b.map(n.getAmbientModules(),function(e){return b.stripQuotes(e.name)}),o=b.filter(n,function(e){return b.startsWith(e,t)});if(a&&(i=b.ensureTrailingDirectorySeparator(s),o=b.map(o,function(e){return b.removePrefix(e,i)})),!e.moduleResolution||e.moduleResolution===b.ModuleResolutionKind.NodeJs)for(var c=0,l=function(n){var e=[];if(n.readFile&&n.fileExists)for(var t=0,r=S(h,n);t<r.length;t++){var i=r[t],a=function(e){try{var t=D(n,n.readFile,e);return t?JSON.parse(t):void 0}catch(e){}}(i);if(!a)return;for(var s=b.combinePaths(b.getDirectoryPath(i),"node_modules"),o=[],c=0,l=A;c<l.length;c++){p=d=u=void 0;var u=a[l[c]],d=o;if(u)for(var p in u)u.hasOwnProperty(p)&&!b.startsWith(p,"@types/")&&d.push(p)}for(var f=0,_=o;f<_.length;f++){var m=_[f],g=b.combinePaths(s,m);e.push({moduleName:m,moduleDir:g})}}return e}(r);c<l.length;c++){var u=l[c];if(a){if(b.startsWith(u.moduleName,s)){var d=E(r,u.moduleDir,b.supportedTypeScriptExtensions,void 0,["./*"]);if(d)for(var p=0,f=d;p<f.length;p++){var _=f[p],_=b.normalizePath(_),_=b.removeFileExtension(b.getBaseFileName(_));o.push(_)}}}else o.push(u.moduleName)}return b.deduplicate(o)}(e,t,r,a,i);h<y.length;h++){var v=y[h];u.push(T(v,"external module name",n))}return u}(i,s,e,g,t,n)}},e.getTripleSlashReferenceCompletion=function(e,t,n,r){var i=b.getTokenAtPosition(e,t,!1);if(i){i=b.getLeadingCommentRanges(e.text,i.pos);if(i&&i.length){var a,s,o,c,l,u,i=b.forEach(i,function(e){return t>=e.pos&&t<=e.end&&e});if(i)return a={isGlobalCompletion:!1,isMemberCompletion:!1,isNewIdentifierLocation:!0,entries:[]},s=e.text.substr(i.pos,t-i.pos),(s=p.exec(s))&&(o=s[1],l=s[2],u=s[3],c=b.getDirectoryPath(e.path),"path"===l?(l=d(u,i.pos+o.length),a.entries=x(u,c,b.getSupportedExtensions(n),!0,l,r,e.path)):(u={start:i.pos+o.length,length:s[0].length-o.length},a.entries=k(r,n,c,u))),a}}},p=/^(\/\/\/\s*<reference\s+(path|types)\s*=\s*(?:'|"))([^\3"]*)$/,A=["dependencies","devDependencies","peerDependencies","optionalDependencies"]}(ts=ts||{}),function(R){function h(e){return e&&R.stripQuotes(e.moduleSymbol.name)}function I(e,t,n,r,i,a,s,o,c){var l=R.timestamp(),u=R.createMap();if(e)for(var d=0,p=e;d<p.length;d++){var f,_=p[d],m=c?c[R.getSymbolId(_)]:void 0,g=function(e,t,n,r,i,a,s){if(i=y(e,i,n,a))return{name:i,kind:R.SymbolDisplay.getSymbolKind(r,e,t),kindModifiers:R.SymbolDisplay.getSymbolModifiers(e),sortText:"0",source:h(s),hasAction:void 0!==s||void 0}}(_,n,r,i,a,o,m);g&&(f=g.name,u.has(f)||(m||void 0===_.parent&&!R.some(_.declarations,function(e){return e.getSourceFile()===n.getSourceFile()})||u.set(f,!0),t.push(g)))}return s("getCompletionsAtPosition: getCompletionEntriesFromSymbols: "+(R.timestamp()-l)),u}function P(e,t){if(e){var n=[];if(O(e,n,t),n.length)return{isGlobalCompletion:!1,isMemberCompletion:!1,isNewIdentifierLocation:!1,entries:n}}}function O(e,t,n,r){if(void 0===r&&(r=R.createMap()),e=e&&16384&e.flags?n.getBaseConstraintOfType(e):e)if(65536&e.flags)for(var i=0,a=e.types;i<a.length;i++)O(a[i],t,n,r);else 32&e.flags&&!(256&e.flags)&&(e=e.value,r.has(e)||(r.set(e,!0),t.push({name:e,kindModifiers:"",kind:"var",sortText:"0"})))}function d(e,t,n,r,i,a,s){var o,c,l=a.name,u=a.source,a=F(e,t,r,i,s);if(a)return e=a.symbols,t=a.location,o=a.allowStringLiteral,c=a.symbolToOriginInfoMap,(r=R.find(e,function(e){return y(e,n.target,!1,o)===l&&h(c[R.getSymbolId(e)])===u}))&&{symbol:r,location:t,symbolToOriginInfoMap:c}}function F(_,e,m,g,h){var t,s=R.isSourceFileJavaScript(m),n=R.timestamp(),u=R.getTokenAtPosition(m,g,!1),r=(e("getCompletionData: Get current token: "+(R.timestamp()-n)),n=R.timestamp(),R.isInComment(m,g,u)),y=(e("getCompletionData: Is inside comment: "+(R.timestamp()-n)),!1);if(r){R.hasDocComment(m,g)&&(64===m.text.charCodeAt(g-1)?t={kind:"JsDocTagName"}:(r=R.getLineStartPositionForPosition(g,m),m.text.substring(r,g).match(/[^\*|\s|(/\*\*)]/)||(t={kind:"JsDocTag"})));var i=function(e){var t=function(e){if(!R.isToken(e))return e;switch(e.kind){case 104:case 110:case 76:return e.parent.parent;default:return e.parent}}(u).jsDoc;if(t)for(var n=0,r=t;n<r.length;n++){var i=r[n],a=i.pos,s=i.end,o=i.tags;if(!(!o||e<a||s<e))for(var c=o.length-1;0<=c;c--){var l=o[c];if(e>=l.pos)return l}}}(g);if(t=i&&(i.tagName.pos<=g&&g<=i.tagName.end&&(t={kind:"JsDocTagName"}),function(){switch(i.kind){case 279:case 284:case 280:case 281:case 283:return 1}}()&&i.typeExpression&&267===i.typeExpression.kind&&((u=R.getTokenAtPosition(m,g,!0))&&(R.isDeclarationName(u)||284===u.parent.kind&&u.parent.name===u)||(y=L(i.typeExpression))),R.isJSDocParameterTag(i))&&(R.nodeIsMissing(i.name)||i.name.pos<=g&&g<=i.name.end)?{kind:"JsDocParameterName",tag:i}:t)return{symbols:void 0,isGlobalCompletion:!1,isMemberCompletion:!1,allowStringLiteral:!1,isNewIdentifierLocation:!1,location:void 0,isRightOfDot:!1,request:t,keywordFilters:0,symbolToOriginInfoMap:void 0};if(!y)return void e("Returning an empty list because completion was inside a regular comment or plain text part of a JsDoc comment.")}var a,o,n=R.timestamp(),v=R.findPrecedingToken(g,m,void 0,y),b=(e("getCompletionData: Get previous token 1: "+(R.timestamp()-n)),v),d=(b&&g<=b.end&&R.isWord(b.kind)&&(r=R.timestamp(),b=R.findPrecedingToken(b.getFullStart(),m,void 0,y),e("getCompletionData: Get previous token 2: "+(R.timestamp()-r))),u),n=!1,c=!1,l=!1,x=R.getTouchingPropertyName(m,g,y);if(b){if(a=b,r=R.timestamp(),o=function(e){if(9===e.kind||12===e.kind||R.isTemplateLiteralKind(e.kind)){var t=e.getStart(),n=e.getEnd();if(t<g&&g<n)return!0;if(g===n)return!!e.isUnterminated||12===e.kind}return!1}(a)||function(e){var t=e.parent.kind;switch(e.kind){case 26:return 226===t||227===t||208===t||232===t||F(t)||230===t||175===t||231===t||R.isClassLike(e.parent)&&e.parent.typeParameters&&e.parent.typeParameters.end>=e.pos;case 23:return 175===t;case 56:return 176===t;case 21:return 175===t;case 19:return 260===t||F(t);case 17:return 232===t||230===t||163===t;case 25:return 148===t&&e.parent&&e.parent.parent&&(230===e.parent.parent.kind||163===e.parent.parent.kind);case 27:return 229===t||199===t||230===t||231===t||R.isFunctionLikeKind(t);case 115:return 149===t&&!R.isClassLike(e.parent.parent);case 24:return 146===t||e.parent&&e.parent.parent&&175===e.parent.parent.kind;case 114:case 112:case 113:return 146===t&&!R.isConstructorDeclaration(e.parent.parent);case 118:return 242===t||246===t||240===t;case 125:case 135:if(P(e))return!1;case 75:case 83:case 109:case 89:case 104:case 91:case 110:case 76:case 116:case 138:return!0}if(B(e.getText())&&P(e))return!1;if(O(e)&&(!R.isIdentifier(e)||K(e.getText())||L(e)))return!1;switch(e.getText()){case"abstract":case"async":case"class":case"const":case"declare":case"enum":case"function":case"interface":case"let":case"private":case"protected":case"public":case"static":case"var":case"yield":return!0}return R.isDeclarationName(e)&&!R.isJsxAttribute(e.parent)}(a)||8===(o=a).kind&&"."===(o=o.getFullText()).charAt(o.length-1)||function(){if(10===a.kind)return!0;if(29===a.kind&&a.parent){if(251===a.parent.kind)return!0;if(252===a.parent.kind||250===a.parent.kind)return a.parent.parent&&249===a.parent.parent.kind}return!1}(),e("getCompletionsAtPosition: isCompletionListBlocker: "+(R.timestamp()-r)),o)return void e("Returning an empty list because completion was requested in an invalid position.");var p=b.parent;if(23===b.kind){if(179===p.kind)d=b.parent.expression;else{if(143!==p.kind)return;d=b.parent.left}n=!0}else if(1===m.languageVariant)switch(p&&179===p.kind&&(b=p,p=p.parent),p.kind){case 252:41===b.kind&&(l=!0,x=b);break;case 194:if(!(32768&p.left.flags))break;case 250:case 249:case 251:27===b.kind&&(c=!0,x=b)}}var r=R.timestamp(),k=!1,S=!1,T=0,C=[],E=[];if(n)!function(){A=!(D=!(k=!1));var e=y||R.isPartOfTypeNode(d.parent),t=R.isInRightSideOfInternalImportEqualsDeclaration(d);if(R.isEntityName(d)){var n=_.getSymbolAtLocation(d);if(n&&1920&(n=R.skipAlias(n,_)).flags){for(var r=_.getExportsOfModule(n),i=function(e){return _.isValidPropertyAccess(d.parent,e.name)},a=I,s=t?function(e){return a(e)||i(e)}:e?a:i,o=0,c=r;o<c.length;o++){var l=c[o];s(l)&&C.push(l)}return!e&&n.declarations.some(function(e){return 265!==e.kind&&233!==e.kind&&232!==e.kind})&&N(_.getTypeOfSymbolAtLocation(n,d))}}e||N(_.getTypeAtLocation(d))}();else if(c)var f=_.getJsxIntrinsicTagNames(),C=w()?f.concat(C.filter(function(e){return!!(2204607&e.flags)})):f,D=!0,A=!1;else if(l){f=b.parent.parent.openingElement.tagName,f=_.getSymbolAtLocation(f);_.isUnknownSymbol(f)||(C=[f]),A=!(D=!0)}else if(!w())return;return e("getCompletionData: Semantic work: "+(R.timestamp()-r)),{symbols:C,isGlobalCompletion:k,isMemberCompletion:D,allowStringLiteral:S,isNewIdentifierLocation:A,location:x,isRightOfDot:n||c,request:t,keywordFilters:T,symbolToOriginInfoMap:E};function N(e){for(var t=0,n=e.getApparentProperties();t<n.length;t++){var r=n[t];_.isValidPropertyAccess(d.parent,r.name)&&C.push(r)}if(s&&65536&e.flags)for(var i=0,a=e.types;i<a.length;i++)N(a[i])}function w(){var e,t,n,o,c;if(s=function(e){if(e)switch(e.kind){case 17:case 26:var t=e.parent;if(R.isObjectLiteralExpression(t)||R.isObjectBindingPattern(t))return t}}(b)){if(S=D=!0,178===s.kind){if(A=!0,!(i=_.getContextualType(s)))return;t=_,n=65536&(e=i).flags?(n=e.types.filter(function(e){return!(8190&e.flags||t.isArrayLikeType(e))}),t.getAllPossiblePropertiesOfTypes(n)):t.getPropertiesOfType(e),e=s.properties}else{R.Debug.assert(174===s.kind),A=!1;var r=R.getRootDeclaration(s.parent);if(!R.isVariableLike(r))throw R.Debug.fail("Root declaration is not variable-like.");var i,a=r.initializer||r.type||216===r.parent.parent.kind;if(a||146!==r.kind||(R.isExpression(r.parent)?a=!!_.getContextualType(r.parent):151!==r.parent.kind&&154!==r.parent.kind||(a=R.isExpression(r.parent.parent)&&!!_.getContextualType(r.parent.parent))),a){if(!(i=_.getTypeAtLocation(s)))return;n=_.getPropertiesOfType(i).filter(function(e){return!(24&R.getDeclarationModifierFlagsFromSymbol(e))}),e=s.elements}}return n&&0<n.length&&(C=function(e,t){if(!t||0===t.length)return e;for(var n=R.createUnderscoreEscapedMap(),r=0,i=t;r<i.length;r++){var a,s=i[r];261!==s.kind&&262!==s.kind&&176!==s.kind&&151!==s.kind&&153!==s.kind&&154!==s.kind||L(s)||(a=void 0,176===s.kind&&s.propertyName?71===s.propertyName.kind&&(a=s.propertyName.escapedText):(s=R.getNameOfDeclaration(s),a=R.getEscapedTextOfIdentifierOrLiteral(s)),n.set(a,!0))}return R.filter(e,function(e){return!n.get(e.escapedName)})}(n,e)),1}if(!(r=function(e){if(e)switch(e.kind){case 17:case 26:switch(e.parent.kind){case 241:case 245:return e.parent}}}(b))){if(function(e){if(e)switch(e.kind){case 19:case 26:return R.isConstructorDeclaration(e.parent)&&e.parent;default:if(O(e))return e.parent.parent}}(b))A=!(D=!1),T=2;else if(a=function(e){if(e)switch(e.kind){case 17:case 26:if(R.isClassLike(e.parent))return e.parent;break;case 25:case 18:if(R.isClassLike(x))return x;if(P(x)&&x.parent.name===x)return x.parent.parent;break;default:if(P(e)&&(U(e.kind)||B(e.getText())))return e.parent.parent}if(x&&286===x.kind&&R.isClassLike(x.parent))return x.parent}(b)){var s=a,l=(A=D=!0,T=1,R.getClassExtendsHeritageClauseElement(s)),u=R.getClassImplementsHeritageClauseElements(s);if(l||u){var d=b.parent,p=R.isClassElement(d)&&R.getModifierFlags(d);if(71===b.kind&&!L(b))switch(b.getText()){case"private":p|=8;break;case"static":p|=32}8&p||(d=void 0,l&&(d=_.getTypeAtLocation(l),32&p)&&(d=_.getTypeOfSymbolAtLocation(d.symbol,s)),l=32&p?R.emptyArray:R.flatMap(u||R.emptyArray,function(e){return _.getPropertiesOfType(_.getTypeAtLocation(e))}),C=function(e,t,n,r){for(var o=R.createUnderscoreEscapedMap(),i=0,a=n;i<a.length;i++){var s,c,l=a[i];149!==l.kind&&151!==l.kind&&153!==l.kind&&154!==l.kind||L(l)||R.hasModifier(l,8)||(s=!!(32&r),(c=R.hasModifier(l,32))&&!s)||!c&&s||(c=R.getPropertyNameForPropertyNameNode(l.name))&&o.set(c,!0)}var u=[];return d(e,8),d(t,24),u;function d(e,t){for(var n,r,i=0,a=e;i<a.length;i++){var s=a[i];n=s,r=t,o.get(n.escapedName)||!n.getDeclarations()||R.getDeclarationModifierFlagsFromSymbol(n)&r||u.push(s)}}}(d?_.getPropertiesOfType(d):R.emptyArray,l,s.members,p))}}else{if(u=function(e){if(e){var t=e.parent;switch(e.kind){case 28:case 41:case 71:case 179:case 254:case 253:case 255:if(t&&(250===t.kind||251===t.kind))return t;if(253===t.kind)return t.parent.parent;break;case 9:if(!t||253!==t.kind&&255!==t.kind)break;return t.parent.parent;case 18:if(t&&256===t.kind&&t.parent&&253===t.parent.kind)return t.parent.parent.parent;if(t&&255===t.kind)return t.parent.parent}}}(b)){d=void 0;if((250===u.kind||251===u.kind)&&(d=_.getAllAttributesTypeFromJsxOpeningLikeElement(u)))return C=function(e,t){for(var n=R.createUnderscoreEscapedMap(),r=0,i=t;r<i.length;r++){var a=i[r];L(a)||253===a.kind&&n.set(a.name.escapedText,!0)}return R.filter(e,function(e){return!n.get(e.escapedName)})}(_.getPropertiesOfType(d),u.attributes.properties),A=!(D=!0),1}D=!1,A=function(e){if(e){var t=e.parent.kind;switch(e.kind){case 26:return 181===t||152===t||182===t||177===t||194===t||160===t;case 19:return 181===t||152===t||182===t||185===t||168===t;case 21:return 177===t||157===t||144===t;case 128:case 129:return!0;case 23:return 233===t;case 17:return 229===t;case 58:return 226===t||194===t;case 14:return 196===t;case 15:return 205===t;case 114:case 112:case 113:return 149===t}switch(e.getText()){case"public":case"protected":case"private":return!0}}return!1}(b),v!==b&&R.Debug.assert(!!v,"Expected 'contextToken' to be defined when different from 'previousToken'.");l=function(e,t){for(var n=b;n&&!R.positionBelongsToNode(n,e,t);)n=n.parent;return n}(v!==b?v.getStart():g,m)||m;l&&(k=265===l.kind||196===l.kind||256===l.kind||R.isStatement(l)),o=C=_.getSymbolsInScope(l,2998271),c=(v&&R.isIdentifier(v)?v.text:"").toLowerCase(),R.codefix.forEachExternalModule(_,h,function(e){if(e!==m.symbol)for(var t=0,n=_.getExportsOfModule(e);t<n.length;t++){var r,i=n[t],a=i.name,s="default"===a;s&&(r=R.getLocalSymbolForExportDefault(i))&&(a=(i=r).name),i.declarations&&i.declarations.some(function(e){return R.isExportSpecifier(e)&&!!e.parent.parent.moduleSpecifier})||function(e,t){if(0===t.length)return 1;for(var n=0,r=0;r<e.length;r++)if(e.charCodeAt(r)===t.charCodeAt(n)&&++n===t.length)return 1;return}(a.toLowerCase(),c)&&(o.push(i),E[R.getSymbolId(i)]={moduleSymbol:e,isDefaultExport:s})}}),s=C,R.filterMutate(s,function(e){if(!R.isSourceFile(x)){if(R.isExportAssignment(x.parent))return!0;if(e&&2097152&e.flags&&(e=_.getAliasedSymbol(e)),R.isInRightSideOfInternalImportEqualsDeclaration(x))return!!(1920&e.flags);if(y||(!(t=b)||103!==t.kind||162!==t.parent.kind)&&(R.isPartOfTypeNode(x)||function(e){if(e){var t=e.parent.kind;switch(e.kind){case 56:return 149===t||148===t||146===t||226===t||R.isFunctionLikeKind(t);case 58:return 231===t;case 118:return 202===t}}}(b)))return I(e)}var t;return!!(107455&R.getCombinedLocalAndExportSymbolFlags(e))})}return 1}var s=r,f=241===s.kind?238:244;if(f=R.getAncestor(s,f).moduleSpecifier)return A=!(D=!0),f=_.getSymbolAtLocation(f),C=f?function(e,t){for(var n=R.createUnderscoreEscapedMap(),r=0,i=t;r<i.length;r++){var a=i[r];L(a)||(a=a.propertyName||a.name,n.set(a.escapedText,!0))}return 0===n.size?R.filter(e,function(e){return"default"!==e.escapedName}):R.filter(e,function(e){return"default"!==e.escapedName&&!n.get(e.escapedName)})}(_.getExportsAndPropertiesOfModule(f),s.elements):R.emptyArray,1}function I(e){return e=e.exportSymbol||e,!!(793064&(e=R.skipAlias(e,_)).flags)||(1536&e.flags?(e=_.getExportsOfModule(e),R.forEach(e,I)):void 0)}function P(e){return R.isClassElement(e.parent)&&R.isClassLike(e.parent.parent)}function O(e){return e.parent&&(t=e.parent,R.isParameter(t))&&R.isConstructorDeclaration(t.parent)&&(j(e.kind)||R.isDeclarationName(e));var t}function F(e){return R.isFunctionLikeKind(e)&&152!==e}function L(e){return e.getStart()<=g&&g<=e.getEnd()}}function y(e,t,n,r){var i=e.name;if(i){if(1920&e.flags){e=i.charCodeAt(0);if(R.isSingleOrDoubleQuote(e))return}return L(i,t,n,r)}}function L(e,t,n,r){return n&&!R.isIdentifierText(e,t)?r?JSON.stringify(e):void 0:e}function M(n){return e[n]||(e[n]=function(){switch(n){case 0:for(var e=[],t=72;t<=142;t++)e.push({name:R.tokenToString(t),kind:"keyword",kindModifiers:"",sortText:"0"});return e;case 1:return r(B);case 2:return r(K)}}());function r(t){return R.filter(M(0),function(e){return t(e.name)})}}function U(e){switch(e){case 114:case 113:case 112:case 117:case 115:case 123:case 131:case 125:case 135:case 120:return!0}}function B(e){return U(R.stringToToken(e))}function j(e){switch(e){case 114:case 112:case 113:case 131:return!0}}function K(e){return j(R.stringToToken(e))}var z,e;(z=R.Completions||(R.Completions={})).getCompletionsAtPosition=function(e,t,n,r,i,a,s){if(R.isInReferenceComment(i,a))return z.PathCompletions.getTripleSlashReferenceCompletion(i,a,r,e);if(R.isInString(i,a)){var o=i,c=a,l=t,u=r,d=n,p=R.findPrecedingToken(c,o);if(p&&9===p.kind)if(261===p.parent.kind&&178===p.parent.parent.kind&&p.parent.name===p){var f=p.parent,_=l,m=u.target,g=d,h=_.getContextualType(f.parent),y=[];if(h&&(I(h.getApparentProperties(),y,f,!1,_,m,g,!0),y.length))return{isGlobalCompletion:!1,isMemberCompletion:!0,isNewIdentifierLocation:!0,entries:y}}else{if(!R.isElementAccessExpression(p.parent)||p.parent.argumentExpression!==p){if(238===p.parent.kind||R.isExpressionOfExternalModuleImportEqualsDeclaration(p)||R.isRequireCall(p.parent,!1))return z.PathCompletions.getStringLiteralCompletionEntriesFromModuleNames(p,u,e,l);if(h=p.parent,R.isBinaryExpression(h)&&(32===(h=h.operatorToken.kind)||33===h||34===h||35===h))return P(l.getTypeAtLocation(p.parent.left===p?p.parent.right:p.parent.left),l);if(R.isCaseOrDefaultClause(p.parent))return P(l.getTypeAtLocation(p.parent.parent.parent.expression),l);f=R.SignatureHelp.getImmediatelyContainingArgumentInfo(p,c,o);if(!f)return P(l.getContextualType(p),l);var v=f,b=l,_=[],x=[],k=R.createMap();b.getResolvedSignature(v.invocation,_,v.argumentCount);for(var S=0,T=_;S<T.length;S++)O(b.getParameterType(T[S],v.argumentIndex),x,b,k);return x.length?{isGlobalCompletion:!1,isMemberCompletion:!1,isNewIdentifierLocation:!0,entries:x}:void 0}m=p.parent,g=l,y=u.target,e=d,c=g.getTypeAtLocation(m.expression),o=[];if(c&&(I(c.getApparentProperties(),o,m,!1,g,y,e,!0),o.length))return{isGlobalCompletion:!1,isMemberCompletion:!0,isNewIdentifierLocation:!0,entries:o}}}else{var C,E,D,A,p=F(t,n,i,a,s);if(p){var l=p.symbols,u=p.isGlobalCompletion,d=p.isMemberCompletion,c=p.allowStringLiteral,e=p.isNewIdentifierLocation,o=p.location,a=p.request,s=p.keywordFilters,N=p.symbolToOriginInfoMap;if(1===i.languageVariant&&o&&o.parent&&252===o.parent.kind)return{isGlobalCompletion:!1,isMemberCompletion:!0,isNewIdentifierLocation:!1,entries:[{name:o.parent.parent.openingElement.tagName.getFullText(),kind:"class",kindModifiers:void 0,sortText:"0"}]};if(a)return{isGlobalCompletion:!1,isMemberCompletion:!1,isNewIdentifierLocation:!1,entries:"JsDocTagName"===a.kind?R.JsDoc.getJSDocTagNameCompletions():"JsDocTag"===a.kind?R.JsDoc.getJSDocTagCompletions():R.JsDoc.getJSDocParameterNameCompletions(a.tag)};a=[];if(R.isSourceFileJavaScript(i)){var w=I(l,a,o,!0,t,r.target,n,c,N);C=o.pos,E=w,D=r.target,A=a,R.getNameTable(i).forEach(function(e,t){e!==C&&(e=R.unescapeLeadingUnderscores(t),!E.has(e))&&(E.set(e,!0),t=L(e,D,!0,!1))&&A.push({name:t,kind:"warning",kindModifiers:"",sortText:"1"})})}else{if((!l||0===l.length)&&0===s)return;I(l,a,o,!0,t,r.target,n,c,N)}return 0===s&&d||R.addRange(a,M(s)),{isGlobalCompletion:u,isMemberCompletion:d,isNewIdentifierLocation:e,entries:a}}}},z.getCompletionEntryDetails=function(e,t,n,r,i,a,s,o,c){var l=a.name,u=a.source,t=d(e,t,n,r,i,a,s);return t?(i=t.symbol,a=t.location,s=function(e,t,n,r,i,a,s){var o,e=e[R.getSymbolId(t)];if(e)return o=e.moduleSymbol,e=e.isDefaultExport,R.codefix.getCodeActionForImport(o,{host:r,checker:n,newLineCharacter:r.getNewLine(),compilerOptions:i,sourceFile:a,rulesProvider:s,symbolName:t.name,getCanonicalFileName:R.createGetCanonicalFileName(!!r.useCaseSensitiveFileNames&&r.useCaseSensitiveFileNames()),symbolToken:void 0,kind:e?1:0})}(t.symbolToOriginInfoMap,i,e,o,n,r,c),t=R.SymbolDisplay.getSymbolModifiers(i),n=(o=R.SymbolDisplay.getSymbolDisplayPartsDocumentationAndSymbolKind(e,i,r,a,a,7)).displayParts,c=o.documentation,e=o.symbolKind,i=o.tags,{name:l,kindModifiers:t,kind:e,displayParts:n,documentation:c,tags:i,codeActions:s,source:void 0===u?void 0:[R.textPart(u)]}):void 0===u&&R.some(M(0),function(e){return e.name===l})?{name:l,kind:"keyword",kindModifiers:"",displayParts:[R.displayPart(l,R.SymbolDisplayPartKind.keyword)],documentation:void 0,tags:void 0,codeActions:void 0,source:void 0}:void 0},z.getCompletionEntrySymbol=function(e,t,n,r,i,a,s){e=d(e,t,n,r,i,a,s);return e&&e.symbol},e=[]}(ts=ts||{}),function(v){function b(e,t){return{fileName:t.fileName,textSpan:v.createTextSpanFromNode(e,t),kind:"none"}}function x(e,t){return void 0!==e&&e.kind===t}function k(e){return e&&e.parent}function S(e){var r=[];return function e(t){var n;223===t.kind?r.push(t):224===t.kind?((n=t).catchClause?e(n.catchClause):e(n.tryBlock),n.finallyBlock&&e(n.finallyBlock)):v.isFunctionLike(t)||v.forEachChild(t,e)}(e),r}function a(e){var n=[];return function e(t){218===t.kind||217===t.kind?n.push(t):v.isFunctionLike(t)||v.forEachChild(t,e)}(e),n}function s(e,t){t=T(t);return t&&t===e}function T(e){for(var t=e.parent;t;t=t.parent)switch(t.kind){case 221:if(217===e.kind)continue;case 214:case 215:case 216:case 213:case 212:if(!e.label||function(e,t){for(var n=e.parent;222===n.kind;n=n.parent)if(n.label.escapedText===t)return 1;return}(t,e.label.text))return t;break;default:if(v.isFunctionLike(t))return}}function C(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return!(!t||!v.contains(n,t.kind)||(e.push(t),0))}function E(t){var n=[];if(C(n,t.getFirstToken(),88,106,81)&&212===t.kind)for(var e=t.getChildren(),r=e.length-1;0<=r&&!C(n,e[r],106);r--);var i=a(t.statement);return v.forEach(i,function(e){s(t,e)&&C(n,e.getFirstToken(),72,77)}),n}function D(t){var n=[];return C(n,t.getFirstToken(),98),v.forEach(t.caseBlock.clauses,function(e){C(n,e.getFirstToken(),73,79);e=a(e);v.forEach(e,function(e){s(t,e)&&C(n,e.getFirstToken(),72)})}),n}(v.DocumentHighlights||(v.DocumentHighlights={})).getDocumentHighlights=function(e,t,n,r,i){var a=v.getTouchingWord(n,r,!0);if(a!==n)return v.Debug.assert(void 0!==a.parent),v.isJsxOpeningElement(a.parent)&&a.parent.tagName===a||v.isJsxClosingElement(a.parent)?(r=[(r=a.parent.parent).openingElement,r.closingElement].map(function(e){return b(e.tagName,n)}),[{fileName:n.fileName,highlightSpans:r}]):(r=v.FindAllReferences.getReferenceEntriesForNode(a,e,i,t))&&function(e){for(var t=v.createMap(),n=0,r=e;n<r.length;n++){var i=r[n],i=v.FindAllReferences.toHighlightSpan(i),a=i.fileName,i=i.span,s=t.get(a);s||t.set(a,s=[]),s.push(i)}return v.arrayFrom(t.entries(),function(e){return{fileName:e[0],highlightSpans:e[1]}})}(r)||function(e){var t=function(t,n){var r,e,i,a;if(t)switch(t.kind){case 90:case 82:if(x(t.parent,211)){for(var s=t.parent,o=n,c=[];x(s.parent,211)&&s.parent.elseStatement===s;)s=s.parent;for(;s;){var l=s.getChildren();C(c,l[0],90);for(var u=l.length-1;0<=u&&!C(c,l[u],82);u--);if(!x(s.elseStatement,211))break;s=s.elseStatement}for(var d=[],u=0;u<c.length;u++){if(82===c[u].kind&&u<c.length-1){for(var p=c[u],f=c[u+1],_=!0,m=f.getStart()-1;m>=p.end;m--)if(!v.isWhiteSpaceSingleLine(o.text.charCodeAt(m))){_=!1;break}if(_){d.push({fileName:o.fileName,textSpan:v.createTextSpanFromBounds(p.getStart(),f.end),kind:"reference"}),u++;continue}}d.push(b(c[u],o))}return d}break;case 96:if(x(t.parent,219))return y(function(e){var t,e=v.getContainingFunction(e);if(e&&x(e.body,207))return t=[],v.forEachReturnStatement(e.body,function(e){C(t,e.getFirstToken(),96)}),v.forEach(S(e.body),function(e){C(t,e.getFirstToken(),100)}),t}(t.parent));break;case 100:if(x(t.parent,223))return y(function(n){var t,e=function(){for(var e=n;e.parent;){var t=e.parent;if(v.isFunctionBlock(t)||265===t.kind)return t;if(224===t.kind)if(t.tryBlock===e&&t.catchClause)return e;e=t}}();if(e)return t=[],v.forEach(S(e),function(e){C(t,e.getFirstToken(),100)}),v.isFunctionBlock(e)&&v.forEachReturnStatement(e,function(e){C(t,e.getFirstToken(),96)}),t}(t.parent));break;case 102:case 74:case 87:var g=74===t.kind?k(k(t)):k(t);if(x(g,224))return y((e=n,C(i=[],(g=g).getFirstToken(),102),g.catchClause&&C(i,g.catchClause.getFirstToken(),74),g.finallyBlock&&C(i,v.findChildOfKind(g,87,e),87),i));break;case 98:if(x(t.parent,221))return y(D(t.parent));break;case 73:case 79:if(x(k(k(k(t))),221))return y(D(t.parent.parent.parent));break;case 72:case 77:if(x(t.parent,218)||x(t.parent,217))return y(function(){var e=T(t.parent);if(e)switch(e.kind){case 214:case 215:case 216:case 212:case 213:return E(e);case 221:return D(e)}}());break;case 88:if(x(t.parent,214)||x(t.parent,215)||x(t.parent,216))return y(E(t.parent));break;case 106:case 81:if(x(t.parent,213)||x(t.parent,212))return y(E(t.parent));break;case 123:if(x(t.parent,152))return y((g=t.parent.symbol.getDeclarations(),a=[],v.forEach(g,function(e){v.forEach(e.getChildren(),function(e){return C(a,e,123)})}),a));break;case 125:case 135:if(x(t.parent,153)||x(t.parent,154))return y((e=t.parent,r=[],h(e.symbol,153),h(e.symbol,154),r));break;default:if(v.isModifierKind(t.kind)&&t.parent&&(v.isDeclaration(t.parent)||208===t.parent.kind))return y(function(n,e){var t;if(function(e){var t=e.parent;switch(n){case 112:case 113:case 114:switch(t.kind){case 229:case 199:return 1;case 152:return 146===e.kind;default:return}case 115:return 229===t.kind||199===t.kind;case 84:case 124:return 234===t.kind||265===t.kind;case 117:return 229===t.kind||229===e.kind;default:return}}(e))return t=v.modifierToFlag(n),v.mapDefined(function(e,t){var n=e.parent;switch(n.kind){case 234:case 265:case 207:case 257:case 258:return 128&t?e.members.concat([e]):n.statements;case 152:return n.parameters.concat(n.parent.members);case 229:case 199:var r=n.members;if(28&t){var i=v.find(n.members,v.isConstructorDeclaration);if(i)return r.concat(i.parameters)}else if(128&t)return r.concat([n]);return r;default:v.Debug.fail("Invalid container kind.")}}(e,t),function(e){if(v.getModifierFlags(e)&t)return e=v.find(e.modifiers,function(e){return e.kind===n}),v.Debug.assert(!!e),e})}(t.kind,t.parent))}function h(e,t){e=v.getDeclarationOfKind(e,t);e&&v.forEach(e.getChildren(),function(e){return C(r,e,125,135)})}function y(e){return e&&e.map(function(e){return b(e,n)})}}(a,e);if(t&&0!==t.length)return[{fileName:e.fileName,highlightSpans:t}]}(n)}}(ts=ts||{}),function(p){p.createDocumentRegistry=function(e,a){void 0===a&&(a="");var r=p.createMap(),s=p.createGetCanonicalFileName(!!e);function o(e){return"_"+e.target+"|"+e.module+"|"+e.noResolve+"|"+e.jsx+"|"+e.allowJs+"|"+e.baseUrl+"|"+JSON.stringify(e.typeRoots)+"|"+JSON.stringify(e.rootDirs)+"|"+JSON.stringify(e.paths)}function l(e,t){var n=r.get(e);return!n&&t&&r.set(e,n=p.createMap()),n}function c(e,t,n,r,i,a,s){return d(e,t,n,r,i,a,!0,s)}function u(e,t,n,r,i,a,s){return d(e,t,n,r,i,a,!1,s)}function d(e,t,n,r,i,a,s,o){var r=l(r,!0),c=r.get(t);return c?(c.sourceFile.version!==a&&(c.sourceFile=p.updateLanguageServiceSourceFile(c.sourceFile,i,a,i.getChangeRange(c.sourceFile.scriptSnapshot))),s&&c.languageServiceRefCount++):(c={sourceFile:p.createLanguageServiceSourceFile(e,i,n.target,a,!1,o),languageServiceRefCount:1,owners:[]},r.set(t,c)),c.sourceFile}function n(e,t){var t=l(t,!1),n=(p.Debug.assert(void 0!==t),t.get(e));n.languageServiceRefCount--,p.Debug.assert(0<=n.languageServiceRefCount),0===n.languageServiceRefCount&&t.delete(e)}return{acquireDocument:function(e,t,n,r,i){return c(e,p.toPath(e,a,s),t,o(t),n,r,i)},acquireDocumentWithKey:c,updateDocument:function(e,t,n,r,i){return u(e,p.toPath(e,a,s),t,o(t),n,r,i)},updateDocumentWithKey:u,releaseDocument:function(e,t){return n(p.toPath(e,a,s),o(t))},releaseDocumentWithKey:n,reportStats:function(){var e=p.arrayFrom(r.keys()).filter(function(e){return e&&"_"===e.charAt(0)}).map(function(e){var t=r.get(e),n=[];return t.forEach(function(e,t){n.push({name:t,refCount:e.languageServiceRefCount,references:e.owners.slice(0)})}),n.sort(function(e,t){return t.refCount-e.refCount}),{bucket:e,sourceFiles:n}});return JSON.stringify(e,void 0,2)},getKeyForCompilationSettings:o}}}(ts=ts||{}),function(S){function T(e,t){return S.forEach((265===e.kind?e:e.body).statements,function(e){return t(e)||r(e)&&S.forEach(e.body&&e.body.statements,t)})}function m(e,r){if(e.externalModuleIndicator||void 0!==e.imports)for(var t=0,n=e.imports;t<n.length;t++){var i=n[t];r(function(e){var t=e.parent;switch(t.kind){case 181:case 238:case 244:return t;case 248:return t.parent;default:S.Debug.fail("Unexpected module specifier parent: "+t.kind)}}(i),i)}else T(e,function(e){switch(e.kind){case 244:case 238:(t=e).moduleSpecifier&&9===t.moduleSpecifier.kind&&r(t,t.moduleSpecifier);break;case 237:var t,n=(t=e).moduleReference;248===n.kind&&9===n.expression.kind&&r(t,n.expression)}})}function n(e,t,n){n=n.getMergedSymbol(e.parent);return S.isExternalModuleSymbol(n)?{exportingModuleSymbol:n,exportKind:t}:void 0}function C(e){return"default"!==e.escapedName?e.escapedName:S.forEach(e.declarations,function(e){e=S.getNameOfDeclaration(e);return e&&71===e.kind&&e.escapedText})}function E(e,t){return t.getMergedSymbol(D(e).symbol)}function D(e){return 181===e.kind?e.getSourceFile():265===(e=e.parent).kind?e:(S.Debug.assert(234===e.kind&&r(e.parent)),e.parent)}function r(e){return 233===e.kind&&9===e.name.kind}function A(e){e=e.moduleReference;return 248===e.kind&&9===e.expression.kind}var e,t;(e=S.FindAllReferences||(S.FindAllReferences={})).createImportTracker=function(v,b,x){var k=function(e,r,t){for(var i=S.createMap(),n=0,a=e;n<a.length;n++){var s=a[n];t.throwIfCancellationRequested(),m(s,function(e,t){var n,t=r.getSymbolAtLocation(t);t&&(t=S.getSymbolId(t).toString(),(n=i.get(t))||i.set(t,n=[]),n.push(e))})}return i}(v,b,x);return function(e,t,n){r=v,i=k,o=b,s=x,a=t.exportingModuleSymbol,c=t.exportKind,l=S.nodeSeenTracker(),u=S.nodeSeenTracker(),d=[],p=!!a.globalExports,f=p?void 0:[],function e(t){t=y(t);if(t)for(var n=0,r=t;n<r.length;n++){var i=r[n];if(l(i))switch(s.throwIfCancellationRequested(),i.kind){case 181:if(!p){var a=i.parent;if(2===c&&226===a.kind){a=a.name;if(71===a.kind){d.push(a);break}}h(i.getSourceFile())}break;case 237:g(i,i.name,S.hasModifier(i,1));break;case 238:a=i.importClause&&i.importClause.namedBindings;a&&240===a.kind?g(i,a.name):d.push(i);break;case 244:i.exportClause?d.push(i):e(E(i,o))}}}(a);var r,i,o,s,a,c,l,u,d,p,f,_={directImports:d,indirectUsers:function(){if(p)return r;for(var e=0,t=a.declarations;e<t.length;e++){var n=t[e];S.isExternalModuleAugmentation(n)&&h(n)}return f.map(S.getSourceFileOfNode)}()},m=_.directImports;function g(e,t,n){var a,s;2===c?d.push(e):p||(e=D(e),S.Debug.assert(265===e.kind||233===e.kind),(n||(n=e,s=(a=o).getSymbolAtLocation(t),T(n,function(e){if(244===e.kind){var t=e.exportClause;if(!e.moduleSpecifier&&t)for(var n=0,r=t.elements;n<r.length;n++){var i=r[n];if(a.getExportSpecifierLocalTargetSymbol(i)===s)return!0}}}))?function e(t){if(h(t)){t=o.getMergedSymbol(t.symbol),t=(S.Debug.assert(!!(1536&t.flags)),y(t));if(t)for(var n=0,r=t;n<r.length;n++)e(D(r[n]))}}:h)(e))}function h(e){S.Debug.assert(!p);var t=u(e);return t&&f.push(e),t}function y(e){return i.get(S.getSymbolId(e).toString())}return __assign({indirectUsers:_.indirectUsers},function(t,n,s,o){var r=[],c=[];function l(e,t){r.push([e,t])}if(m)for(var e=0,i=m;e<i.length;e++){a=u=d=void 0;var a,u,d=i[e];237!==d.kind?71!==d.kind?9===d.moduleSpecifier.kind&&(244!==d.kind?(u=d.importClause)&&((a=u.namedBindings)&&240===a.kind?p(a.name):0!==n&&(!(u=u.name)||o&&u.escapedText!==C(t)||l(u,s.getSymbolAtLocation(u)),o||1!==n)||f(a)):f(d.exportClause)):p(d):A(d)&&p(d.name)}return{importSearches:r,singleReferences:c};function p(e){2!==n||o&&!_(e.escapedText)||l(e,s.getSymbolAtLocation(e))}function f(e){if(e)for(var t=0,n=e.elements;t<n.length;t++){var r=n[t],i=r.name,a=r.propertyName;_((a||i).escapedText)&&(a?(c.push(a),o||l(i,s.getSymbolAtLocation(i))):l(i,246===r.kind&&r.propertyName?s.getExportSpecifierLocalTargetSymbol(r):s.getSymbolAtLocation(i)))}}function _(e){return e===t.escapedName||0!==n&&"default"===e}}(e,t.exportKind,b,n))}},(t=e.ExportKind||(e.ExportKind={}))[t.Named=0]="Named",t[t.Default=1]="Default",t[t.ExportEquals=2]="ExportEquals",(t=e.ImportExport||(e.ImportExport={}))[t.Import=0]="Import",t[t.Export=1]="Export",e.findModuleReferences=function(e,t,n){for(var r=[],i=e.getTypeChecker(),a=0,s=t;a<s.length;a++){var o=s[a],c=n.valueDeclaration;if(265===c.kind){for(var l=0,u=o.referencedFiles;l<u.length;l++){var d=u[l];e.getSourceFileFromReference(o,d)===c&&r.push({kind:"reference",referencingFile:o,ref:d})}for(var p=0,f=o.typeReferenceDirectives;p<f.length;p++){var d=f[p],_=e.getResolvedTypeReferenceDirectives().get(d.fileName);void 0!==_&&_.resolvedFileName===c.fileName&&r.push({kind:"reference",referencingFile:o,ref:d})}}m(o,function(e,t){i.getSymbolAtLocation(t)===n&&r.push({kind:"import",literal:t})})}return r},e.getImportOrExportSymbol=function(i,a,s,o){return o?e():e()||function(){var e=function(e){var t=e.parent;switch(t.kind){case 237:return t.name===e&&A(t)?{isNamedImport:!1}:void 0;case 242:return t.propertyName?void 0:{isNamedImport:!0};case 239:case 240:return S.Debug.assert(t.name===e),{isNamedImport:!1};default:return}}(i);if(e){var t,n,r=s.getImmediateAliasedSymbol(a);if(r)return"export="===(r=function(e,t){if(e.declarations)for(var n=0,r=e.declarations;n<r.length;n++){var i=r[n];if(S.isExportSpecifier(i)&&!i.propertyName&&!i.parent.parent.moduleSpecifier)return t.getExportSpecifierLocalTargetSymbol(i)}return e}(r,s)).escapedName&&(t=s,r=2097152&(n=r).flags?t.getImmediateAliasedSymbol(n):(t=n.valueDeclaration,S.isExportAssignment(t)?t.expression.symbol:S.isBinaryExpression(t)?t.right.symbol:void S.Debug.fail())),void 0===(n=C(r))||"default"===n||n===a.escapedName?__assign({kind:0,symbol:r},e):void 0}}();function e(){var e,t=i.parent;return a.exportSymbol?179===t.kind?a.declarations.some(function(e){return e===t})&&S.isBinaryExpression(t.parent)?r(t.parent,!1):void 0:c(a.exportSymbol,l(t)):(e=226===t.kind?t.name===i&&260!==t.parent.kind&&208===t.parent.parent.kind?t.parent.parent:void 0:t)&&S.hasModifier(e,1)?S.isImportEqualsDeclaration(e)&&e.moduleReference===i?o?void 0:{kind:0,symbol:s.getSymbolAtLocation(e.name),isNamedImport:!1}:c(a,l(e)):S.isExportAssignment(t)?n(t):S.isExportAssignment(t.parent)?n(t.parent):S.isBinaryExpression(t)?r(t,!0):S.isBinaryExpression(t.parent)?r(t.parent,!0):void 0;function n(e){var t=e.symbol.parent,e=(S.Debug.assert(!!t),e.isExportEquals?2:1);return{kind:1,symbol:a,exportInfo:{exportingModuleSymbol:t,exportKind:e}}}function r(e,t){var n;switch(S.getSpecialPropertyAssignmentKind(e)){case 1:n=0;break;case 2:n=2;break;default:return}t=t?s.getSymbolAtLocation(e.left.name):a;return t&&c(t,n)}}function c(e,t){t=n(e,t,s);return t&&{kind:1,symbol:e,exportInfo:t}}function l(e){return S.hasModifier(e,512)?1:0}},e.getExportInfo=n}(ts=ts||{}),function(d){function s(e,t){return{type:"node",node:e,isInString:t}}function o(e,t,n,r,i){return c(u.Core.getReferencedSymbolsForNode(e,t,n,r,i=void 0===i?{}:i))}function p(e,t,n,r,i,a){r=d.getTouchingPropertyName(r,i,!0);return u.Core.getReferencedSymbolsForNode(r,e,n,t,a)}function c(e){return e&&d.flatMap(e,function(e){return e.references})}function f(e,t,n){n=d.SymbolDisplay.getSymbolDisplayPartsDocumentationAndSymbolKind(n,e,t.getSourceFile(),d.getContainerNode(t),t);return{displayParts:n.displayParts,kind:n.symbolKind}}function _(e){var t;return"span"===e.type?{textSpan:e.textSpan,fileName:e.fileName,isWriteAccess:!1,isDefinition:!1}:(t=e.node,e=e.isInString,{fileName:t.getSourceFile().fileName,textSpan:l(t),isWriteAccess:i(t),isDefinition:79===t.kind||d.isAnyDeclarationName(t)||d.isLiteralComputedPropertyDeclarationName(t),isInString:e})}function l(e){var t=e.getStart(),n=e.getEnd();return 9===e.kind&&(t+=1,--n),d.createTextSpanFromBounds(t,n)}function i(e){return 79===e.kind||d.isAnyDeclarationName(e)||d.isWriteAccess(e)}var u;(u=d.FindAllReferences||(d.FindAllReferences={})).nodeEntry=s,u.findReferencedSymbols=function(e,t,n,r,i){t=p(e,t,n,r,i);if(t&&t.length){for(var a=[],s=e.getTypeChecker(),o=0,c=t;o<c.length;o++){var l=c[o],u=l.definition,l=l.references;u&&a.push({definition:function(i,a){var e,t,n,r,s=function(){switch(i.type){case"symbol":var e=i.symbol,t=i.node,n=f(e,t,a),r=n.displayParts,n=n.kind;return{node:t,name:r.map(function(e){return e.text}).join(""),kind:n,displayParts:r};case"label":t=i.node;return{node:t,name:t.text,kind:"label",displayParts:[d.displayPart(t.text,d.SymbolDisplayPartKind.text)]};case"keyword":n=i.node,r=d.tokenToString(n.kind);return{node:n,name:r,kind:"keyword",displayParts:[{text:r,kind:"keyword"}]};case"this":t=i.node,n=(e=a.getSymbolAtLocation(t))&&d.SymbolDisplay.getSymbolDisplayPartsDocumentationAndSymbolKind(a,e,t.getSourceFile(),d.getContainerNode(t),t).displayParts;return{node:t,name:"this",kind:"var",displayParts:n};case"string":r=i.node;return{node:r,name:r.text,kind:"var",displayParts:[d.displayPart(d.getTextOfNode(r),d.SymbolDisplayPartKind.stringLiteral)]}}}();if(s)return e=s.node,t=s.name,n=s.kind,s=s.displayParts,{containerKind:"",containerName:"",fileName:(r=e.getSourceFile()).fileName,kind:n,name:t,textSpan:d.createTextSpanFromNode(e,r),displayParts:s}}(u,s),references:l.map(_)})}return a}},u.getImplementationsAtPosition=function(e,t,n,r,i){var t=function(e,t,n,r){var i,a;if(265!==r.kind)return a=e.getTypeChecker(),262===r.parent.kind?(i=[],u.Core.getReferenceEntriesForShorthandPropertyAssignment(r,a,function(e){return i.push(s(e))}),i):97===r.kind||d.isSuperProperty(r.parent)?(a=a.getSymbolAtLocation(r)).valueDeclaration&&[s(a.valueDeclaration)]:o(r,e,n,t,{implementations:!0})}(e,t,n,d.getTouchingPropertyName(r,i,!1)),a=e.getTypeChecker();return d.map(t,function(e){return t=a,"node"===(e=e).type?(n=e.node,__assign({textSpan:l(n),fileName:n.getSourceFile().fileName},(n=n,(r=(t=t).getSymbolAtLocation(d.isDeclaration(n)&&n.name?n.name:n))?f(r,n,t):178===n.kind?{kind:"interface",displayParts:[d.punctuationPart(19),d.textPart("object literal"),d.punctuationPart(20)]}:199===n.kind?{kind:"local class",displayParts:[d.punctuationPart(19),d.textPart("anonymous local class"),d.punctuationPart(20)]}:{kind:d.getNodeKind(n),displayParts:[]}))):{textSpan:e.textSpan,fileName:e.fileName,kind:"",displayParts:[]};var t,n,r})},u.findReferencedEntries=function(e,t,n,r,i,a){e=c(p(e,t,n,r,i,a));return d.map(e,_)},u.getReferenceEntriesForNode=o,u.toHighlightSpan=function(e){var t,n,r;return"span"===e.type?{fileName:e.fileName,span:{textSpan:e.textSpan,kind:"reference"}}:(t=e.node,n=e.isInString,e=e.node.getSourceFile().fileName,r=i(t),{fileName:e,span:{textSpan:l(t),kind:r?"writtenReference":"reference",isInString:n}})}}(ts=ts||{}),function(R){function e(e,t,n,r,i,a,s){this.sourceFiles=e,this.isForConstructor=t,this.checker=n,this.cancellationToken=r,this.searchMeaning=i,this.options=a,this.result=s,this.inheritsFromCache=R.createMap(),this.markSeenContainingTypeReference=R.nodeSeenTracker(),this.markSeenReExportRHS=R.nodeSeenTracker(),this.symbolIdToReferences=[],this.sourceFileToSeenSymbols=[]}function M(e,t,n,r){var i=r.getImportSearches(t,n),a=i.importSearches,s=i.singleReferences,i=i.indirectUsers;if(s.length)for(var o=r.referenceAdder(t,e),c=0,l=s;c<l.length;c++)o(l[c]);for(var u=0,d=a;u<d.length;u++){var p=d[u],f=p[0],p=p[1];h(f.getSourceFile(),r.createSearch(f,p,1),r)}if(i.length){var _=void 0;switch(n.exportKind){case 0:_=r.createSearch(e,t,1);break;case 1:_=r.options.isForRename?void 0:r.createSearch(e,t,1,{text:"default"})}if(_)for(var m=0,g=i;m<g.length;m++)U(g[m],_,r)}}function f(e,t){for(var n=0,r=e.declarations;n<r.length;n++){var i=r[n];h(i.getSourceFile(),t.createSearch(i,e,0),t)}}function U(e,t,n){void 0!==R.getNameTable(e).get(t.escapedText)&&h(e,t,n)}function B(e,t){return R.isArrayLiteralOrObjectLiteralDestructuringPattern(e.parent.parent)&&t.getPropertySymbolOfDestructuringAssignment(e)}function j(e){e=R.getDeclarationOfKind(e,176);if(e&&174===e.parent.kind&&!e.propertyName)return e}function K(e,t){var n,e=j(e);if(e)return(t=(n=t.getTypeAtLocation(e.parent))&&t.getPropertyOfType(n,e.name.text))&&98304&t.flags?(R.Debug.assert(!!(33554432&t.flags)),t.target):t}function z(e,t,n){void 0===n&&(n=e);var r=[];if(t&&t.length)for(var i=e.text,a=i.length,s=t.length,o=i.indexOf(t,n.pos);0<=o&&!(o>n.end);){var c=o+s;0!==o&&R.isIdentifierPart(i.charCodeAt(o-1),5)||c!==a&&R.isIdentifierPart(i.charCodeAt(c),5)||r.push(o),o=i.indexOf(t,o+s+1)}return r}function $(e,t){for(var n=[],r=e.getSourceFile(),i=t.text,a=0,s=z(r,i,e);a<s.length;a++){var o=s[a],o=R.getTouchingWord(r,o,!1);o&&(o===t||R.isJumpStatementTarget(o)&&R.getTargetLabel(o,i)===t)&&n.push(W.nodeEntry(o))}return[{definition:{type:"label",node:t},references:n}]}function h(e,t,n){n.cancellationToken.throwIfCancellationRequested(),J(e,e,t,n)}function J(e,t,n,r){if(r.markSearchedSymbol(t,n.symbol))for(var i=0,a=z(t,n.text,e);i<a.length;i++){s=d=u=l=c=o=void 0;var s,o=t,c=a[i],l=n,u=r,d=R.getTouchingPropertyName(o,c,!0);if(!function(e,t){switch(e.kind){case 71:return e.text.length===t.length;case 9:return(R.isLiteralNameOfPropertyDeclarationOrIndexAccess(e)||9===(n=e).kind&&(R.isNameOfModuleDeclaration(n)||R.isExpressionOfExternalModuleImportEqualsDeclaration(n)))&&e.text.length===t.length;case 8:return R.isLiteralNameOfPropertyDeclarationOrIndexAccess(e)&&e.text.length===t.length;case 79:return"default".length===t.length;default:return}var n}(d,l.text))!u.options.implementations&&(u.options.findInStrings&&R.isInString(o,c)||u.options.findInComments&&R.isInNonReferenceComment(o,c))&&u.addStringOrCommentReference(o.fileName,R.createTextSpan(c,l.text.length));else if(R.getMeaningFromLocation(d)&u.searchMeaning&&(s=u.checker.getSymbolAtLocation(d))){c=d.parent;if(!R.isImportSpecifier(c)||c.propertyName!==d)if(R.isExportSpecifier(c))R.Debug.assert(71===d.kind),function(e,t,n,r,i){var a=n.parent,s=n.propertyName,o=n.name,a=a.parent,c=q(e,t,n,i.checker);function l(){V(e,c,r.location,i)}r.includes(c)&&(s?e===s?(a.moduleSpecifier||l(),!i.options.isForRename&&i.markSeenReExportRHS(o)&&V(o,t,o,i)):i.markSeenReExportRHS(e)&&l():l(),e===s&&i.options.isForRename||(o=79===e.originalKeywordKind?1:0,o=W.getExportInfo(t,o,i.checker),R.Debug.assert(!!o),M(e,t,o,i)),1!==r.comingFrom)&&a.moduleSpecifier&&!s&&f(i.checker.getExportSpecifierLocalTargetSymbol(n),i)}(d,s,c,l,u);else if(c=function(t,e,n,l){if(t.includes(e))return e;var r=R.getContainingObjectLiteralElement(n);if(r){r=R.forEach(G(r,l.checker),function(e){return R.find(l.checker.getRootSymbols(e),t.includes)});if(r)return r;r=B(n,l.checker);if(r&&t.includes(r))return r}n=K(e,l.checker);if(n){r=i(n);if(r)return r}return i(e);function i(e){return R.forEach(l.checker.getRootSymbols(e),function(c){if(t.includes(c))return c;var e;if(c.parent&&96&c.parent.flags&&(!t.parents||R.some(t.parents,function(e){return n=c.parent,r=e,a=l.inheritsFromCache,s=l.checker,o=64&r.getFlags(),t(n);function t(e){if(e===r)return!0;var t=R.getSymbolId(e)+","+R.getSymbolId(r),n=a.get(t);if(void 0!==n)return n;a.set(t,!1);n=R.forEach(e.getDeclarations(),function(e){if(R.isClassLike(e)){if(o){var t=R.getClassImplementsHeritageClauseElements(e);if(t)for(var n=0,r=t;n<r.length;n++)if(i(r[n]))return!0}return i(R.getClassExtendsHeritageClauseElement(e))}return!(230!==e.kind||!o)&&R.forEach(R.getInterfaceBaseTypeNodes(e),i)});return a.set(t,n),n}function i(e){if(e){e=s.getTypeAtLocation(e);if(e&&e.symbol)return t(e.symbol)}return!1}var n,r,a,s,o})))return H(c.parent,c.name,e=[],R.createSymbolTable(),l.checker),R.find(e,t.includes)})}}(l,s,d,u)){u.isForConstructor?function(e,t,n,r){R.isNewExpressionTarget(e)&&V(e,n.symbol,n.location,r);r=r.referenceAdder(n.symbol,n.location);if(R.isClassLike(e.parent)){R.Debug.assert(e.parent.name===e);{n=n.symbol;var i=t;var a=r;for(var s=0,o=n.members.get("__constructor").declarations;s<o.length;s++){var c=o[s],l=R.findChildOfKind(c,123,i);R.Debug.assert(152===c.kind&&!!l),a(l)}n.exports.forEach(function(e){var e=e.valueDeclaration;e&&151===e.kind&&(e=e.body)&&_(e,99,function(e){R.isNewExpressionTarget(e)&&a(e)})})}}else{t=R.tryGetClassExtendingExpressionWithTypeArguments(R.climbPastPropertyAccess(e).parent);if(t&&R.isClassLike(t)){var u=r,n=t.symbol.members.get("__constructor");if(n)for(var d=0,p=n.declarations;d<p.length;d++){var f=p[d],f=(R.Debug.assert(152===f.kind),f.body);f&&_(f,97,function(e){R.isCallExpressionTarget(e)&&u(e)})}}}}(d,o,l,u):V(d,c,l.location,u);{o=void 0;c=void 0;var p=u;o=W.getImportOrExportSymbol(d,s,p.checker,1===l.comingFrom);o&&(c=o.symbol,0===o.kind?p.options.isForRename&&!o.isNamedImport||f(c,p):M(d,c,o.exportInfo,p))}}else{d=void 0;c=void 0;o=void 0;p=l;l=u;d=s.flags,c=s.valueDeclaration,o=l.checker.getShorthandAssignmentValueSymbol(c);33554432&d||!p.includes(o)||V(R.getNameOfDeclaration(c),o,p.location,l)}}}}function q(e,t,n,r){return e=e,i=n.parent,a=n.propertyName,s=n.name,R.Debug.assert(a===e||s===e),(a?a!==e:i.parent.moduleSpecifier)?t:r.getExportSpecifierLocalTargetSymbol(n);var i,a,s}function V(e,t,n,r){t=r.referenceAdder(t,n);if(r.options.implementations){var n=e,i=t;if(R.isDeclarationName(n)&&function(e){if(e)if(R.isVariableLike(e)){if(e.initializer)return 1;var t;if(226===e.kind)return(t=function(e){if(e.parent&&e.parent.parent&&208===e.parent.parent.kind)return R.Debug.assert(227===e.parent.kind),e.parent.parent}(e))&&R.hasModifier(t,2)}else{if(R.isFunctionLike(e))return e.body||R.hasModifier(e,2);switch(e.kind){case 229:case 199:case 232:case 233:return 1}}}(n.parent))i(n.parent);else if(71===n.kind){262===n.parent.kind&&o(n,r.checker,i);var a=function e(t){if(t&&t.parent)return 201===t.kind&&259===t.parent.kind&&R.isClassLike(t.parent.parent)?t.parent.parent:71===t.kind||179===t.kind?e(t.parent):void 0}(n);if(a)return void i(a);a=function(e){for(var t=void 0;e;)R.isTypeNode(e)&&(t=e),e=e.parent;return t}(n);a&&r.markSeenContainingTypeReference(a)&&(n=a.parent,R.isVariableLike(n)&&n.type===a&&n.initializer&&s(n.initializer)?i(n.initializer):R.isFunctionLike(n)&&n.type===a&&n.body?207===(r=n.body).kind?R.forEachReturnStatement(r,function(e){e.expression&&s(e.expression)&&i(e.expression)}):s(r)&&i(r):R.isAssertionExpression(n)&&s(n.expression)&&i(n.expression))}}else t(e)}function s(e){switch(e.kind){case 185:return s(e.expression);case 187:case 186:case 178:case 199:case 177:return!0;default:return!1}}function H(n,r,i,a,s){function t(e){var t;e&&(e=s.getTypeAtLocation(e))&&((t=s.getPropertyOfType(e,r))&&i.push.apply(i,s.getRootSymbols(t)),a.set(n.escapedName,n),H(e.symbol,r,i,a,s))}n&&!a.has(n.escapedName)&&96&n.flags&&R.forEach(n.getDeclarations(),function(e){R.isClassLike(e)?(t(R.getClassExtendsHeritageClauseElement(e)),R.forEach(R.getClassImplementsHeritageClauseElements(e),t)):230===e.kind&&R.forEach(R.getInterfaceBaseTypeNodes(e),t)})}function G(e,t){var n,r=e.parent,t=t.getContextualType(r),i=144===(r=e).name.kind?(e=r.name.expression,R.isStringOrNumericLiteral(e)?e.text:void 0):R.getTextOfIdentifierOrLiteral(r.name);if(i&&t)return n=[],(e=t.getProperty(i))&&n.push(e),65536&t.flags&&R.forEach(t.types,function(e){e=e.getProperty(i);e&&n.push(e)}),n}function o(e,t,n){e=t.getSymbolAtLocation(e),t=t.getShorthandAssignmentValueSymbol(e.valueDeclaration);if(t)for(var r=0,i=t.getDeclarations();r<i.length;r++){var a=i[r];1&R.getMeaningFromDeclaration(a)&&n(a)}}function _(e,t,n){R.forEachChild(e,function(e){e.kind===t&&n(e),_(e,t,n)})}var W,t,Q;W=R.FindAllReferences||(R.FindAllReferences={}),(t=W.Core||(W.Core={})).getReferencedSymbolsForNode=function(e,t,n,r,i){if(void 0===i&&(i={}),265!==e.kind){if(!i.implementations){var a=function(e,t,n){if(R.isTypeKeyword(e.kind)){for(var r=e.kind,i=n,a=[],s=0,o=t;s<o.length;s++)for(var c=o[s],l=(i.throwIfCancellationRequested(),m=_=f=p=d=u=l=void 0,c),u=r,d=R.tokenToString(r),p=a,f=0,_=z(l,d,l);f<_.length;f++){var m=_[f],m=R.getTouchingPropertyName(l,m,!0);m.kind===u&&p.push(W.nodeEntry(m))}return a.length?[{definition:{type:"keyword",node:a[0].node},references:a}]:void 0}if(R.isLabelName(e))return R.isJumpStatementTarget(e)?(g=R.getTargetLabel(e.parent,e.text))&&$(g.parent,g):$(e.parent,e);if(R.isThis(e)){var g=e,h=n,y=R.getThisContainer(g,!1),v=32;switch(y.kind){case 151:case 150:if(R.isObjectLiteralMethod(y))break;case 149:case 148:case 152:case 153:case 154:v&=R.getModifierFlags(y),y=y.parent;break;case 265:if(R.isExternalModule(y))return;case 228:case 186:break;default:return}var b=[];return 265===y.kind?R.forEach(t,function(e){h.throwIfCancellationRequested(),x(e,e,z(e,"this"),b)}):x(t=y.getSourceFile(),y,z(t,"this",y),b),[{definition:{type:"this",node:g},references:b}];function x(r,i,e,a){R.forEach(e,function(e){var t=R.getTouchingWord(r,e,!1);if(t&&R.isThis(t)){var n=R.getThisContainer(t,!1);switch(i.kind){case 186:case 228:i.symbol===n.symbol&&a.push(W.nodeEntry(t));break;case 151:case 150:R.isObjectLiteralMethod(i)&&i.symbol===n.symbol&&a.push(W.nodeEntry(t));break;case 199:case 229:n.parent&&i.symbol===n.parent.symbol&&(32&R.getModifierFlags(n))===v&&a.push(W.nodeEntry(t));break;case 265:265!==n.kind||R.isExternalModule(n)||a.push(W.nodeEntry(t))}}})}}else if(97===e.kind){var n=e,k=R.getSuperContainer(n,!1);if(k){var S=32;switch(k.kind){case 149:case 148:case 151:case 150:case 152:case 153:case 154:S&=R.getModifierFlags(k),k=k.parent;break;default:return}for(var T=[],C=k.getSourceFile(),E=0,D=z(C,"super",k);E<D.length;E++){var A,N=D[E],N=R.getTouchingWord(C,N,!1);N&&97===N.kind&&(A=R.getSuperContainer(N,!1))&&(32&R.getModifierFlags(A))===S&&A.parent.symbol===k.symbol&&T.push(W.nodeEntry(N))}return[{definition:{type:"symbol",symbol:k.symbol,node:n},references:T}]}}}(e,n,r);if(a)return a}var a=t.getTypeChecker(),s=a.getSymbolAtLocation(e);if(s)if(1536&s.flags&&function(e){if(9===e.kind)switch(e.parent.kind){case 233:case 248:case 238:case 244:return 1;case 181:return R.isRequireCall(e.parent,!1)||R.isImportCall(e.parent);default:return}}(e)){var o=s;var c=n;R.Debug.assert(!!o.valueDeclaration);for(var l=W.findModuleReferences(t,c,o).map(function(e){return"import"===e.kind?{type:"node",node:e.literal}:{type:"span",fileName:e.referencingFile.fileName,textSpan:R.createTextSpanFromRange(e.ref)}}),u=0,d=o.declarations;u<d.length;u++){var p=d[u];switch(p.kind){case 265:break;case 233:l.push({type:"node",node:p.name});break;default:R.Debug.fail("Expected a module symbol to be declared by a SourceFile or ModuleDeclaration.")}}return[{definition:{type:"symbol",symbol:o,node:o.valueDeclaration},references:l}];return}else{t=s;c=e;o=n;var f=r;var _=i;s=s,v=a,m=(g=c).parent,t=R.isExportSpecifier(m)?q(g,s,m,v):R.isImportSpecifier(m)&&m.propertyName===g?v.getImmediateAliasedSymbol(s):s;var m=function(e,t){if(t)do{for(var n=e,r=0,i=t;r<i.length;r++){var a=i[r],a=R.getMeaningFromDeclaration(a);a&e&&(e|=a)}}while(e!==n);return e}(R.getMeaningFromLocation(c),t.declarations),g=[],h=new Q(o,123===c.kind,a,f,m,_,g);if(79===c.kind)V(c,t,c,h),M(c,t,{exportingModuleSymbol:t.parent,exportKind:1},h);else{var y=h.createSearch(c,t,void 0,{allSearchSymbols:function(e,t,i,a){var s=[e],n=R.getContainingObjectLiteralElement(t);{var r;n&&(262!==n.kind&&(r=B(t,i))&&s.push(r),R.forEach(G(n,i),function(e){R.addRange(s,i.getRootSymbols(e))}),r=i.getShorthandAssignmentValueSymbol(t.parent))&&s.push(r)}e.valueDeclaration&&146===e.valueDeclaration.kind&&R.isParameterPropertyDeclaration(e.valueDeclaration)&&R.addRange(s,i.getSymbolsOfParameterPropertyDeclaration(e.valueDeclaration,e.name));n=K(e,i);return n&&(s.push(n),o(n)),o(e),s;function o(e){for(var t=0,n=i.getRootSymbols(e);t<n.length;t++){var r=n[t];r!==e&&s.push(r),!a&&r.parent&&96&r.parent.flags&&H(r.parent,r.name,s,R.createSymbolTable(),i)}}}(t,c,a,_.implementations)}),v=function(e){var t=e.declarations,n=e.flags,r=e.parent,i=e.valueDeclaration;if(i&&(186===i.kind||199===i.kind))return i;if(t){if(8196&n)return(i=R.find(t,function(e){return R.hasModifier(e,8)}))?R.getAncestor(i,229):void 0;if(!j(e)){var a,n=r&&!(262144&e.flags);if(!n||1536&r.flags&&R.isExternalModuleSymbol(r)&&!r.globalExports){for(var s=0,o=t;s<o.length;s++){var c=o[s],c=R.getContainerNode(c);if(a&&a!==c)return;if(!c||265===c.kind&&!R.isExternalOrCommonJsModule(c))return;a=c}return n?a.getSourceFile():a}}}}(t);if(v)J(v,v.getSourceFile(),y,h);else for(var b=0,x=h.sourceFiles;b<x.length;b++){var k=x[b];h.cancellationToken.throwIfCancellationRequested(),U(k,y,h)}}return g;return}else if(i.implementations||9!==e.kind)return void 0;else{var S=e;var T=r;for(var C=[],E=0,D=n;E<D.length;E++)for(var A=D[E],N=(T.throwIfCancellationRequested(),z(A,S.text)),w=(L=F=O=P=I=w=void 0,A),I=S.text,P=C,O=0,F=N;O<F.length;O++){var L=F[O],L=R.getTouchingWord(w,L,!1);L&&9===L.kind&&L.text===I&&P.push(W.nodeEntry(L,!0))}return[{definition:{type:"string",node:S},references:C}];return}}},e.prototype.getImportSearches=function(e,t){return this.importTracker||(this.importTracker=W.createImportTracker(this.sourceFiles,this.checker,this.cancellationToken)),this.importTracker(e,t,this.options.isForRename)},e.prototype.createSearch=function(r,t,e,n){var i=(n=void 0===n?{}:n).text,i=void 0===i?R.stripQuotes(R.unescapeLeadingUnderscores((R.getLocalSymbolForExportDefault(t)||t).escapedName)):i,n=n.allSearchSymbols,a=void 0===n?void 0:n,n=R.escapeLeadingUnderscores(i),s=this.options.implementations&&function(e,t){var n=R.isRightSideOfPropertyAccess(n=r)&&n.parent;if(n){t=t.getTypeAtLocation(n.expression);if(t)return t.symbol&&96&t.symbol.flags&&t.symbol!==e.parent?[t.symbol]:196608&t.flags?function e(t,n){void 0===n&&(n=[]);for(var r=0,i=t.types;r<i.length;r++){var a=i[r];a.symbol&&96&a.symbol.getFlags()&&n.push(a.symbol),196608&a.getFlags()&&e(a,n)}return n}(t):void 0}}(t,this.checker);return{location:r,symbol:t,comingFrom:e,text:i,escapedText:n,parents:s,includes:function(e){return a?R.contains(a,e):e===t}}},e.prototype.referenceAdder=function(e,t){var n=R.getSymbolId(e),r=this.symbolIdToReferences[n];return r||(r=this.symbolIdToReferences[n]=[],this.result.push({definition:{type:"symbol",symbol:e,node:t},references:r})),function(e){return r.push(W.nodeEntry(e))}},e.prototype.addStringOrCommentReference=function(e,t){this.result.push({definition:void 0,references:[{type:"span",fileName:e,textSpan:t}]})},e.prototype.markSearchedSymbol=function(e,t){e=R.getNodeId(e),t=R.getSymbolId(t),e=this.sourceFileToSeenSymbols[e]||(this.sourceFileToSeenSymbols[e]=[]);return!e[t]&&(e[t]=!0)},Q=e,t.getReferenceEntriesForShorthandPropertyAssignment=o}(ts=ts||{}),function(p){function u(e,t,n){var r,i,a,s=[],o=t.getDeclarations(),e=m(e,t,n),c=e.symbolName,l=e.symbolKind,u=e.containerName;return function(e,t,n,r,i,a){if((p.isNewExpressionTarget(t)||123===t.kind)&&32&e.flags){for(var s=0,o=e.getDeclarations();s<o.length;s++){var c=o[s];if(p.isClassLike(c))return d(c.members,!0,n,r,i,a)}p.Debug.fail("Expected declaration to have at least one class-like declaration")}}(t,n,l,c,u,s)||(e=t,t=n,n=l,r=c,i=u,a=s,(p.isCallExpressionTarget(t)||p.isNewExpressionTarget(t)||p.isNameOfFunctionDeclaration(t))&&d(e.declarations,!1,n,r,i,a))||p.forEach(o,function(e){s.push(_(e,l,c,u))}),s;function d(e,t,n,r,i,a){if(!e)return!1;for(var s,o=[],c=0,l=e;c<l.length;c++){var u=l[c];(t?152===u.kind:f(u))&&(o.push(u),u.body)&&(s=u)}return!!o.length&&(a.push(_(s||p.lastOrUndefined(o),n,r,i)),!0)}}function f(e){switch(e.kind){case 152:case 228:case 151:case 150:return 1;default:return}}function _(e,t,n,r){return d(p.getNameOfDeclaration(e)||e,t,n,r)}function d(e,t,n,r){var i=e.getSourceFile();return{fileName:i.fileName,textSpan:p.createTextSpanFromNode(e,i),kind:t,name:n,containerKind:void 0,containerName:r}}function m(e,t,n){return{symbolName:e.symbolToString(t),symbolKind:p.SymbolDisplay.getSymbolKind(e,t,n),containerName:t.parent?e.symbolToString(t.parent,n):""}}function g(e,t){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i.pos<=t&&t<=i.end)return i}}function h(e,t){return{fileName:t,textSpan:p.createTextSpanFromBounds(0,0),kind:"script",name:e,containerName:void 0,containerKind:void 0}}var e;(e=p.GoToDefinition||(p.GoToDefinition={})).getDefinitionAtPosition=function(e,t,n){var r=g(t.referencedFiles,n);if(r&&(i=p.tryResolveScriptReference(e,t,r)))return[h(r.fileName,i.fileName)];r=g(t.typeReferenceDirectives,n);if(r)return(i=e.getResolvedTypeReferenceDirectives().get(r.fileName))&&i.resolvedFileName&&[h(r.fileName,i.resolvedFileName)];var i,a=p.getTouchingPropertyName(t,n,!0);if(a!==t){if(p.isJumpStatementTarget(a))return r=a.text,(i=p.getTargetLabel(a.parent,r))?[d(i,"label",r,void 0)]:void 0;var s=e.getTypeChecker(),n=function(e,t){t=function e(t){return p.isRightSideOfPropertyAccess(t)?e(t.parent):t}(t);var t=(n=t.parent)&&p.isCallLikeExpression(n)&&p.getInvokedExpression(n)===t&&n,n=t&&e.getResolvedSignature(t);if(n){e=n.declaration;if(e&&f(e))return e}}(s,a);if(n)return[(r=(t=m(t=s,(i=n).symbol,i)).symbolName,_(i,t.symbolKind,r,t.containerName))];var o,c,l,e=s.getSymbolAtLocation(a);if(e){if(2097152&e.flags&&function(e,t){if(71===e.kind){if(e.parent===t)return 1;switch(t.kind){case 239:case 237:return 1;case 242:return 241===t.parent.kind;default:return}}}(a,e.declarations[0])&&(n=s.getAliasedSymbol(e)).declarations&&(e=n),262===a.parent.kind)return(r=s.getShorthandAssignmentValueSymbol(e.valueDeclaration))?(t=r.getDeclarations(),o=p.SymbolDisplay.getSymbolKind(s,r,a),c=s.symbolToString(r),l=s.symbolToString(e.parent,a),p.map(t,function(e){return _(e,o,c,l)})):[];if(p.isPropertyName(a)&&p.isBindingElement(a.parent)&&p.isObjectBindingPattern(a.parent.parent)&&a===(a.parent.propertyName||a.parent.name)){n=s.getTypeAtLocation(a.parent.parent);if(n){r=p.getPropertySymbolsFromType(n,a);if(r)return p.flatMap(r,function(e){return u(s,e,a)})}}t=p.getContainingObjectLiteralElement(a);return t&&s.getContextualType(t.parent)?p.flatMap(p.getPropertySymbolsFromContextualType(s,t),function(e){return u(s,e,a)}):u(s,e,a)}}},e.getTypeDefinitionAtPosition=function(t,e,n){var r=p.getTouchingPropertyName(e,n,!0);if(r!==e){n=t.getSymbolAtLocation(r);if(n){var i,e=t.getTypeOfSymbolAtLocation(n,r);if(e)return 65536&e.flags&&!(16&e.flags)?(i=[],p.forEach(e.types,function(e){e.symbol&&p.addRange(i,u(t,e.symbol,r))}),i):e.symbol?u(t,e.symbol,r):void 0}}}}(ts=ts||{}),function(f){function n(e,t){if(e)for(var n=0;n<e.length;n++)if(f.indexOf(e,e[n])===n){var r=t(e[n],n);if(r)return}}var e,t,r,i;e=f.JsDoc||(f.JsDoc={}),i=["augments","author","argument","borrows","class","constant","constructor","constructs","default","deprecated","description","event","example","extends","field","fileOverview","function","ignore","inner","lends","link","memberOf","method","name","namespace","param","private","prop","property","public","requires","returns","see","since","static","throws","type","typedef","version"],e.getJsDocCommentsFromDeclarations=function(e){var t=[];return n(e,function(e){f.forEach(f.getAllJSDocs(e),function(e){e.comment&&(t.length&&t.push(f.lineBreakPart()),t.push(f.textPart(e.comment)))})}),t},e.getJsDocTagsFromDeclarations=function(e){var i=[];return n(e,function(e){for(var t=0,n=f.getJSDocTags(e);t<n.length;t++){var r=n[t];276===r.kind&&i.push({name:r.tagName.text,text:r.comment})}}),i},e.getJSDocTagNameCompletions=function(){return t=t||f.map(i,function(e){return{name:e,kind:"keyword",kindModifiers:"",sortText:"0"}})},e.getJSDocTagCompletions=function(){return r=r||f.map(i,function(e){return{name:"@"+e,kind:"keyword",kindModifiers:"",sortText:"0"}})},e.getJSDocParameterNameCompletions=function(n){var r,i,e;return f.isIdentifier(n.name)?(r=n.name.text,e=(i=n.parent).parent,f.isFunctionLike(e)?f.mapDefined(e.parameters,function(e){if(f.isIdentifier(e.name)){var t=e.name.text;if(!i.tags.some(function(e){return e!==n&&f.isJSDocParameterTag(e)&&f.isIdentifier(e.name)&&e.name.escapedText===t})&&(void 0===r||f.startsWith(t,r)))return{name:t,kind:"parameter",kindModifiers:"",sortText:"0"}}}):[]):f.emptyArray},e.getDocCommentTemplateAtPosition=function(e,t,n){if(!(f.isInString(t,n)||f.isInComment(t,n)||f.hasDocComment(t,n))){var r=f.getTokenAtPosition(t,n,!1),i=r.getStart();if(r&&!(i<n)){var a=function(){for(var e=r;e;e=e.parent)switch(e.kind){case 228:case 151:case 152:return{commentOwner:e,parameters:e.parameters};case 229:return{commentOwner:e};case 208:var t=e.declarationList.declarations;return{commentOwner:e,parameters:1===t.length&&t[0].initializer?function(e){for(;185===e.kind;)e=e.expression;switch(e.kind){case 186:case 187:return e.parameters;case 199:for(var t=0,n=e.members;t<n.length;t++){var r=n[t];if(152===r.kind)return r.parameters}}return f.emptyArray}(t[0].initializer):void 0};case 265:return;case 233:return 233===e.parent.kind?void 0:{commentOwner:e};case 194:t=e;return 0===f.getSpecialPropertyAssignmentKind(t)?void 0:{commentOwner:e,parameters:f.isFunctionLike(t.right)?t.right.parameters:f.emptyArray}}}();if(a){var s=a.commentOwner,o=a.parameters;if(!(s.getStart()<n)){var a=t.getLineAndCharacterOfPosition(n),s=t.getLineStarts()[a.line],c=t.text.substr(s,a.character).replace(/\S/i,function(){return" "}),l=f.hasJavaScriptFileExtension(t.fileName),u="";if(o)for(var d=0;d<o.length;d++){var p=o[d].name,p=71===p.kind?p.escapedText:"param"+d;u+=l?c+" * @param {any} "+p+e:c+" * @param "+p+e}s="/**"+e+c+" * ";return{newText:s+e+u+c+" */"+(i===n?e+c:""),caretOffset:s.length}}}}}}}(ts=ts||{}),function(b){var e,t,x;(e=b.JsTyping||(b.JsTyping={})).nodeCoreModuleList=["buffer","querystring","events","http","cluster","zlib","os","https","punycode","repl","readline","vm","child_process","url","dns","net","dgram","fs","path","string_decoder","tls","crypto","stream","util","assert","tty","domain","constants","process","v8","timers","console"],x=b.arrayToSet(e.nodeCoreModuleList),e.loadSafeList=function(t,e){e=b.readConfigFile(e,function(e){return t.readFile(e)});return b.createMapFromTemplate(e.config)},e.loadTypesMap=function(t,e){e=b.readConfigFile(e,function(e){return t.readFile(e)});if(e.config)return b.createMapFromTemplate(e.config.simpleMap)},e.discoverTypings=function(c,l,e,t,n,r,i,a){if(!i||!i.enable)return{cachedTypingPaths:[],newTypingNames:[],filesToWatch:[]};var u=b.createMap(),s=(e=b.mapDefined(e,function(e){e=b.normalizePath(e);if(b.hasJavaScriptFileExtension(e))return e}),[]),i=(i.include&&h(i.include,"Explicitly included types"),i.exclude||[]),o=b.arrayToSet(e,b.getDirectoryPath);o.set(t,!0),o.forEach(function(e,t){y(b.combinePaths(t,"package.json"),s),y(b.combinePaths(t,"bower.json"),s),v(b.combinePaths(t,"bower_components"),s),v(b.combinePaths(t,"node_modules"),s)}),t=e,(o=b.mapDefined(t,function(e){if(b.hasJavaScriptFileExtension(e))return e=b.removeFileExtension(b.getBaseFileName(e.toLowerCase())).replace(/((?:\.|-)min(?=\.|$))|((?:-|\.)\d+)/g,""),n.get(e)})).length&&h(o,"Inferred typings from file names"),b.some(t,function(e){return b.fileExtensionIs(e,".jsx")})&&(l&&l("Inferred 'react' typings due to presence of '.jsx' extension"),g("react")),a&&h(b.deduplicate(a.map(function(e){return x.has(e)?"node":e})),"Inferred typings from unresolved imports"),r.forEach(function(e,t){u.has(t)&&void 0===u.get(t)&&u.set(t,e)});for(var d=0,p=i;d<p.length;d++){var f=p[d];u.delete(f)&&l&&l("Typing for "+f+" is in exclude list, will be ignored.")}var _=[],m=[],e=(u.forEach(function(e,t){void 0!==e?m.push(e):_.push(t)}),{cachedTypingPaths:m,newTypingNames:_,filesToWatch:s});return l&&l("Result: "+JSON.stringify(e)),e;function g(e){u.has(e)||u.set(e,void 0)}function h(e,t){l&&l(t+": "+JSON.stringify(e)),b.forEach(e,g)}function y(e,t){c.fileExists(e)&&(t.push(e),t=b.readConfigFile(e,function(e){return c.readFile(e)}).config,h(b.flatMap([t.dependencies,t.devDependencies,t.optionalDependencies,t.peerDependencies],b.getOwnKeys),"Typing names in '"+e+"' dependencies"))}function v(e,t){if(t.push(e),c.directoryExists(e)){t=c.readDirectory(e,[".json"],void 0,void 0,2);l&&l("Searching for typing names in "+e+"; all files: "+JSON.stringify(t));for(var n=[],r=0,i=t;r<i.length;r++){var a,s=i[r],s=b.normalizePath(s),o=b.getBaseFileName(s);"package.json"!==o&&"bower.json"!==o||(a=b.readConfigFile(s,function(e){return c.readFile(e)}).config,"package.json"===o&&a._requiredBy&&0===b.filter(a._requiredBy,function(e){return"#"===e[0]||"/"===e}).length)||!a.name||((o=a.types||a.typings)?(o=b.getNormalizedAbsolutePath(o,b.getDirectoryPath(s)),l&&l("    Package '"+a.name+"' provides its own types."),u.set(a.name,o)):n.push(a.name))}h(n,"    Found package names")}}},(t=e.PackageNameValidationResult||(e.PackageNameValidationResult={}))[t.Ok=0]="Ok",t[t.ScopedPackagesNotSupported=1]="ScopedPackagesNotSupported",t[t.EmptyName=2]="EmptyName",t[t.NameTooLong=3]="NameTooLong",t[t.NameStartsWithDot=4]="NameStartsWithDot",t[t.NameStartsWithUnderscore=5]="NameStartsWithUnderscore",t[t.NameContainsNonURISafeCharacters=6]="NameContainsNonURISafeCharacters",e.validatePackageName=function(e){return e?214<e.length?3:46===e.charCodeAt(0)?4:95===e.charCodeAt(0)?5:/^@[^/]+\/[^/]+$/.test(e)?1:encodeURIComponent(e)!==e?6:0:2},e.renderPackageNameValidationFailure=function(e,t){switch(e){case 2:return"Package name '"+t+"' cannot be empty";case 3:return"Package name '"+t+"' should be less than 214 characters";case 4:return"Package name '"+t+"' cannot start with '.'";case 5:return"Package name '"+t+"' cannot start with '_'";case 1:return"Package '"+t+"' is scoped and currently is not supported";case 6:return"Package name '"+t+"' contains non URI safe characters";case 0:throw b.Debug.fail();default:b.Debug.assertNever(e)}}}(ts=ts||{}),function(h){function i(e,t,n){var r=h.getTextOfIdentifierOrLiteral(e);return void 0!==r?(n&&t.unshift(r),!0):179===e.kind&&(r=e,n&&t.unshift(r.name.text),i(r.expression,t,!0))}function y(e){var t=[],n=h.getNameOfDeclaration(e);if(144!==n.kind||i(n.expression,t,!1)){for(e=h.getContainerNode(e);e;){if(!function(e,t){if(e){e=h.getNameOfDeclaration(e);if(e){var n=h.getTextOfIdentifierOrLiteral(e);if(void 0===n)return 144===e.kind&&i(e.expression,t,!0);t.unshift(n)}}return 1}(e,t))return;e=h.getContainerNode(e)}return t}}function c(e,t){return e.matchKind-t.matchKind||h.compareStringsCaseInsensitive(e.name,t.name)||h.compareStrings(e.name,t.name)}function l(e){var t=e.declaration,n=h.getContainerNode(t),r=n&&h.getNameOfDeclaration(n);return{name:e.name,kind:h.getNodeKind(t),kindModifiers:h.getNodeModifiers(t),matchKind:h.PatternMatchKind[e.matchKind],isCaseSensitive:e.isCaseSensitive,fileName:e.fileName,textSpan:h.createTextSpanFromNode(t),containerName:r?r.text:"",containerKind:r?h.getNodeKind(n):""}}(h.NavigateTo||(h.NavigateTo={})).getNavigateToItems=function(e,_,t,n,r,i){for(var m=h.createPatternMatcher(n),g=[],a=function(f){if(t.throwIfCancellationRequested(),i&&h.fileExtensionIs(f.fileName,".d.ts"))return"continue";h.forEachEntry(f.getNamedDeclarations(),function(e,t){var n=m,r=t,t=e,i=_,a=f.fileName,s=g,o=n.getMatchesForLastSegmentOfPattern(r);if(o)for(var c=0,l=t;c<l.length;c++){var u,d,p=l[c];!function(e,t){switch(e.kind){case 239:case 242:case 237:var n=t.getSymbolAtLocation(e.name),r=t.getAliasedSymbol(n);return n.escapedName!==r.escapedName;default:return 1}}(p,i)||(d=o,n.patternContainsDots&&!(d=n.getMatches(y(p),r)))||(u=function(e){h.Debug.assert(0<e.length);for(var t=h.PatternMatchKind.camelCase,n=0,r=e;n<r.length;n++){var i=r[n].kind;i<t&&(t=i)}return t}(d),d=function(e){h.Debug.assert(0<e.length);for(var t=0,n=e;t<n.length;t++)if(!n[t].isCaseSensitive)return!1;return!0}(d),s.push({name:r,fileName:a,matchKind:u,isCaseSensitive:d,declaration:p}))}})},s=0,o=e;s<o.length;s++)a(o[s]);return g.sort(c),(g=void 0!==r?g.slice(0,r):g).map(l)}}(ts=ts||{}),function(_){function r(){N=[],D=C=E=void 0,w=[]}function l(e){return e.getText(E)}function a(e){return e.node.kind}function t(e,t){e.children?e.children.push(t):e.children=[t]}function s(e){_.Debug.assert(!N.length);var t={node:e,additionalNodes:void 0,parent:void 0,children:void 0,indent:0};D=t;for(var n=0,r=e.statements;n<r.length;n++)v(r[n]);return h(),_.Debug.assert(!D&&!N.length),t}function m(e){t(D,n(e))}function n(e){return{node:e,additionalNodes:void 0,parent:D,children:void 0,indent:D.indent+1}}function g(e){e=n(e);t(D,e),N.push(D),D=e}function h(){D.children&&(function o(e){var c=_.createMap();_.filterMutate(e,function(e){var t=_.getNameOfDeclaration(e.node),t=t&&l(t);if(!t)return!0;var n=c.get(t);if(!n)return c.set(t,e),!0;if(n instanceof Array){for(var r,i=0,a=n;i<a.length;i++)if(s(r=a[i],e))return!1;return n.push(e),!0}return!s(r=n,e)&&(c.set(t,[r,e]),!0);function s(e,t){return!!function(e,t){return e.kind===t.kind&&(233!==e.kind||n(e,t));function n(e,t){return e.body.kind===t.body.kind&&(233!==e.body.kind||n(e.body,t.body))}}(e.node,t.node)&&(function(e,t){var n;e.additionalNodes=e.additionalNodes||[],e.additionalNodes.push(t.node),t.additionalNodes&&(n=e.additionalNodes).push.apply(n,t.additionalNodes),e.children=_.concatenate(e.children,t.children),e.children&&(o(e.children),u(e.children))}(e,t),!0)}})}(D.children),u(D.children)),D=N.pop()}function y(e,t){g(e),v(t),h()}function v(e){if(C.throwIfCancellationRequested(),e&&!_.isToken(e))switch(e.kind){case 152:var t=e;y(t,t.body);for(var n=0,r=t.parameters;n<r.length;n++){var i=r[n];_.isParameterPropertyDeclaration(i)&&m(i)}break;case 151:case 153:case 154:case 150:_.hasDynamicName(e)||y(e,e.body);break;case 149:case 148:_.hasDynamicName(e)||m(e);break;case 239:t=e,t=(t.name&&m(t),t.namedBindings);if(t)if(240===t.kind)m(t);else for(var a=0,s=t.elements;a<s.length;a++)m(s[a]);break;case 176:case 226:var t=e.name,o=e.initializer;_.isBindingPattern(t)?v(t):o&&function(){switch(o.kind){case 187:case 186:case 199:return 1;default:return}}()?o.name?v(o):(g(e),_.forEachChild(o,v),h()):y(e,o);break;case 187:case 228:case 186:y(e,e.body);break;case 232:g(e);for(var c=0,l=e.members;c<l.length;c++)(f=u=l[c]).name&&144!==f.name.kind&&m(u);h();break;case 229:case 199:case 230:g(e);for(var u,d=0,p=e.members;d<p.length;d++)v(u=p[d]);h();break;case 233:y(e,function e(t){return 233===t.body.kind?e(t.body):t}(e).body);break;case 246:case 237:case 157:case 155:case 156:case 231:m(e);break;default:_.hasJSDocNodes(e)&&_.forEach(e.jsDoc,function(e){_.forEach(e.tags,function(e){283===e.kind&&m(e)})}),_.forEachChild(e,v)}var f}function u(e){e.sort(i)}function i(e,t){var n,r=o(e.node),i=o(t.node);return r&&i?0!==(n=_.compareStringsCaseInsensitive(r,i))?n:a(e)-a(t):r?1:i?-1:a(e)-a(t)}function o(e){if(233===e.kind)return x(e);var t=_.getNameOfDeclaration(e);if(t)return _.unescapeLeadingUnderscores(_.getPropertyNameForPropertyNameNode(t));switch(e.kind){case 186:case 187:case 199:return T(e);case 283:return d(e);default:return}}function c(e){if(233===e.kind)return x(e);var t=_.getNameOfDeclaration(e);if(t){t=l(t);if(0<t.length)return t}switch(e.kind){case 265:var n=e;return _.isExternalModule(n)?'"'+_.escapeString(_.getBaseFileName(_.removeFileExtension(_.normalizePath(n.fileName))))+'"':"<global>";case 187:case 228:case 186:case 229:case 199:return 512&_.getModifierFlags(e)?"default":T(e);case 152:return"constructor";case 156:return"new()";case 155:return"()";case 157:return"[]";case 283:return d(e);default:return"<unknown>"}}function d(e){if(e.name)return e.name.text;e=e.parent&&e.parent.parent;if(e&&208===e.kind&&0<e.declarationList.declarations.length){e=e.declarationList.declarations[0].name;if(71===e.kind)return e.text}return"<typedef>"}function p(e){return{text:c(e.node),kind:_.getNodeKind(e.node),kindModifiers:S(e.node),spans:b(e),childItems:_.map(e.children,p)}}function f(e){return{text:c(e.node),kind:_.getNodeKind(e.node),kindModifiers:S(e.node),spans:b(e),childItems:_.map(e.children,function(e){return{text:c(e.node),kind:_.getNodeKind(e.node),kindModifiers:_.getNodeModifiers(e.node),spans:b(e),childItems:w,indent:0,bolded:!1,grayed:!1}})||w,indent:e.indent,bolded:!1,grayed:!1}}function b(e){var t=[k(e.node)];if(e.additionalNodes)for(var n=0,r=e.additionalNodes;n<r.length;n++){var i=r[n];t.push(k(i))}return t}function x(e){if(_.isAmbientModule(e))return _.getTextOfNode(e.name);var t=[];for(t.push(_.getTextOfIdentifierOrLiteral(e.name));e.body&&233===e.body.kind;)e=e.body,t.push(_.getTextOfIdentifierOrLiteral(e.name));return t.join(".")}function k(e){return 265===e.kind?_.createTextSpanFromBounds(e.getFullStart(),e.getEnd()):_.createTextSpanFromNode(e,E)}function S(e){return e.parent&&226===e.parent.kind&&(e=e.parent),_.getNodeModifiers(e)}function T(e){return e.name&&0<_.getFullWidth(e.name)?_.declarationNameToString(e.name):226===e.parent.kind?_.declarationNameToString(e.parent.name):194===e.parent.kind&&58===e.parent.operatorToken.kind?l(e.parent.left).replace(A,""):261===e.parent.kind&&e.parent.name?l(e.parent.name):512&_.getModifierFlags(e)?"default":_.isClassLike(e)?"<class>":"<function>"}var e,C,E,D,A,N,w;e=_.NavigationBar||(_.NavigationBar={}),A=/\s+/g,N=[],w=[],e.getNavigationBarItems=function(e,t){C=t,E=e;try{return _.map((n=s(e),i=[],function e(t){if(function(e){switch(a(e)){case 229:case 199:case 232:case 230:case 233:case 265:case 231:case 283:return 1;case 152:case 151:case 153:case 154:case 226:return t(e);case 187:case 228:case 186:return function(e){if(e.node.body)switch(a(e.parent)){case 234:case 265:case 151:case 152:return 1;default:return t(e)}}(e);default:return}function t(e){return _.forEach(e.children,function(e){return 226!==(e=a(e))&&176!==e})}}(t)&&(i.push(t),t.children))for(var n=0,r=t.children;n<r.length;n++)e(r[n])}(n),i),f)}finally{r()}var n,i},e.getNavigationTree=function(e,t){C=t,E=e;try{return p(s(e))}finally{r()}}}(ts=ts||{}),function(k){var e,o;e=k.OutliningElementsCollector||(k.OutliningElementsCollector={}),o=new RegExp("^\\s*//\\s*#(end)?region(?:\\s+(.*))?$"),e.collectElements=function(_,m){var g=[],h=0,e=[];(function e(t){if(m.throwIfCancellationRequested(),!(40<h)){if(k.isDeclaration(t)){var n=k.getLeadingCommentRangesOfNode(t,_);if(n){for(var r=-1,i=-1,a=!0,s=0,o=0,c=n;o<c.length;o++){var l=c[o];m.throwIfCancellationRequested(),2===l.kind?(a&&(r=l.pos),a=!1,i=l.end,s++):3===l.kind&&(b(s,r,i),v(l,!1),i=-1,a=!(s=0))}b(s,r,i)}}switch(t.kind){case 207:if(!k.isFunctionBlock(t)){var u=t.parent,d=k.findChildOfKind(t,17,_),p=k.findChildOfKind(t,18,_);if(212===u.kind||215===u.kind||216===u.kind||214===u.kind||211===u.kind||213===u.kind||220===u.kind||260===u.kind){y(u,d,p,x(t),!0);break}if(224===u.kind){var f=u;if(f.tryBlock===t){y(u,d,p,x(t),!0);break}if(f.finallyBlock===t){u=k.findChildOfKind(f,87,_);if(u){y(u,d,p,x(t),!0);break}}}f=k.createTextSpanFromNode(t);g.push({textSpan:f,hintSpan:f,bannerText:"...",autoCollapse:x(t)});break}case 234:u=k.findChildOfKind(t,17,_),d=k.findChildOfKind(t,18,_);y(t.parent,u,d,x(t),!0);break;case 229:case 230:case 232:case 235:p=k.findChildOfKind(t,17,_),f=k.findChildOfKind(t,18,_);y(t,p,f,x(t),!0);break;case 178:u=k.findChildOfKind(t,17,_),d=k.findChildOfKind(t,18,_);y(t,u,d,x(t),!k.isArrayLiteralExpression(t.parent));break;case 177:p=k.findChildOfKind(t,21,_),f=k.findChildOfKind(t,22,_);y(t,p,f,x(t),!k.isArrayLiteralExpression(t.parent))}h++,k.forEachChild(t,e),h--}})(_);for(var t=_.getLineStarts(),n=0;n<t.length;n++){var r,i=t[n],a=t[n+1]-1||_.getEnd(),s=_.text.substring(i,a).match(o);s&&!k.isInComment(_,i)&&(s[1]?(r=e.pop())&&(r.textSpan.length=a-r.textSpan.start,r.hintSpan.length=a-r.textSpan.start,g.push(r)):(i=_.getFullText().indexOf("//",i),r={textSpan:i=k.createTextSpanFromBounds(i,a),hintSpan:i,bannerText:s[2]||"#region",autoCollapse:!1},e.push(r)))}return g.sort(function(e,t){return e.textSpan.start-t.textSpan.start});function y(e,t,n,r,i){e&&t&&n&&(i={textSpan:k.createTextSpanFromBounds(i?t.getFullStart():t.getStart(),n.getEnd()),hintSpan:k.createTextSpanFromNode(e,_),bannerText:"...",autoCollapse:r},g.push(i))}function v(e,t){e&&(e={textSpan:k.createTextSpanFromBounds(e.pos,e.end),hintSpan:k.createTextSpanFromBounds(e.pos,e.end),bannerText:"...",autoCollapse:t},g.push(e))}function b(e,t,n){1<e&&v({kind:2,pos:t,end:n},!1)}function x(e){return k.isFunctionBlock(e)&&187!==e.parent.kind}}}(ts=ts||{}),function(_){var p,e;function m(e,t,n,r){return{kind:e,punctuationStripped:t,isCaseSensitive:n,camelCaseWeight:r}}function r(e){return 0===e.subWordTextChunks.length}function g(e){return 65<=e&&e<=90||!(e<127||!_.isUnicodeIdentifierStart(e,5))&&(e=String.fromCharCode(e))===e.toUpperCase()}function d(e){return 97<=e&&e<=122||!(e<127||!_.isUnicodeIdentifierStart(e,5))&&(e=String.fromCharCode(e))===e.toLowerCase()}function h(e){return 65<=e&&e<=90?e-65+97:e<127?e:String.fromCharCode(e).toLowerCase().charCodeAt(0)}function f(e){return 48<=e&&e<=57}function i(e){for(var t,n=[],r=0,i=0,a=0;a<e.length;a++)g(t=e.charCodeAt(a))||d(t)||f(t)||95===t||36===t?(0===i&&(r=a),i++):0<i&&(n.push(y(e.substr(r,i))),i=0);return 0<i&&n.push(y(e.substr(r,i))),n}function y(e){var t=e.toLowerCase();return{text:e,textLowerCase:t,isLowerCase:e===t,characterSpans:n(e)}}function n(e){return t(e,!1)}function a(e){return t(e,!0)}function t(e,t){for(var n,r,i=[],a=0,s=1;s<e.length;s++){var o=f(e.charCodeAt(s-1)),c=f(e.charCodeAt(s)),l=(u=t,l=s,r=void 0,r=g((n=e).charCodeAt(l-1)),n=g(n.charCodeAt(l)),u?n&&!r:n),u=function(e,t,n,r){if(t&&n!==r&&n+1<e.length){var t=g(e.charCodeAt(n)),i=d(e.charCodeAt(n+1));if(t&&i){for(var a=r;a<n;a++)if(!g(e.charCodeAt(a)))return!1;return!0}}return!1}(e,t,s,a);(v(e.charCodeAt(s-1))||v(e.charCodeAt(s))||o!==c||l||u)&&(b(e,a,s)||i.push(_.createTextSpan(a,s-a)),a=s)}return b(e,a,e.length)||i.push(_.createTextSpan(a,e.length-a)),i}function v(e){switch(e){case 33:case 34:case 35:case 37:case 38:case 39:case 40:case 41:case 42:case 44:case 45:case 46:case 47:case 58:case 59:case 63:case 64:case 91:case 92:case 93:case 95:case 123:case 125:return 1}}function b(e,t,n){for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(!v(i)||95===i||36===i)return}return 1}(e=p=_.PatternMatchKind||(_.PatternMatchKind={}))[e.exact=0]="exact",e[e.prefix=1]="prefix",e[e.substring=2]="substring",e[e.camelCase=3]="camelCase",_.createPatternMatcher=function(e){var n=_.createMap(),s=(e=e.trim()).split(".").map(function(e){return{totalTextChunk:y(e=e.trim()),subWordTextChunks:i(e)}}),t=0===s.length||_.forEach(s,r);return{getMatches:function(e,t){if(!o(t)){t=l(t,_.lastOrUndefined(s));if(t&&!(s.length-1>(e=e||[]).length)){for(var n=t,r=s.length-2,i=e.length-1;0<=r;--r,--i){var a=s[r],a=l(e[i],a);if(!a)return;_.addRange(n,a)}return n}}},getMatchesForLastSegmentOfPattern:function(e){if(!o(e))return l(e,_.lastOrUndefined(s))},patternContainsDots:1<s.length};function o(e){return t||!e}function u(e){var t=n.get(e);return t||n.set(e,t=a(e)),t}function c(e,t,n){var r=function(e,t){for(var n=e.length-t.length,r=0;r<=n;r++)if(function(e,t,n){for(var r=0;r<t.length;r++)if(h(e.charCodeAt(r+n))!==t.charCodeAt(r))return;return 1}(e,t,r))return r;return-1}(e,t.textLowerCase);if(0===r)return t.text.length===e.length?m(p.exact,n,e===t.text):m(p.prefix,n,_.startsWith(e,t.text));var i=t.isLowerCase;if(i){if(0<r)for(var a=0,s=u(e);a<s.length;a++){var o=s[a];if(f(e,o,t.text,!0))return m(p.substring,n,f(e,o,t.text,!1))}}else if(0<e.indexOf(t.text))return m(p.substring,n,!0);if(!i&&0<t.characterSpans.length){var c=u(e),l=d(e,c,t,!1);if(void 0!==l)return m(p.camelCase,n,!0,l);if(void 0!==(l=d(e,c,t,!0)))return m(p.camelCase,n,!1,l)}return i&&t.text.length<e.length&&0<r&&g(e.charCodeAt(r))?m(p.substring,n,!1):void 0}function l(e,t){if(!function(e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(32===n||42===n)return 1}}(t.totalTextChunk.text)){var n=c(e,t.totalTextChunk,!1);if(n)return[n]}for(var r=void 0,i=0,a=t.subWordTextChunks;i<a.length;i++){var s=c(e,a[i],!0);if(!s)return;(r=r||[]).push(s)}return r}function f(e,t,n,r,i){var a=i?i.start:0,s=(i||n).length;if(s>t.length)return!1;if(r)for(var o=0;o<s;o++){var c=n.charCodeAt(a+o),l=e.charCodeAt(t.start+o);if(h(c)!==h(l))return!1}else for(o=0;o<s;o++)if((c=n.charCodeAt(a+o))!==(l=e.charCodeAt(t.start+o)))return!1;return!0}function d(e,t,n,r){for(var i,a=n.characterSpans,s=0,o=0,c=void 0,l=void 0;;){if(o===a.length)return i=0,l&&(i+=1),0===c&&(i+=2),i;if(s===t.length)return;for(var u=t[s],d=!1;o<a.length;o++){var p=a[o];if(d&&(!g(n.text.charCodeAt(a[o-1].start))||!g(n.text.charCodeAt(a[o].start))))break;if(!f(e,u,n.text,r,p))break;d=!0,c=void 0===c?s:c,l=void 0===l||l,u=_.createTextSpan(u.start+p.length,u.length-p.length)}d||void 0===l||(l=!1),s++}}},_.breakIntoCharacterSpans=n,_.breakIntoWordSpans=a}(ts=ts||{}),function(x){x.preProcessFile=function(n,e,t){void 0===e&&(e=!0),void 0===t&&(t=!1);var r,i=[],a=[],s=[],o=!1,c=0,l=!1;function u(){var e=x.scanner.scan();return 17===e?c++:18===e&&c--,e}function d(){var e=x.scanner.getTokenValue(),t=x.scanner.getTokenPos();return{fileName:e,pos:t,end:t+e.length}}function p(){s.push(d()),f()}function f(){0===c&&(l=!0)}function _(e){return 132===(e?u():x.scanner.getToken())&&(19===u()&&9===u()&&p(),1)}if(e){for(x.scanner.setText(n),u();1!==x.scanner.getToken();)(124===x.scanner.getToken()?(128===u()&&9===u()&&(r=r||[]).push({ref:d(),depth:c}),1):function(){var e=x.scanner.getToken();if(91===e){if(19===(e=u())){if(9===(e=u()))p()}else{if(9===e)return p(),1;if(71===e||x.isKeyword(e))if(140===(e=u())){if(9===(e=u()))return p(),1}else if(58===e){if(_(!0))return 1}else{if(26!==e)return 1;e=u()}if(17===e){for(e=u();18!==e&&1!==e;)e=u();18===e&&140===(e=u())&&9===(e=u())&&p()}else 39!==e||118!==(e=u())||71!==(e=u())&&!x.isKeyword(e)||140!==(e=u())||9!==(e=u())||p()}return 1}}())||function(){var e=x.scanner.getToken();if(84===e){if(f(),17===(e=u())){for(e=u();18!==e&&1!==e;)e=u();18===e&&140===(e=u())&&9===(e=u())&&p()}else if(39===e)140===(e=u())&&9===(e=u())&&p();else if(91===e&&(71===(e=u())||x.isKeyword(e))&&58===(e=u())&&_(!0));return 1}}()||t&&(_(!1)||function(){var e=x.scanner.getToken();if(71===e&&"define"===x.scanner.getTokenValue()){if(19===(e=u())){if(9===(e=u())){if(26!==(e=u()))return 1;e=u()}if(21===e)for(e=u();22!==e&&1!==e;)9===e&&p(),e=u()}return 1}}())||u();x.scanner.setText(void 0)}if(e=x.getLeadingCommentRanges(n,0),x.forEach(e,function(e){var t=n.substring(e.pos,e.end),t=x.getFileReferenceFromReferencePath(t,e);t&&(o=t.isNoDefaultLib,e=t.fileReference)&&(t.isTypeReferenceDirective?a:i).push(e)}),l){if(r)for(var m=0,g=r;m<g.length;m++){var h=g[m];s.push(h.ref)}return{referencedFiles:i,typeReferenceDirectives:a,importedFiles:s,isLibFile:o,ambientExternalModules:void 0}}var y=void 0;if(r)for(var v=0,b=r;v<b.length;v++)0===(h=b[v]).depth?(y=y||[]).push(h.ref.fileName):s.push(h.ref);return{referencedFiles:i,typeReferenceDirectives:a,importedFiles:s,isLibFile:o,ambientExternalModules:y}}}(ts=ts||{}),function(o){function c(e,t,n,r,i,a){return{canRename:!0,kind:n,displayName:e,localizedErrorMessage:void 0,fullDisplayName:t,kindModifiers:r,triggerSpan:(n=a,t=(e=i).getStart(n),n=e.getWidth(n),9===e.kind&&(t+=1,n-=2),o.createTextSpan(t,n))}}function l(e){return{canRename:!1,localizedErrorMessage:o.getLocaleSpecificMessage(e),displayName:void 0,fullDisplayName:void 0,kind:void 0,kindModifiers:void 0,triggerSpan:void 0}}(o.Rename||(o.Rename={})).getRenameInfo=function(e,t,n,r,i){var a=o.memoize(function(){return n(o.normalizePath(t))}),i=o.getTouchingWord(r,i,!0);return(i&&function(e){switch(e.kind){case 71:case 9:case 99:return 1;case 8:return o.isLiteralNameOfPropertyDeclarationOrIndexAccess(e);default:return}}(i)?function(e,t,n,r){var i=t.getSymbolAtLocation(e);if(i){var a,s=i.getDeclarations();if(s&&0<s.length)return o.some(s,r)?l(o.Diagnostics.You_cannot_rename_elements_that_are_defined_in_the_standard_TypeScript_library):!(71===e.kind&&79===e.originalKeywordKind&&1536&i.parent.flags)&&(a=o.stripQuotes(o.getDeclaredName(t,i,e)),s=o.SymbolDisplay.getSymbolKind(t,i,e))?c(a,t.getFullyQualifiedName(i),s,o.SymbolDisplay.getSymbolModifiers(i),e,n):void 0}else if(9===e.kind)return r(e)?l(o.Diagnostics.You_cannot_rename_elements_that_are_defined_in_the_standard_TypeScript_library):c(a=o.stripQuotes(e.text),a,"var","",e,n)}(i,e,r,function(e){return!!t&&(e=e.getSourceFile(),n(o.normalizePath(e.fileName))===a())}):void 0)||l(o.Diagnostics.You_cannot_rename_this_element)}}(ts=ts||{}),function(h){function a(e,t,n){if(h.isCallOrNewExpression(e.parent)){var r=e.parent,a=void 0,i=void 0;if(27===e.kind||19===e.kind)s=e,o=r.getChildren(n),s=o.indexOf(s),h.Debug.assert(0<=s&&o.length>s+1),a=o[s+1],h.Debug.assert(void 0!==a),i=0;else{if(!(a=h.findContainingList(e)))return;i=function(e){for(var t=0,n=0,r=a.getChildren();n<r.length;n++){var i=r[n];if(i===e)break;26!==i.kind&&t++}return t}(e)}o=r.typeArguments&&r.typeArguments.pos===a.pos?0:1,s=a.getChildren(),p=h.countWhere(s,function(e){return 26!==e.kind}),0<s.length&&26===h.lastOrUndefined(s).kind&&p++;return 0!==i&&h.Debug.assertLessThan(i,p),{kind:o,invocation:r,argumentsSpan:(r=n,d=(c=a).getFullStart(),r=h.skipTrivia(r.text,c.getEnd(),!1),h.createTextSpan(d,r-d)),argumentIndex:i,argumentCount:p}}var s,o,c,l,u,d,p;return 13!==e.kind||183!==e.parent.kind?14===e.kind&&183===e.parent.parent.kind?(l=(u=e.parent).parent,h.Debug.assert(196===u.kind),f(l,i=h.isInsideTemplateLiteral(e,t)?0:1,n)):205===e.parent.kind&&183===e.parent.parent.parent.kind?(l=(u=(c=e.parent).parent).parent,h.Debug.assert(196===u.kind),16!==e.kind||h.isInsideTemplateLiteral(e,t)?f(l,(r=u.templateSpans.indexOf(c),d=e,p=t,h.Debug.assert(p>=d.getStart(),"Assumed 'position' could not occur before node."),i=h.isTemplateLiteralKind(d.kind)?h.isInsideTemplateLiteral(d,p)?0:r+2:r+1),n):void 0):e.parent&&h.isJsxOpeningLikeElement(e.parent)?(l=e.parent.attributes.getFullStart(),u=h.skipTrivia(n.text,e.parent.attributes.getEnd(),!1),{kind:3,invocation:e.parent,argumentsSpan:h.createTextSpan(l,u-l),argumentIndex:0,argumentCount:1}):void 0:h.isInsideTemplateLiteral(e,t)?f(e.parent,0,n):void 0}function f(e,t,n){var r,i,a=13===e.template.kind?1:e.template.templateSpans.length+1;return 0!==t&&h.Debug.assertLessThan(t,a),{kind:2,invocation:e,argumentsSpan:(n=n,e=(e=e).template,r=e.getStart(),i=e.getEnd(),196===e.kind&&0===h.lastOrUndefined(e.templateSpans).literal.getFullWidth()&&(i=h.skipTrivia(n.text,i,!1)),h.createTextSpan(r,i-r)),argumentIndex:t,argumentCount:a}}function y(e,t,n){for(var r=e;265!==r.kind;r=r.parent){if(h.isFunctionBlock(r))return;(r.pos<r.parent.pos||r.end>r.parent.end)&&h.Debug.fail("Node of kind "+r.kind+" is not a subspan of its parent of kind "+r.parent.kind);var i=a(r,t,n);if(i)return i}}function v(e,t,n,s){var r=n.argumentCount,i=n.argumentsSpan,o=n.invocation,a=n.argumentIndex,c=0===n.kind,n=h.getInvokedExpression(o),n=s.getSymbolAtLocation(n),l=n&&h.symbolToDisplayParts(s,n,void 0,void 0),n=h.map(e,function(t){var e,n,r=[],i=[],a=(l&&h.addRange(r,l),c?(n=!1,r.push(h.punctuationPart(27)),e=(e=(t.target||t).typeParameters)&&0<e.length?h.map(e,d):h.emptyArray,i.push(h.punctuationPart(29)),a=h.mapToDisplayParts(function(e){return s.getSymbolDisplayBuilder().buildDisplayForParametersAndDelimiters(t.thisParameter,t.parameters,e,o)}),h.addRange(i,a)):(n=t.hasRestParameter,a=h.mapToDisplayParts(function(e){return s.getSymbolDisplayBuilder().buildDisplayForTypeParametersAndDelimiters(t.typeParameters,e,o)}),h.addRange(r,a),r.push(h.punctuationPart(19)),e=h.map(t.parameters,u),i.push(h.punctuationPart(20))),h.mapToDisplayParts(function(e){return s.getSymbolDisplayBuilder().buildReturnTypeDisplay(t,e,o)}));return h.addRange(i,a),{isVariadic:n,prefixDisplayParts:r,suffixDisplayParts:i,separatorDisplayParts:[h.punctuationPart(26),h.spacePart()],parameters:e,documentation:t.getDocumentationComment(),tags:t.getJsDocTags()}}),e=(0!==a&&h.Debug.assertLessThan(a,r),e.indexOf(t));return h.Debug.assert(-1!==e),{items:n,applicableSpan:i,selectedItemIndex:e,argumentIndex:a,argumentCount:r};function u(t){var e=h.mapToDisplayParts(function(e){return s.getSymbolDisplayBuilder().buildParameterDisplay(t,e,o)});return{name:t.name,documentation:t.getDocumentationComment(),displayParts:e,isOptional:s.isOptionalParameter(t.valueDeclaration)}}function d(t){var e=h.mapToDisplayParts(function(e){return s.getSymbolDisplayBuilder().buildTypeParameterDisplay(t,e,o)});return{name:t.symbol.name,documentation:h.emptyArray,displayParts:e,isOptional:!1}}}var e,t;e=h.SignatureHelp||(h.SignatureHelp={}),(t=e.ArgumentListKind||(e.ArgumentListKind={}))[t.TypeArguments=0]="TypeArguments",t[t.CallArguments=1]="CallArguments",t[t.TaggedTemplateArguments=2]="TaggedTemplateArguments",t[t.JSXAttributesArguments=3]="JSXAttributesArguments",e.getSignatureHelpItems=function(e,t,n,r){var i=e.getTypeChecker(),a=h.findTokenOnLeftOfPosition(t,n);if(a){a=y(a,n,t);if(a){r.throwIfCancellationRequested();var n=a.invocation,s=[],n=i.getResolvedSignature(n,s,a.argumentCount);if(r.throwIfCancellationRequested(),s.length)return v(s,n,a,i);else if(h.isSourceFileJavaScript(t)){var o=a;r=e;if(181===o.invocation.kind){var s=o.invocation.expression,c=71===s.kind?s:179===s.kind?s.name:void 0;if(c&&c.escapedText)for(var l=r.getTypeChecker(),u=0,d=r.getSourceFiles();u<d.length;u++){var p=d[u].getNamedDeclarations().get(c.text);if(p)for(var f=0,_=p;f<_.length;f++){var m=_[f],g=m.symbol;if(g){g=l.getTypeOfSymbolAtLocation(g,m);if(g){m=g.getCallSignatures();if(m&&m.length)return v(m,m[0],o,l)}}}}}return}else return void 0}}},e.getImmediatelyContainingArgumentInfo=a,e.getContainingArgumentInfo=y}(ts=ts||{}),function(w){function I(e,t,n){var r=w.getCombinedLocalAndExportSymbolFlags(t);if(32&r)return w.getDeclarationOfKind(t,199)?"local class":"class";if(384&r)return"enum";if(524288&r)return"type";if(64&r)return"interface";if(262144&r)return"type parameter";e=P(e,t,n);if(""===e){if(262144&r)return"type parameter";if(8&r)return"enum member";if(2097152&r)return"alias";if(1536&r)return"module"}return e}function P(e,t,n){var r;return e.isUndefinedSymbol(t)?"var":e.isArgumentsSymbol(t)?"local var":99===n.kind&&w.isExpression(n)?"parameter":3&(r=w.getCombinedLocalAndExportSymbolFlags(t))?w.isFirstDeclarationOfSymbolParameter(t)?"parameter":t.valueDeclaration&&w.isConst(t.valueDeclaration)?"const":w.forEach(t.declarations,w.isLet)?"let":i(t)?"local var":"var":16&r?i(t)?"local function":"function":32768&r?"getter":65536&r?"setter":8192&r?"method":16384&r?"constructor":4&r?33554432&r&&6&t.checkFlags?w.forEach(e.getRootSymbols(t),function(e){e=e.getFlags();if(98311&e)return"property";w.Debug.assert(!!(8208&e))})||(e.getTypeOfSymbolAtLocation(t,n).getCallSignatures().length?"method":"property"):n.parent&&w.isJsxAttribute(n.parent)?"JSX attribute":"property":""}function i(e){return!e.parent&&w.forEach(e.declarations,function(e){if(186!==e.kind){if(226!==e.kind&&228!==e.kind)return!1;for(var t=e.parent;!w.isFunctionBlock(t);t=t.parent)if(265===t.kind||234===t.kind)return!1}return!0})}var e;(e=w.SymbolDisplay||(w.SymbolDisplay={})).getSymbolKind=I,e.getSymbolModifiers=function(e){return e&&e.declarations&&0<e.declarations.length?w.getNodeModifiers(e.declarations[0]):""},e.getSymbolDisplayPartsDocumentationAndSymbolKind=function(r,e,n,i,t,a){void 0===a&&(a=w.getMeaningFromLocation(t));var s,o,c,l,u=[],d=w.getCombinedLocalAndExportSymbolFlags(e),p=P(r,e,t),f=99===t.kind&&w.isExpression(t);if(""!==p||32&d||2097152&d){"getter"!==p&&"setter"!==p||(p="property");var _,m=void 0,g=f?r.getTypeAtLocation(t):r.getTypeOfSymbolAtLocation(e.exportSymbol||e,t),h=(t.parent&&179===t.parent.kind&&((h=t.parent.name)===t||h&&0===h.getFullWidth())&&(t=t.parent),void 0);if(w.isCallOrNewExpression(t)?h=t:(w.isCallExpressionTarget(t)||w.isNewExpressionTarget(t)||t.parent&&w.isJsxOpeningLikeElement(t.parent)&&w.isFunctionLike(e.valueDeclaration))&&(h=t.parent),h){var m=r.getResolvedSignature(h,[]),y=182===h.kind||w.isCallExpression(h)&&97===h.expression.kind,v=y?g.getConstructSignatures():g.getCallSignatures();if(m=w.contains(v,m.target)||w.contains(v,m)?m:v.length?v[0]:void 0){switch(y&&32&d?E(g.symbol,p="constructor"):2097152&d?(D(p="alias"),u.push(w.spacePart()),y&&(u.push(w.keywordPart(94)),u.push(w.spacePart())),C(e)):E(e,p),p){case"JSX attribute":case"property":case"var":case"const":case"let":case"parameter":case"local var":u.push(w.punctuationPart(56)),u.push(w.spacePart()),y&&(u.push(w.keywordPart(94)),u.push(w.spacePart())),32768&g.flags&&16&g.objectFlags||!g.symbol||w.addRange(u,w.symbolToDisplayParts(r,g.symbol,i,void 0,1)),A(m,v,16);break;default:A(m,v)}c=!0}}else(w.isNameOfFunctionDeclaration(t)&&!(98304&d)||123===t.kind&&152===t.parent.kind)&&(_=t.parent,w.find(e.declarations,function(e){return e===(123===t.kind?_.parent:_)}))&&(v=152===_.kind?g.getNonNullableType().getConstructSignatures():g.getNonNullableType().getCallSignatures(),m=r.isImplementationOfOverload(_)?v[0]:r.getSignatureFromDeclaration(_),152===_.kind?E(g.symbol,p="constructor"):E(155!==_.kind||2048&g.symbol.flags||4096&g.symbol.flags?e:g.symbol,p),A(m,v),c=!0)}if(32&d&&!c&&!f&&(w.getDeclarationOfKind(e,199)?D("local class"):u.push(w.keywordPart(75)),u.push(w.spacePart()),C(e),N(e,n)),64&d&&2&a&&(S(),u.push(w.keywordPart(109)),u.push(w.spacePart()),C(e),N(e,n)),524288&d&&(S(),u.push(w.keywordPart(138)),u.push(w.spacePart()),C(e),N(e,n),u.push(w.spacePart()),u.push(w.operatorPart(58)),u.push(w.spacePart()),w.addRange(u,w.typeToDisplayParts(r,r.getDeclaredTypeOfSymbol(e),i,1024))),384&d&&(S(),w.forEach(e.declarations,w.isConstEnumDeclaration)&&(u.push(w.keywordPart(76)),u.push(w.spacePart())),u.push(w.keywordPart(83)),u.push(w.spacePart()),C(e)),1536&d&&(S(),h=(l=w.getDeclarationOfKind(e,233))&&l.name&&71===l.name.kind,u.push(w.keywordPart(h?129:128)),u.push(w.spacePart()),C(e)),262144&d&&2&a&&(S(),u.push(w.punctuationPart(19)),u.push(w.textPart("type parameter")),u.push(w.punctuationPart(20)),u.push(w.spacePart()),C(e),e.parent?(T(),C(e.parent,i),N(e.parent,i)):(h=w.getDeclarationOfKind(e,145),w.Debug.assert(void 0!==h),(l=h.parent)&&(w.isFunctionLikeKind(l.kind)?(T(),m=r.getSignatureFromDeclaration(l),156===l.kind?(u.push(w.keywordPart(94)),u.push(w.spacePart())):155!==l.kind&&l.name&&C(l.symbol),w.addRange(u,w.signatureToDisplayParts(r,m,n,64))):231===l.kind&&(T(),u.push(w.keywordPart(138)),u.push(w.spacePart()),C(l.symbol),N(l.symbol,n))))),8&d&&(E(e,p="enum member"),264===(l=e.declarations[0]).kind)&&(void 0!==(a=r.getConstantValue(l))&&(u.push(w.spacePart()),u.push(w.operatorPart(58)),u.push(w.spacePart()),u.push(w.displayPart(w.getTextOfConstantValue(a),"number"==typeof a?w.SymbolDisplayPartKind.numericLiteral:w.SymbolDisplayPartKind.stringLiteral)))),2097152&d){switch(S(),e.declarations[0].kind){case 236:u.push(w.keywordPart(84)),u.push(w.spacePart()),u.push(w.keywordPart(129));break;case 243:u.push(w.keywordPart(84)),u.push(w.spacePart()),u.push(w.keywordPart(e.declarations[0].isExportEquals?58:79));break;default:u.push(w.keywordPart(91))}u.push(w.spacePart()),C(e),w.forEach(e.declarations,function(e){if(237===e.kind)return w.isExternalModuleImportEqualsDeclaration(e=e)?(u.push(w.spacePart()),u.push(w.operatorPart(58)),u.push(w.spacePart()),u.push(w.keywordPart(132)),u.push(w.punctuationPart(19)),u.push(w.displayPart(w.getTextOfNode(w.getExternalModuleImportEqualsDeclarationExpression(e)),w.SymbolDisplayPartKind.stringLiteral)),u.push(w.punctuationPart(20))):(e=r.getSymbolAtLocation(e.moduleReference))&&(u.push(w.spacePart()),u.push(w.operatorPart(58)),u.push(w.spacePart()),C(e,i)),!0})}if(c||(""!==p?g&&(f?(S(),u.push(w.keywordPart(99))):E(e,p),"property"===p||"JSX attribute"===p||3&d||"local var"===p||f?(u.push(w.punctuationPart(56)),u.push(w.spacePart()),g.symbol&&262144&g.symbol.flags?(h=w.mapToDisplayParts(function(e){r.getSymbolDisplayBuilder().buildTypeParameterDisplay(g,e,i)}),w.addRange(u,h)):w.addRange(u,w.typeToDisplayParts(r,g,i))):(16&d||8192&d||16384&d||131072&d||98304&d||"method"===p)&&(v=g.getNonNullableType().getCallSignatures()).length&&A(v[0],v)):p=I(r,e,t)),!s&&(s=e.getDocumentationComment(),o=e.getJsDocTags(),0===s.length)&&4&d&&e.parent&&w.forEach(e.parent.declarations,function(e){return 265===e.kind}))for(var b=0,x=e.declarations;b<x.length;b++)if((l=x[b]).parent&&194===l.parent.kind){var k=r.getSymbolAtLocation(l.parent.right);if(k&&(s=k.getDocumentationComment(),o=k.getJsDocTags(),0<s.length))break}return{displayParts:u,documentation:s,symbolKind:p,tags:o};function S(){u.length&&u.push(w.lineBreakPart())}function T(){u.push(w.spacePart()),u.push(w.keywordPart(92)),u.push(w.spacePart())}function C(e,t){e=w.symbolToDisplayParts(r,e,t||n,void 0,3);w.addRange(u,e)}function E(e,t){S(),t&&(D(t),u.push(w.spacePart()),C(e))}function D(e){switch(e){case"var":case"function":case"let":case"const":case"constructor":return u.push(w.textOrKeywordPart(e));default:u.push(w.punctuationPart(19)),u.push(w.textOrKeywordPart(e)),u.push(w.punctuationPart(20))}}function A(e,t,n){w.addRange(u,w.signatureToDisplayParts(r,e,i,64|n)),1<t.length&&(u.push(w.spacePart()),u.push(w.punctuationPart(19)),u.push(w.operatorPart(37)),u.push(w.displayPart((t.length-1).toString(),w.SymbolDisplayPartKind.numericLiteral)),u.push(w.spacePart()),u.push(w.textPart(2===t.length?"overload":"overloads")),u.push(w.punctuationPart(20))),s=e.getDocumentationComment(),o=e.getJsDocTags()}function N(t,n){var e=w.mapToDisplayParts(function(e){r.getSymbolDisplayBuilder().buildTypeParameterDisplayFromSymbol(t,e,n)});w.addRange(u,e)}}}(ts=ts||{}),function(l){function a(e,t){var n=[],r=t.compilerOptions?u(t.compilerOptions,n):l.getDefaultCompilerOptions(),i=(r.isolatedModules=!0,r.suppressOutputPathCheck=!0,r.allowNonTsExtensions=!0,r.noLib=!0,r.lib=void 0,r.types=void 0,r.noEmit=void 0,r.noEmitOnError=void 0,r.paths=void 0,r.rootDirs=void 0,r.declaration=void 0,r.declarationDir=void 0,r.out=void 0,r.outFile=void 0,r.noResolve=!0,t.fileName||(r.jsx?"module.tsx":"module.ts")),a=l.createSourceFile(i,e,r.target);t.moduleName&&(a.moduleName=t.moduleName),t.renamedDependencies&&(a.renamedDependencies=l.createMapFromTemplate(t.renamedDependencies));var s,o,c=l.getNewLineCharacter(r),e=l.createProgram([i],r,{getSourceFile:function(e){return e===l.normalizePath(i)?a:void 0},writeFile:function(e,t){l.fileExtensionIs(e,".map")?(l.Debug.assertEqual(o,void 0,"Unexpected multiple source map outputs, file:",e),o=t):(l.Debug.assertEqual(s,void 0,"Unexpected multiple outputs, file:",e),s=t)},getDefaultLibFileName:function(){return"lib.d.ts"},useCaseSensitiveFileNames:function(){return!1},getCanonicalFileName:function(e){return e},getCurrentDirectory:function(){return""},getNewLine:function(){return c},fileExists:function(e){return e===i},readFile:function(){return""},directoryExists:function(){return!0},getDirectories:function(){return[]}});return t.reportDiagnostics&&(l.addRange(n,e.getSyntacticDiagnostics(a)),l.addRange(n,e.getOptionsDiagnostics())),e.emit(void 0,void 0,void 0,void 0,t.transformers),l.Debug.assert(void 0!==s,"Output generation failed"),{outputText:s,diagnostics:n,sourceMapText:o}}var i;function u(n,r){i=i||l.filter(l.optionDeclarations,function(e){return"object"==typeof e.type&&!l.forEachEntry(e.type,function(e){return"number"!=typeof e})}),n=l.cloneCompilerOptions(n);for(var e=0,t=i;e<t.length;e++)!function(e){if(!l.hasProperty(n,e.name))return;var t=n[e.name];l.isString(t)?n[e.name]=l.parseCustomTypeOption(e,t,r):l.forEachEntry(e.type,function(e){return e===t})||r.push(l.createCompilerDiagnosticForInvalidCustomType(e))}(t[e]);return n}l.transpileModule=a,l.transpile=function(e,t,n,r,i){e=a(e,{compilerOptions:t,fileName:n,reportDiagnostics:!!r,moduleName:i});return l.addRange(r,e.diagnostics),e.outputText},l.fixupCompilerOptions=u}(ts=ts||{}),function(_){var e,m,g;e=_.formatting||(_.formatting={}),m=_.createScanner(5,!1,0),g=_.createScanner(5,!1,1),e.getFormattingScanner=function(e,t,n,i,r){var a=1===t?g:m;a.setText(e),a.setTextPos(n);var s,o,c,l,u=!0,t=r({advance:function(){d=void 0,a.getStartPos()!==n?u=o&&4===_.lastOrUndefined(o).kind:a.scan(),o=s=void 0;for(var e=a.getStartPos();e<i;){var t=a.getToken();if(!_.isTrivia(t))break;a.scan();t={pos:e,end:a.getStartPos(),kind:t},e=a.getStartPos();s=_.append(s,t)}c=a.getStartPos()},readTokenInfo:function(e){_.Debug.assert(p());var t=function(){switch(e.kind){case 31:case 66:case 67:case 47:case 46:return 1}}()?1:12===e.kind?2:15===e.kind||16===e.kind?3:function(e){if(e.parent)switch(e.parent.kind){case 253:case 251:case 252:case 250:return _.isKeyword(e.kind)||71===e.kind}}(e)?4:10===e.kind?5:0;if(d&&t===l)return f(d,e);a.getStartPos()!==c&&(_.Debug.assert(void 0!==d),a.setTextPos(c),a.scan());var n=function(e,t){var n,r=a.getToken();switch(l=0,t){case 1:if(29===r)return l=1,n=a.reScanGreaterToken(),_.Debug.assert(e.kind===n),n;break;case 2:if(41===r||63===r)return l=2,n=a.reScanSlashToken(),_.Debug.assert(e.kind===n),n;break;case 3:if(18===r)return l=3,a.reScanTemplateToken();break;case 4:return l=4,a.scanJsxIdentifier();case 5:return l=5,a.reScanJsxToken();case 0:break;default:_.Debug.assertNever(t)}return r}(e,t),t={pos:a.getStartPos(),end:a.getTextPos(),kind:n};for(o=o&&void 0;a.getStartPos()<i&&(n=a.scan(),_.isTrivia(n));){var r={pos:a.getStartPos(),end:a.getTextPos(),kind:n};if((o=o||[]).push(r),4===n){a.scan();break}}return f(d={leadingTrivia:s,trailingTrivia:o,token:t},e)},isOnToken:p,getCurrentLeadingTrivia:function(){return s},lastTrailingTriviaWasNewLine:function(){return u},skipToEndOf:function(e){a.setTextPos(e.end),c=a.getStartPos(),u=!1,o=s=d=l=void 0}}),d=void 0;return a.setText(void 0),t;function p(){var e=d?d.token.kind:a.getToken();return(d?d.token.pos:a.getStartPos())<i&&1!==e&&!_.isTrivia(e)}function f(e,t){return _.isToken(t)&&e.token.kind!==t.kind&&(e.token.kind=t.kind),e}}}(ts=ts||{}),function(a){function e(e,t,n){this.sourceFile=e,this.formattingRequestKind=t,this.options=n}var t;t=a.formatting||(a.formatting={}),e.prototype.updateContext=function(e,t,n,r,i){a.Debug.assert(void 0!==e,"currentTokenSpan is null"),a.Debug.assert(void 0!==t,"currentTokenParent is null"),a.Debug.assert(void 0!==n,"nextTokenSpan is null"),a.Debug.assert(void 0!==r,"nextTokenParent is null"),a.Debug.assert(void 0!==i,"commonParent is null"),this.currentTokenSpan=e,this.currentTokenParent=t,this.nextTokenSpan=n,this.nextTokenParent=r,this.contextNode=i,this.contextNodeAllOnSameLine=void 0,this.nextNodeAllOnSameLine=void 0,this.tokensAreOnSameLine=void 0,this.contextNodeBlockIsOnOneLine=void 0,this.nextNodeBlockIsOnOneLine=void 0},e.prototype.ContextNodeAllOnSameLine=function(){return void 0===this.contextNodeAllOnSameLine&&(this.contextNodeAllOnSameLine=this.NodeIsOnOneLine(this.contextNode)),this.contextNodeAllOnSameLine},e.prototype.NextNodeAllOnSameLine=function(){return void 0===this.nextNodeAllOnSameLine&&(this.nextNodeAllOnSameLine=this.NodeIsOnOneLine(this.nextTokenParent)),this.nextNodeAllOnSameLine},e.prototype.TokensAreOnSameLine=function(){var e,t;return void 0===this.tokensAreOnSameLine&&(e=this.sourceFile.getLineAndCharacterOfPosition(this.currentTokenSpan.pos).line,t=this.sourceFile.getLineAndCharacterOfPosition(this.nextTokenSpan.pos).line,this.tokensAreOnSameLine=e===t),this.tokensAreOnSameLine},e.prototype.ContextNodeBlockIsOnOneLine=function(){return void 0===this.contextNodeBlockIsOnOneLine&&(this.contextNodeBlockIsOnOneLine=this.BlockIsOnOneLine(this.contextNode)),this.contextNodeBlockIsOnOneLine},e.prototype.NextNodeBlockIsOnOneLine=function(){return void 0===this.nextNodeBlockIsOnOneLine&&(this.nextNodeBlockIsOnOneLine=this.BlockIsOnOneLine(this.nextTokenParent)),this.nextNodeBlockIsOnOneLine},e.prototype.NodeIsOnOneLine=function(e){return this.sourceFile.getLineAndCharacterOfPosition(e.getStart(this.sourceFile)).line===this.sourceFile.getLineAndCharacterOfPosition(e.getEnd()).line},e.prototype.BlockIsOnOneLine=function(e){var t=a.findChildOfKind(e,17,this.sourceFile),e=a.findChildOfKind(e,18,this.sourceFile);return!(!t||!e)&&this.sourceFile.getLineAndCharacterOfPosition(t.getEnd()).line===this.sourceFile.getLineAndCharacterOfPosition(e.getStart(this.sourceFile)).line},t.FormattingContext=e}(ts=ts||{}),function(e){(e=(e=e.formatting||(e.formatting={})).FormattingRequestKind||(e.FormattingRequestKind={}))[e.FormatDocument=0]="FormatDocument",e[e.FormatSelection=1]="FormatSelection",e[e.FormatOnEnter=2]="FormatOnEnter",e[e.FormatOnSemicolon=3]="FormatOnSemicolon",e[e.FormatOnOpeningCurlyBrace=4]="FormatOnOpeningCurlyBrace",e[e.FormatOnClosingCurlyBrace=5]="FormatOnClosingCurlyBrace"}(ts=ts||{}),function(e){(e.formatting||(e.formatting={})).Rule=function(e,t,n){void 0===n&&(n=0),this.Descriptor=e,this.Operation=t,this.Flag=n}}(ts=ts||{}),function(e){(e=(e=e.formatting||(e.formatting={})).RuleAction||(e.RuleAction={}))[e.Ignore=1]="Ignore",e[e.Space=2]="Space",e[e.NewLine=4]="NewLine",e[e.Delete=8]="Delete"}(ts=ts||{}),function(e){function n(e,t){this.LeftTokenRange=e,this.RightTokenRange=t}var r;r=e.formatting||(e.formatting={}),n.prototype.toString=function(){return"[leftRange="+this.LeftTokenRange+",rightRange="+this.RightTokenRange+"]"},n.create1=function(e,t){return n.create4(r.Shared.TokenRange.FromToken(e),r.Shared.TokenRange.FromToken(t))},n.create2=function(e,t){return n.create4(e,r.Shared.TokenRange.FromToken(t))},n.create3=function(e,t){return n.create4(r.Shared.TokenRange.FromToken(e),t)},n.create4=function(e,t){return new n(e,t)},r.RuleDescriptor=n}(ts=ts||{}),function(e){(e=(e=e.formatting||(e.formatting={})).RuleFlags||(e.RuleFlags={}))[e.None=0]="None",e[e.CanDeleteNewLines=1]="CanDeleteNewLines"}(ts=ts||{}),function(e){function n(e,t){this.Context=e,this.Action=t}var t;t=e.formatting||(e.formatting={}),n.prototype.toString=function(){return"[context="+this.Context+",action="+this.Action+"]"},n.create1=function(e){return n.create2(t.RuleOperationContext.Any,e)},n.create2=function(e,t){return new n(e,t)},t.RuleOperation=n}(ts=ts||{}),function(e){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.customContextChecks=e}e=e.formatting||(e.formatting={}),t.prototype.IsAny=function(){return this===t.Any},t.prototype.InContext=function(e){if(!this.IsAny())for(var t=0,n=this.customContextChecks;t<n.length;t++)if(!(0,n[t])(e))return!1;return!0},t.Any=new t,e.RuleOperationContext=t}(ts=ts||{}),function(n){function r(){if(this.IgnoreBeforeComment=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.Any,i.Shared.TokenRange.Comments),i.RuleOperation.create1(1)),this.IgnoreAfterLineComment=new i.Rule(i.RuleDescriptor.create3(2,i.Shared.TokenRange.Any),i.RuleOperation.create1(1)),this.NoSpaceBeforeSemicolon=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,25),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeColon=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,56),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsNotBinaryOpContext),8)),this.NoSpaceBeforeQuestionMark=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,55),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsNotBinaryOpContext),8)),this.SpaceAfterColon=new i.Rule(i.RuleDescriptor.create3(56,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsNotBinaryOpContext),2)),this.SpaceAfterQuestionMarkInConditionalOperator=new i.Rule(i.RuleDescriptor.create3(55,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsConditionalOperatorContext),2)),this.NoSpaceAfterQuestionMark=new i.Rule(i.RuleDescriptor.create3(55,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterSemicolon=new i.Rule(i.RuleDescriptor.create3(25,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),2)),this.SpaceAfterCloseBrace=new i.Rule(i.RuleDescriptor.create3(18,i.Shared.TokenRange.FromRange(0,142,[20])),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsAfterCodeBlockContext),2)),this.SpaceBetweenCloseBraceAndElse=new i.Rule(i.RuleDescriptor.create1(18,82),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),2)),this.SpaceBetweenCloseBraceAndWhile=new i.Rule(i.RuleDescriptor.create1(18,106),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),2)),this.NoSpaceAfterCloseBrace=new i.Rule(i.RuleDescriptor.create3(18,i.Shared.TokenRange.FromTokens([22,26,25])),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeDot=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,23),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterDot=new i.Rule(i.RuleDescriptor.create3(23,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeOpenBracket=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.AnyExcept(120),21),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterCloseBracket=new i.Rule(i.RuleDescriptor.create3(22,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsNotBeforeBlockInFunctionDeclarationContext),8)),this.FunctionOpenBraceLeftTokenRange=i.Shared.TokenRange.AnyIncludingMultilineComments,this.SpaceBeforeOpenBraceInFunction=new i.Rule(i.RuleDescriptor.create2(this.FunctionOpenBraceLeftTokenRange,17),i.RuleOperation.create2(new i.RuleOperationContext(r.isOptionDisabledOrUndefinedOrTokensOnSameLine("placeOpenBraceOnNewLineForFunctions"),r.IsFunctionDeclContext,r.IsBeforeBlockContext,r.IsNotFormatOnEnter,r.IsSameLineTokenOrBeforeBlockContext),2),1),this.TypeScriptOpenBraceLeftTokenRange=i.Shared.TokenRange.FromTokens([71,3,75,84,91]),this.SpaceBeforeOpenBraceInTypeScriptDeclWithBlock=new i.Rule(i.RuleDescriptor.create2(this.TypeScriptOpenBraceLeftTokenRange,17),i.RuleOperation.create2(new i.RuleOperationContext(r.isOptionDisabledOrUndefinedOrTokensOnSameLine("placeOpenBraceOnNewLineForFunctions"),r.IsTypeScriptDeclWithBlockContext,r.IsNotFormatOnEnter,r.IsSameLineTokenOrBeforeBlockContext),2),1),this.ControlOpenBraceLeftTokenRange=i.Shared.TokenRange.FromTokens([20,3,81,102,87,82]),this.SpaceBeforeOpenBraceInControl=new i.Rule(i.RuleDescriptor.create2(this.ControlOpenBraceLeftTokenRange,17),i.RuleOperation.create2(new i.RuleOperationContext(r.isOptionDisabledOrUndefinedOrTokensOnSameLine("placeOpenBraceOnNewLineForControlBlocks"),r.IsControlDeclContext,r.IsNotFormatOnEnter,r.IsSameLineTokenOrBeforeBlockContext),2),1),this.SpaceAfterOpenBrace=new i.Rule(i.RuleDescriptor.create3(17,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces"),r.IsBraceWrappedContext),2)),this.SpaceBeforeCloseBrace=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,18),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces"),r.IsBraceWrappedContext),2)),this.NoSpaceAfterOpenBrace=new i.Rule(i.RuleDescriptor.create3(17,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabled("insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces"),r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeCloseBrace=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,18),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabled("insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces"),r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBetweenEmptyBraceBrackets=new i.Rule(i.RuleDescriptor.create1(17,18),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsObjectContext),8)),this.NewLineAfterOpenBraceInBlockContext=new i.Rule(i.RuleDescriptor.create3(17,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsMultilineBlockContext),4)),this.NewLineBeforeCloseBraceInBlockContext=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.AnyIncludingMultilineComments,18),i.RuleOperation.create2(new i.RuleOperationContext(r.IsMultilineBlockContext),4)),this.NoSpaceAfterUnaryPrefixOperator=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.UnaryPrefixOperators,i.Shared.TokenRange.UnaryPrefixExpressions),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsNotBinaryOpContext),8)),this.NoSpaceAfterUnaryPreincrementOperator=new i.Rule(i.RuleDescriptor.create3(43,i.Shared.TokenRange.UnaryPreincrementExpressions),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterUnaryPredecrementOperator=new i.Rule(i.RuleDescriptor.create3(44,i.Shared.TokenRange.UnaryPredecrementExpressions),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeUnaryPostincrementOperator=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.UnaryPostincrementExpressions,43),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeUnaryPostdecrementOperator=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.UnaryPostdecrementExpressions,44),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterPostincrementWhenFollowedByAdd=new i.Rule(i.RuleDescriptor.create1(43,37),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsBinaryOpContext),2)),this.SpaceAfterAddWhenFollowedByUnaryPlus=new i.Rule(i.RuleDescriptor.create1(37,37),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsBinaryOpContext),2)),this.SpaceAfterAddWhenFollowedByPreincrement=new i.Rule(i.RuleDescriptor.create1(37,43),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsBinaryOpContext),2)),this.SpaceAfterPostdecrementWhenFollowedBySubtract=new i.Rule(i.RuleDescriptor.create1(44,38),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsBinaryOpContext),2)),this.SpaceAfterSubtractWhenFollowedByUnaryMinus=new i.Rule(i.RuleDescriptor.create1(38,38),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsBinaryOpContext),2)),this.SpaceAfterSubtractWhenFollowedByPredecrement=new i.Rule(i.RuleDescriptor.create1(38,44),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsBinaryOpContext),2)),this.NoSpaceBeforeComma=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,26),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterCertainKeywords=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.FromTokens([104,100,94,80,96,103,121]),i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),2)),this.NoSpaceAfterNewKeywordOnConstructorSignature=new i.Rule(i.RuleDescriptor.create1(94,19),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsConstructorSignatureContext),8)),this.SpaceAfterLetConstInVariableDeclaration=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.FromTokens([110,76]),i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsStartOfVariableDeclarationList),2)),this.NoSpaceBeforeOpenParenInFuncCall=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,19),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsFunctionCallOrNewContext,r.IsPreviousTokenNotComma),8)),this.SpaceAfterFunctionInFuncDecl=new i.Rule(i.RuleDescriptor.create3(89,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsFunctionDeclContext),2)),this.SpaceBeforeOpenParenInFuncDecl=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,19),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("insertSpaceBeforeFunctionParenthesis"),r.IsNonJsxSameLineTokenContext,r.IsFunctionDeclContext),2)),this.NoSpaceBeforeOpenParenInFuncDecl=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,19),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabledOrUndefined("insertSpaceBeforeFunctionParenthesis"),r.IsNonJsxSameLineTokenContext,r.IsFunctionDeclContext),8)),this.SpaceAfterVoidOperator=new i.Rule(i.RuleDescriptor.create3(105,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsVoidOpContext),2)),this.NoSpaceBetweenReturnAndSemicolon=new i.Rule(i.RuleDescriptor.create1(96,25),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),8)),this.SpaceBetweenStatements=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.FromTokens([20,81,82,73]),i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsNonJsxElementContext,r.IsNotForContext),2)),this.SpaceAfterTryFinally=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.FromTokens([102,87]),17),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),2)),this.SpaceAfterGetSetInMember=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.FromTokens([125,135]),71),i.RuleOperation.create2(new i.RuleOperationContext(r.IsFunctionDeclContext),2)),this.SpaceBeforeBinaryKeywordOperator=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.Any,i.Shared.TokenRange.BinaryKeywordOperators),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsBinaryOpContext),2)),this.SpaceAfterBinaryKeywordOperator=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.BinaryKeywordOperators,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsBinaryOpContext),2)),this.SpaceAfterConstructor=new i.Rule(i.RuleDescriptor.create1(123,19),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("insertSpaceAfterConstructor"),r.IsNonJsxSameLineTokenContext),2)),this.NoSpaceAfterConstructor=new i.Rule(i.RuleDescriptor.create1(123,19),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabledOrUndefined("insertSpaceAfterConstructor"),r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterModuleImport=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.FromTokens([128,132]),19),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterCertainTypeScriptKeywords=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.FromTokens([117,75,124,79,83,84,85,125,108,91,109,128,129,112,114,113,131,135,115,138,140,127]),i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),2)),this.SpaceBeforeCertainTypeScriptKeywords=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.Any,i.Shared.TokenRange.FromTokens([85,108,140])),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),2)),this.SpaceAfterModuleName=new i.Rule(i.RuleDescriptor.create1(9,17),i.RuleOperation.create2(new i.RuleOperationContext(r.IsModuleDeclContext),2)),this.SpaceBeforeArrow=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,36),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),2)),this.SpaceAfterArrow=new i.Rule(i.RuleDescriptor.create3(36,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),2)),this.NoSpaceAfterEllipsis=new i.Rule(i.RuleDescriptor.create1(24,71),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterOptionalParameters=new i.Rule(i.RuleDescriptor.create3(55,i.Shared.TokenRange.FromTokens([20,26])),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsNotBinaryOpContext),8)),this.NoSpaceBeforeOpenAngularBracket=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.TypeNames,27),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsTypeArgumentOrParameterOrAssertionContext),8)),this.NoSpaceBetweenCloseParenAndAngularBracket=new i.Rule(i.RuleDescriptor.create1(20,27),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsTypeArgumentOrParameterOrAssertionContext),8)),this.NoSpaceAfterOpenAngularBracket=new i.Rule(i.RuleDescriptor.create3(27,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsTypeArgumentOrParameterOrAssertionContext),8)),this.NoSpaceBeforeCloseAngularBracket=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,29),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsTypeArgumentOrParameterOrAssertionContext),8)),this.NoSpaceAfterCloseAngularBracket=new i.Rule(i.RuleDescriptor.create3(29,i.Shared.TokenRange.FromTokens([19,21,29,26])),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsTypeArgumentOrParameterOrAssertionContext),8)),this.NoSpaceBetweenEmptyInterfaceBraceBrackets=new i.Rule(i.RuleDescriptor.create1(17,18),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsObjectTypeContext),8)),this.SpaceBeforeAt=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,57),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),2)),this.NoSpaceAfterAt=new i.Rule(i.RuleDescriptor.create3(57,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterDecorator=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.Any,i.Shared.TokenRange.FromTokens([117,71,84,79,75,115,114,112,113,125,135,21,39])),i.RuleOperation.create2(new i.RuleOperationContext(r.IsEndOfDecoratorContextOnSameLine),2)),this.NoSpaceBetweenFunctionKeywordAndStar=new i.Rule(i.RuleDescriptor.create1(89,39),i.RuleOperation.create2(new i.RuleOperationContext(r.IsFunctionDeclarationOrFunctionExpressionContext),8)),this.SpaceAfterStarInGeneratorDeclaration=new i.Rule(i.RuleDescriptor.create3(39,i.Shared.TokenRange.FromTokens([71,19])),i.RuleOperation.create2(new i.RuleOperationContext(r.IsFunctionDeclarationOrFunctionExpressionContext),2)),this.NoSpaceBetweenYieldKeywordAndStar=new i.Rule(i.RuleDescriptor.create1(116,39),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsYieldOrYieldStarWithOperand),8)),this.SpaceBetweenYieldOrYieldStarAndOperand=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.FromTokens([116,39]),i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsYieldOrYieldStarWithOperand),2)),this.SpaceBetweenAsyncAndOpenParen=new i.Rule(i.RuleDescriptor.create1(120,19),i.RuleOperation.create2(new i.RuleOperationContext(r.IsArrowFunctionContext,r.IsNonJsxSameLineTokenContext),2)),this.SpaceBetweenAsyncAndFunctionKeyword=new i.Rule(i.RuleDescriptor.create1(120,89),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),2)),this.NoSpaceBetweenTagAndTemplateString=new i.Rule(i.RuleDescriptor.create3(71,i.Shared.TokenRange.FromTokens([13,14])),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),8)),this.SpaceBeforeJsxAttribute=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,71),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNextTokenParentJsxAttribute,r.IsNonJsxSameLineTokenContext),2)),this.SpaceBeforeSlashInJsxOpeningElement=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,41),i.RuleOperation.create2(new i.RuleOperationContext(r.IsJsxSelfClosingElementContext,r.IsNonJsxSameLineTokenContext),2)),this.NoSpaceBeforeGreaterThanTokenInJsxOpeningElement=new i.Rule(i.RuleDescriptor.create1(41,29),i.RuleOperation.create2(new i.RuleOperationContext(r.IsJsxSelfClosingElementContext,r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeEqualInJsxAttribute=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,58),i.RuleOperation.create2(new i.RuleOperationContext(r.IsJsxAttributeContext,r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterEqualInJsxAttribute=new i.Rule(i.RuleDescriptor.create3(58,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsJsxAttributeContext,r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeNonNullAssertionOperator=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,51),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext,r.IsNonNullAssertionContext),8)),this.SpaceAfterComma=new i.Rule(i.RuleDescriptor.create3(26,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("insertSpaceAfterCommaDelimiter"),r.IsNonJsxSameLineTokenContext,r.IsNonJsxElementContext,r.IsNextTokenNotCloseBracket),2)),this.NoSpaceAfterComma=new i.Rule(i.RuleDescriptor.create3(26,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabledOrUndefined("insertSpaceAfterCommaDelimiter"),r.IsNonJsxSameLineTokenContext,r.IsNonJsxElementContext),8)),this.SpaceBeforeBinaryOperator=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.Any,i.Shared.TokenRange.BinaryOperators),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("insertSpaceBeforeAndAfterBinaryOperators"),r.IsNonJsxSameLineTokenContext,r.IsBinaryOpContext),2)),this.SpaceAfterBinaryOperator=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.BinaryOperators,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("insertSpaceBeforeAndAfterBinaryOperators"),r.IsNonJsxSameLineTokenContext,r.IsBinaryOpContext),2)),this.NoSpaceBeforeBinaryOperator=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.Any,i.Shared.TokenRange.BinaryOperators),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabledOrUndefined("insertSpaceBeforeAndAfterBinaryOperators"),r.IsNonJsxSameLineTokenContext,r.IsBinaryOpContext),8)),this.NoSpaceAfterBinaryOperator=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.BinaryOperators,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabledOrUndefined("insertSpaceBeforeAndAfterBinaryOperators"),r.IsNonJsxSameLineTokenContext,r.IsBinaryOpContext),8)),this.SpaceAfterKeywordInControl=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Keywords,19),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("insertSpaceAfterKeywordsInControlFlowStatements"),r.IsControlDeclContext),2)),this.NoSpaceAfterKeywordInControl=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Keywords,19),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabledOrUndefined("insertSpaceAfterKeywordsInControlFlowStatements"),r.IsControlDeclContext),8)),this.NewLineBeforeOpenBraceInFunction=new i.Rule(i.RuleDescriptor.create2(this.FunctionOpenBraceLeftTokenRange,17),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("placeOpenBraceOnNewLineForFunctions"),r.IsFunctionDeclContext,r.IsBeforeMultilineBlockContext),4),1),this.NewLineBeforeOpenBraceInTypeScriptDeclWithBlock=new i.Rule(i.RuleDescriptor.create2(this.TypeScriptOpenBraceLeftTokenRange,17),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("placeOpenBraceOnNewLineForFunctions"),r.IsTypeScriptDeclWithBlockContext,r.IsBeforeMultilineBlockContext),4),1),this.NewLineBeforeOpenBraceInControl=new i.Rule(i.RuleDescriptor.create2(this.ControlOpenBraceLeftTokenRange,17),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("placeOpenBraceOnNewLineForControlBlocks"),r.IsControlDeclContext,r.IsBeforeMultilineBlockContext),4),1),this.SpaceAfterSemicolonInFor=new i.Rule(i.RuleDescriptor.create3(25,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("insertSpaceAfterSemicolonInForStatements"),r.IsNonJsxSameLineTokenContext,r.IsForContext),2)),this.NoSpaceAfterSemicolonInFor=new i.Rule(i.RuleDescriptor.create3(25,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabledOrUndefined("insertSpaceAfterSemicolonInForStatements"),r.IsNonJsxSameLineTokenContext,r.IsForContext),8)),this.SpaceAfterOpenParen=new i.Rule(i.RuleDescriptor.create3(19,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis"),r.IsNonJsxSameLineTokenContext),2)),this.SpaceBeforeCloseParen=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,20),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis"),r.IsNonJsxSameLineTokenContext),2)),this.SpaceBetweenOpenParens=new i.Rule(i.RuleDescriptor.create1(19,19),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis"),r.IsNonJsxSameLineTokenContext),2)),this.NoSpaceBetweenParens=new i.Rule(i.RuleDescriptor.create1(19,20),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterOpenParen=new i.Rule(i.RuleDescriptor.create3(19,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis"),r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeCloseParen=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,20),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis"),r.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterOpenBracket=new i.Rule(i.RuleDescriptor.create3(21,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets"),r.IsNonJsxSameLineTokenContext),2)),this.SpaceBeforeCloseBracket=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,22),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets"),r.IsNonJsxSameLineTokenContext),2)),this.NoSpaceBetweenBrackets=new i.Rule(i.RuleDescriptor.create1(21,22),i.RuleOperation.create2(new i.RuleOperationContext(r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterOpenBracket=new i.Rule(i.RuleDescriptor.create3(21,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets"),r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceBeforeCloseBracket=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,22),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets"),r.IsNonJsxSameLineTokenContext),8)),this.NoSpaceAfterTemplateHeadAndMiddle=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.FromTokens([14,15]),i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces"),r.IsNonJsxSameLineTokenContext),8)),this.SpaceAfterTemplateHeadAndMiddle=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.FromTokens([14,15]),i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces"),r.IsNonJsxSameLineTokenContext),2)),this.NoSpaceBeforeTemplateMiddleAndTail=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.Any,i.Shared.TokenRange.FromTokens([15,16])),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces"),r.IsNonJsxSameLineTokenContext),8)),this.SpaceBeforeTemplateMiddleAndTail=new i.Rule(i.RuleDescriptor.create4(i.Shared.TokenRange.Any,i.Shared.TokenRange.FromTokens([15,16])),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces"),r.IsNonJsxSameLineTokenContext),2)),this.NoSpaceAfterOpenBraceInJsxExpression=new i.Rule(i.RuleDescriptor.create3(17,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces"),r.IsNonJsxSameLineTokenContext,r.IsJsxExpressionContext),8)),this.SpaceAfterOpenBraceInJsxExpression=new i.Rule(i.RuleDescriptor.create3(17,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces"),r.IsNonJsxSameLineTokenContext,r.IsJsxExpressionContext),2)),this.NoSpaceBeforeCloseBraceInJsxExpression=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,18),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabledOrUndefined("insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces"),r.IsNonJsxSameLineTokenContext,r.IsJsxExpressionContext),8)),this.SpaceBeforeCloseBraceInJsxExpression=new i.Rule(i.RuleDescriptor.create2(i.Shared.TokenRange.Any,18),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces"),r.IsNonJsxSameLineTokenContext,r.IsJsxExpressionContext),2)),this.SpaceAfterAnonymousFunctionKeyword=new i.Rule(i.RuleDescriptor.create1(89,19),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("insertSpaceAfterFunctionKeywordForAnonymousFunctions"),r.IsFunctionDeclContext),2)),this.NoSpaceAfterAnonymousFunctionKeyword=new i.Rule(i.RuleDescriptor.create1(89,19),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabledOrUndefined("insertSpaceAfterFunctionKeywordForAnonymousFunctions"),r.IsFunctionDeclContext),8)),this.NoSpaceAfterTypeAssertion=new i.Rule(i.RuleDescriptor.create3(29,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionDisabledOrUndefined("insertSpaceAfterTypeAssertion"),r.IsNonJsxSameLineTokenContext,r.IsTypeAssertionContext),8)),this.SpaceAfterTypeAssertion=new i.Rule(i.RuleDescriptor.create3(29,i.Shared.TokenRange.Any),i.RuleOperation.create2(new i.RuleOperationContext(r.IsOptionEnabled("insertSpaceAfterTypeAssertion"),r.IsNonJsxSameLineTokenContext,r.IsTypeAssertionContext),2)),this.HighPriorityCommonRules=[this.IgnoreBeforeComment,this.IgnoreAfterLineComment,this.NoSpaceBeforeColon,this.SpaceAfterColon,this.NoSpaceBeforeQuestionMark,this.SpaceAfterQuestionMarkInConditionalOperator,this.NoSpaceAfterQuestionMark,this.NoSpaceBeforeDot,this.NoSpaceAfterDot,this.NoSpaceAfterUnaryPrefixOperator,this.NoSpaceAfterUnaryPreincrementOperator,this.NoSpaceAfterUnaryPredecrementOperator,this.NoSpaceBeforeUnaryPostincrementOperator,this.NoSpaceBeforeUnaryPostdecrementOperator,this.SpaceAfterPostincrementWhenFollowedByAdd,this.SpaceAfterAddWhenFollowedByUnaryPlus,this.SpaceAfterAddWhenFollowedByPreincrement,this.SpaceAfterPostdecrementWhenFollowedBySubtract,this.SpaceAfterSubtractWhenFollowedByUnaryMinus,this.SpaceAfterSubtractWhenFollowedByPredecrement,this.NoSpaceAfterCloseBrace,this.NewLineBeforeCloseBraceInBlockContext,this.SpaceAfterCloseBrace,this.SpaceBetweenCloseBraceAndElse,this.SpaceBetweenCloseBraceAndWhile,this.NoSpaceBetweenEmptyBraceBrackets,this.NoSpaceBetweenFunctionKeywordAndStar,this.SpaceAfterStarInGeneratorDeclaration,this.SpaceAfterFunctionInFuncDecl,this.NewLineAfterOpenBraceInBlockContext,this.SpaceAfterGetSetInMember,this.NoSpaceBetweenYieldKeywordAndStar,this.SpaceBetweenYieldOrYieldStarAndOperand,this.NoSpaceBetweenReturnAndSemicolon,this.SpaceAfterCertainKeywords,this.SpaceAfterLetConstInVariableDeclaration,this.NoSpaceBeforeOpenParenInFuncCall,this.SpaceBeforeBinaryKeywordOperator,this.SpaceAfterBinaryKeywordOperator,this.SpaceAfterVoidOperator,this.SpaceBetweenAsyncAndOpenParen,this.SpaceBetweenAsyncAndFunctionKeyword,this.NoSpaceBetweenTagAndTemplateString,this.SpaceBeforeJsxAttribute,this.SpaceBeforeSlashInJsxOpeningElement,this.NoSpaceBeforeGreaterThanTokenInJsxOpeningElement,this.NoSpaceBeforeEqualInJsxAttribute,this.NoSpaceAfterEqualInJsxAttribute,this.NoSpaceAfterModuleImport,this.SpaceAfterCertainTypeScriptKeywords,this.SpaceBeforeCertainTypeScriptKeywords,this.SpaceAfterModuleName,this.SpaceBeforeArrow,this.SpaceAfterArrow,this.NoSpaceAfterEllipsis,this.NoSpaceAfterOptionalParameters,this.NoSpaceBetweenEmptyInterfaceBraceBrackets,this.NoSpaceBeforeOpenAngularBracket,this.NoSpaceBetweenCloseParenAndAngularBracket,this.NoSpaceAfterOpenAngularBracket,this.NoSpaceBeforeCloseAngularBracket,this.NoSpaceAfterCloseAngularBracket,this.SpaceBeforeAt,this.NoSpaceAfterAt,this.SpaceAfterDecorator,this.NoSpaceBeforeNonNullAssertionOperator,this.NoSpaceAfterNewKeywordOnConstructorSignature],this.UserConfigurableRules=[this.SpaceAfterConstructor,this.NoSpaceAfterConstructor,this.SpaceAfterComma,this.NoSpaceAfterComma,this.SpaceAfterAnonymousFunctionKeyword,this.NoSpaceAfterAnonymousFunctionKeyword,this.SpaceAfterKeywordInControl,this.NoSpaceAfterKeywordInControl,this.SpaceAfterOpenParen,this.SpaceBeforeCloseParen,this.SpaceBetweenOpenParens,this.NoSpaceBetweenParens,this.NoSpaceAfterOpenParen,this.NoSpaceBeforeCloseParen,this.SpaceAfterOpenBracket,this.SpaceBeforeCloseBracket,this.NoSpaceBetweenBrackets,this.NoSpaceAfterOpenBracket,this.NoSpaceBeforeCloseBracket,this.SpaceAfterOpenBrace,this.SpaceBeforeCloseBrace,this.NoSpaceBetweenEmptyBraceBrackets,this.NoSpaceAfterOpenBrace,this.NoSpaceBeforeCloseBrace,this.SpaceAfterTemplateHeadAndMiddle,this.SpaceBeforeTemplateMiddleAndTail,this.NoSpaceAfterTemplateHeadAndMiddle,this.NoSpaceBeforeTemplateMiddleAndTail,this.SpaceAfterOpenBraceInJsxExpression,this.SpaceBeforeCloseBraceInJsxExpression,this.NoSpaceAfterOpenBraceInJsxExpression,this.NoSpaceBeforeCloseBraceInJsxExpression,this.SpaceAfterSemicolonInFor,this.NoSpaceAfterSemicolonInFor,this.SpaceBeforeBinaryOperator,this.SpaceAfterBinaryOperator,this.NoSpaceBeforeBinaryOperator,this.NoSpaceAfterBinaryOperator,this.SpaceBeforeOpenParenInFuncDecl,this.NoSpaceBeforeOpenParenInFuncDecl,this.NewLineBeforeOpenBraceInControl,this.NewLineBeforeOpenBraceInFunction,this.NewLineBeforeOpenBraceInTypeScriptDeclWithBlock,this.SpaceAfterTypeAssertion,this.NoSpaceAfterTypeAssertion],this.LowPriorityCommonRules=[this.NoSpaceBeforeSemicolon,this.SpaceBeforeOpenBraceInControl,this.SpaceBeforeOpenBraceInFunction,this.SpaceBeforeOpenBraceInTypeScriptDeclWithBlock,this.NoSpaceBeforeComma,this.NoSpaceBeforeOpenBracket,this.NoSpaceAfterCloseBracket,this.SpaceAfterSemicolon,this.SpaceBetweenStatements,this.SpaceAfterTryFinally],n.Debug.isDebugging)for(var e in this){var t=this[e];t instanceof i.Rule&&(t.debugName=e)}}var i,e;i=n.formatting||(n.formatting={}),r.IsOptionEnabled=function(t){return function(e){return e.options&&e.options.hasOwnProperty(t)&&!!e.options[t]}},r.IsOptionDisabled=function(t){return function(e){return e.options&&e.options.hasOwnProperty(t)&&!e.options[t]}},r.IsOptionDisabledOrUndefined=function(t){return function(e){return!e.options||!e.options.hasOwnProperty(t)||!e.options[t]}},r.isOptionDisabledOrUndefinedOrTokensOnSameLine=function(t){return function(e){return!e.options||!e.options.hasOwnProperty(t)||!e.options[t]||e.TokensAreOnSameLine()}},r.IsOptionEnabledOrUndefined=function(t){return function(e){return!e.options||!e.options.hasOwnProperty(t)||!!e.options[t]}},r.IsForContext=function(e){return 214===e.contextNode.kind},r.IsNotForContext=function(e){return!r.IsForContext(e)},r.IsBinaryOpContext=function(e){switch(e.contextNode.kind){case 194:case 195:case 202:case 246:case 242:case 158:case 166:case 167:return!0;case 176:case 231:case 237:case 226:case 146:case 264:case 149:case 148:return 58===e.currentTokenSpan.kind||58===e.nextTokenSpan.kind;case 215:case 145:return 92===e.currentTokenSpan.kind||92===e.nextTokenSpan.kind;case 216:return 142===e.currentTokenSpan.kind||142===e.nextTokenSpan.kind}return!1},r.IsNotBinaryOpContext=function(e){return!r.IsBinaryOpContext(e)},r.IsConditionalOperatorContext=function(e){return 195===e.contextNode.kind},r.IsSameLineTokenOrBeforeBlockContext=function(e){return e.TokensAreOnSameLine()||r.IsBeforeBlockContext(e)},r.IsBraceWrappedContext=function(e){return 174===e.contextNode.kind||r.IsSingleLineBlockContext(e)},r.IsBeforeMultilineBlockContext=function(e){return r.IsBeforeBlockContext(e)&&!(e.NextNodeAllOnSameLine()||e.NextNodeBlockIsOnOneLine())},r.IsMultilineBlockContext=function(e){return r.IsBlockContext(e)&&!(e.ContextNodeAllOnSameLine()||e.ContextNodeBlockIsOnOneLine())},r.IsSingleLineBlockContext=function(e){return r.IsBlockContext(e)&&(e.ContextNodeAllOnSameLine()||e.ContextNodeBlockIsOnOneLine())},r.IsBlockContext=function(e){return r.NodeIsBlockContext(e.contextNode)},r.IsBeforeBlockContext=function(e){return r.NodeIsBlockContext(e.nextTokenParent)},r.NodeIsBlockContext=function(e){if(r.NodeIsTypeScriptDeclWithBlockContext(e))return!0;switch(e.kind){case 207:case 235:case 178:case 234:return!0}return!1},r.IsFunctionDeclContext=function(e){switch(e.contextNode.kind){case 228:case 151:case 150:case 153:case 154:case 155:case 186:case 152:case 187:case 230:return!0}return!1},r.IsFunctionDeclarationOrFunctionExpressionContext=function(e){return 228===e.contextNode.kind||186===e.contextNode.kind},r.IsTypeScriptDeclWithBlockContext=function(e){return r.NodeIsTypeScriptDeclWithBlockContext(e.contextNode)},r.NodeIsTypeScriptDeclWithBlockContext=function(e){switch(e.kind){case 229:case 199:case 230:case 232:case 163:case 233:case 244:case 245:case 238:case 241:return!0}return!1},r.IsAfterCodeBlockContext=function(e){switch(e.currentTokenParent.kind){case 229:case 233:case 232:case 260:case 234:case 221:return!0;case 207:var t=e.currentTokenParent.parent;if(!t||187!==t.kind&&186!==t.kind)return!0}return!1},r.IsControlDeclContext=function(e){switch(e.contextNode.kind){case 211:case 221:case 214:case 215:case 216:case 213:case 224:case 212:case 220:case 260:return!0;default:return!1}},r.IsObjectContext=function(e){return 178===e.contextNode.kind},r.IsFunctionCallContext=function(e){return 181===e.contextNode.kind},r.IsNewContext=function(e){return 182===e.contextNode.kind},r.IsFunctionCallOrNewContext=function(e){return r.IsFunctionCallContext(e)||r.IsNewContext(e)},r.IsPreviousTokenNotComma=function(e){return 26!==e.currentTokenSpan.kind},r.IsNextTokenNotCloseBracket=function(e){return 22!==e.nextTokenSpan.kind},r.IsArrowFunctionContext=function(e){return 187===e.contextNode.kind},r.IsNonJsxSameLineTokenContext=function(e){return e.TokensAreOnSameLine()&&10!==e.contextNode.kind},r.IsNonJsxElementContext=function(e){return 249!==e.contextNode.kind},r.IsJsxExpressionContext=function(e){return 256===e.contextNode.kind},r.IsNextTokenParentJsxAttribute=function(e){return 253===e.nextTokenParent.kind},r.IsJsxAttributeContext=function(e){return 253===e.contextNode.kind},r.IsJsxSelfClosingElementContext=function(e){return 250===e.contextNode.kind},r.IsNotBeforeBlockInFunctionDeclarationContext=function(e){return!r.IsFunctionDeclContext(e)&&!r.IsBeforeBlockContext(e)},r.IsEndOfDecoratorContextOnSameLine=function(e){return e.TokensAreOnSameLine()&&e.contextNode.decorators&&r.NodeIsInDecoratorContext(e.currentTokenParent)&&!r.NodeIsInDecoratorContext(e.nextTokenParent)},r.NodeIsInDecoratorContext=function(e){for(;n.isPartOfExpression(e);)e=e.parent;return 147===e.kind},r.IsStartOfVariableDeclarationList=function(e){return 227===e.currentTokenParent.kind&&e.currentTokenParent.getStart(e.sourceFile)===e.currentTokenSpan.pos},r.IsNotFormatOnEnter=function(e){return 2!==e.formattingRequestKind},r.IsModuleDeclContext=function(e){return 233===e.contextNode.kind},r.IsObjectTypeContext=function(e){return 163===e.contextNode.kind},r.IsConstructorSignatureContext=function(e){return 156===e.contextNode.kind},r.IsTypeArgumentOrParameterOrAssertion=function(e,t){if(27!==e.kind&&29!==e.kind)return!1;switch(t.kind){case 159:case 184:case 231:case 229:case 199:case 230:case 228:case 186:case 187:case 151:case 150:case 155:case 156:case 181:case 182:case 201:return!0;default:return!1}},r.IsTypeArgumentOrParameterOrAssertionContext=function(e){return r.IsTypeArgumentOrParameterOrAssertion(e.currentTokenSpan,e.currentTokenParent)||r.IsTypeArgumentOrParameterOrAssertion(e.nextTokenSpan,e.nextTokenParent)},r.IsTypeAssertionContext=function(e){return 184===e.contextNode.kind},r.IsVoidOpContext=function(e){return 105===e.currentTokenSpan.kind&&190===e.currentTokenParent.kind},r.IsYieldOrYieldStarWithOperand=function(e){return 197===e.contextNode.kind&&void 0!==e.contextNode.expression},r.IsNonNullAssertionContext=function(e){return 203===e.contextNode.kind},e=r,i.Rules=e}(ts=ts||{}),function(r){var a,e,t=r.formatting||(r.formatting={});function n(e){this.mapRowLength=143,this.map=new Array(this.mapRowLength*this.mapRowLength);for(var t=new Array(this.map.length),n=0,r=e;n<r.length;n++){var i=r[n];this.FillRule(i,t)}}n.prototype.GetRuleBucketIndex=function(e,t){return r.Debug.assert(e<=142&&t<=142,"Must compute formatting context from tokens"),e*this.mapRowLength+t},n.prototype.FillRule=function(r,i){var a=this,s=r.Descriptor.LeftTokenRange.isSpecific()&&r.Descriptor.RightTokenRange.isSpecific();r.Descriptor.LeftTokenRange.GetTokens().forEach(function(n){r.Descriptor.RightTokenRange.GetTokens().forEach(function(e){var e=a.GetRuleBucketIndex(n,e),t=a.map[e];(t=void 0===t?a.map[e]=new o:t).AddRule(r,s,i,e)})})},n.prototype.GetRule=function(e){var t=this.GetRuleBucketIndex(e.currentTokenSpan.kind,e.nextTokenSpan.kind),t=this.map[t];if(t)for(var n=0,r=t.Rules();n<r.length;n++){var i=r[n];if(i.Operation.Context.InContext(e))return i}},t.RulesMap=n,(e=a=a||{})[e.IgnoreRulesSpecific=0]="IgnoreRulesSpecific",e[e.IgnoreRulesAny=5]="IgnoreRulesAny",e[e.ContextRulesSpecific=10]="ContextRulesSpecific",e[e.ContextRulesAny=15]="ContextRulesAny",e[e.NoContextRulesSpecific=20]="NoContextRulesSpecific",e[e.NoContextRulesAny=25]="NoContextRulesAny",i.prototype.GetInsertionIndex=function(e){for(var t=0,n=0,r=this.rulesInsertionIndexBitmap;n<=e;)t+=31&r,r>>=5,n+=5;return t},i.prototype.IncreaseInsertionIndex=function(e){var t=this.rulesInsertionIndexBitmap>>e&31,n=(r.Debug.assert((31&++t)==t,"Adding more rules into the sub-bucket than allowed. Maximum allowed is 32 rules."),this.rulesInsertionIndexBitmap&~(31<<e));this.rulesInsertionIndexBitmap=n|=t<<e};var s=i;function i(){this.rulesInsertionIndexBitmap=0}t.RulesBucketConstructionState=s,c.prototype.Rules=function(){return this.rules},c.prototype.AddRule=function(e,t,n,r){var t=1===e.Operation.Action?t?a.IgnoreRulesSpecific:a.IgnoreRulesAny:e.Operation.Context.IsAny()?t?a.NoContextRulesSpecific:a.NoContextRulesAny:t?a.ContextRulesSpecific:a.ContextRulesAny,i=n[r],n=(i=void 0===i?n[r]=new s:i).GetInsertionIndex(t);this.rules.splice(n,0,e),i.IncreaseInsertionIndex(t)};var o=c;function c(){this.rules=[]}t.RulesBucket=o}(ts=ts||{}),function(a){for(var e=(e=a.formatting||(a.formatting={})).Shared||(e.Shared={}),n=[],t=0;t<=142;t++)n.push(t);d.prototype.GetTokens=function(){return this.tokens},d.prototype.Contains=function(e){return 0<=this.tokens.indexOf(e)},d.prototype.isSpecific=function(){return!0};var s=d,r=(u.prototype.GetTokens=function(){return[this.token]},u.prototype.Contains=function(e){return e===this.token},u.prototype.isSpecific=function(){return!0},u),i=(l.prototype.GetTokens=function(){return n},l.prototype.Contains=function(){return!0},l.prototype.toString=function(){return"[allTokens]"},l.prototype.isSpecific=function(){return!1},l),o=(c.prototype.GetTokens=function(){var t=this;return n.filter(function(e){return e!==t.except})},c.prototype.Contains=function(e){return e!==this.except},c.prototype.isSpecific=function(){return!1},c);function c(e){this.except=e}function l(){}function u(e){this.token=e}function d(e){this.tokens=e=void 0===e?[]:e}(e=e.TokenRange||(e.TokenRange={})).FromToken=function(e){return new r(e)},e.FromTokens=function(e){return new s(e)},e.FromRange=function(e,t,n){void 0===n&&(n=[]);for(var r=[],i=e;i<=t;i++)a.indexOf(n,i)<0&&r.push(i);return new s(r)},e.AnyExcept=function(e){return new o(e)},e.Any=new i,e.AnyIncludingMultilineComments=e.FromTokens(n.concat([3])),e.Keywords=e.FromRange(72,142),e.BinaryOperators=e.FromRange(27,70),e.BinaryKeywordOperators=e.FromTokens([92,93,142,118,126]),e.UnaryPrefixOperators=e.FromTokens([43,44,52,51]),e.UnaryPrefixExpressions=e.FromTokens([8,71,19,21,17,99,94]),e.UnaryPreincrementExpressions=e.FromTokens([71,19,99,94]),e.UnaryPostincrementExpressions=e.FromTokens([71,20,22,94]),e.UnaryPredecrementExpressions=e.FromTokens([71,19,99,94]),e.UnaryPostdecrementExpressions=e.FromTokens([71,20,22,94]),e.Comments=e.FromTokens([2,3]),e.TypeNames=e.FromTokens([71,133,136,122,137,105,119])}(ts=ts||{}),function(t){function e(){this.globalRules=new n.Rules;var e=this.globalRules.HighPriorityCommonRules.concat(this.globalRules.UserConfigurableRules).concat(this.globalRules.LowPriorityCommonRules);this.rulesMap=new n.RulesMap(e)}var n;n=t.formatting||(t.formatting={}),e.prototype.getRulesMap=function(){return this.rulesMap},e.prototype.getFormatOptions=function(){return this.options},e.prototype.ensureUpToDate=function(e){this.options&&t.compareDataObjects(this.options,e)||(this.options=t.clone(e))},n.RulesProvider=e}(ts=ts||{}),function(H){function a(e,t,n){n=H.findPrecedingToken(e,n);return n&&n.kind===t&&e===n.getEnd()?n:void 0}function s(e){for(var t=e;t&&t.parent&&t.parent.end===e.end&&!function(e,t){switch(e.kind){case 229:case 230:return H.rangeContainsRange(e.members,t);case 233:var n=e.body;return n&&234===n.kind&&H.rangeContainsRange(n.statements,t);case 265:case 207:case 234:return H.rangeContainsRange(e.statements,t);case 260:return H.rangeContainsRange(e.block.statements,t)}return}(t.parent,t);)t=t.parent;return t}function i(e,t,n,r,i){return e?o({pos:H.getLineStartPositionForPosition(e.getStart(t),t),end:e.end},t,n,r,i):[]}function o(a,s,o,c,l){r=a;var r,i,e,t,n,u,d=function e(t){var n=H.forEachChild(t,function(e){return H.startEndContainsRange(e.getStart(i),e.end,r)&&e});if(n){n=e(n);if(n)return n}return t}(i=s);return W.getFormattingScanner(s.text,s.languageVariant,(t=a,n=s,(u=(e=d).getStart(n))===t.pos&&e.end===t.end?u:!(u=H.findPrecedingToken(t.pos,n))||u.end>=t.pos?e.pos:u.end),a.end,function(e){return p(a,d,W.SmartIndenter.getIndentationForNode(d,a,s,o),function(e,t,n){for(var r,i=-1;e;){var a=n.getLineAndCharacterOfPosition(e.getStart(n)).line;if(-1!==i&&a!==i)break;if(W.SmartIndenter.shouldIndentChildNode(e,r))return t.indentSize;i=a,e=(r=e).parent}return 0}(d,o,s),e,o,c,l,(e=s.parseDiagnostics,n=a,e.length&&(r=e.filter(function(e){return H.rangeOverlapsWithStartEnd(n,e.start,e.start+e.length)}).sort(function(e,t){return e.start-t.start})).length?(i=0,function(e){for(;;){if(i>=r.length)return!1;var t=r[i];if(e.end<=t.start)return!1;if(H.startEndOverlapsWithStartEnd(e.pos,e.end,t.start,t.start+t.length))return!0;i++}}):t),s);function t(){return!1}var n,r,i})}function p(F,e,t,n,L,R,p,r,M,U){var B,f,_,j,K,m=new W.FormattingContext(U,r,R),i=[];return L.advance(),L.isOnToken()&&(r=U.getLineAndCharacterOfPosition(e.getStart(U)).line,function f(_,e,p,t,n,r){if(H.rangeOverlapsWithStartEnd(F,_.getStart(U),_.getEnd())){var m=v(_,p,n,r),O=e;for(H.forEachChild(_,function(e){g(e,-1,_,m,p,t,!1)},function(e){var t,n=e,r=_,i=p,a=m,s=(H.Debug.assert(H.isNodeArray(n)),function(e,t){switch(e.kind){case 152:case 228:case 186:case 151:case 150:case 187:if(e.typeParameters===t)return 27;if(e.parameters===t)return 19;break;case 181:case 182:if(e.typeArguments===t)return 27;if(e.arguments===t)return 19;break;case 159:if(e.typeArguments===t)return 27}return 0}(r,n)),e=function(){switch(s){case 19:return 20;case 27:return 29}return 0}(),o=a,c=i;if(0!==s)for(;L.isOnToken()&&!((l=L.readTokenInfo(r)).token.end>n.pos);)l.token.kind===s?(c=U.getLineAndCharacterOfPosition(l.token.pos).line,t=y(l.token,c,-1,r,a,i),h(l,r,o=v(r,i,t.indentation,t.delta),r)):h(l,r,a,r);for(var l,u=-1,d=0;d<n.length;d++)u=g(n[d],u,_,o,c,c,!0,0===d);0!==e&&L.isOnToken()&&(l=L.readTokenInfo(r)).token.kind===e&&H.rangeContainsRange(r,l.token)&&h(l,r,o,r)});L.isOnToken();){var i=L.readTokenInfo(_);if(i.token.end>_.end)break;h(i,_,m,_)}}function g(e,t,n,r,i,a,s,o){var c,l=e.getStart(U),u=U.getLineAndCharacterOfPosition(l).line,d=u,p=(e.decorators&&(d=U.getLineAndCharacterOfPosition(H.getNonDecoratorTokenPosOfNode(e,U)).line),-1);if(s&&H.rangeContainsRange(F,n)&&-1!==(p=function(e,t,n,r,i){if(H.rangeOverlapsWithStartEnd(r,e,t)||H.rangeContainsStartEnd(r,e,t)){if(-1!==i)return i}else{var r=U.getLineAndCharacterOfPosition(e).line,t=H.getLineStartPositionForPosition(e,U),i=W.SmartIndenter.findFirstNonWhitespaceColumn(t,e,U,R);if(r!==n||e===i)return i<(t=W.SmartIndenter.getBaseIndentation(R))?t:i}return-1}(l,e.end,i,F,t))&&(t=p),H.rangeOverlapsWithStartEnd(F,e.pos,e.end)){if(0!==e.getFullWidth()){for(;L.isOnToken()&&!((c=L.readTokenInfo(_)).token.end>l);)h(c,_,r,_);L.isOnToken()&&(H.isToken(e)&&10!==e.kind?(c=L.readTokenInfo(e),H.Debug.assert(c.token.end===e.end,"Token end is child end"),h(c,_,r,e)):(s=147===e.kind?u:a,i=y(e,u,p,_,r,s),f(e,O,u,d,i.indentation,i.delta),O=_,o&&177===n.kind&&-1===t&&(t=i.indentation)))}}else e.end<F.pos&&L.skipToEndOf(e);return t}function h(e,t,n,r){H.Debug.assert(H.rangeContainsRange(t,e.token));var i,a,s=L.lastTrailingTriviaWasNewLine(),o=!1,c=(e.leadingTrivia&&z(e.leadingTrivia,t,O,n),H.rangeContainsRange(F,e.token)),l=U.getLineAndCharacterOfPosition(e.token.pos);if(c&&(i=M(e.token),u=B,a=$(e.token,l,t,O,n),o=!i&&(void 0!==a?a:(i=u&&U.getLineAndCharacterOfPosition(u.end).line,s&&l.line!==i))),e.trailingTrivia&&z(e.trailingTrivia,t,O,n),o){var u=c&&!M(e.token)?n.getIndentationForToken(l.line,e.token.kind,r):-1,d=!0;if(e.leadingTrivia)for(var p=n.getIndentationForComment(e.token.kind,u,r),f=0,_=e.leadingTrivia;f<_.length;f++){var m=_[f],g=H.rangeContainsRange(F,m);switch(m.kind){case 3:if(g){h=void 0;y=void 0;v=void 0;b=void 0;x=void 0;k=void 0;S=void 0;T=void 0;C=void 0;E=void 0;D=void 0;A=void 0;N=void 0;w=void 0;I=void 0;P=void 0;var h=m;var y=p;var v=!d;var b,x=U.getLineAndCharacterOfPosition(h.pos).line,k=U.getLineAndCharacterOfPosition(h.end).line;if(x!==k){b=[];for(var S=h.pos,T=x;T<k;T++){var C=H.getEndLinePosition(T,U);b.push({pos:S,end:C}),S=H.getStartPositionOfLine(T+1,U)}b.push({pos:S,end:h.end});var E=H.getStartPositionOfLine(x,U),D=W.SmartIndenter.findFirstNonWhitespaceCharacterAndColumn(E,b[0].pos,U,R);if(y!==D.column){E=0;v&&(E=1,x++);for(var A=y-D.column,N=E;N<b.length;N++,x++){var w=H.getStartPositionOfLine(x,U),I=0===N?D:W.SmartIndenter.findFirstNonWhitespaceCharacterAndColumn(b[N].pos,b[N].end,U,R),P=I.column+A;0<P?(P=G(P,R),V(w,I.character,P)):q(w,I.character)}}}else v||J(h.pos,y,!1)}d=!1;break;case 2:d&&g&&J(m.pos,p,!1),d=!1;break;case 4:d=!0}}-1!==u&&d&&(J(e.token.pos,u,a),j=l.line,K=u)}L.advance(),O=t}}(e,e,r=r,r=e.decorators?U.getLineAndCharacterOfPosition(H.getNonDecoratorTokenPosOfNode(e,U)).line:r,t,n)),L.isOnToken()||(r=L.getCurrentLeadingTrivia())&&(z(r,e,e,void 0),t=B?B.end:F.pos,g(U.getLineAndCharacterOfPosition(t).line,U.getLineAndCharacterOfPosition(F.end).line+1,B)),i;function y(e,t,n,r,i,a){var s=W.SmartIndenter.shouldIndentChildNode(e)?R.indentSize:0;return a===t?(n=t===j?K:i.getIndentation(),s=Math.min(R.indentSize,i.getDelta(e)+s)):-1===n&&(n=W.SmartIndenter.childStartsOnTheSameLineWithElseInIfStatement(r,e,t,U)?i.getIndentation():i.getIndentation()+i.getDelta(e)),{indentation:n,delta:s}}function v(r,i,a,s){return{getIndentationForComment:function(e,t,n){switch(e){case 18:case 22:case 20:return a+o(s,n)}return-1!==t?t:a},getIndentationForToken:function(e,t,n){if(i!==e&&r.decorators&&t===function(e){if(e.modifiers&&e.modifiers.length)return e.modifiers[0].kind;switch(e.kind){case 229:return 75;case 230:return 109;case 228:return 89;case 232:return 232;case 153:return 125;case 154:return 135;case 151:if(e.asteriskToken)return 39;case 149:case 146:return H.getNameOfDeclaration(e).kind}}(r))return a;switch(t){case 17:case 18:case 19:case 20:case 82:case 106:case 57:return a;case 41:case 29:if(251===n.kind||252===n.kind||250===n.kind)return a;break;case 21:case 22:if(172!==n.kind)return a}return i!==e?a+o(s,n):a},getIndentation:function(){return a},getDelta:function(e){return o(s,e)},recomputeIndentation:function(e){r.parent&&W.SmartIndenter.shouldIndentChildNode(r.parent,r)&&(e?a+=R.indentSize:a-=R.indentSize,s=W.SmartIndenter.shouldIndentChildNode(r)?R.indentSize:0)}};function o(e,t){return W.SmartIndenter.nodeWillIndentChild(r,t,!0)?e:0}}function z(e,t,n,r){for(var i=0,a=e;i<a.length;i++){var s=a[i];H.isComment(s.kind)&&H.rangeContainsRange(F,s)&&$(s,U.getLineAndCharacterOfPosition(s.pos),t,n,r)}}function $(e,t,n,r,i){var a,s,o,c,l,u,d;return M(e)||(B?(a=e,s=t.line,o=n,c=B,l=_,u=f,i=i,m.updateContext(c,u,a,o,r),u=p.getRulesMap().GetRule(m),o=!(u&&(function(e,t,n,r,i){switch(e.Operation.Action){case 1:return;case 8:t.end!==r.pos&&q(t.end,r.pos-t.end);break;case 4:1!==e.Flag&&n!==i||1!=i-n&&V(t.end,r.pos-t.end,R.newLineCharacter);break;case 2:if(1!==e.Flag&&n!==i)return;1==r.pos-t.end&&32===U.text.charCodeAt(t.end)||V(t.end,r.pos-t.end," ")}}(u,c,l,a,s),10&u.Operation.Action&&s!==l?(d=!1,o.getStart(U)===a.pos&&i.recomputeIndentation(!1)):4&u.Operation.Action&&s===l&&(d=!0,o.getStart(U)===a.pos)&&i.recomputeIndentation(!0),8&u.Operation.Action||1===u.Flag)),s!==l&&o&&g(l,s,c),a=d):g(U.getLineAndCharacterOfPosition(F.pos).line,t.line)),B=e,f=n,_=t.line,a}function J(e,t,n){var r=G(t,R);n?V(e,0,r):(n=U.getLineAndCharacterOfPosition(e),t===function(e,t){for(var n=0,r=0;r<t;r++)9===U.text.charCodeAt(e+r)?n+=R.tabSize-n%R.tabSize:n++;return n}(e=H.getStartPositionOfLine(n.line,U),n.character)&&r===U.text.substr(e,r.length)||V(e,n.character,r))}function g(e,t,n){for(var r=e;r<t;r++){var i,a=H.getStartPositionOfLine(r,U),s=H.getEndLinePosition(r,U);n&&(H.isComment(n.kind)||H.isStringOrRegularExpressionOrTemplateLiteral(n.kind))&&n.pos<=s&&n.end>s||-1!==(i=function(e,t){for(var n=t;e<=n&&H.isWhiteSpaceSingleLine(U.text.charCodeAt(n));)n--;return n!==t?n+1:-1}(a,s))&&(H.Debug.assert(i===a||!H.isWhiteSpaceSingleLine(U.text.charCodeAt(i-1))),q(i,s+1-i))}}function a(e,t,n){return{span:H.createTextSpan(e,t),newText:n}}function q(e,t){t&&i.push(a(e,t,""))}function V(e,t,n){(t||n)&&i.push(a(e,t,n))}}function G(e,t){var n,r,i;return c&&c.tabSize===t.tabSize&&c.indentSize===t.indentSize||(c={tabSize:t.tabSize,indentSize:t.indentSize},l=u=void 0),t.convertTabsToSpaces?(i=void 0,n=Math.floor(e/t.indentSize),r=e%t.indentSize,void 0===(u=u||[])[n]?(i=a(" ",t.indentSize*n),u[n]=i):i=u[n]):(r=e-(n=Math.floor(e/t.tabSize))*t.tabSize,(i=void 0)===(l=l||[])[n]?l[n]=i=a("\t",n):i=l[n]),r?i+a(" ",r):i;function a(e,t){for(var n="",r=0;r<t;r++)n+=e;return n}}var W,c,l,u;(W=H.formatting||(H.formatting={})).formatOnEnter=function(e,t,n,r){e=t.getLineAndCharacterOfPosition(e).line;if(0===e)return[];for(var i=H.getEndLinePosition(e,t);H.isWhiteSpaceSingleLine(t.text.charCodeAt(i));)i--;return H.isLineBreak(t.text.charCodeAt(i))&&i--,o({pos:H.getStartPositionOfLine(e-1,t),end:i+1},t,r,n,2)},W.formatOnSemicolon=function(e,t,n,r){return i(s(a(e,25,t)),t,r,n,3)},W.formatOnOpeningCurly=function(e,t,n,r){var i=a(e,17,t);return i?(i=s(i.parent),o({pos:H.getLineStartPositionForPosition(i.getStart(t),t),end:e},t,r,n,4)):[]},W.formatOnClosingCurly=function(e,t,n,r){return i(s(a(e,18,t)),t,r,n,5)},W.formatDocument=function(e,t,n){return o({pos:0,end:e.text.length},e,n,t,0)},W.formatSelection=function(e,t,n,r,i){return o({pos:H.getLineStartPositionForPosition(e,n),end:t},n,i,r,1)},W.formatNodeGivenIndentation=function(t,n,e,r,i,a){var s={pos:0,end:n.text.length};return W.getFormattingScanner(n.text,e,s.pos,s.end,function(e){return p(s,t,r,i,e,a.getFormatOptions(),a,1,function(e){return!1},n)})},W.getRangeOfEnclosingComment=function(e,t,n,r,i,a){if(!((i=void 0===i?H.getTokenAtPosition(e,t,!1):i).getStart(e)<=t&&t<i.getEnd())){r=(r=void 0===r?H.findPrecedingToken(t,e):r)&&H.getTrailingCommentRanges(e.text,r.end),i=H.getLeadingCommentRangesOfNode(i,e),r=r&&i?r.concat(i):r||i;if(r)for(var s=0,o=r;s<o.length;s++){var c=o[s];if(c.pos<t&&t<c.end||t===c.end&&(2===c.kind||t===e.getFullWidth()))return 3!==c.kind&&n||a&&!a(c)?void 0:c}}},W.getIndentationString=G}(ts=ts||{}),function(b){function x(e){return e.baseIndentSize||0}function k(e,t,n,r,i,a){for(var s,o,c,l,u,d=e.parent;d;){var p,f=!0;if((f=n?(p=e.getStart(i))<n.pos||p>n.end:f)&&-1!==(_=T(e,i,a)))return _+r;var _,m=(p=function(e,t,n){t=y(t,n),t=t?t.pos:e.getStart(n);return n.getLineAndCharacterOfPosition(t)}(d,e,i)).line===t.line||h(d,e,t.line,i);if(f){if(-1!==(f=e,s=d,o=t,c=m,l=i,u=a,_=!b.isDeclaration(f)&&!b.isStatementButNotDeclaration(f)||265!==s.kind&&c?-1:v(o,l,u)))return _+r;if(-1!==(_=C(e,i,a)))return _+r}N(d,e)&&!m&&(r+=a.indentSize);f=g(d,e,t.line,i),d=(e=d).parent;t=f?i.getLineAndCharacterOfPosition(e.getStart()):p}return r+x(a)}function S(e,t){return t.getLineAndCharacterOfPosition(e.getStart(t))}function g(e,t,n,r){return!(!b.isCallExpression(e)||!b.contains(e.arguments,t))&&(t=e.expression.getEnd(),b.getLineAndCharacterOfPosition(r,t).line===n)}function h(e,t,n,r){return 211===e.kind&&e.elseStatement===t&&(t=b.findChildOfKind(e,82,r),b.Debug.assert(void 0!==t),S(t,r).line===n)}function r(e,t,n){return e&&b.rangeContainsStartEnd(e,t,n)?e:void 0}function y(e,t){if(e.parent)switch(e.parent.kind){case 159:return r(e.parent.typeArguments,e.getStart(t),e.getEnd());case 178:return e.parent.properties;case 177:return e.parent.elements;case 228:case 186:case 187:case 151:case 150:case 155:case 152:case 161:case 156:var n=e.getStart(t);return r(e.parent.typeParameters,n,e.getEnd())||r(e.parent.parameters,n,e.getEnd());case 229:return r(e.parent.typeParameters,e.getStart(t),e.getEnd());case 182:case 181:return n=e.getStart(t),r(e.parent.typeArguments,n,e.getEnd())||r(e.parent.arguments,n,e.getEnd());case 227:return r(e.parent.declarations,e.getStart(t),e.getEnd());case 241:case 245:return r(e.parent.elements,e.getStart(t),e.getEnd())}}function T(e,t,n){var r=y(e,t);return r&&-1!==(e=b.indexOf(r=r,e))?E(r,e,t,n):-1}function C(e,t,n){var r;return 20===e.kind||!e.parent||!b.isCallOrNewExpression(e.parent)||e.parent.expression===e||(e=e.parent.expression)===(r=function(e){for(;;)switch(e.kind){case 181:case 182:case 179:case 180:e=e.expression;break;default:return e}}(e))||(e=t.getLineAndCharacterOfPosition(e.end),r=t.getLineAndCharacterOfPosition(r.end),e.line===r.line)?-1:v(e,t,n)}function E(e,t,n,r){b.Debug.assert(0<=t&&t<e.length);for(var i=S(e[t],n),a=t-1;0<=a;a--)if(26!==e[a].kind){if(n.getLineAndCharacterOfPosition(e[a].end).line!==i.line)return v(i,n,r);i=S(e[a],n)}return-1}function v(e,t,n){var r=t.getPositionOfLineAndCharacter(e.line,0);return A(r,r+e.character,t,n)}function D(e,t,n,r){for(var i=0,a=0,s=e;s<t;s++){var o=n.text.charCodeAt(s);if(!b.isWhiteSpaceSingleLine(o))break;9===o?a+=r.tabSize+a%r.tabSize:a++,i++}return{column:a,character:i}}function A(e,t,n,r){return D(e,t,n,r).column}function n(e,t,n){var r=t?t.kind:0;switch(e.kind){case 212:case 213:case 215:case 216:case 214:case 211:case 228:case 186:case 151:case 187:case 152:case 153:case 154:return 207!==r;case 244:return 245!==r;case 238:return 239!==r||t.namedBindings&&241!==t.namedBindings.kind;case 249:return 252!==r}return n}function N(e,t){return function(){switch(e.kind){case 210:case 229:case 199:case 230:case 232:case 231:case 177:case 207:case 234:case 178:case 163:case 172:case 165:case 235:case 258:case 257:case 185:case 179:case 181:case 182:case 208:case 226:case 243:case 219:case 195:case 175:case 174:case 251:case 250:case 256:case 150:case 155:case 156:case 146:case 160:case 161:case 168:case 183:case 191:case 245:case 241:case 246:case 242:case 261:case 149:return!0}return!1}()||n(e,t,!1)}var w,I;w=b.formatting||(b.formatting={}),(I=w.SmartIndenter||(w.SmartIndenter={})).getIndentation=function(e,t,n,r){if(void 0===r&&(r=!1),e>t.text.length)return x(n);if(n.indentStyle===b.IndentStyle.None)return 0;var i=b.findPrecedingToken(e,t),a=w.getRangeOfEnclosingComment(t,e,!0,i||null);if(a)return o=b.getLineAndCharacterOfPosition(t,e).line-1,a=b.getLineAndCharacterOfPosition(t,a.pos).line,b.Debug.assert(0<=a),o<=a?A(b.getStartPositionOfLine(a,t),e,t,n):(c=(o=D(a=b.getStartPositionOfLine(o,t),e,t,n)).column,o=o.character,0!==c&&42===t.text.charCodeAt(a+o)?c-1:c);if(!i)return x(n);if(b.isStringOrRegularExpressionOrTemplateLiteral(i.kind)&&i.getStart(t)<=e&&e<i.end)return 0;var s,o,c,l=t.getLineAndCharacterOfPosition(e).line;if(n.indentStyle===b.IndentStyle.Block){for(var u=e;0<u;){var d=t.text.charCodeAt(u);if(!b.isWhiteSpaceLike(d))break;u--}var a=b.getLineStartPositionForPosition(u,t);return I.findFirstNonWhitespaceColumn(a,u,t,n)}if(26===i.kind&&194!==i.parent.kind&&-1!==(o=t,c=n,p=(a=b.findListItemInfo(i))&&0<a.listItemIndex?E(a.list.getChildren(),a.listItemIndex-1,o,c):-1))return p;for(var p,f,_,m,g=i;g;){if(b.positionBelongsToNode(g,e,t)&&N(g,s)){var h=S(g,t),y=(f=i,y=g,_=l,m=t,(f=b.findNextToken(f,y))?17===f.kind?1:18===f.kind&&_===S(f,m).line?2:0:0),v=0!=y?r&&2==y?n.indentSize:0:l!==h.line?n.indentSize:0;break}if(-1!==(p=T(g,t,n)))return p;if(-1!==(p=C(g,t,n)))return p+n.indentSize;g=(s=g).parent}return g?k(g,h,void 0,v,t,n):x(n)},I.getIndentationForNode=function(e,t,n,r){var i=n.getLineAndCharacterOfPosition(e.getStart(n));return k(e,i,t,0,n,r)},I.getBaseIndentation=x,I.isArgumentAndStartLineOverlapsExpressionBeingCalled=g,I.childStartsOnTheSameLineWithElseInIfStatement=h,I.getContainingList=y,I.findFirstNonWhitespaceCharacterAndColumn=D,I.findFirstNonWhitespaceColumn=A,I.nodeWillIndentChild=n,I.shouldIndentChildNode=N}(ts=ts||{}),function(d){var s,p,e,t=d.textChanges||(d.textChanges={});function a(e){e=e.__pos;return d.Debug.assert("number"==typeof e),e}function i(e,t){d.Debug.assert("number"==typeof t),e.__pos=t}function o(e){e=e.__end;return d.Debug.assert("number"==typeof e),e}function c(e,t){d.Debug.assert("number"==typeof t),e.__end=t}function f(e,t){return d.skipTrivia(e,t,!1,!0)}function l(e,t,n,r){var i;return n.useNonAdjustedStartPosition?t.getFullStart():(n=t.getFullStart())===(t=t.getStart(e))?t:(i=d.getLineStartPositionForPosition(n,e),d.getLineStartPositionForPosition(t,e)===i?r===s.Start?t:n:(r=0<n?1:0,t=d.getStartPositionOfLine(d.getLineOfLocalPosition(e,i)+r,e),t=f(e.text,t),d.getStartPositionOfLine(d.getLineOfLocalPosition(e,t),e)))}function u(e,t,n){return n.useNonAdjustedEndPosition||d.isExpression(t)?t.getEnd():(n=t.getEnd(),(t=d.skipTrivia(e.text,n,!0))!==n&&d.isLineBreak(e.text.charCodeAt(t-1))?t:n)}function _(e,t){return t&&e.parent&&(26===t.kind||25===t.kind&&178===e.parent.kind)}function m(e,t,n){this.newLine=e,this.rulesProvider=t,this.validator=n,this.changes=[],this.newLineCharacter=d.getNewLineCharacter({newLine:e})}function g(e,t){for(var n=t.length-1;0<=n;n--){var r=t[n];e=""+e.substring(0,r.span.start)+r.newText+e.substring(d.textSpanEnd(r.span))}return e}function h(e){var t=d.visitEachChild(e,h,d.nullTransformationContext,n,h),t=d.nodeIsSynthesized(t)?t:Object.create(t);return t.pos=a(e),t.end=o(e),t}function n(e,t,n,r,i){t=d.visitNodes(e,t,n,r,i);return t&&((n=t===e?d.createNodeArray(t.slice(0)):t).pos=a(e),n.end=o(e),n)}(e=s=t.Position||(t.Position={}))[e.FullStart=0]="FullStart",e[e.Start=1]="Start",(e=p=p||{})[e.Remove=0]="Remove",e[e.ReplaceWithSingleNode=1]="ReplaceWithSingleNode",e[e.ReplaceWithMultipleNodes=2]="ReplaceWithMultipleNodes",t.getSeparatorCharacter=function(e){return d.tokenToString(e.kind)},t.getAdjustedStartPosition=l,t.getAdjustedEndPosition=u,m.fromContext=function(e){return new m("\n"===e.newLineCharacter?1:0,e.rulesProvider)},m.with=function(e,t){e=m.fromContext(e);return t(e),e.getChanges()},m.prototype.deleteRange=function(e,t){return this.changes.push({kind:p.Remove,sourceFile:e,range:t}),this},m.prototype.deleteNode=function(e,t,n){var r=l(e,t,n=void 0===n?{}:n,s.FullStart),t=u(e,t,n);return this.changes.push({kind:p.Remove,sourceFile:e,range:{pos:r,end:t}}),this},m.prototype.deleteNodeRange=function(e,t,n,r){t=l(e,t,r=void 0===r?{}:r,s.FullStart),n=u(e,n,r);return this.changes.push({kind:p.Remove,sourceFile:e,range:{pos:t,end:n}}),this},m.prototype.deleteNodeInList=function(e,t){var n,r,i,a=d.formatting.SmartIndenter.getContainingList(t,e);return a?(n=d.indexOfNode(a,t))<0||(1===a.length?this.deleteNode(e,t):n!==a.length-1?(i=d.getTokenAtPosition(e,t.end,!1))&&_(t,i)&&(i=d.skipTrivia(e.text,l(e,t,{},s.FullStart),!1,!0),r=a[n+1],r=d.skipTrivia(e.text,l(e,r,{},s.FullStart),!1,!0),this.deleteRange(e,{pos:i,end:r})):(i=d.getTokenAtPosition(e,a[n-1].end,!1))&&_(t,i)&&this.deleteNodeRange(e,i,t)):d.Debug.fail("node is not a list element"),this},m.prototype.replaceRange=function(e,t,n,r){return this.changes.push({kind:p.ReplaceWithSingleNode,sourceFile:e,range:t,options:r=void 0===r?{}:r,node:n}),this},m.prototype.replaceNode=function(e,t,n,r){var i=l(e,t,r=void 0===r?{}:r,s.Start),t=u(e,t,r);return this.replaceWithSingle(e,i,t,n,r)},m.prototype.replaceNodeRange=function(e,t,n,r,i){t=l(e,t,i=void 0===i?{}:i,s.Start),n=u(e,n,i);return this.replaceWithSingle(e,t,n,r,i)},m.prototype.replaceWithSingle=function(e,t,n,r,i){return this.changes.push({kind:p.ReplaceWithSingleNode,sourceFile:e,options:i,node:r,range:{pos:t,end:n}}),this},m.prototype.replaceWithMultiple=function(e,t,n,r,i){return this.changes.push({kind:p.ReplaceWithMultipleNodes,sourceFile:e,options:i,nodes:r,range:{pos:t,end:n}}),this},m.prototype.replaceNodeWithNodes=function(e,t,n,r){var i=l(e,t,r,s.Start),t=u(e,t,r);return this.replaceWithMultiple(e,i,t,n,r)},m.prototype.replaceNodesWithNodes=function(e,t,n,r){var i=l(e,t[0],r,s.Start),t=u(e,d.lastOrUndefined(t),r);return this.replaceWithMultiple(e,i,t,n,r)},m.prototype.replaceRangeWithNodes=function(e,t,n,r){return this.replaceWithMultiple(e,t.pos,t.end,n,r)},m.prototype.replaceNodeRangeWithNodes=function(e,t,n,r,i){t=l(e,t,i,s.Start),n=u(e,n,i);return this.replaceWithMultiple(e,t,n,r,i)},m.prototype.insertNodeAt=function(e,t,n,r){return this.changes.push({kind:p.ReplaceWithSingleNode,sourceFile:e,options:r=void 0===r?{}:r,node:n,range:{pos:t,end:t}}),this},m.prototype.insertNodeBefore=function(e,t,n,r){t=l(e,t,r=void 0===r?{}:r,s.Start);return this.replaceWithSingle(e,t,t,n,r)},m.prototype.insertNodeAfter=function(e,t,n,r){void 0===r&&(r={}),!d.isStatementButNotDeclaration(t)&&149!==t.kind&&148!==t.kind&&150!==t.kind||59===e.text.charCodeAt(t.end-1)||this.changes.push({kind:p.ReplaceWithSingleNode,sourceFile:e,options:{},range:{pos:t.end,end:t.end},node:d.createToken(25)});t=u(e,t,r);return this.replaceWithSingle(e,t,t,n,r)},m.prototype.insertNodeInListAfter=function(e,r,t){var n,i,a,s,o,c,l,u=d.formatting.SmartIndenter.getContainingList(r,e);return u?(n=d.indexOfNode(u,r))<0||(i=r.getEnd(),n!==u.length-1?(l=d.getTokenAtPosition(e,r.end,!1))&&_(r,l)&&(s=d.getLineAndCharacterOfPosition(e,f(e.text,u[n+1].getFullStart())),o=c=void 0,(a=d.getLineAndCharacterOfPosition(e,l.end)).line===s.line?(o=l.end,c=function(e){for(var t="",n=0;n<e;n++)t+=" ";return t}(s.character-a.character)):o=d.getStartPositionOfLine(s.line,e),this.changes.push({kind:p.ReplaceWithSingleNode,sourceFile:e,range:{pos:o,end:u[n+1].getStart(e)},node:t,options:{prefix:c,suffix:""+d.tokenToString(l.kind)+e.text.substring(l.end,u[n+1].getStart(e))}})):(a=r.getStart(e),s=d.getLineStartPositionForPosition(a,e),o=void 0,c=!1,1===u.length?o=26:(o=_(r,l=d.findPrecedingToken(r.pos,e))?l.kind:26,c=d.getLineStartPositionForPosition(u[n-1].getStart(e),e)!==s),(c=!!function(e){for(var t=r.end;t<e.length;){var n=e.charCodeAt(t);if(!d.isWhiteSpaceSingleLine(n))return 47===n;t++}}(e.text)||c)?(this.changes.push({kind:p.ReplaceWithSingleNode,sourceFile:e,range:{pos:i,end:i},node:d.createToken(o),options:{}}),l=d.formatting.SmartIndenter.findFirstNonWhitespaceColumn(s,a,e,this.rulesProvider.getFormatOptions()),(u=d.skipTrivia(e.text,i,!0,!1))!==i&&d.isLineBreak(e.text.charCodeAt(u-1))&&u--,this.changes.push({kind:p.ReplaceWithSingleNode,sourceFile:e,range:{pos:u,end:u},node:t,options:{indentation:l,prefix:this.newLineCharacter}})):this.changes.push({kind:p.ReplaceWithSingleNode,sourceFile:e,range:{pos:i,end:i},node:t,options:{prefix:d.tokenToString(o)+" "}}))):d.Debug.fail("node is not a list element"),this},m.prototype.getChanges=function(){for(var s=this,e=d.createMap(),t=0,n=this.changes;t<n.length;t++){var r=n[t],i=e.get(r.sourceFile.path);i||e.set(r.sourceFile.path,i=[]),i.push(r)}var o=[];return e.forEach(function(e){for(var t=e[0].sourceFile,n={fileName:t.fileName,textChanges:[]},r=0,i=m.normalize(e);r<i.length;r++){var a=i[r];n.textChanges.push({span:s.computeSpan(a,t),newText:s.computeNewText(a,t)})}o.push(n)}),o},m.prototype.computeSpan=function(e,t){return d.createTextSpanFromBounds(e.range.pos,e.range.end)},m.prototype.computeNewText=function(e,t){var n,r,i,a=this;return e.kind===p.Remove?"":(n=e.options||{},r=e.range.pos,i=d.getLineStartPositionForPosition(r,t)===r,e=e.kind===p.ReplaceWithMultipleNodes?e.nodes.map(function(e){return a.getFormattedTextOfNode(e,t,r,n)}).join(e.options.nodeSeparator):(d.Debug.assert(e.kind===p.ReplaceWithSingleNode,"change.kind === ReplaceWithSingleNode"),this.getFormattedTextOfNode(e.node,t,r,n)),e=i||void 0!==n.indentation?e:e.replace(/^\s+/,""),(n.prefix||"")+e+(n.suffix||""))},m.prototype.getFormattedTextOfNode=function(e,t,n,r){i=e,o=t,s={newLine:s=this.newLine,target:o&&o.languageVersion},c=new y(d.getNewLineCharacter(s)),d.createPrinter(s,c).writeNode(4,i,o,c);var i,a,s={text:c.getText(),node:h(i)},o=(this.validator&&this.validator(s),this.rulesProvider.getFormatOptions()),c=d.getLineStartPositionForPosition(n,t)===n;return i=s,s=t,n=void 0!==r.indentation?r.indentation:!1!==r.useIndentationFromFile?d.formatting.SmartIndenter.getIndentation(n,t,o,c||r.prefix===this.newLineCharacter):0,t=void 0!==r.delta?r.delta:d.formatting.SmartIndenter.shouldIndentChildNode(e)&&o.indentSize||0,c=this.rulesProvider,a=d.computeLineStarts(i.text),s=d.formatting.formatNodeGivenIndentation(i.node,{text:i.text,lineMap:a,getLineAndCharacterOfPosition:function(e){return d.computeLineAndCharacterOfPosition(a,e)}},s.languageVariant,n,t,c),g(i.text,s)},m.normalize=function(e){for(var t=d.stableSort(e,function(e,t){return e.range.pos-t.range.pos}),n=0;n<t.length-2;n++)d.Debug.assert(t[n].range.end<=t[n+1].range.pos);return t},t.ChangeTracker=m,t.applyChanges=g,r.prototype.setLastNonTriviaPosition=function(e,t){if(t||(t=e,d.skipTrivia(t,0)!==t.length)){this.lastNonTriviaPosition=this.writer.getTextPos();for(var n=0;d.isWhiteSpaceLike(e.charCodeAt(e.length-n-1));)n++;this.lastNonTriviaPosition-=n}},r.prototype.write=function(e){this.writer.write(e),this.setLastNonTriviaPosition(e,!1)},r.prototype.writeTextOfNode=function(e,t){this.writer.writeTextOfNode(e,t)},r.prototype.writeLine=function(){this.writer.writeLine()},r.prototype.increaseIndent=function(){this.writer.increaseIndent()},r.prototype.decreaseIndent=function(){this.writer.decreaseIndent()},r.prototype.getText=function(){return this.writer.getText()},r.prototype.rawWrite=function(e){this.writer.rawWrite(e),this.setLastNonTriviaPosition(e,!1)},r.prototype.writeLiteral=function(e){this.writer.writeLiteral(e),this.setLastNonTriviaPosition(e,!0)},r.prototype.getTextPos=function(){return this.writer.getTextPos()},r.prototype.getLine=function(){return this.writer.getLine()},r.prototype.getColumn=function(){return this.writer.getColumn()},r.prototype.getIndent=function(){return this.writer.getIndent()},r.prototype.isAtStartOfLine=function(){return this.writer.isAtStartOfLine()},r.prototype.reset=function(){this.writer.reset(),this.lastNonTriviaPosition=0};var y=r;function r(e){var r=this;this.lastNonTriviaPosition=0,this.writer=d.createTextWriter(e),this.onEmitNode=function(e,t,n){t&&i(t,r.lastNonTriviaPosition),n(e,t),t&&c(t,r.lastNonTriviaPosition)},this.onBeforeEmitNodeArray=function(e){e&&i(e,r.lastNonTriviaPosition)},this.onAfterEmitNodeArray=function(e){e&&c(e,r.lastNonTriviaPosition)},this.onBeforeEmitToken=function(e){e&&i(e,r.lastNonTriviaPosition)},this.onAfterEmitToken=function(e){e&&c(e,r.lastNonTriviaPosition)}}}(ts=ts||{}),function(t){var e,r;e=t.codefix||(t.codefix={}),r=[],e.registerCodeFix=function(n){t.forEach(n.errorCodes,function(e){var t=r[e];t||(r[e]=t=[]),t.push(n)})},e.getSupportedErrorCodes=function(){return Object.keys(r)},e.getFixes=function(i){var e=r[i.errorCode],a=[];return t.forEach(e,function(e){e=e.getCodeActions(i);if(e&&0<e.length)for(var t=0,n=e;t<n.length;t++){var r=n[t];void 0===r?i.host.log("Action for error code "+i.errorCode+" added an invalid action entry; please log a bug"):a.push(r)}}),a}}(ts=ts||{}),function(e){var t=e.refactor||(e.refactor={}),r=e.createMap();t.registerRefactor=function(e){r.set(e.name,e)},t.getApplicableRefactors=function(t){return e.flatMapIter(r.values(),function(e){return t.cancellationToken&&t.cancellationToken.isCancellationRequested()?void 0:e.getAvailableActions(t)})},t.getEditsForRefactor=function(e,t,n){t=r.get(t);return t&&t.getEditsForAction(e,n)},e.getRefactorContextLength=function(e){return void 0===e.endPosition?0:e.endPosition-e.startPosition}}(ts=ts||{}),function(i){(i.codefix||(i.codefix={})).registerCodeFix({errorCodes:[i.Diagnostics._0_accepts_too_few_arguments_to_be_used_as_a_decorator_here_Did_you_mean_to_call_it_first_and_write_0.code],getCodeActions:function(e){var t=e.sourceFile,n=i.getTokenAtPosition(t,e.span.start,!1),n=i.getAncestor(n,147),r=(i.Debug.assert(!!n,"Expected position to be owned by a decorator."),i.createCall(n.expression,void 0,void 0)),e=i.textChanges.ChangeTracker.fromContext(e);return e.replaceNode(t,n.expression,r),[{description:i.getLocaleSpecificMessage(i.Diagnostics.Call_decorator_expression),changes:e.getChanges()}]}})}(ts=ts||{}),function(s){(s.codefix||(s.codefix={})).registerCodeFix({errorCodes:[s.Diagnostics.Cannot_access_0_1_because_0_is_a_type_but_not_a_namespace_Did_you_mean_to_retrieve_the_type_of_the_property_1_in_0_with_0_1.code],getCodeActions:function(e){var t,n,r,i=e.sourceFile,a=s.getTokenAtPosition(i,e.span.start,!1),a=s.getAncestor(a,143);if(s.Debug.assert(!!a,"Expected position to be owned by a qualified name."),s.isIdentifier(a.left))return t=a.left.getText(i),n=a.right.getText(i),r=s.createIndexedAccessTypeNode(s.createTypeReferenceNode(a.left,void 0),s.createLiteralTypeNode(s.createLiteral(n))),(e=s.textChanges.ChangeTracker.fromContext(e)).replaceNode(i,a,r),[{description:s.formatStringFromArgs(s.getLocaleSpecificMessage(s.Diagnostics.Rewrite_as_the_indexed_access_type_0),[t+'["'+n+'"]']),changes:e.getChanges()}]}})}(ts=ts||{}),function(g){var h;(h=g.codefix||(g.codefix={})).registerCodeFix({errorCodes:[g.Diagnostics.Class_0_incorrectly_implements_interface_1.code],getCodeActions:function(e){var t=e.sourceFile,n=e.span.start,n=g.getTokenAtPosition(t,n,!1),i=e.program.getTypeChecker(),a=g.getContainingClass(n);if(a){for(var r=g.getOpenBraceOfClassLike(a,t),n=i.getTypeAtLocation(a),t=g.getClassImplementsHeritageClauseElements(a),s=!!i.getIndexTypeOfType(n,1),o=!!i.getIndexTypeOfType(n,0),c=[],l=0,u=t;l<u.length;l++){var d=u[l],p=i.getTypeAtLocation(d),f=i.getPropertiesOfType(p).filter(function(e){return!(8&g.getModifierFlags(e.valueDeclaration))}),_=[],p=(m(p,1,s,_),m(p,0,o,_),_=_.concat(h.createMissingMemberNodes(a,f,i)),g.formatStringFromArgs(g.getLocaleSpecificMessage(g.Diagnostics.Implement_interface_0),[d.getText()]));0<_.length&&(f=_,c.push({description:p,changes:h.newNodesToChanges(f,r,e)}))}return c}function m(e,t,n,r){n||(n=i.getIndexInfoOfType(e,t))&&(e=i.indexInfoToIndexSignatureDeclaration(n,t,a),r.push(e))}}})}(ts=ts||{}),function(_){var m;(m=_.codefix||(_.codefix={})).registerCodeFix({errorCodes:[_.Diagnostics.Property_0_does_not_exist_on_type_1.code,_.Diagnostics.Property_0_does_not_exist_on_type_1_Did_you_mean_2.code],getCodeActions:function(n){var e=n.sourceFile,t=n.span.start,r=_.getTokenAtPosition(e,t,!1);if(71===r.kind&&_.isPropertyAccessExpression(r.parent)){var i,a,s,o,c,l,u=r.getText(e),d=!1;if(99===r.parent.expression.kind){var t=_.getThisContainer(r,!1);if(!_.isClassElement(t))return;i=t.parent,d=i&&_.hasModifier(t,32)}else{var p,e=n.program.getTypeChecker(),t=r.parent.expression,t=e.getTypeAtLocation(t);32768&t.flags&&32&(p=t.symbol).flags&&(i=p.declarations&&p.declarations[0],t!==e.getDeclaredTypeOfSymbol(p))&&(d=!0)}if(i&&_.isClassLike(i))return a=_.getSourceFileOfNode(i),s=_.getOpenBraceOfClassLike(i,a),_.isInJavaScriptFile(a)?(t=i,e=d,(p=f(!1))&&(l=[p]),e?199!==t.kind&&(p=t.name.getText(),e=_.createStatement(_.createAssignment(_.createPropertyAccess(_.createIdentifier(p),u),_.createIdentifier("undefined"))),(p=_.textChanges.ChangeTracker.fromContext(n)).insertNodeAfter(a,t,e,{prefix:n.newLineCharacter,suffix:n.newLineCharacter}),e={description:_.formatStringFromArgs(_.getLocaleSpecificMessage(_.Diagnostics.Initialize_static_property_0),[u]),changes:p.getChanges()},(l=l||[]).push(e)):(p=_.getFirstConstructorWithBody(t))&&(e=_.createStatement(_.createAssignment(_.createPropertyAccess(_.createThis(),u),_.createIdentifier("undefined"))),(t=_.textChanges.ChangeTracker.fromContext(n)).insertNodeBefore(a,p.body.getLastToken(),e,{suffix:n.newLineCharacter}),p={description:_.formatStringFromArgs(_.getLocaleSpecificMessage(_.Diagnostics.Initialize_property_0_in_the_constructor),[u]),changes:t.getChanges()},(l=l||[]).push(p)),l):(e=i,t=d,(l=f(!0))&&(c=[l]),194===r.parent.parent.kind&&(l=r.parent.parent,l=r.parent===l.left?l.right:l.left,l=(o=n.program.getTypeChecker()).getWidenedType(o.getBaseTypeOfLiteralType(o.getTypeAtLocation(l))),o=o.typeToTypeNode(l,e)),o=o||_.createKeywordTypeNode(119),l=_.createProperty(void 0,t?[_.createToken(115)]:void 0,u,void 0,o,void 0),(e=_.textChanges.ChangeTracker.fromContext(n)).insertNodeAfter(a,s,l,{suffix:n.newLineCharacter}),l=t?_.Diagnostics.Declare_static_property_0:_.Diagnostics.Declare_property_0,c=_.append(c,{description:_.formatStringFromArgs(_.getLocaleSpecificMessage(l),[u]),changes:e.getChanges()}),t||(l=_.createKeywordTypeNode(136),e=_.createParameter(void 0,void 0,void 0,"x",void 0,l,void 0),t=_.createIndexSignature(void 0,void 0,[e],o),(l=_.textChanges.ChangeTracker.fromContext(n)).insertNodeAfter(a,s,t,{suffix:n.newLineCharacter}),c.push({description:_.formatStringFromArgs(_.getLocaleSpecificMessage(_.Diagnostics.Add_index_signature_for_property_0),[u]),changes:l.getChanges()})),c)}function f(e){var t;if(181===r.parent.parent.kind)return t=r.parent.parent,t=m.createMethodFromCallExpression(t,u,e,d),(e=_.textChanges.ChangeTracker.fromContext(n)).insertNodeAfter(a,s,t,{suffix:n.newLineCharacter}),t=d?_.Diagnostics.Declare_static_method_0:_.Diagnostics.Declare_method_0,{description:_.formatStringFromArgs(_.getLocaleSpecificMessage(t),[u]),changes:e.getChanges()}}}})}(ts=ts||{}),function(i){(i.codefix||(i.codefix={})).registerCodeFix({errorCodes:[i.Diagnostics.Property_0_does_not_exist_on_type_1_Did_you_mean_2.code,i.Diagnostics.Cannot_find_name_0_Did_you_mean_1.code],getCodeActions:function(e){var t,n=e.sourceFile,r=i.getTokenAtPosition(n,e.span.start,!1),e=e.program.getTypeChecker();if(t=i.isPropertyAccessExpression(r.parent)&&r.parent.name===r?(i.Debug.assert(71===r.kind),t=e.getTypeAtLocation(r.parent.expression),e.getSuggestionForNonexistentProperty(r,t)):(t=i.getMeaningFromLocation(r),e.getSuggestionForNonexistentSymbol(r,i.getTextOfNode(r),(e=0,4&t&&(e|=1920),2&t&&(e|=793064),1&t&&(e|=107455),e))))return[{description:i.formatStringFromArgs(i.getLocaleSpecificMessage(i.Diagnostics.Change_spelling_to_0),[t]),changes:[{fileName:n.fileName,textChanges:[{span:{start:r.getStart(),length:r.getWidth()},newText:t}]}]}]}})}(ts=ts||{}),function(r){function i(e,t){t=r.getPackageName(t).packageName;if(e.isKnownTypesPackageName(t))return{description:"Install '"+(e=r.getTypesPackageName(t))+"'",changes:[],commands:[{type:"install package",packageName:e}]}}var e;(e=r.codefix||(r.codefix={})).registerCodeFix({errorCodes:[r.Diagnostics.Could_not_find_a_declaration_file_for_module_0_1_implicitly_has_an_any_type.code],getCodeActions:function(e){var t=e.sourceFile,n=e.span.start,t=r.getTokenAtPosition(t,n,!1);if(r.isStringLiteral(t))return(n=i(e.host,t.text))&&[n];throw r.Debug.fail()}}),e.tryGetCodeActionForInstallPackageTypes=i}(ts=ts||{}),function(a){function e(e){var t=e.sourceFile,n=e.span.start,n=a.getTokenAtPosition(t,n,!1),r=e.program.getTypeChecker();if(a.isClassLike(n.parent)){var n=n.parent,i=a.getClassExtendsHeritageClauseElement(n),i=r.getTypeAtLocation(i),i=r.getPropertiesOfType(i).filter(s),i=o.createMissingMemberNodes(n,i,r),r=o.newNodesToChanges(i,a.getOpenBraceOfClassLike(n,t),e);if(r&&0<r.length)return[{description:a.getLocaleSpecificMessage(a.Diagnostics.Implement_inherited_abstract_class),changes:r}]}}function s(e){e=e.getDeclarations(),a.Debug.assert(!!(e&&0<e.length)),e=a.getModifierFlags(e[0]);return!(8&e||!(128&e))}var o;(o=a.codefix||(a.codefix={})).registerCodeFix({errorCodes:[a.Diagnostics.Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_class_2.code],getCodeActions:e}),o.registerCodeFix({errorCodes:[a.Diagnostics.Non_abstract_class_expression_does_not_implement_inherited_abstract_member_0_from_class_1.code],getCodeActions:e})}(ts=ts||{}),function(c){(c.codefix||(c.codefix={})).registerCodeFix({errorCodes:[c.Diagnostics.super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class.code],getCodeActions:function(e){var t=e.sourceFile,n=c.getTokenAtPosition(t,e.span.start,!1);if(99===n.kind){var r=c.getContainingFunction(n),i=function e(t){return 210===t.kind&&c.isSuperCall(t.expression)?t:c.isFunctionLike(t)?void 0:c.forEachChild(t,e)}(r.body);if(i){if(i.expression&&181===i.expression.kind)for(var a=i.expression.arguments,s=0;s<a.length;s++)if(a[s].expression===n)return;var o=c.textChanges.ChangeTracker.fromContext(e);return o.insertNodeAfter(t,c.getOpenBrace(r,t),i,{suffix:e.newLineCharacter}),o.deleteNode(t,i),[{description:c.getLocaleSpecificMessage(c.Diagnostics.Make_super_call_the_first_statement_in_the_constructor),changes:o.getChanges()}]}}}})}(ts=ts||{}),function(a){(a.codefix||(a.codefix={})).registerCodeFix({errorCodes:[a.Diagnostics.Constructors_for_derived_classes_must_contain_a_super_call.code],getCodeActions:function(e){var t,n,r=e.sourceFile,i=a.getTokenAtPosition(r,e.span.start,!1);if(123===i.kind)return t=a.textChanges.ChangeTracker.fromContext(e),n=a.createStatement(a.createCall(a.createSuper(),void 0,a.emptyArray)),t.insertNodeAfter(r,a.getOpenBrace(i.parent,r),n,{suffix:e.newLineCharacter}),[{description:a.getLocaleSpecificMessage(a.Diagnostics.Add_missing_super_call),changes:t.getChanges()}]}})}(ts=ts||{}),function(c){(c.codefix||(c.codefix={})).registerCodeFix({errorCodes:[c.Diagnostics.Cannot_extend_an_interface_0_Did_you_mean_implements.code],getCodeActions:function(e){var t=e.sourceFile,n=e.span.start,n=c.getTokenAtPosition(t,n,!1),r=c.getContainingClass(n);if(71===n.kind&&c.isClassLike(r)){var i=r.heritageClauses;if(i&&0<i.length){n=i[0].getFirstToken();if(n&&85===n.kind){var a=c.textChanges.ChangeTracker.fromContext(e);a.replaceNode(t,n,c.createToken(108));for(var s=1;s<i.length;s++){var o=i[s].getFirstToken();o&&a.replaceNode(t,o,c.createToken(26))}return[{description:c.getLocaleSpecificMessage(c.Diagnostics.Change_extends_to_implements),changes:a.getChanges()}]}}}}})}(ts=ts||{}),function(r){(r.codefix||(r.codefix={})).registerCodeFix({errorCodes:[r.Diagnostics.Cannot_find_name_0_Did_you_mean_the_instance_member_this_0.code],getCodeActions:function(e){var t=e.sourceFile,n=r.getTokenAtPosition(t,e.span.start,!1);if(71===n.kind)return(e=r.textChanges.ChangeTracker.fromContext(e)).replaceNode(t,n,r.createPropertyAccess(r.createThis(),n)),[{description:r.getLocaleSpecificMessage(r.Diagnostics.Add_this_to_unresolved_variable),changes:e.getChanges()}]}})}(ts=ts||{}),function(x){(x.codefix||(x.codefix={})).registerCodeFix({errorCodes:[x.Diagnostics._0_is_declared_but_its_value_is_never_read.code,x.Diagnostics.Property_0_is_declared_but_its_value_is_never_read.code],getCodeActions:function(t){var n=t.sourceFile,e=t.span.start,r=x.getTokenAtPosition(n,e,!1);switch((r=21===r.kind?x.getTokenAtPosition(n,e+1,!1):r).kind){case 71:var i=r,a=i.parent;switch(a.kind){case 226:var s,o=i,c=a;switch(c.parent.parent.kind){case 214:var l=c.parent.parent.initializer;return[1===l.declarations.length?h(l):v(c)];case 216:l=c.parent.parent;return x.Debug.assert(227===l.initializer.kind),[(l=l.initializer.declarations[0],s=x.createObjectLiteral(),b(x.textChanges.ChangeTracker.fromContext(t).replaceNode(n,l,s))),m(o)];case 215:return[m(o)];default:s=c.parent.parent;return 1===s.declarationList.declarations.length?[h(s)]:[v(c)]}return;case 145:var u,d=a.parent.typeParameters;return 1===d.length?(f=x.getTokenAtPosition(n,d.pos-1,!1),u=x.getTokenAtPosition(n,d.end,!1),x.Debug.assert(27===f.kind),x.Debug.assert(29===u.kind),[(d=f,f=u,b(x.textChanges.ChangeTracker.fromContext(t).deleteNodeRange(n,d,f)))]):[v(a)];case 146:return[(1===a.parent.parameters.length?h:v)(a),m(i)];case 237:return[h(x.getAncestor(i,237))];case 242:d=a.parent;return 1===d.elements.length?g(d):[v(a)];case 239:var p,f=a;return f.namedBindings?(p=f.name.getStart(n),(u=x.getTokenAtPosition(n,f.name.end,!1))&&26===u.kind?[y({pos:p,end:x.skipTrivia(n.text,u.end,!1,!0)})]:[h(f.name)]):[h(x.getAncestor(f,238))];case 240:return g(a);default:return _()}return;case 149:case 240:return[h(r.parent)];default:return _()}function _(){return x.isDeclarationName(r)?[h(r.parent)]:x.isLiteralComputedPropertyDeclarationName(r)?[h(r.parent.parent)]:void 0}function m(e){e=e.getStart(n,!1);return{description:x.formatStringFromArgs(x.getLocaleSpecificMessage(x.Diagnostics.Prefix_0_with_an_underscore),{0:r.getText()}),changes:[{fileName:n.path,textChanges:[{span:{start:e,length:0},newText:"_"}]}]}}function g(e){var t;return e.parent.name?(t=x.getTokenAtPosition(n,e.pos-1,!1))&&26===t.kind?[y({pos:t.getStart(),end:e.end})]:void 0:[h(x.getAncestor(e,238))]}function h(e){return b(x.textChanges.ChangeTracker.fromContext(t).deleteNode(n,e))}function y(e){return b(x.textChanges.ChangeTracker.fromContext(t).deleteRange(n,e))}function v(e){return b(x.textChanges.ChangeTracker.fromContext(t).deleteNodeInList(n,e))}function b(e){return{description:x.formatStringFromArgs(x.getLocaleSpecificMessage(x.Diagnostics.Remove_declaration_for_Colon_0),{0:r.getText()}),changes:e.getChanges()}}}})}(ts=ts||{}),function(s){function o(e,t,n,r){return{description:s.formatStringFromArgs(s.getLocaleSpecificMessage(s.Diagnostics.Change_0_to_1),[n,r]),changes:[{fileName:t,textChanges:[{span:{start:e.getStart(),length:e.getWidth()},newText:r}]}]}}(s.codefix||(s.codefix={})).registerCodeFix({errorCodes:[s.Diagnostics.JSDoc_types_can_only_be_used_inside_documentation_comments.code],getCodeActions:function(e){var t=e.sourceFile,n=s.getTokenAtPosition(t,e.span.start,!1),n=s.findAncestor(n,function(e){return 202===e.kind||155===e.kind||156===e.kind||228===e.kind||153===e.kind||157===e.kind||172===e.kind||151===e.kind||150===e.kind||146===e.kind||149===e.kind||148===e.kind||154===e.kind||231===e.kind||184===e.kind||226===e.kind});if(n){var r,i,a,e=e.program.getTypeChecker(),n=n.type;if(n)return r=s.getTextOfNode(n),i=e.getTypeFromTypeNode(n),a=[o(n,t.fileName,r,e.typeToString(i,void 0,8))],270===n.kind&&(e=e.typeToString(e.getNullableType(i,2048),void 0,8),a.push(o(n,t.fileName,r,e))),a}}})}(ts=ts||{}),function(S){function e(){this.symbolIdToActionMap=[]}function T(e,t,n,r,i){return{description:S.formatMessage.apply(void 0,[void 0,e].concat(t)),changes:n,kind:r,moduleSpecifier:i}}function m(e,t){n=e,r=t.checker,s=t.sourceFile,y=t.cachedImportDeclarations,s=s.imports,void 0===y&&(y=[]),i=S.getUniqueSymbolId(n,r);var n,r,i,a,s,o,c,l,u,d,p,f,_,m,g,h,y=y[i]||(y[i]=S.mapDefined(s,function(e){if(r.getSymbolAtLocation(e)===n){var t=e.parent;switch(t.kind){case 238:return t;case 248:return t.parent;default:return void S.Debug.assert(244===t.kind)}}})),v=[];if(t.symbolToken)for(var b=0,x=y;b<x.length;b++){var k=238!==(k=x[b]).kind?k.name:(k=k.importClause&&k.importClause.namedBindings)&&240===k.kind?k.name:void 0;k&&v.push(function(t,e,n){var r=e.symbolName,i=e.sourceFile;return T(S.Diagnostics.Change_0_to_1,[r,t+"."+r],w.with(e,function(e){return e.replaceNode(i,n,S.createPropertyAccess(S.createIdentifier(t),r))}),"CodeChange",void 0)}(k.text,t,t.symbolToken))}return v.push((i=e,a=t,s=y,(e=S.firstDefined(s,function(e){if(238===e.kind&&e.importClause){var t=function(e,t){var n=e.symbolName,r=e.sourceFile,i=e.kind,a=t.name,s=t.namedBindings;switch(i){case 1:return a?void 0:w.with(e,function(e){return e.replaceNode(r,t,S.createImportClause(S.createIdentifier(n),s))});case 0:var o=S.createImportSpecifier(void 0,S.createIdentifier(n));return s&&241===s.kind&&0!==s.elements.length?w.with(e,function(e){return e.insertNodeInListAfter(r,s.elements[s.elements.length-1],o)}):!s||241===s.kind&&0===s.elements.length?w.with(e,function(e){return e.replaceNode(r,t,S.createImportClause(a,S.createNamedImports([o])))}):void 0;case 2:return s?void 0:w.with(e,function(e){return e.replaceNode(r,t,S.createImportClause(a,S.createNamespaceImport(S.createIdentifier(n))))});default:S.Debug.assertNever(i)}}(a,e.importClause);if(t)return e=S.stripQuotes(e.moduleSpecifier.getText()),T(S.Diagnostics.Add_0_to_existing_import_declaration_from_1,[a.symbolName,e],t,"InsertingIntoExistingImport",e)}}))||(p=u=S.firstDefined(s,N)||(e=a.sourceFile,o=i,s=a.compilerOptions,i=a.getCanonicalFileName,p=a.host,d=o.valueDeclaration.getSourceFile().fileName,e=S.getDirectoryPath(e.fileName),function(){var e=o.valueDeclaration;if(S.isModuleDeclaration(e)&&S.isStringLiteral(e.name))return e.name.text}())||(c=i,l=d,(u=S.getEffectiveTypeRoots(s,p))&&S.firstDefined(u,function(e){e=S.toPath(e,void 0,c);if(S.startsWith(l,e))return E(l.substring(e.length+1))}))||function(e,t,r,i,n){if(S.getEmitModuleResolutionKind(e)===S.ModuleResolutionKind.NodeJs){var a,s=function(e){var t=0,n=0,r=0;for(var i=0,a=0,s=0;0<=a;)switch(i=a,a=e.indexOf("/",i+1),s){case 0:e.indexOf("/node_modules/",i)===i&&(t=i,n=a,s=1);break;case 1:case 2:s=1===s&&"@"===e.charAt(i+1)?2:(r=a,3);break;case 3:s=e.indexOf("/node_modules/",i)===i?1:3}return 1<s?{topLevelNodeModulesIndex:t,topLevelPackageNameIndex:n,packageRootIndex:r,fileNameIndex:i}:void 0}(t);if(s)return e=function(e){var t=e.substring(0,s.packageRootIndex),n=S.combinePaths(t,"package.json");if(r.fileExists(n)){n=JSON.parse(r.readFile(n));if(n){n=n.typings||n.types||n.main;if(n&&S.toPath(n,t,i)===i(e))return t}}n=S.removeFileExtension(e);return"/index"===i(n.substring(s.fileNameIndex))?n.substring(0,s.fileNameIndex):n}(t),a=(t=e).substring(0,s.topLevelNodeModulesIndex),e=0===n.indexOf(a)?t.substring(s.topLevelPackageNameIndex+1):A(t,n,i),S.getPackageNameFromAtTypesDirectory(e)}}(s,d,p,i,e)||function(e,t,n){if(e.baseUrl&&(i=D(t,e.baseUrl,n))){var r=S.removeFileExtension(i),i=E(i);if(e.paths)for(var a in e.paths)for(var s=0,o=e.paths[a];s<o.length;s++){var c=o[s],l=c.indexOf("*");if(0!==l||1!==c.length)if(-1!==l){var u=c.substr(0,l),l=c.substr(l+1);if(i.length>=u.length+l.length&&S.startsWith(i,u)&&S.endsWith(i,l))return u=i.substr(u.length,i.length-l.length),a.replace("*",u)}else if(c===i||c===r)return a}return i}}(s,d,i)||s.rootDirs&&function(e,t,n){var r=C(d,e,n);if(void 0!==r)return e=void 0!==(t=C(t,e,n))?A(r,t,n):r,S.removeFileExtension(e)}(s.rootDirs,e,i)||S.removeFileExtension(A(d,e,i)),e=(s=a).kind,f=s.sourceFile,_=s.newLineCharacter,m=s.symbolName,g=S.findLast(f.statements,S.isAnyImportSyntax),p=S.stripQuotes(p),h=S.createImportDeclaration(void 0,void 0,function(e){var t=S.createIdentifier(m);switch(e){case 1:return S.createImportClause(t,void 0);case 2:return S.createImportClause(void 0,S.createNamespaceImport(t));case 0:return S.createImportClause(void 0,S.createNamedImports([S.createImportSpecifier(void 0,t)]));default:S.Debug.assertNever(e)}}(e),(e=f,i=S.createLiteral(p),y=S.firstOrUndefined(e.imports),i.singleQuote=!!y&&!S.isStringDoubleQuoted(y,e),i)),y=w.with(s,function(e){g?e.insertNodeAfter(f,g,h,{suffix:_}):e.insertNodeAt(f,S.getSourceFileImportLocation(f),h,{suffix:""+_+_})}),T(S.Diagnostics.Import_0_from_1,[m,p],y,"NewImport",p)))),v}function C(t,e,n){return S.firstDefined(e,function(e){return D(t,e,n)})}function E(e){return e=S.removeFileExtension(e),e=S.endsWith(e,"/index")?e.substr(0,e.length-6):e}function D(e,t,n){e=S.getRelativePathToDirectoryOrUrl(t,e,t,n,!1);return S.isRootedDiskPath(e)||S.startsWith(e,"..")?void 0:e}function A(e,t,n){e=S.getRelativePathToDirectoryOrUrl(t,e,t,n,!1);return S.pathIsRelative(e)?e:"./"+e}function N(e){e=238===e.kind?e.moduleSpecifier:248===e.moduleReference.kind?e.moduleReference.expression:void 0;return e&&S.isStringLiteral(e)?e.text:void 0}function g(e,t){e=e.declarations;return S.some(e,function(e){return!!(S.getMeaningFromDeclaration(e)&t)})}function h(e,t,n){for(var r=0,i=e.getAmbientModules();r<i.length;r++)n(i[r]);for(var a=0,s=t;a<s.length;a++){var o=s[a];S.isExternalOrCommonJsModule(o)&&n(o.symbol)}}var t,n,w,y;t=S.codefix||(S.codefix={}),w=S.textChanges.ChangeTracker,t.registerCodeFix({errorCodes:[S.Diagnostics.Cannot_find_name_0.code,S.Diagnostics.Cannot_find_name_0_Did_you_mean_1.code,S.Diagnostics.Cannot_find_namespace_0.code,S.Diagnostics._0_refers_to_a_UMD_global_but_the_current_file_is_a_module_Consider_adding_an_import_instead.code],getCodeActions:function(e){p=!!(t=e).host.useCaseSensitiveFileNames&&t.host.useCaseSensitiveFileNames(),_=t.program.getTypeChecker(),d=S.getTokenAtPosition(t.sourceFile,t.span.start,!1);var r,i,a,s,o,c,l,t,n,u,d,p,f,_={host:t.host,newLineCharacter:t.newLineCharacter,rulesProvider:t.rulesProvider,sourceFile:t.sourceFile,checker:_,compilerOptions:t.program.getCompilerOptions(),cachedImportDeclarations:[],getCanonicalFileName:S.createGetCanonicalFileName(p),symbolName:d.getText(),symbolToken:d};return e.errorCode===S.Diagnostics._0_refers_to_a_UMD_global_but_the_current_file_is_a_module_Consider_adding_an_import_instead.code?(p=(t=_).symbolToken,2097152&(f=(d=t.checker).getSymbolAtLocation(p)).flags?(n=d.getAliasedSymbol(f),u=t.symbolName):S.isJsxOpeningLikeElement(p.parent)&&p.parent.tagName===p?u=(n=d.getAliasedSymbol(d.resolveName(d.getJsxNamespace(),p.parent.tagName,107455))).name:S.Debug.fail("Either the symbol or the JSX namespace should be a UMD global if we got here"),m(n,__assign({},t,{symbolName:u,kind:2}))):(r=_,f=e.program.getSourceFiles(),i=e.cancellationToken,a=r.sourceFile,s=r.checker,o=r.symbolName,d=r.symbolToken,S.Debug.assert("default"!==o),c=new y,l=S.getMeaningFromLocation(d),h(s,f,function(e){var t,n;e!==a.symbol&&(i.throwIfCancellationRequested(),(n=s.tryGetMemberInModuleExports("default",e))&&(n=S.getLocalSymbolForExportDefault(n))&&n.escapedName===o&&g(n,l)&&(t=S.getUniqueSymbolId(n,s),c.addActions(t,m(e,__assign({},r,{kind:1})))),n=s.tryGetMemberInModuleExportsAndProperties(o,e))&&g(n,l)&&(t=S.getUniqueSymbolId(n,s),c.addActions(t,m(e,__assign({},r,{kind:0}))))}),c.getAllActions())}}),e.prototype.addAction=function(e,t){var n=this.symbolIdToActionMap[e];if(n)if("CodeChange"!==t.kind){for(var r=[],i=0,a=this.symbolIdToActionMap[e];i<a.length;i++){var s=a[i];if("CodeChange"!==s.kind)switch(this.compareModuleSpecifiers(s.moduleSpecifier,t.moduleSpecifier)){case 0:if("NewImport"===t.kind)return;case 1:r.push(s);break;case 2:continue}else r.push(s)}r.push(t),this.symbolIdToActionMap[e]=r}else n.push(t);else this.symbolIdToActionMap[e]=[t]},e.prototype.addActions=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];this.addAction(e,i)}},e.prototype.getAllActions=function(){var e,t=[];for(e in this.symbolIdToActionMap)t=S.concatenate(t,this.symbolIdToActionMap[e]);return t},e.prototype.compareModuleSpecifiers=function(e,t){var n;return e===t?1:0===t.indexOf(e)?0:0===e.indexOf(t)?2:S.isExternalModuleNameRelative(e)&&S.isExternalModuleNameRelative(t)?(n=new RegExp(S.directorySeparator,"g"),(e=(e.match(n)||[]).length)<(t=(t.match(n)||[]).length)?0:e===t?1:2):1},y=e,(n=t.ImportKind||(t.ImportKind={}))[n.Named=0]="Named",n[n.Default=1]="Default",n[n.Namespace=2]="Namespace",t.getCodeActionForImport=m,t.forEachExternalModule=h}(ts=ts||{}),function(a){var t;(a.codefix||(a.codefix={})).registerCodeFix({errorCodes:(t=a.Diagnostics,Object.keys(t).filter(function(e){return t[e]&&t[e].category===a.DiagnosticCategory.Error}).map(function(e){return t[e].code})),getCodeActions:function(e){var t=e.sourceFile,n=e.program,r=e.newLineCharacter,e=e.span;if(a.isInJavaScriptFile(t)&&a.isCheckJsEnabledForFile(t,n.getCompilerOptions()))return[{description:a.getLocaleSpecificMessage(a.Diagnostics.Ignore_this_error_message),changes:[{fileName:t.fileName,textChanges:[function(e,t,n){var r=a.getLineAndCharacterOfPosition(e,t).line,r=a.getStartPositionOfLine(r,e),r=a.getFirstNonSpaceCharacterPosition(e.text,r);if(!a.isInComment(e,r)&&!a.isInString(e,r)&&!a.isInTemplateString(e,r)){var i=a.getTouchingToken(e,r,!1),i=a.getLeadingCommentRangesOfNode(i,e);if(!i||!i.length||i[0].pos>=r)return{span:{start:r,length:0},newText:"// @ts-ignore"+n}}return{span:{start:t,length:0},newText:(t===r?"":n)+"// @ts-ignore"+n}}(t,e.start,r)]}]},{description:a.getLocaleSpecificMessage(a.Diagnostics.Disable_checking_for_this_file),changes:[{fileName:t.fileName,textChanges:[{span:{start:t.checkJsDirective?t.checkJsDirective.pos:0,length:t.checkJsDirective?t.checkJsDirective.end-t.checkJsDirective.pos:0},newText:"// @ts-nocheck"+r}]}]}]}})}(ts=ts||{}),function(g){function h(e,t,n,r){for(var i=[],a=0;a<e;a++){var s=g.createParameter(void 0,void 0,void 0,t&&t[a]||"arg"+a,void 0!==n&&n<=a?g.createToken(55):void 0,r?g.createKeywordTypeNode(119):void 0,void 0);i.push(s)}return i}function y(e,t,n,r,i,a){return g.createMethod(void 0,e,void 0,t,n?g.createToken(55):void 0,r,i,a,v())}function v(){return g.createBlock([g.createThrow(g.createNew(g.createIdentifier("Error"),void 0,[g.createLiteral("Method not implemented.")]))],!0)}var e;(e=g.codefix||(g.codefix={})).newNodesToChanges=function(e,t,n){for(var r=n.sourceFile,i=g.textChanges.ChangeTracker.fromContext(n),a=0,s=e;a<s.length;a++){var o=s[a];i.insertNodeAfter(r,t,o,{suffix:n.newLineCharacter})}e=i.getChanges();return g.some(e)?(g.Debug.assert(1===e.length),[{fileName:e[0].fileName,textChanges:[{span:e[0].textChanges[0].span,newText:e[0].textChanges.reduce(function(e,t){return e+t.newText},"")}]}]):e},e.createMissingMemberNodes=function(e,t,n){for(var r=e.symbol.members,i=[],a=0,s=t.filter(function(e){return!r.has(e.escapedName)});a<s.length;a++){var o=function(e,t,r){var n=e.getDeclarations();if(n&&n.length){var i=n[0],a=g.getSynthesizedClone(g.getNameOfDeclaration(i)),s=4&(s=g.getModifierFlags(i))?g.createToken(114):16&s?g.createToken(113):void 0,o=s?g.createNodeArray([s]):void 0,c=r.getWidenedType(r.getTypeOfSymbolAtLocation(e,t)),l=!!(16777216&e.flags);switch(i.kind){case 153:case 154:case 148:case 149:var u=r.typeToTypeNode(c,t);return g.createProperty(void 0,o,a,l?g.createToken(55):void 0,u,void 0);case 150:case 151:var d=r.getSignaturesOfType(c,0);if(!g.some(d))return;if(1===n.length)return g.Debug.assert(1===d.length),m(d[0],t,v());for(var p,f=[],_=0;_<d.length;_++)(p=m(d[_],t))&&f.push(p);return n.length>d.length?(p=m(r.getSignatureFromDeclaration(n[n.length-1]),t,v()))&&f.push(p):(g.Debug.assert(n.length===d.length),u=function(e,t,n,r){for(var i=e[0],a=e[0].minArgumentCount,s=!1,o=0;o<e.length;o++){var c=e[o],a=Math.min(c.minArgumentCount,a);c.hasRestParameter&&(s=!0),c.parameters.length>=i.parameters.length&&(!c.hasRestParameter||i.hasRestParameter)&&(i=c)}var l,u=i.parameters.length-(i.hasRestParameter?1:0),d=i.parameters.map(function(e){return e.name}),p=h(u,d,a,!0);return s&&(l=g.createArrayTypeNode(g.createKeywordTypeNode(119)),d=g.createParameter(void 0,void 0,g.createToken(24),d[u]||"rest",a<=u?g.createToken(55):void 0,l,void 0),p.push(d)),y(r,t,n,void 0,p,void 0)}(d,a,l,o),f.push(u)),f;default:return}}function m(e,t,n){e=r.signatureToSignatureDeclaration(e,151,t,g.NodeBuilderFlags.SuppressAnyReturnType);return e&&(e.decorators=void 0,e.modifiers=o,e.name=a,e.questionToken=l?g.createToken(55):void 0,e.body=n),e}}(s[a],e,n);o&&(Array.isArray(o)?i=i.concat(o):i.push(o))}return i},e.createMethodFromCallExpression=function(e,t,n,r){var i,a=h(e.arguments.length,void 0,void 0,n);if(n)for(var s=g.length(e.typeArguments),o=0;o<s;o++){var c=s<8?String.fromCharCode(84+o):"T"+o,c=g.createTypeParameterDeclaration(c,void 0,void 0);(i=i||[]).push(c)}return g.createMethod(void 0,r?[g.createToken(115)]:void 0,void 0,t,void 0,i,a,n?g.createKeywordTypeNode(119):void 0,v())},e.createStubbedMethod=y}(ts=ts||{}),function(x){function k(e,t,n){for(;x.isRightSideOfQualifiedNameOrPropertyAccess(e);)e=e.parent;switch(e.parent.kind){case 193:n.isNumber=!0;break;case 192:var r=e.parent,i=n;switch(r.operator){case 43:case 44:case 38:case 52:i.isNumber=!0;break;case 37:i.isNumberOrString=!0}break;case 194:var a=e,s=e.parent,o=t,c=n;switch(s.operatorToken.kind){case 40:case 39:case 41:case 42:case 45:case 46:case 47:case 48:case 49:case 50:case 60:case 62:case 61:case 63:case 64:case 68:case 69:case 70:case 65:case 67:case 66:case 38:case 27:case 30:case 29:case 31:var l=o.getTypeAtLocation(s.left===a?s.right:s.left);272&l.flags?T(c,l):c.isNumber=!0;break;case 59:case 37:l=o.getTypeAtLocation(s.left===a?s.right:s.left);272&l.flags?T(c,l):84&l.flags?c.isNumber=!0:262178&l.flags?c.isString=!0:c.isNumberOrString=!0;break;case 58:case 32:case 34:case 35:case 33:T(c,o.getTypeAtLocation(s.left===a?s.right:s.left));break;case 92:a===s.left&&(c.isString=!0);break;case 54:a!==s.left||226!==a.parent.parent.kind&&!x.isAssignmentExpression(a.parent.parent,!0)||T(c,o.getTypeAtLocation(s.right))}break;case 257:case 258:r=e.parent,T(n,t.getTypeAtLocation(r.parent.parent.expression));break;case 181:case 182:if(e.parent.expression===e){var u=e.parent;var d=t;var p=n;var f={argumentTypes:[],returnType:{}};if(u.arguments)for(var _=0,m=u.arguments;_<m.length;_++){var g=m[_];f.argumentTypes.push(d.getTypeAtLocation(g))}k(u,d,f.returnType),(181===u.kind?p.callContexts||(p.callContexts=[]):p.constructContexts||(p.constructContexts=[])).push(f)}else S(e,t,n);break;case 179:u=e.parent,p=t,y=n,v=x.escapeLeadingUnderscores(u.name.text),y.properties||(y.properties=x.createUnderscoreEscapedMap()),b=y.properties.get(v)||{},k(u,p,b),y.properties.set(v,b);break;case 180:y=e.parent,v=t,b=n,e===y.argumentExpression?b.isNumberOrString=!0:(h=v.getTypeAtLocation(y),k(y,v,y={}),84&h.flags?b.numberIndexContext=y:b.stringIndexContext=y);break;default:S(e,t,n)}var h,y,v,b}function S(e,t,n){x.isPartOfExpression(e)&&T(n,t.getContextualType(e))}function f(e,r){if(e.isNumberOrString&&!e.isNumber&&!e.isString)return r.getUnionType([r.getNumberType(),r.getStringType()]);if(e.isNumber)return r.getNumberType();if(e.isString)return r.getStringType();if(e.candidateTypes)return r.getWidenedType(r.getUnionType(x.map(e.candidateTypes,function(e){return r.getBaseTypeOfLiteralType(e)}),!0));if(e.properties&&g(e.properties.get("then")))return a=_(0,e.properties.get("then").callContexts,!1,r).getCallSignatures().map(function(e){return e.getReturnType()}),r.createPromiseType(a.length?r.getUnionType(a,!0):r.getAnyType());if(e.properties&&g(e.properties.get("push")))return r.createArrayType(_(0,e.properties.get("push").callContexts,!1,r));if(e.properties||e.callContexts||e.constructContexts||e.numberIndexContext||e.stringIndexContext){var i=x.createUnderscoreEscapedMap(),t=[],n=[],a=void 0,s=void 0;if(e.properties&&e.properties.forEach(function(e,t){var n=r.createSymbol(4,t);n.type=f(e,r)||r.getAnyType(),i.set(t,n)}),e.callContexts)for(var o=0,c=e.callContexts;o<c.length;o++){var l=c[o];t.push(m(l,r))}if(e.constructContexts)for(var u=0,d=e.constructContexts;u<d.length;u++){var p=d[u];n.push(m(p,r))}return e.numberIndexContext&&(s=r.createIndexInfo(f(e.numberIndexContext,r),!1)),e.stringIndexContext&&(a=r.createIndexInfo(f(e.stringIndexContext,r),!1)),r.createAnonymousType(void 0,i,t,n,a,s)}}function _(e,t,n,r){var i=[];if(t)for(var a=0,s=t;a<s.length;a++){var o=s[a];o.argumentTypes.length>e&&(n?i=x.concatenate(i,x.map(o.argumentTypes.slice(e),function(e){return r.getBaseTypeOfLiteralType(e)})):i.push(r.getBaseTypeOfLiteralType(o.argumentTypes[e])))}if(i.length)return t=r.getWidenedType(r.getUnionType(i,!0)),n?r.createArrayType(t):t}function m(e,t){for(var n=[],r=0;r<e.argumentTypes.length;r++){var i=t.createSymbol(1,x.escapeLeadingUnderscores("arg"+r));i.type=t.getWidenedType(t.getBaseTypeOfLiteralType(e.argumentTypes[r])),n.push(i)}var a=f(e.returnType,t)||t.getVoidType();return t.createSignature(void 0,void 0,void 0,n,a,void 0,e.argumentTypes.length,!1,!1)}function T(e,t){!t||1&t.flags||8192&t.flags||(e.candidateTypes||(e.candidateTypes=[])).push(t)}function g(e){return e&&e.callContexts}var C,e;(x.codefix||(x.codefix={})).registerCodeFix({errorCodes:[x.Diagnostics.Variable_0_implicitly_has_type_1_in_some_locations_where_its_type_cannot_be_determined.code,x.Diagnostics.Variable_0_implicitly_has_an_1_type.code,x.Diagnostics.Parameter_0_implicitly_has_an_1_type.code,x.Diagnostics.Rest_parameter_0_implicitly_has_an_any_type.code,x.Diagnostics.Property_0_implicitly_has_type_any_because_its_get_accessor_lacks_a_return_type_annotation.code,x.Diagnostics._0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type.code,x.Diagnostics.Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_parameter_type_annotation.code,x.Diagnostics.Member_0_implicitly_has_an_1_type.code],getCodeActions:function(e){var a,r=e.sourceFile,t=e.program,n=e.span.start,i=e.errorCode,s=e.cancellationToken,o=x.getTokenAtPosition(r,n,!1);if(!x.isInJavaScriptFile(o)){switch(o.kind){case 71:case 24:case 114:case 112:case 113:case 131:break;default:return}var c,l=x.getContainingFunction(o),u=t.getTypeChecker();switch(i){case x.Diagnostics.Member_0_implicitly_has_an_1_type.code:case x.Diagnostics.Variable_0_implicitly_has_type_1_in_some_locations_where_its_type_cannot_be_determined.code:return _(o.parent);case x.Diagnostics.Variable_0_implicitly_has_an_1_type.code:return(c=u.getSymbolAtLocation(o))&&c.valueDeclaration&&_(c.valueDeclaration);case x.Diagnostics.Parameter_0_implicitly_has_an_1_type.code:if(x.isSetAccessor(l))return m(l);case x.Diagnostics.Rest_parameter_0_implicitly_has_an_any_type.code:return c=o.parent,x.isIdentifier(c.name)&&function(e){switch(e.kind){case 228:case 151:case 152:return 1;case 186:return e.name}}(l)&&(d=function(e){switch(e.kind){case 152:case 186:case 228:case 151:var t=152===e.kind?b(e,r,123):e.name;if(t)return C.inferTypeForParametersFromReferences(h(t),e,u,s)}}(l)||x.map(l.parameters,function(e){return x.isIdentifier(e.name)&&y(e.name)}))&&(d=x.zipWith(l.parameters,d,function(e,t){return t&&!e.type&&!e.initializer&&(t=v(t,l))?{span:{start:e.end,length:0},newText:": "+t}:void 0}).filter(function(e){return!!e})).length?[{description:x.formatStringFromArgs(x.getLocaleSpecificMessage(x.Diagnostics.Infer_parameter_types_from_usage),[c.name.getText()]),changes:[{fileName:r.fileName,textChanges:d}]}]:void 0;case x.Diagnostics.Property_0_implicitly_has_type_any_because_its_get_accessor_lacks_a_return_type_annotation.code:case x.Diagnostics._0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type.code:if(x.isGetAccessor(l)){var d=l;if(x.isIdentifier(d.name)){var p,f=y(d.name),f=f&&v(f,l);if(f)return p=b(d,r,20),g(d.name.getText(),p.getEnd(),": "+f)}return}else return void 0;case x.Diagnostics.Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_parameter_type_annotation.code:return x.isSetAccessor(l)?m(l):void 0}}function _(e){if(x.isIdentifier(e.name)){var t=y(e.name),t=t&&v(t,e);if(t)return g(e.name.getText(),e.name.getEnd(),": "+t)}}function m(e){var t=e.parameters[0];if(t&&x.isIdentifier(e.name)&&x.isIdentifier(t.name)){var n=y(e.name)||y(t.name),n=n&&v(n,l);if(n)return g(e.name.getText(),t.name.getEnd(),": "+n)}}function g(e,t,n){return[{description:x.formatStringFromArgs(x.getLocaleSpecificMessage(x.Diagnostics.Infer_type_of_0_from_usage),[e]),changes:[{fileName:r.fileName,textChanges:[{span:{start:t,length:0},newText:n}]}]}]}function h(e){e=x.FindAllReferences.findReferencedSymbols(t,s,t.getSourceFiles(),e.getSourceFile(),e.getStart());return x.Debug.assert(!!e,"Found no references!"),x.Debug.assert(1===e.length,"Found more references than expected"),x.map(e[0].references,function(e){return x.getTokenAtPosition(t.getSourceFile(e.fileName),e.textSpan.start,!1)})}function y(e){return C.inferTypeFromReferences(h(e),u,s)}function v(e,t){a||(r=!(n=""),a={string:function(){return r?n:void 0},writeKeyword:i=function(e){return n+=e},writeOperator:i,writePunctuation:i,writeSpace:i,writeStringLiteral:i,writeParameter:i,writeProperty:i,writeSymbol:i,writeLine:function(){return n+=" "},increaseIndent:x.noop,decreaseIndent:x.noop,clear:function(){r=!(n="")},trackSymbol:function(e,t,n){0!==u.isSymbolAccessible(e,t,n,!1).accessibility&&(r=!1)},reportInaccessibleThisError:function(){r=!1},reportPrivateInBaseOfClassExpression:function(){r=!1}}),a.clear();var n,r,i=a;return u.getSymbolDisplayBuilder().buildTypeDisplay(e,i,t),i.string()}function b(e,t,n){for(var r=0,i=e.getChildren(t);r<i.length;r++){var a=i[r];if(a.kind===n)return a}}}}),(e=C=C||{}).inferTypeFromReferences=function(e,t,n){for(var r={},i=0,a=e;i<a.length;i++){var s=a[i];n.throwIfCancellationRequested(),k(s,t,r)}return f(r,t)},e.inferTypeForParametersFromReferences=function(e,t,n,r){if(t.parameters){for(var i={},a=0,s=e;a<s.length;a++){var o=s[a];r.throwIfCancellationRequested(),k(o,n,i)}var c=152===t.kind?i.constructContexts:i.callContexts;if(c){for(var l=[],u=0;u<t.parameters.length;u++){for(var d,p=[],f=x.isRestParameter(t.parameters[u]),_=0,m=c;_<m.length;_++){var g=m[_];g.argumentTypes.length>u&&(f?p=x.concatenate(p,x.map(g.argumentTypes.slice(u),function(e){return n.getBaseTypeOfLiteralType(e)})):p.push(n.getBaseTypeOfLiteralType(g.argumentTypes[u])))}p.length&&(d=n.getWidenedType(n.getUnionType(p,!0)),l[u]=f?n.createArrayType(d):d)}return l}}}}(ts=ts||{}),function(l){function t(e){return!!e&&(l.isFunctionLikeDeclaration(e)?e.parameters.some(t)||!e.type&&!!l.getJSDocReturnType(e):!e.type&&!!l.getJSDocType(e))}function s(e){return l.isFunctionLikeDeclaration(e)||226===e.kind||146===e.kind||148===e.kind||149===e.kind}function u(e){if(void 0!==e)switch(e.kind){case 268:case 269:return l.createTypeReferenceNode("any",l.emptyArray);case 272:return l.createUnionTypeNode([l.visitNode(e.type,u),l.createTypeReferenceNode("undefined",l.emptyArray)]);case 271:return u(e.type);case 270:return l.createUnionTypeNode([l.visitNode(e.type,u),l.createTypeReferenceNode("null",l.emptyArray)]);case 274:return l.createArrayTypeNode(l.visitNode(e.type,u));case 273:return c=(o=e).parameters&&o.parameters.map(u),l.createFunctionTypeNode(l.emptyArray,c,o.type);case 146:return o=(c=e).parent.parameters.indexOf(c),n=274===c.type.kind&&o===c.parent.parameters.length-1,o=c.name||(n?"rest":"arg"+o),n=n?l.createToken(24):c.dotDotDotToken,l.createParameter(c.decorators,c.modifiers,n,o,c.questionToken,l.visitNode(c.type,u),c.initializer);case 159:var t,n=e,r=n.typeName,i=n.typeArguments;if(l.isIdentifier(n.typeName)){if(l.isJSDocIndexSignature(n))return s=n,t=l.createParameter(void 0,void 0,void 0,133===s.typeArguments[0].kind?"n":"s",void 0,l.createTypeReferenceNode(133===s.typeArguments[0].kind?"number":"string",[]),void 0),t=l.createTypeLiteralNode([l.createIndexSignature(void 0,void 0,[t],s.typeArguments[1])]),l.setEmitFlags(t,1),t;var a=n.typeName.text;switch(n.typeName.text){case"String":case"Boolean":case"Object":case"Number":a=a.toLowerCase();break;case"array":case"date":case"promise":a=a[0].toUpperCase()+a.slice(1)}r=l.createIdentifier(a),i="Array"!==a&&"Promise"!==a||n.typeArguments?l.visitNodes(n.typeArguments,u):l.createNodeArray([l.createTypeReferenceNode("any",l.emptyArray)])}return l.createTypeReferenceNode(r,i);default:var s=l.visitEachChild(e,u,void 0);return l.setEmitFlags(s,1),s}var n,o,c}var o,n;(o=l.refactor||(l.refactor={})).annotateWithTypeFromJSDoc||(o.annotateWithTypeFromJSDoc={}),n={name:"Annotate with type from JSDoc",description:l.Diagnostics.Annotate_with_type_from_JSDoc.message,getEditsForAction:function(e,t){var n,r,i,a;return"annotate"!==t?l.Debug.fail("actionName !== action: annotate !== "+t):(t=l.getTokenAtPosition(e.file,e.startPosition,!1),(t=l.findAncestor(t,s))&&!t.type?(r=l.getJSDocType(t),l.isFunctionLikeDeclaration(t)&&(l.getJSDocReturnType(t)||t.parameters.some(function(e){return!!l.getJSDocType(e)}))||r&&146===t.kind?(n=(t=e).file,i=l.getTokenAtPosition(n,t.startPosition,!1),i=l.findAncestor(i,l.isFunctionLikeDeclaration),t=l.textChanges.ChangeTracker.fromContext(t),a=function(e){var t=l.getEffectiveTypeParameterDeclarations(e,!0),n=e.parameters.map(function(e){return l.createParameter(e.decorators,e.modifiers,e.dotDotDotToken,e.name,e.questionToken,u(l.getEffectiveTypeAnnotationNode(e,!0)),e.initializer)}),r=u(l.getEffectiveReturnTypeNode(e,!0));switch(e.kind){case 228:return l.createFunctionDeclaration(e.decorators,e.modifiers,e.asteriskToken,e.name,t,n,r,e.body);case 152:return l.createConstructor(e.decorators,e.modifiers,n,e.body);case 186:return l.createFunctionExpression(e.modifiers,e.asteriskToken,e.name,t,n,r,e.body);case 187:return l.createArrowFunction(e.modifiers,t,n,r,e.equalsGreaterThanToken,e.body);case 151:return l.createMethod(e.decorators,e.modifiers,e.asteriskToken,e.name,e.questionToken,t,n,r,e.body);case 153:return l.createGetAccessor(e.decorators,e.modifiers,e.name,e.parameters,r,e.body);case 154:return l.createSetAccessor(e.decorators,e.modifiers,e.name,n,e.body);default:return l.Debug.assertNever(e,"Unexpected SyntaxKind: "+e.kind)}}(i),l.suppressLeadingAndTrailingTrivia(a),t.replaceRange(n,{pos:i.getStart(),end:i.end},a),{edits:t.getChanges(),renameFilename:void 0,renameLocation:void 0}):r?(i=(n=e).file,a=l.getTokenAtPosition(i,n.startPosition,!1),a=l.findAncestor(a,s),t=l.getJSDocType(a),a&&t&&!a.type?(n=l.textChanges.ChangeTracker.fromContext(n),r=function(e,t){switch(e.kind){case 226:return l.createVariableDeclaration(e.name,t,e.initializer);case 148:return l.createPropertySignature(e.modifiers,e.name,e.questionToken,t,e.initializer);case 149:return l.createProperty(e.decorators,e.modifiers,e.name,e.questionToken,t,e.initializer);default:return l.Debug.fail("Unexpected SyntaxKind: "+e.kind)}}(a,u(t)),l.suppressLeadingAndTrailingTrivia(r),n.replaceRange(i,{pos:a.getStart(),end:a.end},r),{edits:n.getChanges(),renameFilename:void 0,renameLocation:void 0}):l.Debug.fail("!decl || !jsdocType || decl.type: !"+a+" || !"+t+" || "+a.type)):void l.Debug.assert(!!o,"No applicable refactor found.")):void 0)},getAvailableActions:function(e){if(!l.isInJavaScriptFile(e.file))return e=l.getTokenAtPosition(e.file,e.startPosition,!1),t(l.findAncestor(e,s))?[{name:n.name,description:n.description,actions:[{description:n.description,name:"annotate"}]}]:void 0}},o.registerRefactor(n)}(ts=ts||{}),function(v){function b(e){var t=e.startPosition,n=e.file,e=e.program.getTypeChecker(),n=v.getTokenAtPosition(n,t,!1);return e.getSymbolAtLocation(n)}var e,t;(e=v.refactor||(v.refactor={})).convertFunctionToES6Class||(e.convertFunctionToES6Class={}),t={name:"Convert to ES2015 class",description:v.Diagnostics.Convert_function_to_an_ES2015_class.message,getEditsForAction:function(e,t){if("convert"===t){var u=e.file,n=b(e),t=e.rulesProvider.getFormatOptions().newLineCharacter,r=[],i=[];if(19&n.flags){var a,s,o,c,l,d=n.valueDeclaration,p=v.textChanges.ChangeTracker.fromContext(e);switch(d.kind){case 228:m(a=d),o=d,c=g(n),o.body&&c.unshift(v.createConstructor(void 0,void 0,o.parameters,o.body)),l=y(o,84),s=v.createClassDeclaration(void 0,l,o.name,void 0,void 0,c);break;case 226:a=d.parent.parent,1===d.parent.declarations.length?m(a):m(d,!0),s=function(e){var t,n=e.initializer;if(n&&186===n.kind&&71===e.name.kind)return t=g(n.symbol),n.body&&t.unshift(v.createConstructor(void 0,void 0,n.parameters,n.body)),n=y(a,84),v.createClassDeclaration(void 0,n,e.name,void 0,void 0,t)}(d)}if(s){p.insertNodeAfter(u,a,s,{suffix:t});for(var f=0,_=i;f<_.length;f++)(0,_[f])();return{edits:p.getChanges(),renameFilename:void 0,renameLocation:void 0}}}}function m(t,e){void 0===e&&(e=!1),r.some(function(e){return v.isNodeDescendantOf(t,e)})||(r.push(t),i.push(e?function(){return p.deleteNodeInList(u,t)}:function(){return p.deleteNode(u,t)}))}function g(e){var t=[];return e.members&&e.members.forEach(function(e){e=n(e,void 0);e&&t.push(e)}),e.exports&&e.exports.forEach(function(e){e=n(e,[v.createToken(115)]);e&&t.push(e)}),t;function n(e,t){if(4&e.flags){var n=e.valueDeclaration,r=n.parent,i=r.right;if(v.isFunctionLike(i)){if(m(r.parent&&210===r.parent.kind?r.parent:r),!r.right)return v.createProperty([],t,e.name,void 0,void 0,void 0);switch(r.right.kind){case 186:var a=r.right,s=v.concatenate(t,y(a,120));return h(r,a=v.createMethod(void 0,s,void 0,n.name,void 0,void 0,a.parameters,void 0,a.body)),a;case 187:var o=r.right,c=o.body,l=void 0;return l=207===c.kind?c:v.createBlock([v.createReturn(c)]),s=v.concatenate(t,y(o,120)),h(r,a=v.createMethod(void 0,s,void 0,n.name,void 0,void 0,o.parameters,void 0,l)),a;default:return v.isSourceFileJavaScript(u)?void 0:(c=v.createProperty(void 0,t,n.name,void 0,void 0,r.right),h(r.parent,c),c)}}}}}function h(e,i){v.forEachLeadingCommentRange(u.text,e.pos,function(e,t,n,r){3===n?(e+=2,t-=2):e+=2,v.addSyntheticLeadingComment(i,n,u.text.slice(e,t),r)})}function y(e,t){return v.filter(e.modifiers,function(e){return e.kind===t})}},getAvailableActions:function(e){return v.isInJavaScriptFile(e.file)&&(e=b(e))&&16&(e=v.isDeclarationOfFunctionOrClassExpression(e)?e.valueDeclaration.initializer.symbol:e).flags&&e.members&&0<e.members.size?[{name:t.name,description:t.description,actions:[{description:t.description,name:"convert"}]}]:void 0}},e.registerRefactor(t)}(ts=ts||{}),function(W){function e(e){var s,o,t=Q(e.file,{start:e.startPosition,length:W.getRefactorContextLength(e)}).targetRange;if(void 0!==t){t=X(t,e),e=t.scopes,t=t.readsAndWrites,s=t.functionErrorsPerScope,o=t.constantErrorsPerScope;t=e.map(function(e,t){r=e;var n,r=W.isFunctionLikeDeclaration(r)?"inner function":W.isClassLike(r)?"method":"function",i=W.isClassLike(e)?"readonly field":"constant",a=W.isFunctionLikeDeclaration(e)?function(e){switch(e.kind){case 152:return"constructor";case 186:return e.name?"function expression '"+e.name.text+"'":"anonymous function expression";case 228:return"function '"+e.name.text+"'";case 187:return"arrow function";case 151:return"method '"+e.name.getText();case 153:return"'get "+e.name.getText()+"'";case 154:return"'set "+e.name.getText()+"'";default:W.Debug.assertNever(e)}}(e):W.isClassLike(e)?229===e.kind?"class '"+e.name.text+"'":e.name?"class expression '"+e.name.text+"'":"anonymous class expression":234===(a=e).kind?"namespace '"+a.parent.name.getText()+"'":a.externalModuleIndicator?0:1,r=1===a?(n=W.formatStringFromArgs(W.getLocaleSpecificMessage(W.Diagnostics.Extract_to_0_in_1_scope),[r,"global"]),W.formatStringFromArgs(W.getLocaleSpecificMessage(W.Diagnostics.Extract_to_0_in_1_scope),[i,"global"])):0===a?(n=W.formatStringFromArgs(W.getLocaleSpecificMessage(W.Diagnostics.Extract_to_0_in_1_scope),[r,"module"]),W.formatStringFromArgs(W.getLocaleSpecificMessage(W.Diagnostics.Extract_to_0_in_1_scope),[i,"module"])):(n=W.formatStringFromArgs(W.getLocaleSpecificMessage(W.Diagnostics.Extract_to_0_in_1),[r,a]),W.formatStringFromArgs(W.getLocaleSpecificMessage(W.Diagnostics.Extract_to_0_in_1),[i,a]));return 0!==t||W.isClassLike(e)||(r=W.formatStringFromArgs(W.getLocaleSpecificMessage(W.Diagnostics.Extract_to_0_in_enclosing_scope),[i])),{functionExtraction:{description:n,errors:s[t]},constantExtraction:{description:r,errors:o[t]}}});if(void 0!==t){for(var n=[],r=W.createMap(),i=[],a=W.createMap(),c=0,l=0,u=t;l<u.length;l++){var d,p=u[l],f=p.functionExtraction,p=p.constantExtraction;0===f.errors.length&&(d=f.description,r.has(d)||(r.set(d,!0),n.push({description:d,name:"function_scope_"+c}))),0===p.errors.length&&(d=p.description,a.has(d)||(a.set(d,!0),i.push({description:d,name:"constant_scope_"+c}))),c++}e=[];return n.length&&e.push({name:_.name,description:W.getLocaleSpecificMessage(W.Diagnostics.Extract_function),actions:n}),i.length&&e.push({name:_.name,description:W.getLocaleSpecificMessage(W.Diagnostics.Extract_constant),actions:i}),e.length?e:void 0}}}function t(e,R){var M=Q(e.file,{start:e.startPosition,length:W.getRefactorContextLength(e)}).targetRange,t=/^function_scope_(\d+)$/.exec(R);if(t){var n=+t[1];W.Debug.assert(isFinite(n),"Expected to parse a finite number from the function scope index");var i,t=n,r=(c=X(p=M,f=e)).scopes,a=(c=c.readsAndWrites).target,s=c.usagesPerScope,o=c.functionErrorsPerScope,c=c.exposedVariableDeclarations,l=(W.Debug.assert(!o[t].length,"The extraction went missing? How?"),f.cancellationToken.throwIfCancellationRequested(),a),u=r[t],o=s[t],a=c,r=p,s=f,t=o.usages,c=o.typeParameterUsages,o=o.substitutions,d=s.program.getTypeChecker(),p=u.getSourceFile(),f=Z(W.isClassLike(u)?"newMethod":"newFunction",p.text),_=W.isInJavaScriptFile(u),m=W.createIdentifier(f),g=void 0,h=[],U=[];t.forEach(function(e,t){var n=void 0,r=(_||(r=d.getTypeOfSymbolAtLocation(e.symbol,e.node),r=d.getBaseTypeOfLiteralType(r),n=d.typeToTypeNode(r,l,W.NodeBuilderFlags.NoTruncation)),W.createParameter(void 0,void 0,void 0,t,void 0,n));h.push(r),2===e.usage&&(i=i||[]).push(e),U.push(W.createIdentifier(t))}),t=void 0!==(c=0===(t=W.arrayFrom(c.values()).map(function(e){return{type:e,declaration:function(e){var t=void 0,e=e.symbol;if(e&&e.declarations)for(var n=0,r=e.declarations;n<r.length;n++){var i=r[n];(void 0===t||i.pos<t.pos)&&(t=i)}return t}(e)}}).sort(te)).length?void 0:t.map(function(e){return e.declaration}))?c.map(function(e){return W.createTypeReferenceNode(e.name,void 0)}):void 0,W.isExpression(l)&&!_&&(y=d.getContextualType(l),g=d.typeToTypeNode(y,u,W.NodeBuilderFlags.NoTruncation)),y=l,v=a,b=i,x=o,o=!!(r.facts&ae.HasReturn),T=void 0!==b||0<v.length;var y,v,b,x,k,S,T,B,C=(o=W.isBlock(y)&&!T&&0===x.size?{body:W.createBlock(y.statements,!0),returnValueProperty:void 0}:(S=!1,E=W.createNodeArray(W.isBlock(y)?y.statements.slice(0):[W.isStatement(y)?y:W.createReturn(y)]),T||x.size?(C=W.visitNodes(E,function e(t){if(!S&&219===t.kind&&T)return n=ne(v,b),t.expression&&(k=k||"__return",n.unshift(W.createPropertyAssignment(k,W.visitNode(t.expression,e)))),1===n.length?W.createReturn(n[0].name):W.createReturn(W.createObjectLiteral(n));var n=S;S=S||W.isFunctionLikeDeclaration(t)||W.isClassLike(t);var r=x.get(W.getNodeId(t).toString()),r=r?W.getSynthesizedDeepClone(r):W.visitEachChild(t,e,W.nullTransformationContext);return S=n,r}).slice(),T&&!o&&W.isStatement(y)&&(1===(o=ne(v,b)).length?C.push(W.createReturn(o[0].name)):C.push(W.createReturn(W.createObjectLiteral(o)))),{body:W.createBlock(C,!0),returnValueProperty:k}):{body:W.createBlock(E,!0),returnValueProperty:void 0})).body,E=o.returnValueProperty,m=(W.suppressLeadingAndTrailingTrivia(C),o=W.isClassLike(u)?(o=_?[]:[W.createToken(112)],r.facts&ae.InStaticRegion&&o.push(W.createToken(115)),r.facts&ae.IsAsyncFunction&&o.push(W.createToken(120)),W.createMethod(void 0,o.length?o:void 0,r.facts&ae.IsGenerator?W.createToken(39):void 0,m,void 0,c,h,g,C)):W.createFunctionDeclaration(void 0,r.facts&ae.IsAsyncFunction?[W.createToken(120)]:void 0,r.facts&ae.IsGenerator?W.createToken(39):void 0,m,c,h,g,C),W.textChanges.ChangeTracker.fromContext(s)),D=(B=(re(r.range)?W.last(r.range):r.range).end,(c=W.find(function(e){if(W.isFunctionLikeDeclaration(e)){var t=e.body;if(W.isBlock(t))return t.statements}else{if(W.isModuleBlock(e)||W.isSourceFile(e))return e.statements;if(W.isClassLike(e))return e.members;W.assertTypeIsNever(e)}return W.emptyArray}(u),function(e){return e.pos>=B&&W.isFunctionLikeDeclaration(e)&&!W.isConstructorDeclaration(e)}))?m.insertNodeBefore(s.file,c,o,{suffix:s.newLineCharacter+s.newLineCharacter}):m.insertNodeBefore(s.file,u.getLastToken(),o,{prefix:W.isLineBreak(p.text.charCodeAt(u.getLastToken().pos))?s.newLineCharacter:s.newLineCharacter+s.newLineCharacter,suffix:s.newLineCharacter}),[]),c=(c=u,o=r,p=W.createIdentifier(f),W.isClassLike(c)?(o=o.facts&ae.InStaticRegion?W.createIdentifier(c.name.text):W.createThis(),W.createPropertyAccess(o,p)):p),o=W.createCall(c,t,U);if(r.facts&ae.IsGenerator&&(o=W.createYield(W.createToken(39),o)),r.facts&ae.IsAsyncFunction&&(o=W.createAwait(o)),a.length&&!i)if(W.Debug.assert(!E),W.Debug.assert(!(r.facts&ae.HasReturn)),1===a.length){var A=a[0];D.push(W.createVariableStatement(void 0,W.createVariableDeclarationList([W.createVariableDeclaration(W.getSynthesizedDeepClone(A.name),W.getSynthesizedDeepClone(A.type),o)],A.parent.flags)))}else{for(var j=[],K=[],z=a[0].parent.flags,N=!1,w=0,$=a;w<$.length;w++){A=$[w],j.push(W.createBindingElement(void 0,void 0,W.getSynthesizedDeepClone(A.name)));var J=d.typeToTypeNode(d.getBaseTypeOfLiteralType(d.getTypeAtLocation(A)),u,W.NodeBuilderFlags.NoTruncation);K.push(W.createPropertySignature(void 0,A.symbol.name,void 0,J,void 0)),N=N||void 0!==A.type,z&=A.parent.flags}p=N?W.createTypeLiteralNode(K):void 0;p&&W.setEmitFlags(p,1),D.push(W.createVariableStatement(void 0,W.createVariableDeclarationList([W.createVariableDeclaration(W.createObjectBindingPattern(j),p,o)],z)))}else if(a.length||i){if(a.length)for(var q=0,V=a;q<V.length;q++){var I=(A=V[q]).parent.flags;2&I&&(I=-3&I|1),D.push(W.createVariableStatement(void 0,W.createVariableDeclarationList([W.createVariableDeclaration(A.symbol.name,H(A.type))],I)))}E&&D.push(W.createVariableStatement(void 0,W.createVariableDeclarationList([W.createVariableDeclaration(E,H(g))],1)));c=ne(a,i);E&&c.unshift(W.createShorthandPropertyAssignment(E)),1===c.length?(W.Debug.assert(!E),D.push(W.createStatement(W.createAssignment(c[0].name,o))),r.facts&ae.HasReturn&&D.push(W.createReturn())):(D.push(W.createStatement(W.createAssignment(W.createObjectLiteral(c),o))),E&&D.push(W.createReturn(W.createIdentifier(E))))}else r.facts&ae.HasReturn?D.push(W.createReturn(o)):re(r.range)?D.push(W.createStatement(o)):D.push(o);return t=re(r.range)?{pos:W.first(r.range).getStart(),end:W.last(r.range).end}:{pos:r.range.getStart(),end:r.range.end},m.replaceRangeWithNodes(s.file,t,D,{nodeSeparator:s.newLineCharacter}),p=m.getChanges(),{renameFilename:g=(re(r.range)?W.first(r.range):r.range).getSourceFile().fileName,renameLocation:ee(p,g,f,!1),edits:p};function H(e){if(void 0!==e){for(var e=W.getSynthesizedDeepClone(e),t=e;W.isParenthesizedTypeNode(t);)t=t.type;return W.isUnionTypeNode(t)&&W.find(t.types,function(e){return 139===e.kind})?e:W.createUnionTypeNode([e,W.createKeywordTypeNode(139)])}}}var P,G,O,F,L,a=/^constant_scope_(\d+)$/.exec(R);if(a)return n=+a[1],W.Debug.assert(isFinite(n),"Expected to parse a finite number from the constant scope index"),c=n,s=X(o=M,t=e),m=s.scopes,s=s.readsAndWrites,r=s.target,g=s.usagesPerScope,f=s.constantErrorsPerScope,s=s.exposedVariableDeclarations,W.Debug.assert(!f[c].length,"The extraction went missing? How?"),W.Debug.assert(0===s.length,"Extract constant accepted a range containing a variable declaration?"),t.cancellationToken.throwIfCancellationRequested(),f=W.isExpression(r)?r:r.statements[0].expression,P=m[c],s=g[c],r=o.facts,m=t,s=s.substitutions,g=m.program.getTypeChecker(),c=P.getSourceFile(),o=Z(W.isClassLike(P)?"newProperty":"newLocal",c.text),t=W.isInJavaScriptFile(P),g=t?void 0:g.typeToTypeNode(g.getContextualType(f),P,W.NodeBuilderFlags.NoTruncation),p=f,s=(G=s).size?function e(t){var n=G.get(W.getNodeId(t).toString());return n?W.getSynthesizedDeepClone(n):W.visitEachChild(t,e,W.nullTransformationContext)}(p):p,W.suppressLeadingAndTrailingTrivia(s),p=W.textChanges.ChangeTracker.fromContext(m),W.isClassLike(P)?(W.Debug.assert(!t),(t=[]).push(W.createToken(112)),r&ae.InStaticRegion&&t.push(W.createToken(115)),t.push(W.createToken(131)),t=W.createProperty(void 0,t,o,void 0,g,s),O=W.createPropertyAccess(r&ae.InStaticRegion?W.createIdentifier(P.name.getText()):W.createThis(),W.createIdentifier(o)),F=function(e){var t=P.members;W.Debug.assert(0<t.length);for(var n=void 0,r=!0,i=0,a=t;i<a.length;i++){var s=a[i];if(s.pos>e)return n||t[0];if(r&&!W.isPropertyDeclaration(s)){if(void 0!==n)return s;r=!1}n=s}return W.Debug.assert(void 0!==n),n}(f.pos),p.insertNodeBefore(m.file,F,t,{suffix:m.newLineCharacter+m.newLineCharacter}),p.replaceRange(m.file,{pos:f.getStart(),end:f.end},O)):(r=W.createVariableDeclaration(o,g,s),(t=function(e,t){for(var n=void 0;void 0!==e&&e!==t;){if(W.isVariableDeclaration(e)&&e.initializer===n&&W.isVariableDeclarationList(e.parent)&&1<e.parent.declarations.length)return e;e=(n=e).parent}}(f,P))?(p.insertNodeAt(m.file,t.getStart(),r,{suffix:", "}),O=W.createIdentifier(o),p.replaceRange(m.file,{pos:f.getStart(),end:f.end},O)):210===f.parent.kind&&P===W.findAncestor(f,Y)?(L=W.createVariableStatement(void 0,W.createVariableDeclarationList([r],2)),p.replaceRange(m.file,{pos:f.parent.getStart(),end:f.parent.end},L)):(L=W.createVariableStatement(void 0,W.createVariableDeclarationList([r],2)),0===(F=function(e,t){W.Debug.assert(!W.isClassLike(t));for(var n=void 0,r=e;r!==t;r=r.parent)Y(r)&&(n=r);for(r=(n||e).parent;;r=r.parent){if(ie(r)){for(var i=void 0,a=0,s=r.statements;a<s.length;a++){var o=s[a];if(o.pos>e.pos)break;i=o}return W.Debug.assert(void 0!==i),i}if(r===t){W.Debug.fail("Didn't encounter a block-like before encountering scope");break}}}(f,P)).pos?(g=W.getSourceFileImportLocation(c),p.insertNodeAt(m.file,g,L,{prefix:0===g?void 0:m.newLineCharacter,suffix:W.isLineBreak(c.text.charCodeAt(g))?m.newLineCharacter:m.newLineCharacter+m.newLineCharacter})):p.insertNodeBefore(m.file,F,L,{suffix:m.newLineCharacter+m.newLineCharacter}),210===f.parent.kind?p.deleteRange(m.file,{pos:f.parent.getStart(),end:f.parent.end}):(O=W.createIdentifier(o),p.replaceRange(m.file,{pos:f.getStart(),end:f.end},O)))),s=p.getChanges(),{renameFilename:t=f.getSourceFile().fileName,renameLocation:ee(s,t,o,!0),edits:s};W.Debug.fail("Unrecognized action name")}function Q(e,c){var t=c.length;if(0===t)return{errors:[W.createFileDiagnostic(e,c.start,t,L.CannotExtractEmpty)]};var n=f(W.getTokenAtPosition(e,c.start,!1),e,c),r=f(W.findTokenOnLeftOfPosition(e,W.textSpanEnd(c)),e,c),l=[],u=ae.None;if(!n||!r)return{errors:[W.createFileDiagnostic(e,c.start,t,L.CannotExtractRange)]};if(n.parent!==r.parent)return{errors:[W.createFileDiagnostic(e,c.start,t,L.CannotExtractRange)]};if(n!==r){if(!ie(n.parent))return{errors:[W.createFileDiagnostic(e,c.start,t,L.CannotExtractRange)]};for(var i=[],a=0,s=n.parent.statements;a<s.length;a++){var o=s[a];if(o===n||i.length){var d=p(o);if(d)return{errors:d};i.push(o)}if(o===r)break}return{targetRange:{range:i,facts:u,declarations:l}}}e=function(e){if(W.isIdentifier(W.isExpressionStatement(e)?e.expression:e))return[W.createDiagnosticForNode(e,L.CannotExtractIdentifier)]}(n)||p(n);return e?{errors:e}:{targetRange:{range:(t=n,W.isStatement(t)?[t]:W.isPartOfExpression(t)?W.isExpressionStatement(t.parent)?[t.parent]:t:void 0),facts:u,declarations:l}};function p(e){if(0,!(W.isStatement(e)||W.isPartOfExpression(e)&&function(e){if(264!==e.parent.kind){switch(e.kind){case 9:return 238!==e.parent.kind&&242!==e.parent.kind;case 198:case 174:case 176:return;case 71:return 176!==e.parent.kind&&242!==e.parent.kind&&246!==e.parent.kind}return 1}}(e)))return[W.createDiagnosticForNode(e,L.StatementOrExpressionExpected)];if(W.isInAmbientContext(e))return[W.createDiagnosticForNode(e,L.CannotExtractAmbientBlock)];var a,t=W.getContainingClass(e);if(t)for(var n=t,r=e;r!==n;){if(149===r.kind){W.hasModifier(r,32)&&(u|=ae.InStaticRegion);break}if(146===r.kind){152===W.getContainingFunction(r).kind&&(u|=ae.InStaticRegion);break}151===r.kind&&W.hasModifier(r,32)&&(u|=ae.InStaticRegion),r=r.parent}var s,o=4;return function e(t){if(a)return!0;if(W.isDeclaration(t)){var n=226===t.kind?t.parent.parent:t;if(W.hasModifier(n,1))return(a=a||[]).push(W.createDiagnosticForNode(t,L.CannotExtractExportedEntity)),!0;l.push(t.symbol)}switch(t.kind){case 238:return(a=a||[]).push(W.createDiagnosticForNode(t,L.CannotExtractImport)),!0;case 97:if(181===t.parent.kind){var r=W.getContainingClass(t);if(r.pos<c.start||r.end>=c.start+c.length)return(a=a||[]).push(W.createDiagnosticForNode(t,L.CannotExtractSuper)),!0}else u|=ae.UsesThis}if(!t||W.isFunctionLikeDeclaration(t)||W.isClassLike(t)){switch(t.kind){case 228:case 229:265===t.parent.kind&&void 0===t.parent.externalModuleIndicator&&(a=a||[]).push(W.createDiagnosticForNode(t,L.FunctionWillNotBeVisibleInTheNewScope))}return!1}n=o;switch(t.kind){case 211:case 224:o=0;break;case 207:t.parent&&224===t.parent.kind&&t.parent.finallyBlock===t&&(o=4);break;case 257:o|=1;break;default:W.isIterationStatement(t,!1)&&(o|=3)}switch(t.kind){case 169:case 99:u|=ae.UsesThis;break;case 222:var i=t.label;(s=s||[]).push(i.escapedText),W.forEachChild(t,e),s.pop();break;case 218:case 217:(i=t.label)?W.contains(s,i.escapedText)||(a=a||[]).push(W.createDiagnosticForNode(t,L.CannotExtractRangeContainingLabeledBreakOrContinueStatementWithTargetOutsideOfTheRange)):o&(218===t.kind?1:2)||(a=a||[]).push(W.createDiagnosticForNode(t,L.CannotExtractRangeContainingConditionalBreakOrContinueStatements));break;case 191:u|=ae.IsAsyncFunction;break;case 197:u|=ae.IsGenerator;break;case 219:4&o?u|=ae.HasReturn:(a=a||[]).push(W.createDiagnosticForNode(t,L.CannotExtractRangeContainingConditionalReturnStatement));break;default:W.forEachChild(t,e)}o=n}(e),a}}function Y(e){return W.isFunctionLikeDeclaration(e)||W.isSourceFile(e)||W.isModuleBlock(e)||W.isClassLike(e)}function X(e,t){var n=t.file,r=function(e){var t=re(e.range)?W.first(e.range):e.range;if(e.facts&ae.UsesThis){var n,e=W.getContainingClass(t);if(e)return(n=W.findAncestor(t,W.isFunctionLikeDeclaration))?[n,e]:[e]}for(var r=[];;)if(Y(t=146===(t=t.parent).kind?W.findAncestor(t,function(e){return W.isFunctionLikeDeclaration(e)}).parent:t)&&(r.push(t),265===t.kind))return r}(e);return{scopes:r,readsAndWrites:function(g,h,y,v,b,i){var a=W.createMap(),x=[],k=[],S=[],T=[],s=[],o=W.createMap(),c=[],l=void 0,e=re(g.range)?1===g.range.length&&W.isExpressionStatement(g.range[0])?g.range[0].expression:void 0:g.range,t=void 0;void 0===e?(p=g.range,f=W.first(p).getStart(),p=W.last(p).end,t=W.createFileDiagnostic(v,f,p-f,L.ExpressionExpected)):9216&b.getTypeAtLocation(e).flags&&(t=W.createDiagnosticForNode(e,L.UselessConstantType));for(var n=0,r=h;n<r.length;n++){var u=r[n],d=(x.push({usages:W.createMap(),typeParameterUsages:W.createMap(),substitutions:W.createMap()}),k.push(W.createMap()),S.push(W.isFunctionLikeDeclaration(u)&&228!==u.kind?[W.createDiagnosticForNode(u,L.CannotExtractToOtherFunctionLike)]:[]),[]);t&&d.push(t),W.isClassLike(u)&&W.isInJavaScriptFile(u)&&d.push(W.createDiagnosticForNode(u,L.CannotExtractToJSClass)),W.isArrowFunction(u)&&!W.isBlock(u.body)&&d.push(W.createDiagnosticForNode(u,L.CannotExtractToExpressionArrowFunction)),T.push(d)}var C=W.createMap(),p=re(g.range)?W.createBlock(g.range):g.range,f=re(g.range)?W.first(g.range):g.range,_=function(e){for(;e;e=e.parent)if(function(e){return W.isDeclarationWithTypeParameters(e)&&void 0!==e.typeParameters&&0<e.typeParameters.length}(e))return!0;return!1}(f);if(function e(t,n){void 0===n&&(n=1),_&&P(b.getTypeAtLocation(t));W.isDeclaration(t)&&t.symbol&&s.push(t),W.isAssignmentExpression(t)?(e(t.left,2),e(t.right)):W.isUnaryExpressionWithWrite(t)?e(t.operand,2):!W.isPropertyAccessExpression(t)&&!W.isElementAccessExpression(t)&&W.isIdentifier(t)?!t.parent||W.isQualifiedName(t.parent)&&t!==t.parent.left||W.isPropertyAccessExpression(t.parent)&&t!==t.parent.expression||O(t,n,W.isPartOfTypeNode(t)):W.forEachChild(t,e)}(p),_&&!re(g.range)&&P(b.getContextualType(g.range)),0<a.size){for(var m=W.createMap(),E=0,D=f;void 0!==D&&E<h.length;D=D.parent)if(D===h[E]&&(m.forEach(function(e,t){x[E].typeParameterUsages.set(t,e)}),E++),W.isDeclarationWithTypeParameters(D)&&D.typeParameters)for(var A=0,N=D.typeParameters;A<N.length;A++){var w=N[A],w=b.getTypeAtLocation(w);a.has(w.id.toString())&&m.set(w.id.toString(),w)}W.Debug.assert(E===h.length)}s.length&&(e=W.isBlockScope(h[0],h[0].parent)?h[0]:W.getEnclosingBlockScopeContainer(h[0]),W.forEachChild(e,function e(t){{var n,r,i;t===g.range||re(g.range)&&0<=g.range.indexOf(t)||((n=W.isIdentifier(t)?F(t):b.getSymbolAtLocation(t))&&(r=W.find(s,function(e){return e.symbol===n}))&&(W.isVariableDeclaration(r)?(i=r.symbol.id.toString(),o.has(i)||(c.push(r),o.set(i,!0))):l=l||r),W.forEachChild(t,e))}}));for(var I=0;I<h.length;I++)!function(e){var t,n=x[e],r=(0<e&&(0<n.usages.size||0<n.typeParameterUsages.size)&&(n=re(g.range)?g.range[0]:g.range,T[e].push(W.createDiagnosticForNode(n,L.CannotAccessVariablesFromNestedScopes))),!1),i=void 0;x[e].usages.forEach(function(e){2===e.usage&&(r=!0,106500&e.symbol.flags)&&e.symbol.valueDeclaration&&W.hasModifier(e.symbol.valueDeclaration,64)&&(i=e.symbol.valueDeclaration)}),W.Debug.assert(re(g.range)||0===c.length),r&&!re(g.range)?(t=W.createDiagnosticForNode(g.range,L.CannotWriteInExpression),S[e].push(t),T[e].push(t)):i&&0<e?(t=W.createDiagnosticForNode(i,L.CannotExtractReadonlyPropertyInitializerOutsideConstructor),S[e].push(t),T[e].push(t)):l&&(t=W.createDiagnosticForNode(l,L.CannotExtractExportedEntity),S[e].push(t),T[e].push(t))}(I);return{target:p,usagesPerScope:x,functionErrorsPerScope:S,constantErrorsPerScope:T,exposedVariableDeclarations:c};function P(e){for(var t=0,n=b.getSymbolWalker(function(){return i.throwIfCancellationRequested(),!0}).walkType(e).visitedTypes;t<n.length;t++){var r=n[t];16384&r.flags&&a.set(r.id.toString(),r)}}function O(e,t,n){var r=function(e,t,n){var r=F(e);if(r){var i=W.getSymbolId(r).toString(),a=C.get(i);if(a&&t<=a)return i;if(C.set(i,t),a){for(var s=0,o=x;s<o.length;s++){var c=o[s];c.usages.get(e.text)&&c.usages.set(e.text,{usage:t,symbol:r,node:e})}return i}a=W.find(r.getDeclarations(),function(e){return e.getSourceFile()===v});if(a&&!W.rangeContainsStartEnd(y,a.getStart(),a.end)){if(g.facts&ae.IsGenerator&&2===t){for(var l=W.createDiagnosticForNode(e,L.CannotExtractRangeThatContainsWritesToReferencesLocatedOutsideOfTheTargetRangeInGenerators),u=0,d=S;u<d.length;u++)d[u].push(l);for(var p=0,f=T;p<f.length;p++)f[p].push(l)}for(var _=0;_<h.length;_++){var m=h[_];b.resolveName(r.name,m,r.flags)===r||k[_].has(i)||((m=function e(t,n,r){{var i;if(t)return t.getDeclarations().some(function(e){return e.parent===n})?W.createIdentifier(t.name):void 0!==(i=e(t.parent,n,r))?r?W.createQualifiedName(i,W.createIdentifier(t.name)):W.createPropertyAccess(i,t.name):void 0}}(r.exportSymbol||r,m,n))?k[_].set(i,m):n?262144&r.flags||(l=W.createDiagnosticForNode(e,L.TypeWillNotBeVisibleInTheNewScope),S[_].push(l),T[_].push(l)):x[_].usages.set(e.text,{usage:t,symbol:r,node:e}))}return i}}}(e,t,n);if(r)for(var i=0;i<h.length;i++){var a=k[i].get(r);a&&x[i].substitutions.set(W.getNodeId(e).toString(),a)}}function F(e){return e.parent&&W.isShorthandPropertyAssignment(e.parent)&&e.parent.name===e?b.getShorthandAssignmentValueSymbol(e.parent):b.getSymbolAtLocation(e)}}(e,r,(r=n,re((e=e).range)?{pos:W.first(e.range).getStart(r),end:W.last(e.range).getEnd()}:e.range),n,t.program.getTypeChecker(),t.cancellationToken)}}function Z(e,t){for(var n=e,r=1;W.stringContains(t,n);r++)n=e+"_"+r;return n}function ee(e,t,n,r){for(var i=0,a=-1,s=0,o=e;s<o.length;s++){var c=o[s],l=c.fileName,c=c.textChanges;W.Debug.assert(l===t);for(var u=0,d=c;u<d.length;u++){var p=d[u],f=p.span,p=p.newText,_=p.indexOf(n);if(-1!==_&&(a=f.start+i+_,!r))return a;i+=p.length-f.length}}return W.Debug.assert(r),W.Debug.assert(0<=a),a}function te(e,t){var n=e.type,e=e.declaration,r=t.type,t=t.declaration;if(e){if(!t)return 1;e=e.pos-t.pos;if(0!=e)return e}else if(t)return-1;e=n.symbol?n.symbol.getName():"",t=r.symbol?r.symbol.getName():"",e=W.compareStrings(e,t);return 0!==e?e:n.id-r.id}function ne(e,t){e=W.map(e,function(e){return W.createShorthandPropertyAssignment(e.symbol.name)}),t=W.map(t,function(e){return W.createShorthandPropertyAssignment(e.symbol.name)});return void 0===e?t:void 0===t?e:e.concat(t)}function re(e){return W.isArray(e)}function f(e,t,n){if(e)for(;e.parent;){if(W.isSourceFile(e.parent)||(r=n,i=e.parent,!(W.textSpanContainsPosition(r,i.getStart(t))&&i.getEnd()<=W.textSpanEnd(r))))return e;e=e.parent}var r,i}function ie(e){switch(e.kind){case 207:case 265:case 234:case 257:return 1;default:return}}function n(e){return{message:e,code:0,category:W.DiagnosticCategory.Message,key:e}}var r,i,L,ae,_;r=W.refactor||(W.refactor={}),i=r.extractSymbol||(r.extractSymbol={}),_={name:"Extract Symbol",description:W.getLocaleSpecificMessage(W.Diagnostics.Extract_symbol),getAvailableActions:e,getEditsForAction:t},r.registerRefactor(_),i.getAvailableActions=e,i.getEditsForAction=t,(r=L=i.Messages||(i.Messages={})).CannotExtractRange=n("Cannot extract range."),r.CannotExtractImport=n("Cannot extract import statement."),r.CannotExtractSuper=n("Cannot extract super call."),r.CannotExtractEmpty=n("Cannot extract empty range."),r.ExpressionExpected=n("expression expected."),r.UselessConstantType=n("No reason to extract constant of type."),r.StatementOrExpressionExpected=n("Statement or expression expected."),r.CannotExtractRangeContainingConditionalBreakOrContinueStatements=n("Cannot extract range containing conditional break or continue statements."),r.CannotExtractRangeContainingConditionalReturnStatement=n("Cannot extract range containing conditional return statement."),r.CannotExtractRangeContainingLabeledBreakOrContinueStatementWithTargetOutsideOfTheRange=n("Cannot extract range containing labeled break or continue with target outside of the range."),r.CannotExtractRangeThatContainsWritesToReferencesLocatedOutsideOfTheTargetRangeInGenerators=n("Cannot extract range containing writes to references located outside of the target range in generators."),r.TypeWillNotBeVisibleInTheNewScope=n("Type will not visible in the new scope."),r.FunctionWillNotBeVisibleInTheNewScope=n("Function will not visible in the new scope."),r.CannotExtractIdentifier=n("Select more than a single identifier."),r.CannotExtractExportedEntity=n("Cannot extract exported declaration"),r.CannotWriteInExpression=n("Cannot write back side-effects when extracting an expression"),r.CannotExtractReadonlyPropertyInitializerOutsideConstructor=n("Cannot move initialization of read-only class property outside of the constructor"),r.CannotExtractAmbientBlock=n("Cannot extract code from ambient contexts"),r.CannotAccessVariablesFromNestedScopes=n("Cannot access variables from nested scopes"),r.CannotExtractToOtherFunctionLike=n("Cannot extract method to a function-like scope that is not a function"),r.CannotExtractToJSClass=n("Cannot extract constant to a class scope in JS"),r.CannotExtractToExpressionArrowFunction=n("Cannot extract constant to an arrow function without a block"),(r=ae=ae||{})[r.None=0]="None",r[r.HasReturn=1]="HasReturn",r[r.IsGenerator=2]="IsGenerator",r[r.IsAsyncFunction=4]="IsAsyncFunction",r[r.UsesThis=8]="UsesThis",r[r.InStaticRegion=16]="InStaticRegion",i.getRangeToExtract=Q}(ts=ts||{}),function(i){function n(e){var t=e.file,n=e.startPosition,r=i.getTokenAtPosition(t,n,!1);if(i.isStringLiteral(r)&&function(){switch(r.parent.kind){case 238:case 248:return 1;default:return}}()&&void 0===i.getResolvedModule(t,r.text))return i.codefix.tryGetCodeActionForInstallPackageTypes(e.host,r.text)}var e,r;(e=i.refactor||(i.refactor={})).installTypesForPackage||(e.installTypesForPackage={}),r={name:"Install missing types package",description:"Install missing types package",getEditsForAction:function(e,t){return i.Debug.assertEqual("install",t),{edits:[],renameFilename:void 0,renameLocation:void 0,commands:n(e).commands}},getAvailableActions:function(e){var t=e.program.getCompilerOptions();if(void 0===t.noImplicitAny?!t.strict:!t.noImplicitAny)return(t=n(e))&&[{name:r.name,description:r.description,actions:[{description:t.description,name:"install"}]}]}},e.registerRefactor(r)}(ts=ts||{}),function(k){var t;function s(e,t,n,r){e=k.isNodeKind(e)?new a(e,t,n):71===e?new c(71,t,n):new o(e,t,n);return e.parent=r,e}k.servicesVersion="0.6";f.prototype.getSourceFile=function(){return k.getSourceFileOfNode(this)},f.prototype.getStart=function(e,t){return k.getTokenPosOfNode(this,e,t)},f.prototype.getFullStart=function(){return this.pos},f.prototype.getEnd=function(){return this.end},f.prototype.getWidth=function(e){return this.getEnd()-this.getStart(e)},f.prototype.getFullWidth=function(){return this.end-this.pos},f.prototype.getLeadingTriviaWidth=function(e){return this.getStart(e)-this.pos},f.prototype.getFullText=function(e){return(e||this.getSourceFile()).text.substring(this.pos,this.end)},f.prototype.getText=function(e){return(e=e||this.getSourceFile()).text.substring(this.getStart(e),this.getEnd())},f.prototype.addSyntheticNodes=function(e,t,n){for(k.scanner.setTextPos(t);t<n;){var r=k.scanner.scan(),i=k.scanner.getTextPos();if(i<=n&&e.push(s(r,t,i,this)),t=i,1===r)break}return t},f.prototype.createSyntaxList=function(e){var t=s(286,e.pos,e.end,this);t._children=[];for(var n=e.pos,r=0,i=e;r<i.length;r++){var a=i[r];n<a.pos&&(n=this.addSyntheticNodes(t._children,n,a.pos)),t._children.push(a),n=a.end}return n<e.end&&this.addSyntheticNodes(t._children,n,e.end),t},f.prototype.createChildren=function(e){var t,n=this;if(k.isNodeKind(this.kind))if(k.isJSDocCommentContainingNode(this))t=[],this.forEachChild(function(e){t.push(e)}),this._children=t;else{var r=[],i=(k.scanner.setText((e||this.getSourceFile()).text),this.pos),a=function(e){i=n.addSyntheticNodes(r,i,e.pos),r.push(e),i=e.end};if(this.jsDoc)for(var s=0,o=this.jsDoc;s<o.length;s++)a(o[s]);i=this.pos,k.forEachChild(this,a,function(e){i<e.pos&&(i=n.addSyntheticNodes(r,i,e.pos)),r.push(n.createSyntaxList(e)),i=e.end}),i<this.end&&this.addSyntheticNodes(r,i,this.end),k.scanner.setText(void 0),this._children=r}else this._children=k.emptyArray},f.prototype.getChildCount=function(e){return this._children||this.createChildren(e),this._children.length},f.prototype.getChildAt=function(e,t){return this._children||this.createChildren(t),this._children[e]},f.prototype.getChildren=function(e){return this._children||this.createChildren(e),this._children},f.prototype.getFirstToken=function(e){var t=this.getChildren(e);if(t.length)return(t=k.find(t,function(e){return e.kind<267||285<e.kind})).kind<143?t:t.getFirstToken(e)},f.prototype.getLastToken=function(e){var t=this.getChildren(e),t=k.lastOrUndefined(t);if(t)return t.kind<143?t:t.getLastToken(e)},f.prototype.forEachChild=function(e,t){return k.forEachChild(this,e,t)};var r,i,a=f,e=(p.prototype.getSourceFile=function(){return k.getSourceFileOfNode(this)},p.prototype.getStart=function(e,t){return k.getTokenPosOfNode(this,e,t)},p.prototype.getFullStart=function(){return this.pos},p.prototype.getEnd=function(){return this.end},p.prototype.getWidth=function(e){return this.getEnd()-this.getStart(e)},p.prototype.getFullWidth=function(){return this.end-this.pos},p.prototype.getLeadingTriviaWidth=function(e){return this.getStart(e)-this.pos},p.prototype.getFullText=function(e){return(e||this.getSourceFile()).text.substring(this.pos,this.end)},p.prototype.getText=function(e){return(e||this.getSourceFile()).text.substring(this.getStart(),this.getEnd())},p.prototype.getChildCount=function(){return 0},p.prototype.getChildAt=function(){},p.prototype.getChildren=function(){return k.emptyArray},p.prototype.getFirstToken=function(){},p.prototype.getLastToken=function(){},p.prototype.forEachChild=function(){},p),n=(d.prototype.getFlags=function(){return this.flags},Object.defineProperty(d.prototype,"name",{get:function(){return k.symbolName(this)},enumerable:!0,configurable:!0}),d.prototype.getEscapedName=function(){return this.escapedName},d.prototype.getName=function(){return this.name},d.prototype.getDeclarations=function(){return this.declarations},d.prototype.getDocumentationComment=function(){return void 0===this.documentationComment&&(this.documentationComment=k.JsDoc.getJsDocCommentsFromDeclarations(this.declarations)),this.documentationComment},d.prototype.getJsDocTags=function(){return void 0===this.tags&&(this.tags=k.JsDoc.getJsDocTagsFromDeclarations(this.declarations)),this.tags},d),o=(__extends(u,i=e),u),c=(__extends(l,r=e),Object.defineProperty(l.prototype,"text",{get:function(){return k.idText(this)},enumerable:!0,configurable:!0}),l);function l(e,t,n){return r.call(this,t,n)||this}function u(e,t,n){t=i.call(this,t,n)||this;return t.kind=e,t}function d(e,t){this.flags=e,this.escapedName=t}function p(e,t){this.pos=e,this.end=t,this.flags=0,this.parent=void 0}function f(e,t,n){this.pos=t,this.end=n,this.flags=0,this.transformFlags=void 0,this.parent=void 0,this.kind=e}c.prototype.kind=71;S.prototype.getFlags=function(){return this.flags},S.prototype.getSymbol=function(){return this.symbol},S.prototype.getProperties=function(){return this.checker.getPropertiesOfType(this)},S.prototype.getProperty=function(e){return this.checker.getPropertyOfType(this,e)},S.prototype.getApparentProperties=function(){return this.checker.getAugmentedPropertiesOfType(this)},S.prototype.getCallSignatures=function(){return this.checker.getSignaturesOfType(this,0)},S.prototype.getConstructSignatures=function(){return this.checker.getSignaturesOfType(this,1)},S.prototype.getStringIndexType=function(){return this.checker.getIndexTypeOfType(this,0)},S.prototype.getNumberIndexType=function(){return this.checker.getIndexTypeOfType(this,1)},S.prototype.getBaseTypes=function(){return 32768&this.flags&&3&this.objectFlags?this.checker.getBaseTypes(this):void 0},S.prototype.getNonNullableType=function(){return this.checker.getNonNullableType(this)};var _,m=S,g=(x.prototype.getDeclaration=function(){return this.declaration},x.prototype.getTypeParameters=function(){return this.typeParameters},x.prototype.getParameters=function(){return this.parameters},x.prototype.getReturnType=function(){return this.checker.getReturnTypeOfSignature(this)},x.prototype.getDocumentationComment=function(){return void 0===this.documentationComment&&(this.documentationComment=this.declaration?k.JsDoc.getJsDocCommentsFromDeclarations([this.declaration]):[]),this.documentationComment},x.prototype.getJsDocTags=function(){return void 0===this.jsDocTags&&(this.jsDocTags=this.declaration?k.JsDoc.getJsDocTagsFromDeclarations([this.declaration]):[]),this.jsDocTags},x),h=(__extends(b,_=a),b.prototype.update=function(e,t){return k.updateSourceFile(this,e,t)},b.prototype.getLineAndCharacterOfPosition=function(e){return k.getLineAndCharacterOfPosition(this,e)},b.prototype.getLineStarts=function(){return k.getLineStarts(this)},b.prototype.getPositionOfLineAndCharacter=function(e,t){return k.getPositionOfLineAndCharacter(this,e,t)},b.prototype.getLineEndOfPosition=function(e){var t,e=this.getLineAndCharacterOfPosition(e).line,n=this.getLineStarts(),n=(t=(t=e+1>=n.length?this.getEnd():t)||n[e+1]-1,this.getFullText());return"\n"===n[t]&&"\r"===n[t-1]?t-1:t},b.prototype.getNamedDeclarations=function(){return this.namedDeclarations||(this.namedDeclarations=this.computeNamedDeclarations()),this.namedDeclarations},b.prototype.computeNamedDeclarations=function(){var a=k.createMultiMap();return k.forEachChild(this,function e(t){switch(t.kind){case 228:case 186:case 151:case 150:var n=t,r=o(n);r&&(r=r,(i=a.get(r))||a.set(r,i=[]),r=i,(i=k.lastOrUndefined(r))&&n.parent===i.parent&&n.symbol===i.symbol?n.body&&!i.body&&(r[r.length-1]=n):r.push(n)),k.forEachChild(t,e);break;case 229:case 199:case 230:case 231:case 232:case 233:case 237:case 246:case 242:case 239:case 240:case 153:case 154:case 163:s(t),k.forEachChild(t,e);break;case 146:if(!k.hasModifier(t,92))break;case 226:case 176:i=t;if(k.isBindingPattern(i.name)){k.forEachChild(i.name,e);break}i.initializer&&e(i.initializer);case 264:case 149:case 148:s(t);break;case 244:t.exportClause&&k.forEach(t.exportClause.elements,e);break;case 238:r=t.importClause;r&&(r.name&&s(r),r.namedBindings)&&(240===r.namedBindings.kind?s(r.namedBindings):k.forEach(r.namedBindings.elements,e));break;case 194:0!==k.getSpecialPropertyAssignmentKind(t)&&s(t);default:k.forEachChild(t,e)}var i}),a;function s(e){var t=o(e);t&&a.add(t,e)}function o(e){var t,e=k.getNameOfDeclaration(e);if(e)return void 0!==(t=k.getTextOfIdentifierOrLiteral(e))?t:144===e.kind?179===(t=e.expression).kind?t.name.text:k.getTextOfIdentifierOrLiteral(t):void 0}},b),y=(v.prototype.getLineAndCharacterOfPosition=function(e){return k.getLineAndCharacterOfPosition(this,e)},v);function v(e,t,n){this.fileName=e,this.text=t,this.skipTrivia=n}function b(e,t,n){return _.call(this,e,t,n)||this}function x(e){this.checker=e}function S(e,t){this.checker=e,this.flags=t}function T(e){var t=!0;for(n in e)if(k.hasProperty(e,n)&&!C(n)){t=!1;break}if(t)return e;var n,r={};for(n in e)k.hasProperty(e,n)&&(r[C(n)?n:n.charAt(0).toLowerCase()+n.substr(1)]=e[n]);return r}function C(e){return!e.length||e.charAt(0)===e.charAt(0).toLowerCase()}k.toEditorSettings=T,k.displayPartsToString=function(e){return e?k.map(e,function(e){return e.text}).join(""):""},k.getDefaultCompilerOptions=function(){return{target:1,jsx:1}},k.getSupportedCodeFixes=function(){return k.codefix.getSupportedErrorCodes()};A.prototype.compilationSettings=function(){return this._compilationSettings},A.prototype.createEntry=function(e,t){var n=this.host.getScriptSnapshot(e),n=n?{hostFileName:e,version:this.host.getScriptVersion(e),scriptSnapshot:n,scriptKind:k.getScriptKind(e,this.host)}:e;return this.fileNameToEntry.set(t,n),n},A.prototype.getEntryByPath=function(e){return this.fileNameToEntry.get(e)},A.prototype.getHostFileInformation=function(e){e=this.fileNameToEntry.get(e);return k.isString(e)?void 0:e},A.prototype.getOrCreateEntryByPath=function(e,t){e=this.getEntryByPath(t)||this.createEntry(e,t);return k.isString(e)?void 0:e},A.prototype.getRootFileNames=function(){return k.arrayFrom(this.fileNameToEntry.values(),function(e){return k.isString(e)?e:e.hostFileName})},A.prototype.getVersion=function(e){e=this.getHostFileInformation(e);return e&&e.version},A.prototype.getScriptSnapshot=function(e){e=this.getHostFileInformation(e);return e&&e.scriptSnapshot};var E=A,R=(D.prototype.getCurrentSourceFile=function(e){var t,n,r,i=this.host.getScriptSnapshot(e);if(i)return n=k.getScriptKind(e,this.host),t=this.host.getScriptVersion(e),this.currentFileName!==e?r=w(e,i,5,t,!0,n):this.currentFileVersion!==t&&(n=i.getChangeRange(this.currentFileScriptSnapshot),r=I(this.currentSourceFile,i,t,n)),r&&(this.currentFileVersion=t,this.currentFileName=e,this.currentFileScriptSnapshot=i,this.currentSourceFile=r),this.currentSourceFile;throw new Error("Could not find file: '"+e+"'.")},D);function D(e){this.host=e}function A(e,t){this.host=e,this.currentDirectory=e.getCurrentDirectory(),this.fileNameToEntry=k.createMap();for(var n=0,r=e.getScriptFileNames();n<r.length;n++){var i=r[n];this.createEntry(i,k.toPath(i,this.currentDirectory,t))}this._compilationSettings=e.getCompilationSettings()||{target:1,jsx:1}}function N(e,t,n){e.version=n,e.scriptSnapshot=t}function w(e,t,n,r,i,a){var s=t.getText(0,t.getLength()),e=k.createSourceFile(e,s,n,i,a);return N(e,t,r),e}function I(e,t,n,r,i){var a,s,o,c;return r&&n!==e.version&&!k.disableIncrementalParsing?(o=void 0,c=0!==r.span.start?e.text.substr(0,r.span.start):"",a=k.textSpanEnd(r.span)!==e.text.length?e.text.substr(k.textSpanEnd(r.span)):"",o=0===r.newLength?c&&a?c+a:c||a:(s=t.getText(r.span.start,r.span.start+r.newLength),c&&a?c+s+a:c?c+s:s+a),N(c=k.updateSourceFile(e,o,r,i),t,n),c.nameTable=void 0,e!==c&&e.scriptSnapshot&&(e.scriptSnapshot.dispose&&e.scriptSnapshot.dispose(),e.scriptSnapshot=void 0),c):w(e.fileName,t,e.languageVersion,n,!0,e.scriptKind)}k.createLanguageServiceSourceFile=w,k.disableIncrementalParsing=!1,k.updateLanguageServiceSourceFile=I;O.prototype.isCancellationRequested=function(){return this.cancellationToken&&this.cancellationToken.isCancellationRequested()},O.prototype.throwIfCancellationRequested=function(){if(this.isCancellationRequested())throw new k.OperationCanceledException};var M=O;function P(e,t){void 0===t&&(t=20),this.hostCancellationToken=e,this.throttleWaitMilliseconds=t,this.lastCancellationCheckTime=0}function O(e){this.cancellationToken=e}function F(e){switch(e.kind){case 253:case 255:case 261:case 262:case 151:case 153:case 154:return 1}}function L(e,t){var n,r=k.unescapeLeadingUnderscores(k.getTextOfPropertyName(t));if(r&&e)return n=[],t=e.getProperty(r),65536&e.flags?(k.forEach(e.types,function(e){e=e.getProperty(r);e&&n.push(e)}),n):t?(n.push(t),n):void 0}P.prototype.isCancellationRequested=function(){var e=k.timestamp();return Math.abs(e-this.lastCancellationCheckTime)>=this.throttleWaitMilliseconds&&(this.lastCancellationCheckTime=e,this.hostCancellationToken.isCancellationRequested())},P.prototype.throwIfCancellationRequested=function(){if(this.isCancellationRequested())throw new k.OperationCanceledException},k.ThrottledCancellationToken=P,k.createLanguageService=function(l,u){void 0===u&&(u=k.createDocumentRegistry(l.useCaseSensitiveFileNames&&l.useCaseSensitiveFileNames(),l.getCurrentDirectory()));var d,r,p=new R(l),a=(t=t||new k.formatting.RulesProvider,0),f=l.useCaseSensitiveFileNames&&l.useCaseSensitiveFileNames(),_=new M(l.getCancellationToken&&l.getCancellationToken()),m=l.getCurrentDirectory();function g(e){l.log&&l.log(e)}!k.localizedDiagnosticMessages&&l.getLocalizedDiagnosticMessages&&(k.localizedDiagnosticMessages=l.getLocalizedDiagnosticMessages());var h=k.createGetCanonicalFileName(f);function y(e){var t=d.getSourceFile(e);if(t)return t;throw new Error("Could not find file: '"+e+"'.")}function v(e){return t.ensureUpToDate(e),t}function b(){if(l.getProjectVersion){var e=l.getProjectVersion();if(e){if(r===e&&!l.hasChangedAutomaticTypeDirectiveNames)return;r=e}}var s,o,e=l.getTypeRootsVersion?l.getTypeRootsVersion():0,c=(a!==e&&(g("TypeRoots version has changed; provide new program"),d=void 0,a=e),new E(l,h)),e=c.getRootFileNames(),t=l.hasInvalidatedResolution||k.returnFalse;function n(e){var t=k.toPath(e,m,h),t=c.getEntryByPath(t);return t?!k.isString(t):l.fileExists&&l.fileExists(e)}function i(e,t,n,r,i){k.Debug.assert(void 0!==c);var a=c.getOrCreateEntryByPath(e,t);if(a){if(!i){i=d&&d.getSourceFileByPath(t);if(i)return k.Debug.assertEqual(a.scriptKind,i.scriptKind,"Registered script kind should match new script kind.",t),u.updateDocumentWithKey(e,t,s,o,a.scriptSnapshot,a.version,a.scriptKind)}return u.acquireDocumentWithKey(e,t,s,o,a.scriptSnapshot,a.version,a.scriptKind)}}k.isProgramUptoDate(d,e,c.compilationSettings(),function(e){return c.getVersion(e)},n,t,l.hasChangedAutomaticTypeDirectiveNames)||(s=c.compilationSettings(),t={getSourceFile:function(e,t,n,r){return i(e,k.toPath(e,m,h),0,0,r)},getSourceFileByPath:i,getCancellationToken:function(){return _},getCanonicalFileName:h,useCaseSensitiveFileNames:function(){return f},getNewLine:function(){return k.getNewLineCharacter(s,{newLine:k.getNewLineOrDefaultFromHost(l)})},getDefaultLibFileName:function(e){return l.getDefaultLibFileName(e)},writeFile:k.noop,getCurrentDirectory:function(){return m},fileExists:n,readFile:function(e){var t=k.toPath(e,m,h),t=c.getEntryByPath(t);return t?k.isString(t)?void 0:t.scriptSnapshot.getText(0,t.scriptSnapshot.getLength()):l.readFile&&l.readFile(e)},directoryExists:function(e){return k.directoryProbablyExists(e,l)},getDirectories:function(e){return l.getDirectories?l.getDirectories(e):[]},onReleaseOldSourceFile:function(e,t){t=u.getKeyForCompilationSettings(t);u.releaseDocumentWithKey(e.path,t)},hasInvalidatedResolution:t,hasChangedAutomaticTypeDirectiveNames:l.hasChangedAutomaticTypeDirectiveNames},l.trace&&(t.trace=function(e){return l.trace(e)}),l.resolveModuleNames&&(t.resolveModuleNames=function(e,t,n){return l.resolveModuleNames(e,t,n)}),l.resolveTypeReferenceDirectives&&(t.resolveTypeReferenceDirectives=function(e,t){return l.resolveTypeReferenceDirectives(e,t)}),o=u.getKeyForCompilationSettings(s),d=k.createProgram(e,s,t,d),c=void 0,d.getTypeChecker())}function i(){return b(),d}function x(e,t,n){b();n=k.map(n,function(e){return d.getSourceFile(e)}),e=y(e);return k.DocumentHighlights.getDocumentHighlights(d,_,e,t,n)}function s(e,t,n){b();var r=[];if(n&&n.isForRename)for(var i=0,a=d.getSourceFiles();i<a.length;i++){var s=a[i];d.isSourceFileDefaultLibrary(s)||r.push(s)}else r=d.getSourceFiles().slice();return k.FindAllReferences.findReferencedEntries(d,_,r,y(e),t,n)}function e(e){return p.getCurrentSourceFile(e)}function n(e){e=k.getScriptKind(e,l);return 3===e||4===e}function o(e,t,n){t="number"==typeof t?[t,void 0]:[t.pos,t.end];return{file:e,startPosition:t[0],endPosition:t[1],program:i(),newLineCharacter:n?n.newLineCharacter:l.getNewLine(),host:l,rulesProvider:v(n),cancellationToken:_}}return{dispose:function(){d&&(k.forEach(d.getSourceFiles(),function(e){return u.releaseDocument(e.fileName,d.getCompilerOptions())}),d=void 0),l=void 0},cleanupSemanticCache:function(){d=void 0},getSyntacticDiagnostics:function(e){return b(),d.getSyntacticDiagnostics(y(e),_).slice()},getSemanticDiagnostics:function(e){b();var e=y(e),t=d.getSemanticDiagnostics(e,_);return d.getCompilerOptions().declaration?(e=d.getDeclarationDiagnostics(e,_),t.concat(e)):t.slice()},getCompilerOptionsDiagnostics:function(){return b(),d.getOptionsDiagnostics(_).concat(d.getGlobalDiagnostics(_))},getSyntacticClassifications:function(e,t){return k.getSyntacticClassifications(_,p.getCurrentSourceFile(e),t)},getSemanticClassifications:function(e,t){return n(e)?(b(),k.getSemanticClassifications(d.getTypeChecker(),_,y(e),d.getClassifiableNames(),t)):[]},getEncodedSyntacticClassifications:function(e,t){return k.getEncodedSyntacticClassifications(_,p.getCurrentSourceFile(e),t)},getEncodedSemanticClassifications:function(e,t){return n(e)?(b(),k.getEncodedSemanticClassifications(d.getTypeChecker(),_,y(e),d.getClassifiableNames(),t)):{spans:[],endOfLineState:0}},getCompletionsAtPosition:function(e,t){return b(),k.Completions.getCompletionsAtPosition(l,d.getTypeChecker(),g,d.getCompilerOptions(),y(e),t,d.getSourceFiles())},getCompletionEntryDetails:function(e,t,n,r,i){b();r=r?v(r):void 0;return k.Completions.getCompletionEntryDetails(d.getTypeChecker(),g,d.getCompilerOptions(),y(e),t,{name:n,source:i},d.getSourceFiles(),l,r)},getCompletionEntrySymbol:function(e,t,n,r){return b(),k.Completions.getCompletionEntrySymbol(d.getTypeChecker(),g,d.getCompilerOptions(),y(e),t,{name:n,source:r},d.getSourceFiles())},getSignatureHelpItems:function(e,t){b();e=y(e);return k.SignatureHelp.getSignatureHelpItems(d,e,t,_)},getQuickInfoAtPosition:function(e,t){b();var e=y(e),n=k.getTouchingPropertyName(e,t,!0);if(n!==e&&!k.isLabelName(n)){var r=d.getTypeChecker(),t=function(e,t){if((k.isIdentifier(e)||k.isStringLiteral(e))&&k.isPropertyAssignment(e.parent)&&e.parent.name===e){var n=t.getContextualType(e.parent.parent);if(n){n=t.getPropertyOfType(n,k.getTextOfIdentifierOrLiteral(e));if(n)return n}}return t.getSymbolAtLocation(e)}(n,r);if(t&&!r.isUnknownSymbol(t))return{kind:(e=k.SymbolDisplay.getSymbolDisplayPartsDocumentationAndSymbolKind(r,t,e,k.getContainerNode(n),n)).symbolKind,kindModifiers:k.SymbolDisplay.getSymbolModifiers(t),textSpan:k.createTextSpan(n.getStart(),n.getWidth()),displayParts:e.displayParts,documentation:e.documentation,tags:e.tags};switch(n.kind){case 71:case 179:case 143:case 99:case 169:case 97:var i=r.getTypeAtLocation(n);if(i)return{kind:"",kindModifiers:"",textSpan:k.createTextSpan(n.getStart(),n.getWidth()),displayParts:k.typeToDisplayParts(r,i,k.getContainerNode(n)),documentation:i.symbol?i.symbol.getDocumentationComment():void 0,tags:i.symbol?i.symbol.getJsDocTags():void 0}}}},getDefinitionAtPosition:function(e,t){return b(),k.GoToDefinition.getDefinitionAtPosition(d,y(e),t)},getImplementationAtPosition:function(e,t){return b(),k.FindAllReferences.getImplementationsAtPosition(d,_,d.getSourceFiles(),y(e),t)},getTypeDefinitionAtPosition:function(e,t){return b(),k.GoToDefinition.getTypeDefinitionAtPosition(d.getTypeChecker(),y(e),t)},getReferencesAtPosition:function(e,t){return s(e,t)},findReferences:function(e,t){return b(),k.FindAllReferences.findReferencedSymbols(d,_,d.getSourceFiles(),y(e),t)},getOccurrencesAtPosition:function(c,l){var t,e=function(){var e=x(c,l,[c]);if(e){for(var t=[],n=0,r=e;n<r.length;n++)for(var i=r[n],a=0,s=i.highlightSpans;a<s.length;a++){var o=s[a];t.push({fileName:i.fileName,textSpan:o.textSpan,isWriteAccess:"writtenReference"===o.kind,isDefinition:!1,isInString:o.isInString})}return t}}();return e&&(t=h(k.normalizeSlashes(c)),e=k.filter(e,function(e){return h(k.normalizeSlashes(e.fileName))===t})),e},getDocumentHighlights:x,getNameOrDottedNameSpan:function(e,t,n){e=p.getCurrentSourceFile(e),t=k.getTouchingPropertyName(e,t,!1);if(t!==e){switch(t.kind){case 179:case 143:case 9:case 86:case 101:case 95:case 97:case 99:case 169:case 71:break;default:return}for(var r=t;;)if(k.isRightSideOfPropertyAccess(r)||k.isRightSideOfQualifiedName(r))r=r.parent;else{if(!k.isNameOfModuleDeclaration(r))break;if(233!==r.parent.parent.kind||r.parent.parent.body!==r.parent)break;r=r.parent.parent.name}return k.createTextSpanFromBounds(r.getStart(),t.getEnd())}},getBreakpointStatementAtPosition:function(e,t){e=p.getCurrentSourceFile(e);return k.BreakpointResolver.spanInSourceFileAtLocation(e,t)},getNavigateToItems:function(e,t,n,r){b();n=n?[y(n)]:d.getSourceFiles();return k.NavigateTo.getNavigateToItems(n,d.getTypeChecker(),_,e,t,r)},getRenameInfo:function(e,t){b();var n=l.getDefaultLibFileName(l.getCompilationSettings());return k.Rename.getRenameInfo(d.getTypeChecker(),n,h,y(e),t)},findRenameLocations:function(e,t,n,r){return s(e,t,{findInStrings:n,findInComments:r,isForRename:!0})},getNavigationBarItems:function(e){return k.NavigationBar.getNavigationBarItems(p.getCurrentSourceFile(e),_)},getNavigationTree:function(e){return k.NavigationBar.getNavigationTree(p.getCurrentSourceFile(e),_)},getOutliningSpans:function(e){e=p.getCurrentSourceFile(e);return k.OutliningElementsCollector.collectElements(e,_)},getTodoComments:function(e,t){b();var n=y(e);_.throwIfCancellationRequested();var r,i=n.text,a=[];if(0<t.length&&(e=n.fileName,!k.stringContains(e,"/node_modules/"))){e="("+/(?:^(?:\s|\*)*)/.source+"|"+/(?:\/\/+\s*)/.source+"|"+/(?:\/\*+\s*)/.source+")",r="(?:"+k.map(t,function(e){return"("+e.text.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+")"}).join("|")+")";for(var s,o=new RegExp(e+"("+r+/(?:.*?)/.source+")"+/(?:$|\*\/)/.source,"gim");s=o.exec(i);){_.throwIfCancellationRequested(),k.Debug.assert(s.length===t.length+3);var c=s[1],c=s.index+c.length;if(k.isInComment(n,c)){for(var l,u=void 0,d=0;d<t.length;d++)s[d+3]&&(u=t[d]);k.Debug.assert(void 0!==u),97<=(l=i.charCodeAt(c+u.text.length))&&l<=122||65<=l&&l<=90||48<=l&&l<=57||(l=s[2],a.push({descriptor:u,message:l,position:c}))}}}return a},getBraceMatchingAtPosition:function(e,t){var n=p.getCurrentSourceFile(e),r=[],i=k.getTouchingToken(n,t,!1);if(i.getStart(n)===t){var a=function(){switch(i.kind){case 17:return 18;case 19:return 20;case 21:return 22;case 27:return 29;case 18:return 17;case 20:return 19;case 22:return 21;case 29:return 27}}();if(a)for(var s=0,o=i.parent.getChildren(n);s<o.length;s++){var c=o[s];if(c.kind===a){var l=k.createTextSpan(i.getStart(n),i.getWidth(n)),c=k.createTextSpan(c.getStart(n),c.getWidth(n));l.start<c.start?r.push(l,c):r.push(c,l);break}}}return r},getIndentationAtPosition:function(e,t,n){var r=k.timestamp(),n=T(n),e=p.getCurrentSourceFile(e),t=(g("getIndentationAtPosition: getCurrentSourceFile: "+(k.timestamp()-r)),r=k.timestamp(),k.formatting.SmartIndenter.getIndentation(t,e,n));return g("getIndentationAtPosition: computeIndentation  : "+(k.timestamp()-r)),t},getFormattingEditsForRange:function(e,t,n,r){e=p.getCurrentSourceFile(e),r=T(r);return k.formatting.formatSelection(t,n,e,v(r),r)},getFormattingEditsForDocument:function(e,t){e=p.getCurrentSourceFile(e),t=T(t);return k.formatting.formatDocument(e,v(t),t)},getFormattingEditsAfterKeystroke:function(e,t,n,r){e=p.getCurrentSourceFile(e),r=T(r);if(!k.isInComment(e,t)){if("{"===n)return k.formatting.formatOnOpeningCurly(t,e,v(r),r);if("}"===n)return k.formatting.formatOnClosingCurly(t,e,v(r),r);if(";"===n)return k.formatting.formatOnSemicolon(t,e,v(r),r);if("\n"===n)return k.formatting.formatOnEnter(t,e,v(r),r)}return[]},getDocCommentTemplateAtPosition:function(e,t){return k.JsDoc.getDocCommentTemplateAtPosition(k.getNewLineOrDefaultFromHost(l),p.getCurrentSourceFile(e),t)},isValidBraceCompletionAtPosition:function(e,t,n){if(60===n)return!1;var r=p.getCurrentSourceFile(e);if(k.isInString(r,t))return!1;if(k.isInsideJsxElementOrAttribute(r,t))return 123===n;if(k.isInTemplateString(r,t))return!1;switch(n){case 39:case 34:case 96:return!k.isInComment(r,t)}return!0},getSpanOfEnclosingComment:function(e,t,n){e=p.getCurrentSourceFile(e),e=k.formatting.getRangeOfEnclosingComment(e,t,n);return e&&k.createTextSpanFromRange(e)},getCodeFixesAtPosition:function(e,t,n,r,i){b();var a=y(e),s=k.createTextSpanFromBounds(t,n),o=k.getNewLineOrDefaultFromHost(l),c=v(i);return k.flatMap(k.deduplicate(r),function(e){return _.throwIfCancellationRequested(),k.codefix.getFixes({errorCode:e,sourceFile:a,span:s,program:d,newLineCharacter:o,host:l,cancellationToken:_,rulesProvider:c})})},applyCodeActionCommand:function(e,t){if("install package"===(e=k.toPath(e,m,h),t.type))return l.installPackage?l.installPackage({fileName:e,packageName:t.packageName}):Promise.reject("Host does not implement `installPackage`");k.Debug.fail()},getEmitOutput:function(e,t){b();var e=y(e),n=l.getCustomTransformers&&l.getCustomTransformers();return k.getFileEmitOutput(d,e,t,_,n)},getNonBoundSourceFile:e,getSourceFile:e,getProgram:i,getApplicableRefactors:function(e,t){b();e=y(e);return k.refactor.getApplicableRefactors(o(e,t))},getEditsForRefactor:function(e,t,n,r,i){b();e=y(e);return k.refactor.getEditsForRefactor(o(e,n,t),r,i)}}},k.getNameTable=function(e){return e.nameTable||(s=(t=e).nameTable=k.createUnderscoreEscapedMap(),t.forEachChild(function e(t){var n;if((k.isIdentifier(t)&&t.escapedText||k.isStringOrNumericLiteral(t)&&(n=t,k.isDeclarationName(n)||248===n.parent.kind||n&&n.parent&&180===n.parent.kind&&n.parent.argumentExpression===n||k.isLiteralComputedPropertyDeclarationName(n)))&&(n=k.getEscapedTextOfIdentifierOrLiteral(t),s.set(n,void 0===s.get(n)?t.pos:-1)),k.forEachChild(t,e),k.hasJSDocNodes(t))for(var r=0,i=t.jsDoc;r<i.length;r++){var a=i[r];k.forEachChild(a,e)}})),e.nameTable;var t,s},k.getContainingObjectLiteralElement=function(e){switch(e.kind){case 9:case 8:if(144===e.parent.kind)return F(e.parent.parent)?e.parent.parent:void 0;case 71:return!F(e.parent)||178!==e.parent.parent.kind&&254!==e.parent.parent.kind||e.parent.name!==e?void 0:e.parent}},k.getPropertySymbolsFromContextualType=function(e,t){var n=t.parent;return L(e.getContextualType(n),t.name)},k.getPropertySymbolsFromType=L,k.getDefaultLibFilePath=function(e){if("undefined"!=typeof __dirname)return __dirname+k.directorySeparator+k.getDefaultLibFileName(e);throw new Error("getDefaultLibFilePath is only supported when consumed as a node module. ")},k.objectAllocator={getNodeConstructor:function(){return a},getTokenConstructor:function(){return o},getIdentifierConstructor:function(){return c},getSourceFileConstructor:function(){return h},getSymbolConstructor:function(){return n},getTypeConstructor:function(){return m},getSignatureConstructor:function(){return g},getSourceMapSourceConstructor:function(){return y}}}(ts=ts||{}),function(A){(A.BreakpointResolver||(A.BreakpointResolver={})).spanInSourceFileAtLocation=function(x,e){if(!x.isDeclarationFile){var t=A.getTokenAtPosition(x,e,!1),n=x.getLineAndCharacterOfPosition(e).line;if((!(x.getLineAndCharacterOfPosition(t.getStart(x)).line>n)||(t=A.findPrecedingToken(t.pos,x))&&x.getLineAndCharacterOfPosition(t.getEnd()).line===n)&&!A.isInAmbientContext(t))return D(t)}function k(e,t){var n=e.decorators?A.skipTrivia(x.text,e.decorators.end):e.getStart(x);return A.createTextSpanFromBounds(n,(t||e).getEnd())}function S(e,t){return k(e,A.findNextToken(t,t.parent))}function T(e,t){return e&&n===x.getLineAndCharacterOfPosition(e.getStart(x)).line?D(e):D(t)}function C(e){return D(A.findPrecedingToken(e.pos,x))}function E(e){return D(A.findNextToken(e,e.parent))}function D(e){if(e)switch(e.kind){case 208:return m(e.declarationList.declarations[0]);case 226:case 149:case 148:return m(e);case 146:return function e(t){var n;return A.isBindingPattern(t.name)?v(t.name):t.initializer||void 0!==t.dotDotDotToken||A.hasModifier(t,12)?k(t):(n=t.parent,(t=A.indexOf(n.parameters,t))?e(n.parameters[t-1]):D(n.body))}(e);case 228:case 151:case 150:case 153:case 154:case 152:case 186:case 187:var t=e;return t.body?g(t)?k(t):D(t.body):void 0;case 207:if(A.isFunctionBlock(e))return p=(t=e).statements.length?t.statements[0]:t.getLastToken(),g(t.parent)?T(t.parent,p):D(p);case 234:return h(e);case 260:return h(e.block);case 210:return k(e.expression);case 219:return k(e.getChildAt(0),e.expression);case 213:return S(e,e.expression);case 212:return D(e.statement);case 225:return k(e.getChildAt(0));case 211:return S(e,e.expression);case 222:return D(e.statement);case 218:case 217:return k(e.getChildAt(0),e.label);case 214:return(p=e).initializer?y(p):p.condition?k(p.condition):p.incrementor?k(p.incrementor):void 0;case 215:return S(e,e.expression);case 216:return y(e);case 221:return S(e,e.expression);case 257:case 258:return D(e.statements[0]);case 224:return h(e.tryBlock);case 223:case 243:return k(e,e.expression);case 237:return k(e,e.moduleReference);case 238:case 244:return k(e,e.moduleSpecifier);case 233:if(1!==A.getModuleInstanceState(e))return;case 229:case 232:case 264:case 176:return k(e);case 220:return D(e.statement);case 147:return f=e.parent.decorators,A.createTextSpanFromBounds(A.skipTrivia(x.text,f.pos),f.end);case 174:case 175:return v(e);case 230:case 231:return;case 25:case 1:return T(A.findPrecedingToken(e.pos,x));case 26:return C(e);case 17:var n=e;switch(n.parent.kind){case 232:var r=n.parent;return T(A.findPrecedingToken(n.pos,x,n.parent),r.members.length?r.members[0]:r.getLastToken(x));case 229:r=n.parent;return T(A.findPrecedingToken(n.pos,x,n.parent),r.members.length?r.members[0]:r.getLastToken(x));case 235:return T(n.parent.parent,n.parent.clauses[0])}return D(n.parent);case 18:var i=e;switch(i.parent.kind){case 234:if(1!==A.getModuleInstanceState(i.parent.parent))return;case 232:case 229:return k(i);case 207:if(A.isFunctionBlock(i.parent))return k(i);case 260:return D(A.lastOrUndefined(i.parent.statements));case 235:var a=i.parent,a=A.lastOrUndefined(a.clauses);return a?D(A.lastOrUndefined(a.statements)):void 0;case 174:a=i.parent;return D(A.lastOrUndefined(a.elements)||a);default:return A.isArrayLiteralOrObjectLiteralDestructuringPattern(i.parent)?(a=i.parent,k(A.lastOrUndefined(a.properties)||a)):D(i.parent)}return;case 22:return 175===(f=e).parent.kind||A.isArrayLiteralOrObjectLiteralDestructuringPattern(f.parent)?(d=f.parent,k(A.lastOrUndefined(d.elements)||d)):D(f.parent);case 19:return 212===(d=e).parent.kind||181===d.parent.kind||182===d.parent.kind?C(d):185===d.parent.kind?E(d):D(d.parent);case 20:var s=e;switch(s.parent.kind){case 186:case 228:case 187:case 151:case 150:case 153:case 154:case 152:case 213:case 212:case 214:case 216:case 181:case 182:case 185:return C(s);default:return D(s.parent)}return;case 56:return u=e,A.isFunctionLike(u.parent)||261===u.parent.kind||146===u.parent.kind?C(u):D(u.parent);case 29:case 27:return 184===(u=e).parent.kind?E(u):D(u.parent);case 106:return 212===(l=e).parent.kind?S(l,l.parent.expression):D(l.parent);case 82:case 74:case 87:return E(e);case 142:return 216===(l=e).parent.kind?E(l):D(l.parent);default:if(A.isArrayLiteralOrObjectLiteralDestructuringPattern(e))return b(e);if((71===e.kind||198===e.kind||261===e.kind||262===e.kind)&&A.isArrayLiteralOrObjectLiteralDestructuringPattern(e.parent))return k(e);if(194===e.kind){var o=e;if(A.isArrayLiteralOrObjectLiteralDestructuringPattern(o.left))return b(o.left);if(58===o.operatorToken.kind&&A.isArrayLiteralOrObjectLiteralDestructuringPattern(o.parent))return k(e);if(26===o.operatorToken.kind)return D(o.left)}if(A.isPartOfExpression(e))switch(e.parent.kind){case 212:return C(e);case 147:return D(e.parent);case 214:case 216:return k(e);case 194:if(26===e.parent.operatorToken.kind)return k(e);break;case 187:if(e.parent.body===e)return k(e)}if(261===e.parent.kind&&e.parent.name===e&&!A.isArrayLiteralOrObjectLiteralDestructuringPattern(e.parent.parent))return D(e.parent.initializer);if(184===e.parent.kind&&e.parent.type===e)return E(e.parent.type);if(A.isFunctionLike(e.parent)&&e.parent.type===e)return C(e);if(226===e.parent.kind||146===e.parent.kind){var c=e.parent;if(c.initializer===e||c.type===e||A.isAssignmentOperator(e.kind))return C(e)}return 194!==e.parent.kind||(o=e.parent,!A.isArrayLiteralOrObjectLiteralDestructuringPattern(o.left))||o.right!==e&&o.operatorToken!==e?D(e.parent):C(e)}var l,u,d,p,f;function _(e){return 227===e.parent.kind&&e.parent.declarations[0]===e?k(A.findPrecedingToken(e.pos,x,e.parent),e):k(e)}function m(e){return 215===e.parent.parent.kind?D(e.parent.parent):A.isBindingPattern(e.name)?v(e.name):e.initializer||A.hasModifier(e,1)||216===e.parent.parent.kind?_(e):227===e.parent.kind&&e.parent.declarations[0]!==e?D(A.findPrecedingToken(e.pos,x,e.parent)):void 0}function g(e){return A.hasModifier(e,1)||229===e.parent.kind&&152!==e.kind}function h(e){switch(e.parent.kind){case 233:if(1!==A.getModuleInstanceState(e.parent))return;case 213:case 211:case 215:return T(e.parent,e.statements[0]);case 214:case 216:return T(A.findPrecedingToken(e.pos,x,e.parent),e.statements[0])}return D(e.statements[0])}function y(e){return 227!==e.initializer.kind?D(e.initializer):0<(e=e.initializer).declarations.length?D(e.declarations[0]):void 0}function v(e){var t=A.forEach(e.elements,function(e){return 200!==e.kind?e:void 0});return t?D(t):(176===e.parent.kind?k:_)(e.parent)}function b(e){A.Debug.assert(175!==e.kind&&174!==e.kind);var t=177===e.kind?e.elements:e.properties,t=A.forEach(t,function(e){return 200!==e.kind?e:void 0});return t?D(t):k(194===e.parent.kind?e.parent:e)}}}}(ts=ts||{}),function(i){i.transform=function(e,t,n){var r=[],e=(n=i.fixupCompilerOptions(n,r),i.isArray(e)?e:[e]),n=i.transformNodes(void 0,void 0,n,e,t,!0);return n.diagnostics=i.concatenate(n.diagnostics,r),n}}(ts=ts||{}),function(){return this}()),ts,TypeScript,toolsVersion=(!function(d){function p(e,t){e&&e.log("*INTERNAL ERROR* - Exception in typescript services: "+t.message)}n.prototype.getText=function(e,t){return this.scriptSnapshotShim.getText(e,t)},n.prototype.getLength=function(){return this.scriptSnapshotShim.getLength()},n.prototype.getChangeRange=function(e){var e=this.scriptSnapshotShim.getChangeRange(e.scriptSnapshotShim);return null===e?null:(e=JSON.parse(e),d.createTextChangeRange(d.createTextSpan(e.span.start,e.span.length),e.newLength))},n.prototype.dispose=function(){"dispose"in this.scriptSnapshotShim&&this.scriptSnapshotShim.dispose()};var t=n,r=(e.prototype.log=function(e){this.loggingEnabled&&this.shimHost.log(e)},e.prototype.trace=function(e){this.tracingEnabled&&this.shimHost.trace(e)},e.prototype.error=function(e){this.shimHost.error(e)},e.prototype.getProjectVersion=function(){if(this.shimHost.getProjectVersion)return this.shimHost.getProjectVersion()},e.prototype.getTypeRootsVersion=function(){return this.shimHost.getTypeRootsVersion?this.shimHost.getTypeRootsVersion():0},e.prototype.useCaseSensitiveFileNames=function(){return!!this.shimHost.useCaseSensitiveFileNames&&this.shimHost.useCaseSensitiveFileNames()},e.prototype.getCompilationSettings=function(){var e=this.shimHost.getCompilationSettings();if(null===e||""===e)throw Error("LanguageServiceShimHostAdapter.getCompilationSettings: empty compilationSettings");e=JSON.parse(e);return e.allowNonTsExtensions=!0,e},e.prototype.getScriptFileNames=function(){var e=this.shimHost.getScriptFileNames();return this.files=JSON.parse(e)},e.prototype.getScriptSnapshot=function(e){e=this.shimHost.getScriptSnapshot(e);return e&&new t(e)},e.prototype.getScriptKind=function(e){return"getScriptKind"in this.shimHost?this.shimHost.getScriptKind(e):0},e.prototype.getScriptVersion=function(e){return this.shimHost.getScriptVersion(e)},e.prototype.getLocalizedDiagnosticMessages=function(){var e=this.shimHost.getLocalizedDiagnosticMessages();if(null===e||""===e)return null;try{return JSON.parse(e)}catch(e){return this.log(e.description||"diagnosticMessages.generated.json has invalid JSON format"),null}},e.prototype.getCancellationToken=function(){var e=this.shimHost.getCancellationToken();return new d.ThrottledCancellationToken(e)},e.prototype.getCurrentDirectory=function(){return this.shimHost.getCurrentDirectory()},e.prototype.getDirectories=function(e){return JSON.parse(this.shimHost.getDirectories(e))},e.prototype.getDefaultLibFileName=function(e){return this.shimHost.getDefaultLibFileName(JSON.stringify(e))},e.prototype.readDirectory=function(e,t,n,r,i){n=d.getFileMatcherPatterns(e,n,r,this.shimHost.useCaseSensitiveFileNames(),this.shimHost.getCurrentDirectory());return JSON.parse(this.shimHost.readDirectory(e,JSON.stringify(t),JSON.stringify(n.basePaths),n.excludePattern,n.includeFilePattern,n.includeDirectoryPattern,i))},e.prototype.readFile=function(e,t){return this.shimHost.readFile(e,t)},e.prototype.fileExists=function(e){return this.shimHost.fileExists(e)},e);function e(e){var r=this;this.shimHost=e,this.loggingEnabled=!1,this.tracingEnabled=!1,"getModuleResolutionsForFile"in this.shimHost&&(this.resolveModuleNames=function(e,t){var n=JSON.parse(r.shimHost.getModuleResolutionsForFile(t));return d.map(e,function(e){e=d.getProperty(n,e);return e?{resolvedFileName:e,extension:d.extensionFromPath(e),isExternalLibraryImport:!1}:void 0})}),"directoryExists"in this.shimHost&&(this.directoryExists=function(e){return r.shimHost.directoryExists(e)}),"getTypeReferenceDirectiveResolutionsForFile"in this.shimHost&&(this.resolveTypeReferenceDirectives=function(e,t){var n=JSON.parse(r.shimHost.getTypeReferenceDirectiveResolutionsForFile(t));return d.map(e,function(e){return d.getProperty(n,e)})})}function n(e){this.scriptSnapshotShim=e}d.LanguageServiceShimHostAdapter=r;a.prototype.readDirectory=function(e,t,n,r,i){n=d.getFileMatcherPatterns(e,n,r,this.shimHost.useCaseSensitiveFileNames(),this.shimHost.getCurrentDirectory());return JSON.parse(this.shimHost.readDirectory(e,JSON.stringify(t),JSON.stringify(n.basePaths),n.excludePattern,n.includeFilePattern,n.includeDirectoryPattern,i))},a.prototype.fileExists=function(e){return this.shimHost.fileExists(e)},a.prototype.readFile=function(e){return this.shimHost.readFile(e)},a.prototype.getDirectories=function(e){return JSON.parse(this.shimHost.getDirectories(e))};var i=a;function a(e){var t=this;this.shimHost=e,this.useCaseSensitiveFileNames=!!this.shimHost.useCaseSensitiveFileNames&&this.shimHost.useCaseSensitiveFileNames(),"directoryExists"in this.shimHost&&(this.directoryExists=function(e){return t.shimHost.directoryExists(e)}),"realpath"in this.shimHost&&(this.realpath=function(e){return t.shimHost.realpath(e)})}function s(e,t,n,r){return o(e,t,!0,n,r)}function o(e,t,n,r,i){try{s=e,o=t,c=r,(l=i)&&(s.log(o),u=d.timestamp()),c=c(),l&&(l=d.timestamp(),s.log(o+" completed in "+(l-u)+" msec"),d.isString(c))&&(128<(o=c).length&&(o=o.substring(0,128)+"..."),s.log("  result.length="+o.length+", result='"+JSON.stringify(o)+"'"));var a=c;return n?JSON.stringify({result:a}):a}catch(n){return n instanceof d.OperationCanceledException?JSON.stringify({canceled:!0}):(p(e,n),n.description=t,JSON.stringify({error:n}))}var s,o,c,l,u}d.CoreServicesShimHostAdapter=i;l.prototype.dispose=function(e){this.factory.unregisterShim(this)};var c=l;function l(e){(this.factory=e).registerShim(this)}function u(e,t){return e.map(function(e){return e=e,{message:d.flattenDiagnosticMessageText(e.messageText,t),start:e.start,length:e.length,category:d.DiagnosticCategory[e.category].toLowerCase(),code:e.code}})}d.realizeDiagnostics=u;__extends(m,f=c),m.prototype.forwardJSONCall=function(e,t){return s(this.logger,e,t,this.logPerformance)},m.prototype.dispose=function(e){this.logger.log("dispose()"),this.languageService.dispose(),this.languageService=null,debugObjectHost&&debugObjectHost.CollectGarbage&&(debugObjectHost.CollectGarbage(),this.logger.log("CollectGarbage()")),this.logger=null,f.prototype.dispose.call(this,e)},m.prototype.refresh=function(e){this.forwardJSONCall("refresh("+e+")",function(){return null})},m.prototype.cleanupSemanticCache=function(){var e=this;this.forwardJSONCall("cleanupSemanticCache()",function(){return e.languageService.cleanupSemanticCache(),null})},m.prototype.realizeDiagnostics=function(e){var t=d.getNewLineOrDefaultFromHost(this.host);return d.realizeDiagnostics(e,t)},m.prototype.getSyntacticClassifications=function(e,t,n){var r=this;return this.forwardJSONCall("getSyntacticClassifications('"+e+"', "+t+", "+n+")",function(){return r.languageService.getSyntacticClassifications(e,d.createTextSpan(t,n))})},m.prototype.getSemanticClassifications=function(e,t,n){var r=this;return this.forwardJSONCall("getSemanticClassifications('"+e+"', "+t+", "+n+")",function(){return r.languageService.getSemanticClassifications(e,d.createTextSpan(t,n))})},m.prototype.getEncodedSyntacticClassifications=function(e,t,n){var r=this;return this.forwardJSONCall("getEncodedSyntacticClassifications('"+e+"', "+t+", "+n+")",function(){return g(r.languageService.getEncodedSyntacticClassifications(e,d.createTextSpan(t,n)))})},m.prototype.getEncodedSemanticClassifications=function(e,t,n){var r=this;return this.forwardJSONCall("getEncodedSemanticClassifications('"+e+"', "+t+", "+n+")",function(){return g(r.languageService.getEncodedSemanticClassifications(e,d.createTextSpan(t,n)))})},m.prototype.getSyntacticDiagnostics=function(t){var n=this;return this.forwardJSONCall("getSyntacticDiagnostics('"+t+"')",function(){var e=n.languageService.getSyntacticDiagnostics(t);return n.realizeDiagnostics(e)})},m.prototype.getSemanticDiagnostics=function(t){var n=this;return this.forwardJSONCall("getSemanticDiagnostics('"+t+"')",function(){var e=n.languageService.getSemanticDiagnostics(t);return n.realizeDiagnostics(e)})},m.prototype.getCompilerOptionsDiagnostics=function(){var t=this;return this.forwardJSONCall("getCompilerOptionsDiagnostics()",function(){var e=t.languageService.getCompilerOptionsDiagnostics();return t.realizeDiagnostics(e)})},m.prototype.getQuickInfoAtPosition=function(e,t){var n=this;return this.forwardJSONCall("getQuickInfoAtPosition('"+e+"', "+t+")",function(){return n.languageService.getQuickInfoAtPosition(e,t)})},m.prototype.getNameOrDottedNameSpan=function(e,t,n){var r=this;return this.forwardJSONCall("getNameOrDottedNameSpan('"+e+"', "+t+", "+n+")",function(){return r.languageService.getNameOrDottedNameSpan(e,t,n)})},m.prototype.getBreakpointStatementAtPosition=function(e,t){var n=this;return this.forwardJSONCall("getBreakpointStatementAtPosition('"+e+"', "+t+")",function(){return n.languageService.getBreakpointStatementAtPosition(e,t)})},m.prototype.getSignatureHelpItems=function(e,t){var n=this;return this.forwardJSONCall("getSignatureHelpItems('"+e+"', "+t+")",function(){return n.languageService.getSignatureHelpItems(e,t)})},m.prototype.getDefinitionAtPosition=function(e,t){var n=this;return this.forwardJSONCall("getDefinitionAtPosition('"+e+"', "+t+")",function(){return n.languageService.getDefinitionAtPosition(e,t)})},m.prototype.getTypeDefinitionAtPosition=function(e,t){var n=this;return this.forwardJSONCall("getTypeDefinitionAtPosition('"+e+"', "+t+")",function(){return n.languageService.getTypeDefinitionAtPosition(e,t)})},m.prototype.getImplementationAtPosition=function(e,t){var n=this;return this.forwardJSONCall("getImplementationAtPosition('"+e+"', "+t+")",function(){return n.languageService.getImplementationAtPosition(e,t)})},m.prototype.getRenameInfo=function(e,t){var n=this;return this.forwardJSONCall("getRenameInfo('"+e+"', "+t+")",function(){return n.languageService.getRenameInfo(e,t)})},m.prototype.findRenameLocations=function(e,t,n,r){var i=this;return this.forwardJSONCall("findRenameLocations('"+e+"', "+t+", "+n+", "+r+")",function(){return i.languageService.findRenameLocations(e,t,n,r)})},m.prototype.getBraceMatchingAtPosition=function(e,t){var n=this;return this.forwardJSONCall("getBraceMatchingAtPosition('"+e+"', "+t+")",function(){return n.languageService.getBraceMatchingAtPosition(e,t)})},m.prototype.isValidBraceCompletionAtPosition=function(e,t,n){var r=this;return this.forwardJSONCall("isValidBraceCompletionAtPosition('"+e+"', "+t+", "+n+")",function(){return r.languageService.isValidBraceCompletionAtPosition(e,t,n)})},m.prototype.getSpanOfEnclosingComment=function(e,t,n){var r=this;return this.forwardJSONCall("getSpanOfEnclosingComment('"+e+"', "+t+")",function(){return r.languageService.getSpanOfEnclosingComment(e,t,n)})},m.prototype.getIndentationAtPosition=function(t,n,r){var i=this;return this.forwardJSONCall("getIndentationAtPosition('"+t+"', "+n+")",function(){var e=JSON.parse(r);return i.languageService.getIndentationAtPosition(t,n,e)})},m.prototype.getReferencesAtPosition=function(e,t){var n=this;return this.forwardJSONCall("getReferencesAtPosition('"+e+"', "+t+")",function(){return n.languageService.getReferencesAtPosition(e,t)})},m.prototype.findReferences=function(e,t){var n=this;return this.forwardJSONCall("findReferences('"+e+"', "+t+")",function(){return n.languageService.findReferences(e,t)})},m.prototype.getOccurrencesAtPosition=function(e,t){var n=this;return this.forwardJSONCall("getOccurrencesAtPosition('"+e+"', "+t+")",function(){return n.languageService.getOccurrencesAtPosition(e,t)})},m.prototype.getDocumentHighlights=function(n,r,i){var a=this;return this.forwardJSONCall("getDocumentHighlights('"+n+"', "+r+")",function(){var e=a.languageService.getDocumentHighlights(n,r,JSON.parse(i)),t=d.normalizeSlashes(n).toLowerCase();return d.filter(e,function(e){return d.normalizeSlashes(e.fileName).toLowerCase()===t})})},m.prototype.getCompletionsAtPosition=function(e,t){var n=this;return this.forwardJSONCall("getCompletionsAtPosition('"+e+"', "+t+")",function(){return n.languageService.getCompletionsAtPosition(e,t)})},m.prototype.getCompletionEntryDetails=function(t,n,r,i,a){var s=this;return this.forwardJSONCall("getCompletionEntryDetails('"+t+"', "+n+", '"+r+"')",function(){var e=JSON.parse(i);return s.languageService.getCompletionEntryDetails(t,n,r,e,a)})},m.prototype.getFormattingEditsForRange=function(t,n,r,i){var a=this;return this.forwardJSONCall("getFormattingEditsForRange('"+t+"', "+n+", "+r+")",function(){var e=JSON.parse(i);return a.languageService.getFormattingEditsForRange(t,n,r,e)})},m.prototype.getFormattingEditsForDocument=function(t,n){var r=this;return this.forwardJSONCall("getFormattingEditsForDocument('"+t+"')",function(){var e=JSON.parse(n);return r.languageService.getFormattingEditsForDocument(t,e)})},m.prototype.getFormattingEditsAfterKeystroke=function(t,n,r,i){var a=this;return this.forwardJSONCall("getFormattingEditsAfterKeystroke('"+t+"', "+n+", '"+r+"')",function(){var e=JSON.parse(i);return a.languageService.getFormattingEditsAfterKeystroke(t,n,r,e)})},m.prototype.getDocCommentTemplateAtPosition=function(e,t){var n=this;return this.forwardJSONCall("getDocCommentTemplateAtPosition('"+e+"', "+t+")",function(){return n.languageService.getDocCommentTemplateAtPosition(e,t)})},m.prototype.getNavigateToItems=function(e,t,n){var r=this;return this.forwardJSONCall("getNavigateToItems('"+e+"', "+t+", "+n+")",function(){return r.languageService.getNavigateToItems(e,t,n)})},m.prototype.getNavigationBarItems=function(e){var t=this;return this.forwardJSONCall("getNavigationBarItems('"+e+"')",function(){return t.languageService.getNavigationBarItems(e)})},m.prototype.getNavigationTree=function(e){var t=this;return this.forwardJSONCall("getNavigationTree('"+e+"')",function(){return t.languageService.getNavigationTree(e)})},m.prototype.getOutliningSpans=function(e){var t=this;return this.forwardJSONCall("getOutliningSpans('"+e+"')",function(){return t.languageService.getOutliningSpans(e)})},m.prototype.getTodoComments=function(e,t){var n=this;return this.forwardJSONCall("getTodoComments('"+e+"')",function(){return n.languageService.getTodoComments(e,JSON.parse(t))})},m.prototype.getEmitOutput=function(e){var t=this;return this.forwardJSONCall("getEmitOutput('"+e+"')",function(){return t.languageService.getEmitOutput(e)})},m.prototype.getEmitOutputObject=function(e){var t=this;return o(this.logger,"getEmitOutput('"+e+"')",!1,function(){return t.languageService.getEmitOutput(e)},this.logPerformance)};var f,_=m;function m(e,t,n){e=f.call(this,e)||this;return e.host=t,e.languageService=n,e.logPerformance=!1,e.logger=e.host,e}function g(e){return{spans:e.spans.join(","),endOfLineState:e.endOfLineState}}__extends(S,y=c),S.prototype.getEncodedLexicalClassifications=function(e,t,n){var r=this;return s(this.logger,"getEncodedLexicalClassifications",function(){return g(r.classifier.getEncodedLexicalClassifications(e,t,n))},this.logPerformance)},S.prototype.getClassificationsForLine=function(e,t,n){for(var e=this.classifier.getClassificationsForLine(e,t,n),r="",i=0,a=e.entries;i<a.length;i++)var s=a[i],r=(r+=s.length+"\n")+(s.classification+"\n");return r+e.finalLexState};var h,y,v=S,b=(__extends(k,h=c),k.prototype.forwardJSONCall=function(e,t){return s(this.logger,e,t,this.logPerformance)},k.prototype.resolveModuleName=function(n,r,i){var a=this;return this.forwardJSONCall("resolveModuleName('"+n+"')",function(){var e=JSON.parse(i),e=d.resolveModuleName(r,d.normalizeSlashes(n),e,a.host),t=e.resolvedModule?e.resolvedModule.resolvedFileName:void 0;return{resolvedFileName:t=e.resolvedModule&&".ts"!==e.resolvedModule.extension&&".tsx"!==e.resolvedModule.extension&&".d.ts"!==e.resolvedModule.extension?void 0:t,failedLookupLocations:e.failedLookupLocations}})},k.prototype.resolveTypeReferenceDirective=function(t,n,r){var i=this;return this.forwardJSONCall("resolveTypeReferenceDirective("+t+")",function(){var e=JSON.parse(r),e=d.resolveTypeReferenceDirective(n,d.normalizeSlashes(t),e,i.host);return{resolvedFileName:e.resolvedTypeReferenceDirective?e.resolvedTypeReferenceDirective.resolvedFileName:void 0,primary:!e.resolvedTypeReferenceDirective||e.resolvedTypeReferenceDirective.primary,failedLookupLocations:e.failedLookupLocations}})},k.prototype.getPreProcessedFileInfo=function(e,t){var n=this;return this.forwardJSONCall("getPreProcessedFileInfo('"+e+"')",function(){var e=d.preProcessFile(t.getText(0,t.getLength()),!0,!0);return{referencedFiles:n.convertFileReferences(e.referencedFiles),importedFiles:n.convertFileReferences(e.importedFiles),ambientExternalModules:e.ambientExternalModules,isLibFile:e.isLibFile,typeReferenceDirectives:n.convertFileReferences(e.typeReferenceDirectives)}})},k.prototype.getAutomaticTypeDirectiveNames=function(t){var n=this;return this.forwardJSONCall("getAutomaticTypeDirectiveNames('"+t+"')",function(){var e=JSON.parse(t);return d.getAutomaticTypeDirectiveNames(e,n.host)})},k.prototype.convertFileReferences=function(e){if(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];t.push({path:d.normalizeSlashes(i.fileName),position:i.pos,length:i.end-i.pos})}return t}},k.prototype.getTSConfigFileInfo=function(n,r){var i=this;return this.forwardJSONCall("getTSConfigFileInfo('"+n+"')",function(){var e=r.getText(0,r.getLength()),e=d.parseJsonText(n,e),t=d.normalizeSlashes(n),t=d.parseJsonSourceFileConfigFileContent(e,i.host,d.getDirectoryPath(t),{},t);return{options:t.options,typeAcquisition:t.typeAcquisition,files:t.fileNames,raw:t.raw,errors:u(e.parseDiagnostics.concat(t.errors),"\r\n")}})},k.prototype.getDefaultCompilationSettings=function(){return this.forwardJSONCall("getDefaultCompilationSettings()",function(){return d.getDefaultCompilerOptions()})},k.prototype.discoverTypings=function(t){var n=this,r=d.createGetCanonicalFileName(!1);return this.forwardJSONCall("discoverTypings()",function(){var e=JSON.parse(t);return void 0===n.safeList&&(n.safeList=d.JsTyping.loadSafeList(n.host,d.toPath(e.safeListPath,e.safeListPath,r))),d.JsTyping.discoverTypings(n.host,function(e){return n.logger.log(e)},e.fileNames,d.toPath(e.projectRootPath,e.projectRootPath,r),n.safeList,e.packageNameToTypingLocation,e.typeAcquisition,e.unresolvedImports)})},k);function x(){this._shims=[]}function k(e,t,n){e=h.call(this,e)||this;return e.logger=t,e.host=n,e.logPerformance=!1,e}function S(e,t){e=y.call(this,e)||this;return e.logger=t,e.logPerformance=!1,e.classifier=d.createClassifier(),e}x.prototype.getServicesVersion=function(){return d.servicesVersion},x.prototype.createLanguageServiceShim=function(t){try{void 0===this.documentRegistry&&(this.documentRegistry=d.createDocumentRegistry(t.useCaseSensitiveFileNames&&t.useCaseSensitiveFileNames(),t.getCurrentDirectory()));var e=new r(t),n=d.createLanguageService(e,this.documentRegistry);return new _(this,t,n)}catch(e){throw p(t,e),e}},x.prototype.createClassifierShim=function(t){try{return new v(this,t)}catch(e){throw p(t,e),e}},x.prototype.createCoreServicesShim=function(e){try{var t=new i(e);return new b(this,e,t)}catch(t){throw p(e,t),t}},x.prototype.close=function(){d.clear(this._shims),this.documentRegistry=void 0},x.prototype.registerShim=function(e){this._shims.push(e)},x.prototype.unregisterShim=function(e){for(var t=0;t<this._shims.length;t++)if(this._shims[t]===e)return void delete this._shims[t];throw new Error("Invalid operation")},d.TypeScriptServicesFactory=x,"undefined"!=typeof module&&module.exports&&(module.exports=d)}(ts=ts||{}),function(e){(e.Services||(e.Services={})).TypeScriptServicesFactory=ts.TypeScriptServicesFactory}(TypeScript=TypeScript||{}),"2.6"),e=(!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Fuse",[],t):"object"==typeof exports?exports.Fuse=t():e.Fuse=t()}(this,function(){return n=[function(e,t,n){e.exports=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e},s=n(5),o=n(7),l=n(4),n=(r(u,[{key:"search",value:function(e){var t,n,r,i,a;return this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e?{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]}:(a=(t=this.options).maxPatternLength,t=t.tokenSeparator,this.pattern.length>a?s(e,this.pattern,t):(t=(a=this.options).location,n=a.distance,r=a.threshold,i=a.findAllMatches,a=a.minMatchCharLength,o(e,this.pattern,this.patternAlphabet,{location:t,distance:n,threshold:r,findAllMatches:i,minMatchCharLength:a})))}}]),u);function u(e,t){var n=t.location,n=void 0===n?0:n,r=t.distance,r=void 0===r?100:r,i=t.threshold,i=void 0===i?.6:i,a=t.maxPatternLength,a=void 0===a?32:a,s=t.isCaseSensitive,s=void 0!==s&&s,o=t.tokenSeparator,o=void 0===o?/ +/g:o,c=t.findAllMatches,c=void 0!==c&&c,t=t.minMatchCharLength,t=void 0===t?1:t;if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.options={location:n,distance:r,threshold:i,maxPatternLength:a,isCaseSensitive:s,tokenSeparator:o,findAllMatches:c,minMatchCharLength:t},this.pattern=this.options.isCaseSensitive?e:e.toLowerCase(),this.pattern.length<=a&&(this.patternAlphabet=l(this.pattern))}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=n},function(e,t,n){function l(e,t,n){if(t){var r=t.indexOf("."),i=t,a=null,s=(-1!==r&&(i=t.slice(0,r),a=t.slice(r+1)),e[i]);if(null!=s)if(a||"string"!=typeof s&&"number"!=typeof s)if(u(s))for(var o=0,c=s.length;o<c;o+=1)l(s[o],a,n);else a&&l(s,a,n);else n.push(s.toString())}else n.push(e);return n}var u=n(0);e.exports=function(e,t){return l(e,t,[])}},function(e,t,n){e.exports=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=[],r=-1,i=0,a=e.length;i<a;i+=1){var s=e[i];s&&-1===r?r=i:s||-1===r||((s=i-1)-r+1>=t&&n.push([r,s]),r=-1)}return e[i-1]&&t<=i-r&&n.push([r,i-1]),n}},function(e,t,n){e.exports=function(e){for(var t={},n=e.length,r=0;r<n;r+=1)t[e.charAt(r)]=0;for(var i=0;i<n;i+=1)t[e.charAt(i)]|=1<<n-i-1;return t}},function(e,t,n){e.exports=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:/ +/g,t=new RegExp(t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(n,"|")),r=e.match(t),n=!!r,i=[];if(n)for(var a=0,s=r.length;a<s;a+=1){var o=r[a];i.push([e.indexOf(o),o.length-1])}return{score:n?.5:1,isMatch:n,matchedIndices:i}}},function(e,t,n){e.exports=function(e,t){var n=t.errors,r=t.currentLocation,i=t.expectedLocation,t=t.distance,t=void 0===t?100:t,n=(void 0===n?0:n)/e.length,e=Math.abs((void 0===i?0:i)-(void 0===r?0:r));return t?n+e/t:e?1:n}},function(e,t,n){var N=n(6),w=n(3);e.exports=function(e,t,n,r){for(var i=r.location,a=r.distance,s=void 0===a?100:a,a=r.threshold,o=r.findAllMatches,c=void 0!==o&&o,o=r.minMatchCharLength,r=void 0===o?1:o,l=void 0===i?0:i,u=e.length,d=void 0===a?.6:a,p=e.indexOf(t,l),f=t.length,_=[],m=0;m<u;m+=1)_[m]=0;-1!==p&&(o=N(t,{errors:0,currentLocation:p,expectedLocation:l,distance:s}),d=Math.min(o,d),-1!==(p=e.lastIndexOf(t,l+f)))&&(i=N(t,{errors:0,currentLocation:p,expectedLocation:l,distance:s}),d=Math.min(i,d));for(var p=-1,g=[],h=1,y=f+u,v=1<<f-1,b=0;b<f;b+=1){for(var x=0,k=y;x<k;)N(t,{errors:b,currentLocation:l+k,expectedLocation:l,distance:s})<=d?x=k:y=k,k=Math.floor((y-x)/2+x);var y=k,S=Math.max(1,l-k+1),T=c?u:Math.min(l+k,u)+f,C=Array(T+2);C[T+1]=(1<<b)-1;for(var E=T;S<=E;--E){var D=E-1,A=n[e.charAt(D)];if(A&&(_[D]=1),C[E]=(C[E+1]<<1|1)&A,0!==b&&(C[E]|=(g[E+1]|g[E])<<1|1|g[E+1]),C[E]&v&&(h=N(t,{errors:b,currentLocation:D,expectedLocation:l,distance:s}))<=d){if(d=h,(p=D)<=l)break;S=Math.max(1,2*l-p)}}if(N(t,{errors:b+1,currentLocation:l,expectedLocation:l,distance:s})>d)break;g=C}return{isMatch:0<=p,score:0===h?.001:h,matchedIndices:w(_,r)}}},function(e,t,n){var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e},a=n(1),v=n(2),A=n(0),n=(r(b,[{key:"setCollection",value:function(e){return this.list=e}},{key:"search",value:function(e){this._log('---------\nSearch pattern: "'+e+'"');var e=this._prepareSearchers(e),t=e.tokenSearchers,e=e.fullSearcher,t=this._search(t,e),e=t.weights,t=t.results;return this._computeScore(e,t),this.options.shouldSort&&this._sort(t),this._format(t)}},{key:"_prepareSearchers",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),r=0,i=n.length;r<i;r+=1)t.push(new a(n[r],this.options));return{tokenSearchers:t,fullSearcher:new a(e,this.options)}}},{key:"_search",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=this.list,r={},i=[];if("string"==typeof n[0]){for(var a=0,s=n.length;a<s;a+=1)this._analyze({key:"",value:n[a],record:a,index:a},{resultMap:r,results:i,tokenSearchers:e,fullSearcher:t});return{weights:null,results:i}}for(var o={},c=0,l=n.length;c<l;c+=1)for(var u=n[c],d=0,p=this.options.keys.length;d<p;d+=1){var f=this.options.keys[d];if("string"!=typeof f){if(o[f.name]={weight:1-f.weight||1},f.weight<=0||1<f.weight)throw new Error("Key weight has to be > 0 and <= 1");f=f.name}else o[f]={weight:1};this._analyze({key:f,value:this.options.getFn(u,f),record:u,index:c},{resultMap:r,results:i,tokenSearchers:e,fullSearcher:t})}return{weights:o,results:i}}},{key:"_analyze",value:function(e,t){var n=e.key,r=e.arrayIndex,r=void 0===r?-1:r,i=e.value,a=e.record,s=e.index,e=t.tokenSearchers,o=void 0===e?[]:e,e=t.fullSearcher,c=void 0===e?[]:e,e=t.resultMap,l=void 0===e?{}:e,e=t.results,u=void 0===e?[]:e;if(null!=i){var d=!1,p=-1,f=0;if("string"==typeof i){this._log("\nKey: "+(""===n?"-":n));t=c.search(i);if(this._log('Full text: "'+i+'", score: '+t.score),this.options.tokenize){for(var _=i.split(this.options.tokenSeparator),m=[],g=0;g<o.length;g+=1){var h=o[g];this._log('\nPattern: "'+h.pattern+'"');for(var y=!1,v=0;v<_.length;v+=1){var b=_[v],x=h.search(b),k={};x.isMatch?(k[b]=x.score,y=d=!0,m.push(x.score)):(k[b]=1,this.options.matchAllTokens||m.push(1)),this._log('Token: "'+b+'", score: '+k[b])}y&&(f+=1)}for(var p=m[0],S=m.length,T=1;T<S;T+=1)p+=m[T];this._log("Token score average:",p/=S)}var e=t.score,C=(this._log("Score average:",e=-1<p?(e+p)/2:e),!this.options.tokenize||!this.options.matchAllTokens||f>=o.length);this._log("\nCheck Matches: "+C),(d||t.isMatch)&&C&&((C=l[s])?C.output.push({key:n,arrayIndex:r,value:i,score:e,matchedIndices:t.matchedIndices}):(l[s]={item:a,output:[{key:n,arrayIndex:r,value:i,score:e,matchedIndices:t.matchedIndices}]},u.push(l[s])))}else if(A(i))for(var E=0,D=i.length;E<D;E+=1)this._analyze({key:n,arrayIndex:E,value:i[E],record:a,index:s},{resultMap:l,results:u,tokenSearchers:o,fullSearcher:c})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var n=0,r=t.length;n<r;n+=1){for(var i=t[n].output,a=i.length,s=0,o=1,c=0;c<a;c+=1){var l=e?e[i[c].key].weight:1,u=(1===l?i[c].score:i[c].score||.001)*l;1!==l?o=Math.min(o,u):s+=i[c].nScore=u}t[n].score=1===o?s/a:o,this._log(t[n])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[],n=(this._log("\n\nOutput:\n\n",JSON.stringify(e)),[]);this.options.includeMatches&&n.push(function(e,t){var n=e.output;t.matches=[];for(var r=0,i=n.length;r<i;r+=1){var a,s=n[r];0!==s.matchedIndices.length&&(a={indices:s.matchedIndices,value:s.value},s.key&&(a.key=s.key),s.hasOwnProperty("arrayIndex")&&-1<s.arrayIndex&&(a.arrayIndex=s.arrayIndex),t.matches.push(a))}}),this.options.includeScore&&n.push(function(e,t){t.score=e.score});for(var r=0,i=e.length;r<i;r+=1){var a=e[r];if(this.options.id&&(a.item=this.options.getFn(a.item,this.options.id)[0]),n.length){for(var s={item:a.item},o=0,c=n.length;o<c;o+=1)n[o](a,s);t.push(s)}else t.push(a.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}]),b);function b(e,t){var n=t.location,n=void 0===n?0:n,r=t.distance,r=void 0===r?100:r,i=t.threshold,i=void 0===i?.6:i,a=t.maxPatternLength,a=void 0===a?32:a,s=t.caseSensitive,s=void 0!==s&&s,o=t.tokenSeparator,o=void 0===o?/ +/g:o,c=t.findAllMatches,c=void 0!==c&&c,l=t.minMatchCharLength,l=void 0===l?1:l,u=t.id,u=void 0===u?null:u,d=t.keys,d=void 0===d?[]:d,p=t.shouldSort,p=void 0===p||p,f=t.getFn,f=void 0===f?v:f,_=t.sortFn,_=void 0===_?function(e,t){return e.score-t.score}:_,m=t.tokenize,m=void 0!==m&&m,g=t.matchAllTokens,g=void 0!==g&&g,h=t.includeMatches,h=void 0!==h&&h,y=t.includeScore,y=void 0!==y&&y,t=t.verbose,t=void 0!==t&&t;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.options={location:n,distance:r,threshold:i,maxPatternLength:a,isCaseSensitive:s,tokenSeparator:o,findAllMatches:c,minMatchCharLength:l,id:u,keys:d,includeMatches:h,includeScore:y,shouldSort:p,getFn:f,sortFn:_,verbose:t,tokenize:m,matchAllTokens:g},this.setCollection(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=n}],i={},r.m=n,r.c=i,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8);function r(e){var t;return(i[e]||(t=i[e]={i:e,l:!1,exports:{}},n[e].call(t.exports,t,t.exports,r),t.l=!0,t)).exports}var n,i}),function(){function T(e,t){postMessage({action:3,cbn:t,result:e})}function m(e){var t=[];return t[e-1]=void 0,t}function L(e,t){return n(e[0]+t[0],e[1]+t[1])}function s(e,t){return n=~~Math.max(Math.min(e[1]/i,2147483647),-2147483648)&~~Math.max(Math.min(t[1]/i,2147483647),-2147483648),e=U(e)&U(t),(t=e)<0&&(t+=i),[t,n*i];var n}function R(e,t){var n,r;return e[0]==t[0]&&e[1]==t[1]?0:(n=e[1]<0,r=t[1]<0,n&&!r||(n||!r)&&Z(e,t)[1]<0?-1:1)}function n(e,t){var n,r;for(e%=0x10000000000000000,t=(t%=0x10000000000000000)-(n=t%i)+(r=Math.floor(e/i)*i),e=e-r+n;e<0;)e+=i,t-=i;for(;4294967295<e;)e-=i,t+=i;for(t%=0x10000000000000000;0x7fffffff00000000<t;)t-=0x10000000000000000;for(;t<-0x8000000000000000;)t+=0x10000000000000000;return[e,t]}function $(e,t){return e[0]==t[0]&&e[1]==t[1]}function M(e){return 0<=e?[e,0]:[e+i,-i]}function U(e){return 2147483648<=e[0]?~~Math.max(Math.min(e[0]-i,2147483647),-2147483648):~~Math.max(Math.min(e[0],2147483647),-2147483648)}function r(e){return e<=30?1<<e:r(30)*r(e-30)}function o(e,t){var n;if(t&=63,$(e,we))return t?z:e;if(e[1]<0)throw Error("Neg");return t=r(t),n=e[1]*t%0x10000000000000000,0x8000000000000000<=(n+=t=(e=e[0]*t)-e%i)&&(n-=0x10000000000000000),[e-=t,n]}function C(e,t){t=r(t&=63);return n(Math.floor(e[0]/t),e[1]/t)}function Z(e,t){return n(e[0]-t[0],e[1]-t[1])}function E(e,t){return e.Mc=t,e.Lc=0,e.Yb=t.length,e}function d(e){return e.Lc>=e.Yb?-1:255&e.Mc[e.Lc++]}function D(e){return e.Mc=m(32),e.Yb=0,e}function u(e){var t=e.Mc;return t.length=e.Yb,t}function A(e,t){e.Mc[e.Yb++]=t<<24>>24}function N(e,t,n,r){w(t,n,e.Mc,e.Yb,r),e.Yb+=r}function w(e,t,n,r,i){for(var a=0;a<i;++a)n[r+a]=e[t+a]}function I(t,n,r,i,a){var s,o;if(R(i,S)<0)throw Error("invalid length "+i);t.Tb=i;var c=s=function(e){var t;for(e.v=m(4),e.a=[],e.d={},e.C=m(192),e.bb=m(12),e.hb=m(12),e.Ub=m(12),e.vc=m(12),e._=m(192),e.K=[],e.Sb=m(114),e.S=g({},4),e.$=xe({}),e.i=xe({}),e.A={},e.m=[],e.P=[],e.lb=[],e.nc=m(16),e.x=m(4),e.Q=m(4),e.Xb=[z],e.uc=[z],e.Kc=[0],e.fc=m(5),e.yc=m(128),e.vb=0,e.X=1,e.D=0,e.Hb=-1,e.mb=0,t=0;t<4096;++t)e.a[t]={};for(t=0;t<4;++t)e.K[t]=g({},6);return e}({}),l=c,u=1<<a.s;l.ab=u;for(var d,p=0;1<<p<u;++p);l.$b=2*p,c.n=a.f,l=c,a=a.m,d=l.X,l.X=a,l.b&&d!=l.X&&(l.wb=-1,l.b=null),c.eb=0,c.fb=3,c.Y=2,c.y=3,s.Gc=void 0===e.disableEndMark;var f=s,a=r;f.fc[0]=9*(5*f.Y+f.eb)+f.fb<<24>>24;for(var _=0;_<4;++_)f.fc[1+_]=f.ab>>8*_<<24>>24;for(N(a,f.fc,0,5),o=0;o<64;o+=8)A(r,255&U(C(i,o)));t.yb=(s.W=0,s.oc=n,s.pc=0,function(e){e.b||(d=4,e.X||(d=2),d=d,(p=r={}).qb=2<d,p.qb?(p.w=0,p.xb=4,p.R=66560):(p.w=2,p.xb=3,p.R=0),e.b=r);var t,n,r,i,a,s,o,c,l,u=e.A,d=e.eb,p=e.fb;if(null==u.V||u.u!=p||u.I!=d)for(u.I=d,u.qc=(1<<d)-1,u.u=p,n=1<<u.u+u.I,u.V=m(n),t=0;t<n;++t)u.V[t]=function(e){return e.tb=m(768),e}({});e.ab==e.wb&&e.Hb==e.n||(r=e.b,i=e.ab,a=4096,s=e.n,o=274,i<1073741567&&(r.Fc=16+(s>>1),l=s+o,o=256+~~(((a=i+a)+s+o)/2),(c=r).Bc=a,c._b=l,a=a+l+o,null!=c.c&&c.Kb==a||(c.c=null,c.Kb=a,c.c=m(c.Kb)),c.H=c.Kb-l,r.ob=s,o=i+1,r.p!=o&&(r.L=m(2*(r.p=o))),a=65536,r.qb&&(a=i-1,16777216<(a=(a=(a=(a=(a|=a>>1)|a>>2)|a>>4)|a>>8)>>1|65535)&&(a>>=1),r.Ec=a,++a,a+=r.R),a!=r.rc)&&(r.ub=m(r.rc=a)),e.wb=e.ab,e.Hb=e.n)}(s),s.d.Ab=r,function(e){var t=e;t.l=0;for(var n=t.J=0;n<4;++n)t.v[n]=0;(s=e.d).mc=z,s.xc=z,s.E=-1,s.Jb=1,s.Oc=0,y(e.C),y(e._),y(e.bb),y(e.hb),y(e.Ub),y(e.vc),y(e.Sb);for(var r=e.A,i=1<<r.u+r.I,a=0;a<i;++a)y(r.V[a].tb);for(var s,o=0;o<4;++o)y(e.K[o].G);ye(e.$,1<<e.Y),ye(e.i,1<<e.Y),y(e.S.G),e.N=0,e.jb=0,e.q=0,e.s=0}(s),de(s),ue(s),s.$.rb=s.n+1-2,ke(s.$,1<<s.Y),s.i.rb=s.n+1-2,ke(s.i,1<<s.Y),s.g=z,d=s,(l={}).cb=d,l.Z=null,l.zc=1,l)}function P(e,t,n){return e.Nb=D({}),I(e,E({},t),e.Nb,M(t.length),n),e}function O(e,u,t){for(var n,r,i,a="",s=[],o=0;o<5;++o){if(-1==(r=d(u)))throw Error("truncated input");s[o]=r<<24>>24}if(!function(e,t){var n,r,i,a,s;if(!(t.length<5)){for(a=(i=255&t[0])%9,s=(i=~~(i/9))%5,i=~~(i/5),r=n=0;r<4;++r)n+=(255&t[1+r])<<8*r;return!(99999999<n)&&function(e,t,n,r){if(!(8<t||4<n||4<r)){var i,a,s=e.gb;if(null==s.V||s.u!=t||s.I!=n)for(s.I=n,s.qc=(1<<n)-1,s.u=t,a=1<<s.u+s.I,s.V=m(a),i=0;i<a;++i)s.V[i]=function(e){return e.Ib=m(768),e}({});n=1<<r;return ae(e.Rb,n),ae(e.sb,n),e.Dc=n-1,1}}(e,a,s,i)&&(a=e,!((s=n)<0))&&(a.Ob!=s&&(a.Ob=s,a.nb=Math.max(a.Ob,1),s=a.B,a=Math.max(a.nb,4096),null!=s.Lb&&s.M==a||(s.Lb=m(a)),s.M=a,s.o=0,s.h=0),1)}}(n=function(e){e.B={},e.e={},e.Gb=m(192),e.Zb=m(12),e.Cb=m(12),e.Db=m(12),e.Eb=m(12),e.pb=m(192),e.kb=m(4),e.kc=m(114),e.Fb=c({},4),e.Rb=oe({}),e.sb=oe({}),e.gb={};for(var t=0;t<4;++t)e.kb[t]=c({},6);return e}({}),s))throw Error("corrupted input");for(o=0;o<64;o+=8){if(-1==(r=d(u)))throw Error("truncated input");a=(r=1==(r=r.toString(16)).length?"0"+r:r)+""+a}/^0+$|^f+$/i.test(a)?e.Tb=S:(i=parseInt(a,16),e.Tb=4294967295<i?S:M(i)),e.yb=function(e,t,n){e.e.Ab=u,ie(e.B),e.B.cc=t;var r=e;r.B.h=0,r.B.o=0,y(r.Gb),y(r.pb),y(r.Zb),y(r.Cb),y(r.Db),y(r.Eb),y(r.kc);for(var i=r.gb,a=1<<i.u+i.I,s=0;s<a;++s)y(i.V[s].Ib);for(var o=0;o<4;++o)y(r.kb[o].G);ce(r.Rb),ce(r.sb),y(r.Fb.G);var c=r.e;c.Bb=0,c.E=-1;for(var l=0;l<5;++l)c.Bb=c.Bb<<8|d(c.Ab);return e.U=0,e.ib=0,e.Jc=0,e.Ic=0,e.Qc=0,e.Nc=n,e.g=z,e.jc=0,(t={}).Z=e,t.cb=null,t.zc=1,t}(n,t,e.Tb)}function F(e,t){return e.Nb=D({}),O(e,E({},t),e.Nb),e}function J(e,t){return e.c[e.f+e.o+t]}function q(e,t,n,r){var i,a;for(e.T&&e.o+t+r>e.h&&(r=e.h-(e.o+t)),++n,a=e.f+e.o+t,i=0;i<r&&e.c[a+i]==e.c[a+i-n];++i);return i}function V(e){return e.h-e.o}function ee(e){var t,n,r,i;if(!e.T)for(;;){if(!(i=-e.f+e.Kb-e.h))return;if(-1==(t=e.cc,n=e.c,r=e.f+e.h,i=i,n=t.Lc>=t.Yb?-1:(i=Math.min(i,t.Yb-t.Lc),w(t.Mc,t.Lc,n,r,i),t.Lc+=i,i)))return e.zb=e.h,e.f+e.zb>e.H&&(e.zb=e.H-e.f),e.T=1;e.h+=n,e.h>=e.o+e._b&&(e.zb=e.h-e._b)}}function te(e,t){e.f+=t,e.zb-=t,e.o-=t,e.h-=t}function k(e){++e.k>=e.p&&(e.k=0);var t=e;if(++t.o,t.o>t.zb){if(t.f+t.o>t.H){var n,r,i,a=t;for(0<(i=a.f+a.o-a.Bc)&&--i,r=a.f+a.h-i,n=0;n<r;++n)a.c[n]=a.c[i+n];a.f-=i}ee(t)}1073741823==e.o&&(t=e.o-e.p,ne(e.L,2*e.p,t),ne(e.ub,e.rc,t),te(e,t))}function ne(e,t,n){for(var r,i=0;i<t;++i)n>=(r=e[i]||0)?r=0:r-=n,e[i]=r}function l(e){var t=e.o-e.h;t&&(N(e.cc,e.Lb,e.h,t),e.o>=e.M&&(e.o=0),e.h=e.o)}function re(e,t){t=e.o-t-1;return t<0&&(t+=e.M),e.Lb[t]}function ie(e){l(e),e.cc=null}function B(e){return(e-=2)<4?e:3}function H(e){return e<4?0:e<10?e-3:e-6}function p(e){if(e.zc){if(e.cb)(function(e,t,n,r){var i,a,s,o,c,l,u,d,p,f,_,m,g;if(t[0]=z,n[0]=z,r[0]=1,e.oc&&(e.b.cc=e.oc,(g=e.b).f=0,g.o=0,g.h=0,g.T=0,ee(g),g.k=0,te(g,-1),e.W=1,e.oc=null),!e.pc){if(e.pc=1,f=e.g,$(e.g,z)){if(!V(e.b))return pe(e,U(e.g));me(e),p=U(e.g)&e.y,K(e.d,e.C,(e.l<<4)+p,0),e.l=H(e.l),i=J(e.b,-e.s),Se(Q(e.A,U(e.g),e.J),e.d,i),e.J=i,--e.s,e.g=L(e.g,Ie)}if(!V(e.b))return pe(e,U(e.g));for(;;){if(c=function(n,e){var t,r,R,i,a,s,M,o,c,l,u,d,p,U,f,B,_,j,m,g,K,h,y,v,b,x,k,S,T,C,E,z,D,$,A,N,w,I,P,O,F;if(n.jb!=n.q)return L=n.a[n.q].r-n.q,n.mb=n.a[n.q].j,n.q=n.a[n.q].r,L;if(n.q=n.jb=0,n.N?(u=n.vb,n.N=0):u=me(n),v=n.D,(h=V(n.b)+1)<2)return n.mb=-1,1;for(273<h&&(h=273),o=N=0;o<4;++o)n.x[o]=n.v[o],n.Q[o]=q(n.b,-1,n.x[o],273),n.Q[o]>n.Q[N]&&(N=o);if(n.Q[N]>=n.n)return n.mb=N,_e(n,(L=n.Q[N])-1),L;if(u>=n.n)return n.mb=n.m[v-1]+4,_e(n,u-1),u;if(s=J(n.b,-1),f=J(n.b,-n.v[0]-1-1),u<2&&s!=f&&n.Q[N]<2)return n.mb=-1,1;{var L;n.a[0].Hc=n.l,C=e&n.y,n.a[1].z=X[n.C[(n.l<<4)+C]>>>2]+Y(Q(n.A,e,n.J),7<=n.l,f,s),Te(n.a[1]),A=(B=X[2048-n.C[(n.l<<4)+C]>>>2])+X[2048-n.bb[n.l]>>>2],f==s&&(w=A+function(e,t){return X[n.hb[e]>>>2]+X[n._[(e<<4)+t]>>>2]}(n.l,C),n.a[1].z>w)&&(n.a[1].z=w,(L=n.a[1]).j=0,L.t=0)}if((l=u>=n.Q[N]?u:n.Q[N])<2)return n.mb=n.a[1].j,1;n.a[1].r=0,n.a[0].bc=n.x[0],n.a[0].ac=n.x[1],n.a[0].dc=n.x[2],n.a[0].lc=n.x[3],c=l;for(;n.a[c--].z=268435455,2<=c;);for(o=0;o<4;++o)if(!(($=n.Q[o])<2))for(z=A+G(n,o,n.l,C);i=z+W(n.i,$-2,C),(k=n.a[$]).z>i&&(k.z=i,k.r=0,k.j=o,k.t=0),2<=--$;);if(K=B+X[n.bb[n.l]>>>2],u>=(c=2<=n.Q[0]?n.Q[0]+1:2)){for(b=0;c>n.m[b];)b+=2;for(;i=K+fe(n,M=n.m[b+1],c,C),(k=n.a[c]).z>i&&(k.z=i,k.r=0,k.j=M+4,k.t=0),c!=n.m[b]||(b+=2)!=v;++c);}for(t=0;;){if(++t==l)return le(n,t);if(_=me(n),v=n.D,_>=n.n)return n.vb=_,n.N=1,le(n,t);if(++e,T=n.a[t].r,P=n.a[t].t?(--T,H(P=n.a[t].Ac?(P=n.a[n.a[t].r2].Hc,n.a[t].j2<4?P<7?8:11:P<7?7:10):n.a[T].Hc)):n.a[T].Hc,T==t-1?P=n.a[t].j?H(P):P<7?9:11:(P=n.a[t].t&&n.a[t].Ac?(T=n.a[t].r2,S=n.a[t].j2,P<7?8:11):(S=n.a[t].j)<4?P<7?8:11:P<7?7:10,T=n.a[T],S<4?S?1==S?(n.x[0]=T.ac,n.x[1]=T.bc,n.x[2]=T.dc,n.x[3]=T.lc):2==S?(n.x[0]=T.dc,n.x[1]=T.bc,n.x[2]=T.ac,n.x[3]=T.lc):(n.x[0]=T.lc,n.x[1]=T.bc,n.x[2]=T.ac,n.x[3]=T.dc):(n.x[0]=T.bc,n.x[1]=T.ac,n.x[2]=T.dc,n.x[3]=T.lc):(n.x[0]=S-4,n.x[1]=T.bc,n.x[2]=T.ac,n.x[3]=T.dc)),n.a[t].Hc=P,n.a[t].bc=n.x[0],n.a[t].ac=n.x[1],n.a[t].dc=n.x[2],n.a[t].lc=n.x[3],T=n.a[t].z,s=J(n.b,-1),f=J(n.b,-n.x[0]-1-1),C=e&n.y,r=T+X[n.C[(P<<4)+C]>>>2]+Y(Q(n.A,e,J(n.b,-2)),7<=P,f,s),j=0,(m=n.a[t+1]).z>r&&(m.z=r,m.r=t,m.j=-1,m.t=0,j=1),A=(B=T+X[2048-n.C[(P<<4)+C]>>>2])+X[2048-n.bb[P]>>>2],f!=s||t>m.r&&!m.j||(w=A+(X[n.hb[P]>>>2]+X[n._[(P<<4)+C]>>>2]),m.z>=w&&(m.z=w,m.r=t,m.j=0,m.t=0,j=1)),!((h=y=(y=V(n.b)+1)>4095-t?4095-t:y)<2)){if(h>n.n&&(h=n.n),!j&&f!=s&&(F=Math.min(y-1,n.n),2<=(p=q(n.b,0,n.x[0],F)))){for(O=H(P),E=e+1&n.y,g=r+X[2048-n.C[(O<<4)+E]>>>2]+X[2048-n.bb[O]>>>2],x=t+1+p;l<x;)n.a[++l].z=268435455;i=g+(W(n.i,p-2,E)+G(n,0,O,E)),(k=n.a[x]).z>i&&(k.z=i,k.r=t+1,k.j=0,k.t=1,k.Ac=0)}for(I=2,D=0;D<4;++D)if(!((d=q(n.b,-1,n.x[D],h))<2)){U=d;do{for(;l<t+d;)n.a[++l].z=268435455}while(i=A+(W(n.i,d-2,C)+G(n,D,P,C)),(k=n.a[t+d]).z>i&&(k.z=i,k.r=t,k.j=D,k.t=0),2<=--d);if(d=U,D||(I=d+1),d<y&&(F=Math.min(y-1-d,n.n),2<=(p=q(n.b,d,n.x[D],F)))){for(O=P<7?8:11,E=e+d&n.y,R=A+(W(n.i,d-2,C)+G(n,D,P,C))+X[n.C[(O<<4)+E]>>>2]+Y(Q(n.A,e+d,J(n.b,d-1-1)),1,J(n.b,d-1-(n.x[D]+1)),J(n.b,d-1)),O=H(O),E=e+d+1&n.y,g=R+X[2048-n.C[(O<<4)+E]>>>2]+X[2048-n.bb[O]>>>2],x=d+1+p;l<t+x;)n.a[++l].z=268435455;i=g+(W(n.i,p-2,E)+G(n,0,O,E)),(k=n.a[t+x]).z>i&&(k.z=i,k.r=t+d+1,k.j=0,k.t=1,k.Ac=1,k.r2=t,k.j2=D)}}if(h<_){for(_=h,v=0;_>n.m[v];v+=2);n.m[v]=_,v+=2}if(I<=_){for(K=B+X[n.bb[P]>>>2];l<t+_;)n.a[++l].z=268435455;for(b=0;I>n.m[b];)b+=2;for(d=I;;++d)if(i=K+fe(n,a=n.m[b+1],d,C),(k=n.a[t+d]).z>i&&(k.z=i,k.r=t,k.j=a+4,k.t=0),d==n.m[b]){if(d<y&&(F=Math.min(y-1-d,n.n),2<=(p=q(n.b,d,a,F)))){for(O=P<7?7:10,E=e+d&n.y,R=i+X[n.C[(O<<4)+E]>>>2]+Y(Q(n.A,e+d,J(n.b,d-1-1)),1,J(n.b,d-(a+1)-1),J(n.b,d-1)),O=H(O),E=e+d+1&n.y,g=R+X[2048-n.C[(O<<4)+E]>>>2]+X[2048-n.bb[O]>>>2],x=d+1+p;l<t+x;)n.a[++l].z=268435455;i=g+(W(n.i,p-2,E)+G(n,0,O,E)),(k=n.a[t+x]).z>i&&(k.z=i,k.r=t+d+1,k.j=0,k.t=1,k.Ac=1,k.r2=t,k.j2=a+4)}if((b+=2)==v)break}}}}}(e,U(e.g)),u=e.mb,p=U(e.g)&e.y,s=(e.l<<4)+p,1==c&&-1==u){K(e.d,e.C,s,0),i=J(e.b,-e.s),_=Q(e.A,U(e.g),e.J);if(e.l<7)Se(_,e.d,i);else{l=J(e.b,-e.v[0]-1-e.s);{h=void 0;y=void 0;v=void 0;b=void 0;x=void 0;k=void 0;S=void 0;T=void 0;C=void 0;E=void 0;var h=_;var y=e.d;var v=l;var b=i;var x,k,S,T,C=1,E=1;for(k=7;0<=k;--k)x=b>>k&1,T=E,C&&(T+=1+(S=v>>k&1)<<8,C=S==x),K(y,h.tb,T,x),E=E<<1|x}}e.J=i,e.l=H(e.l)}else{if(K(e.d,e.C,s,1),u<4){if(K(e.d,e.bb,e.l,1),u?(K(e.d,e.hb,e.l,1),1==u?K(e.d,e.Ub,e.l,0):(K(e.d,e.Ub,e.l,1),K(e.d,e.vc,e.l,u-2))):(K(e.d,e.hb,e.l,0),K(e.d,e._,s,1==c?0:1)),1==c?e.l=e.l<7?9:11:(be(e.i,e.d,c-2,p),e.l=e.l<7?8:11),a=e.v[u],0!=u){for(o=u;1<=o;--o)e.v[o]=e.v[o-1];e.v[0]=a}}else{if(K(e.d,e.bb,e.l,0),e.l=e.l<7?7:10,be(e.$,e.d,c-2,p),_=he(u-=4),l=B(c),j(e.K[l],e.d,_),4<=_){d=u-(m=(2|1&_)<<(s=(_>>1)-1));if(_<14){D=void 0;A=void 0;N=void 0;w=void 0;I=void 0;P=void 0;O=void 0;F=void 0;var D=e.Sb;var A=m-_-1;var N=e.d;var w=s;var I=d;var P,O,F=1;for(O=0;O<w;++O)K(N,D,A+F,P=1&I),F=F<<1|P,I>>=1}else Ee(e.d,d>>4,s-4),Ce(e.S,e.d,15&d),++e.Qb}for(a=u,o=3;1<=o;--o)e.v[o]=e.v[o-1];e.v[0]=a,++e.Mb}e.J=J(e.b,c-1-e.s)}if(e.s-=c,e.g=L(e.g,M(c)),!e.s){if(128<=e.Mb&&de(e),16<=e.Qb&&ue(e),t[0]=e.g,n[0]=L(L(M((m=e.d).Jb),m.mc),[4,0]),!V(e.b))return pe(e,U(e.g));if(0<=R(Z(e.g,f),[4096,0]))return r[e.pc=0]=0}}}})((t=e).cb,t.cb.Xb,t.cb.uc,t.cb.Kc),t.Pb=t.cb.Xb[0],t.cb.Kc[0]&&(ge(n=t.cb),n.d.Ab=null,t.zc=0);else{n=e;t=function(e){var i,t,n,r,a=U(e.g)&e.Dc;if(h(e.e,e.Gb,(e.U<<4)+a)){if(h(e.e,e.Zb,e.U))r=0,h(e.e,e.Cb,e.U)?(h(e.e,e.Db,e.U)?(h(e.e,e.Eb,e.U)?(n=e.Qc,e.Qc=e.Ic):n=e.Ic,e.Ic=e.Jc):n=e.Jc,e.Jc=e.ib,e.ib=n):h(e.e,e.pb,(e.U<<4)+a)||(e.U=e.U<7?9:11,r=1),r||(r=se(e.sb,e.e,a)+2,e.U=e.U<7?8:11);else if(e.Qc=e.Ic,e.Ic=e.Jc,e.Jc=e.ib,r=2+se(e.Rb,e.e,a),e.U=e.U<7?7:10,4<=(n=f(e.kb[B(r)],e.e))){if(e.ib=(2|1&n)<<(i=(n>>1)-1),n<14)e.ib+=function(e,t,n,r){for(var i,a=1,s=0,o=0;o<r;++o)a=(a<<1)+(i=h(n,e,t+a)),s|=i<<o;return s}(e.kc,e.ib-n-1,e.e,i);else if(e.ib+=function(e){for(var t,n=0,r=i-4;0!=r;--r)e.E>>>=1,t=e.Bb-e.E>>>31,e.Bb-=e.E&t-1,n=n<<1|1-t,-16777216&e.E||(e.Bb=e.Bb<<8|d(e.Ab),e.E<<=8);return n}(e.e)<<4,e.ib+=function(e,t){for(var n,r=1,i=0,a=0;e.F>a;++a)r=(r<<1)+(n=h(t,e.G,r)),i|=n<<a;return i}(e.Fb,e.e),e.ib<0)return-1==e.ib?1:-1}else e.ib=n;if(0<=R(M(e.ib),e.g)||e.ib>=e.nb)return-1;var s=e.B,a=e.ib,o=r,c=s.o-a-1;for(c<0&&(c+=s.M);0!=o;--o)c>=s.M&&(c=0),s.Lb[s.o++]=s.Lb[c++],s.o>=s.M&&l(s);e.g=L(e.g,M(r)),e.jc=re(e.B,0)}else n=e.gb,a=U(e.g),r=e.jc,a=n.V[((a&n.qc)<<n.u)+((255&r)>>>8-n.u)],e.jc=e.U<7?function(e,t){for(var n=1;(n=n<<1|h(t,e.Ib,n))<256;);return n<<24>>24}(a,e.e):function(e,t,n){var r,i,a=1;do{if(i=n>>7&1,n<<=1,a=a<<1|(r=h(t,e.Ib,(1+i<<8)+a)),i!=r){for(;a<256;)a=a<<1|h(t,e.Ib,a);break}}while(a<256);return a<<24>>24}(a,e.e,re(e.B,e.ib)),a=e.B,t=e.jc,a.Lb[a.o++]=t,a.o>=a.M&&l(a),e.U=H(e.U),e.g=L(e.g,Ie);return 0}(n.Z);if(-1==t)throw Error("corrupted input");n.Pb=S,n.Pc=n.Z.g,(t||0<=R(n.Z.Nc,z)&&0<=R(n.Z.g,n.Z.Nc))&&(l(n.Z.B),ie(n.Z.B),n.Z.e.Ab=null,n.zc=0)}return e.zc}throw Error("bad state");var t,n}function ae(e,t){for(;t>e.O;++e.O)e.ec[e.O]=c({},3),e.hc[e.O]=c({},3)}function se(e,t,n){return h(t,e.wc,0)?8+(h(t,e.wc,1)?8+f(e.tc,t):f(e.hc[n],t)):f(e.ec[n],t)}function oe(e){return e.wc=m(2),e.ec=m(16),e.hc=m(16),e.tc=c({},8),e.O=0,e}function ce(e){y(e.wc);for(var t=0;e.O>t;++t)y(e.ec[t].G),y(e.hc[t].G);y(e.tc.G)}function le(e,t){var n,r,i,a;for(e.jb=t,i=e.a[t].r,r=e.a[t].j;e.a[t].t&&(Te(e.a[i]),e.a[i].r=i-1,e.a[t].Ac)&&(e.a[i-1].t=0,e.a[i-1].r=e.a[t].r2,e.a[i-1].j=e.a[t].j2),a=i,n=r,r=e.a[a].j,i=e.a[a].r,e.a[a].j=n,e.a[a].r=t,0<(t=a););return e.mb=e.a[0].j,e.q=e.a[0].r}function ue(e){for(var t=0;t<16;++t)e.nc[t]=function(e,t){var n,r,i=1,a=0;for(r=e.F;0!=r;--r)n=1&t,t>>>=1,a+=v(e.G[i],n),i=i<<1|n;return a}(e.S,t);e.Qb=0}function de(e){for(var t,n,r,i,a,s,o,c=4;c<128;++c)t=(2|1&(a=he(c)))<<(r=(a>>1)-1),e.yc[c]=function(e,t,n,r){var i,a,s=1,o=0;for(a=n;0!=a;--a)i=1&r,r>>>=1,o+=X[(2047&(e[t+s]-i^-i))>>>2],s=s<<1|i;return o}(e.Sb,t-a-1,r,c-t);for(i=0;i<4;++i){for(n=e.K[i],s=i<<6,a=0;e.$b>a;++a)e.P[s+a]=_(n,a);for(a=14;e.$b>a;++a)e.P[s+a]+=(a>>1)-1-4<<6;for(o=128*i,c=0;c<4;++c)e.lb[o+c]=e.P[s+c];for(;c<128;++c)e.lb[o+c]=e.P[s+he(c)]+e.yc[c]}e.Mb=0}function pe(e,t){var n;ge(e),n=t&(t=e).y,t.Gc&&(K(t.d,t.C,(t.l<<4)+n,1),K(t.d,t.bb,t.l,0),t.l=t.l<7?7:10,be(t.$,t.d,0,n),n=B(2),j(t.K[n],t.d,63),Ee(t.d,67108863,26),Ce(t.S,t.d,15));for(var r=0;r<5;++r)De(e.d)}function fe(e,t,n,r){var i=B(n);return(t<128?e.lb[128*i+t]:e.P[(i<<6)+(t<131072?a[t>>6]+12:t<134217728?a[t>>16]+32:a[t>>26]+52)]+e.nc[15&t])+W(e.$,n-2,r)}function G(e,t,n,r){var i;return t?(i=X[2048-e.hb[n]>>>2],1==t?i+=X[e.Ub[n]>>>2]:i=(i+=X[2048-e.Ub[n]>>>2])+v(e.vc[n],t-2)):(i=X[e.hb[n]>>>2],i+=X[2048-e._[(n<<4)+r]>>>2]),i}function _e(e,t){if(0<t){var n,r,i,a,s,o,c,l,u,d,p,f,_,m,g=e.b,h=t;do{if(g.h>=g.o+g.ob)u=g.ob;else if(u=g.h-g.o,g.xb>u){k(g);continue}for(d=g.o>g.p?g.o-g.p:0,r=g.f+g.o,s=g.qb?(s=1023&(m=Pe[255&g.c[r]]^255&g.c[r+1]),g.ub[s]=g.o,s=65535&(m^=(255&g.c[r+2])<<8),g.ub[1024+s]=g.o,(m^Pe[255&g.c[r+3]]<<5)&g.Ec):255&g.c[r]^(255&g.c[r+1])<<8,i=g.ub[g.R+s],g.ub[g.R+s]=g.o,f=1+(g.k<<1),_=g.k<<1,c=l=g.w,n=g.Fc;;){if(i<=d||0==n--){g.L[f]=g.L[_]=0;break}if(a=g.o-i,a=(g.k>=a?g.k-a:g.k-a+g.p)<<1,p=g.f+i,g.c[p+(o=c<l?c:l)]==g.c[r+o]){for(;++o!=u&&g.c[p+o]==g.c[r+o];);if(o==u){g.L[_]=g.L[a],g.L[f]=g.L[1+a];break}}(255&g.c[r+o])>(255&g.c[p+o])?(g.L[_]=i,i=g.L[_=1+a],l=o):(g.L[f]=i,i=g.L[f=a],c=o)}k(g)}while(0!=--h);e.s+=t}}function me(e){var t=0;return e.D=function(e,t){var n,r,i,a,s,o,c,l,u,d,p,f,_,m,g,h,y,v,b,x;if(e.h>=e.o+e.ob)_=e.ob;else if(_=e.h-e.o,e.xb>_)return k(e),0;for(m=e.o>e.p?e.o-e.p:0,r=e.f+e.o,g=1,u=l=h=0,x=e.qb?(l=1023&(x=Pe[255&e.c[r]]^255&e.c[r+1]),u=65535&(x^=(255&e.c[r+2])<<8),(x^Pe[255&e.c[r+3]]<<5)&e.Ec):255&e.c[r]^(255&e.c[r+1])<<8,i=e.ub[e.R+x]||0,e.qb&&(a=e.ub[l]||0,s=e.ub[1024+u]||0,e.ub[l]=e.o,e.ub[1024+u]=e.o,m<a&&e.c[e.f+a]==e.c[r]&&(t[h++]=g=2,t[h++]=e.o-a-1),m<s&&e.c[e.f+s]==e.c[r]&&(s==a&&(h-=2),t[h++]=g=3,t[h++]=e.o-s-1,a=s),0!=h)&&a==i&&(h-=2,g=1),e.ub[e.R+x]=e.o,v=1+(e.k<<1),b=e.k<<1,p=f=e.w,0!=e.w&&m<i&&e.c[e.f+i+e.w]!=e.c[r+e.w]&&(t[h++]=g=e.w,t[h++]=e.o-i-1),n=e.Fc;;){if(i<=m||0==n--){e.L[v]=e.L[b]=0;break}if(c=e.o-i,o=(e.k>=c?e.k-c:e.k-c+e.p)<<1,y=e.f+i,e.c[y+(d=p<f?p:f)]==e.c[r+d]){for(;++d!=_&&e.c[y+d]==e.c[r+d];);if(g<d&&(t[h++]=g=d,t[h++]=c-1,d==_)){e.L[b]=e.L[o],e.L[v]=e.L[1+o];break}}(255&e.c[r+d])>(255&e.c[y+d])?(e.L[b]=i,i=e.L[b=1+o],f=d):(e.L[v]=i,i=e.L[v=o],p=d)}return k(e),h}(e.b,e.m),0<e.D&&(t=e.m[e.D-2])==e.n&&(t+=q(e.b,t-1,e.m[e.D-1],273-t)),++e.s,t}function ge(e){e.b&&e.W&&(e.b.cc=null,e.W=0)}function he(e){return e<2048?a[e]:e<2097152?a[e>>10]+20:a[e>>20]+40}function ye(e,t){y(e.db);for(var n=0;n<t;++n)y(e.Vb[n].G),y(e.Wb[n].G);y(e.ic.G)}function ve(e,t,n,r,i){var a,s=X[e.db[0]>>>2],o=(a=X[2048-e.db[0]>>>2])+X[e.db[1]>>>2],c=a+X[2048-e.db[1]>>>2],l=0;for(l=0;l<8;++l){if(n<=l)return;r[i+l]=s+_(e.Vb[t],l)}for(;l<16;++l){if(n<=l)return;r[i+l]=o+_(e.Wb[t],l-8)}for(;l<n;++l)r[i+l]=c+_(e.ic,l-8-8)}function be(e,t,n,r){var i,a;i=e,t=t,a=r,(n=n)<8?(K(t,i.db,0,0),j(i.Vb[a],t,n)):(n-=8,K(t,i.db,0,1),n<8?(K(t,i.db,1,0),j(i.Wb[a],t,n)):(K(t,i.db,1,1),j(i.ic,t,n-8))),0==--e.sc[r]&&(ve(e,r,e.rb,e.Cc,272*r),e.sc[r]=e.rb)}function xe(e){var t=e;t.db=m(2),t.Vb=m(16),t.Wb=m(16),t.ic=g({},8);for(var n=0;n<16;++n)t.Vb[n]=g({},3),t.Wb[n]=g({},3);return e.Cc=[],e.sc=[],e}function W(e,t,n){return e.Cc[272*n+t]}function ke(e,t){for(var n=0;n<t;++n)ve(e,n,e.rb,e.Cc,272*n),e.sc[n]=e.rb}function Q(e,t,n){return e.V[((t&e.qc)<<e.u)+((255&n)>>>8-e.u)]}function Se(e,t,n){for(var r,i=1,a=7;0<=a;--a)K(t,e.tb,i,r=n>>a&1),i=i<<1|r}function Y(e,t,n,r){var i,a,s=1,o=7,c=0;if(t)for(;0<=o;--o)if(c+=v(e.tb[(1+(a=n>>o&1)<<8)+s],i=r>>o&1),s=s<<1|i,a!=i){--o;break}for(;0<=o;--o)c+=v(e.tb[s],i=r>>o&1),s=s<<1|i;return c}function Te(e){e.j=-1,e.t=0}function c(e,t){return e.F=t,e.G=m(1<<t),e}function f(e,t){for(var n=1,r=e.F;0!=r;--r)n=(n<<1)+h(t,e.G,n);return n-(1<<e.F)}function g(e,t){return e.F=t,e.G=m(1<<t),e}function j(e,t,n){for(var r,i=1,a=e.F;0!=a;)r=n>>>--a&1,K(t,e.G,i,r),i=i<<1|r}function _(e,t){for(var n,r=1,i=0,a=e.F;0!=a;)n=t>>>--a&1,i+=v(e.G[r],n),r=(r<<1)+n;return i}function Ce(e,t,n){for(var r,i=1,a=0;e.F>a;++a)K(t,e.G,i,r=1&n),i=i<<1|r,n>>=1}function h(e,t,n){var r,i=t[n];return(-2147483648^(r=(e.E>>>11)*i))>(-2147483648^e.Bb)?(e.E=r,t[n]=i+(2048-i>>>5)<<16>>16,-16777216&e.E||(e.Bb=e.Bb<<8|d(e.Ab),e.E<<=8),0):(e.E-=r,e.Bb-=r,t[n]=i-(i>>>5)<<16>>16,-16777216&e.E||(e.Bb=e.Bb<<8|d(e.Ab),e.E<<=8),1)}function y(e){for(var t=e.length-1;0<=t;--t)e[t]=1024}function K(e,t,n,r){var i=t[n],a=(e.E>>>11)*i;r?(e.xc=L(e.xc,s(M(a),[4294967295,0])),e.E-=a,t[n]=i-(i>>>5)<<16>>16):(e.E=a,t[n]=i+(2048-i>>>5)<<16>>16),-16777216&e.E||(e.E<<=8,De(e))}function Ee(e,t,n){for(var r=n-1;0<=r;--r)e.E>>>=1,1==(t>>>r&1)&&(e.xc=L(e.xc,M(e.E))),-16777216&e.E||(e.E<<=8,De(e))}function De(e){var t,n=U(function(e,t){t=C(e,t&=63);return t=e[1]<0?L(t,o([2,0],31)):t}(e.xc,32));if(0!=n||R(e.xc,[4278190080,0])<0){for(e.mc=L(e.mc,M(e.Jb)),t=e.Oc;A(e.Ab,t+n),t=255,0!=--e.Jb;);e.Oc=U(e.xc)>>>24}++e.Jb,e.xc=o(s(e.xc,[16777215,0]),8)}function v(e,t){return X[(2047&(e-t^-t))>>>2]}function Ae(e){for(var t,n,r,i=0,a=0,s=e.length,o=[],c=[];i<s;++i,++a){if(128&(t=255&e[i]))if(192==(224&t)){if(s<=i+1)return e;if(128!=(192&(n=255&e[++i])))return e;c[a]=(31&t)<<6|63&n}else{if(224!=(240&t))return e;if(s<=i+2)return e;if(128!=(192&(n=255&e[++i])))return e;if(128!=(192&(r=255&e[++i])))return e;c[a]=(15&t)<<12|(63&n)<<6|63&r}else{if(!t)return e;c[a]=t}16383==a&&(o.push(String.fromCharCode.apply(String,c)),a=-1)}return 0<a&&(c.length=a,o.push(String.fromCharCode.apply(String,c))),o.join("")}function Ne(e){var t,n,r,i=[],a=0,s=e.length;if("object"==typeof e)return e;for(var o=e,c=s,l=i,u=0,d=0;d<c;++d)l[u++]=o.charCodeAt(d);for(r=0;r<s;++r)1<=(t=i[r])&&t<=127?++a:a+=!t||128<=t&&t<=2047?2:3;for(n=[],r=a=0;r<s;++r)1<=(t=i[r])&&t<=127?n[a++]=t<<24>>24:(!t||128<=t&&t<=2047?n[a++]=(192|t>>6&31)<<24>>24:(n[a++]=(224|t>>12&15)<<24>>24,n[a++]=(128|t>>6&63)<<24>>24),n[a++]=(128|63&t)<<24>>24);return n}function b(e){return e[1]+e[0]}var t,x="function"==typeof setImmediate?setImmediate:setTimeout,i=4294967296,S=[4294967295,-i],we=[0,-0x8000000000000000],z=[0,0],Ie=[1,0],Pe=function(){for(var e,t,n=[],r=0;r<256;++r){for(t=r,e=0;e<8;++e)0!=(1&t)?t=t>>>1^-306674912:t>>>=1;n[r]=t}return n}(),a=function(){for(var e,t,n=2,r=[0,1],i=2;i<22;++i)for(t=1<<(i>>1)-1,e=0;e<t;++e,++n)r[n]=i<<24>>24;return r}(),X=function(){for(var e,t,n=[],r=8;0<=r;--r)for(e=1<<9-r,t=1<<9-r-1;t<e;++t)n[t]=(r<<6)+(e-t<<6>>>9-r-1);return n}(),Oe=(t=[{s:16,f:64,m:0},{s:20,f:64,m:0},{s:19,f:64,m:1},{s:20,f:64,m:1},{s:21,f:128,m:1},{s:22,f:128,m:1},{s:23,f:128,m:1},{s:24,f:255,m:1},{s:25,f:255,m:1}],function(e){return t[e-1]||t[6]});return"undefined"==typeof onmessage||"undefined"!=typeof window&&void 0!==window.document||(onmessage=function(t){t&&t.gc&&(2==t.gc.action?e.decompress(t.gc.gc,t.gc.cbn):1==t.gc.action&&e.compress(t.gc.gc,t.gc.Rc,t.gc.cbn))}),{compress:function(e,t,r,i){var a,n,s={},o=void 0===r&&void 0===i;if("function"!=typeof r&&(n=r,r=i=0),i=i||function(e){return void 0!==n?T(e,n):void 0},r=r||function(e,t){return void 0!==n?postMessage({action:1,cbn:n,result:e,error:t}):void 0},o){for(s.c=P({},Ne(e),Oe(t));p(s.c.yb););return u(s.c.Nb)}try{s.c=P({},Ne(e),Oe(t)),i(0)}catch(e){return r(null,e)}x(function e(){try{for(var t,n=(new Date).getTime();p(s.c.yb);)if(a=b(s.c.yb.Pb)/b(s.c.Tb),200<(new Date).getTime()-n)return i(a),x(e,0),0;i(1),t=u(s.c.Nb),x(r.bind(null,t),0)}catch(e){r(null,e)}},0)},decompress:function(e,i,a){var s,n,o,c,l={},t=void 0===i&&void 0===a;if("function"!=typeof i&&(n=i,i=a=0),a=a||function(e){return void 0!==n?T(o?e:-1,n):void 0},i=i||function(e,t){return void 0!==n?postMessage({action:2,cbn:n,result:e,error:t}):void 0},t){for(l.d=F({},e);p(l.d.yb););return Ae(u(l.d.Nb))}try{l.d=F({},e),c=b(l.d.Tb),o=-1<c,a(0)}catch(e){return i(null,e)}x(function e(){try{for(var t,n=0,r=(new Date).getTime();p(l.d.yb);)if(++n%1e3==0&&200<(new Date).getTime()-r)return o&&(s=b(l.d.yb.Z.g)/c,a(s)),x(e,0),0;a(1),t=Ae(u(l.d.Nb)),x(i.bind(null,t),0)}catch(e){i(null,e)}},0)}}}()),pxt,pxt,pxt,pxt,pxt,ts,pxtc=(this.LZMA=this.LZMA_WORKER=e,function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.DOMPurify=t()}(this,function(){function e(i){return function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o(i,e,n)}}function t(r){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(r,t)}}function he(e,t){a&&a(e,null);for(var n=t.length;n--;){var r,i=t[n];"string"==typeof i&&(r=Ae(i))!==i&&(s(t)||(t[n]=r),i=r),e[i]=!0}return e}function ye(e){var t={},n=void 0;for(n in e)o(r,e,[n])&&(t[n]=e[n]);return t}function ve(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=Object.hasOwnProperty,a=Object.setPrototypeOf,s=Object.isFrozen,be=Object.keys,xe=Object.freeze,n=Object.seal,i="undefined"!=typeof Reflect&&Reflect,o=(o=i.apply)||function(e,t,n){return e.apply(t,n)},xe=xe||function(e){return e},n=n||function(e){return e},c=(c=i.construct)||function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))},ke=e(Array.prototype.forEach),Se=e(Array.prototype.indexOf),Te=e(Array.prototype.join),Ce=e(Array.prototype.pop),Ee=e(Array.prototype.push),De=e(Array.prototype.slice),Ae=e(String.prototype.toLowerCase),Ne=e(String.prototype.match),we=e(String.prototype.replace),Ie=e(String.prototype.indexOf),Je=e(String.prototype.trim),Pe=e(RegExp.prototype.test),qe=t(RegExp),Oe=t(TypeError),Fe=xe(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Le=xe(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),Re=xe(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Me=xe(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Ue=xe(["#text"]),Be=xe(["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","minlength","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"]),je=xe(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ke=xe(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ze=xe(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ve=n(/\{\{[\s\S]*|[\s\S]*\}\}/gm),He=n(/<%[\s\S]*|[\s\S]*%>/gm),Ge=n(/^data-[\-\w.\u00B7-\uFFFF]/),We=n(/^aria-[\-\w]+$/),Qe=n(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ye=n(/^(?:\w+script|data):/i),Xe=n(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),$e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return function L(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,l=function(e){return L(e)};if(l.version="2.0.8",l.removed=[],o&&o.document&&9===o.document.nodeType){var c=o.document,R=!1,M=!1,a=o.document,U=o.DocumentFragment,e=o.HTMLTemplateElement,u=o.Node,t=o.NodeFilter,n=o.NamedNodeMap,B=void 0===n?o.NamedNodeMap||o.MozNamedAttrMap:n,j=o.Text,K=o.Comment,z=o.DOMParser,n=o.trustedTypes,d=("function"==typeof e&&(e=a.createElement("template")).content&&e.content.ownerDocument&&(a=e.content.ownerDocument),function(e,t){if("object"!==(void 0===e?"undefined":$e(e))||"function"!=typeof e.createPolicy)return null;var n=null,t="dompurify"+((n=t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")?t.currentScript.getAttribute("data-tt-policy-suffix"):n)?"#"+n:"");try{return e.createPolicy(t,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+t+" could not be created."),null}}(n,c)),$=d?d.createHTML(""):"",e=a,s=e.implementation,J=e.createNodeIterator,q=e.getElementsByTagName,V=e.createDocumentFragment,H=c.importNode,r={},p=(l.isSupported=s&&void 0!==s.createHTMLDocument&&9!==a.documentMode,Ve),f=He,G=Ge,W=We,Q=Ye,Y=Xe,i=Qe,_=null,X=he({},[].concat(ve(Fe),ve(Le),ve(Re),ve(Me),ve(Ue))),m=null,Z=he({},[].concat(ve(Be),ve(je),ve(Ke),ve(ze))),g=null,h=null,ee=!0,y=!0,te=!1,v=!1,b=!1,x=!1,k=!1,S=!1,T=!1,C=!1,ne=!1,E=!1,re=!0,D=!0,A=!1,N={},ie=he({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),ae=he({},["audio","video","img","source","image"]),w=null,se=he({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),I=null,oe=a.createElement("form"),ce=function(e){I&&I===e||(e&&"object"===(void 0===e?"undefined":$e(e))||(e={}),_="ALLOWED_TAGS"in e?he({},e.ALLOWED_TAGS):X,m="ALLOWED_ATTR"in e?he({},e.ALLOWED_ATTR):Z,w="ADD_URI_SAFE_ATTR"in e?he(ye(se),e.ADD_URI_SAFE_ATTR):se,g="FORBID_TAGS"in e?he({},e.FORBID_TAGS):{},h="FORBID_ATTR"in e?he({},e.FORBID_ATTR):{},N="USE_PROFILES"in e&&e.USE_PROFILES,ee=!1!==e.ALLOW_ARIA_ATTR,y=!1!==e.ALLOW_DATA_ATTR,te=e.ALLOW_UNKNOWN_PROTOCOLS||!1,v=e.SAFE_FOR_JQUERY||!1,b=e.SAFE_FOR_TEMPLATES||!1,x=e.WHOLE_DOCUMENT||!1,T=e.RETURN_DOM||!1,C=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_DOM_IMPORT||!1,E=e.RETURN_TRUSTED_TYPE||!1,S=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,D=!1!==e.KEEP_CONTENT,A=e.IN_PLACE||!1,i=e.ALLOWED_URI_REGEXP||i,b&&(y=!1),C&&(T=!0),N&&(_=he({},[].concat(ve(Ue))),m=[],!0===N.html&&(he(_,Fe),he(m,Be)),!0===N.svg&&(he(_,Le),he(m,je),he(m,ze)),!0===N.svgFilters&&(he(_,Re),he(m,je),he(m,ze)),!0===N.mathMl)&&(he(_,Me),he(m,Ke),he(m,ze)),e.ADD_TAGS&&he(_=_===X?ye(_):_,e.ADD_TAGS),e.ADD_ATTR&&he(m=m===Z?ye(m):m,e.ADD_ATTR),e.ADD_URI_SAFE_ATTR&&he(w,e.ADD_URI_SAFE_ATTR),D&&(_["#text"]=!0),x&&he(_,["html","head","body"]),_.table&&(he(_,["tbody"]),delete g.tbody),xe&&xe(e),I=e)},le=function(t){Ee(l.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){t.outerHTML=$}},P=function(e,t){try{Ee(l.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Ee(l.removed,{attribute:null,from:t})}t.removeAttribute(e)},O=function(e){var t,n=void 0,r=void 0,i=(S?e="<remove></remove>"+e:r=(i=Ne(e,/^[\s]+/))&&i[0],d?d.createHTML(e):e);if(R)try{n=(new z).parseFromString(i,"text/html")}catch(e){}return M&&he(g,["title"]),n&&n.documentElement||((t=(n=s.createHTMLDocument("")).body).parentNode.removeChild(t.parentNode.firstElementChild),t.outerHTML=i),e&&r&&n.body.insertBefore(a.createTextNode(r),n.body.childNodes[0]||null),q.call(n,x?"html":"body")[0]};if(l.isSupported){try{O('<svg><p><textarea><img src="</textarea><img src=x abc=1//">').querySelector("svg img")&&(R=!0)}catch(e){}try{var ue=O("<x/><title>&lt;/title&gt;&lt;img&gt;");Pe(/<\/title/,ue.querySelector("title").innerHTML)&&(M=!0)}catch(ue){}}var de=function(e){return J.call(e.ownerDocument||e,e,t.SHOW_ELEMENT|t.SHOW_COMMENT|t.SHOW_TEXT,function(){return t.FILTER_ACCEPT},!1)},pe=function(e){return"object"===(void 0===u?"undefined":$e(u))?e instanceof u:e&&"object"===(void 0===e?"undefined":$e(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},F=function(e,t,n){r[e]&&ke(r[e],function(e){e.call(l,t,n,I)})},fe=function(e){var t;if(F("beforeSanitizeElements",e,null),(n=e)instanceof j||n instanceof K||"string"==typeof n.nodeName&&"string"==typeof n.textContent&&"function"==typeof n.removeChild&&n.attributes instanceof B&&"function"==typeof n.removeAttribute&&"function"==typeof n.setAttribute&&"string"==typeof n.namespaceURI){var n=Ae(e.nodeName);if(F("uponSanitizeElement",e,{tagName:n,allowedTags:_}),"svg"!==n&&"math"!==n||0===e.querySelectorAll("p, br").length){if(_[n]&&!g[n])return"noscript"===n&&Pe(/<\/noscript/i,e.innerHTML)||"noembed"===n&&Pe(/<\/noembed/i,e.innerHTML)?(le(e),!0):(!v||e.firstElementChild||e.content&&e.content.firstElementChild||!Pe(/</g,e.textContent)||(Ee(l.removed,{element:e.cloneNode()}),e.innerHTML?e.innerHTML=we(e.innerHTML,/</g,"&lt;"):e.innerHTML=we(e.textContent,/</g,"&lt;")),b&&3===e.nodeType&&(t=e.textContent,t=we(t,p," "),t=we(t,f," "),e.textContent!==t)&&(Ee(l.removed,{element:e.cloneNode()}),e.textContent=t),F("afterSanitizeElements",e,null),!1);if(D&&!ie[n]&&"function"==typeof e.insertAdjacentHTML)try{var r=e.innerHTML;e.insertAdjacentHTML("AfterEnd",d?d.createHTML(r):r)}catch(e){}}}return le(e),!0},_e=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in a||n in oe))return!1;if(!(y&&Pe(G,t)||ee&&Pe(W,t))){if(!m[t]||h[t])return!1;if(!w[t]&&!Pe(i,we(n,Y,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Ie(n,"data:")||!ae[e])&&(!te||Pe(Q,we(n,Y,"")))&&n)return!1}return!0},me=function(e){var t=void 0,n=void 0,r=(F("beforeSanitizeAttributes",e,null),e.attributes);if(r){for(var i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:m},n=r.length;n--;){o=r[n];var a=o.name,s=o.namespaceURI,t=Je(o.value),o=Ae(a);if(i.attrName=o,i.attrValue=t,i.keepAttr=!0,i.forceKeepAttr=void 0,F("uponSanitizeAttribute",e,i),t=i.attrValue,!i.forceKeepAttr){if("name"===o&&"IMG"===e.nodeName&&r.id)c=r.id,r=De(r,[]),P("id",e),P(a,e),Se(r,c)>n&&e.setAttribute("id",c.value);else{if("INPUT"===e.nodeName&&"type"===o&&"file"===t&&i.keepAttr&&(m[o]||!h[o]))continue;"id"===a&&e.setAttribute(a,""),P(a,e)}if(i.keepAttr)if(v&&Pe(/\/>/i,t))P(a,e);else if(Pe(/svg|math/i,e.namespaceURI)&&Pe(qe("</("+Te(be(ie),"|")+")","i"),t))P(a,e);else{b&&(t=we(t,p," "),t=we(t,f," "));var c=e.nodeName.toLowerCase();if(_e(c,o,t))try{s?e.setAttributeNS(s,a,t):e.setAttribute(a,t),Ce(l.removed)}catch(e){}}}}F("afterSanitizeAttributes",e,null)}},ge=function e(t){var n,r=de(t);for(F("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)F("uponSanitizeShadowNode",n,null),fe(n)||(n.content instanceof U&&e(n.content),me(n));F("afterSanitizeShadowDOM",t,null)};l.sanitize=function(e,t){var n,r=void 0,i=void 0,a=void 0;if("string"!=typeof(e=e||"\x3c!--\x3e")&&!pe(e)){if("function"!=typeof e.toString)throw Oe("toString is not a function");if("string"!=typeof(e=e.toString()))throw Oe("dirty is not a string, aborting")}if(!l.isSupported){if("object"===$e(o.toStaticHTML)||"function"==typeof o.toStaticHTML){if("string"==typeof e)return o.toStaticHTML(e);if(pe(e))return o.toStaticHTML(e.outerHTML)}return e}if(k||ce(t),l.removed=[],!(A="string"==typeof e?!1:A))if(e instanceof u)1===(t=(r=O("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===t.nodeName||"HTML"===t.nodeName?r=t:r.appendChild(t);else{if(!T&&!b&&!x&&E&&-1===e.indexOf("<"))return d?d.createHTML(e):e;if(!(r=O(e)))return T?null:$}r&&S&&le(r.firstChild);for(var s=de(A?e:r);n=s.nextNode();)3===n.nodeType&&n===i||fe(n)||(n.content instanceof U&&ge(n.content),me(n),i=n);if(i=null,A)return e;if(T){if(C)for(a=V.call(r.ownerDocument);r.firstChild;)a.appendChild(r.firstChild);else a=r;return a=ne?H.call(c,a,!0):a}t=x?r.outerHTML:r.innerHTML;return b&&(t=we(t,p," "),t=we(t,f," ")),d&&E?d.createHTML(t):t},l.setConfig=function(e){ce(e),k=!0},l.clearConfig=function(){I=null,k=!1},l.isValidAttribute=function(e,t,n){I||ce({});e=Ae(e),t=Ae(t);return _e(e,t,n)},l.addHook=function(e,t){"function"==typeof t&&(r[e]=r[e]||[],Ee(r[e],t))},l.removeHook=function(e){r[e]&&Ce(r[e])},l.removeHooks=function(e){r[e]&&(r[e]=[])},l.removeAllHooks=function(){r={}}}else l.isSupported=!1;return l}()}),pxt=pxt||{},function(a){{var e=a.analytics||(a.analytics={});const s={},o={};let t=!1;e.addDefaultProperties=function(t){Object.keys(t).forEach(e=>{"string"==typeof t[e]?s[e]=t[e]:o[e]=t[e]})},e.enable=function(){if(a.aiTrackException&&a.aiTrackEvent&&!t){t=!0,a.debug("setting up app insights");const r=a.tickEvent,i=(a.tickEvent=function(e,t,n){if(r&&r(e,t,n),null!=n&&n.interactiveConsent&&a.setInteractiveConsent(!0),t){const r=Object.assign({},s)||{},n=Object.assign({},o)||{};Object.keys(t).forEach(e=>{"string"==typeof t[e]?r[e]=t[e]:"number"==typeof t[e]?n[e]=t[e]:r[e]=JSON.stringify(t[e]||"")}),a.aiTrackEvent(e,r,n)}else a.aiTrackEvent(e)},a.reportException),e=(a.reportException=function(e,t){i&&i(e,t);var n={target:a.appTarget.id,version:a.appTarget.versions.target};t&&a.Util.jsonMergeFrom(n,t),a.aiTrackException(e,"exception",n)},a.reportError);a.reportError=function(t,n,r){e&&e(t,n,r);try{throw n}catch(e){t={target:a.appTarget.id,version:a.appTarget.versions.target,category:t,message:n};r&&a.Util.jsonMergeFrom(t,r),a.aiTrackException(e,"error",t)}}}}}}(pxt=pxt||{}),pxt=pxt||{},function(e){{e=e.AudioContextManager||(e.AudioContextManager={});let n,r,i,a=0,s=!1;function t(){n&&(i.gain.setTargetAtTime(0,n.currentTime,.015),a=0)}e.mute=function(e){n&&(s=e,t(),e)&&r&&(r.disconnect(),i.disconnect(),r=void 0,i=void 0)},e.stop=t,e.frequency=function(){return a},e.tone=function(e){if(!(s||e<0)){a=e;var t=n=n||function(){if(window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext)try{return new window.AudioContext}catch(e){}}();if(t)try{r||((r=t.createOscillator()).type="triangle",(i=t.createGain()).gain.value=0,i.connect(t.destination),r.connect(i),r.start(0)),r.frequency.linearRampToValueAtTime(e,n.currentTime),i.gain.setTargetAtTime(.2,n.currentTime,.015)}catch(e){r=void 0}}}}}(pxt=pxt||{}),function(s){{var i=s.auth||(s.auth={});const c="auth",l="csrf-token",u="login-state",d="user-state";let e,t=!1,n=(i.DEFAULT_USER_PREFERENCES=()=>({highContrast:!1,language:s.appTarget.appTheme.defaultLocale,reader:"",skillmap:{mapProgress:{},completedTags:{}}}),i.client=function(){return e},0),r=0;i.AuthClient=class{constructor(){this.initialUserPreferences_=void 0,this.initialAuthCheck_=void 0,s.Util.assert(!e),e=this}async initAsync(){try{this.state$=await s.storage.shared.getAsync(c,d)}catch(e){}this.state$||(this.state$={}),this.setUserProfileAsync(this.state$.profile),this.setUserPreferencesAsync(this.state$.preferences)}async loginAsync(e,t,n){var r,i;o()&&(r=e,0<a().filter(e=>e.id===r).length)&&(n=null!=n?n:p,(i=this.getState()).profile||await this.authCheckAsync(),(null==(i=i.profile)?void 0:i.idp)===e?s.debug(`loginAsync: Already signed into ${e}.`):(this.clearState(),i={key:(Math.PI*Math.random()).toString(36).slice(2),callbackState:n,callbackPathname:window.location.pathname,idp:e},await s.storage.shared.setAsync(c,u,i),n=s.Util.stringifyQueryString("/api/auth/login",{response_type:"token",provider:e,persistent:t,redirect_uri:""+window.location.origin+window.location.pathname+"?authcallback=1&state="+i.key}),(t=await this.apiAsync(n)).success?(s.tickEvent("auth.login.start",{provider:e}),window.location.href=t.resp.loginUrl):await this.onSignInFailed()))}async logoutAsync(e){o()&&(s.tickEvent("auth.logout"),await this.apiAsync("/api/auth/logout"),await s.storage.shared.delAsync(c,l),this.clearState(),e=e?e.startsWith("#")?e:"#"+e:"",s.BrowserUtils.hasWindow())&&(window.location.href=""+window.location.origin+window.location.pathname+e,location.reload())}async deleteProfileAsync(){var e;if(await this.loggedInAsync()){var t=null==(e=this.getState().profile)?void 0:e.id,n=await this.apiAsync("/api/user",null,"DELETE");if(n.err)await this.onApiError(n.err);else try{await s.storage.shared.delAsync(c,l);try{await this.onProfileDeleted(t)}catch(e){s.tickEvent("auth.profile.cloudToLocalFailed")}this.clearState()}finally{s.tickEvent("auth.profile.deleted")}}}async initialUserPreferencesAsync(){if(await this.loggedInAsync())return this.initialUserPreferences_||(this.initialUserPreferences_=this.fetchUserPreferencesAsync()),this.initialUserPreferences_}async userProfileAsync(){var e;if(await this.loggedInAsync())return e=this.getState(),Object.assign({},e.profile)}async userPreferencesAsync(){var e=this.getState();return Object.assign({},e.preferences)}async authCheckAsync(){var e,t;if(o()&&await s.storage.shared.getAsync(c,l))return null!=(e=(t=this.getState()).profile)&&e.id?this.initialAuthCheck_||(this.initialAuthCheck_=Promise.resolve(t.profile)):this.initialAuthCheck_||(this.initialAuthCheck_=this.fetchUserAsync()),this.initialAuthCheck_}async loggedInAsync(){return await this.authCheckAsync(),this.hasUserId()}async updateUserProfileAsync(e){var t;return!!await this.loggedInAsync()&&(t=this.getState(),(t=await this.apiAsync("/api/user/profile",{id:t.profile.id,username:e.username,avatarUrl:e.avatarUrl})).success&&await this.setUserProfileAsync(t.resp),t.success)}async patchUserPreferencesAsync(t){var e;(t=Array.isArray(t)?t:[t]).length&&(e=await this.userPreferencesAsync(),ts.pxtc.jsonPatch.patchInPlace(e,t),await this.setUserPreferencesAsync(e),await this.loggedInAsync())&&(clearTimeout(n),e=async()=>{r=0;var e=await this.apiAsync("/api/user/preferences",t,"PATCH");e.success?(s.debug("Updating local user preferences w/ cloud data after result of POST"),this.setUserPreferencesAsync(e.resp)):s.reportError("identity","update preferences failed",e)},r=r||s.U.now(),3e4<s.U.now()-r?await e():n=setTimeout(e,5e3))}hasUserId(){var e;return!!o()&&!(null==(e=this.getState().profile)||!e.id)}async fetchUserAsync(){var e;if(o()){var t=this.getState();if(null!=(e=t.profile)&&e.id)return t.profile;t=await this.apiAsync("/api/user/profile");if(t.success){const e=t.resp;return await this.setUserProfileAsync(e),e}}}async setUserProfileAsync(e){var t=this.hasUserId(),e=(this.transformUserProfile(e),this.hasUserId());this.onUserProfileChanged(),e&&!t?await this.onSignedIn():!e&&t&&await this.onSignedOut()}async setUserPreferencesAsync(e){var t=null!=(t=this.getState().preferences)?t:i.DEFAULT_USER_PREFERENCES(),n=ts.pxtc.jsonPatch.diff(t,e);this.transformUserPreferences(Object.assign(Object.assign({},t),e)),await this.onUserPreferencesChanged(n)}async fetchUserPreferencesAsync(){var e,t;if(await this.loggedInAsync())return e=this.getState(),(t=await this.apiAsync("/api/user/preferences")).success&&t.resp?(this.setUserPreferencesAsync(t.resp),e.preferences):void 0}transformUserProfile(e){this.state$=Object.assign(Object.assign({},this.state$),{profile:Object.assign({},e)}),this.saveState()}transformUserPreferences(e){this.state$=Object.assign(Object.assign({},this.state$),{preferences:Object.assign({},e)}),this.saveState()}getState(){return this.state$}saveState(){s.storage.shared.setAsync(c,d,this.state$).then(()=>{})}clearState(){this.state$={},s.storage.shared.delAsync(c,d).then(()=>this.onStateCleared())}async apiAsync(t,e,n){var r={},i=await s.storage.shared.getAsync(c,l);return i&&(r.authorization="mkcd "+i),r["x-pxt-target"]=null==(i=s.appTarget)?void 0:i.id,t=s.BrowserUtils.isLocalHostDev()?"https://staging.pxt.io"+t:t,s.Util.requestAsync({url:t,headers:r,data:e,method:n||(e?"POST":"GET"),withCredentials:!0}).then(e=>({statusCode:e.statusCode,resp:e.json,success:2===Math.floor(e.statusCode/100),err:null})).catch(async e=>(/logout/.test(t)||401!=e.statusCode||await this.logoutAsync(),{statusCode:e.statusCode,err:e,resp:null,success:!1}))}};const p={hash:"",params:{}};function a(){var e;return Object.keys((null==(e=null==(e=s.appTarget)?void 0:e.cloud)?void 0:e.cloudProviders)||{}).map(e=>s.appTarget.cloud.cloudProviders[e]).filter(e=>e.identity).sort((e,t)=>e.order-t.order)}function o(){return!t&&!s.BrowserUtils.isPxtElectron()&&0<a().length}i.loginCallbackAsync=async function(e){let t,n=Object.assign({},p);do{if(!(t=await s.storage.shared.getAsync(c,u)))return void s.debug("Auth state not found in storge.");await s.storage.shared.delAsync(c,u);const r=e.state;if(!r||t.key!==r)return void s.debug("Failed to get auth state for key");n=Object.assign(Object.assign({},p),t.callbackState);const i=e.error;if(i){const c=e.error_description;s.tickEvent("auth.login.error",{error:i,provider:t.idp}),s.log(`Auth failed: ${i}:`+c),n=Object.assign({},p);break}const a=e.token;if(!a){s.debug("Missing authToken in auth callback.");break}await s.storage.shared.setAsync(c,l,a),s.tickEvent("auth.login.success",{provider:t.idp})}while(0);const r=n.hash.startsWith("#")?n.hash:"#"+n.hash,i=s.Util.stringifyQueryString("",n.params),a=""+(t.callbackPathname.startsWith("/")?t.callbackPathname:"/"+t.callbackPathname)+r+i;window.location.href=a},i.identityProviders=a,i.identityProvider=function(t){return a().filter(e=>e.id===t).shift()},i.hasIdentity=o,i.enableAuth=function(e=!0){t=!e},i.userName=function(e){var t;return null!=(e=null!=(t=null==(t=null==e?void 0:e.idp)?void 0:t.displayName)?t:null==(t=null==e?void 0:e.idp)?void 0:t.username)?e:"??"},i.userInitials=function(e){e=s.auth.userName(e);return ts.pxtc.Util.initials(e)},i.generateUserProfilePicDataUrl=function(e){var t,n;if(null!=(n=null==(t=null==e?void 0:e.idp)?void 0:t.picture)&&n.encoded){const t=window.URL||window.webkitURL;try{const n=s.Util.stringToUint8Array(atob(e.idp.picture.encoded)),r=new Blob([n],{type:e.idp.picture.mimeType});e.idp.picture.dataUrl=t.createObjectURL(r)}catch(e){}}}}}(pxt=pxt||{}),(pxt||(pxt={})).tickEvent=function(e){},function(e){(e.pxtc||(e.pxtc={})).__dummy=42}(ts=ts||{}),ts.pxtc),ts,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,ts,pxt,pxt,pxt,pxt,pxt,pxt,pxt,pxt,ts,pxt,pxt,pxt,pxt,ts,pxt,ts,pxtmelody,pxtmelody,pxtmelody,pxt,pxt,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,pxt,pxt,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,ts,pxt,pxt,pxt,pxt,pxt,pxt,pxt;!function(i){i=i.pxtc||(i.pxtc={});{var o=i.Util||(i.Util={});function a(e){return e.replace(/[^\w .!?\-$]/g,e=>{e=e.charCodeAt(0).toString(16);return"\\u"+"0000".substr(0,4-e.length)+e})}o.assert=function(e,t="Assertion failed"){if(!e)throw new Error(t)},o.flatClone=function(t){if(null==t)return null;let n={};return Object.keys(t).forEach(e=>{n[e]=t[e]}),n},o.clone=function(e){return null==e?null:JSON.parse(JSON.stringify(e))},o.htmlEscape=function(e){return e&&e.replace(/([^\w .!?\-$])/g,e=>"&#"+e.charCodeAt(0)+";")},o.htmlUnescape=function(e){return e&&e.replace(/(&#\d+;)/g,e=>String.fromCharCode(Number(e.substr(2,e.length-3))))},o.jsStringQuote=a,o.jsStringLiteral=function(e){return'"'+a(e)+'"'},o.initials=function(e){return(/^\w+@/.test(e)?e.match(/^\w\w/).shift():((e=e.match(/\b\w/g)||[]).shift()||"")+(e.pop()||"")).toUpperCase()};let t="en",n={},e={},r=!1;function s(){return t}function c(e){var t=/^(\w{2})-(\w{2}$)/i.exec(e);return t&&t[1]&&t[2]?[t[1].toLowerCase()+"-"+t[2].toUpperCase(),t[1].toLowerCase(),t[1].toLowerCase()+"-"+t[2].toLowerCase()]:[(e||"en").toLowerCase()]}function l(e,r){return 0==r.length?e:e.replace(/\{([0-9]+)(\:[^\}]+)?\}/g,function(e,t,n){let i=r[parseInt(t)],a="",s=/^:f(\d*)\.(\d+)/.exec(n);if(s){let e=parseInt(s[2]),t=parseInt(s[1])||0,n=/^0/.test(s[1])?"0":" ",r=i.toFixed(e);if(0<t&&0<e&&(t+=e+1),0<t)for(;r.length<t;)r=n+r;a=r}else a=":x"==n?"0x"+i.toString(16):void 0===i?"(undef)":null===i?"(null)":i.toString?i.toString():i+"";return":a"==n?/^\s*[euioah]/.test(a.toLowerCase())?a="an "+a:/^\s*[bcdfgjklmnpqrstvwxz]/.test(a.toLowerCase())&&(a="a "+a):":s"==n?a=1==i?"":"s":":q"==n?a=o.htmlEscape(a):":jq"==n?a=o.jsStringQuote(a):":uri"==n?a=encodeURIComponent(a).replace(/'/g,"%27").replace(/"/g,"%22"):":url"==n?a=encodeURI(a).replace(/'/g,"%27").replace(/"/g,"%22"):":%"==n&&(a=(100*i).toFixed(1).toString()+"%"),a})}o.enableLiveLocalizationUpdates=function(){r=!0},o.liveLocalizationEnabled=function(){return r},o.localeInfo=function(){return(r?"live-":"")+t},o.userLanguage=s,o.normalizeLanguageCode=c,o.setUserLanguage=function(e){t=c(e)[0]},o.isUserLanguageRtl=function(){return/^ar|dv|fa|ha|he|ks|ku|ps|ur|yi/i.test(t)},o.TRANSLATION_LOCALE="pxt",o.isTranslationMode=function(){return t==o.TRANSLATION_LOCALE},o._localize=function(e){return n[e]||e},o.getLocalizedStrings=function(){return n},o.setLocalizedStrings=function(e){n=e},o.translationsCache=function(){return e},o.fmt_va=l,o.fmt=function(e,...t){return l(e,t)};const d={};function u(e,t){if(!e)return e;d[e]=(d[e]||0)+1;let n=o._localize(e);return l(n=n.replace(/^\{(id|loc):[^\}]+\}/g,""),t)}o.dumpLocStats=function(){const t={};Object.keys(d).sort((e,t)=>d[t]-d[e]).forEach(e=>t[e]=e),console.log("prioritized list of strings:"),console.log(JSON.stringify(t,null,2))},o.lf_va=u,o.lf=function(e,...t){return u(e,t)},o.rlf=function(e,...t){return u(e,t)},o.lookup=function(e,t){return e.hasOwnProperty(t)?e[t]:null},o.isoTime=function(e){e=new Date(1e3*e);return o.fmt("{0}-{1:f02.0}-{2:f02.0} {3:f02.0}:{4:f02.0}:{5:f02.0}",e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())},o.userError=function(e){e=new Error(e);throw e.isUserError=!0,e},o.deq=function t(n,r){if(n!==r){if(!n||!r)return"Null value";if("object"!=typeof n||"object"!=typeof r)return"Unable to compare "+n+", "+r;if(Array.isArray(n)){if(!Array.isArray(r))return"Expected array";if(n.length!=r.length)return"Expected array of length "+n.length+", got "+r.length;for(let e=0;e<n.length;e++)if(null!=t(n[e],r[e]))return"Expected array value "+n[e]+" got "+r[e]}else{var i=Object.keys(n),e=Object.keys(n);if(i.length!=e.length)return"Expected "+i.length+" keys, got "+e.length;for(let e=0;e<i.length;e++){if(!Object.prototype.hasOwnProperty.call(r,i[e]))return"Missing key "+i[e];if(null!=t(n[i[e]],r[i[e]]))return"Expected value of "+i[e]+" to be "+n[i[e]]+", got "+r[i[e]]}}}return null}}}(ts=ts||{});const lf=ts.pxtc.Util.lf;!function(e){(e=e.pxtc||(e.pxtc={})).decodeBase64=function(e){return atob(e)},e.encodeBase64=function(e){return btoa(e)}}(ts=ts||{}),function(c){var p=c.pxtc||(c.pxtc={});{var e,_=p.Util||(p.Util={});function r(t,n){if(n)for(let e=0;e<n.length;++e)t.push(n[e])}function t(t){var n=[];for(let e=0;e<t.length;++e)r(n,t[e]);return n}function i(e){return e&&"object"==typeof e&&!Array.isArray(e)}function s(t,n,r,i,a){void 0===i&&(i=0),void 0===a&&(a=r.length-i);for(let e=0;e<a;++e)t[n+e]=r[i+e]}function a(e,t){return e==t?0:e<t?-1:1}_.CancellationToken=class{constructor(){this.pending=!1,this.cancelled=!1}startOperation(){this.pending=!0}isRunning(){return this.pending}onProgress(e){this.progressHandler=e}reportProgress(e,t){this.progressHandler&&this.progressHandler(e,t)}cancel(){this.cancelled=!0,this.pending=!1}cancelAsync(){return this.cancelled||!this.pending?(this.cancelled=!0,this.pending=!1,Promise.resolve()):(this.cancelled=!0,this.deferred=new Promise(e=>{this.resolve=e}),this.deferred)}isCancelled(){return this.cancelled}throwIfCancelled(){if(this.isCancelled())throw new Error}resolveCancel(){this.pending=!1,this.deferred&&(this.resolve(),this.deferred=void 0,this.resolve=void 0)}},_.codalHash16=function(e){const i=[251,175,119,215,81,14,79,191,103,49,181,143,186,157,0,232,31,32,55,60,152,58,17,237,174,70,160,144,220,90,57,223,59,3,18,140,111,166,203,196,134,243,124,95,222,179,197,65,180,48,36,15,107,46,233,130,165,30,123,161,209,23,97,16,40,91,219,61,100,10,210,109,250,127,22,138,29,108,244,67,207,9,178,204,74,98,126,249,167,116,34,77,193,200,121,5,20,113,71,35,128,13,182,94,25,226,227,199,75,27,41,245,230,224,43,225,177,26,155,150,212,142,218,115,241,73,88,105,39,114,62,255,192,201,145,214,168,158,221,148,154,122,12,84,82,163,44,139,228,236,205,242,217,11,187,146,159,64,86,239,195,42,106,198,118,112,184,172,87,2,173,117,176,229,247,253,137,185,99,164,102,147,45,66,231,52,141,211,194,206,246,238,56,110,78,248,63,240,189,93,92,51,53,183,19,171,72,50,33,104,101,69,8,252,83,120,76,135,85,54,202,125,188,213,96,235,136,208,162,129,190,132,156,38,47,1,7,254,24,4,216,131,89,21,28,133,37,153,149,80,170,68,6,169,234,151];if(e){var n,r=e,a=new Uint8Array(r.length);for(let e=0;e<r.length;++e){const s=r.charCodeAt(e);a[e]=255&s}let t=0;for(let e=0;e<2;++e)n=function(t){let n=0;for(let e=0;e<t.length;e++){var r=t[e];n=i[n^r]}return n}(a),t|=n<<8*e,a[0]=(a[0]+1)%255;return t}return 0},_.bufferSerial=function(t,n="",r="?",i=255){for(let e=0;e<n.length;++e){var a=n[e];t[r]=(t[r]||"")+a,("\n"===a||t[r].length>i)&&(a=t[r],t[r]="",window.postMessage({type:"serial",id:r,data:a},"*"))}},_.blobReadAsDataURL=function(r){return r?new Promise((e,t)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=e=>t(e),n.readAsDataURL(r)}):Promise.resolve(void 0)},_.fileReadAsBufferAsync=function(r){return r?new Promise((t,e)=>{let n=new FileReader;n.onerror=e=>t(null),n.onload=e=>t(new Uint8Array(n.result)),n.readAsArrayBuffer(r)}):Promise.resolve(null)},_.fileReadAsTextAsync=function(r){return r?new Promise((t,e)=>{let n=new FileReader;n.onerror=e=>t(null),n.onload=e=>t(n.result),n.readAsText(r)}):Promise.resolve(null)},_.repeatMap=function(t,n){t=t||0;var r=[];for(let e=0;e<t;++e)r.push(n(e));return r},_.listsEqual=function(t,n){if(!t||!n||t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0},_.oops=function(e="OOPS"){throw new Error(e)},_.reversed=function(e){return(e=e.slice(0)).reverse(),e},_.iterMap=function(t,n){Object.keys(t).forEach(e=>n(e,t[e]))},_.mapMap=function(t,n){let r={};return Object.keys(t).forEach(e=>r[e]=n(e,t[e])),r},_.values=function(t){return Object.keys(t||{}).map(e=>t[e])},_.pushRange=r,_.concatArrayLike=t,_.concat=t,_.memcpy=s,_.uint8ArrayConcat=function(e){let t=0;for(var n of e)t+=n.length;let r=new Uint8Array(t),i=0;for(var a of e)s(r,i,a),i+=a.length;return r},_.jsonTryParse=function(e){try{return JSON.parse(e)}catch(e){}},_.jsonMergeFrom=function t(n,r){r&&Object.keys(r).forEach(e=>{i(n[e])&&i(r[e])?t(n[e],r[e]):n[e]=_.clone(r[e])})},_.jsonCopyFrom=function(e,t){var n,r=_.clone(t);for(n of Object.keys(t))e[n]=r[n]},_.jsonFlatten=function(e){let r={},i=(e,t)=>{if(null!==t&&"object"==typeof t){_.assert(!Array.isArray(t)),e&&(e+=".");for(var n of Object.keys(t))i(e+n,t[n])}else r[e]=t};return i("",e),r},_.jsonUnFlatten=function(r){var i,e={};for(i of Object.keys(r)){let t=e,n=i.split(".");for(let e=0;e<n.length;++e){var a=n[e];e==n.length-1?t[a]=r[i]:("object"!=typeof t[a]&&(t[a]={}),t=t[a])}}return e},_.strcmp=a,_.stringMapEq=function(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(r.length!=i.length)return!1;for(n of r){if(!t.hasOwnProperty(n))return!1;if(e[n]!==t[n])return!1}return!0},_.endsWith=function(e,t){return!(e.length<t.length||0!=t.length&&e.slice(-t.length)!=t)},_.startsWith=function(e,t){return!(e.length<t.length||0!=t.length&&e.slice(0,t.length)!=t)},_.contains=function(e,t){return!(e.length<t.length)&&(0==t.length||-1<e.indexOf(t))},_.replaceAll=function(e,t,n){return t?e.split(t).join(n):e},_.snakify=function(n){const r=n.toUpperCase(),t=n.toLowerCase();if(n==r||n==t)return n;if(0<n.lastIndexOf("_"))return n;var i,a=e=>n[e]!=t[e];let s="",o=0;for(;o<n.length;){let e=a(o),t=o;for(;t<n.length;){if(e&&(i=t,n[i]!=r[i])){if(2<t-o){t--;break}e=!1}if(!e&&a(t))break;t++}s&&(s+="_"),s+=n.slice(o,t),o=t}return s.toUpperCase()===s?s:s.toLowerCase()},_.sortObjectFields=function(t){var e=Object.keys(t);e.sort(a);let n={};return e.forEach(e=>n[e]=t[e]),n},_.chopArray=function(t,n){var r=[];for(let e=0;e<t.length;e+=n)r.push(t.slice(e,e+n));return r},_.unique=function(e,n){let r=[],i={};return e.forEach(e=>{var t=n(e);i.hasOwnProperty(t)||(i[t]=null,r.push(e))}),r},_.groupBy=function(e,n){let r={};return e.forEach(e=>{var t=n(e);r.hasOwnProperty(t)||(r[t]=[]),r[t].push(e)}),r},_.toDictionary=function(e,t){let n={};return e.forEach(e=>{n[t(e)]=e}),n},_.toSet=function(e,t){let n={};return e.forEach(e=>{n[t(e)]=!0}),n},_.toArray=function(t){if(Array.isArray(t))return t;var n=[];if(t)for(let e=0;e<t.length;++e)n.push(t[e]);return n},_.indexOfMatching=function(t,n){for(let e=0;e<t.length;++e)if(n(t[e]))return e;return-1};const T=Promise.resolve();async function n(t,n,r){let i=0;const a=[],s=[];for(let e=0;e<t;e++){const t=(async()=>{for(;i<n.length;){var e=i++,t=n[e];s[e]=await r(t)}})();a.push(t)}try{await Promise.all(a)}catch(t){throw i=n.length,t}return s}function o(n,r){const i={};return e=>{var t=n(e);return i.hasOwnProperty(t)?i[t]:i[t]=r(e)}}function l(e){return e=e&&e.replace(/\\/g,"/")}function u(n){return _.httpRequestCoreAsync(n).then(e=>{const t=e.statusCode;if((n.successCodes||[304,200,201,202]).indexOf(t)<0&&!n.allowHttpErrors){const p=_.lf("Bad HTTP status code: {0} at {1}; message: {2}",e.statusCode,n.url,(e.text||"").slice(0,500)),t=new Error(p);return t.statusCode=e.statusCode,Promise.reject(t)}return e.text&&/application\/json/.test(e.headers["content-type"])&&(e.json=p.U.jsonTryParse(e.text)),e})}function f(n,r){let i="";if(n)for(let t=0;t<n.length;++t){let e=n.charCodeAt(t);var a;e<=127?i+=n.charAt(t):e<=2047?i+=String.fromCharCode(192|e>>6,128|63&e):(!r&&55296<=e&&e<=56319&&(a=n.charCodeAt(++t),isNaN(a)||(e=65536+(e-55296<<10)+(a-56320))),i+=e<=65535?String.fromCharCode(224|e>>12,128|e>>6&63,128|63&e):String.fromCharCode(240|e>>18,128|e>>12&63,128|e>>6&63,128|63&e))}return i}function m(){return Date.now()}function g(){var e=new Uint8Array(4);return _.getRandomBuf(e),new Uint32Array(e.buffer)[0]}function h(i,a,s,o){function t(n){pxt.debug(`downloading translations for ${i} ${a} `+(s||""));let e=pxt.BrowserUtils.isLocalHost()||pxt.webConfig.isStatic?"https://makecode.com/api/":"",t=e+`translations?lang=${encodeURIComponent(i)}&filename=${encodeURIComponent(a)}&approved=true`;s&&(t+="&branch="+encodeURIComponent(s));var r={};return o&&!pxt.Cloud.useCdnApi()&&(r["If-None-Match"]=o),(e?u:pxt.Cloud.apiRequestWithCdnAsync)({url:t,headers:r}).then(t=>304==t.statusCode||200==t.statusCode?(o=t.headers.etag||"",pxt.BrowserUtils.translationDbAsync().then(e=>e.setAsync(i,a,s,o,t.json||n)).then(()=>t.json||n)):t.json,e=>{console.log("failed to load translations from "+t)})}return pxt.BrowserUtils.translationDbAsync().then(e=>e.getAsync(i,a,s)).then(e=>e?(o=e.etag,300<(Date.now()-e.time)/1e3&&t(e.strings),e.strings):t())}function y(e){var[e,t]=_.normalizeLanguageCode(e),n=pxt.appTarget.appTheme;if(n&&n.availableLocales){if(-1<n.availableLocales.indexOf(e))return!0;if(t&&-1<n.availableLocales.indexOf(t))return!0}return!1}_.nextTick=function(e){T.then(e)},_.delay=async function(t,e){e=await e;return await new Promise(e=>setTimeout(()=>e(),t)),e},_.promiseMapAll=function(e,t){return Promise.all(e.map(e=>t(e)))},_.promiseMapAllSeries=function(e,t){return n(1,e,t)},_.promisePoolAsync=n,_.memoizeString=function(e){return o(e=>e,e)},_.promiseTimeout=async function(n,e,r){let i,a;var t=new Promise((e,t)=>{a=e,i=setTimeout(()=>{a=void 0,clearTimeout(i),t(r||`Promise timed out after ${n}ms`)},n)});return Promise.race([e,t]).then(e=>(a&&(clearTimeout(i),a()),e))},_.defer=function(){let r,n,i,e=!1;return{resolve:function(t){e?pxt.debug("Deferred promise already resolved"):(n?n(t):r=r||new Promise(function(e){e(t)}),e=!0)},reject:function(n){e?pxt.debug("Deferred promise already resolved"):(i?i(n):r=r||new Promise(function(e,t){t(n)}),e=!0)},promise:new Promise(function(e,t){r?e(r):(n=e,i=t)})}},_.memoize=o,_.debounce=function(r,i,a){let s;return function(){let e=this,t=arguments,n=a&&!s;return clearTimeout(s),s=setTimeout(function(){s=null,a||r.apply(e,t)},i),n&&r.apply(e,t),s}},_.AdaptiveDebouncer=class{constructor(e,t=300,n=2e3,r=2){this.func=e,this.minDelay=t,this.maxDelay=n,this.slowdownFactor=r,this.lastPoke=0,this.recentGaps=[],this.wrapped=()=>{this.timeout=null,this.func()}}poke(){var e=Date.now();if(this.lastPoke){var t=e-this.lastPoke;if(t<10)return;for(t<4e3&&this.recentGaps.push(t);10<this.recentGaps.length;)this.recentGaps.shift()}this.lastPoke=e}trigger(){let e=this.maxDelay;var t;this.lastPoke&&((t=this.recentGaps.slice()).sort(),t=t[t.length>>1]||1,e=Math.min(Math.max(t*this.slowdownFactor|0,this.minDelay),this.maxDelay),(e-=Date.now()-this.lastPoke)<0&&(e=0),this.lastPoke=null),clearTimeout(this.timeout),this.timeout=setTimeout(this.wrapped,e)}},_.throttle=function(r,i,a){let s;return function(){let e=this,t=arguments,n=a&&!s;s=s||setTimeout(function(){s=null,a||r.apply(e,t)},i),n&&r.apply(e,t)}},_.randomPermute=function(t){for(let e=0;e<t.length;++e){var n=g()%t.length,r=t[e];t[e]=t[n],t[n]=r}},_.randomPick=function(e){return 0==e.length?null:e[g()%e.length]},_.timeSince=function(e){let t=(Date.now()-(e*=1e3))/1e3;return isNaN(t)?"":t<-30?(t=-t)<60?_.lf("in a few seconds"):t<120?_.lf("in a minute"):t<3600?_.lf("in {0} minute{0:s}",Math.floor(t/60)):t<7200?_.lf("in an hour"):t<86400?_.lf("in {0} hour{0:s}",Math.floor(t/60/60)):t<2592e3?_.lf("in {0} day{0:s}",Math.floor(t/60/60/24)):t<31536e3?_.lf("in {0} month{0:s}",Math.floor(t/60/60/24/30)):_.lf("in {0} year{0:s}",Math.floor(t/60/60/24/365)):t<0?_.lf("now"):t<10?_.lf("a few seconds ago"):t<60?_.lf("{0} second{0:s} ago",Math.floor(t)):t<120?_.lf("a minute ago"):t<3600?_.lf("{0} minute{0:s} ago",Math.floor(t/60)):t<7200?_.lf("an hour ago"):t<86400?_.lf("{0} hour{0:s} ago",Math.floor(t/60/60)):t<2592e3?_.lf("{0} day{0:s} ago",Math.floor(t/60/60/24)):t<31536e3?_.lf("{0} month{0:s} ago",Math.floor(t/60/60/24/30)):_.lf("{0} year{0:s} ago",Math.floor(t/60/60/24/365))},_.unicodeToChar=function(e){return e.replace(/\\u([\d\w]{4})/gi,function(e,t){return String.fromCharCode(parseInt(t,16))})},_.escapeForRegex=function(e){return null==e?void 0:e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},_.stripUrlProtocol=function(e){return null==e?void 0:e.replace(/.*?:\/\//g,"")},_.normalizePath=l,_.pathJoin=function(e,t){if(l(e),l(t),e||t)return e?t?("/"!==e.charAt(e.length-1)&&(e+="/"),e+(t="/"==t.charAt(0)?t.substring(1):t)):e:t},_.isNodeJS="undefined"==typeof window,_.requestAsync=u,_.httpGetTextAsync=function(e){return u({url:e}).then(e=>e.text)},_.httpGetJsonAsync=function(e){return u({url:e}).then(e=>e.json)},_.httpPostJsonAsync=function(e,t){return u({url:e,data:t||{}}).then(e=>e.json)},_.stringToUint8Array=function(t){var n=t.length,r=new Uint8Array(n);for(let e=0;e<n;++e)r[e]=255&t.charCodeAt(e);return r},_.uint8ArrayToString=function(t){let n=t.length,r="";for(let e=0;e<n;++e)r+=String.fromCharCode(t[e]);return r},_.fromUTF8=function(t){if(!t)return"";let n="";for(let e=0;e<t.length;++e){var r=255&t.charCodeAt(e);n+=37==r||127<r?"%"+r.toString(16):t.charAt(e)}return decodeURIComponent(n)},_.toUTF8=f,_.toHex=function(t){let n="";for(let e=0;e<t.length;++e)n+=("0"+t[e].toString(16)).slice(-2);return n},_.fromHex=function(t){var n=new Uint8Array(t.length>>1);for(let e=0;e<t.length;e+=2)n[e>>1]=parseInt(t.slice(e,e+2),16);return n},_.PromiseQueue=class{constructor(){this.promises={}}enqueue(r,i){return new Promise((e,t)=>{let n=this.promises[r];(n=n||(this.promises[r]=[])).push(()=>i().finally(()=>{n.shift(),0==n.length?delete this.promises[r]:n[0]()}).then(e,t)),1==n.length&&n[0]()})}};let d;function v(e,n,r,i,a,t,s){if(s=s||d.Editor,"en-US"===(r=_.normalizeLanguageCode(r)[0])||"en"===r)return Promise.resolve(void 0);let o,c,l=r+`/${t}/`+s;if(_.translationsCache()[l])return Promise.resolve(_.translationsCache()[l]);switch(s){case d.Editor:o=[{branch:i,staticName:"strings.json",path:"strings.json"},{branch:a,staticName:"target-strings.json",path:e+"/target-strings.json"}];break;case d.Sim:o=[{branch:a,staticName:"sim-strings.json",path:e+"/sim-strings.json"}];break;case d.Apis:o=[{branch:a,staticName:"bundled-strings.json",path:e+"/bundled-strings.json"}];break;case d.SkillMap:o=[{branch:a,staticName:"skillmap-strings.json",path:"/skillmap-strings.json"}]}function u(t){t&&(c=c||{},Object.keys(t).filter(e=>!!t[e]).forEach(e=>c[e]=t[e]))}if(t){let t=0;return p.U.promiseMapAllSeries(o,e=>h(r,e.path,e.branch).then(u,e=>{console.log(e.message),++t})).then(()=>(t&&(_.translationsCache()[l]=c),t!==o.length&&c?Promise.resolve(c):(pxt.tickEvent("translations.livetranslationsfailed"),v(e,n,r,i,a,!1,s))))}return Promise.all(o.map(e=>_.httpGetJsonAsync(n+`locales/${r}/`+e.staticName).catch(e=>{}))).then(e=>{let t={};e.forEach(e=>pxt.Util.jsonMergeFrom(t,e)),Object.keys(t).length&&(c=t,_.translationsCache()[l]=c)},e=>{console.error("failed to load localizations")}).then(()=>c)}function b(e){var t={};for(const n of Object.keys(e))t[n]=x(e[n]);return t}function x(e){var t;return{attributes:Object.assign({},e.attributes),parameters:null==(t=e.parameters)?void 0:t.map(k),extendsTypes:e.extendsTypes?[...e.extendsTypes]:void 0,pkgs:e.pkgs?[...e.pkgs]:void 0,combinedProperties:e.combinedProperties?[...e.combinedProperties]:void 0,name:e.name,namespace:e.namespace,fileName:e.fileName,kind:e.kind,retType:e.retType,isInstance:e.isInstance,isContextual:e.isContextual,qName:e.qName,pkg:e.pkg,snippet:e.snippet,snippetName:e.snippetName,snippetWithMarkers:e.snippetWithMarkers,pySnippet:e.pySnippet,pySnippetName:e.pySnippetName,pySnippetWithMarkers:e.pySnippetWithMarkers,blockFields:e.blockFields,isReadOnly:e.isReadOnly,pyName:e.pyName,pyQName:e.pyQName,snippetAddsDefinitions:e.snippetAddsDefinitions}}function k(e){var t;return{name:e.name,description:e.description,type:e.type,pyTypeString:e.pyTypeString,initializer:e.initializer,default:e.default,properties:null==(t=e.properties)?void 0:t.map(S),handlerParameters:null==(t=e.handlerParameters)?void 0:t.map(S),options:e.options?p.U.clone(e.options):void 0,isEnum:e.isEnum}}function S(e){return{name:e.name,type:e.type}}_.PromiseBuffer=class{constructor(){this.waiting=[],this.available=[]}drain(){for(var e of this.waiting)e(new Error("Promise Buffer Reset"));this.waiting=[],this.available=[]}pushError(e){this.push(e)}push(e){var t=this.waiting.shift();t?t(e):this.available.push(e)}shiftAsync(e=0){var t;return 0<this.available.length?(t=this.available.shift())instanceof Error?Promise.reject(t):Promise.resolve(t):new Promise((t,n)=>{let r=e=>{(e instanceof Error?n:t)(e)};this.waiting.push(r),0<e&&p.U.delay(e).then(()=>{var e=this.waiting.indexOf(r);0<=e&&(this.waiting.splice(e,1),n(new Error("Timeout")))})})}},_.now=m,_.nowSeconds=function(){return Math.round(m()/1e3)},_.timeout=function(t){return new Promise(e=>setTimeout(()=>e(),t))},_.cpuUs=()=>{const e="undefined"!=typeof performance?performance.now.bind(performance)||performance.moznow.bind(performance)||performance.msNow.bind(performance)||performance.webkitNow.bind(performance)||performance.oNow.bind(performance):Date.now;return _.cpuUs=()=>1e3*e(),_.cpuUs()},_.getMime=function(e){e=/\.([a-zA-Z0-9]+)$/.exec(e);if(!e)return"application/octet-stream";switch(e[1].toLowerCase()){case"txt":return"text/plain";case"html":case"htm":return"text/html";case"css":return"text/css";case"js":return"application/javascript";case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"ico":return"image/x-icon";case"manifest":return"text/cache-manifest";case"webmanifest":return"application/manifest+json";case"json":return"application/json";case"svg":return"image/svg+xml";case"eot":return"application/vnd.ms-fontobject";case"ttf":return"font/ttf";case"woff":return"application/font-woff";case"woff2":return"application/font-woff2";case"md":return"text/markdown";case"xml":return"application/xml";case"m4a":return"audio/m4a";case"mp3":return"audio/mp3";default:return"application/octet-stream"}},_.randomUint32=g,_.guidGen=function(){function e(){return(65536|g()).toString(16).slice(-4)}return e()+e()+"-"+e()+"-4"+e().slice(-3)+"-"+e()+"-"+e()+e()+e()},_.downloadLiveTranslationsAsync=h,_.pxtLangCookieId="PXT_LANG",_.langCookieExpirationDays=30,_.allLanguages={af:{englishName:"Afrikaans",localizedName:"Afrikaans"},ar:{englishName:"Arabic",localizedName:"العربية"},az:{englishName:"Azerbaijani",localizedName:"آذربایجان دیلی"},bg:{englishName:"Bulgarian",localizedName:"български"},bn:{englishName:"Bengali",localizedName:"বাংলা"},ca:{englishName:"Catalan",localizedName:"Català"},cs:{englishName:"Czech",localizedName:"Čeština"},da:{englishName:"Danish",localizedName:"Dansk"},de:{englishName:"German",localizedName:"Deutsch"},el:{englishName:"Greek",localizedName:"Ελληνικά"},en:{englishName:"English",localizedName:"English"},"es-ES":{englishName:"Spanish (Spain)",localizedName:"Español (España)"},"es-MX":{englishName:"Spanish (Mexico)",localizedName:"Español (México)"},et:{englishName:"Estonian",localizedName:"Eesti"},eu:{englishName:"Basque",localizedName:"Euskara"},fa:{englishName:"Persian",localizedName:"فارسی"},fi:{englishName:"Finnish",localizedName:"Suomi"},fr:{englishName:"French",localizedName:"Français"},"fr-CA":{englishName:"French (Canada)",localizedName:"Français (Canada)"},"gu-IN":{englishName:"Gujarati",localizedName:"ગુજરાતી"},he:{englishName:"Hebrew",localizedName:"עברית"},hr:{englishName:"Croatian",localizedName:"Hrvatski"},hu:{englishName:"Hungarian",localizedName:"Magyar"},"hy-AM":{englishName:"Armenian (Armenia)",localizedName:"Հայերէն (Հայաստան)"},id:{englishName:"Indonesian",localizedName:"Bahasa Indonesia"},is:{englishName:"Icelandic",localizedName:"Íslenska"},it:{englishName:"Italian",localizedName:"Italiano"},ja:{englishName:"Japanese",localizedName:"日本語"},kab:{englishName:"Kabyle",localizedName:"شئعم"},ko:{englishName:"Korean",localizedName:"한국어"},kmr:{englishName:"Kurmanji (Kurdish)",localizedName:"کورمانجی‎"},kn:{englishName:"Kannada",localizedName:"ಕನ್ನಡ"},lt:{englishName:"Lithuanian",localizedName:"Lietuvių"},lv:{englishName:"Latvian",localizedName:"Latviešu"},"ml-IN":{englishName:"Malayalam",localizedName:"മലയാളം"},mr:{englishName:"Marathi",localizedName:"मराठी"},nl:{englishName:"Dutch",localizedName:"Nederlands"},no:{englishName:"Norwegian",localizedName:"Norsk"},nb:{englishName:"Norwegian Bokmal",localizedName:"Norsk bokmål"},"nn-NO":{englishName:"Norwegian Nynorsk",localizedName:"Norsk nynorsk"},"pa-IN":{englishName:"Punjabi",localizedName:"ਪੰਜਾਬੀ"},pl:{englishName:"Polish",localizedName:"Polski"},"pt-BR":{englishName:"Portuguese (Brazil)",localizedName:"Português (Brasil)"},"pt-PT":{englishName:"Portuguese (Portugal)",localizedName:"Português (Portugal)"},ro:{englishName:"Romanian",localizedName:"Română"},ru:{englishName:"Russian",localizedName:"Русский"},"si-LK":{englishName:"Sinhala (Sri Lanka)",localizedName:"සිංහල (ශ්රී ලංකා)"},sk:{englishName:"Slovak",localizedName:"Slovenčina"},sl:{englishName:"Slovenian",localizedName:"Slovenski"},sr:{englishName:"Serbian",localizedName:"Srpski"},su:{englishName:"Sundanese",localizedName:"ᮘᮞ ᮞᮥᮔ᮪ᮓ"},"sv-SE":{englishName:"Swedish (Sweden)",localizedName:"Svenska (Sverige)"},ta:{englishName:"Tamil",localizedName:"தமிழ்"},te:{englishName:"Telugu",localizedName:"తెలుగు"},th:{englishName:"Thai",localizedName:"ภาษาไทย"},tl:{englishName:"Tagalog",localizedName:"ᜏᜒᜃᜅ᜔ ᜆᜄᜎᜓᜄ᜔"},tr:{englishName:"Turkish",localizedName:"Türkçe"},uk:{englishName:"Ukrainian",localizedName:"Українська"},"ur-IN":{englishName:"Urdu (India)",localizedName:"اردو (ہندوستان)"},"ur-PK":{englishName:"Urdu (Pakistan)",localizedName:"اردو (پاکستان)"},vi:{englishName:"Vietnamese",localizedName:"Tiếng việt"},"zh-CN":{englishName:"Chinese (Simplified)",localizedName:"简体中文"},"zh-TW":{englishName:"Chinese (Traditional)",localizedName:"繁體中文"}},_.isLocaleEnabled=y,_.updateLocalizationAsync=function(e){const{targetId:t,baseUrl:n,pxtBranch:r,targetBranch:i,force:a}=e;let s=e["code"];if((s="en-US"===(s=_.normalizeLanguageCode(s)[0])?"en":s)===_.userLanguage()||!y(s)&&!a)return pxt.debug(`loc: ${s} (using built-in)`),Promise.resolve();pxt.debug("loc: "+s);const o=pxt.Util.liveLocalizationEnabled();return v(t,n,s,r,i,o,c.pxtc.Util.TranslationsKind.Editor).then(e=>(e&&(_.setUserLanguage(s),_.setLocalizedStrings(e)),c.pxtc.Util.downloadTranslationsAsync(t,n,s,r,i,o,c.pxtc.Util.TranslationsKind.Apis).then(e=>{e&&(c.pxtc.apiLocalizationStrings=e)})))},(e=d=_.TranslationsKind||(_.TranslationsKind={}))[e.Editor=0]="Editor",e[e.Sim=1]="Sim",e[e.Apis=2]="Apis",e[e.SkillMap=3]="SkillMap",_.downloadTranslationsAsync=v,_.capitalize=function(e){return e&&e[0].toLocaleUpperCase()+e.slice(1)},_.uncapitalize=function(e){return(e||"").split(/(?=[A-Z])/g).join(" ").toLowerCase()},_.range=function(t){var n=[];for(let e=0;e<t;++e)n.push(e);return n},_.multipartPostAsync=function(e,n={},t=null,r=null){const i="--------------------------0461489f461126c5";let a="";Object.keys(n).forEach(e=>{var t=e,e=n[e];a=(a+=i+"\r\n")+'Content-Disposition: form-data; name="'+t+'"\r\n\r\n'+e+"\r\n"}),t&&(r=r,s=(t=t).split("/").reverse()[0],a=(a=a+i+'\r\nContent-Disposition: form-data; name="files['+t+']"; filename="'+s+'"\r\n')+"\r\n"+r+"\r\n"),a+=i+"--\r\n";var s,t={url:e,method:"POST",headers:{"Content-Type":"multipart/form-data; boundary="+i.slice(2)},data:a};return _.httpRequestCoreAsync(t)},_.toDataUri=function(e,t){return/^https?:/i.test(e)||/^data:/i.test(e)?e:(t||/^<svg/i.test(e)&&(t="image/svg+xml"),/xml|svg/.test(t)?`data:${t},`+encodeURIComponent(e):`data:${t||"image/png"};base64,`+p.encodeBase64(f(e)))},_.imageMagic=1496611453,_.imageHeaderSize=36,_.encodeBlobAsync=function(e,t){var n=_.imageHeaderSize+t.length,r=3*(e.width*e.height-1);let i=1;for(;i<4&&!(r*i>=8*n);)i++;let a=r*i>>3,s=n-a,o=0,c=e.width*e.height*4;if(0<s){const t=3*e.width,_=(o=Math.ceil(s/t),document.createElement("canvas"));_.width=e.width,_.height=e.height+o,_.getContext("2d").drawImage(e,0,0),e=_}var l=pxt.HF2.encodeU32LE([_.imageMagic,t.length,o,0,0,0,0,0,0]);function u(n,r,i,a){let s=0,o=0,c=a[o++];var l=(1<<i)-1;let u=!0;for(;u;){let e=c>>s&l,t=8-s;if(t<=i){if(o>=a.length){if(0==t)break;u=!1}c=a[o++],e|=c<<t&l,s=i-t}else s+=i;n[r]=255&(n[r]&~l|e),3==(3&++r)&&(n[r++]=255)}return r}pxt.Util.assert(l.length==_.imageHeaderSize);var d=e.getContext("2d"),p=d.getImageData(0,0,e.width,e.height);u(p.data,0,1,[i]);let f=4;for(f=u(p.data,f,i,l),pxt.Util.assert(0==(3&f)),f=0==o?u(p.data,f,i,t):(l=a-l.length,f=u(p.data,f,i,t.slice(0,l)),u(p.data,c,8,t.slice(l))),f|=3;f<p.data.length;)p.data[f]=255,f+=4;return d.putImageData(p,0,0),e},_.decodeBlobAsync=function(e){return pxt.BrowserUtils.loadCanvasAsync(e).then(e=>{const o=e.getContext("2d").getImageData(0,0,e.width,e.height).data,t=1&o[0]|(1&o[1])<<1|(1&o[2])<<2;if(5<t||0==t)return Promise.reject(new Error(_.lf("Invalid encoded PNG format")));function n(e,t,n){let r=0,i=0,a=0;for(var s=(1<<t)-1;i<n.length;)a|=(o[e++]&s)<<r,3==(3&e)&&e++,8<=(r+=t)&&(n[i++]=255&a,a>>=8,r-=8);return e}const r=new Uint8Array(pxt.Util.imageHeaderSize);var i=n(4,t,r),a=pxt.HF2.decodeU32LE(r);if(a[0]!=pxt.Util.imageMagic)return Promise.reject(new Error(_.lf("Invalid magic in encoded PNG")));var s=new Uint8Array(a[1]),a=a[2];if(0<a){const o=(e.height-a)*e.width,_=new Uint8Array((3*(o-1)*t>>3)-pxt.Util.imageHeaderSize),r=(n(i,t,_),s.set(_),new Uint8Array(s.length-_.length));n(4*o,8,r),s.set(r,_.length)}else n(i,t,s);return s})},_.parseQueryString=function(e){let r={};return e.replace(/\+/g," ").replace(/([^#?&=]+)=([^#?&=]*)/g,(e,t,n)=>(r[decodeURIComponent(t)]=decodeURIComponent(n),"")),r},_.stringifyQueryString=function(e,t){for(var n of Object.keys(t))0<=e.indexOf("?")?e+="&":e+="?",e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]);return e},_.cloneTargetBundle=function(e){const t=(e=Object.assign({},e)).apiInfo;delete e.apiInfo;var n=e.bundleddirs,r=(delete e.bundleddirs,e.bundledpkgs),i=(delete e.bundledpkgs,e.tutorialInfo),a=(delete e.tutorialInfo,_.clone(e));if(t){a.apiInfo={};for(const e of Object.keys(t)){const _=t[e].apis;a.apiInfo[e]={sha:t[e].sha,apis:{jres:Object.assign({},_.jres),byQName:b(_.byQName)}}}}if(n&&(a.bundleddirs=[...n]),r){a.bundledpkgs={};for(const e of Object.keys(r))a.bundledpkgs[e]=Object.assign({},r[e])}if(i){a.tutorialInfo={};for(const e of Object.keys(i)){const t=i[e];a.tutorialInfo[e]={hash:t.hash,usedBlocks:Object.assign({},t.usedBlocks),snippetBlocks:Object.assign({},t.snippetBlocks)}}}return a},_.cloneApis=b,_.cloneSymbolInfo=x,_.toUTF8Array=function(e){return(new TextEncoder).encode(e)},_.fromUTF8Array=function(e){return(new TextDecoder).decode(e)}}}(ts=ts||{}),function(e){var h=e.pxtc||(e.pxtc={});{e=h.BrowserImpl||(h.BrowserImpl={});h.Util.httpRequestCoreAsync=function(c){return new Promise((e,t)=>{let n,r=!1,i=h.Util.clone(c.headers)||{};n=new XMLHttpRequest,c.responseArrayBuffer&&(n.responseType="arraybuffer"),c.withCredentials&&(n.withCredentials=!0),n.onreadystatechange=()=>{if(!r&&4==n.readyState){r=!0;let t={statusCode:n.status,headers:{},buffer:n.responseBody||n.response,text:c.responseArrayBuffer?void 0:n.responseText};n.getAllResponseHeaders().split(/\r?\n/).forEach(e=>{e=/^\s*([^:]+): (.*)/.exec(e);e&&(t.headers[e[1].toLowerCase()]=e[2])}),e(t)}};let a,s=c.data,o=c.method||(null==s?"GET":"POST");null==s?a=null:s instanceof Uint8Array?a=s:"object"==typeof s?(a=JSON.stringify(s),i["content-type"]="application/json; charset=utf8"):"string"==typeof s?a=s:h.Util.oops("bad data"),n.open(o,c.url),Object.keys(i).forEach(e=>{n.setRequestHeader(e,i[e])}),null==a?n.send():n.send(a)})},h.Util.sha256=n,h.Util.getRandomBuf=t=>{if(window.crypto)window.crypto.getRandomValues(t);else for(let e=0;e<t.length;++e)t[e]=Math.floor(255*Math.random())};const v=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function y(e,t){return e>>>t|e<<32-t}function t(e){let m=new Uint32Array(8),g=(m[0]=1779033703,m[1]=3144134277,m[2]=1013904242,m[3]=2773480762,m[4]=1359893119,m[5]=2600822924,m[6]=528734635,m[7]=1541459225,new Uint32Array(64));function t(n){var e=n.length-63;for(let t=0;t<e;t+=64){for(let e=0;e<16;e++){var r=(e<<2)+t;g[e]=n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]}{l=void 0;u=void 0;d=void 0;p=void 0;f=void 0;_=void 0;var l=m;var u=g;h.Util.assert(8==l.length),h.Util.assert(64==u.length);for(let e=16;e<64;++e){var d=y(u[e-15],7)^y(u[e-15],18)^u[e-15]>>>3,p=y(u[e-2],17)^y(u[e-2],19)^u[e-2]>>>10;u[e]=u[e-16]+d+u[e-7]+p|0}let t=l[0],n=l[1],r=l[2],i=l[3],a=l[4],s=l[5],o=l[6],c=l[7];for(let e=0;e<64;++e){var f=c+(y(a,6)^y(a,11)^y(a,25))+(a&s^~a&o)+v[e]+u[e]|0,_=t&n^t&r^n&r;c=o,o=s,s=a,a=i+f|0,i=r,r=n,t=f+((y(n=t,2)^y(t,13)^y(t,22))+_|0)|0}l[0]+=t,l[1]+=n,l[2]+=r,l[3]+=i,l[4]+=a,l[5]+=s,l[6]+=o,l[7]+=c}}}t(e);let n=64-(e.length+9)%64,r=(64==n&&(n=0),e.length-e.length%64),i=new Uint8Array(e.length-r+1+n+8),a=0;for(;r<e.length;)i[a++]=e[r++];for(i[a++]=128;0<n--;)i[a++]=0;let s=8*e.length;for(a=i.length;0<s;)i[--a]=255&s,s>>=8;t(i);let o="";for(let e=0;e<m.length;++e)o+=("000000000"+m[e].toString(16)).slice(-8);return o.toLowerCase()}function n(e){pxt.perf.measureStart("sha256buffer");e=t(h.Util.toUTF8Array(e));return pxt.perf.measureEnd("sha256buffer"),e}e.sha256buffer=t,e.sha256string=n}}(ts=ts||{}),function(e){e=e.pxtc||(e.pxtc={});{e=e.jsonPatch||(e.jsonPatch={});const o={add:(e,t,n)=>{if("object"!=typeof e)throw new Error("jsonPatch: expected object type");if(t in e)throw new Error("jsonPatch: object already contains key "+t);e[t]=n},replace:(e,t,n)=>{if("object"!=typeof e)throw new Error("jsonPatch: expected object type");e[t]=n},remove:(e,t)=>{if("object"!=typeof e)throw new Error("jsonPatch: expected object type");delete e[t]}},c={add:(e,t,n)=>{if(!Array.isArray(e))throw new Error("jsonPatch: expected array type");if(t in e)throw new Error(`jsonPatch: key ${t} already exists in array`);"number"!=typeof t||t!==Math.floor(t)?e[t]=n:e.splice(t,0,n)},replace:(e,t,n)=>{if(!Array.isArray(e))throw new Error("jsonPatch: expected array type");"number"!=typeof t||t!==Math.floor(t)?e[t]=n:e.splice(t,1,n)},remove:(e,t)=>{if(!Array.isArray(e))throw new Error("jsonPatch: expected array type");"number"!=typeof t||t!==Math.floor(t)?delete e[t]:e.splice(t,1)}};e.diff=function(e,t){const l={add:[],remove:[],replace:[]};function u(e,t){return!Array.isArray(e)||(e=Number.parseFloat(t),Number.isNaN(e))?t:e}return function e(t,n,r){if(!Object.is(t,n)){n=n||{},t=t||{};for(var i of Object.keys(t))if(!(i in n)){const n=u(t,i);l.remove.push({op:"remove",path:r.concat(n)})}for(const c of Object.keys(n)){var a=t[c],s=n[c],o=u(n,c);o in t?"object"!=typeof a&&"object"!=typeof s&&a!==s||typeof a!=typeof s||Array.isArray(a)!==Array.isArray(s)?l.replace.push({op:"replace",path:r.concat(o),value:s}):e(a,s,r.concat(o)):void 0!==n[o]&&(r.length&&l.add.push({op:"add",path:r,value:Array.isArray(n)?[]:{}}),l.add.push({op:"add",path:r.concat(o),value:s}))}}}(e,t,[]),[...l.remove.reverse(),...l.replace,...l.add.sort((e,t)=>e.path.length-t.path.length)]},e.patchInPlace=function(n,r){if(!n||"object"!=typeof n)throw new Error("jsonPatch: Must be an object or an array.");for(const a of r){const r=a.path.slice(),s=r.pop();if(null==s)throw new Error("jsonPatch: missing last key");let e=n,t=r.shift();for(;null!=t;){if(!(t in e))throw new Error("jsonPatch: missing parent element "+t);e=e[t],t=r.shift()}if(Array.isArray(e)&&"number"!=typeof s)throw new Error("jsonPatch: expected numeric index for array object");var i=Array.isArray(e)?c:o;"remove"===a.op?i.remove(e,s):"add"!==a.op||s in e?"replace"===a.op&&i.replace(e,s,a.value):i.add(e,s,a.value)}}}}(ts=ts||{}),function(n){function a(t,n){if(t===n)return 1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var e=Array.isArray(t),r=Array.isArray(n);if(e&&r){if(t.length!==n.length)return;for(let e=0;e<t.length;++e)if(!a(t[e],n[e]))return}else{if(e!==r)return;e=Object.keys(t);if(e.length!==Object.keys(n).length)return;for(const i of e){if(!n.hasOwnProperty(i))return;if(!a(t[i],n[i]))return}}return 1}return t!=t&&n!=n}var e;(e=(e=(e=n.pxtc||(n.pxtc={})).jsonPatch||(e.jsonPatch={})).tests||(e.tests={})).diffTests=function(){const e=[{comment:"test 1",obja:{a:4,b:5},objb:{a:3,b:5},expected:[{op:"replace",path:["a"],value:3}]},{comment:"test 2",obja:{a:3,b:5},objb:{a:4,c:5},expected:[{op:"remove",path:["b"]},{op:"replace",path:["a"],value:4},{op:"add",path:["c"],value:5}]},{comment:"test 3",obja:{a:4,b:[1,2,3]},objb:{a:3,b:[1,2,4]},expected:[{op:"replace",path:["a"],value:3},{op:"replace",path:["b",2],value:4}]},{comment:"test 4",obja:{a:3,b:[1,2,4]},objb:{a:3,b:[1,2,4,5]},expected:[{op:"add",path:["b"],value:[]},{op:"add",path:["b",3],value:5}]},{comment:"test 5",obja:{a:4,b:{c:3}},objb:{a:4,b:{c:4}},expected:[{op:"replace",path:["b","c"],value:4}]},{comment:"test 6",obja:{a:4,b:{c:4}},objb:{a:5,b:{d:4}},expected:[{op:"remove",path:["b","c"]},{op:"replace",path:["a"],value:5},{op:"add",path:["b"],value:{}},{op:"add",path:["b","d"],value:4}]},{comment:"test 7",obja:{a:4,b:[2,"foo"]},objb:{a:4,b:[2,"foo",["this","that"]]},expected:[{op:"add",path:["b"],value:[]},{op:"add",path:["b",2],value:["this","that"]}]}];for(const t of e){console.log(t.comment);const e=n.pxtc.jsonPatch.diff(t.obja,t.objb);a(e,t.expected)?console.log("succeeded"):(console.error("FAILED"),console.log("got",e),console.log("exp",t.expected))}},e.patchTests=function(){for(const e of[{comment:"test 1",obj:{a:"foo",b:[4,11]},patches:[{op:"remove",path:["b"]},{op:"replace",path:["a"],value:4},{op:"add",path:["c"],value:5}],expected:{a:4,c:5}},{comment:"test 2",obj:{a:4,b:[1,2,3]},patches:[{op:"replace",path:["a"],value:3},{op:"replace",path:["b",2],value:4},{op:"add",path:["b",3],value:9}],expected:{a:3,b:[1,2,4,9]}},{comment:"test 3",obj:{a:4,b:{c:3}},patches:[{op:"replace",path:["a"],value:5},{op:"remove",path:["b","c"]},{op:"add",path:["b","d"],value:4}],expected:{a:5,b:{d:4}}},{comment:"test 4",obj:{a:4},patches:[{op:"add",path:["b"],value:[]},{op:"add",path:["b",0],value:"foo"},{op:"add",path:["b",1],value:"bar"}],expected:{a:4,b:["foo","bar"]},validate:e=>e.b&&e.b.forEach}])console.log(e.comment),n.pxtc.jsonPatch.patchInPlace(e.obj,e.patches),a(e.obj,e.expected)&&e.validate&&!e.validate(e.obj)?e.expected&&(console.error("FAILED"),console.log("got",e.obj),console.log("exp",e.expected)):console.log("succeeded")}}(ts=ts||{}),function(e){e.perf||(e.perf={})}(pxt=pxt||{}),pxt.perf.report||(pxt.perf.report=()=>{}),pxt.perf.recordMilestone||(pxt.perf.recordMilestone=()=>{}),pxt.perf.measureStart||(pxt.perf.measureStart=()=>{}),pxt.perf.measureEnd||(pxt.perf.measureEnd=()=>{}),function(i){let n;i.U=pxtc.Util,i.Util=pxtc.Util;let a,s,e,o={};function r(e,t){/^csv-/.test(e)?i.setAppTargetVariant(e.replace(/^csv-*/,"")):i.appTarget&&(o[e]=t,i.U.jsonCopyFrom(i.appTarget.compile.switches,o),i.U.jsonCopyFrom(n.compile.switches,o))}function c(){let t=i.appTarget.compile,n=((t=t||(i.appTarget.compile={isNative:!1,hasHex:!1,switches:{}})).hasHex&&!t.nativeType&&(t.nativeType=pxtc.NATIVE_TYPE_THUMB),t.switches||(t.switches={}),i.U.jsonCopyFrom(t.switches,o),t.jsRefCounting=!1,t.useUF2||t.useELF||null!=t.noSourceInFlash||(t.noSourceInFlash=!0),void 0===t.utf8&&(t.utf8=!0),i.appTarget.appTheme||(i.appTarget.appTheme={}),i.appTarget.appTheme.embedUrl||(i.appTarget.appTheme.embedUrl=i.appTarget.appTheme.homeUrl),i.appTarget.compileService);n&&n.yottaTarget&&!n.yottaBinary&&(n.yottaBinary="pxt-microbit-app-combined.hex");const r=i.appTarget.appTheme;r&&Object.keys(r).filter(e=>/(logo|hero)$/i.test(e)&&/^@cdnUrl@/.test(r[e])).forEach(e=>r[e]=i.BrowserUtils.patchCdn(r[e]));var e=i.appTarget.simulator;if(e&&e.boardDefinition&&e.boardDefinition.visual&&(e=e.boardDefinition.visual).image&&(e.image=i.BrowserUtils.patchCdn(e.image),e.outlineImage)&&(e.outlineImage=i.BrowserUtils.patchCdn(e.outlineImage)),Object.keys(i.appTarget.bundledpkgs).forEach(e=>{var e=i.appTarget.bundledpkgs[e],t=JSON.parse(e[i.CONFIG_NAME]);t.icon&&(t.icon=i.BrowserUtils.patchCdn(t.icon)),e[i.CONFIG_NAME]=i.Package.stringifyConfig(t)}),"undefined"!=typeof window){const t={"lockededitor=1":{appTheme:{lockedEditor:!0}},"hidemenu=1":{appTheme:{hideMenuBar:!0}}},n=(i.appTarget.queryVariants&&i.Util.jsonCopyFrom(t,i.appTarget.queryVariants),window.location.href);Object.keys(t).forEach(e=>{new RegExp(e,"i").exec(n)&&(e=t[e])&&i.U.jsonMergeFrom(i.appTarget,e)})}}function l(e=!1){i.perf.measureStart("reloadAppTargetVariant");var t=e?"":JSON.stringify(i.appTarget);if(i.appTarget=i.U.cloneTargetBundle(n),i.appTargetVariant){const n=i.appTarget.variants&&i.appTarget.variants[i.appTargetVariant];n?i.U.jsonMergeFrom(i.appTarget,n):i.U.userError(lf("Variant '{0}' not defined in pxtarget.json",i.appTargetVariant))}c(),!e&&i.onAppTargetChanged&&t!=JSON.stringify(i.appTarget)&&i.onAppTargetChanged(),i.perf.measureEnd("reloadAppTargetVariant")}function t(){return{relprefix:"/--",workerjs:"/worker.js",monacoworkerjs:"/monacoworker.js",gifworkerjs:"/gifjs/gif.worker.js",serviceworkerjs:"/serviceworker.js",typeScriptWorkerJs:"/tsworker.js",pxtVersion:"local",pxtRelId:"localRelId",pxtCdnUrl:"/cdn/",commitCdnUrl:"/cdn/",blobCdnUrl:"/blb/",cdnUrl:"/cdn/",targetUrl:"",targetVersion:"local",targetRelId:"",targetId:i.appTarget?i.appTarget.id:"",simUrl:"/sim/simulator.html",simserviceworkerUrl:"/simulatorserviceworker.js",simworkerconfigUrl:"/sim/workerConfig.js",partsUrl:"/sim/siminstructions.html"}}function u(){return e=e||i.Cloud.downloadTargetConfigAsync().then(e=>e||{},e=>({}))}function d(e=null){return(e=e||i.appTarget.compile).nativeType==ts.pxtc.NATIVE_TYPE_VM?e.useESP?e.useUF2?ts.pxtc.BINARY_UF2:ts.pxtc.BINARY_ESP:ts.pxtc.BINARY_PXT64:e.useUF2&&!e.switches.rawELF?ts.pxtc.BINARY_UF2:e.useELF?ts.pxtc.BINARY_ELF:ts.pxtc.BINARY_HEX}i.setAppTarget=function(e){i.appTarget=e||{},c(),n=i.U.cloneTargetBundle(i.appTarget)},i.setBundledApiInfo=function(e){for(const i of Object.keys(e)){const a=e[i].apis.byQName;for(const e of Object.keys(a)){var t=a[e],n=e.lastIndexOf("."),r=t.pyQName,n=a[e]={kind:Math.abs(t.kind||7),qName:e,namespace:e.slice(0,n<0?0:n),name:e.slice(n+1),pyQName:r,pyName:r?r.slice(r.lastIndexOf(".")+1):void 0,fileName:"",attributes:t.attributes||{},retType:t.retType||"void",parameters:t.parameters?t.parameters.map(e=>({name:e.name,description:e.description||"",type:e.type||"number",initializer:e.initializer,default:e.default,options:e.options||{},isEnum:!!e.isEnum,handlerParameters:e.handlerParameters})):null,extendsTypes:t.extendsTypes,snippet:t.kind&&t.kind<0?null:void 0,isInstance:!!t.isInstance,isReadOnly:!!t.isReadOnly},r=n.attributes;r.paramDefl||(r.paramDefl={}),r.callingConvention||(r.callingConvention=0),r.paramHelp||(r.paramHelp={}),r.jsDoc||(r.jsDoc=""),r._name=n.name.replace(/@.*/,"")}}a=e},i.getBundledApiInfo=function(){return a},i.savedAppTheme=function(){return n?n.appTheme:void 0},i.setCompileSwitch=r,i.setCompileSwitches=function(e){if(e)for(var t of e.split(/[\s,;:]+/))t&&("-"==t[0]?r(t.slice(1),!1):r(t,!0))},i.bundledSvg=function(n){if(n){let e=s&&s[n];if(e)return e;if(i.appTarget.simulator&&i.appTarget.simulator.dynamicBoardDefinition){s=s||{};var r=i.appTarget.bundledpkgs[n];if(r){if(JSON.parse(r["pxt.json"]).core&&r["board.json"]){const t=JSON.parse(r["board.json"]);if(t&&t.visual&&t.visual.image){let e=t.visual.image;/^pkg:\/\//.test(e)&&(e=r[e.slice(6)]),s[n]="data:image/svg+xml;base64,"+ts.pxtc.encodeBase64(i.Util.toUTF8(e))}}return s[n]}}}},i.reloadAppTargetVariant=l,i.setAppTargetVariant=function(e,t={}){i.debug("app variant: "+e),(t.force||i.appTargetVariant!==e&&(i.appTargetVariant||e))&&(i.appTargetVariant=e,l(t.temporary))},i.setHwVariant=function(e,t){e=e.replace(/.*---/,""),/^[\w\-]+$/.test(e)?(i.hwVariant=e,i.hwName=t||e):(i.hwVariant=null,i.hwName=null),i.debug(`hwVariant: ${i.hwVariant} (${i.hwName})`)},i.hasHwVariants=function(){return!!i.appTarget.variants&&Object.keys(i.appTarget.bundledpkgs).some(e=>/^hw---/.test(e))},i.getHwVariants=function(){return i.appTarget.variants?Object.keys(i.appTarget.bundledpkgs).filter(e=>/^hw---/.test(e)).map(e=>JSON.parse(i.appTarget.bundledpkgs[e][i.CONFIG_NAME])).filter(e=>!!i.appTarget.appTheme.experimentalHw||!e.experimentalHw):[]},i.options={},i.debug="undefined"!=typeof console&&console.debug?e=>{i.options.debug&&console.debug(e)}:()=>{},i.log="undefined"!=typeof console&&console.log?e=>{console.log(e)}:()=>{},i.reportException=function(e,t){if(console&&(console.error(e),t))try{console.log(t)}catch(e){}},i.reportError=function(e,t,n){if(console&&(console.error(e+": "+t),n))try{i.log(JSON.stringify(n,null,2))}catch(e){}},i.localWebConfig=t,i.getOnlineCdnUrl=function(){var e;return i.webConfig&&(e=/^(https:\/\/[^\/]+)/.exec(i.webConfig.commitCdnUrl))?e[1]:null},i.setupWebConfig=function(e){e?i.webConfig=e:i.webConfig||(i.webConfig=t())},i.getEmbeddedScript=function(e){return i.U.lookup(i.appTarget.bundledpkgs||{},e)},i.targetConfigAsync=u,i.packagesConfigAsync=function(){return u().then(e=>e?e.packages:void 0)},i.CONFIG_NAME="pxt.json",i.SIMSTATE_JSON=".simstate.json",i.SERIAL_EDITOR_FILE="serial.txt",i.README_FILE="README.md",i.GITIGNORE_FILE=".gitignore",i.ASSETS_FILE="assets.json",i.CLOUD_ID="pxt/",i.BLOCKS_PROJECT_NAME="blocksprj",i.JAVASCRIPT_PROJECT_NAME="tsprj",i.PYTHON_PROJECT_NAME="pyprj",i.MAIN_BLOCKS="main.blocks",i.MAIN_TS="main.ts",i.MAIN_PY="main.py",i.DEFAULT_GROUP_NAME="other",i.TILEMAP_CODE="tilemap.g.ts",i.TILEMAP_JRES="tilemap.g.jres",i.IMAGES_CODE="images.g.ts",i.IMAGES_JRES="images.g.jres",i.TUTORIAL_CODE_START="_onCodeStart.ts",i.TUTORIAL_CODE_STOP="_onCodeStop.ts",i.TUTORIAL_INFO_FILE="tutorial-info-cache.json",i.TUTORIAL_CUSTOM_TS="tutorial.custom.ts",i.BREAKPOINT_TABLET=991,i.outputName=d,i.isOutputText=function(e=null){return d(e)==ts.pxtc.BINARY_HEX}}(pxt=pxt||{}),function(i){{var r=i.blocks||(i.blocks={});const _="this";let t;function n(){if((t={device_while:{name:i.Util.lf("a loop that repeats while the condition is true"),tooltip:i.Util.lf("Run the same sequence of actions while the condition is met."),url:"/blocks/loops/while",category:"loops",block:{message0:i.Util.lf("while %1"),appendField:i.Util.lf("{id:while}do")}},pxt_controls_for:{name:i.Util.lf("a loop that repeats the number of times you say"),tooltip:i.Util.lf("Have the variable '{0}' take on the values from 0 to the end number, counting by 1, and do the specified blocks."),url:"blocks/loops/for",category:"loops",block:{message0:i.Util.lf("for %1 from 0 to %2"),variable:i.Util.lf("{id:var}index"),appendField:i.Util.lf("{id:for}do")}},controls_simple_for:{name:i.Util.lf("a loop that repeats the number of times you say"),tooltip:i.Util.lf("Have the variable '{0}' take on the values from 0 to the end number, counting by 1, and do the specified blocks."),url:"blocks/loops/for",category:"loops",block:{message0:i.Util.lf("for %1 from 0 to %2"),variable:i.Util.lf("{id:var}index"),appendField:i.Util.lf("{id:for}do")}},pxt_controls_for_of:{name:i.Util.lf("a loop that repeats for each value in an array"),tooltip:i.Util.lf("Have the variable '{0}' take the value of each item in the array one by one, and do the specified blocks."),url:"blocks/loops/for-of",category:"loops",block:{message0:i.Util.lf("for element %1 of %2"),variable:i.Util.lf("{id:var}value"),appendField:i.Util.lf("{id:for_of}do")}},controls_for_of:{name:i.Util.lf("a loop that repeats for each value in an array"),tooltip:i.Util.lf("Have the variable '{0}' take the value of each item in the array one by one, and do the specified blocks."),url:"blocks/loops/for-of",category:"loops",block:{message0:i.Util.lf("for element %1 of %2"),variable:i.Util.lf("{id:var}value"),appendField:i.Util.lf("{id:for_of}do")}},math_op2:{name:i.Util.lf("minimum or maximum of 2 numbers"),tooltip:{min:i.Util.lf("smaller value of 2 numbers"),max:i.Util.lf("larger value of 2 numbers")},url:"/blocks/math",operators:{op:["min","max"]},category:"math"},math_op3:{name:i.Util.lf("absolute number"),tooltip:i.Util.lf("absolute value of a number"),url:"/reference/math",category:"math",block:{message0:i.Util.lf("absolute of %1")}},math_number:{name:i.Util.lf("{id:block}number"),url:"/blocks/math/random",category:"math",tooltip:i.appTarget&&i.appTarget.compile?i.Util.lf("a decimal number"):i.Util.lf("an integer number")},math_integer:{name:i.Util.lf("{id:block}number"),url:"/blocks/math/random",category:"math",tooltip:i.Util.lf("an integer number")},math_whole_number:{name:i.Util.lf("{id:block}number"),url:"/blocks/math/random",category:"math",tooltip:i.Util.lf("a whole number")},math_number_minmax:{name:i.Util.lf("{id:block}number"),url:"/blocks/math/random",category:"math"},math_arithmetic:{name:i.Util.lf("arithmetic operation"),url:"/blocks/math",tooltip:{ADD:i.Util.lf("Return the sum of the two numbers."),MINUS:i.Util.lf("Return the difference of the two numbers."),MULTIPLY:i.Util.lf("Return the product of the two numbers."),DIVIDE:i.Util.lf("Return the quotient of the two numbers."),POWER:i.Util.lf("Return the first number raised to the power of the second number.")},operators:{OP:["ADD","MINUS","MULTIPLY","DIVIDE","POWER"]},category:"math",block:{MATH_ADDITION_SYMBOL:i.Util.lf("{id:op}+"),MATH_SUBTRACTION_SYMBOL:i.Util.lf("{id:op}-"),MATH_MULTIPLICATION_SYMBOL:i.Util.lf("{id:op}×"),MATH_DIVISION_SYMBOL:i.Util.lf("{id:op}÷"),MATH_POWER_SYMBOL:i.Util.lf("{id:op}**")}},math_modulo:{name:i.Util.lf("division remainder"),tooltip:i.Util.lf("Return the remainder from dividing the two numbers."),url:"/blocks/math",category:"math",block:{MATH_MODULO_TITLE:i.Util.lf("remainder of %1 ÷ %2")}},math_js_op:{name:i.Util.lf("math function"),tooltip:{sqrt:i.Util.lf("Returns the square root of the argument"),sin:i.Util.lf("Returns the sine of the argument"),cos:i.Util.lf("Returns the cosine of the argument"),tan:i.Util.lf("Returns the tangent of the argument"),atan2:i.Util.lf("Returns the arctangent of the quotient of the two arguments"),idiv:i.Util.lf("Returns the integer portion of the division operation on the two arguments"),imul:i.Util.lf("Returns the integer portion of the multiplication operation on the two arguments")},url:"/blocks/math",operators:{OP:["sqrt","sin","cos","tan","atan2","idiv","imul"]},category:"math",block:{sqrt:i.Util.lf("{id:op}square root"),sin:i.Util.lf("{id:op}sin"),cos:i.Util.lf("{id:op}cos"),tan:i.Util.lf("{id:op}tan"),atan2:i.Util.lf("{id:op}atan2"),idiv:i.Util.lf("{id:op}integer ÷"),imul:i.Util.lf("{id:op}integer ×")}},math_js_round:{name:i.Util.lf("rounding functions"),tooltip:{round:i.Util.lf("Increases the argument to the next higher whole number if its fractional part is more than one half"),ceil:i.Util.lf("Increases the argument to the next higher whole number"),floor:i.Util.lf("Decreases the argument to the next lower whole number"),trunc:i.Util.lf("Removes the fractional part of the argument")},url:"/blocks/math",operators:{OP:["round","ceil","floor","trunc"]},category:"math",block:{round:i.Util.lf("{id:op}round"),ceil:i.Util.lf("{id:op}ceiling"),floor:i.Util.lf("{id:op}floor"),trunc:i.Util.lf("{id:op}truncate")}},variables_change:{name:i.Util.lf("update the value of a number variable"),tooltip:i.Util.lf("Changes the value of the variable by this amount"),url:"/blocks/variables/change",category:"variables",block:{message0:i.Util.lf("change %1 by %2")}},controls_repeat_ext:{name:i.Util.lf("a loop that repeats and increments an index"),tooltip:i.Util.lf("Do some statements several times."),url:"/blocks/loops/repeat",category:"loops",block:{CONTROLS_REPEAT_TITLE:i.Util.lf("repeat %1 times"),CONTROLS_REPEAT_INPUT_DO:i.Util.lf("{id:repeat}do")}},variables_get:{name:i.Util.lf("get the value of a variable"),tooltip:i.Util.lf("Returns the value of this variable."),url:"/blocks/variables",category:"variables",block:{VARIABLES_GET_CREATE_SET:i.Util.lf("Create 'set %1'")}},variables_get_reporter:{name:i.Util.lf("get the value of a variable"),tooltip:i.Util.lf("Returns the value of this variable."),url:"/blocks/variables",category:"variables",block:{VARIABLES_GET_CREATE_SET:i.Util.lf("Create 'set %1'")}},variables_set:{name:i.Util.lf("assign the value of a variable"),tooltip:i.Util.lf("Sets this variable to be equal to the input."),url:"/blocks/variables/assign",category:"variables",block:{VARIABLES_SET:i.Util.lf("set %1 to %2")}},controls_if:{name:i.Util.lf("a conditional statement"),tooltip:{CONTROLS_IF_TOOLTIP_1:i.Util.lf("If a value is true, then do some statements."),CONTROLS_IF_TOOLTIP_2:i.Util.lf("If a value is true, then do the first block of statements. Otherwise, do the second block of statements."),CONTROLS_IF_TOOLTIP_3:i.Util.lf("If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements."),CONTROLS_IF_TOOLTIP_4:i.Util.lf("If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.")},tooltipSearch:"CONTROLS_IF_TOOLTIP_2",url:"/blocks/logic/if",category:"logic",block:{CONTROLS_IF_MSG_IF:i.Util.lf("{id:logic}if"),CONTROLS_IF_MSG_THEN:i.Util.lf("{id:logic}then"),CONTROLS_IF_MSG_ELSE:i.Util.lf("{id:logic}else"),CONTROLS_IF_MSG_ELSEIF:i.Util.lf("{id:logic}else if")}},lists_create_with:{name:i.Util.lf("create an array"),tooltip:i.Util.lf("Creates a new array."),url:"/reference/arrays/create",category:"arrays",blockTextSearch:"LISTS_CREATE_WITH_INPUT_WITH",block:{LISTS_CREATE_EMPTY_TITLE:i.Util.lf("empty array"),LISTS_CREATE_WITH_INPUT_WITH:i.Util.lf("array of"),LISTS_CREATE_WITH_CONTAINER_TITLE_ADD:i.Util.lf("array"),LISTS_CREATE_WITH_ITEM_TITLE:i.Util.lf("value")}},lists_length:{name:i.Util.lf("array length"),tooltip:i.Util.lf("Returns the number of items in an array."),url:"/reference/arrays/length",category:"arrays",block:{LISTS_LENGTH_TITLE:i.Util.lf("length of array %1")}},lists_index_get:{name:i.Util.lf("get a value in an array"),tooltip:i.Util.lf("Returns the value at the given index in an array."),url:"/reference/arrays/get",category:"arrays",block:{message0:i.Util.lf("%1 get value at %2")}},lists_index_set:{name:i.Util.lf("set a value in an array"),tooltip:i.Util.lf("Sets the value at the given index in an array"),url:"/reference/arrays/set",category:"arrays",block:{message0:i.Util.lf("%1 set value at %2 to %3")}},logic_compare:{name:i.Util.lf("comparing two numbers"),tooltip:{LOGIC_COMPARE_TOOLTIP_EQ:i.Util.lf("Return true if both inputs equal each other."),LOGIC_COMPARE_TOOLTIP_NEQ:i.Util.lf("Return true if both inputs are not equal to each other."),LOGIC_COMPARE_TOOLTIP_LT:i.Util.lf("Return true if the first input is smaller than the second input."),LOGIC_COMPARE_TOOLTIP_LTE:i.Util.lf("Return true if the first input is smaller than or equal to the second input."),LOGIC_COMPARE_TOOLTIP_GT:i.Util.lf("Return true if the first input is greater than the second input."),LOGIC_COMPARE_TOOLTIP_GTE:i.Util.lf("Return true if the first input is greater than or equal to the second input.")},url:"/blocks/logic/boolean",category:"logic",block:{search:"= ≠ < ≤ > ≥"}},logic_operation:{name:i.Util.lf("boolean operation"),tooltip:{LOGIC_OPERATION_TOOLTIP_AND:i.Util.lf("Return true if both inputs are true."),LOGIC_OPERATION_TOOLTIP_OR:i.Util.lf("Return true if at least one of the inputs is true.")},url:"/blocks/logic/boolean",category:"logic",block:{LOGIC_OPERATION_AND:i.Util.lf("{id:op}and"),LOGIC_OPERATION_OR:i.Util.lf("{id:op}or")}},logic_negate:{name:i.Util.lf("logical negation"),tooltip:i.Util.lf("Returns true if the input is false. Returns false if the input is true."),url:"/blocks/logic/boolean",category:"logic",block:{LOGIC_NEGATE_TITLE:i.Util.lf("not %1")}},logic_boolean:{name:i.Util.lf("a `true` or `false` value"),tooltip:i.Util.lf("Returns either true or false."),url:"/blocks/logic/boolean",category:"logic",block:{LOGIC_BOOLEAN_TRUE:i.Util.lf("{id:boolean}true"),LOGIC_BOOLEAN_FALSE:i.Util.lf("{id:boolean}false")}},text:{name:i.Util.lf("a piece of text"),tooltip:i.Util.lf("A letter, word, or line of text."),url:"types/string",category:"text",block:{search:i.Util.lf("a piece of text")}},text_length:{name:i.Util.lf("number of characters in the string"),tooltip:i.Util.lf("Returns the number of letters (including spaces) in the provided text."),url:"reference/text/length",category:"text",block:{TEXT_LENGTH_TITLE:i.Util.lf("length of %1")}},text_join:{name:i.Util.lf("join items to create text"),tooltip:i.Util.lf("Create a piece of text by joining together any number of items."),url:"reference/text/join",category:"text",block:{TEXT_JOIN_TITLE_CREATEWITH:i.Util.lf("join")}},procedures_defnoreturn:{name:i.Util.lf("define the function"),tooltip:i.Util.lf("Create a function."),url:"types/function/define",category:"functions",block:{PROCEDURES_DEFNORETURN_TITLE:i.Util.lf("function"),PROCEDURE_ALREADY_EXISTS:i.Util.lf("A function named '%1' already exists.")}},procedures_callnoreturn:{name:i.Util.lf("call the function"),tooltip:i.Util.lf("Call the user-defined function."),url:"types/function/call",category:"functions",block:{PROCEDURES_CALLNORETURN_TITLE:i.Util.lf("call function")}},function_return:{name:i.Util.lf("return a value from within a function"),tooltip:i.Util.lf("Return a value from within a user-defined function."),url:"types/function/return",category:"functions",block:{message_with_value:i.Util.lf("return %1"),message_no_value:i.Util.lf("return")}},function_definition:{name:i.Util.lf("define the function"),tooltip:i.Util.lf("Create a function."),url:"types/function/define",category:"functions",block:{FUNCTIONS_EDIT_OPTION:i.Util.lf("Edit Function")}},function_call:{name:i.Util.lf("call the function"),tooltip:i.Util.lf("Call the user-defined function."),url:"types/function/call",category:"functions",block:{FUNCTIONS_CALL_TITLE:i.Util.lf("call"),FUNCTIONS_GO_TO_DEFINITION_OPTION:i.Util.lf("Go to Definition")}},function_call_output:{name:i.Util.lf("call the function with a return value"),tooltip:i.Util.lf("Call the user-defined function with a return value."),url:"types/function/call",category:"functions",block:{}}})[pxtc.ON_START_TYPE]={name:i.Util.lf("on start event"),tooltip:i.Util.lf("Run code when the program starts"),url:"/blocks/on-start",category:"loops",block:{message0:i.Util.lf("on start %1 %2")}},t[pxtc.PAUSE_UNTIL_TYPE]={name:i.Util.lf("pause until"),tooltip:i.Util.lf("Pause execution of code until the given boolean expression is true"),url:"/blocks/pause-until",category:"loops",block:{message0:i.Util.lf("pause until %1")}},t[pxtc.TS_BREAK_TYPE]={name:i.Util.lf("break"),tooltip:i.Util.lf("Break out of the current loop or switch"),url:"/blocks/loops/break",category:"loops",block:{message0:i.Util.lf("break")}},t[pxtc.TS_CONTINUE_TYPE]={name:i.Util.lf("continue"),tooltip:i.Util.lf("Skip current iteration and continues with the next iteration in the loop"),url:"/blocks/loops/continue",category:"loops",block:{message0:i.Util.lf("continue")}},i.Util.isTranslationMode()){const r=Blockly.Msg;i.Util.values(t).filter(e=>e.block).forEach(n=>{var e=Object.keys(n.block);n.translationIds=i.Util.values(n.block),e.forEach(t=>i.crowdin.inContextLoadAsync(n.block[t]).then(e=>{n.block[t]=e,/^[A-Z_]+$/.test(t)&&(r[t]=e)}))})}}r.MATH_FUNCTIONS={unary:["sqrt","sin","cos","tan"],binary:["atan2"],infix:["idiv","imul"]},r.ROUNDING_FUNCTIONS=["round","ceil","floor","trunc"],r.builtinFunctionInfo={"Math.abs":{blockId:"math_op3",params:["x"]},"Math.min":{blockId:"math_op2",params:["x","y"]},"Math.max":{blockId:"math_op2",params:["x","y"]}},r.normalizeBlock=function(e,t=i.log){if(!e)return e;let n=e.replace(/(?:^|[^\\])([%$])\s+/g,"$1");return n!=e&&(t("block has extra spaces: "+e),e=n),(n=(e=n).replace(/([%$]\w+)\s*=\s*(\w+)/,"$1=$2"))!=e&&(t("block has space between %name and = : "+e),e=n),n=n.replace(/\s*\|\s*/g,"|")},r.compileInfo=function(n){const i={parameters:[],actualNameToParam:{},definitionNameToParam:{},handlerArgs:[]},t=(1==n.kind||2==n.kind)&&!n.attributes.defaultInstance,a=!!n.attributes._def,s=a?n.attributes._def.parameters.slice(0):void 0,o=a?s.length:n.parameters?n.parameters.length:0,c=r.builtinFunctionInfo[n.qName],l=(a&&n.attributes._expandedDef&&s.push(...n.attributes._expandedDef.parameters),{}),u=s?s.filter(e=>!e.ref||(l[e.name]=e,!1)):[];if(t&&a&&s.length){const r=l.this||s[0],t=r.name;let e;r.shadowBlockId&&"variables_get"!==r.shadowBlockId||(e=r.varName||n.attributes.paramDefl[t]||n.attributes.paramDefl.this),i.thisParameter={actualName:_,definitionName:t,shadowBlockId:r.shadowBlockId,type:n.namespace,defaultValue:e,fieldEditor:d(t,_),fieldOptions:p(t,_),shadowOptions:f(t,_)}}if(n.parameters){let r=t&&!l.this?1:0;n.parameters.forEach((t,e)=>{let n;if(l[t.name]?n=l[t.name]:r<u.length&&(n=u[r],++r),n||!a){let e;t.options&&t.options.min&&t.options.max&&(e={min:t.options.min.value,max:t.options.max.value});const a=n?n.name:c?c.params[r++]:t.name,l=n&&("variables_get"===n.shadowBlockId||"lists_create_with"==n.shadowBlockId);i.parameters.push({actualName:t.name,type:t.type,defaultValue:l&&n.varName||t.default,definitionName:a,shadowBlockId:n&&n.shadowBlockId,isOptional:!!s&&s.indexOf(n)>=o,fieldEditor:d(a,t.name),fieldOptions:p(a,t.name),shadowOptions:f(a,t.name),range:e})}t.handlerParameters&&t.handlerParameters.forEach(t=>{i.handlerArgs.push({name:t.name,type:t.type,inBlockDef:!!s&&s.some(e=>e.ref&&e.name===t.name)})})})}return i.parameters.forEach(e=>{i.actualNameToParam[e.actualName]=e,i.definitionNameToParam[e.definitionName]=e}),i;function d(e,t){return n.attributes.paramFieldEditor&&(n.attributes.paramFieldEditor[e]||n.attributes.paramFieldEditor[t])}function p(e,t){return n.attributes.paramFieldEditorOptions&&(n.attributes.paramFieldEditorOptions[e]||n.attributes.paramFieldEditorOptions[t])}function f(e,t){return n.attributes.paramShadowOptions&&(n.attributes.paramShadowOptions[e]||n.attributes.paramShadowOptions[t])}},r.hasHandler=function(e){return e.parameters&&e.parameters.some(e=>{var t;return"() => void"==e.type||"Action"==e.type||!(null==(t=e.properties)||!t.length)||!(null==(t=e.handlerParameters)||!t.length)})},r.reporterTypeForArgType=function(e){let t="boolean"!==e&&"number"!==e&&"string"!==e?"argument_reporter_custom":"argument_reporter_"+e;return t},r.defaultIconForArgType=function(e=""){switch(e){case"number":return"calculator";case"string":return"text width";case"boolean":return"random";case"Array":return"list";default:return"align justify"}},r.parseFields=function(e){return e.split("|").map((e,t)=>{var n=/([^%]*)\s*%([a-zA-Z0-9_]+)/.exec(e);if(!n)return{n:e,ni:t};let r=n[1];return{n:e,ni:t,pre:r=r&&r.trim(),p:n[2]}})},r.blockDefinitions=function(){return t||n(),t},r.getBlockDefinition=function(e){return t||n(),t[e]}}}(pxt=pxt||{}),function(u){{var c=u.BrowserUtils||(u.BrowserUtils={});function a(){return"undefined"!=typeof navigator}function e(){return a()&&/(Win32|Win64|WOW64)/i.test(navigator.platform)}function o(){return a()&&/mobi/i.test(navigator.userAgent)}function l(){return a()&&/Mac/i.test(navigator.platform)}function d(){return!!navigator&&/Linux/i.test(navigator.platform)}function p(){return a()&&/arm/i.test(navigator.platform)}function f(){return a()&&/Edge/i.test(navigator.userAgent)}function _(){return a()&&/Trident/i.test(navigator.userAgent)}function m(){return!f()&&!_()&&!!navigator&&(/Chrome/i.test(navigator.userAgent)||/Chromium/i.test(navigator.userAgent))}function g(){return!m()&&!f()&&!!navigator&&/(Macintosh|Safari|iPod|iPhone|iPad)/i.test(navigator.userAgent)}function h(){return!g()&&!!navigator&&(/Firefox/i.test(navigator.userAgent)||/Seamonkey/i.test(navigator.userAgent))}function y(){return a()&&/Opera|OPR/i.test(navigator.userAgent)}function v(){return a()&&/Midori/i.test(navigator.userAgent)}function b(){return a()&&/Epiphany/i.test(navigator.userAgent)}function x(){return"undefined"!=typeof window&&("ontouchstart"in window||navigator&&0<navigator.maxTouchPoints)}function k(){return"undefined"!=typeof window&&!!window.pxtElectron}function S(){return"undefined"!=typeof window&&!!window.ipcRenderer}function T(){return k()||S()}function C(e){var t;try{return"undefined"!=typeof window&&/^http:\/\/(localhost|127\.0\.0\.1):\d+\//.test(window.location.href)&&(e||!/nolocalhost=1/.test(window.location.href))&&!(null!=(t=null==u?void 0:u.webConfig)&&t.isStatic)}catch(e){return!1}}function E(){return"undefined"!=typeof window&&!!window.PointerEvent}function D(){return e()?"windows":l()?"mac":d()&&p()?"rpi":d()?"linux":"unknown"}function A(){return f()?"edge":b()?"epiphany":v()?"midori":y()?"opera":_()?"ie":m()?"chrome":g()?"safari":h()?"firefox":"unknown"}function N(){if(!a())return null;let e=[];return y()&&(e=/(Opera|OPR)\/([0-9\.]+)/i.exec(navigator.userAgent)),(e=b()?/Epiphany\/([0-9\.]+)/i.exec(navigator.userAgent):v()?/Midori\/([0-9\.]+)/i.exec(navigator.userAgent):g()?(e=/Version\/([0-9\.]+)/i.exec(navigator.userAgent))||/(Macintosh|iPod( touch)?|iPhone|iPad); (CPU|Intel).*?OS (X )?(\d+)/i.exec(navigator.userAgent):(m()?/(Chrome|Chromium)\/([0-9\.]+)/i:f()?/Edge\/([0-9\.]+)/i:_()?/(MSIE |rv:)([0-9\.]+)/i:/(Firefox|Seamonkey)\/([0-9\.]+)/i).exec(navigator.userAgent))&&0!=e.length?e[e.length-1]:null}c.isIFrame=function(){try{return window&&window.self!==window.top}catch(e){return!0}},c.hasNavigator=a,c.hasWindow=function(){return"undefined"!=typeof window},c.isWindows=e,c.isWindows10=function(){return a()&&/(Win32|Win64|WOW64)/i.test(navigator.platform)&&/Windows NT 10/i.test(navigator.userAgent)},c.isMobile=o,c.isIOS=function(){return a()&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)},c.isAndroid=function(){return a()&&/android/i.test(navigator.userAgent)},c.isMac=l,c.isLinux=d,c.isARM=p,c.isUwpEdge=function(){return"undefined"!=typeof window&&!!window.Windows},c.isEdge=f,c.isChromiumEdge=function(){return a()&&/Edg\//i.test(navigator.userAgent)},c.isIE=_,c.isChrome=m,c.isSafari=g,c.isFirefox=h,c.isOpera=y,c.isMidori=v,c.isEpiphany=b,c.isTouchEnabled=x,c.isPxtElectron=k,c.isIpcRenderer=S,c.isElectron=T,c.isWinRT=()=>!1,c.isLocalHost=C,c.isLocalHostDev=function(){return C()&&!T()},c.isSkillmapEditor=function(){try{return/skill(?:s?)Map=1/.test(window.location.href)}catch(e){return!1}},c.isTabletSize=function(){return(null===window||void 0===window?void 0:window.innerWidth)<u.BREAKPOINT_TABLET},c.isComputerSize=function(){return(null===window||void 0===window?void 0:window.innerWidth)>=u.BREAKPOINT_TABLET},c.noSharedLocalStorage=function(){try{return/nosharedlocalstorage/i.test(window.location.href)}catch(e){return!1}},c.useOldTutorialLayout=function(){try{return/tutorialview=old/.test(window.location.href)}catch(e){return!1}},c.hasPointerEvents=E,c.hasSaveAs=function(){return f()||_()||h()},c.os=D,c.browser=A,c.browserVersion=N;let s=!1;function w(){return o()&&g()&&!/downloadWindowOpen=0/i.test(window.location.href)}function I(t,e,n){var r=w(),i=N(),a=parseInt(i||"0");if(r)n?n.location.href=t:window.open(t,"_self");else if(u.BrowserUtils.isSafari()&&(a<10||0==i.indexOf("10.0")||o())){let e=document.getElementById("downloader");e||(u.debug("injecting downloader iframe"),(e=document.createElement("iframe")).id="downloader",e.style.position="absolute",e.style.right="0",e.style.bottom="0",e.style.zIndex="-1",e.style.width="1px",e.style.height="1px",document.body.appendChild(e)),e.src=t}else/^data:/i.test(t)&&(u.BrowserUtils.isEdge()||u.BrowserUtils.isIE())?(r=atob(t.split(",")[1]),n=u.Util.stringToUint8Array(r),a=new Blob([n],{type:"img/png"}),window.navigator.msSaveOrOpenBlob(a,e)):"string"==typeof(i=window.document.createElement("a")).download?(i.href=t,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i)):document.location.href=t}function K(e,t){let n="data";o()&&g()&&u.appTarget.appTheme.mobileSafariDownloadProtocol&&(n=u.appTarget.appTheme.mobileSafariDownloadProtocol);var r=/downloadProtocol=([a-z0-9:/?]+)/i.exec(window.location.href);return(n=r?r[1]:n)+":"+t+";base64,"+e}function P(e,t,n={}){u.debug("trigger download");var{contentType:r="application/octet-stream",userContextWindow:i,onError:n,maintainObjectURL:a}=n,s=null==(s=window.URL)?void 0:s.createObjectURL,o=u.appTarget.appTheme.disableBlobObjectDownload;let c;try{if(s&&!o){const n=s(new Blob([u.Util.stringToUint8Array(atob(e))],{type:r}));I(n,t,i),a?c=n:window.setTimeout(()=>window.URL.revokeObjectURL(c),0)}else I(c=K(e,t),t,i)}catch(e){n&&n(e),u.debug("saving failed")}return c}function z(n){const r=document.createElement("img");return new Promise((e,t)=>{r.onload=()=>e(r),r.onerror=()=>e(void 0),r.crossOrigin="anonymous",r.src=n})}function O(e){return/^https?:\/\//i.test(e)?e:(window.MonacoPaths||{})[e]||(u.U.startsWith(e,u.webConfig.commitCdnUrl)?e:u.webConfig.commitCdnUrl+e)}c.isBrowserSupported=function(){var e,t,n,r,i,a;return!navigator||!!/bot|crawler|spider|crawling/i.test(navigator.userAgent)||(null==(e=(null==(e=u.appTarget)?void 0:e.unsupportedBrowsers)||(null==(e=window.pxtTargetBundle)?void 0:e.unsupportedBrowsers))||!e.some(e=>e.id==A()))&&(e=N(),r=parseInt(e||"0"),a=m()&&38<=r,i=h()&&31<=r,t=f(),n=g()&&9<=r,r=y()&&m()&&21<=r,a=a||i||t||n||r,i=v()||d()&&p()&&b(),a=(a=a&&!i)||/anybrowser=(true|1)/.test(window.location.href),s||(u.log(`Browser: ${A()} ${e} on `+D()),a||u.tickEvent("browser.unsupported",{useragent:navigator.userAgent}),s=!0),a)},c.devicePixelRatio=function(){var e,t;return"undefined"!=typeof window&&window.screen?(e=window.screen.systemXDPI,t=window.screen.logicalXDPI,void 0!==e&&void 0!==t&&t<e?e/t:window&&void 0!==window.devicePixelRatio?window.devicePixelRatio:1):1},c.browserDownloadBinText=function(e,t,n){return P(ts.pxtc.encodeBase64(e),t,n)},c.browserDownloadText=function(e,t,n){return P(ts.pxtc.encodeBase64(u.Util.toUTF8(e)),t,n)},c.isBrowserDownloadInSameWindow=w,c.isBrowserDownloadWithinUserContext=function(){var e=N(),e=parseInt(e||"0");return o()&&g()&&11<=e||/downloadUserContext=1/i.test(window.location.href)},c.browserDownloadDataUri=I,c.browserDownloadUInt8Array=function(e,t,n){return P(ts.pxtc.encodeBase64(u.Util.uint8ArrayToString(e)),t,n)},c.toDownloadDataUri=K,c.browserDownloadBase64=P,c.loadImageAsync=z,c.loadCanvasAsync=function(e){return z(e).then(e=>{var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t})},c.scaleImageData=function(e,t){var n=document.createElement("canvas"),r=(n.width=e.width*t,n.height=e.height*t,n.getContext("2d"));return r.putImageData(e,0,0),r.imageSmoothingEnabled=!1,r.scale(t,t),r.drawImage(n,0,0),r.getImageData(0,0,e.width*t,e.height*t)},c.imageDataToPNG=function(e,t=1){var n,r;if(e)return(n=document.createElement("canvas")).width=e.width*t,n.height=e.height*t,(r=n.getContext("2d")).putImageData(e,0,0),r.imageSmoothingEnabled=!1,r.scale(t,t),r.drawImage(n,0,0),n.toDataURL("image/png")},c.encodeToPngAsync=function(t,e){const{width:a,height:s,pixelDensity:o=4,maxSize:c=1e6,text:l}=e||{};return new Promise((r,e)=>{const i=new Image;i.onload=function(){const t=document.createElement("canvas"),e=t.getContext("2d");t.width=(a||i.width)*o,t.height=(s||i.height)*o,l&&(e.fillStyle="#fff",e.fillRect(0,0,t.width,t.height)),e.drawImage(i,0,0,a,s,0,0,t.width,t.height);let n=t.toDataURL("image/png");for(;n.length>c;)t.width=t.width/2>>0,t.height=t.height/2>>0,u.debug(`screenshot size ${n.length}b, shrinking to ${t.width}x`+t.height),e.drawImage(i,0,0,a,s,0,0,t.width,t.height),n=t.toDataURL("image/png");l?u.lzmaCompressAsync(l).then(e=>{e=u.Util.encodeBlobAsync(t,e);r(e.toDataURL("image/png"))}):r(n)},i.onerror=e=>{u.reportError("png","png rendering failed"),r(void 0)},i.src=t})},c.resolveCdnUrl=O,c.loadStyleAsync=function(e,t){const r="style-"+(e=t?"rtl"+e:e);if(document.getElementById(r))return Promise.resolve();const i=O(e),n=u.Util.toArray(document.head.getElementsByTagName("link")).filter(e=>e.getAttribute("href")==i)[0];return n?(n.id||(n.id=r),Promise.resolve()):new Promise((e,t)=>{var n=document.createElement("link");n.href=i,n.rel="stylesheet",n.type="text/css",n.id=r,n.addEventListener("load",()=>e()),n.addEventListener("error",e=>t(e)),document.head.appendChild(n)})};let t,n,r,i={};function $(e,t){return e?t?(e.indexOf("/")==e.length-1?e.substring(0,e.length-1):e)+"/"+(0==t.indexOf("/")?t.substring(1):t):e:t}function J(){var e=a()&&window.navigator;return e&&e.storage&&e.storage.estimate?e.storage.estimate():Promise.resolve({})}c.loadScriptAsync=function(e){const r=O(e);let t=i[r];return t=t||(i[r]=new Promise((e,t)=>{u.debug("script: loading "+r);var n=document.createElement("script");n.type="text/javascript",n.addEventListener("load",()=>e()),n.addEventListener("error",e=>{delete i[r],t(e)}),n.src=r,n.async=!0,document.body.appendChild(n)}))},c.loadAjaxAsync=function(r){return new Promise((e,t)=>{let n=new XMLHttpRequest;n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&(200==n.status?e(n.responseText):t(n.status))},n.open("GET",r,!0),n.send()})},c.loadBlocklyAsync=function(){if(!t){u.debug("blockly: delay load");let e=u.BrowserUtils.loadStyleAsync("blockly.css",ts.pxtc.Util.isUserLanguageRtl());e=(e="undefined"==typeof Blockly?e.then(()=>u.BrowserUtils.loadScriptAsync("pxtblockly.js")):e).then(()=>{u.debug("blockly: loaded")}),t=e}return t},c.patchCdn=function(e){var t;return e&&((t=u.getOnlineCdnUrl())?e.replace("@cdnUrl@",t):e.replace(/@cdnUrl@\/(blob|commit)\/[a-f0-9]{40}\//,"./"))},c.initTheme=function(){const e=u.appTarget.appTheme;if(e&&e.accentColor&&((t=document.createElement("style")).type="text/css",t.appendChild(document.createTextNode(`.ui.accent { color: ${e.accentColor}; }
                .ui.inverted.menu .accent.active.item, .ui.inverted.accent.menu  { background-color: ${e.accentColor}; }`)),document.getElementsByTagName("head")[0].appendChild(t)),u.Util.isUserLanguageRtl()){u.debug("rtl layout"),u.BrowserUtils.addClass(document.body,"rtl"),document.body.style.direction="rtl";const e=u.Util.toArray(document.head.getElementsByTagName("link")),n=e.filter(e=>u.Util.endsWith(e.getAttribute("href"),"semantic.css"))[0];if(n){const e=n.getAttribute("data-rtl");e&&(u.debug("swapping to "+e),n.setAttribute("href",e))}var t=e.filter(e=>u.Util.endsWith(e.getAttribute("href"),"blockly.css"))[0];if(t){const e=t.getAttribute("data-rtl");e&&(u.debug("swapping to "+e),t.setAttribute("href",e),t.removeAttribute("data-rtl"))}}},c.changeHash=function(e,t){"#"!=e.charAt(0)&&(e="#"+e),t?window.location.hash=e:window.history.replaceState("","",e)},c.urlJoin=$,c.joinURLs=function(...t){let n;if(t)for(let e=0;e<t.length;e++)n=$(n,t[e]);return n},c.storageEstimateAsync=J,c.scheduleStorageCleanup=a()&&navigator.storage&&navigator.storage.estimate?ts.pxtc.Util.throttle(function(){J().then(e=>(u.debug(`storage estimate: ${e.usage/e.quota*100>>0}%, ${e.usage/1e6>>0}/${e.quota/1e6>>0}Mb`),e.quota&&e.usage&&1e6<e.quota&&.9<e.usage/e.quota?(u.log("quota usage exceeded, clearing translations"),u.tickEvent("storage.cleanup"),F()):Promise.resolve())).catch(e=>{u.reportException(e)})},1e4,!1):()=>{},c.stressTranslationsAsync=function t(){let n="...";for(let e=0;e<16;++e)n+=n+Math.random();return console.log(`adding entry ${2*n.length} bytes`),u.U.delay(1).then(()=>q()).then(e=>e.setAsync("foobar",Math.random().toString(),"",null,void 0,n)).then(()=>u.BrowserUtils.storageEstimateAsync()).then(e=>!e.quota||e.usage/e.quota<.8?t():Promise.resolve())};class M{constructor(){this.translations={}}key(e,t,n){return e+`|${t}|`+(n||"master")}get(e,t,n){return this.translations[this.key(e,t,n)]}getAsync(e,t,n){return Promise.resolve(this.get(e,t,n))}set(e,t,n,r,i,a,s){this.translations[this.key(e,t,n)]={etag:r,time:i,strings:a,md:s}}setAsync(e,t,n,r,i,a){return this.set(e,t,n,r,u.Util.now(),i),Promise.resolve()}clearAsync(){return this.translations={},Promise.resolve()}}class U{constructor(e,t,n,r){this.name=e,this.version=t,this.upgradeHandler=n,this.quotaExceededHandler=r}throwIfNotOpened(){if(!this._db)throw new Error("Database not opened; call IDBWrapper.openAsync() first")}errorHandler(e,t,n){console.error(new Error(this.name+` IDBWrapper error for ${t}: `+e.message)),n(e),"QuotaExceededError"==e.name&&(u.log("storage quota exceeded..."),u.tickEvent("storage.quotaexceedederror"),this.quotaExceededHandler)&&this.quotaExceededHandler()}getObjectStore(e,t="readonly"){return this.throwIfNotOpened(),this._db.transaction([e],t).objectStore(e)}static deleteDatabaseAsync(r){return new Promise((e,t)=>{const n=(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB).deleteDatabase(r);n.onsuccess=()=>e(),n.onerror=()=>t(n.error)})}openAsync(){return new Promise((e,t)=>{const n=(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB).open(this.name,this.version);n.onsuccess=()=>{this._db=n.result,e()},n.onerror=()=>this.errorHandler(n.error,"open",t),n.onupgradeneeded=e=>this.upgradeHandler(e,n)})}getAsync(r,i){return new Promise((e,t)=>{const n=this.getObjectStore(r).get(i);n.onsuccess=()=>e(n.result),n.onerror=()=>this.errorHandler(n.error,"get",t)})}getAllAsync(i){return new Promise((e,t)=>{const n=this.getObjectStore(i).openCursor(),r=[];n.onsuccess=()=>{n.result?(r.push(n.result.value),n.result.continue()):e(r)},n.onerror=()=>this.errorHandler(n.error,"getAll",t)})}setAsync(i,a){return new Promise((e,t)=>{var n=this.getObjectStore(i,"readwrite");let r;(r=void 0!==a.id&&null!==a.id?n.put(a):n.add(a)).onsuccess=()=>e(),r.onerror=()=>this.errorHandler(r.error,"set",t)})}deleteAsync(r,i){return new Promise((e,t)=>{const n=this.getObjectStore(r,"readwrite").delete(i);n.onsuccess=()=>e(),n.onerror=()=>this.errorHandler(n.error,"delete",t)})}deleteAllAsync(r){return new Promise((e,t)=>{const n=this.getObjectStore(r,"readwrite").clear();n.onsuccess=()=>e(),n.onerror=()=>this.errorHandler(n.error,"deleteAll",t)})}}c.IDBWrapper=U;class B{constructor(e){this.db=e,this.mem=new M}static dbName(){return"__pxt_translations_"+(u.appTarget.id||"")}static createAsync(){function t(){const e=new U(B.dbName(),2,(e,t)=>{t.result.createObjectStore(B.TABLE,{keyPath:B.KEYPATH})},()=>{F().catch(e=>{})});return e.openAsync().then(()=>new B(e))}return t().catch(e=>(console.log("db: failed to open database, try delete entire store..."),U.deleteDatabaseAsync(B.dbName()).then(()=>t())))}getAsync(t,n,r){t=(t||"en-US").toLowerCase();var e=this.mem.key(t,n,r),i=this.mem.get(t,n,r);return i?Promise.resolve(i):this.db.getAsync(B.TABLE,e).then(e=>e?(this.mem.set(t,n,r,e.etag,e.time,e.strings),Promise.resolve(e)):Promise.resolve(void 0)).catch(e=>Promise.resolve(void 0))}setAsync(e,t,n,r,i,a){e=(e||"en-US").toLowerCase();var s=this.mem.key(e,t,n),o=u.Util.now(),e=(this.mem.set(e,t,n,r,o,i,a),i&&Object.keys(i).filter(e=>!i[e]).forEach(e=>delete i[e]),{id:s,etag:r,time:o,strings:i,md:a});return this.db.setAsync(B.TABLE,e).finally(()=>c.scheduleStorageCleanup()).catch(e=>(console.log(`db: set failed (${e.message}), recycling...`),this.clearAsync()))}clearAsync(){return this.db.deleteAllAsync(B.TABLE).then(()=>console.debug("db: all clean")).catch(e=>{console.error("db: failed to delete all")})}}function q(){return u.Util.isNodeJS?Promise.resolve(new M):n=n||B.createAsync().catch(()=>new M)}function F(){function t(){const t=B.dbName();return U.deleteDatabaseAsync(t).then(()=>{n=void 0}).catch(e=>{u.log("db: failed to delete "+t),n=void 0})}return n?n.then(e=>e.clearAsync()).catch(e=>t().then()):t()}function L(e){e=JSON.stringify(e)+u.appTarget.versions.pxt+"_"+u.appTarget.versions.target;return pxtc.U.sha256(e)}function V(e,t){return e+"|"+(t||"master")}B.TABLE="files",B.KEYPATH="id",c.translationDbAsync=q,c.clearTranslationDbAsync=F,c.getTutorialCodeHash=L;class j{constructor(e){this.db=e}static dbName(){return"__pxt_tutorialinfo_"+(u.appTarget.id||"")}static createAsync(){function t(){const e=new u.BrowserUtils.IDBWrapper(j.dbName(),2,(e,t)=>{t.result.createObjectStore(j.TABLE,{keyPath:j.KEYPATH})},()=>{u.BrowserUtils.IDBWrapper.deleteDatabaseAsync(j.dbName())});return e.openAsync().then(()=>new j(e))}return t().catch(e=>(console.log("db: failed to open tutorial info database, try delete entire store..."),u.BrowserUtils.IDBWrapper.deleteDatabaseAsync(j.dbName()).then(()=>t())))}getAsync(e,t,n){const r=V(e,n),i=L(t);return this.db.getAsync(j.TABLE,r).then(e=>{if(e&&e.hash==i&&u.Util.now()-(e.time||0)<864e5)return e;this.db.deleteAsync(j.TABLE,r)})}setAsync(e,t,n,r){u.perf.measureStart("tutorial info db setAsync");n=L(n);return this.setWithHashAsync(e,t,n)}setWithHashAsync(e,n,t,r){u.perf.measureStart("tutorial info db setAsync");const i=V(e,r),a={};Object.keys(n).forEach(t=>{Object.keys(n[t]).forEach(e=>{a[e]=n[t][e]})});e={id:i,time:u.Util.now(),hash:t,snippets:n,blocks:a};return this.db.setAsync(j.TABLE,e).then(()=>{u.perf.measureEnd("tutorial info db setAsync")})}clearAsync(){return this.db.deleteAllAsync(j.TABLE).then(()=>console.debug("db: all clean")).catch(e=>{console.error("db: failed to delete all")})}}function R(e){return e.split(/\s+/).filter(e=>!!e)}function H(){var e=new RegExp(u.Util.escapeForRegex(u.Util.pxtLangCookieId)+"=(.*?)(?:;|$)").exec(document.cookie);return e&&e[1]||null}j.TABLE="info",j.KEYPATH="id",c.tutorialInfoDbAsync=function(){return r=r||j.createAsync()},c.clearTutorialInfoDbAsync=function(){function t(){const t=j.dbName();return U.deleteDatabaseAsync(t).then(()=>{r=void 0}).catch(e=>{u.log("db: failed to delete "+t),r=void 0})}return r?r.then(e=>e.clearAsync()).catch(e=>t().then()):t()},c.pointerEvents=E()?{up:"pointerup",down:["pointerdown"],move:"pointermove",enter:"pointerenter",leave:"pointerleave"}:x()?{up:"mouseup",down:["mousedown","touchstart"],move:"touchmove",enter:"touchenter",leave:"touchend"}:{up:"mouseup",down:["mousedown"],move:"mousemove",enter:"mouseenter",leave:"mouseleave"},c.getPageX=function(e){return("pageX"in e?e:e.changedTouches[0]).pageX},c.getPageY=function(e){return("pageY"in e?e:e.changedTouches[0]).pageY},c.getClientX=function(e){return("clientX"in e?e:e.changedTouches[0]).clientX},c.getClientY=function(e){return("clientY"in e?e:e.changedTouches[0]).clientY},c.popupWindow=function(e,t,n,r){try{const u=window.screenLeft||window.screenX,i=window.screenTop||window.screenY,a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=a/2-n/2+u,c=s/2-r/2+i,l=window.open(e,t,"width="+n+", height="+r+", top="+c+", left="+o);return l.focus&&l.focus(),l}catch(t){return u.tickEvent("pxt.popupError",{url:e,msg:t.message}),null}},c.containsClass=function(n,e){return R(e).every(e=>{return e=e,(t=n).classList?t.classList.contains(e):!((t.className+"").split(/\s+/).indexOf(e)<0);var t})},c.addClass=function(n,e){R(e).forEach(e=>{var t;e=e,(t=n).classList?t.classList.add(e):(t.className+"").split(/\s+/).indexOf(e)<0&&(t.className.baseVal+=" "+e)})},c.removeClass=function(n,e){R(e).forEach(e=>{var t;t=e,(e=n).classList?e.classList.remove(t):e.className.baseVal=(e.className+"").split(/\s+/).filter(e=>e!=t).join(" ")})},c.getCookieLang=H,c.setCookieLang=function(e,t=!1){u.Util.allLanguages[e]&&e!==H()&&(u.tickEvent("menu.lang.setcookielang",{lang:e,docs:""+t}),(t=new Date).setTime(t.getTime()+24*u.Util.langCookieExpirationDays*60*60*1e3),document.cookie=`${u.Util.pxtLangCookieId}=${e}; expires=${t.toUTCString()}; path=/`)},c.cacheBustingUrl=function(e){return e&&(/[?&]rnd=/.test(e)?e:`${e}${0<e.indexOf("?")?"&":"?"}rnd=`+Math.random())}}}(pxt=pxt||{}),function(e){(e.cloud||(e.cloud={})).cloudStatus={none:{value:"none"},synced:{value:"synced",icon:"cloud-saved-b",tooltip:lf("Project saved to cloud"),shortStatus:lf("saved"),longStatus:lf("Saved to cloud"),indicator:""},justSynced:{value:"justSynced",icon:"cloud-saved-b",tooltip:lf("Project saved to cloud"),shortStatus:lf("saved!"),longStatus:lf("Saved to cloud!"),indicator:""},offline:{value:"offline",icon:"cloud-error-b",tooltip:lf("Unable to connect to cloud"),shortStatus:lf("offline"),longStatus:lf("Offline"),indicator:lf("offline")},syncing:{value:"syncing",icon:"cloud-saving-b",tooltip:lf("Saving project to cloud..."),shortStatus:lf("saving..."),longStatus:lf("Saving to cloud..."),indicator:lf("syncing...")},conflict:{value:"conflict",icon:"cloud-error-b",tooltip:lf("Project was edited in two places and the changes conflict"),shortStatus:lf("conflict!"),longStatus:lf("Project has a conflict!"),indicator:"!"},localEdits:{value:"localEdits",icon:"cloud-saving-b",tooltip:lf("Saving project to the cloud..."),shortStatus:lf("saving..."),longStatus:lf("Saving to cloud..."),indicator:"*"}}}(pxt=pxt||{}),function(e){var n;(n=e.commands||(e.commands={})).deployCoreAsync=void 0,n.deployFallbackAsync=void 0,n.hasDeployFn=()=>n.deployCoreAsync||n.deployFallbackAsync,n.deployAsync=(e,t)=>(n.deployCoreAsync||n.deployFallbackAsync)(e,t),n.patchCompileResultAsync=void 0,n.browserDownloadAsync=void 0,n.saveOnlyAsync=void 0,n.renderBrowserDownloadInstructions=void 0,n.renderUsbPairDialog=void 0,n.renderIncompatibleHardwareDialog=void 0,n.showUploadInstructionsAsync=void 0,n.saveProjectAsync=void 0,n.electronDeployAsync=void 0,n.webUsbPairDialogAsync=void 0,n.onTutorialCompleted=void 0}(pxt=pxt||{}),function(i){function e(){let e;return e||(e=i.U.isNodeJS?Promise.resolve(require("lzma")):Promise.resolve(window.LZMA)).then(e=>(e||i.reportError("lzma","failed to load"),e)),e}i.lzmaDecompressAsync=function(r){return e().then(t=>new Promise((n,e)=>{try{t.decompress(r,(e,t)=>{t&&i.debug("lzma decompression failed"),n(t?void 0:e)})}catch(e){e&&i.debug("lzma decompression failed"),n(void 0)}}))},i.lzmaCompressAsync=function(r){return e().then(t=>new Promise((n,e)=>{try{t.compress(r,7,(e,t)=>{t&&i.reportException(t),n(t?void 0:new Uint8Array(e))})}catch(e){i.reportException(e),n(void 0)}}))}}(pxt=pxt||{}),function(le){{var e=le.cpp||(le.cpp={}),ue=pxtc.Util;let oe=ue.lf;const fe={"pxt::mkAction":1,"pxt::dumpPerfCounters":1,"pxt::deepSleep":1,"pxt::getConfig":1,"pxtrt::mkMap":1,"pxtrt::mapSet":1,"pxtrt::stclo":1,"pxtrt::mklocRef":1,"pxtrt::stlocRef":1,"pxtrt::ldlocRef":1,"pxtrt::panic":1};function de(n="namespace"){let r="",i="",e=(e,t="")=>{i!=e&&(i&&(r+="}\n"),e&&(r+=t||n+" "+e+" {\n"),i=e)},t="    ";return{setNs:e,clear:()=>{r="",i=""},write:e=>{e.trim()?(e=e.trim().replace(/^\s*/gm,t).replace(/^(\s*)\*/gm,(e,t)=>t+" *"),r+=e+"\n"):r+="\n"},incrIndent:()=>{t+="    "},decrIndent:()=>{t=t.slice(4)},finish:()=>(e(""),r)}}function pe(e){if(!e)return null;e=e.trim();var t=/^\((.*)\)/.exec(e);return t&&(e=t[1]),/^-?(\d+|0[xX][0-9a-fA-F]+)$/.test(e)?parseInt(e):null}e.nsWriter=de,e.parseCppInt=pe;let ce={};class _e extends Error{constructor(e){super(e),this.isUserError=!0,this.message=e}}function c(t){if(!t)return"";let n="";for(let e=0;e<t.length;++e){var r=255&t[e];n+=37==r||127<r?"%"+r.toString(16):String.fromCharCode(r)}return decodeURIComponent(n)}function l(e){let t="",n=0;for(;n<e.length;n+=2)t=e[n]+e[n+1]+t;return le.Util.assert(n==e.length),t}function a(n){var r=[65,20,14,47,184,47,162,187];e:for(let t=0;t<n.length;t+=16)if(n[t]==r[0]){for(let e=0;e<r.length;++e)if(n[t+e]!=r[e])continue e;var e,i=n[t+8]|n[t+9]<<8,a=n[t+10]|n[t+11]<<8|n[t+12]<<16|n[t+13]<<24,a=(t+=16)+i+a;if(!(a>n.length))return e=n.slice(t,t+i),i=n.slice(t+i,a),{meta:c(e),text:i}}return null}function t(e){function t(e){return le.debug(e),Promise.reject(new Error(e))}let n;var r;if(le.HF2.read32(e,0)==ts.pxtc.UF2.UF2_MAGIC_START0&&(r=ts.pxtc.UF2.toBin(e))&&(n=a(r.buf)),1179403647==le.HF2.read32(e,0)&&(n=a(e)),!(n=58==e[0]?function(e){if(e){let n,r=0,i=0,a=0,s=0;if(e.split(/\r?\n/).forEach(e=>{var t=/^:10....0[0E]41140E2FB82FA2BB(....)(....)(....)(....)(..)/.exec(e);if(t)r=parseInt(l(t[1]),16),i=parseInt(l(t[2]),16),a=r+i,n=new Uint8Array(a);else if(0<a&&(t=/^:10....0[0E](.*)(..)$/.exec(e))){let e=t[1];for(;0<a&&0<e.length;)n[s++]=parseInt(e[0]+e[1],16),e=e.slice(2),a--}}),n&&0==a&&s==n.length){var t=new Uint8Array(r),o=new Uint8Array(i);for(let e=0;e<r;++e)t[e]=n[e];for(let e=0;e<i;++e)o[e]=n[r+e];return{meta:c(t),text:o}}}}(c(e)||""):n)||!n.meta||!n.text)return t("This .hex file doesn't contain source.");let i=JSON.parse(n.meta);return i?"LZMA"==i.compression?le.lzmaDecompressAsync(n.text).then(e=>{var t;return e?(t=e.slice(0,i.headerSize||i.metaSize||0),e=e.slice(t.length),t&&le.Util.jsonCopyFrom(i,JSON.parse(t)),{meta:i,source:e}):null}):i.compression?t(`Compression type ${i.compression} not supported.`):Promise.resolve({source:c(n.text)}):t("This .hex file is not valid.")}e.PkgConflictError=_e,e.getExtensionInfo=function(t){var e,R={__appVariant:le.appTargetVariant||""},M="dal.d.ts";let n="/source/",r="",U=[];for(e of t.sortedDeps(!0).sort((e,t)=>"this"==e.id?1:"this"==t.id?-1:ue.strcmp(e.id,t.id)))e.disablesVariant(le.appTargetVariant)||e.resolvedDependencies().some(e=>e.disablesVariant(le.appTargetVariant))?(r&&(r+=", "),r+=e.id,le.debug(`disable variant ${le.appTargetVariant} due to `+e.id)):(U.push(e),e.addSnapshot(R,[M,".h",".cpp"]));var i,B=JSON.stringify(R),a=ce[B];if(a){le.debug("Using cached extinfo");const t=ue.flatClone(a);return t.disabledDeps=r,t}le.debug("Generating new extinfo");const g=pxtc.emptyExtInfo();g.disabledDeps=r;let s=le.appTarget.compileService,o=(s=s||{gittag:"none",serviceId:"nocompile"},s=ue.clone(s),t.getTargetOptions());o=o||{isNative:!1,hasHex:!1,switches:{}};const j=!!s.platformioIni,c="codal"==s.buildEngine||"dockercodal"==s.buildEngine,K="dockermake"==s.buildEngine||"dockercross"==s.buildEngine,z="dockerespidf"==s.buildEngine,h=!(j||c||K||z),$=o.nativeType==pxtc.NATIVE_TYPE_VM;j?n="/src/":c||K?n="/pxtapp/":z&&(n="/main/");let J="// Configuration defines\n",y="\nPXT_SHIMS_BEGIN\n",v="",q="",V='#include "pxt.h"\n',l="",b=e=>l+=`   ${G}(${H}): ${e}
`,H=0,G="",x=de("namespace"),k=de("declare namespace"),S=de("declare namespace"),W="",Q={},Y={};const X={true:"1",false:"0",null:"0",NULL:"0"};function T(e){return e.trim().replace(/[\_\*]$/,"")}for(const t of U){if(0<=t.getFiles().indexOf(M)){const ue=t.host().readFile(t,M);le.Util.assert(!!ue,"dal.d.ts not found in "+t.id),ue.split(/\r?\n/).forEach(e=>{e=/^\s*(\w+) = (.*),/.exec(e);e&&(X[e[1]]=e[2])})}for(const le of t.getFiles())(0<=["Makefile","sdkconfig.defaults","CMakeLists.txt"].indexOf(le)||ue.endsWith(le,".mk"))&&(g.generatedFiles["/"+le]=t.host().readFile(t,le))}let Z=["0","false","PXT_UTF8"],u={};function ee(e){return e.replace(/\/\/.*/,"").replace(/\/\*/,"")}o.switches.boxDebug&&(u.PXT_BOX_DEBUG=1),o.utf8&&(u.PXT_UTF8=1),o.switches.profile&&(u.PXT_PROFILE=1),o.switches.gcDebug&&(u.PXT_GC_DEBUG=1),o.switches.numFloat&&(u.PXT_USE_FLOAT=1),o.nativeType==pxtc.NATIVE_TYPE_VM&&(u.PXT_VM=1);let C=0,E=!1,D="",A="",N="",w=!1;function te(){k.setNs(""),k.write(""),k.write(""),(N||A)&&(k.write(A),k.write(N),N="",A="")}function ne(e,d){let p,t=(D="",A="",N="",w=!1,-1);function f(){var e=D.replace(/Methods$/,"");return e==D?null:e}function _(e){switch(e.replace(/\s+/g,"")){case"void":return"void";case"int32_t":case"int":return"int32";case"uint32_t":case"unsigned":return"uint32";case"TNumber":case"float":case"double":return"number";case"uint16_t":return"uint16";case"int16_t":case"short":return"int16";case"uint8_t":case"byte":return"uint8";case"int8_t":case"sbyte":return"int8";case"bool":return o.shortPointers&&b("use 'boolean' not 'bool' on 8 bit targets"),"boolean";case"StringData*":case"String":case"ImageLiteral_":case"ImageLiteral":return"string";case"Action":return"() => void";case"TValue":return"any";default:return T(e)}}function m(e){switch(e=e.replace(/\s+/g,"")){case"int32_t":case"uint32_t":case"unsigned":case"uint16_t":case"int16_t":case"short":case"uint8_t":case"byte":case"int8_t":case"sbyte":case"int":case"ramint_t":return"I";case"void":return"V";case"float":return"F";case"TNumber":return"N";case"TValue":return"T";case"bool":return"B";case"double":return"D";case"ImageLiteral_":return"T";case"String":return"S";default:return ue.lookup(Q,e)?"I":"_"+e.replace(/[\*_]+$/,"")}}e=e.replace(/^(\s*#\s*if\s+(\w+)\s*$)([^]*?)(^\s*#\s*(elif|else|endif)\s*$)/gm,(e,t,n,r,i)=>0<=Z.indexOf(n)&&!u[n]?t+r.replace(/[^\n]/g,"")+i:e),H=0,E=!1,C=0,S.setNs(""),k.setNs(""),e.split(/\r?\n/).forEach(l=>{++H;var u=ee(l),e=l,r=ee(e);if(E&&0<=r.indexOf("}")&&(E=!1,S.write("}")),E){var i=/^\s*(\w+)\s*(=\s*(.*?))?,?\s*$/.exec(r);if(i){let e=i[1],t=i[3],n="";t?(t=t.trim(),null!=(i=ue.lookup(X,t))&&(n="  // "+t,t=i),null==(C=pe(t))&&b("cannot determine value of "+r)):(C++,t=C+""),S.write(`    ${T(e)} = ${t},`+n)}else S.write(e)}i=/^\s*enum\s+(|class\s+|struct\s+)(\w+)\s*({|$)/.exec(u);if(i&&(r=i[2],e=i[3],E=!0,C=-1,S.write(""),S.write(""),(N||A)&&(S.write(A),S.write(N),N="",A=""),S.write(`declare const enum ${T(r)} `+e),Q[r]=!0,d||(x.setNs(D),x.write(`enum ${i[2]} : int;`))),u=l,!E&&!(/^\s*\/\*\*/.test(u)?(w=!0,A=u+"\n",/\*\//.test(u)&&(w=!1),1):w?(A+=u+"\n",/\*\//.test(u)&&(w=!1),1):/^\s*\/\/%/.test(u)&&(N+=u+"\n",1))){/^typedef.*;\s*$/.test(l)&&(x.setNs(D),x.write(l));let c=/^\s*namespace\s+(\w+)/.exec(l);if(c)D=c[1],f()?(te(),e=f(),k.setNs(D,`declare interface ${e} {`)):(N||A)&&(te(),k.setNs(T(D)),S.setNs(T(D)));else{if((c=/^PXT_ABI\((\w+)\)/.exec(l))&&!$&&(y+=`PXT_FNPTR(::${c[1]}),
`,q+=`extern "C" void ${c[1]}();
`,g.functions.push({name:c[1],argsFmt:[],value:0})),(c=/^\s*PXT_EXPORT\(([:\&\w]+)\)/.exec(l))&&(g.vmPointers||(g.vmPointers=[]),g.vmPointers.push(c[1])),(c=/^#define\s+PXT_COMM_BASE\s+([0-9a-fx]+)/.exec(l))&&(g.commBase=parseInt(c[1])),c=/^\s*(\w+)([\*\&]*\s+[\*\&]*)(\w+)\s*\(([^\(\)]*)\)\s*(;\s*$|\{|$)/.exec(l),!N||!c){if(c=/^\s*extern const (\w+) (\w+);/.exec(l),N&&c)return r={name:D+"::"+c[2],argsFmt:[],value:null},g.functions.push(r),$||(y+="PXT_FNPTR(&::"+r.name+"),\n"),void(N="");if(c=/^\s*(\w+)\s+(\w+)\s*;/.exec(l),N&&c){var u=pxtc.parseCommentString(N),e=(u.indexedInstanceNS&&(p=u,k.setNs(u.indexedInstanceNS),t=0),c[1]),r=c[2];if(p)return N=N.trim(),N+=` fixedInstance shim=${p.indexedInstanceShim}(${t++})`,k.write(""),k.write(A),k.write(N),k.write(`const ${r}: ${_(e)};`),A="",void(N="")}return N&&l.trim()?(b("declaration not understood: "+l),N="",void(A="")):void 0}{p=null;let t=pxtc.parseCommentString(N),e=(D||b("missing namespace declaration"),(c[1]+c[2]).replace(/\s+/g,"")),n=c[3],r=c[4],i=(N=N.trim().replace(/ \w+\.defl=\w+/g,""),[m(e)]),a=[],s=r.split(/,/).filter(e=>!!e).map(e=>{e=function(e,t){t=t.trim();let n=/(.*)=\s*(-?\w+)$/.exec(t),r="",i="";var a;return n&&(r=n[2],i="?",t=n[1].trim()),(n=/^(.*?)(\w+)$/.exec(t))?(a=n[2],e.paramDefl[a]&&(r=e.paramDefl[a],i="?"),e=r?ue.lookup(X,r):null,(r=null!=e?e:r)&&(null==pe(r)&&b("Invalid default value (non-integer): "+r),N+=` ${a}.defl=`+r),{name:a+i,type:n[1]}):(b("invalid argument: "+t),{name:"???",type:"int"})}(t,e);return i.push(m(e.type)),a.push(e.type.replace(/ /g,"")),e.name+": "+_(e.type)}),o={name:D+"::"+n,argsFmt:i,value:null};if(A&&(k.setNs(T(D)),k.write(""),k.write(A),/ImageLiteral/.test(c[4])&&!/imageLiteral=/.test(N)&&(N+=" imageLiteral=1"),N+=" shim="+o.name,k.write(N),n=T(n),f()?((u=(s[0]||"").replace(/^.*:\s*/,"").trim()).toLowerCase()!=f().toLowerCase()&&b(oe("Invalid first argument; should be of type '{0}', but is '{1}'",f(),u)),s.shift(),0==s.length&&/\bproperty\b/.test(N)?k.write(`${n}: ${_(e)};`):k.write(`${n}(${s.join(", ")}): ${_(e)};`)):k.write(`function ${n}(${s.join(", ")}): ${_(e)};`)),A="",N="",d||(x.setNs(D),x.write(`${e} ${n}(${r});`)),g.functions.push(o),h)y+="(uint32_t)(void*)::"+o.name+",\n";else if($){if(ue.startsWith(o.name,"pxt::op_")||fe[o.name]||t.expose||!ue.startsWith(o.name,"pxt::")&&!ue.startsWith(o.name,"pxtrt::")){const l=function(s,o){if("FiberContext*"==o[0])return"::"+s.name;var e="_wrp_"+s.name.replace(/:/g,"_");if(!Y[s.name]){Y[s.name]=!0,v+=`
void ${e}(FiberContext *ctx) {
`;var c=o.length;let r=[],i=!1,a="";for(let n=0;n<c;++n){const u=s.argsFmt[n+1],d=o[n];let e="I"==u?"toInt":"B"==u?"numops::toBool":"";var l=n==c-1?"ctx->r0":`ctx->sp[${c-n-2}]`;let t="";switch(d){case"TValue":case"TNumber":break;case"Action":e="asRefAction";break;case"String":e="convertToString",t="ctx, ",i=!0;break;default:e=e||"as"+d.replace(/\*/g,"")}a+=`  ${d} a${n} = (${d}) ${e}(${t}${l});
`,r.push("a"+n)}i&&(v+="  auto prevSP = ctx->sp;\n"),v+=a,i&&(v+="  if (panicCode) { ctx->sp = prevSP; return; }\n");const u=`::${s.name}(${r.join(", ")})`;"V"==s.argsFmt[0]?v=v+`  ${u};
`+"  ctx->r0 = NULL;\n":"I"==s.argsFmt[0]?v+=`  ctx->r0 = fromInt(${u});
`:"B"==s.argsFmt[0]?v+=`  ctx->r0 = fromBool(${u});
`:v+=`  ctx->r0 = (TValue)${u};
`,i&&(v+="  ctx->sp = prevSP;\n"),1<c&&(v+=`  ctx->sp += ${c-1};
`),v+="}\n"}return e}(o,a),d=o.argsFmt.length-1;y+=`{ "${o.name}", (OpFun)(void*)${l}, ${d} },
`}}else y+="PXT_FNPTR(::"+o.name+"),\n"}}}})}const re=ue.clone(s.yottaConfig||{}),d={},ie={},ae={};if(h&&o.hasHex&&(a=s,ue.assert(!!a.yottaCorePackage),ue.assert(!!a.githubCorePackage),ue.assert(!!a.gittag),P=a.githubCorePackage+"#"+s.gittag,g.yotta.dependencies[a.yottaCorePackage]=P),t){let e=!1;for(var p of U){l="";{f=void 0;i=void 0;var f=p;const O=f.config.platformio,F=(O&&O.dependencies&&ue.jsonCopyFrom(g.platformio.dependencies,O.dependencies),g.npmDependencies&&f.config.npmDependencies&&ue.jsonCopyFrom(g.npmDependencies,f.config.npmDependencies),f.config.codal);if(c&&F)for(const f of F.libraries||[]){const O=le.github.parseRepoId(f),F=(O||ue.userError(oe("codal library {0} doesn't look like github repo",f)),le.github.stringifyRepo(O)),L=ue.lookup(ae,O.project);L?le.github.stringifyRepo(L)!=F&&ue.userError(oe("conflict between codal libraries: {0} and {1}",le.github.stringifyRepo(L),F)):ae[O.project]=O}const L=f.config.yotta;if(L){if(L.dependencies&&ue.jsonCopyFrom(g.yotta.dependencies,L.dependencies),L.config){const le=ue.jsonFlatten(L.config);for(const O of Object.keys(le)){const F=ue.lookup(ie,O),L=le[O];if(!F||F.config.yotta.configIsJustDefaults)ie[O]=f,re[O]=L;else if(re[O]!==L)if(!f.parent.config.yotta||!f.parent.config.yotta.ignoreConflicts)throw(i=new _e(oe("conflict on yotta setting {0} between extensions {1} and {2}",O,f.id,F.id))).pkg0=F,i.pkg1=f,i.settingName=O,i}}if(L.optionalConfig){const le=ue.jsonFlatten(L.optionalConfig);for(const f of Object.keys(le)){const ue=le[f];d[f]=ue}}}}p==t?(e=!0,k.clear(),S.clear()):ue.assert(!e);const de=e=>ue.endsWith(e,".h"),pe=".cpp",ce=p.getFiles().filter(de).concat(p.getFiles().filter(e=>!de(e)));for(var _ of ce){const t=de(_);if(t||ue.endsWith(_,".cpp")){let e=p.config.name+"/"+_;("base"==p.config.name||/^core($|---)/.test(p.config.name))&&t&&(e=_),t&&(V+=`#include "${h?n.slice(1):""}${e}"
`);var m=p.readFile(_);null==m&&ue.userError(oe("C++ file {0} is missing in extension {1}.",_,p.config.name)),G=e,ne(m,t),g.extensionFiles[n+e]=m,0==p.level&&(g.onlyPublic=!1),p.verProtocol()&&"pub"!=p.verProtocol()&&"embed"!=p.verProtocol()&&(g.onlyPublic=!1)}(ue.endsWith(_,".c")||ue.endsWith(_,".S")||ue.endsWith(_,".s"))&&(m=p.readFile(_),g.extensionFiles[n+p.config.name+"/"+_.replace(/\.S$/,".s")]=m)}l&&(W+=oe("Extension {0}:\n",p.id)+l)}e||(k.clear(),S.clear())}function I(t){return Object.keys(g.extensionFiles).concat(Object.keys(g.generatedFiles)).filter(e=>ue.endsWith(e,t)).map(e=>e.slice(1))}W&&ue.userError(W),ue.jsonCopyFrom(d,re),ue.iterMap(d,(e,t)=>{null===t&&delete d[e]}),Object.keys(d).filter(e=>/-/.test(e)).forEach(e=>{var t=d[e];delete d[e],d[e.replace(/-/g,"_")]=t}),!h&&s.yottaConfigCompatibility&&Object.keys(d).forEach(e=>d["YOTTA_CFG_"+e]=d[e]),d.PXT_TARGET=JSON.stringify(le.appTarget.id);var se,a=ue.jsonUnFlatten(d);if(K){var P={name:"pxt-app",private:!0,dependencies:g.npmDependencies};g.generatedFiles["/package.json"]=JSON.stringify(P,null,4)+"\n"}else if(z){const le=ue.concatArrayLike([I(".c"),I(".cpp"),I(".s")]).map(e=>e.slice(n.length-1)).concat(["main.cpp"]);le.push("pointers.cpp"),g.generatedFiles[n+"CMakeLists.txt"]="idf_component_register(\n  SRCS\n"+le.map(e=>`    "${e}"
`).join("")+'  INCLUDE_DIRS\n    "."\n)\n'}else if(c){let e=s,n=ue.clone(e.codalDefinitions)||{},t=e.codalTarget;"string"==typeof t&&(t+=".json");P={target:t,definitions:n,config:n,application:"pxtapp",output_folder:"build",pxt_gitrepo:e.githubCorePackage,pxt_gittag:e.gittag,libraries:ue.values(ae).map(e=>({name:e.project,url:"https://github.com/"+e.fullName,branch:e.tag||"master",type:"git"}))};0==P.libraries.length&&delete P.libraries,ue.iterMap(ue.jsonFlatten(a),(e,t)=>{e=e.replace(/^codal\./,"device.").toUpperCase().replace(/\./g,"_"),n[e]=t}),g.generatedFiles["/codal.json"]=JSON.stringify(P,null,4)+"\n",le.debug("codal.json: "+g.generatedFiles["/codal.json"])}else if(j){const le=s.platformioIni.slice();le.push("lib_deps ="),ue.iterMap(g.platformio.dependencies,(e,t)=>{e=/[@#\/]/.test(t)?t:e+"@"+t;le.push("  "+e)}),g.generatedFiles["/platformio.ini"]=le.join("\n")+"\n"}else{g.yotta.config=a;let e="pxt-app";P={name:e=s.yottaBinary?s.yottaBinary.replace(/-combined/,"").replace(/\.hex$/,""):e,version:"0.0.0",description:"Auto-generated. Do not edit.",license:"n/a",dependencies:g.yotta.dependencies,targetDependencies:{},bin:"./source"};g.generatedFiles["/module.json"]=JSON.stringify(P,null,4)+"\n",le.debug("module.json: "+g.generatedFiles["/module.json"])}for(se of Object.keys(u))J+=`#define ${se} ${u[se]}
`;if(o.uf2Family&&(J+=`#define PXT_UF2_FAMILY ${o.uf2Family}
`),g.generatedFiles[n+"pointers.cpp"]=V+x.finish()+q+v+y+"\nPXT_SHIMS_END\n",g.generatedFiles[n+"pxtconfig.h"]=J,le.debug("pxtconfig.h: "+g.generatedFiles[n+"pxtconfig.h"]),h&&(g.generatedFiles["/config.json"]=JSON.stringify(a,null,4)+"\n",le.debug("yotta config.json: "+g.generatedFiles["/config.json"])),g.generatedFiles[n+"main.cpp"]='\n#include "pxt.h"\n#ifdef PXT_MAIN\nPXT_MAIN\n#else\nint main() {\n    uBit.init();\n    pxt::start();\n    release_fiber();\n    return 0;   // your program will never reach this line.\n}\n#endif\n',g.generatedFiles["/Makefile"]){let n="",e=(e,t)=>{n+=`${e} = ${I(t).join(" ")}\n`};e("PXT_C",".c"),e("PXT_CPP",".cpp"),e("PXT_S",".s"),e("PXT_HEADERS",".h"),n=n+"PXT_SOURCES := $(PXT_C) $(PXT_S) $(PXT_CPP)\n"+"PXT_OBJS := $(addprefix bld/, $(PXT_C:.c=.o) $(PXT_S:.s=.o) $(PXT_CPP:.cpp=.o))\n",g.generatedFiles["/Makefile.inc"]=n}g.generatedFiles["/functions.json"]=JSON.stringify(g.functions,null,1);P=g.extensionFiles,ue.jsonCopyFrom(P,g.generatedFiles),a={config:s.serviceId,tag:s.gittag,replaceFiles:P,dependencies:h?g.yotta.dependencies:null},P=JSON.stringify(a);return g.sha=ue.sha256(P),g.skipCloudBuild=!!s.skipCloudBuild,g.compileData=ts.pxtc.encodeBase64(ue.toUTF8(P)),g.shimsDTS=k.finish(),g.enumsDTS=S.finish(),(ce=10<Object.keys(ce).length?{}:ce)[B]=g},e.unpackSourceFromHexFileAsync=function(e){if(e)return le.Util.fileReadAsBufferAsync(e).then(e=>t(new Uint8Array(e)))},e.unpackSourceFromHexAsync=t}}(pxt=pxt||{}),function(u){{var r=u.hexloader||(u.hexloader={});const t={};let n,a={};function s(e){return t.hasOwnProperty(e.sha)||(t[e.sha]=function(t){let l="";return r.showLoading(u.U.lf("Compiling (this may take a minute)...")),u.tickEvent("cppcompile.start"),((e=t).skipCloudBuild?Promise.resolve({hex:["SKIP"]}):u.webConfig&&u.webConfig.isStatic?u.Util.requestAsync({url:`${u.webConfig.cdnUrl}hexcache/${e.sha}.hex`}).then(e=>{if(e.text){const u={enums:[],functions:[],hex:e.text.split(/\r?\n/)};return Promise.resolve(u)}return u.log("Hex info not found in bundled hex cache"),Promise.resolve()}).catch(e=>(u.log("Error fetching hex info from bundled hex cache"),Promise.resolve())):u.Cloud.localToken&&window&&u.BrowserUtils.isLocalHost()?(e="compile/"+e.sha,u.Cloud.localRequestAsync(e,void 0).then(e=>e.json).then(e=>e&&!e.notInOfflineCache&&e.hex?(e.hex=e.hex.split(/\r?\n/),e):Promise.resolve(void 0)).catch(e=>Promise.resolve(void 0))):Promise.resolve(void 0)).then(e=>{return e?(u.tickEvent("cppcompile.cachehit"),e):(n||(e=u.getOnlineCdnUrl(),n=e?Promise.resolve(e):(e=u.webConfig&&u.webConfig.isStatic,u.Cloud.privateGetAsync("clientconfig",e).then(e=>e.primaryCdnUrl)))).then(e=>(l=e+"/compile/"+t.sha,u.U.httpGetTextAsync(l+".hex"))).then(e=>e,e=>u.Cloud.privatePostAsync("compile/extension",{data:t.compileData},!0).then(c=>new Promise((n,e)=>{let r=0;const i=8e3,a=18e4,s=u.U.now(),o=()=>{if(r++,u.U.now()-s>a)return u.log("abandoning C++ build"),u.tickEvent("cppcompile.cancel",{retry:r}),n(null),null;let t=c.hex.replace(/\.hex/,".json");return u.log(`polling C++ build ${t} (attempt #${r})`),u.tickEvent("cppcompile.poll",{retry:r}),u.Util.httpGetJsonAsync(t).then(e=>{u.log("build log "+t.replace(/\.json$/,".log")),u.tickEvent("cppcompile.done",{success:null!=e&&e.success?1:0,retry:r,duration:u.U.now()-s}),e.success?(u.log("fetching "+l+".hex"),n(u.U.httpGetTextAsync(l+".hex"))):(u.log("build failed"),e.mbedresponse&&e.mbedresponse.result&&e.mbedresponse.result.exception&&u.log(e.mbedresponse.result.exception),n(null))},e=>(u.log(`waiting ${i/1e3|0}s for C++ build...`),setTimeout(o,i),null))};o()}))).then(e=>(r.hideLoading(),{hex:e&&e.split(/\r?\n/)}))}).finally(()=>{r.hideLoading()});var e}(e)),t[e.sha]}function o(n,r,i,e,a=10){return n.cacheStoreAsync(i,e).then(()=>n.cacheGetAsync(r)).then(e=>{let t;try{t=JSON.parse(e||"[]")}catch(e){console.error("invalid cache entry, clearing entry"),t=[]}(t=t.filter(e=>e!=i)).unshift(i);e=t.slice(a);return t=t.slice(0,a),u.U.promiseMapAll(e,e=>n.cacheStoreAsync(e,"[]")).then(()=>n.cacheStoreAsync(r,JSON.stringify(t)))})}function c(n,r,i){return n.cacheGetAsync(r).then(e=>{let t;try{t=JSON.parse(e||"[]")}catch(e){return console.error("invalid cache entry, clearing entry"),n.cacheStoreAsync(r,"[]")}return t[0]!=i?((t=t.filter(e=>e!=i)).unshift(i),n.cacheStoreAsync(r,JSON.stringify(t))):null})}r.showLoading=e=>{},r.hideLoading=()=>{},r.storeWithLimitAsync=o,r.recordGetAsync=c,r.getHexInfoAsync=function(r,n,e){if(!n.sha)return Promise.resolve(null);var t=a[n.sha];if(t)return Promise.resolve(t);u.debug("get hex info: "+n.sha);let i="hex-"+n.sha;return r.cacheGetAsync(i).then(e=>{let t;try{t=e?JSON.parse(e):null}catch(e){console.log("invalid cache entry, clearing entry"),t=null}return t&&t.hex?(u.debug("cache hit, size="+e.length),t.hex=function(r){var a=[];for(let n=0;n<r.length;n++){var s=/^([@!])(....)$/.exec(r[n]);if(s){let e=parseInt(s[2],16),t=r[++n],i="";if("@"==s[1]){i="";let e=parseInt(t,16);for(;0<e--;)i+="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}else i=ts.pxtc.decodeBase64(t);u.Util.assert(0<i.length),u.Util.assert(i.length%16==0);for(let r=0;r<i.length;){var o=[16,e>>8&255,255&e,0];e+=16;for(let e=0;e<16;++e)o.push(i.charCodeAt(r++));let t=0;for(let e=0;e<o.length;++e)t+=o[e];o.push(255&-t);let n=":";for(let e=0;e<o.length;++e){var c=255&o[e];c<=15&&(n+="0"),n+=c.toString(16)}a.push(n.toUpperCase())}}else a.push(r[n])}return a}(t.hex),c(r,"hex-keys",i).then(()=>t)):s(n).then(e=>{var t=e.hex,n=(e.hex=function(i){let a=[],s=0;for(let r=0;r<i.length;r+=s){let e=-1,n="",t=(s=0,!1);for(;s<500;){var o=/^:10(....)00(.{32})(..)$/.exec(i[r+s]);if(!o)break;var c=o[2],l=/^0+$/.test(c),u=parseInt(o[1],16);if(-1==e)t=l,a.push((t?"@":"!")+o[1]),e=u-16;else{if(l!=t)break;if(e+16!=u)break}t||(n+=c),e=u,s++}if(0==s)a.push(i[r]),s=1;else if(t)a.push(s.toString(16));else{let t="";for(let e=0;e<n.length;e+=2)t+=String.fromCharCode(parseInt(n.slice(e,e+2),16));a.push(ts.pxtc.encodeBase64(t))}}return a}(e.hex),JSON.stringify(e));return e.hex=t,o(r,"hex-keys",i,n).then(()=>e)}).catch(e=>(u.reportException(e,{sha:n.sha}),Promise.resolve(null)))}).then(e=>(e&&((a=20<Object.keys(a).length?{}:a)[n.sha]=e),e))}}}(pxt=pxt||{}),function(f){function _(e,t,n={},r=null,i=null){if(a.testMode||e==a.TEST_KEY){const f={success:!0};return Promise.resolve({statusCode:200,headers:{},text:JSON.stringify(f),json:f})}return f.Util.multipartPostAsync(t,n,r,i)}function m(e,t,n,r,i){f.Util.assert(!!t&&!!n&&!!r);t="https://api.crowdin.com/api/project/"+t+"/";return i=i||{},a.testMode?delete i.key:i.key=n,e&&(i.branch=e),t+r+"?"+Object.keys(i).map(e=>e+"="+encodeURIComponent(i[e])).join("&")}function e(e){let t=0;return function(){if(10<t++)throw new Error("Too many API calls for "+e)}}function g(n,r,i,a,s){return a=t(a),f.debug(`create directory ${n||""}/`+a),s=s||e(a),_(i,m(n,r,i,"add-directory"),{json:"true",name:a}).then(e=>{if(f.debug("crowdin resp: "+e.statusCode),200==e.statusCode||400==e.statusCode)return Promise.resolve();if(500==e.statusCode&&e.text&&50===JSON.parse(e.text).error.code)return f.log("directory already exists"),Promise.resolve();var t=e.json||JSON.parse(e.text)||{error:{}};if(404==e.statusCode&&17==t.error.code){f.log("parent directory missing for "+a);const e=a.replace(/\/[^\/]+$/,"");if(e!=a)return g(n,r,i,e,s).then(()=>g(n,r,i,a,s))}throw new Error(`cannot create directory ${n||""}/${a}: ${e.statusCode} `+JSON.stringify(t))})}function t(e){return e.replace(/\\/g,"/")}function r(t,n){const r=f.appTarget.versions.pxtCrowdinBranch||"",i=f.appTarget.versions.targetCrowdinBranch||"";let a=[];if(t.forEach(e=>function t(n,r,i,a){const e=r.name,s=i?i+"/"+e:e;switch(r.fullName=s,r.branch=a||"",r.node_type){case"file":n.push(r);break;case"directory":(r.files||[]).forEach(e=>t(n,e,s,a));break;case"branch":(r.files||[]).forEach(e=>t(n,e,i,r.name))}}(a,e,"")),a=a.filter(e=>e.fullName.indexOf("/")<0?e.branch==r:e.branch==i),n&&(a=a.filter(e=>0==e.fullName.indexOf(n))),"core"!=f.appTarget.id){const t=f.appTarget.id+"/";a=a.filter(e=>e.fullName.indexOf("/")<0||e.fullName.substr(0,t.length)==t||0<=e.fullName.indexOf("common-docs"))}return a}function i(e,t){e=m("",e,t,"info",{json:"true"});return f.Util.httpGetTextAsync(e).then(e=>JSON.parse(e))}var a;(a=f.crowdin||(f.crowdin={})).KEY_VARIABLE="CROWDIN_KEY",a.testMode=!1,a.TEST_KEY="!!!testmode!!!",a.setTestMode=function(){f.crowdin.testMode=!0,f.log("CROWDIN TEST MODE - files will NOT be uploaded")},a.downloadTranslationsAsync=function(a,s,o,c,l={}){const e=m(a,s,o,"info",{json:"true"}),u={};return c=t(c),f.Util.httpGetTextAsync(e).then(e=>{e=JSON.parse(e);if(!e)throw new Error("info failed");let r=e.languages.filter(e=>"en"!=e.code);f.appTarget&&f.appTarget.appTheme&&f.appTarget.appTheme.availableLocales&&(r=r.filter(e=>-1<f.appTarget.appTheme.availableLocales.indexOf(e.code))),f.log("languages: "+r.map(e=>e.code).join(", "));const i=()=>{const t=r.pop();if(!t)return Promise.resolve();const n=m(a,s,o,"export-file",{file:c,language:t.code,export_translated_only:l.translatedOnly?"1":"0",export_approved_only:l.validatedOnly?"1":"0"});return f.log(`downloading ${t.name} - ${t.code} (${r.length} more)`),f.Util.httpGetTextAsync(n).then(e=>{try{const f=JSON.parse(e);f&&(u[t.code]=f)}catch(e){f.log(n+" "+e)}return i()}).then(()=>f.Util.delay(1e3))};return i()}).then(()=>u)},a.createDirectoryAsync=g,a.uploadTranslationAsync=function a(s,o,c,l,u){f.Util.assert(!!o),f.Util.assert(!!c);const d=e(l=t(l));function p(){return function i(e,t){return t.type="auto",t.json="",t.escape_quotes="0",d(),_(c,m(s,o,c,e),t,l,u).then(e=>{{var t;const n=e.statusCode,r=f.Util.jsonTryParse(e.text)||{};if(f.debug("upload result: "+n),404==n&&r.error&&8==r.error.code)return f.log("create new translation file: "+l),i("add-file",{});if(404==n&&17==(null==(t=r.error)?void 0:t.code))return g(s,o,c,l.replace(/\/[^\/]+$/,""),d).then(()=>p());if(r.success||53!=(null==(t=r.error)?void 0:t.code)){if(429==n&&55==(null==(t=r.error)?void 0:t.code))return f.log("Maximum concurrent requests reached, waiting 10s and retry..."),f.U.delay(1e4).then(()=>a(s,o,c,l,u));if(200==n||r.success)return Promise.resolve();throw new Error(`Error, upload translation: ${l}, ${n}, `+e.text)}return f.log(l+" being updated, waiting 5s and retry..."),f.U.delay(5e3).then(()=>a(s,o,c,l,u))}})}("update-file",{update_option:"update_as_unapproved"})}return p()},a.projectInfoAsync=i,a.listFilesAsync=function(e,t,n){return f.log("crowdin: listing files under "+n),i(e,t).then(e=>{if(e)return e=r(e.files,n),f.debug(`crowdin: found ${e.length} under `+n),e.map(e=>({fullName:e.fullName,branch:e.branch||""}));throw new Error("info failed")})},a.languageStatsAsync=function(e,t,n){e=m("",e,t,"language-status",{language:n,json:"true"});return f.Util.httpGetJsonAsync(e).then(e=>r(e.files))},a.inContextLoadAsync=function(r){const i=document.createElement("input");i.type="text",i.setAttribute("class","hidden"),i.value=r;var e=new Promise((t,e)=>{const n=new MutationObserver(()=>{var e;r!=i.value&&(e=f.Util.rlf(i.value),i.remove(),n.disconnect(),t(e))});n.observe(i,{attributes:!0})});return document.body.appendChild(i),e}}(pxt=pxt||{}),function(_){function C(e){return e?e.split(/\r?\n/):[]}function m(e,r,i={}){i.ignoreWhitespace&&(e=e.replace(/[\r\n]+$/,""),r=r.replace(/[\r\n]+$/,""));const a=C(e),s=C(r),o=Math.min(i.maxDiffSize||1024,a.length+s.length);if(0==o)return[];const c=65520<a.length?Uint32Array:Uint16Array,l={};let u=0;const d=t(a),p=t(s);function t(e){var t,n=new c(e.length);let r=0;for(t of e)i.ignoreWhitespace&&(t=t.replace(/\s+$/g,"").replace(/^\s+/g,"")),l.hasOwnProperty(t)?n[r]=l[t]:(++u,n[r]=u,l[t]=u),r++;return n}var n=new c(2*o+1);let f=-1;for(let e=0;e<=o;e++)null!=T(e,n)&&(f=e);if(-1==f)return null;var _=[];let m=null;for(let e=0;e<=f;e++){const r=_.length?_[_.length-1].slice(0):new c(2*f+1);if(_.push(r),null!=(m=T(e,r)))break}var g=[];let h=m;for(let n=_.length-1;0<=n;n--){const r=_[n];let t=0,e=0;var y=(t=h==-n||h!=n&&r[o+h-1]<r[o+h+1]?(e=h+1,r[o+e]):(e=h-1,r[o+e]+1))-h;for(let e=r[o+h]-t-1;0<=e;--e)g.push("  "+s[y+e]);e==h-1?g.push("- "+a[t-1]):0<y&&g.push("+ "+s[y-1]),h=e}if(g.reverse(),i.context==1/0||i.full)return g;let v=1,b=1,x=0;for(var k=[],S=i.context||3;x<g.length;){let e=x;for(;e<g.length&&" "==g[e][0];)e++;if(e==g.length)break;const r=e-S,C=r-x,i=(0<C&&(v+=C,b+=C,x=r),k.length),a=v,s=b;k.push("@@");let t=x,n=0;for(;t<g.length;){if(" "==g[t][0]){if(++n>2*S+2){t-=S+2;break}}else n=0;t++}for(;x<t;){switch(k.push(g[x]),g[x][0]){case"-":v++;break;case"+":b++;break;case" ":v++,b++}x++}k[i]=`@@ -${a},${v-a} +${s},${b-s} @@`}return k;function T(r,i){for(let n=-r;n<=r;n+=2){let e=0,t=(e=n==-r||n!=r&&i[o+n-1]<i[o+n+1]?i[o+n+1]:i[o+n-1]+1)-n;for(;e<d.length&&t<p.length&&d[e]==p[t];)e++,t++;if((i[o+n]=e)>=d.length&&t>=p.length)return n}return null}}function a(e){return C(e).map(e=>e.replace(/;\s*$/,"")).join("\n")}function g(e){e=/^@@ -(\d+),(\d+) \+(\d+),(\d+)/.exec(e);return e&&{oldStart:parseInt(e[1])-1,oldLength:parseInt(e[2]),newStart:parseInt(e[3])-1,newLength:parseInt(e[4])}}var e;(e=_.diff||(_.diff={})).toLines=C,e.compute=m,e.diff3=function(e,t,n,c,l){var u=r(e),d=r(n);if(u&&d){var p=C(e),f=C(n);let i=0,a=[],s=0,o=0;for(let r=0;r<u.length-1;)if(u[r]==s&&d[r]==o)a.push(p[s]),s++,o++,r++;else{let e=!0,t=!0,n=r;for(;n<u.length&&(u[n]!=s+n-r&&(e=!1),d[n]!=o+n-r&&(t=!1),null==u[n]||null==d[n]);)n++;if(_.U.assert(n<u.length),e)for(;o<d[n];)a.push(f[o++]);else if(t)for(;s<u[n];)a.push(p[s++]);else if(p.slice(s,u[n]).join("\n")==f.slice(o,d[n]).join("\n"))for(;s<u[n];)a.push(p[s++]);else{for(i++,a.push("<<<<<<< "+c);s<u[n];)a.push(p[s++]);for(a.push("=======");o<d[n];)a.push(f[o++]);a.push(">>>>>>> "+l)}r=n,s=u[n],o=d[n]}return{merged:a.join("\n"),numConflicts:i};function r(n){n=m(t,n,{context:1/0});if(n){var r,i=[];let e=0,t=0;for(r of n)"+"==r[0]?e++:"-"==r[0]?(i[t]=null,t++):" "==r[0]?(i[t]=e,e++,t++):_.U.oops();return i.push(e+1),i}}}},e.removeTrailingSemiColumns=a,e.split=function(e,t){var n=e.split(/-{10,}/,2);if(n.length<2)return{fileA:e,fileB:void 0};let r=n[0].replace(/\n$/,""),i=n[1].replace(/^\n/,"");return t&&t.removeTrailingSemiColumns&&(r=a(r),i=a(i)),{fileA:r,fileB:i}},e.parseDiffMarker=g,e.render=function(e,t,s={}){const o=m(e,t,s);if(!o)return _.dom.el("div",null,pxtc.Util.lf("Too many differences to render diff."));const c={"@":"diff-marker"," ":"diff-unchanged","+":"diff-added","-":"diff-removed"};let l=0,u=0,d="";const p=_.dom.el("tbody"),n=_.dom.el("table",{class:"diffview "+(s.update?"update":"")},p);let f=null;return o.forEach((e,t)=>{var n=g(e),n=(n?(l=n.oldStart,u=n.newStart):("+"!=e[0]&&l++,"-"!=e[0]&&u++),o[t+1]?o[t+1][0]:""),r=o[t+2]?o[t+2][0]:"",i=e.slice(2);let a=_.dom.el("code",null,i);if(f)a=f,f=null;else if(!("-"!=e[0]||" "!=d&&"@"!=d||"+"!=n||" "!=r&&"@"!=r&&""!=r)){const s=function(e,t){var n=m(e.split("").join("\n"),t.split("").join("\n"),{context:1/0});if(!n)return{a:_.dom.el("div",{class:"inline-diff"},_.dom.el("code",null,e)),b:_.dom.el("div",{class:"inline-diff"},_.dom.el("code",null,t))};var r=[],i=[];for(let t=0;t<n.length;){let e=t;const m=n[t][0];for(;n[e]&&n[e][0]==m;)e++;var a=n.slice(t,e).map(e=>e.slice(2)).join("");" "==m?(r.push(_.dom.el("code",{class:"ch-common"},a)),i.push(_.dom.el("code",{class:"ch-common"},a))):"-"==m?r.push(_.dom.el("code",{class:"ch-removed"},a)):"+"==m?i.push(_.dom.el("code",{class:"ch-added"},a)):_.Util.oops(),t=e}return{a:_.dom.el("div",{class:"inline-diff"},r),b:_.dom.el("div",{class:"inline-diff"},i)}}(e.slice(2),o[t+1].slice(2));a=s.a,f=s.b}d=e[0],s.hideMarkerLine&&"@"==d||s.hideRemoved&&"-"==d||(i="@"==d,n=""+c[d],p.appendChild(_.dom.el("tr",{class:n},[!s.hideLineNumbers&&_.dom.el("td",{class:"line-a","data-content":l}),!s.hideLineNumbers&&_.dom.el("td",{class:"line-b","data-content":u}),i&&_.dom.el("td",{colspan:2,class:"change"},_.dom.el("code",null,e)),!s.hideMarker&&!i&&_.dom.el("td",{class:"marker","data-content":d}),!i&&_.dom.el("td",{class:"change"},a)])))}),n},e.resolveMergeConflictMarker=function(e,t,n,r){let i=_.diff.toLines(e),a=t;for(;a<i.length&&!/^<<<<<<<[^<]/.test(i[a]);)a++;let s=a+1;for(;s<i.length&&!/^=======$/.test(i[s]);)s++;let o=s+1;for(;o<i.length&&!/^>>>>>>>[^>]/.test(i[o]);)o++;if(o>=i.length)return _.debug(`diff marker mistmatch: ${i.length} -> ${a} ${s} `+o),e;if(i[a]=void 0,i[s]=void 0,i[o]=void 0,!n)for(let e=a;e<=s;++e)i[e]=void 0;if(!r)for(let e=s;e<=o;++e)i[e]=void 0;return i.filter(e=>void 0!==e).join("\n")},e.mergeDiff3Config=function(e,t,n){let r=_.Util.jsonTryParse(e),i=_.Util.jsonTryParse(t),a=_.Util.jsonTryParse(n);if(r&&!a)return e;if(!r)return n||t;if(!i&&a&&(i=a),r&&i&&a){delete r.installedVersion,delete i.installedVersion,delete a.installedVersion;const d={},p=_.U.unique(Object.keys(i).concat(Object.keys(r)).concat(Object.keys(a)),e=>e);for(const e of p){const t=r[e],n=i[e],p=a[e];if(JSON.stringify(t)==JSON.stringify(p))void 0!==t&&(d[e]=t);else switch(e){case"name":d[e]=(s=t,o=n,c=p,s==o||c!=o&&s==lf("Untitled")?c:s);break;case"version":d[e]=0<_.semver.strcmp(t,p)?t:p;break;case"languageRestriction":case"preferredEditor":case"targetVersion":d[e]=t;break;case"public":d[e]=t&&p;break;case"files":case"testFiles":{const _=l(t||[],n||[],p||[]);if(!_)return;d[e]=_.length?_:void 0;break}case"dependencies":case"testDependencies":{const _=u(t||{},n||{},p||{});if(Object.keys(_).length)return;d[e]=_;break}case"description":if(t&&!p)d[e]=t;else{if(t||!p)return;d[e]=p}break;default:return}}var s,o,c;return _.Package.stringifyConfig(d);function l(e,t,n){const r=[],i=_.U.unique(t.concat(e).concat(n),e=>e);for(const _ of i){const i=-1<e.indexOf(_),a=-1<n.indexOf(_),s=-1<t.indexOf(_);i==a||a==s?i&&r.push(_):a&&r.push(_)}return r}function u(e,t,n){const r={},i=_.U.unique(Object.keys(t).concat(Object.keys(e)).concat(Object.keys(n)),e=>e);for(const a of i){const i=e[a],s=n[a],o=t[a];if(i==s)i&&(r[a]=i);else{const e=_.github.parseRepoId(i),t=_.github.parseRepoId(s);if(e&&t&&_.semver.tryParse(e.tag)&&_.semver.tryParse(t.tag)&&e.owner&&e.project&&e.owner==t.owner&&e.project==t.project){const n=(0<_.semver.strcmp(e.tag,t.tag)?e:t).tag;r[a]=`github:${e.owner}/${e.project}#`+n}else s==o?i&&(r[a]=i):s&&(r[a]=s)}}return r}}},e.hasMergeConflictMarker=function(e){return e&&/^(<<<<<<<[^<]|>>>>>>>[^>])/m.test(e)},e.reconstructConfig=function(t,n,e,r){let i={},a=e.tree.tree.map(e=>e.path).filter(e=>/\.(ts|blocks|md|jres|asm|json)$/.test(e)).filter(e=>e!=_.CONFIG_NAME);return(a=t.fileName?a.filter(e=>0===e.indexOf(t.fileName)).map(e=>e.slice(t.fileName.length+1)):a).find(e=>/\.ts$/.test(e))||(r.config.files.filter(e=>a.indexOf(e)<0).forEach(e=>{a.push(e),n[e]=r.files[e]}),_.Util.jsonCopyFrom(i,r.config.dependencies)),Object.keys(i).length||(i[_.appTarget.corepkg]="*"),{name:"",files:a,dependencies:i,preferredEditor:a.find(e=>/.blocks$/.test(e))?_.BLOCKS_PROJECT_NAME:_.JAVASCRIPT_PROJECT_NAME}}}(pxt=pxt||{}),function(r){var e;(e=r.discourse||(r.discourse={})).extractSharedIdFromPostUrl=function(e){return r.Util.httpGetJsonAsync(e+".json").then(e=>e.post_stream&&e.post_stream.posts&&e.post_stream.posts[0]&&e.post_stream.posts[0].link_counts.map(e=>r.Cloud.parseScriptId(e.url)).filter(e=>!!e)[0])},e.topicsByTag=function(n,e){e=`${n=n.replace(/\/$/,"")}/tag/${e}.json`;return r.Util.httpGetJsonAsync(e).then(e=>{const t=r.Util.toDictionary(e.users,e=>e.id.toString());return e.topic_list.topics.map(e=>({id:e.id,title:e.title,url:`${n}/t/${e.slug}/`+e.id,imageUrl:e.image_url,author:t[e.posters[0].user_id].username,cardType:"forumUrl"}))})}}(pxt=pxt||{}),function(o){{var b=o.docs||(o.docs={}),T=pxtc.Util;let v,x={},k={};var e="\x3c!-- @CMD@ @ARGS@ --\x3e";let S={parent:e,short:e,description:"\x3c!-- desc --\x3e",activities:"\x3c!-- activities --\x3e",explicitHints:"\x3c!-- hints --\x3e",flyoutOnly:"\x3c!-- flyout --\x3e",hideIteration:"\x3c!-- iter --\x3e",codeStart:"\x3c!-- start --\x3e",codeStop:"\x3c!-- stop --\x3e",autoOpen:"\x3c!-- autoOpen --\x3e",autoexpandOff:"\x3c!-- autoexpandOff --\x3e",preferredEditor:"\x3c!-- preferredEditor --\x3e",tutorialCodeValidation:"\x3c!-- tutorialCodeValidation --\x3e"};function t(e,t,n){return e.split(t).join(n)}function n(e){return e=t(e,"&","&amp;"),e=t(e,"<","&lt;"),e=t(e,">","&gt;"),e=t(e,'"',"&quot;"),t(e,"'","&#39;")}function C(e){return e&&n(e.replace(/\&([#a-z0-9A-Z]+);/g,(e,t)=>{switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"==t[0]?String.fromCharCode(parseInt(t.slice(1))):e}}))}b.htmlQuote=n,b.html2Quote=C;const I=[{rx:/^vimeo\.com\/(\d+)/i,cmd:"### @vimeo $1"},{rx:/^(www\.youtube\.com\/watch\?v=|youtu\.be\/)([\w\-]+(\#t=([0-9]+m[0-9]+s|[0-9]+m|[0-9]+s))?)/i,cmd:"### @youtube $2"}],P=(b.requireMarked=()=>"undefined"!=typeof marked?marked:"undefined"!=typeof require?require("marked"):void 0,b.requireDOMSanitizer=()=>"undefined"!=typeof DOMPurify?DOMPurify.sanitize:"undefined"!=typeof require?require("DOMPurify").sanitize:void 0,e=>`<div class='ui negative message'>${n(e)}</div>`);function E(i){let a=T.clone(x),s=T.clone(k),o=T.clone(S),c={},l={},n=i.params,e=i.theme,u=(i.boxes=a,i.macros=s,i.settings=o,i.html=i.html.replace(/<aside\s+([^<>]+)>([^]*?)<\/aside>/g,(e,t,n)=>{var t=function(t){for(var n,r={};t.trim();){let e=/\s*([^=\s]+)=("([^"]*)"|'([^']*)'|(\S*))/.exec(t);e?(n=e[3]||e[4]||e[5]||"",r[e[1].toLowerCase()]=n):r[(e=/^\s*(\S+)/.exec(t))[1]]="true",t=t.slice(e[0].length)}return r}(t),r=t["data-name"]||t.id;return r?(/box/.test(t.class)?a[r]=n:/aside/.test(t.class)?a[r]=`<!-- BEGIN-ASIDE ${r} -->${n}<!-- END-ASIDE -->`:/setting/.test(t.class)?o[r]=n:/menu/.test(t.class)?c[r]=n:/toc/.test(t.class)?l[r]=n:s[r]=n,`<!-- macro ${r} -->`):P("id or data-name missing on macro")}),(e,t)=>{let n=c.item,r={NAME:e.name};if(e.subitems)n=c["toc-dropdown"]||(0==t?c["top-dropdown"]:c["inner-dropdown"]),r.ITEMS=e.subitems.map(e=>u(e,t+1)).join("\n");else{if(/^-+$/.test(e.name)&&(n=c.divider),e.path&&!/^(https?:|\/)/.test(e.path))return P("Invalid link: "+e.path);r.LINK=e.path}return N(n,r,["ITEMS"])}),d=[{name:lf("Docs"),href:"/docs"}];var r=i.TOC||e.TOC||[];let p=[],f=e=>{for(var t of e.subitems||[])if(f(t))return p.push(e),!0;return!(!i.filepath||!e.path||0!=i.filepath.indexOf(e.path)||(p.push(e),0))},_=(r.forEach(f),(e,t)=>{let n=l.item,r={NAME:e.name};return e.path&&!/^(https?:|\/)/.test(e.path)?P("Invalid link: "+e.path):(/^\//.test(e.path)&&i.versionPath&&(e.path="/"+i.versionPath+e.path),r.LINK=e.path,0<=p.indexOf(e)?(r.ACTIVE="active",r.EXPANDED="true",d.push({name:e.name,href:e.path})):r.EXPANDED="false",e.subitems&&0<e.subitems.length?(n=l["toc-dropdown"]?""!==e.name?l["toc-dropdown"]:l["toc-dropdown-noLink"]:0==t?""!==e.name?l["top-dropdown"]:l["top-dropdown-noHeading"]:1==t?l["inner-dropdown"]:l["nested-dropdown"],r.ITEMS=e.subitems.map(e=>_(e,t+1)).join("\n")):/^-+$/.test(e.name)&&(n=l.divider),N(n,r,["ITEMS"]))}),t=(n.menu=(e.docMenu||[]).map(e=>u(e,0)).join("\n"),n.TOC=r.map(e=>_(e,0)).join("\n"),e.appStoreID&&(n.appstoremeta=`<meta name="apple-itunes-app" content="app-id=${T.htmlEscape(e.appStoreID)}"/>`),"");1<d.length&&(t=`
            <nav class="ui breadcrumb" aria-label="${lf("Breadcrumb")}">
                ${d.map((e,t)=>`<a class="${t==d.length-1?"active":""} section"
                        href="${C(e.href)}" aria-current="${t==d.length-1?"page":""}">${C(e.name)}</a>`).join('<i class="right chevron icon divider"></i>')}
            </nav>`),n.breadcrumb=t,e.boardName&&(n.boardname=C(e.boardName)),e.boardNickname&&(n.boardnickname=C(e.boardNickname)),e.driveDisplayName&&(n.drivename=C(e.driveDisplayName)),e.homeUrl&&(n.homeurl=C(e.homeUrl)),n.targetid=e.id||"???",n.targetname=e.name||"Microsoft MakeCode",n.docsheader=e.docsHeader||"Documentation",n.orgtitle="MakeCode";var r=e.docsLogo&&T.htmlEscape(e.docsLogo),m=(e.organizationWideLogo||e.organizationLogo)&&T.htmlEscape(e.organizationWideLogo||e.organizationLogo),g=e.organizationLogo&&T.htmlEscape(e.organizationLogo),r=(n.targetlogo=r?`<img aria-hidden="true" role="presentation" class="ui ${e.logoWide?"small":"mini"} image" src="${r}" />`:"",n.orglogo=m?`<img aria-hidden="true" role="presentation" class="ui image" src="${m}" />`:"",n.orglogomobile=g?`<img aria-hidden="true" role="presentation" class="ui image" src="${g}" />`:"",i.ghEditURLs||[]);if(r.length){let e='<p style="margin-top:1em">\n',t=lf("Edit this page on GitHub");for(var h of r)e+=`<a href="${h}"><i class="write icon"></i>${t}</a><br>
`,t=lf("Edit template of this page on GitHub");e+="</p>\n",n.github=e}else n.github="";var y,m=`
            <a href="#maincontent" class="ui item link" tabindex="0" role="menuitem">${lf("Skip to main content")}</a>
        `,g=(n.accMenu=m,lf("Print this page")),r=(n.printBtn=`
            <button id="printbtn" class="circular ui icon right floated button hideprint" title="${g}" aria-label="${g}">
                <i class="icon print"></i>
            </button>
        `,`
            <a id="togglesidebar" class="launch icon item" tabindex="0" title="Side menu" aria-label="${lf("Side menu")}" role="menuitem" aria-expanded="false">
                <i class="content icon"></i>
            </a>
        `),m=(n.sidebarToggle=r,["tocsearch1","tocsearch2"].map(e=>`
                <input type="search" name="q" placeholder="${lf("Search...")}" aria-label="${lf("Search Documentation")}">
                <i onclick="document.getElementById('${e}').submit();" tabindex="0" class="search link icon" aria-label="${lf("Search")}" role="button"></i>
            `));n.searchBar1=m[0],n.searchBar2=m[1];let v="";e.accentColor&&(v+=`
.ui.accent { color: ${e.accentColor}; }
.ui.inverted.accent { background: ${e.accentColor}; }
`),n.targetstyle=v,n.tocclass=e.lightToc?"lighttoc":"inverted";for(y of Object.keys(e)){var b=e[y];void 0===n[y]&&"string"==typeof b&&(n[y]=b)}i.finish=()=>N(i.html,n,["body","menu","accMenu","TOC","prev","next","printBtn","breadcrumb","targetlogo","orglogo","orglogomobile","github","JSON","appstoremeta","sidebarToggle","searchBar1","searchBar2"])}function D(e){e.image=function(e,t,n){let r='<img class="ui image" src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r=(r+=' loading="lazy"')+(this.options.xhtml?"/>":">")},e.listitem=function(e){var t=/^\s*\[( |x)\]/i.exec(e);return t?`<li class="${" "==t[1]?"unchecked":"checked"}">`+e.slice(t[0].length)+"</li>\n":"<li>"+e+"</li>\n"},e.heading=function(e,t,n){let r=/(.*)#([\w\-]+)\s*$/.exec(e),i="";return i=r?(e=r[1],r[2]):n.toLowerCase().replace(/[^\w]+/g,"-"),(e=(e=e&&e.replace(/@(fullscreen|unplugged|showdialog|showhint)/gi,"")).trim()).match(/^\{([\s\S]+)\}$/)&&(e=e.substr(1,e.length-2)),`<h${t} id="${this.options.headerPrefix}${i}">${e}</h${t}>`}}function A(e,i){return e.replace(/<!--\s*@(ifn?def)\s+(\w+)\s*-->([^]*?)<!--\s*@endif\s*-->/g,(e,t,n,r)=>"ifdef"==t&&i[n]||"ifndef"==t&&!i[n]?`<!-- ${t} ${n} -->${r}<!-- endif -->`:`<!-- ${t} ${n} endif -->`)}function N(e,r,i=[]){return e?e.replace(/@(\w+)@/g,(e,t)=>{let n=T.lookup(r,t)||"";return n+="",n=i.indexOf(t)<0?C(n):n}):""}b.prepTemplate=E,b.setupRenderer=D,b.renderConditionalMacros=A,b.renderMarkdown=function(s){let e=!0,o=(s.pubinfo||(e=!1,s.pubinfo={}),s.pubinfo);s.theme||(s.theme={}),delete s.pubinfo.private,o.time&&(n=parseInt(o.time),o.timems||(o.timems=1e3*n+""),o.humantime||(o.humantime=T.isoTime(n))),o.name&&(o.dirname=o.name.replace(/[^A-Za-z0-9_]/g,"-"),o.title=o.name),e&&(o.JSON=JSON.stringify(o,null,4).replace(/</g,"\\u003c"));let t=s.template,c=(t=A(t=t.replace(/<!--\s*@include\s+(\S+)\s*-->/g,(e,t)=>"\x3c!-- include "+t+" --\x3e\n"+((s.theme.htmlDocIncludes||{})[t]||"")+"\n\x3c!-- end include --\x3e\n"),o),{html:t=s.locale?w(t,s.locale).text:t,theme:s.theme,filepath:s.filepath,versionPath:s.versionPath,ghEditURLs:s.ghEditURLs,params:o,TOC:s.TOC}),a=(E(c),new(v=v||b.requireMarked()).Renderer);D(a);const l=a.link;a.link=function(e,t,n){var r=new RegExp("^[/#]").test(e),i=r?"":"_blank";return r&&c.versionPath&&(e="/"+c.versionPath+e),l.call(a,e,t,n).replace(/^<a /,`<a ${i?`target="${i}"`:""} rel="nofollow noopener" `)};var n=b.requireDOMSanitizer();v.setOptions({renderer:a,gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!0,sanitizer:n,smartLists:!0,smartypants:!0});let r=s.markdown,i=(s.repo&&(r+=`
\`\`\`package
${s.repo.name.replace(/^pxt-/,"")}=github:${s.repo.fullName}#${s.repo.tag||"master"}
\`\`\`
`),r=(r=r.replace(/^\s*https?:\/\/(\S+)\s*$/gm,(e,t)=>{for(var r of I){let n=r.rx.exec(t);if(n)return r.cmd.replace(/\$(\d+)/g,(e,t)=>n[parseInt(t)]||"")+"\n"}return e})).replace(/@([a-z]+)@/gi,(e,t)=>{var n=o[t];return!n&&s.throwOnError&&T.userError("unknown macro "+t),n||"unknown macro"}),v(r)),u=(i=(i=i.replace(/&lt;br\s*\/&gt;/gi,"<br/>")).replace(/(<img [^>]* src=")\/docs\/static\/([^">]+)"/g,(e,t,n)=>t+"/static/"+n+'"'),""),d=0;function p(e,t,n){let r=n;return e<=d&&(r=u+r,u="",d=0),r}i=i.replace(/<h(\d)[^>]+>\s*([~@])?\s*(.*?)<\/h\d>/g,(e,t,n,r)=>{var i,a=/^(\w+)\s+(.*)/.exec(r),r=a?a[1]:r,a=C(a?a[2]:""),r=C(r);if(t=parseInt(t),n){if("@"==n){let e=T.lookup(c.settings,r);if(null!=e)o[r]=a;else if(null==(e=T.lookup(c.macros,r)))return s.throwOnError&&T.userError("Unknown command: @"+r),P("Unknown command: @"+r);return p(t,0,N(e,{ARGS:a,CMD:r},["ARGS","CMD"]))}return r?(n=T.lookup(c.boxes,r))?(a=p(t,0,(i=n.split("@BODY@"))[0].replace("@ARGS@",a)),u=i[1],(i=n.match(/data-[^>\s]+/gi))&&0<=i.indexOf("data-inferred")&&(d=t),a):(s.throwOnError&&T.userError("Unknown box: ~ "+r),P("Unknown box: ~ "+r)):(n=u,u="",n)}return p(t,0,e)}),u&&(i+=u),o.title||(n=/<h1[^<>]*>([^<>]+)<\/h1>/.exec(i))&&(o.title=C(n[1])),o.description||(n=/<p>([^]+?)<\/p>/.exec(i))&&(o.description=C(n[1]));var f,_,m,g,n=/<div class="ui embed mdvid"[^<>]+?data-placeholder="([^"]+)"[^>]*\/?>/i.exec(i)||/<img class="ui [^"]*image" src="([^"]+)"[^>]*\/?>/i.exec(i);n&&(o.cardLogo=C(n[1])),o.twitter=C(s.theme.twitter||"@msmakecode");let h={main:""};i=(i=i.replace(/<!-- BEGIN-ASIDE (\S+) -->([^]*?)<!-- END-ASIDE -->/g,(e,t,n)=>{var r=T.lookup(h,t);return h[t]=(r||"")+n,"\x3c!-- aside --\x3e"})).replace(/\n<\/code>/g,"</code>"),h.main=i,i="";for(f of Object.keys(h))i+=(_=f+"-container",m=h[f],N(c.boxes[_]||"@BODY@",{BODY:m},["BODY"]));o.body=i,o.name=o.title||"";for(g of Object.keys(s.theme)){var y=s.theme[g];"string"==typeof y&&(o["theme_"+g]=y)}return c.finish()},b.embedUrl=function(e,t,n,r){return`<div style="position:relative;height:0;padding-bottom:70%;overflow:hidden;"><iframe style="position:absolute;top:0;left:0;width:100%;height:100%;" src="${e+`#${t}:`+n}" frameborder="0" sandbox="allow-popups allow-forms allow-scripts allow-same-origin"></iframe></div>`},b.runUrl=function(e,t,n){return`<div style="position:relative;height:0;padding-bottom:${t};overflow:hidden;"><iframe style="position:absolute;top:0;left:0;width:100%;height:100%;" src="${e}?id=${encodeURIComponent(n)}" allowfullscreen="allowfullscreen" sandbox="allow-popups allow-forms allow-scripts allow-same-origin" frameborder="0"></iframe></div>`},b.codeEmbedUrl=function(e,t,n){e=e+"---codeembed#pub:"+t;return`<div style="position:relative;height:calc(${n=Math.ceil(n||300)}px + 5em);width:100%;overflow:hidden;"><iframe style="position:absolute;top:0;left:0;width:100%;height:100%;" src="${e}" allowfullscreen="allowfullscreen" frameborder="0" sandbox="allow-scripts allow-same-origin"></iframe></div>`};const c={b:1,strong:1,em:1};function w(e,r){const i={};function a(e){let t=/^(\s*)([^]*?)(\s*)$/.exec(e),n=t[2].replace(/\s+/g," ");return""==n||/^((IE=edge,.*|width=device-width.*|(https?:\/\/|\/)[\w@\/\.]+|@[\-\w]+@|\{[^\{\}]+\}|[^a-zA-Z]*|(&nbsp;)+)\s*)+$/.test(n)?null:((e=T.lookup(r,n))?n=e:i[n]="",t[1]+n+t[3])}function s(e){return e.replace(/&llt;/g,"<").replace(/&ggt;/g,">")}return{text:e=(e=(e=(e="<start>"+e.replace(/<([\/\w]+)([^<>]*)>/g,(e,t,n)=>{var r=t.replace(/^\//,"").toLowerCase();return 1===c[r]?"&llt;"+t+n+"&ggt;":e})).replace(/(<([\/\w]+)([^<>]*)>)([^<>]+)/g,(e,t,n,r,i)=>{return"script"==n||"style"==n||null==(n=a(s(i)))?s(e):t+n})).replace(/(<[^<>]*)(content|placeholder|alt|title)="([^"]+)"/g,(e,t,n,r)=>null==a(r)?e:t+n+'="'+r.replace(/"/g,"''")+'"')).replace(/^<start>/g,""),missing:i}}function h(e,r){let t=0,i=[{level:0,id:"",title:"",start:t,text:"",children:[]}],n=(e=e.replace(/\r/g,"")).split(/\n/),a={};for(var s of n){let e=/^\s*(#+)\s*(.*?)(#(\S+)\s*)?$/.exec(s),n=null;if(r&&e)if(e[4])if(a[e[4]])e=null;else{n=function e(t,n){if(t.id==n)return t;for(var r of t.children)if(r=e(r,n))return r;return null}(r,e[4]);let t=e=>{e.id&&(a[e.id]=!0),e.children.forEach(t)};n&&t(n)}else e=null;if(e){var o={level:r?1:e[1].length,title:e[2].trim(),id:e[4]||"",start:t,text:"",children:[]};if(n){s="";for(let e=0;e<n.level;++e)s+="#";s=(s=(s+=" ")+(o.title||n.title))+(" #"+o.id)}for(;i[i.length-1].level>=o.level;)i.pop();i[i.length-1].children.push(o),i.push(o)}i[i.length-1].text+=s+"\n",t++}return i[0]}b.translate=w,b.buildTOC=function(e){if(!e)return null;var t=o.docs.requireMarked(),n=b.requireDOMSanitizer(),n={renderer:new t.Renderer,gfm:!0,tables:!1,breaks:!1,pedantic:!1,sanitize:!0,sanitizer:n,smartLists:!1,smartypants:!1};let r={name:"dummy",subitems:[]},i=[],a=(i.push(r),t.lexer(e,n)),s=!1;a.forEach(e=>{switch(e.type){case"heading":e.depth;break;case"list_start":break;case"list_item_start":case"loose_item_start":s=!0;var t={name:"",path:"",subitems:[]};return void i.push(t);case"text":let r=i[i.length-1];0<=e.text.indexOf("[")?e.text.replace(/\[(.*?)\]\((.*?)\)/i,function(e,t,n){r.name=t,r.path=n.replace(".md","")}):s&&(r.name=e.text);break;case"list_item_end":case"loose_item_end":t=i.pop();i[i.length-1].subitems.push(t)}s=!1});t=r.subitems;return t&&0!=t.length?t:null};let g=!(b.visitTOC=function(e,t){e.forEach(function(e){t(e),e.subitems&&e.subitems.forEach(t)})});b.augmentDocs=function i(e,t){if(g||(g=!0,n(r="\n# T0\n## Examples #ex\n### Example 1\nTEx1\n### Example 2 #ex2\nTEx2\n### Example 3\nTEx3\n\n## See also #also\nTAlso\n","",r),n(r," ",r),n(r,"\n# @extends\n# #ex2\nMy example\n## See Also These! #also\nMy links\n","\n# T0\n## Examples #ex\n### Example 1\nTEx1\n### Example 2 #ex2\nMy example\n### Example 3\nTEx3\n\n## See Also These! #also\nMy links\n"),n(r,"\n# @extends\n### #ex\nFoo\n#### Example 1\nEx1\n#### Example 2x #ex2\nEx2\n## See Also These! #also\nMy links\n","\n# T0\n## Examples #ex\nFoo\n#### Example 1\nEx1\n#### Example 2x #ex2\nEx2\n## See Also These! #also\nMy links\n")),!t)return e;function n(e,t,n){var r=i(e,t).trim();if(r!=(n=n.trim()))throw console.log(`*** Template:
${e}
*** Input:
${t}
*** Expected:
${n}
*** Output:
`+r),new Error("augment docs test fail")}var r,a,s;let o=h(e,null),c=h(t,o),l={},u={};for(a of c.children)T.assert(0==a.children.length),T.assert(!!a.id),l[a.id]=a.text;let d=e=>{e.id&&void 0!==l[e.id]&&(u[e.id]=!0,e.text=l[e.id],e.children=[]),e.children.forEach(d)},p=(d(o),""),f=e=>{p+=e.text,e.children.forEach(f)},_=(f(o),""),m=c.text.replace(/^\s*#+\s*@extends.*/gm,"").replace(/^\s*\n/gm,"");m.trim()&&(_+=m.trim()+"\n");for(s of c.children)u[s.id]||(_+=s.text);return _&&(p+="## Couldn't apply replacement logic to:\n"+_),p}}}(pxt=pxt||{}),function(e){(e.dom||(e.dom={})).el=function(e,t,n){const r=document.createElement(e);return t&&Object.keys(t).forEach(e=>r.setAttribute(e,t[e]+"")),function t(e){Array.isArray(e)?e.forEach(e=>t(e)):"string"==typeof e?r.appendChild(document.createTextNode(e)):e instanceof HTMLElement&&r.appendChild(e)}(n),r}}(pxt=pxt||{}),function(c){function l(e){e=/```package\s+((.|\s)+?)\s*```/i.exec(e);let t;return e&&(t={},e[1].split("\n").map(e=>e.replace(/\s*/g,"")).filter(e=>!!e).map(e=>e.split("=")).forEach(e=>t[e[0]]=e[1]||"*")),t}function u(e){e=/```config\s+((.|\s)+?)\s*```/i.exec(e);let t=[];return e&&e[1].split("\n").map(e=>e.replace(/\s*/g,"")).filter(e=>!!e).map(e=>e.split("=")).filter(e=>"feature"==e[0]&&!!e[1]).forEach(e=>t.push(e[1])),t.length?t:void 0}function d(e){var t=/```jres\s+((.|\s)+?)\s*```/i.exec(e);if(t){const e=t[1],n=JSON.parse(e);return{jres:e,ts:c.emitTilemapsFromJRes(n)}}}function p(e){e=/```assetjson\s+((.|\s)+?)\s*```/i.exec(e);return e?c.tutorial.parseAssetJson(e[1]):{}}function a(e){let t=c.Util.jsonTryParse(e);return null!=(t=t&&!Array.isArray(t)?[t]:t)&&t.length||null!=(t=e.split(/^---$/gm).filter(e=>!!e).map(e=>{let r={};return e.replace(/^\s*(?:-|\*)\s+(\w+)\s*:\s*(.*)$/gm,(e,t,n)=>{if("flags"==t)r[t]=n.split(",");else if("otherAction"===t){const e=n.split(",").map(e=>null==e?void 0:e.trim());(r.otherActions||(r.otherActions=[])).push({url:e[0],editor:e[1],cardType:e[2]})}else r[t]=n;return""}),!!Object.keys(r).length&&r}).filter(e=>!!e))&&t.length?t:void 0}function t(e){if(!e)return[];const t=[];let n,r=!1,i="";return e.split(/\r?\n/).forEach(e=>{if(/^## /.test(e))n=e.substr(2).trim();else if(/^(### ~ |```)codecard$/.test(e))r=!0;else if(/^(### ~|```)$/.test(e)){if(r=!1,n&&i){const e=a(i);null!=e&&e.length?t.push({name:n,cards:e}):c.log("invalid gallery format")}i="",n=void 0}else r&&(i+=e+"\n")}),t.forEach(e=>e.cards.forEach(t=>{var e;!t.otherActions||t.otherActions.length||"tutorial"!=t.cardType&&"example"!=t.cardType||(e=["js"],c.appTarget.appTheme.python&&e.unshift("py"),t.otherActions=e.map(e=>({url:t.url,cardType:t.cardType,editor:e})))})),t}var e;(e=c.gallery||(c.gallery={})).parsePackagesFromMarkdown=l,e.parseFeaturesFromMarkdown=u,e.parseJResFromMarkdown=d,e.parseTemplateProjectJSON=p,e.parseExampleMarkdown=function(e,t){if(t){var n,r,i,a,s,o=/```(blocks?|typescript|python|spy|sim)\s+((.|\s)+?)\s*```/i.exec(t);if(o)return n=l(t),r=o[1],i=o[2],a=u(t),s=d(t),(e={name:e,filesOverride:{[c.MAIN_BLOCKS]:'<xml xmlns="http://www.w3.org/1999/xhtml"></xml>',["python"===o[1]?c.MAIN_PY:c.MAIN_TS]:i},dependencies:n,features:a,snippetType:r,source:i}).filesOverride=Object.assign(Object.assign({},e.filesOverride),p(t)),s&&(e.filesOverride[c.TILEMAP_JRES]=s.jres,e.filesOverride[c.TILEMAP_CODE]=s.ts),e}},e.parseCodeCards=a,e.parseCodeCardsHtml=function(e){let n,t=[];return Array.from(e.children).forEach(e=>{"UL"===e.tagName||"OL"===e.tagName?(n=n||{},Array.from(e.querySelectorAll("li")).forEach(e=>{var e=e.innerText,t=/^\s*(\w+)\s*:\s*(.*)$/.exec(e);if(t){const e=t[1];n[e]=t[2].trim(),"flags"===e&&(n[e]=n[e].split(/,\s*/))}})):"HR"==e.tagName&&(n&&t.push(n),n=void 0)}),n&&t.push(n),!(null==(t=0===t.length&&"CODE"===e.tagName?c.Util.jsonTryParse(e.textContent):t)||!t.length)&&t},e.parseGalleryMardown=t,e.loadGalleryAsync=function(e){return c.Cloud.markdownAsync(e).then(e=>t(e))},e.codeCardsToMarkdown=function(e){return`### ~ codecard

${(e||[]).map(t=>Object.keys(t).filter(e=>!!t[e]).map(e=>"otherActions"===e?t[e].map(e=>`* otherAction: ${e.url}, ${e.editor||""}, `+(e.cardType||"")).join("\n"):`* ${e}: `+t[e]).join("\n")).join("\n\n---\n\n")}

### ~
`}}(pxt=pxt||{}),function(o){o.GDBServer=class{constructor(e){this.io=e,this.q=new o.U.PromiseQueue,this.dataBuf="",this.numSent=0,this.pktSize=400,this.trace=!1,this.bmpMode=!0,this.targetInfo="",this.onEvent=e=>{},this.io.onData=e=>this.onData(e)}onData(e){for(this.dataBuf+=o.U.uint8ArrayToString(e);0<this.dataBuf.length;){var t=this.dataBuf[0];if("+"==t)this.dataBuf=this.dataBuf.slice(1);else if("$"==t||"%"==t){var n=this.decodeResp(this.dataBuf.slice(1));if(null==n)break;"$"==t?(this.io.sendPacketAsync(this.buildCmd("+")),this.onResponse?this.onResponse(n):0<this.numSent&&this.io.error("unexpected response: "+n)):this.onEvent(n)}else this.io.error("invalid character: "+t)}}buildCmd(t){if("+"==t)return o.U.stringToUint8Array(t);let n="";for(let e=0;e<t.length;++e){var r=t.charAt(e);"}"==r||"#"==r||"$"==r?n=(n+="}")+String.fromCharCode(32^r.charCodeAt(0)):n+=r}let i=0;t=n;for(let e=0;e<t.length;++e)i=i+t.charCodeAt(e)&255;return n="$"+t+"#"+("0"+i.toString(16)).slice(-2),o.U.stringToUint8Array(n)}decodeResp(r){let i="";for(let n=0;n<r.length;++n){var e=r[n];if("}"==e)++n,i+=String.fromCharCode(32^r.charCodeAt(n));else if("*"==e){++n;let e=r.charCodeAt(n)-29,t=i.charAt(i.length-1);for(;0<e--;)i+=t}else{if("#"==e)return 2==r.slice(n+1,n+3).length?(this.dataBuf=r.slice(n+3),i):null;i+=e}}return null}sendCmdOKAsync(e){return this.sendCmdAsync(e,e=>"OK"==e)}error(e){this.io.error(e),this.io.disconnectAsync()}sendCmdAsync(n,r){this.numSent++;const e=this.buildCmd(n);return this.q.enqueue("one",()=>null===r?this.io.sendPacketAsync(e).then(()=>null):new Promise(t=>{this.onResponse=e=>{this.onResponse=null,this.trace&&o.log(`GDB: '${n}' -> '${e}'`),void 0===r||r(e)||this.error(`Invalid GDB command response: '${n}' -> '${e}'`),t(e)},this.io.sendPacketAsync(e)}))}sendRCmdAsync(e){return this.sendMCmdAsync("qRcmd,"+o.U.toHex(o.U.stringToUint8Array(e)))}sendMCmdAsync(r){this.numSent++;const e=this.buildCmd(r);let i="";return this.q.enqueue("one",()=>new Promise(n=>{this.onResponse=e=>{var t;"OK"!=e&&"O"==e[0]?i+=(t=e.slice(1),o.U.uint8ArrayToString(o.U.fromHex(t))):("OK"!=e&&(i+=" - "+e),this.onResponse=null,this.trace&&o.log(`Final GDB: '${r}' -> '${i}'`),n(i))},this.io.sendPacketAsync(e)}))}write32Async(e,t){var n=new Uint8Array(4);return o.HF2.write32(n,0,t),this.writeMemAsync(e,n)}writeMemAsync(e,t){var n=this.pktSize/2-10;return o.U.assert(t.length<n),this.sendCmdOKAsync("M"+e.toString(16)+","+t.length.toString(16)+":"+o.U.toHex(t)).then(e=>{console.log(e)})}readMemAsync(e,r){const i=this.pktSize/2-6;if(r>i){const a=new Uint8Array(r),s=t=>{const n=Math.min(r-t,i);return 0==n?Promise.resolve(a):this.readMemAsync(e+t,n).then(e=>(o.U.memcpy(a,t,e),s(t+n)))};return s(0)}return this.sendCmdAsync("m"+e.toString(16)+","+r.toString(16)).then(e=>o.U.fromHex(e))}initBMPAsync(){return Promise.resolve().then(()=>this.sendRCmdAsync("swdp_scan")).then(e=>(this.targetInfo=e,this.sendCmdAsync("vAttach;1",e=>"T"==e[0]))).then(()=>{})}initAsync(){return o.U.delay(1e3).then(()=>this.sendCmdAsync("!")).then(()=>this.sendCmdAsync("qSupported")).then(e=>{let r={};return e=(e=";"+e+";").replace(/;([^;]+)[=:]([^:;]+)/g,(e,t,n)=>(r[t]=n,";")),this.pktSize=parseInt(r.PacketSize)||1024,o.log("GDB-server caps: "+JSON.stringify(r)+" "+e.replace(/;+/g,";")),this.bmpMode?this.initBMPAsync():this.sendCmdAsync("c").then(()=>{})})}}}(pxt=pxt||{}),function(s){{var o=s.github||(s.github={}),e;function c(){var e;return!!o.forceProxy||!s.U.isNodeJS&&!(null!=(e=null==(e=null==s?void 0:s.appTarget)?void 0:e.cloud)&&e.noGithubProxy)}o.token=null,o.forceProxy=!1;const I={};function i(i){var e;return i.method=null!=(e=i.method)?e:"GET",function t(e){var n;const r=s.U.clone(i);return o.token&&(r.headers||(r.headers={}),r.url==O?r.headers.Authorization="bearer "+o.token:(r.url=s.BrowserUtils.cacheBustingUrl(r.url),r.headers.Authorization="token "+o.token)),r.allowHttpErrors=null!=(n=r.allowHttpErrors)&&n,s.U.requestAsync(r).catch(e=>{if(s.tickEvent("github.error",{statusCode:e.statusCode}),o.handleGithubNetworkError&&o.handleGithubNetworkError(r,e))return t();throw e})}(o.token)}function l(e){return i({url:e,method:"GET"}).then(e=>e.json)}function u(e){return s.Cloud.apiRequestWithCdnAsync({url:"gh/"+e,forceLiveEndpoint:!0}).then(e=>e.json)}function d(e){s.log("github proxy error: "+e.message),s.debug(e)}o.isOrgAsync=function(e){return i({url:"https://api.github.com/orgs/"+e,method:"GET",allowHttpErrors:!0}).then(e=>200==e.statusCode)};class P{constructor(){this.configs={},this.packages={}}proxyWithCdnLoadPackageAsync(e,t){const n=e+"/"+t;var r=this.packages[n];return r?(s.debug(`github cache ${e}/${t}/text`),Promise.resolve(r)):u(A((r=C(e)).slug,t,r.fileName,"text")).then(e=>this.packages[n]={files:e})}cacheConfig(e,t){t=s.Package.parseAndValidConfig(t);return this.configs[e]=t,s.U.clone(t)}async loadConfigAsync(e,t){var n=e+"/"+(t=t||"master"),r=this.configs[n];if(r)return s.debug(`github cache ${e}/${t}/config`),s.U.clone(r);if(c())try{const c=await this.proxyWithCdnLoadPackageAsync(e,t);return this.cacheConfig(n,c.files[s.CONFIG_NAME])}catch(e){d(e)}r=await f(e,t,s.CONFIG_NAME);return this.cacheConfig(n,r)}async loadPackageAsync(e,t){if(t=t||"master",c())try{return await this.proxyWithCdnLoadPackageAsync(e,t).then(e=>s.U.clone(e))}catch(e){d(e)}return this.githubLoadPackageAsync(e,t)}githubLoadPackageAsync(i,n){return y(i,n).then(r=>{const t=i+"/"+r;var e=this.packages[t];return e?(s.debug(`github cache ${i}/${n}/text`),Promise.resolve(s.U.clone(e))):(s.log(`Downloading ${i}/${n} -> `+r),f(i,r,s.CONFIG_NAME).then(e=>{const n={files:{}};n.files[s.CONFIG_NAME]=e;e=JSON.parse(e);return s.U.promiseMapAll(s.allPkgFiles(e).slice(1),t=>f(i,r,t).then(e=>{n.files[t]=e})).then(()=>(this.packages[t]=n,s.U.clone(n)))}))})}}function p(t,e,n){return i({url:"https://api.github.com/repos/"+A(t.slug,"contents",t.fileName,n+"?ref="+e),method:"GET"}).then(e=>{e=e.json;return I[t.slug]=!0,e&&"base64"==e.encoding&&null!=e.content?atob(e.content):s.U.httpGetTextAsync(e.download_url)})}function f(e,t,n){const r=C(e);return I[r.slug]?p(r,t,n):s.U.requestAsync({url:"https://raw.githubusercontent.com/"+A(r.slug,t,r.fileName,n),allowHttpErrors:!0}).then(e=>200==e.statusCode?e.text:p(r,t,n))}function _(e,t,n,r){return i({url:/^https:/.test(e)?e:"https://api.github.com/repos/"+e,headers:n,method:r||"POST",data:t,successCodes:[200,201,202,204]}).then(e=>e.json)}function m(e,t){let n=1;for(;e.refs[t+n];)n++;return t+n}async function g(e,t,n){return await _(e+"/git/refs",{ref:"refs/heads/"+t,sha:n}),t}function h(e,n="tags",t,r){e=C(e),t=!!o.forceProxy||!(o.token&&!t)&&c();let i=null;t=t?s.U.httpGetJsonAsync(s.BrowserUtils.cacheBustingUrl(`${s.Cloud.apiRoot}gh/${e.slug}/refs`+(r?"?nocache=1":""))).then(t=>{var e=Object.keys(t.refs).filter(e=>s.U.startsWith(e,"refs/"+n+"/")).map(e=>({ref:e,object:{sha:t.refs[e]}}));return i=t.refs.HEAD,e}):l(`https://api.github.com/repos/${e.slug}/git/refs/${n}/?per_page=100`);let a=e=>e.replace(/^refs\/[^\/]+\//,"");return t.then(e=>{e.sort((e,t)=>s.semver.strcmp(a(e.ref),a(t.ref)));var t,n={};for(t of e)n[a(t.ref)]=t.object.sha;return{refs:n,head:i}},e=>404==e.statusCode?{refs:{}}:Promise.reject(e))}function r(e){return"commit"==e.object.type?Promise.resolve(e.object.sha):"tag"==e.object.type?l(e.object.url).then(e=>"commit"==e.object.type?e.object.sha:Promise.reject(new Error("Bad type (2nd order) "+e.object.type))):Promise.reject(new Error("Bad type "+e.object.type))}function y(e,t){if(/^[a-f0-9]{40}$/.test(t))return Promise.resolve(t);const n=C(e);return l(`https://api.github.com/repos/${n.slug}/git/refs/tags/`+t).then(r,e=>l(`https://api.github.com/repos/${n.slug}/git/refs/heads/`+t).then(r))}function v(e,t="master"){return o.db.loadConfigAsync(e,t)}function b(n,r){var e=C(n);return e?S(e,r)?(s.tickEvent("github.download.banned"),s.log("Github repo is banned"),Promise.resolve(void 0)):o.db.loadPackageAsync(e.fullName,e.tag).then(e=>{var t=w(r,n);if(t){const r=s.Package.parseAndValidConfig(e.files[s.CONFIG_NAME]);r&&(s.log(`auto-disable ${t.join(",")} due to targetconfig entry for `+n),r.disablesVariants=t,e.files[s.CONFIG_NAME]=s.Package.stringifyConfig(r))}return e}):(s.log("Unknown GitHub syntax"),Promise.resolve(void 0))}let a;function t(e){return s.Cloud.cdnApiUrl(`gh/${e.fullName}/icon`)}function x(e,t){var n;if(e)return(n={owner:e.owner.login.toLowerCase(),slug:e.full_name.toLowerCase(),fullName:((null==t?void 0:t.fullName)||e.full_name).toLowerCase(),fileName:null==(n=null==t?void 0:t.fileName)?void 0:n.toLocaleLowerCase(),name:e.name,description:e.description,defaultBranch:e.default_branch,tag:null==t?void 0:t.tag,updatedAt:Math.round(new Date(e.updated_at).getTime()/1e3),fork:e.fork,private:e.private}).status=k(n,null==t?void 0:t.config),n}function k(e,t){return e?S(e,t)?a.Banned:(i=t=t,(r=n=e)&&i&&r.owner&&i.approvedOrgs&&i.approvedOrgs.some(e=>e.toLowerCase()==r.owner.toLowerCase())||n&&t&&n.fullName&&t.approvedRepos&&t.approvedRepos.some(e=>e.toLowerCase()==n.fullName.toLowerCase())?a.Approved:a.Unknown):a.Unknown;var n,r,i}function S(t,e){return n=t,(r=e)&&(!n||!n.owner||r.bannedOrgs&&r.bannedOrgs.some(e=>e.toLowerCase()==n.owner.toLowerCase()))||e&&(!t||!t.fullName||e.bannedRepos&&e.bannedRepos.some(e=>e.toLowerCase()==t.fullName.toLowerCase()));var n,r}async function T(e,t){e=C(e);if(e){var n,r,i=k(e,t);if(i!=a.Banned){if(c())try{return r=i,await u((n=e).slug).then(e=>{if(e)return{github:!0,owner:n.owner,fullName:n.fullName,fileName:n.fileName,slug:n.slug,name:n.fileName?e.name+"-"+n.fileName:e.name,description:e.description,defaultBranch:e.defaultBranch||"master",tag:n.tag,status:r}}).catch(e=>{s.reportException(e)})}catch(e){d(e)}return x(await l("https://api.github.com/repos/"+e.slug),{config:t,fullName:e.fullName,fileName:e.fileName,tag:e.tag})}}}function C(t){if(t){t=(t=t.trim()).replace(/\/$/,"");var n=/^https:\/\/([^./#]+)\.github\.io\/([^/#]+)\/?$/i.exec(t),n=(t=(t=(t=(t=n?`github:${n[1]}/`+n[2]:t).replace(/^github:/i,"")).replace(/^https:\/\/github\.com\//i,"")).replace(/\.git\b/i,""),/^([^#\/:]+)\/([^#\/:]+)(\/([^#]+))?(#([^\/:]*))?$/.exec(t));if(n){var t=n[1],r=n[2];let e=n[4];var n=n[6],i=e&&/^tree\/([^\/]+\/)/.exec(e);return i&&(e=e.slice(i[0].length)),{owner:t,project:r,slug:A(t,r),fullName:A(t,r,e),tag:n,fileName:e}}}}function E(e){return!!e&&"github:"==e.slice(0,7)}function D(e){return e?"github:"+e.fullName.toLowerCase()+"#"+(e.tag||"master"):void 0}function A(...e){return e.filter(e=>!!e).join("/")}function N(e,t){return e&&e.upgrades&&(t=C(t))?s.U.lookup(e.upgrades,t.fullName.toLowerCase()):null}function w(e,t){e=N(e,t),t=/^dv:(.*)/.exec(e);if(t){const e=t[1].split(/,/);return e.some(e=>!/^\w+$/.test(e))?null:e}return null}o.MemoryGithubDb=P,o.downloadTextAsync=f,o.db=new P,o.authenticatedUserAsync=function(){return o.token?l("https://api.github.com/user"):Promise.resolve(void 0)},o.getCommitsAsync=function(e,t){return l("https://api.github.com/repos/"+C(e).slug+"/commits?sha="+t).then(e=>e.map(e=>{var t=e.commit;return t.url=e.url,t.sha=e.sha,t}))},o.getCommitAsync=function(e,t){return l("https://api.github.com/repos/"+C(e).slug+"/git/commits/"+t).then(t=>l(t.tree.url+"?recursive=1").then(e=>(t.tree=e,t)))},o.createObjectAsync=function(e,t,n){return _(C(e).slug+"/git/"+t+"s",n).then(e=>e.sha)},o.postCommitComment=function(e,t,n,r,i){return _(C(e).slug+`/commits/${t}/comments`,{body:n,path:r,position:i}).then(e=>e.id)},o.fastForwardAsync=async function(e,t,n){return 200==(await i({url:`https://api.github.com/repos/${C(e).slug}/git/refs/heads/`+t,method:"PATCH",allowHttpErrors:!0,data:{sha:n,force:!1}})).statusCode},o.putFileAsync=async function(e,t,n){e=C(e);await i({url:"https://api.github.com/repos/"+s.github.join(e.slug,"contents",e.fileName,t),method:"PUT",allowHttpErrors:!0,data:{message:lf("Initialize empty repo"),content:btoa(s.U.toUTF8(n)),branch:"master"},successCodes:[201]})},o.createTagAsync=async function(e,t,n){await _(e+"/git/refs",{ref:"refs/tags/"+t,sha:n})},o.createReleaseAsync=async function(e,t,n){await _(e+"/releases",{tag_name:t,target_commitish:n,name:t,draft:!1,prerelease:!1})},o.createPRFromBranchAsync=async function(e,t,n,r,i){e=await _(e+"/pulls",{title:r,body:i||lf("Automatically created from MakeCode."),head:n,base:t,maintainer_can_modify:!0});return null==e?void 0:e.html_url},o.mergeAsync=function(t,e,n,r){return i({url:`https://api.github.com/repos/${C(t).slug}/merges`,method:"POST",successCodes:[201,204,409],data:{base:e,head:n,commit_message:r}}).then(e=>{if(201==e.statusCode||204==e.statusCode)return e.json.sha;if(409==e.statusCode)return null;throw s.U.userError(lf("Cannot merge in github.com/{1}; code: {2}",t,e.statusCode))})},o.getRefAsync=function(e,t){return l("https://api.github.com/repos/"+e+"/git/refs/heads/"+(t=t||"master")).then(r).catch(e=>{404!=e.statusCode&&Promise.reject(e)})},o.getNewBranchNameAsync=async function(e,t="patch-"){return m(await h(e,"heads"),t)},o.createNewBranchAsync=g,o.forkRepoAsync=async function(e,t,n="pr-"){var e=C(e),r=x(await _(e.slug+"/forks",{}),{fullName:e.fullName,fileName:e.fileName}),i=Date.now()+3e5;let a=null;for(;!a&&Date.now()<i;){await s.U.delay(1e3);try{a=await h(r.slug,"heads")}catch(e){}}if(a)return e=m(a,n),await g(r.slug,e,t),r.fullName+"#"+e;throw new Error(lf("Timeout waiting for fork"))},o.listRefsAsync=function(e,t="tags",n,r){return h(e,t,n,r).then(e=>Object.keys(e.refs))},o.listRefsExtAsync=h,o.pkgConfigAsync=v,o.downloadPackageAsync=b,o.downloadLatestPackageAsync=async function(e){var t=await s.packagesConfigAsync(),n=await s.github.latestVersionAsync(e.slug,t),r=e.fullName+"#"+n;return await s.github.downloadPackageAsync(r,t),{version:"github:"+r,config:await v(e.fullName,n)}},o.cacheProjectDependenciesAsync=async function(n){var r,e=null==(r=Object.keys(n.dependencies))?void 0:r.filter(e=>E(n.dependencies[e]));if(e.length){const r=await s.packagesConfigAsync();await Promise.all(e.map(async e=>{var t=n.dependencies[e];if(!await b(t,r))throw new Error(lf("Cannot load extension {0} from {1}",e,t))}))}},(e=a=o.GitRepoStatus||(o.GitRepoStatus={}))[e.Unknown=0]="Unknown",e[e.Approved=1]="Approved",e[e.Banned=2]="Banned",o.listUserReposAsync=function(){return n('{\n  viewer {\n    repositories(first: 100, affiliations: [OWNER, COLLABORATOR], orderBy: {field: PUSHED_AT, direction: DESC}) {\n      nodes {\n        name\n        description\n        full_name: nameWithOwner\n        private: isPrivate\n        fork: isFork\n        updated_at: updatedAt\n        owner {\n          login\n        }\n        defaultBranchRef {\n          name\n        }\n        pxtjson: object(expression: "master:pxt.json") {\n          ... on Blob {\n            text\n          }\n        }\n        readme: object(expression: "master:README.md") {\n          ... on Blob {\n            text\n          }\n        }\n      }\n    }\n  }\n}').then(e=>e.data.viewer.repositories.nodes.filter(e=>e.pxtjson).filter(e=>{e.default_branch=e.defaultBranchRef.name;var t=s.Package.parseAndValidConfig(e.pxtjson&&e.pxtjson.text),e=e.readme&&e.readme.text;return!!t&&(t.supportedTargets?-1<t.supportedTargets.indexOf(s.appTarget.id):e&&-1<e.indexOf("PXT/"+s.appTarget.id))}).map(e=>x(e,{fullName:e.full_name})))},o.createRepoAsync=function(e,t,n){return _("https://api.github.com/user/repos",{name:e,description:t,private:!!n,has_issues:!0,has_projects:!1,has_wiki:!1,allow_rebase_merge:!1,allow_merge_commit:!0,delete_branch_on_merge:!1}).then(e=>x(e))},o.enablePagesAsync=async function(e){const t=C(e);let n;try{const s=await l(`https://api.github.com/repos/${t.slug}/pages`);s&&(n=s.html_url)}catch(e){}if(!n)try{n=(await _(`https://api.github.com/repos/${t.slug}/pages`,{source:{branch:"master",path:"/"}},{Accept:"application/vnd.github.switcheroo-preview+json"})).html_url}catch(e){s.tickEvent("github.pages.error"),s.reportException(e)}if(n){const t=await l("https://api.github.com/repos/"+e);if(t&&!t.homepage)try{await _("https://api.github.com/repos/"+e,{homepage:n},void 0,"PATCH")}catch(e){s.tickEvent("github.homepage.error")}}},o.repoIconUrl=function(e){if(e.status==a.Approved)return t(e)},o.mkRepoIconUrl=t,o.repoStatus=k,o.repoAsync=T,o.searchAsync=function(e,t){var n;return t?0<(n=e.split("|").map(C).filter(e=>!!e)).length?Promise.all(n.map(e=>T(e.fullName,t))).then(e=>e.filter(e=>e&&e.status!=a.Banned)):s.U.httpGetJsonAsync(`${s.Cloud.apiRoot}ghsearch/${s.appTarget.id}/${s.appTarget.platformid||s.appTarget.id}?q=`+encodeURIComponent(e)).then(e=>e.items.map(e=>x(e,{config:t,fullName:e.full_name})).filter(e=>e.status==a.Approved||t.allowUnapproved&&e.status==a.Unknown).filter(e=>!s.appTarget.appTheme.githubUrl||"https://github.com/"+e.fullName!=s.appTarget.appTheme.githubUrl.toLowerCase())).catch(e=>[]):Promise.resolve([])},o.parseRepoId=C,o.toGithubDependencyPath=function(e,t){let n="github:"+e;return t&&(n+="#"+t),n},o.isGithubId=E,o.stringifyRepo=D,o.normalizeRepoId=function(e){e=C(e);if(e)return e.tag=e.tag||"master",D(e)},o.join=A,o.upgradedPackageReference=function(e,t){const n=N(e,t);if(!n)return null;var r=/^min:(.*)/.exec(n),i=r&&s.semver.tryParse(r[1]);if(i){const e=C(t),n=s.semver.tryParse(e.tag);return n&&s.semver.cmp(n,i)<0?(e.tag=r[1],s.debug(`upgrading ${t} to `+r[1]),D(e)):(n||s.log(`not upgrading ${t} - cannot parse version`),null)}return w(e,t)||s.log(`invalid upgrade rule: ${t} -> `+n),t},o.upgradedPackageId=function(e,t){e=w(e,t);return e?t+"?dv="+e.join(","):t},o.latestVersionAsync=function(e,i,t,n){const a=C(e);return a?T(a.slug,i).then(r=>{if(r)return h(r.slug,"tags",t,n).then(t=>{var e=Object.keys(t.refs),e=s.semver.sortLatestTags(e),n=s.appTarget.versions&&s.semver.tryParse(s.appTarget.versions.target);if(n&&i.releases&&i.releases["v"+n.major]){const t=i.releases["v"+n.major].map(e=>s.github.parseRepoId(e)).filter(e=>e&&e.fullName.toLowerCase()==a.fullName.toLowerCase())[0];if(t){if(e.some(e=>e==t.tag))return s.debug(`approved release ${t.fullName}#${t.tag} for v`+n.major),Promise.resolve(t.tag);s.reportError("packages",`approved release ${t.fullName}#${t.tag} for v${n.major} not found anymore`,{repo:r.fullName})}}return e[0]?Promise.resolve(e[0]):t.head||y(r.slug,r.defaultBranch)})}):Promise.resolve(null)},o.resolveMonoRepoVersions=function(n){n=s.Util.clone(n);const r={};return Object.keys(n).map(e=>({id:e,ghid:o.parseRepoId(n[e])})).filter(e=>{return null==(e=e.ghid)?void 0:e.tag}).forEach(e=>{var t=e["ghid"];let n=r[t.slug];(n=n||(r[t.slug]={tag:t.tag,deps:[]})).deps.push(e),s.semver.strcmp(n.tag,t.tag)<0&&(s.debug("dep: resolve later monorepo tag to "+s.github.stringifyRepo(t)),n.tag=t.tag)}),s.U.values(r).forEach(t=>t.deps.forEach(e=>{e.ghid.tag!==t.tag&&(s.debug(`dep: ${s.github.stringifyRepo(e.ghid)} -> `+t.tag),e.ghid.tag=t.tag,n[e.id]=s.github.stringifyRepo(e.ghid))})),n},o.GIT_JSON=".git.json";const O="https://api.github.com/graphql";function n(e){e=JSON.stringify({query:e});return _(O,e)}o.lookupFile=function(e,t,n){if(!t)return null;const r=A(e.fileName,n);return t.tree.tree.find(e=>e.path==r)},o.ghGraphQLQueryAsync=n,o.findPRNumberforBranchAsync=function(e,t){e=C(e);return n(`
{
    repository(owner: ${JSON.stringify(e.owner)}, name: ${JSON.stringify(e.project)}) {
        pullRequests(last: 1, states: [OPEN, MERGED], headRefName: ${JSON.stringify(t)}) {
            edges {
                node {
                    number
                    state
                    mergeable
                    baseRefName
                    url
                    isDraft
                }
            }
        }
    }
}
`).then(e=>{var t=e.data.repository.pullRequests.edges[0];if(t&&t.node){const e=t.node;return{number:e.number,mergeable:e.mergeable,state:e.state,title:e.title,url:e.url,base:e.baseRefName}}return{number:-1}})},o.getPagesStatusAsync=function(e){return l(`https://api.github.com/repos/${e}/pages`).catch(e=>({status:null}))}}}(pxt=pxt||{}),function(e){e.REFCNT_FLASH="0xfffe",e.VTABLE_MAGIC=249,e.ValTypeObject=4,(e=e.BuiltInType||(e.BuiltInType={}))[e.BoxedString=1]="BoxedString",e[e.BoxedNumber=2]="BoxedNumber",e[e.BoxedBuffer=3]="BoxedBuffer",e[e.RefAction=4]="RefAction",e[e.RefImage=5]="RefImage",e[e.RefCollection=6]="RefCollection",e[e.RefRefLocal=7]="RefRefLocal",e[e.RefMap=8]="RefMap",e[e.RefMImage=9]="RefMImage",e[e.MMap=10]="MMap",e[e.BoxedString_SkipList=11]="BoxedString_SkipList",e[e.BoxedString_ASCII=12]="BoxedString_ASCII",e[e.ZPin=13]="ZPin",e[e.User0=16]="User0"}(pxt=pxt||{}),function(c){{var l=c.HF2||(c.HF2={});function o(e,t,n){e[t+0]=n>>0&255,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255}function u(e,t,n){e[t+0]=n>>0&255,e[t+1]=n>>8&255}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function d(e,t){return e[t]|e[t+1]<<8}function n(t){var n=new Uint8Array(4*t.length);for(let e=0;e<t.length;++e)o(n,4*e,t[e]);return n}l.HF2_CMD_BININFO=1,l.HF2_MODE_BOOTLOADER=1,l.HF2_MODE_USERSPACE=2,l.HF2_CMD_INFO=2,l.HF2_CMD_RESET_INTO_APP=3,l.HF2_CMD_RESET_INTO_BOOTLOADER=4,l.HF2_CMD_START_FLASH=5,l.HF2_CMD_WRITE_FLASH_PAGE=6,l.HF2_CMD_CHKSUM_PAGES=7,l.HF2_CMD_READ_WORDS=8,l.HF2_CMD_WRITE_WORDS=9,l.HF2_CMD_DMESG=16,l.HF2_FLAG_SERIAL_OUT=128,l.HF2_FLAG_SERIAL_ERR=192,l.HF2_FLAG_CMDPKT_LAST=64,l.HF2_FLAG_CMDPKT_BODY=0,l.HF2_FLAG_MASK=192,l.HF2_SIZE_MASK=63,l.HF2_STATUS_OK=0,l.HF2_STATUS_INVALID_CMD=1,l.HF2_STATUS_EXEC_ERR=2,l.HF2_STATUS_EVENT=128,l.HF2_CMD_JDS_CONFIG=32,l.HF2_CMD_JDS_SEND=33,l.HF2_EV_JDS_PACKET=8388640,l.CUSTOM_EV_JACDAC="jacdac",l.HF2_EV_MASK=8388608,l.write32=o,l.write16=u,l.read32=a,l.read16=d,l.encodeU32LE=n;let t=!(l.decodeU32LE=function(t){var n=[];for(let e=0;e<t.length;e+=4)n.push(a(t,e));return n});function p(e){t?c.log("HF2: "+e):c.debug("HF2: "+e)}l.enableLog=function(){t=!0};class r{constructor(s){var e;this.io=s,this.cmdSeq=c.U.randomUint32(),this.lock=new c.U.PromiseQueue,this.flashing=!1,this.rawMode=!1,this.maxMsgSize=63,this.bootloaderMode=!1,this.reconnectTries=0,this.autoReconnect=!1,this.icon=(null==(e=c.appTarget.appTheme.downloadDialogTheme)?void 0:e.deviceIcon)||"usb",this.msgs=new c.U.PromiseBuffer,this.eventHandlers={},this.jacdacAvailable=!1,this.onSerial=(e,t)=>{},this.onCustomEvent=(e,t)=>{};let o=[];s.onDeviceConnectionChanged=e=>this.disconnectAsync().then(()=>e&&this.reconnectAsync()),s.onSerial=(e,t)=>this.onSerial(e,t),s.onData=e=>{var r=e[0]&l.HF2_FLAG_MASK,t=63&e[0],n=new Uint8Array(t);if(c.U.memcpy(n,0,e,1,t),r&l.HF2_FLAG_SERIAL_OUT)this.onSerial(n,r==l.HF2_FLAG_SERIAL_ERR);else if(o.push(n),r!=l.HF2_FLAG_CMDPKT_BODY){c.U.assert(r==l.HF2_FLAG_CMDPKT_LAST);let e=0;for(var i of o)e+=i.length;let t=new Uint8Array(e),n=0;for(var a of o)c.U.memcpy(t,n,a),n+=a.length;o=[],t[2]&l.HF2_STATUS_EVENT?s.onEvent(t):this.msgs.push(t)}},s.onEvent=e=>{var t=a(e,0),n=c.U.lookup(this.eventHandlers,t+"");n?n(e.slice(4)):p("unhandled event: "+t.toString(16))},s.onError=e=>{p("recv error: "+e.message),this.autoReconnect&&(this.autoReconnect=!1,this.reconnectAsync().then(()=>{this.autoReconnect=!0},e=>{p("reconnect error: "+e.message)}))},this.onEvent(l.HF2_EV_JDS_PACKET,e=>{this.onCustomEvent(l.CUSTOM_EV_JACDAC,e)})}resetState(){this.lock=new c.U.PromiseQueue,this.info=null,this.infoRaw=null,this.pageSize=null,this.flashSize=null,this.maxMsgSize=63,this.bootloaderMode=!1,this.msgs.drain()}onEvent(e,t){c.U.assert(!!(e&l.HF2_EV_MASK)),this.eventHandlers[e+""]=t}sendCustomEventAsync(e,t){return e==l.CUSTOM_EV_JACDAC?this.jacdacAvailable?this.talkAsync(l.HF2_CMD_JDS_SEND,t).then(()=>{}):Promise.resolve():Promise.reject(new Error("invalid custom event type"))}reconnectAsync(){return this.resetState(),p("reconnect raw="+this.rawMode),this.io.reconnectAsync().then(()=>this.initAsync()).catch(e=>{if(this.reconnectTries<5)return this.reconnectTries++,p(`error ${e.message}; reconnecting attempt #`+this.reconnectTries),c.U.delay(500).then(()=>this.reconnectAsync());throw e})}disconnectAsync(){return p("disconnect"),this.io.disconnectAsync()}error(e){return this.io.error(e)}talkAsync(e,t){if(this.io.talksAsync)return this.io.talksAsync([{cmd:e,data:t}]).then(e=>e[0]);let n=8,r=(t&&(n+=t.length),new Uint8Array(n)),i=65535&++this.cmdSeq,a=(o(r,0,e),u(r,4,i),u(r,6,0),t&&c.U.memcpy(r,8,t,0,t.length),0),s=()=>this.msgs.shiftAsync(1e3).then(e=>{if(d(e,0)!=i){if(a<3)return a++,p(`message out of sync, (${i} vs ${d(e,0)}); will re-try`),s();this.error("out of sync")}let t="";switch(e[3]&&(t="; info="+e[3]),e[2]){case l.HF2_STATUS_OK:return e.slice(4);case l.HF2_STATUS_INVALID_CMD:this.error("invalid command"+t);break;case l.HF2_STATUS_EXEC_ERR:this.error("execution error"+t);break;default:this.error("error "+e[2]+t)}return null});return this.sendMsgAsync(r).then(s)}sendMsgAsync(e){return this.sendMsgCoreAsync(e)}sendSerialAsync(e,t=!1){return this.io.sendSerialAsync?this.io.sendSerialAsync(e,t):this.sendMsgCoreAsync(e,t?2:1)}sendMsgCoreAsync(r,e=0){let i=new Uint8Array(64),a=t=>{let n=r.length-t;if(n<=0)return Promise.resolve();63<n?(n=63,i[0]=l.HF2_FLAG_CMDPKT_BODY):i[0]=l.HF2_FLAG_CMDPKT_LAST,e&&(i[0]=1==e?l.HF2_FLAG_SERIAL_OUT:l.HF2_FLAG_SERIAL_ERR),i[0]|=n;for(let e=0;e<n;++e)i[e+1]=r[t+e];return this.io.sendPacketAsync(i).then(()=>a(t+n))};return this.lock.enqueue("out",()=>a(0))}switchToBootloaderAsync(){return this.bootloaderMode?Promise.resolve():(p("Switching into bootloader mode"),this.io.isSwitchingToBootloader&&this.io.isSwitchingToBootloader(),this.maybeReconnectAsync().then(()=>this.talkAsync(l.HF2_CMD_START_FLASH).then(()=>{},e=>this.talkAsync(l.HF2_CMD_RESET_INTO_BOOTLOADER).then(()=>{},e=>{}).then(()=>this.reconnectAsync().catch(e=>{throw"devicenotfound"===e.type&&(e.type="repairbootloader"),e})))).then(()=>this.initAsync()).then(()=>{this.bootloaderMode||this.error("cannot switch into bootloader mode")}))}isFlashing(){return!!this.flashing}reflashAsync(e){p("reflash"),c.U.assert(c.appTarget.compile.useUF2);const t=e.outfiles[pxtc.BINARY_UF2],n=pxtc.UF2.parseFile(c.Util.stringToUint8Array(atob(t)));return this.flashing=!0,this.io.reconnectAsync().then(()=>this.flashAsync(n)).then(()=>c.U.delay(100)).finally(()=>this.flashing=!1).then(()=>this.reconnectAsync())}writeWordsAsync(e,t){return c.U.assert(t.length<=64),this.talkAsync(l.HF2_CMD_WRITE_WORDS,n([e,t.length].concat(t))).then(()=>{})}readWordsAsync(e,t){var n=new Uint8Array(8);return o(n,0,e),o(n,4,t),c.U.assert(t<=64),this.talkAsync(l.HF2_CMD_READ_WORDS,n)}pingAsync(){return this.rawMode?Promise.resolve():this.talkAsync(l.HF2_CMD_BININFO).then(e=>{})}maybeReconnectAsync(){return this.pingAsync().catch(e=>this.reconnectAsync().then(()=>this.pingAsync()))}flashAsync(r){let n=Date.now(),i=0,a=e=>{var t,n;return e>=r.length?Promise.resolve():(t=r[e],o(n=new Uint8Array(4+t.payloadSize),0,t.targetAddr),c.U.memcpy(n,4,t.data,0,t.payloadSize),this.talkAsync(l.HF2_CMD_WRITE_FLASH_PAGE,n).then(()=>a(e+1)))};return this.switchToBootloaderAsync().then(()=>{var e=256*r.length;return p(`Starting flash (${Math.round(e/1024)}kB).`),i=Date.now(),16384<this.pageSize?r:s(r,(e,t)=>this.readWordsAsync(e,t))}).then(e=>{e.length!=r.length&&(e=256*(r=e).length,p(`Performing partial flash (${Math.round(e/1024)}kB).`))}).then(()=>a(0)).then(()=>{var e=Date.now(),t=e-n,e=e-i;p(`Flashing done at ${Math.round(256*r.length/e*1e3/1024)} kB/s in ${t}ms (reset ${t-e}ms). Resetting.`)}).then(()=>this.talkAsync(l.HF2_CMD_RESET_INTO_APP).catch(e=>{})).then(()=>{})}initAsync(){return this.rawMode?Promise.resolve():Promise.resolve().then(()=>this.talkAsync(l.HF2_CMD_BININFO)).then(e=>(this.bootloaderMode=e[0]==l.HF2_MODE_BOOTLOADER,this.pageSize=a(e,4),this.flashSize=a(e,8)*this.pageSize,this.maxMsgSize=a(e,12),this.familyID=a(e,16),p(`Connected; msgSize ${this.maxMsgSize}B; flash ${this.flashSize/1024}kB; ${this.bootloaderMode?"bootloader":"application"} mode; family=0x`+this.familyID.toString(16)),this.talkAsync(l.HF2_CMD_INFO))).then(e=>{this.infoRaw=c.Util.fromUTF8Array(e),c.debug("Info: "+this.infoRaw);let r={};("Header: "+this.infoRaw).replace(/^([\w\-]+):\s*([^\n\r]*)/gm,(e,t,n)=>(r[t.replace(/-/g,"")]=n,"")),this.info=r;e=/v(\d\S+)(\s+(\S+))?/.exec(this.info.Header);this.info.Parsed=e?{Version:e[1],Features:e[3]||""}:{Version:"?",Features:""},p(`Board-ID: ${this.info.BoardID} v${this.info.Parsed.Version} f`+this.info.Parsed.Features)}).then(()=>this.talkAsync(l.HF2_CMD_JDS_CONFIG,new Uint8Array([1])).then(()=>{this.jacdacAvailable=!0},e=>{this.jacdacAvailable=!1})).then(()=>{this.reconnectTries=0})}}function s(r,e){if(!c.appTarget.compile.flashChecksumAddr)return Promise.resolve(r);let t=pxtc.UF2.readBytes(r,c.appTarget.compile.flashChecksumAddr,48),i=pxtc.parseChecksumBlock(t);return i?(n=e,(c.appTarget.compile.flashChecksumAddr?n(c.appTarget.compile.flashChecksumAddr,12).then(e=>{let t=pxtc.parseChecksumBlock(e);return t?n(t.endMarkerPos,1).then(e=>a(e,0)!=t.endMarker?(c.log("end-marker mismatch"),null):t):null}):Promise.resolve(null)).then(e=>{if(!e)return r;let n=e.regions.filter(t=>i.regions.some(e=>t.checksum==e.checksum&&t.length==e.length&&t.start==e.start));if(0==n.length)return r;p("skipping flash at: "+n.map(e=>`${pxtc.assembler.tohex(e.start)} (${e.length/1024}kB)`).join(", "));let t=t=>n.some(e=>e.start<=t&&t<e.start+e.length);return r.filter(e=>!(t(e.targetAddr)&&t(e.targetAddr+e.payloadSize-1)))})):Promise.resolve(r);var n}l.Wrapper=r,l.mkHF2PacketIOWrapper=function(e){return c.debug("packetio: wrapper hf2"),new r(e)},l.onlyChangedBlocksAsync=s}}(pxt=pxt||{}),function(i){{var a=i.HWDBG||(i.HWDBG={}),m=i.Util,g=i.HF2;const S=g.read32;let p,e,n,t,f,_,s,o,r=!1;function h(e){return 1&e?e>>1:0!=e?2&e?e==a.taggedNull?null:e!=a.taggedFalse&&(e==a.taggedTrue||{tagged:e>>2}):{ptr:e}:void 0}function c(e,t){var n;if(m.assert(!(3&e)),m.assert(0<=e),e<2097152)return n=new Uint8Array(t),e-=s.start,m.memcpy(n,0,s.buf,e,t),Promise.resolve(n);var r=o.maxMsgSize-32;if(r<t){for(var i=[];0<t;){var a=Math.min(r,t);i.push(c(e,a)),t-=a,e+=a}return Promise.all(i).then(m.uint8ArrayConcat)}return o.readWordsAsync(e,Math.ceil(t/4)).then(e=>e.length>t?e.slice(0,t):e)}function l(r){if("object"!=typeof r||!r)return Promise.resolve(r);if("number"!=typeof r.ptr)return Promise.resolve(r);{if(3&r.ptr)return Promise.resolve({unalignedPtr:r.ptr});let n=0;return c(r.ptr,56).then(t=>{n=g.read16(t,2);let e=t.length;return n==i.BuiltInType.BoxedString||n==i.BuiltInType.BoxedBuffer?e=g.read16(t,4)+6:n==i.BuiltInType.BoxedNumber&&(e=12),e>t.length?c(r.ptr+t.length,e-t.length).then(e=>m.uint8ArrayConcat([t,e])):e<t.length?t.slice(0,e):t}).then(e=>n==i.BuiltInType.BoxedString?m.uint8ArrayToString(e.slice(6)):n==i.BuiltInType.BoxedBuffer?{type:"buffer",data:e.slice(6)}:n==i.BuiltInType.BoxedNumber?new Float64Array(e.buffer.slice(4))[0]:{type:"unknown",tag:n,refcnt:g.read16(e,0),data:e.slice(4)})}}function y(n){var e=[];for(let t of Object.keys(n))e.push(l(n[t]).then(e=>{n[t]=e}));return Promise.all(e).then(()=>{})}function v(e){let t=p.breakpoints,n=t[0],r=1/0;for(var i of t){var a=e-i.binAddr;0<=a&&a<r&&(r=a,n=i)}return n}function u(t){if(r)return Promise.resolve();let d;return r=!0,k().then(r=>{var e=g.decodeU32LE(t)[0],i={};for(let n of p.procDebugInfo[0].locals){let e=r.globals,t=(()=>{switch(n.type){case"uint32":return g.read32(e,n.index);case"int32":return 0|g.read32(e,n.index);case"uint16":return g.read16(e,n.index);case"int16":return g.read16(e,n.index)<<16>>16;case"uint8":return e[n.index];case"int8":return e[n.index]<<24>>24;default:return null}})();null===t&&(m.assert(0==(3&n.index)),t=h(g.read32(e,n.index))),i[n.name]=t}return f=v(e),d={type:"debugger",subtype:"breakpoint",breakpointId:f.id,globals:i,stackframes:[]},n(),o.talkAsync(1888490768)}).then(e=>{{var a=g.decodeU32LE(e),s=d;let n=f.binAddr,r=0,i=p.procDebugInfo.filter(e=>e.codeStartLoc<=n&&n<=e.codeEndLoc)[0];for(;i&&i!=p.procDebugInfo[0];){var o,c=v(n),l=m.clone(c);l.functionName=i.name,l.argumentNames=i.args&&i.args.map(e=>e.name),s.stackframes.push({locals:{},funcInfo:l,breakpointId:c.id});let e=s.stackframes[s.stackframes.length-1],t=0;for(o of i.locals)m.assert(o.index==t++),e.locals[o.name]=h(a[r++]);n=2147483646&a[r++];var u,l=_[n+""];for(u of i.args)e.locals[u.name]=h(a[r+(i.args.length-1-u.index)]);if(!l)break;i=l.from,r+=l.stack-i.localsMark}}e=[d.globals].concat(d.stackframes.map(e=>e.locals));return m.promiseMapAll(e,y)}).then(()=>a.postMessage(d))}function d(){r=!1,e=new Promise((e,t)=>{n=e})}function b(e=!1){return Promise.resolve().then(()=>o.talkAsync(665147697,g.encodeU32LE([e?1:3]))).then(d)}function x(){return e=e||Promise.resolve()}function k(){return(t?Promise.resolve(t):o.talkAsync(1409050336).then(e=>t={numGlobals:S(e,0),globalsPtr:S(e,4)})).then(e=>o.readWordsAsync(e.globalsPtr,e.numGlobals)).then(e=>({staticState:t,globals:e}))}a.taggedUndefined=0,a.taggedNull=6,a.taggedFalse=10,a.taggedTrue=66,a.postMessage=e=>console.log(e),a.decodeValue=h,a.heapExpandAsync=l,a.heapExpandMapAsync=y,a.startDebugAsync=function(i,e){return(o=e).onEvent(915601917,u),r=!1,p=null,t=null,Promise.resolve().then(()=>{p=i,_={};var e,t,n=[];for(e of i.procDebugInfo)n[e.idx]=e;for(t of i.procDebugInfo)for(var r of t.calls)_[r.addr+""]={from:t,to:n[r.procIndex],stack:r.stack}}).then(()=>{var e=p.outfiles[pxtc.BINARY_UF2],e=m.stringToUint8Array(atob(e));return s=pxtc.UF2.toBin(e),o.reflashAsync(p).then(()=>o.reconnectAsync())}).then(()=>o.talkAsync(287358355).catch(e=>{})).then(()=>m.delay(200)).then(()=>o.reconnectAsync()).then(d).then(x)},a.handleMessage=function(t){if(console.log("HWDBGMSG",t),"debugger"==t.type){let e=!1;switch(t.subtype){case"stepinto":e=!0;case"stepover":b(e)}}},a.resumeAsync=b,a.waitForHaltAsync=x,a.getHwStateAsync=k}}(pxt=pxt||{}),function(_){_.ImageConverter=class{logTime(){var e;this.start&&(e=Date.now()-this.start,_.debug("Icon creation: "+e+"ms"))}convert(e){this.start||(this.start=Date.now());let t=atob(e.slice(e.indexOf(",")+1)),n=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2);if(135===n&&(n=224|t.charCodeAt(1),r=t.charCodeAt(2)|t.charCodeAt(3)<<8,i=t.charCodeAt(4)|t.charCodeAt(5)<<8,t=t.slice(4)),225!=n&&228!=n)return null;if(!this.palette){var a=_.appTarget.runtime.palette.map(function(e){e=parseInt(e.replace(/#/,""),16);return[e>>0&255,e>>8&255,e>>16&255,255]});a[0][3]=0,this.palette=new Uint8Array(4*a.length);for(let e=0;e<a.length;++e)this.palette[4*e+0]=a[e][0],this.palette[4*e+1]=a[e][1],this.palette[4*e+2]=a[e][2],this.palette[4*e+3]=a[e][3]}return 225==n?this.genMonochrome(t,r,i):(e=(_.BrowserUtils.isEdge()||_.BrowserUtils.isIE())&&r<100&&i<100?3:1,this.genColor(t,r,i,e))}genMonochrome(t,n,r){var i=n+3&-4,a=54+this.palette.length,e=a+i*r,s=new Uint8Array(e);s[0]=66,s[1]=77,_.HF2.write32(s,2,e),_.HF2.write32(s,10,a),_.HF2.write32(s,14,40),_.HF2.write32(s,18,n),_.HF2.write32(s,22,-r),_.HF2.write16(s,26,1),_.HF2.write16(s,28,8),_.HF2.write32(s,38,2835),_.HF2.write32(s,42,2835),_.HF2.write32(s,46,this.palette.length>>2),s.set(this.palette,54);let o=4,c=a,l=1,u=t.charCodeAt(o++);for(let e=0;e<n;++e){c=a+e;for(let e=0;e<r;++e)s[c]=u&l?1:0,c+=i,256==(l<<=1)&&(l=1,u=t.charCodeAt(o++))}return"data:image/bmp;base64,"+btoa(_.U.uint8ArrayToString(s))}genColor(a,e,s,o){var t=e*(o=Math.max(1,0|o)),c=s*o,l=t<<2,e=138+l*c,u=new Uint8Array(e);u[0]=66,u[1]=77,_.HF2.write32(u,2,e),_.HF2.write32(u,10,138),_.HF2.write32(u,14,124),_.HF2.write32(u,18,t),_.HF2.write32(u,22,-c),_.HF2.write16(u,26,1),_.HF2.write16(u,28,32),_.HF2.write16(u,30,3),_.HF2.write32(u,38,2835),_.HF2.write32(u,42,2835),_.HF2.write32(u,54,16711680),_.HF2.write32(u,58,65280),_.HF2.write32(u,62,255),_.HF2.write32(u,66,4278190080),u[70]=66,u[71]=71,u[72]=82,u[73]=115;let d=4,p=138,f=!0;for(let i=0;i<t;i++){let t=!1,e=(p=138+(i<<2),d),n=a.charCodeAt(d++),r=t?(n>>4&15)<<2:(15&n)<<2;for(let e=0;e<c;e++)n&&(f=!1),u[p]=this.palette[r],u[p+1]=this.palette[r+1],u[p+2]=this.palette[r+2],u[p+3]=this.palette[r+3],p+=l,e%o==o-1&&(t&&(n=a.charCodeAt(d++)),t=!t,r=t?(n>>4&15)<<2:(15&n)<<2);if(f&&(u[141]=1),i%o==o-1)for(s%2||--d;3&d;)d++;else d=e}return"data:image/bmp;base64,"+btoa(_.U.uint8ArrayToString(u))}}}(pxt=pxt||{}),function(a){function s(){const t={"tsconfig.json":r.TS_CONFIG,"test.ts":`// ${lf("tests go here; this will not be compiled when this package is used as an extension.")}
`,"_config.yml":"makecode:\n  target: @TARGET@\n  platform: @PLATFORM@\n  home_url: @HOMEURL@\ntheme: jekyll-theme-slate\ninclude:\n  - assets\n  - README.md\n",Makefile:"all: deploy\n\nbuild:\n\tpxt build\n\ndeploy:\n\tpxt deploy\n\ntest:\n\tpxt test\n",Gemfile:"source 'https://rubygems.org'\ngem 'github-pages', group: :jekyll_plugins","README.md":`
> ${lf("Open this page at {0}","[https://@REPOOWNER@.github.io/@REPONAME@/](https://@REPOOWNER@.github.io/@REPONAME@/)")}

## ${lf("Use as Extension")}

${lf("This repository can be added as an **extension** in MakeCode.")}

* ${lf("open [@HOMEURL@](@HOMEURL@)")}
* ${lf("click on **New Project**")}
* ${lf("click on **Extensions** under the gearwheel menu")}
* ${lf("search for **https://github.com/@REPO@** and import")}

## ${lf("Edit this project")} ![${lf("Build status badge")}](https://github.com/@REPO@/workflows/MakeCode/badge.svg)

${lf("To edit this repository in MakeCode.")}

* ${lf("open [@HOMEURL@](@HOMEURL@)")}
* ${lf("click on **Import** then click on **Import URL**")}
* ${lf("paste **https://github.com/@REPO@** and click import")}

## ${lf("Blocks preview")}

${lf("This image shows the blocks code from the last commit in master.")}
${lf("This image may take a few minutes to refresh.")}

![${lf("A rendered view of the blocks")}](https://github.com/@REPO@/raw/master/.github/makecode/blocks.png)

#### ${lf("Metadata (used for search, rendering)")}

* for PXT/@TARGET@
<script src="https://makecode.com/gh-pages-embed.js"></script><script>makeCodeRender("{{ site.makecode.home_url }}", "{{ site.github.owner_name }}/{{ site.github.repository_name }}");</script>
`,".gitignore":"# MakeCode\nbuilt\nnode_modules\nyotta_modules\nyotta_targets\npxt_modules\n_site\n*.db\n*.tgz\n.header.json\n.simstate.json\n",".vscode/settings.json":'{\n    "editor.formatOnType": true,\n    "files.autoSave": "afterDelay",\n    "files.watcherExclude": {\n        "**/.git/objects/**": true,\n        "**/built/**": true,\n        "**/node_modules/**": true,\n        "**/yotta_modules/**": true,\n        "**/yotta_targets": true,\n        "**/pxt_modules/**": true\n    },\n    "files.associations": {\n        "*.blocks": "html",\n        "*.jres": "json"\n    },\n    "search.exclude": {\n        "**/built": true,\n        "**/node_modules": true,\n        "**/yotta_modules": true,\n        "**/yotta_targets": true,\n        "**/pxt_modules": true\n    }\n}',".github/workflows/makecode.yml":"name: MakeCode\n\non: [push]\n\njobs:\n  build:\n\n    runs-on: ubuntu-latest\n\n    strategy:\n      matrix:\n        node-version: [14.x]\n\n    steps:\n      - uses: actions/checkout@v1\n      - name: Use Node.js ${{ matrix.node-version }}\n        uses: actions/setup-node@v1\n        with:\n          node-version: ${{ matrix.node-version }}\n      - name: npm install\n        run: |\n          npm install -g pxt\n          pxt target @TARGET@\n      - name: build\n        run: |\n          pxt install\n          pxt build --cloud\n        env:\n          CI: true\n",".github/workflows/cfg-check.yml":"name: Check pxt.json\n\non:\n  push:\n    branches:\n      - 'master'\n      - 'main'\n\njobs:\n  check-cfg:\n    runs-on: ubuntu-latest\n    strategy:\n      matrix:\n        node-version: [14.x]\n    steps:\n      - uses: actions/checkout@v2\n      - name: Use Node.js ${{ matrix.node-version }}\n        uses: actions/setup-node@v1\n        with:\n          node-version: ${{ matrix.node-version }}\n      - name: npm install\n        run: |\n          npm install -g pxt\n          pxt target @TARGET@\n      - name: Checkout current state\n        run: |\n          git checkout -- .\n          git clean -fd\n      - name: Fix files listed in config if necessary\n        run: pxt checkpkgcfg\n      - name: Create Pull Request\n        uses: peter-evans/create-pull-request@v3\n        continue-on-error: true\n        with:\n          title: 'Removing missing files from pxt.json'\n          commit-message: 'Removing missing files from pxt.json'\n          delete-branch: true\n",".vscode/tasks.json":'\n// A task runner that calls the MakeCode (PXT) compiler\n{\n    "version": "2.0.0",\n    "tasks": [{\n        "label": "pxt deploy",\n        "type": "shell",\n        "command": "pxt deploy --local",\n        "group": "build",\n        "problemMatcher": [ "$tsc" ]\n    }, {\n        "label": "pxt build",\n        "type": "shell",\n        "command": "pxt build --local",\n        "group": "build",\n        "problemMatcher": [ "$tsc" ]\n    }, {\n        "label": "pxt install",\n        "type": "shell",\n        "command": "pxt install",\n        "group": "build",\n        "problemMatcher": [ "$tsc" ]\n    }, {\n        "label": "pxt clean",\n        "type": "shell",\n        "command": "pxt clean",\n        "group": "test",\n        "problemMatcher": [ "$tsc" ]\n    }]\n}\n'},n=e();return n&&Object.keys(n).forEach(e=>t[e]=n[e]),t}function e(){var e=a.appTarget.bundledpkgs[a.template.TEMPLATE_PRJ];if(e)return delete(e=a.Util.clone(e))[a.CONFIG_NAME],e}var r;(r=a.template||(a.template={})).TS_CONFIG='{\n    "compilerOptions": {\n        "target": "ES5",\n        "noImplicitAny": true,\n        "outDir": "built",\n        "rootDir": "."\n    },\n    "exclude": ["pxt_modules/**/*test.ts"]\n}\n',r.defaultFiles=s,r.targetTemplateFiles=e,r.TEMPLATE_PRJ="template",r.packageFiles=function(e){var t=a.appTarget.blocksprj||a.appTarget.tsprj,n=a.U.clone(t.config),r=(delete n.installedVersion,delete n.additionalFilePath,delete n.additionalFilePaths,n.preferredEditor=n.files.find(e=>/\.blocks$/.test(e))?a.BLOCKS_PROJECT_NAME:a.JAVASCRIPT_PROJECT_NAME,n.name=e,n.public=!0,n.version||(n.version="0.0.0"),{}),i=s();for(const a in i)r[a]=i[a];for(const a in t.files)"README.md"!=a&&(r[a]=t.files[a]);e=Object.keys(r).filter(e=>/\.(blocks|md|ts|asm|cpp|h|py)$/.test(e));return n.files=e.filter(e=>!/test/.test(e)),n.testFiles=e.filter(e=>/test/.test(e)),n.supportedTargets=[a.appTarget.id],r[a.CONFIG_NAME]=a.Package.stringifyConfig(n),r},r.packageFilesFixup=function(n,e){const r=JSON.parse(n[a.CONFIG_NAME]);e&&a.Util.jsonMergeFrom(r,e),a.webConfig&&(Object.keys(a.webConfig).forEach(e=>r[e.toLowerCase()]=a.webConfig[e]),r.platform=a.appTarget.platformid||a.appTarget.id,r.target=a.appTarget.id,r.docs=a.appTarget.appTheme.homeUrl||"./",r.homeurl=a.appTarget.appTheme.homeUrl||"???"),a.U.iterMap(n,(e,t)=>{t=t.replace(/@([A-Z]+)@/g,(e,t)=>r[t.toLowerCase()]||""),n[e]=t})}}(pxt=pxt||{}),function(h){{var e=h.blocks||(h.blocks={}),t,n;let m,g;(t=m=e.NT||(e.NT={}))[t.Prefix=0]="Prefix",t[t.Postfix=1]="Postfix",t[t.Infix=2]="Infix",t[t.Block=3]="Block",t[t.NewLine=4]="NewLine",(t=g=e.GlueMode||(e.GlueMode={}))[t.None=0]="None",t[t.WithSpace=1]="WithSpace",t[t.NoSpace=2]="NoSpace";const x=["break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with"];function r(e){return"`"+e.replace(/[\\`${}]/g,e=>"\\"+e)+"`"}function i(e){return 20<e.length&&/\n/.test(e)?r(e):JSON.stringify(e)}function a(e,t,n){return{type:e,op:t,children:n}}function s(){return a(m.NewLine,"",[])}function o(e,t){return a(m.Prefix,e,t)}function c(e,t,n){return a(m.Infix,t,null==e?[n]:[e,n])}function y(e){return o(e,[])}function l(e){return a(m.Block,"",e)}function v(e){return o("",e)}function u(e,t=!1){var n=[];for(const r of e)t?(0<n.length&&n.push(y(",")),n.push(s())):0<n.length&&n.push(y(", ")),n.push(r);return t&&n.push(s()),v(n)}function d(e,t,n=!1,r=!1){return v(r?[c(t[0],".",y(e)),y("("),u(t.slice(1),n),y(")")]:[y(e),y("("),u(t,n),y(")")])}function p(e,t,n,r){return d(e+"."+t,n,r)}function f(e,t){return h.U.assert(2==t.length),c(t[0],e,t[1])}e.backtickLit=r,e.stringLit=i,e.mkNode=a,e.mkNewLine=s,e.mkPrefix=o,e.mkPostfix=function(e,t){return a(m.Postfix,t,e)},e.mkInfix=c,e.mkText=y,e.mkBlock=l,e.mkGroup=v,e.mkStmt=function(...e){var t=e[e.length-1];return t&&t.type==m.Block||e.push(s()),v(e)},e.mkCommaSep=u,(n=t=e.Helpers||(e.Helpers={})).mkArrayLiteral=function(e,t){return v([y("["),u(e,t),y("]")])},n.mkNumberLiteral=function(e){return y(e.toString())},n.mkBooleanLiteral=function(e){return y(e?"true":"false")},n.mkStringLiteral=function(e){return y(i(e))},n.mkPropertyAccess=function(e,t){return v([c(t,".",y(e))])},n.mkCall=d,n.stdCall=function(e,t,n){return d(e,t,n)},n.extensionCall=function(e,t,n){return d(e,t,n,!0)},n.namespaceCall=p,n.mathCall=function(e,t){return p("Math",e,t,!1)},n.mkGlobalRef=y,n.mkSimpleCall=f,n.mkWhile=function(e,t){return v([y("while ("),e,y(")"),l(t)])},n.mkComment=function(e){return y("// "+e)},n.mkMultiComment=function(e){let r=[y("/**"),s()];return e.split("\n").forEach((e,t,n)=>{e&&(r.push(y(" * "+e)),r.push(s()),t<n.length-1)&&(r.push(y(" * ")),r.push(s()))}),v(r.concat([y(" */"),s()]))},n.mkAssign=function(e,t){return f("=",[e,t])},n.mkParenthesizedExpression=function(e){return b(_([e]).output)?e:v([y("("),e,y(")")])},e.H=t;const k={"=":3,"+=":3,"-=":3,"?":4,":":4,"||":5,"&&":6,"|":7,"^":8,"&":9,"==":10,"!=":10,"===":10,"!==":10,"<":11,">":11,"<=":11,">=":11,">>":12,">>>":12,"<<":12,"+":13,"-":13,"*":14,"/":14,"%":14,"**":15,"!":16,"~":16,"P-":16,"P+":16,"++":16,"--":16,".":18};function _(e){let s=[],o={},c="",l="",u=[{}],d=0;function p(e){"string"==typeof e&&(d+=(e.match(/\n/g)||[]).length),c+=e}e=v(e);return function e(n,r){if(n.type!=m.Infix)for(var t of n.children)e(t,-1);else{let t=[];var i,a=h.U.lookup(k,n.op);function s(e){"P"==e[0]&&(e=e.slice(1)),t.push(y(e))}null==a&&h.U.oops("bad infix op: "+n.op),a<r&&s("("),1==n.children.length?(s(n.op),e(n.children[0],a),t.push(n.children[0])):(i=3!=a&&"**"!=n.op,e(n.children[0],i?a:a+.1),t.push(n.children[0]),"."==n.op?s("."):s(" "+n.op+" "),e(n.children[1],i?a+.1:a),t.push(n.children[1])),a<r&&s(")"),n.type=m.Prefix,n.op="",n.children=t}}(e,-1),function i(e){e.glueToBlock&&(_(),e.glueToBlock==g.WithSpace)&&p(" ");let t=d,n=c.length;switch(e.type){case m.Infix:h.U.oops("no infix should be left");break;case m.NewLine:p("\n"+l);break;case m.Block:!function(e){let t=e.noFinalNewline?"":"\n";if(0==e.children.length)return f(" {\n\t\n}"+t);let n=h.U.clone(u[u.length-1]||{});u.push(n),l+="    "," "!=c[c.length-1]&&f(" "),f("{\n");for(var r of e.children)i(r);l=l.slice(4),_(),f("\n}"+t),u.pop()}(e);break;case m.Prefix:e.canIndentInside?p(e.op.replace(/\n/g,"\n"+l+"    ")):p(e.op),e.children.forEach(i);break;case m.Postfix:e.children.forEach(i),e.canIndentInside?p(e.op.replace(/\n/g,"\n"+l+"    ")):p(e.op)}let r=d,a=Math.max(c.length,1);if(e.id)if(o[e.id]){const h=o[e.id];h.startLine=Math.min(h.startLine,t),h.endLine=Math.max(h.endLine,r),h.startPos=Math.min(h.startPos,n),h.endPos=Math.max(h.endPos,a)}else{const h={id:e.id,startLine:t,startPos:n,endLine:r,endPos:a};o[e.id]=h,s.push(h)}}(e),c||p("\n"),{output:c,sourceMap:s};function f(e){p(e.replace(/\n/g,"\n"+l))}function _(){c=c.replace(/\n *$/,function(){return d--,""})}}function b(n){if("("===n[0]&&")"===n[n.length-1]){let t=1;for(let e=1;e<n.length;e++){var r=n[e];if("("===r)t++;else if(")"===r&&0===--t)return e===n.length-1}}return!1}e.flattenNode=_,e.isReservedWord=function(e){return-1!==x.indexOf(e)},e.isParenthesized=b}}(pxt=pxt||{}),function(l){{var s=l.sprite||(l.sprite={});const x=[".","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];s.BLOCKLY_TILESET_TYPE="BLOCKLY_TILESET_TYPE",s.TILE_PREFIX="tile",s.TILE_NAMESPACE="myTiles",s.IMAGES_NAMESPACE="myImages",s.IMAGE_PREFIX="image",s.ANIMATION_NAMESPACE="myAnimations",s.ANIMATION_PREFIX="anim";class k{constructor(e,t,n=0,r=0,i){this.width=e,this.height=t,this.x0=n,this.y0=r,this.width||(this.width=16),this.height||(this.height=16),this.buf=i||new Uint8ClampedArray(this.dataLength())}static fromData(e){return new k(e.width,e.height,e.x0,e.y0,e.data)}set(e,t,n){e<this.width&&t<this.height&&0<=e&&0<=t&&(e=this.coordToIndex(e,t),this.setCore(e,n))}get(e,t){return e<this.width&&t<this.height&&0<=e&&0<=t?(e=this.coordToIndex(e,t),this.getCore(e)):0}copy(n=0,r=0,e=this.width,i=this.height){var a=new k(e,i);a.x0=n,a.y0=r;for(let t=0;t<e;t++)for(let e=0;e<i;e++)a.set(t,e,this.get(n+t,r+e));return a}apply(n,r=!1){var i;for(let t=0;t<n.width;t++)for(let e=0;e<n.height;e++)!(i=n.get(t,e))&&r||this.set(n.x0+t,n.y0+e,i)}equals(t){if(this.width!==t.width||this.height!==t.height||this.x0!==t.x0||this.y0!==t.y0||this.buf.length!==t.buf.length)return!1;for(let e=0;e<this.buf.length;e++)if(this.buf[e]!==t.buf[e])return!1;return!0}data(){return{width:this.width,height:this.height,x0:this.x0,y0:this.y0,data:this.buf}}resize(e,t){return a(this,e,t)}coordToIndex(e,t){return e+t*this.width}getCore(e){var t=Math.floor(e/2);return e%2==0?15&this.buf[t]:(240&this.buf[t])>>4}setCore(e,t){var n=Math.floor(e/2);this.buf[n]=e%2==0?240&this.buf[n]|15&t:15&this.buf[n]|(15&t)<<4}dataLength(){return Math.ceil(this.width*this.height/2)}}class S extends(s.Bitmap=k){static fromData(e){return new S(e.width,e.height,e.x0,e.y0,e.data)}copy(n=0,r=0,e=this.width,i=this.height){var a=new S(e,i);a.x0=n,a.y0=r;for(let t=0;t<e;t++)for(let e=0;e<i;e++)a.set(t,e,this.get(n+t,r+e));return a}resize(e,t){return u(this,e,t)}getCore(e){return this.buf[e]}setCore(e,t){this.buf[e]=t}dataLength(){return this.width*this.height}}s.Tilemap=S;class T{constructor(e,t,n){this.tilemap=e,this.tileset=t,this.layers=n,this.nextId=0}cloneData(){var e=this.tilemap.copy(),t={tileWidth:this.tileset.tileWidth,tiles:this.tileset.tiles.map(e=>Object.assign(Object.assign({},e),{bitmap:k.fromData(e.bitmap).copy().data()}))},n=k.fromData(this.layers).copy().data();return new T(e,t,n)}equals(t){if(!this.tilemap.equals(t.tilemap)||this.tileset.tileWidth!=t.tileset.tileWidth||this.tileset.tiles.length!=t.tileset.tiles.length||!e(this.layers,t.layers))return!1;for(let e=0;e<this.tileset.tiles.length;e++)if(!l.assetEquals(this.tileset.tiles[e],t.tileset.tiles[e]))return!1;return!0}}function n(e){return t(atob(e.slice(e.indexOf(",")+1)))}function t(i){let e=i.charCodeAt(0),a=i.charCodeAt(1),s=i.charCodeAt(2);135===e&&(e=224|i.charCodeAt(1),a=i.charCodeAt(2)|i.charCodeAt(3)<<8,s=i.charCodeAt(4)|i.charCodeAt(5)<<8,i=i.slice(4));var o=new l.sprite.Bitmap(a,s);let c=4;if(225===e){let n=1,r=i.charCodeAt(c++);for(let t=0;t<a;++t)for(let e=0;e<s;++e)o.set(t,e,r&n?1:0),256==(n<<=1)&&(n=1,r=i.charCodeAt(c++))}else for(let t=0;t<a;t++){for(let e=0;e<s;e+=2){var n=i.charCodeAt(c++);o.set(t,e,15&n),e!=s-1&&o.set(t,e+1,n>>4&15)}for(;3&c;)c++}return o}function o(e,t){!(e=(e=(e=e.replace(/[ `]|(?:&#96;)|(?:&#9;)|(?:hex)/g,"").trim()).replace(/^["`\(\)]*/,"").replace(/["`\(\)]*$/,"")).replace(/&#10;/g,"\n"))&&t&&(e=t);var t=parseInt(e.substr(0,2),16)|parseInt(e.substr(2,2),16)<<8,n=parseInt(e.substr(4,2),16)|parseInt(e.substr(6,2),16)<<8,e=h(e.substring(8));return S.fromData({width:t,height:n,x0:0,y0:0,data:e})}function r(e){return""+i(e.width,2)+i(e.height,2)+y(e.data().data)}function c(e,r){return(e=e.replace(/[\[\]]/g,""))?e.split(",").filter(e=>!!e.trim()).map(e=>{var t=e,n=r;if(0===(t=t.trim()).indexOf("img"))return e=d(t),n.createNewTile(e.data());switch(t){case"myTiles.tile0":case"myTiles.transparency16":return n.getTransparency(16);case"myTiles.transparency8":return n.getTransparency(8);case"myTiles.transparency32":return n.getTransparency(32);default:return n.resolveTile(t)}}):[]}function i(e,t){let n=e.toString(16);var r=t<<1;for(1&n.length&&(n="0"+n);n.length<r;)n+="0";return n}function a(e,t,n){t=new k(t,n);return t.apply(e),t}function u(e,t,n){t=new S(t,n);return t.apply(e),t}function d(e){const n=(e=(e=(e=e.replace(/[ `]|(?:&#96;)|(?:&#9;)|(?:img)/g,"").trim()).replace(/^["`\(\)]*/,"").replace(/["`\(\)]*$/,"")).replace(/&#10;/g,"\n")).split("\n"),r=[];let i=0;for(let e=0;e<n.length;e++){const k=n[e],a=[];for(let e=0;e<k.length;e++)switch(k[e]){case"0":case".":a.push(0);break;case"1":case"#":a.push(1);break;case"2":case"T":a.push(2);break;case"3":case"t":a.push(3);break;case"4":case"N":a.push(4);break;case"5":case"n":a.push(5);break;case"6":case"G":a.push(6);break;case"7":case"g":a.push(7);break;case"8":a.push(8);break;case"9":a.push(9);break;case"a":case"A":case"R":a.push(10);break;case"b":case"B":case"P":a.push(11);break;case"c":case"C":case"p":a.push(12);break;case"d":case"D":case"O":a.push(13);break;case"e":case"E":case"Y":a.push(14);break;case"f":case"F":case"W":a.push(15);break;default:if(!/\s/.test(k[e]))return}a.length&&(r.push(a),i=Math.max(i,a.length))}const a=r.length,s=new k(i,a);for(let t=0;t<a;t++){const n=r[t];for(let e=0;e<i;e++)e<n.length?s.set(e,t,n[e]):s.set(e,t,0)}return s}function p(e){let t="";return t="python"===e?'img("""':"img`"}function f(e){let t="";return t+="python"===e?'""")':"`"}function _(n,r){if(!n||0===n.height||0===n.width)return"";let i=p(r);if(n){const r=300<n.width*n.height?"":" ";for(let t=0;t<n.height;t++){i+="\n";for(let e=0;e<n.width;e++)i+=x[n.get(e,t)]+r}}return i=(i+="\n")+f(r)}function e(e,t){return l.sprite.Bitmap.fromData(e).equals(l.sprite.Bitmap.fromData(t))}function m(e){switch(e){case 8:return"TileScale.Eight";case 16:return"TileScale.Sixteen";case 32:return"TileScale.ThirtyTwo";default:return Math.floor(Math.log2(e)).toString()}}function g(e){switch(e=e.replace(/\s/g,"")){case"TileScale.Eight":return 8;case"TileScale.Sixteen":return 16;case"TileScale.ThirtyTwo":return 32;default:return Math.pow(2,parseInt(e))}}function h(t){var n=new Uint8ClampedArray(t.length>>1);for(let e=0;e<t.length;e+=2)n[e>>1]=parseInt(t.slice(e,e+2),16);return n}function y(t){var n="0123456789abcdef";let r="";for(let e=0;e<t.length;++e)r=(r+=n[t[e]>>4])+n[15&t[e]];return r}function v(e,t,n){e[t]=255&n,e[t+1]=n>>8&255}function b(e){e=function(e){if(e){if(6===e.length)return parseInt("0x"+e);if(7===e.length)return parseInt("0x"+e.substr(1))}return 0}(e);return[e>>16&255,e>>8&255,255&e]}s.TilemapData=T,s.Bitmask=class{constructor(e,t){this.width=e,this.height=t,this.mask=new Uint8Array(Math.ceil(e*t/8))}set(e,t){e+=this.width*t;this.mask[e>>3]|=1<<(7&e)}get(e,t){e+=this.width*t;return this.mask[e>>3]>>(7&e)&1}},s.encodeTilemap=function(e,t){return e?`tiles.createTilemap(${n=e.tilemap,n?`hex\`${r(n)}\``:"hex``"}, ${_(k.fromData(e.layers),t)}, [${e.tileset.tiles.map(e=>e.id)}], ${m(e.tileset.tileWidth)})`:"null";var n},s.decodeTilemap=function(e,t,n){var r,i,a;return(e=l.Util.htmlUnescape(e).trim()).trim()?(r=(e=(e=e.substr(e.indexOf("(")+1)).substr(0,e.lastIndexOf(")"))).substr(0,e.indexOf(",")),i=(e=e.substr(r.length+1)).substr(0,e.indexOf(",")),a=(e=e.substr(i.length+1)).substr(0,e.lastIndexOf("]")+1),e=e=e.substr(a.length+1),new T(o(r),{tiles:c(a,n),tileWidth:g(e)},d(i).data())):null},s.trimTilemapTileset=function(e){const n=e.tileset.tiles.slice(),r=e.tilemap,i={};i[n[0].id]=!0;for(let t=0;t<r.width;t++)for(let e=0;e<r.height;e++)i[n[r.get(t,e)].id]=!0;const t=e.editedTiles||[],a=n.filter(e=>i[e.id]||"*"===e.id.charAt(0)||-1!==t.indexOf(e.id));if(a.length!==n.length){var s=[];for(let e=0;e<n.length;e++)s.push(a.indexOf(n[e]));for(let t=0;t<r.width;t++)for(let e=0;e<r.height;e++)r.set(t,e,s[r.get(t,e)]);e.tileset.tiles=a}},s.isEmptyTilemap=function(e){var n=e.tileset.tiles,r=e.tilemap,i=n[0].id;for(let t=0;t<r.width;t++)for(let e=0;e<r.height;e++)if(n[r.get(t,e)].id!==i)return!1;return!0},s.computeAverageColor=function(n,e){var r=e.map(b),i=[0,0,0];let a=0;for(let t=0;t<n.width;t++)for(let e=0;e<n.height;e++){var s=n.get(t,e);if(s){++a;const n=r[s];i[0]+=n[0],i[1]+=n[1],i[2]+=n[2]}}return a?"#"+function(t){let n="";for(let e=0;e<t.length;++e)n+=("0"+t[e].toString(16)).slice(-2);return n}(i.map(e=>Math.floor(e/a))):"#00000000"},s.getBitmap=function(e,t){e=e.apis.byQName[t];return e?n(e.attributes.jresURL):null},s.getBitmapFromJResURL=n,s.hexToBitmap=t,s.filterItems=function(e,t){const i=(t=t.filter(e=>!!e).map(e=>e.toLowerCase())).filter(e=>0!==e.indexOf("!")),a=t.filter(e=>0===e.indexOf("!")&&1<e.length).map(e=>e.substring(1));return e.filter(e=>{return r=e,i.every(t=>{const n="?"+t;return r.tags.some(e=>e===t||e===n)})&&(n=e,a.every(t=>!n.tags.some(e=>e===t)));var n,r})},s.getGalleryItems=function(e,t){r=e.apis,i=t;let n=l.Util.values(r.byQName).filter(e=>{return 4===e.kind&&e.attributes.fixedInstance&&((e=e.retType)==i||!(!(e=r.byQName[e])||!e.extendsTypes)&&0<=e.extendsTypes.indexOf(i))});var r,i;n=n.filter(e=>e.namespace!=s.TILE_NAMESPACE);{e=n;const a=new l.ImageConverter;e.forEach(e=>{e.attributes.jresURL&&!e.attributes.iconURL&&0==e.attributes.jresURL.indexOf("data:image/x-mkcd-f")&&(e.attributes.iconURL=a.convert(e.attributes.jresURL))})}return n.map(e=>{var t=(e.attributes.tags||"").split(" ").filter(e=>!!e).map(e=>l.Util.startsWith(e,"category-")?e:e.toLowerCase());return{qName:e.qName,src:e.attributes.iconURL,alt:e.qName,tags:t}})},s.base64EncodeBitmap=function(e){const n=k.fromData(e),t=pxtc.f4EncodeImg(e.width,e.height,4,(e,t)=>n.get(e,t));return btoa(l.U.uint8ArrayToString(h(t)))},s.tilemapLiteralToTilemap=o,s.hexEncodeTilemap=r,s.formatByte=i,s.resizeBitmap=a,s.resizeTilemap=u,s.imageLiteralToBitmap=d,s.encodeAnimationString=function(e,t){const n=e.map(e=>e.data),r=new Uint8ClampedArray(8+n[0].length*n.length);v(r,0,t),v(r,2,e[0].width),v(r,4,e[0].height),v(r,6,e.length);let i=8;return n.forEach(e=>{r.set(e,i),i+=e.length}),btoa(l.sprite.uint8ArrayToHex(r))},s.addMissingTilemapTilesAndReferences=function(e,t){var n=e.getProjectTiles(t.data.tileset.tileWidth,!0);t.data.projectReferences=[];for(const r of n.tiles)t.data.tileset.tiles.some(e=>e.id===r.id)||t.data.tileset.tiles.push(r),e.isAssetUsed(r,null,[t.id])&&t.data.projectReferences.push(r.id)},s.updateTilemapReferencesFromResult=function(t,n){var r=n.data;if(r.deletedTiles)for(const l of r.deletedTiles)t.deleteTile(l);if(r.editedTiles)for(const l of r.editedTiles){const n=r.tileset.tiles.findIndex(e=>e.id===l),e=r.tileset.tiles[n];e&&(r.tileset.tiles[n]=t.updateTile(e))}for(let e=0;e<r.tileset.tiles.length;e++){const n=r.tileset.tiles[e];n.jresData||(r.tileset.tiles[e]=t.resolveTile(n.id))}l.sprite.trimTilemapTileset(r)},s.imageLiteralFromDimensions=function(t,n,r,e){let i=p(e);var a=300<t*n?"":" ";for(let e=0;e<n;e++){i+="\n";for(let e=0;e<t;e++)i+=x[r]+a}return i=(i+="\n")+f(e)},s.bitmapToImageLiteral=_,s.bitmapEquals=e,s.tileWidthToTileScale=m,s.tileScaleToTileWidth=g,s.hexToUint8Array=h,s.uint8ArrayToHex=y,s.colorStringToRGB=b}}(pxt=pxt||{}),function(a){var s=a.sprite||(a.sprite={});{var e=s.legacy||(s.legacy={});const n=new RegExp(`^\\s*${s.TILE_NAMESPACE}\\s*\\.\\s*${s.TILE_PREFIX}(\\d+)\\s*$`);class c{constructor(e,t,n){this.tilemap=e,this.tileset=t,this.layers=n,this.nextId=0}}function o(e){return(e=e.replace(/[\[\]]/g,""))?e.split(",").filter(e=>!!e.trim()).map(e=>{return 0===(e=(e=e).trim()).indexOf("img")?{data:s.imageLiteralToBitmap(e).data()}:(t=n.exec(e))?{data:null,projectId:Number(t[1])}:{data:null,qualifiedName:e};var t}):[]}e.LegacyTilemapData=c,e.decodeTilemap=function(e,t){var n,r,i;return null!=(e=null==(n=a.Util.htmlUnescape(e))?void 0:n.trim())&&e.trim()?(n=(e=(e=e.substr(e.indexOf("(")+1)).substr(0,e.lastIndexOf(")"))).substr(0,e.indexOf(",")),r=(e=e.substr(n.length+1)).substr(0,e.indexOf(",")),i=(e=e.substr(r.length+1)).substr(0,e.lastIndexOf("]")+1),e=e=e.substr(i.length+1),new c(s.tilemapLiteralToTilemap(n),{tiles:o(i),tileWidth:s.tileScaleToTileWidth(e)},s.imageLiteralToBitmap(r).data())):new c(new s.Tilemap(16,16),{tileWidth:16,tiles:[]},new s.Bitmap(16,16).data())},e.tileToBlocklyVariable=function(e){return`${e.projectId};${e.data.width};${e.data.height};`+pxtc.Util.toHex(e.data.data)},e.blocklyVariableToTile=function(e){e=e.split(";");return 4!==e.length?null:{projectId:parseInt(e[0]),data:{width:parseInt(e[1]),height:parseInt(e[2]),data:new Uint8ClampedArray(pxtc.Util.fromHex(e[3])),x0:0,y0:0}}}}}(pxt=pxt||{}),function(r){{var e=r.storage||(r.storage={});class s{constructor(){this.items={}}removeItem(e){delete this.items[e]}getItem(e){return this.items[e]}setItem(e,t){this.items[e]=t}clear(){this.items={}}}class o{constructor(e){this.storageId=e}targetKey(e){return this.storageId+"/"+e}removeItem(e){window.localStorage.removeItem(this.targetKey(e))}getItem(e){return window.localStorage[this.targetKey(e)]}setItem(e,t){window.localStorage[this.targetKey(e)]=t}clear(){var t=this.targetKey(""),n=[];for(let e=0;e<window.localStorage.length;++e){var r=window.localStorage.key(e);0==r.indexOf(t)&&n.push(r)}n.forEach(e=>window.localStorage.removeItem(e))}}function i(){var e;return r.appTarget?r.appTarget.id:(e=window.pxtConfig)?e.targetId:(e=window.pxtTargetBundle)?e.id:""}let n;function a(){if(!n){var t=i();let e=!1;if(!r.shell.isSandboxMode())try{window.localStorage[t]="1",window.localStorage[t],e=!0}catch(e){}e?(n=new o(t),r.debug("storage: local under "+t)):(n=new s,r.debug("storage: in memory"))}}e.storageId=i,e.setLocal=function(e,t){a(),n.setItem(e,t)},e.getLocal=function(e){return a(),n.getItem(e)},e.removeLocal=function(e){a(),n.removeItem(e)},e.clearLocal=function(){a(),n.clear()}}}(pxt=pxt||{}),function(a){var e=a.storage||(a.storage={});{e=e.shared||(e.shared={});const c="http://localhost:3232/api/store/";function s(){return a.BrowserUtils.isLocalHostDev()&&!a.BrowserUtils.noSharedLocalStorage()}function o(){return a.BrowserUtils.isChromiumEdge()?"chromium-edge":a.BrowserUtils.browser()}e.getAsync=async function(e,t){if(s()){e+="-"+o();const s=await a.Util.requestAsync({url:""+c+encodeURIComponent(e)+"/"+encodeURIComponent(t),method:"GET",allowHttpErrors:!0});return s.json||s.text||void 0}{const c=a.storage.getLocal(e+":"+t),s=a.Util.jsonTryParse(c);return s||c}},e.setAsync=async function(e,t,n){if(void 0===n)await a.storage.shared.delAsync(e,t);else{var r="object"==typeof n?JSON.stringify(n):n.toString();if(s()){e+="-"+o();const s={type:"object"==typeof n?"json":"text",val:r},i=JSON.stringify(s);await a.Util.requestAsync({url:""+c+encodeURIComponent(e)+"/"+encodeURIComponent(t),method:"POST",data:i})}else a.storage.setLocal(e+":"+t,r)}},e.delAsync=async function(e,t){s()?(e+="-"+o(),await a.Util.requestAsync({url:""+c+encodeURIComponent(e)+"/"+encodeURIComponent(t),method:"DELETE",allowHttpErrors:!0})):a.storage.removeLocal(e+":"+t)}}}(pxt=pxt||{}),function(u){const r=["name","version","description","license","dependencies","files","testFiles","testDependencies","fileDependencies","public","targetVersions","supportedTargets","preferredEditor","languageRestriction","additionalFilePath","additionalFilePaths"];class d{constructor(e,t,n,r){this.id=e,this._verspec=t,this.parent=n,this.level=-1,this.isLoaded=!1,this.ignoreTests=!1,this.cppOnly=!1,r&&(this.level=r.level+1),this.addedBy=[r]}static stringifyConfig(e){var t=e,n={};for(const e of r)t.hasOwnProperty(e)&&(n[e]=t[e]);for(const e of Object.keys(t))n.hasOwnProperty(e)||(n[e]=t[e]);return JSON.stringify(n,null,4)+"\n"}static parseAndValidConfig(e){const t=u.Util.jsonTryParse(e);return t&&void 0!==t.name&&"string"==typeof t.name&&t.files&&Array.isArray(t.files)&&t.files.every(e=>"string"==typeof e)&&t.dependencies&&Object.keys(t.dependencies).every(e=>"string"==typeof t.dependencies[e])&&t}static getConfigAsync(t,n,r){return Promise.resolve().then(()=>{if(u.github.isGithubId(r)){const t=u.github.parseRepoId(r);return u.packagesConfigAsync().then(e=>u.github.repoAsync(t.fullName,e)).then(e=>e?u.github.pkgConfigAsync(t.fullName,t.tag):null)}var e=u.patching.upgradePackageReference(t,n,r),e=u.appTarget.bundledpkgs[e];return JSON.parse(e[u.CONFIG_NAME])})}static corePackages(){const t=u.appTarget.bundledpkgs;return Object.keys(t).map(e=>JSON.parse(t[e][u.CONFIG_NAME])).filter(e=>!!e)}disablesVariant(e){return this.config&&this.config.disablesVariants&&0<=this.config.disablesVariants.indexOf(e)}invalid(){return/^invalid:/.test(this.version())}version(){return this.resolvedVersion||this._verspec}verProtocol(){var e=this.version().split(":");return 1<e.length?e[0]:""}verArgument(){var e=this.verProtocol();return e?this.version().slice(e.length+1):this.version()}targetVersion(){return this.parent&&this.parent!=this?this.parent.targetVersion():this.config.targetVersions?this.config.targetVersions.target:void 0}commonDownloadAsync(){const e=this.verProtocol();if("pub"==e)return u.Cloud.downloadScriptFilesAsync(this.verArgument());if("github"==e)return u.packagesConfigAsync().then(e=>u.github.downloadPackageAsync(this.verArgument(),e)).then(e=>e.files);if("embed"==e){const e=u.getEmbeddedScript(this.verArgument());return Promise.resolve(e)}if("pkg"!=e)return Promise.resolve(null);{const e=(this.parent||this).readFile(this.verArgument()),t=ts.pxtc.Util.jsonTryParse(e);return t||u.log("unable to find "+this.verArgument()),Promise.resolve(t)}}host(){return this.parent._host}readFile(e){return this.host().readFile(this,e)}readGitJson(){var e=this.readFile(u.github.GIT_JSON);return u.Util.jsonTryParse(e)}resolveDep(e){return this.parent.deps.hasOwnProperty(e)?this.parent.deps[e]:null}saveConfig(){var e=u.U.clone(this.config),e=(delete e.additionalFilePaths,u.Package.stringifyConfig(e));this.host().writeFile(this,u.CONFIG_NAME,e)}setPreferredEditor(e){this.config.preferredEditor!=e&&(this.config.preferredEditor=e,this.saveConfig())}getPreferredEditor(){let e=this.config.preferredEditor;if(e)return e;{if(!(0<=this.getFiles().indexOf(u.MAIN_BLOCKS)))return u.JAVASCRIPT_PROJECT_NAME;const e=this.readFile(u.MAIN_BLOCKS),t=this.readFile(u.MAIN_TS);return!e&&t?u.JAVASCRIPT_PROJECT_NAME:u.BLOCKS_PROJECT_NAME}}parseJRes(e={}){for(const t of this.getFiles())u.U.endsWith(t,".jres")&&n(JSON.parse(this.readFile(t)),e);return e}resolveVersionAsync(){var e;let t=this._verspec;if(u.getEmbeddedScript(this.id))this.resolvedVersion=t="embed:"+this.id;else if(t&&"*"!=t){if("github"==this.verProtocol()){const n=u.github.parseRepoId(this._verspec);n&&!n.tag&&this.parent&&(u.debug("dep: unbound github extensions, trying to resolve tag"),e=u.semver.sortLatestTags(u.Util.values((null==(e=this.parent)?void 0:e.deps)||{}).map(e=>u.github.parseRepoId(e.version())).filter(e=>(null==e?void 0:e.slug)===n.slug).map(e=>e.tag))[0])&&(n.tag=e,this.resolvedVersion=t=u.github.stringifyRepo(n),u.debug(`dep: github patched ${this._verspec} to `+t))}}else this.configureAsInvalidPackage(lf("version not specified for {0}",this.id)),t=this._verspec;return Promise.resolve(t)}downloadAsync(){return this.resolveVersionAsync().then(e=>{if(this.invalid())u.debug("skip download of invalid package "+this.id);else if(/^embed:/.test(e)||this.installedVersion!=e)return u.debug("downloading "+e),this.host().downloadPackageAsync(this).then(()=>{this.loadConfig(),u.debug(`installed ${this.id} /`+e)})})}loadConfig(){var e;0!=this.level&&this.invalid()||((e=this.readFile(u.CONFIG_NAME))||u.U.userError(`extension ${this.id} is missing `+u.CONFIG_NAME),this.parseConfig(e),0!=this.level&&(this.installedVersion=this.version()),this.saveConfig())}validateConfig(){this.config.dependencies||u.U.userError("Missing dependencies in config of: "+this.id),Array.isArray(this.config.files)||u.U.userError("Missing files in config of: "+this.id),"string"==typeof this.config.name&&this.config.name||(this.config.name=lf("Untitled")),this.config.targetVersions&&this.config.targetVersions.target&&this.config.targetVersions.targetId===u.appTarget.id&&u.appTarget.versions&&0<u.semver.majorCmp(this.config.targetVersions.target,u.appTarget.versions.target)&&u.U.userError(lf("{0} requires target version {1} (you are running {2})",this.config.name,this.config.targetVersions.target,u.appTarget.versions.target))}isPackageInUse(n,e=this.readFile(u.MAIN_TS)){let r=null;var t=u.patching.computePatches(this.targetVersion(),"missingPackage");return t&&t.forEach(t=>{Object.keys(t.map).forEach(e=>{t.map[e]===n&&(r=new RegExp(e,"g"))})}),(r=r||new RegExp(n+"\\.","g")).test(e)}upgradePackagesAsync(){return this.config||this.loadConfig(),u.packagesConfigAsync().then(r=>{let i=0,a={};return u.U.iterMap(this.config.dependencies,(e,t)=>{var n;u.github.isGithubId(t)&&(n=u.github.upgradedPackageReference(r,t))&&n!=t&&(u.log(`upgrading dep ${e}: ${t} -> `+n),a[t]=n,this.config.dependencies[e]=n,i++)}),i&&this.saveConfig(),i&&a})}getMissingPackages(i,a){const e=u.patching.computePatches(this.targetVersion(),"missingPackage"),s={};return a&&e&&e.forEach(r=>{Object.keys(r.map).forEach(e=>{const t=new RegExp(e,"g"),n=r.map[e];a.replace(t,e=>(i.dependencies[n]||(s[n]="*"),""))})}),s}findConflictsAsync(e,o){let c,l=[];return Promise.resolve().then(()=>"string"==typeof e?d.getConfigAsync(this.targetVersion(),e,o):Promise.resolve(e)).then(s=>{if(c=s){const s=c.yotta?u.U.jsonFlatten(c.yotta.config):null;this.parent.sortedDeps().forEach(t=>{if(c.core&&t.config.core&&c.name!=t.config.name){const s=new u.cpp.PkgConflictError(lf("conflict between core extensions {0} and {1}",c.name,t.id));s.pkg0=t,void l.push(s)}else{let e=!1;if(s){const o=t.config||JSON.parse(t.readFile(u.CONFIG_NAME));if(o&&o.yotta&&t.config.yotta.config){var n=u.U.jsonFlatten(o.yotta.config);for(const a of Object.keys(s)){var r=n[a],i=c.yotta.configIsJustDefaults||o.yotta.configIsJustDefaults;if(n.hasOwnProperty(a)&&r!==s[a]&&!i&&(!t.parent.config.yotta||!t.parent.config.yotta.ignoreConflicts)){const s=new u.cpp.PkgConflictError(lf("conflict on yotta setting {0} between extensions {1} and {2}",a,c.name,t.id));s.pkg0=t,s.settingName=a,l.push(s),e=!0}}}}if(!e&&c.name===t.id&&t._verspec!==o&&!/^file:/.test(t._verspec)&&!/^file:/.test(o)){const s=/^github:/.test(t._verspec)&&u.github.parseRepoId(t._verspec),c=/^github:/.test(o)&&u.github.parseRepoId(o);if(!s||!c||s.fullName!==c.fullName||c.tag&&u.semver.strcmp(s.tag,c.tag)<0){const s=new u.cpp.PkgConflictError(lf("version mismatch for extension {0} (installed: {1}, installing: {2})",t.id,t._verspec,o));s.pkg0=t,s.isVersionConflict=!0,l.push(s)}}}})}return Object.keys(c.dependencies).reduce((e,t)=>e.then(()=>this.findConflictsAsync(t,c.dependencies[t])).then(e=>l.push.apply(l,e)),Promise.resolve())}).then(()=>{const r=e=>{const t=[];return e.addedBy.forEach(e=>{e.id!==this.id&&(t.push.apply(r(e)),t.push(e))}),t},e=[];return l.forEach(n=>{e.push.apply(e,r(n.pkg0).map(e=>{var t=new u.cpp.PkgConflictError(n.isVersionConflict?lf("a dependency of {0} has a version mismatch with extension {1} (installed: {1}, installing: {2})",e.id,c.name,n.pkg0._verspec,o):lf("conflict on yotta setting {0} between extensions {1} and {2}",n.settingName,c.name,n.pkg0.id));return t.pkg0=e,t}))}),l.push.apply(l,e),l=l.filter((t,n)=>{for(let e=0;e<n;++e)if(t.pkg0.id===l[e].pkg0.id)return!1;return!0})})}configureAsInvalidPackage(e){u.log(`invalid package ${this.id}: `+e),this._verspec="invalid:"+this.id,this.config={name:this.id,description:e,dependencies:{},files:[]}}parseConfig(e,t){try{const u=JSON.parse(e);this.config=u}catch(e){this.configureAsInvalidPackage(lf("Syntax error in pxt.json")),u.tickEvent("package.invalidConfigEncountered")}var n=JSON.stringify(this.config);for(const e in this.config.dependencies){const t=u.patching.upgradePackageReference(this.targetVersion(),e,this.config.dependencies[e]);t!=e&&(delete this.config.dependencies[e],t)&&(this.config.dependencies[t]="*")}t&&(this.config.targetVersions={target:t}),JSON.stringify(this.config)!=n&&this.saveConfig(),this.validateConfig()}patchCorePackage(){u.Util.assert(u.appTarget.simulator&&u.appTarget.simulator.dynamicBoardDefinition),u.Util.assert(0==this.level);const e=Object.keys(this.config.dependencies).filter(e=>!!e&&(e==u.BLOCKS_PROJECT_NAME||e==u.JAVASCRIPT_PROJECT_NAME||JSON.parse((u.appTarget.bundledpkgs[e]||{})[u.CONFIG_NAME]||"{}").core));if(0==e.length){const e=u.Package.corePackages();e.length&&this.config.dependencies[e[0].name]}else 1<e.length&&(e.pop(),e.forEach(e=>{u.log("removing core package "+e),delete this.config.dependencies[e]}))}resolvedDependencies(){return Object.keys(this.dependencies()).map(e=>this.resolveDep(e))}dependencies(e=!1){if(!this.config)return{};const n=u.Util.clone(this.config.dependencies||{});return 0==this.level&&this.config.testDependencies&&u.Util.iterMap(this.config.testDependencies,(e,t)=>{"*"==t&&!u.appTarget.bundledpkgs[e]||(n[e]=t)}),e&&this.config.cppDependencies&&u.Util.jsonMergeFrom(n,this.config.cppDependencies),n}loadAsync(s=!1,e){if(this.isLoaded)return Promise.resolve();let t=Promise.resolve();0!=this.level||u.appTarget.multiVariants||u.setAppTargetVariant(null),this.isLoaded=!0;const n=this.readFile(u.CONFIG_NAME),o=(null==n?s||u.U.userError("Package not installed: "+this.id+", did you forget to run `pxt install`?"):t=t.then(()=>this.parseConfig(n)),0!=this.level||s||(t=t.then(()=>this.upgradePackagesAsync().then(()=>{}))),s&&(t=t.then(()=>this.downloadAsync())),0==this.level&&s&&(t=t.then(()=>this.upgradePackagesAsync()).then(e=>e?(Object.keys(e).forEach(e=>u.tickEvent("package.doubleload",{extension:e})),u.log("upgraded, downloading again"),u.debug(e),this.downloadAsync()):Promise.resolve())),u.appTarget.simulator&&u.appTarget.simulator.dynamicBoardDefinition&&(t=(t=0==this.level?t.then(()=>this.patchCorePackage()):t).then(()=>{var e,t;this.config.compileServiceVariant&&u.setAppTargetVariant(this.config.compileServiceVariant),this.config.files.indexOf("board.json")<0||((e=u.appTarget.simulator.boardDefinition=JSON.parse(this.readFile("board.json"))).id=this.config.name,u.appTarget.appTheme.boardName=e.boardName||lf("board"),u.appTarget.appTheme.driveDisplayName=e.driveDisplayName||lf("DRIVE"),e=e=>{var t,n=/^pkg:\/\/(.*)/.exec(e);return n?(n=n[1],t=this.readFile(n),u.U.toDataUri(t,u.U.getMime(n))):e},"object"==typeof(t=u.appTarget.simulator.boardDefinition).visual&&((t=t.visual).image=e(t.image),t.outlineImage=e(t.outlineImage)))})),(e,t)=>{if(u.debug(`version spec mismatch: ${e._verspec} != `+t),/^github:/.test(e._verspec)&&/^github:/.test(t)){var n=u.github.parseRepoId(e._verspec),r=u.github.parseRepoId(t);if(null!=n&&n.slug&&(null==n?void 0:n.slug)===(null==r?void 0:r.slug)){n=(null==n?void 0:n.tag)||(null==(n=e.config)?void 0:n.version),r=u.semver.strcmp(n,r.tag);if(0==r)return void u.debug("resolved version are "+n);if(r<0)return void u.debug(`auto-upgraded ${t} to `+n)}}/^file:/.test(e._verspec)||/^file:/.test(t)?u.debug("ignore file: mismatch issues"):e.configureAsInvalidPackage(lf("version mismatch"))}),i=async(e,t,n=!1)=>{e=e||t.dependencies(n),u.debug(`deps: ${t.id}->`+Object.keys(e).join(", ")),e=u.github.resolveMonoRepoVersions(e),u.debug(`deps: resolved ${t.id}->`+Object.keys(e).join(", "));for(var r of Object.keys(e)){var i=e[r]||"*",a=(u.debug(`dep: load ${t.id}.${r}${n?"++":""}: `+i),"hw"==r&&u.hwVariant&&(r="hw---"+u.hwVariant),t.resolveDep(r));a?(a.invalid()||a._verspec===i||o(a,i),!a.invalid()&&n||(a.level=Math.min(a.level,t.level+1),a.addedBy.push(t))):(a=new d(r,i,t.parent,t),n&&(a.cppOnly=!0),t.parent.deps[r]=a,await(t.parent.deps[r.replace(/---.*/,"")]=a).loadAsync(s))}};return t.then(()=>i(null,this)).then(()=>{if(this.config.palette&&u.appTarget.runtime&&(u.appTarget.runtime.palette=u.U.clone(this.config.palette),this.config.paletteNames)&&(u.appTarget.runtime.paletteNames=this.config.paletteNames),this.config.screenSize&&u.appTarget.runtime&&(u.appTarget.runtime.screenSize=u.U.clone(this.config.screenSize)),0!==this.level)return Promise.resolve(null);{var e=this.readFile(u.MAIN_TS);if(!e)return Promise.resolve(null);const r=this.getMissingPackages(this.config,e);let n=!1;return Object.keys(r).reduce((e,t)=>e.then(()=>this.findConflictsAsync(t,r[t])).then(e=>{if(e.length){const r=e.map(e=>e.pkg0.id).join(", "),n=e.map(e=>e.settingName).filter(e=>!!e).join(", ");return u.log(`skipping missing package ${t} because it conflicts with the following packages: ${r} (conflicting settings: ${n})`),Promise.resolve(null)}{u.log("adding missing package "+t),n=!0,this.config.dependencies[t]="*";const e={};return e[t]=r[t],i(e,this)}}),Promise.resolve(null)).then(()=>(n&&(this.saveConfig(),this.validateConfig()),Promise.resolve(null)))}}).then(()=>0!=this.level?Promise.resolve():Promise.all(u.U.values(this.parent.deps).map(e=>i(null,e,!0)))).then(()=>{u.debug("  installed "+this.id)})}getFiles(){let e;e=0!=this.level||this.ignoreTests?this.config.files.slice(0):this.config.files.concat(this.config.testFiles||[]);const t=this.config.fileDependencies;return e=this.config.fileDependencies?e.filter(n=>{const r=e=>{if("!"==(e=e.trim())[0])return!r(e.slice(1));if(/^[\w-]+$/.test(e)){const u=this.parent.resolveDep(e);return!(!u||u.cppOnly)}var t=/^target:(\w+)$/.exec(e);return t?t[1]==u.appTarget.id||t[1]==u.appTarget.platformid:(d.depWarnings[e]||(d.depWarnings[e]=!0,u.log(`invalid dependency expression: ${e} in ${this.id}/`+n)),!1)},e=u.U.lookup(t,n);return!e||!e.trim()||e.split("||").some(e=>e.split("&&").every(r))}):e}addSnapshot(e,n=[""]){for(let t of this.getFiles())n.some(e=>u.U.endsWith(t,e))&&(e[this.id+"/"+t]=this.readFile(t));e[this.id+"/"+u.CONFIG_NAME]=this.readFile(u.CONFIG_NAME)}packageLocalizationStringsAsync(n){const r=u.appTarget.id,e=[this.config.name+"-jsdoc",this.config.name],i={},a=u.appTarget.appTheme||{};return this.config.skipLocalization?Promise.resolve(i):u.Util.liveLocalizationEnabled()&&"this"!=this.id&&u.appTarget.bundledpkgs[this.id]?(u.debug("loading live translations for "+this.id),Promise.all(e.map(t=>u.Util.downloadLiveTranslationsAsync(n,r+`/${t}-strings.json`,a.crowdinBranch).then(e=>{e&&Object.keys(e).length?u.Util.jsonMergeFrom(i,e):(u.tickEvent("translations.livetranslationsfailed",{filename:t}),u.Util.jsonMergeFrom(i,this.bundledStringsForFile(n,t)))}).catch(e=>{u.tickEvent("translations.livetranslationsfailed",{filename:t}),u.log(`error while downloading ${r}/${t}-strings.json`),u.Util.jsonMergeFrom(i,this.bundledStringsForFile(n,t))}))).then(()=>i)):(e.map(e=>this.bundledStringsForFile(n,e)).filter(e=>!!e).forEach(e=>u.Util.jsonMergeFrom(i,e)),Promise.resolve(i))}bundledStringsForFile(e,t){let n={},[r,i,a]=u.Util.normalizeLanguageCode(e);var e=this.config.files,s=`_locales/${r}/${t}-strings.json`;return n=-1<e.indexOf(s)||a&&(-1<e.indexOf(s=`_locales/${a}/${t}-strings.json`)||i&&-1<e.indexOf(s=`_locales/${i}/${t}-strings.json`))?JSON.parse(this.readFile(s)):n}}function n(s,o={}){var c,l=s["*"]||{};for(c of Object.keys(s))if("*"!=c){let e=s[c],t=(e="string"==typeof e?{data:e}:e).namespace||l.namespace||"",n=(t&&(t+="."),e.id||t+c),r=e.icon,i=e.mimeType||l.mimeType,a=e.dataEncoding||l.dataEncoding||"base64";r||"base64"!=a||"image/png"!=i&&"image/jpeg"!=i||(r="data:"+i+";base64,"+e.data),o[n]={id:n,data:e.data,dataEncoding:a,icon:r,namespace:t,mimeType:i,tilemapTile:e.tilemapTile,displayName:e.displayName,tileset:e.tileset}}return o}d.depWarnings={},u.Package=d,u.MainPackage=class extends d{constructor(e){super("this","file:.",null,null),this._host=e,this.deps={},(this.parent=this).addedBy=[this],this.level=0,this.deps[this.id]=this}installAllAsync(e){return this.loadAsync(!0,e)}sortedDeps(n=!1){let r={},i=[];const a=e=>e.config?Object.keys(e.config.cppDependencies||{}).length:0,s=e=>{var t;e&&!u.U.lookup(r,e.id)&&(r[e.id]=!0,(t=Object.keys(e.dependencies(n)).map(e=>this.resolveDep(e))).sort((e,t)=>a(t)-a(e)||u.U.strcmp(e.id,t.id)),t.forEach(s),i.push(e.id))};return s(this),i.map(e=>this.resolveDep(e))}localizationStringsAsync(t){const n={};return Promise.all(u.Util.values(this.deps).map(e=>e.packageLocalizationStringsAsync(t).then(t=>{t&&Object.keys(t).forEach(e=>{n[e]||(n[e]=t[e])})}))).then(()=>{const t=u.U.getLocalizedStrings();return Object.keys(n).forEach(e=>{!u.U.startsWith(e,"{id:subcategory}")&&!u.U.startsWith(e,"{id:group}")||t[e]||(t[e]=n[e])}),u.U.setLocalizedStrings(t),Promise.resolve(n)})}getTargetOptions(){let t=u.U.clone(u.appTarget.compile);return u.U.assert(!!t),t.utf8||this.sortedDeps(!0).forEach(e=>{e.config&&e.config.utf8&&(u.debug("forcing utf8 mode: pkg="+e.id),t.utf8=!0)}),t}getJRes(){if(!this._jres){this._jres={};for(const u of this.sortedDeps())u.parseJRes(this._jres);var e=(u.appTarget.runtime&&u.appTarget.runtime.palette?u.appTarget.runtime.palette:["#000000","#ffffff"]).map(e=>("000000"+parseInt(e.replace(/#/,""),16).toString(16)).slice(-6)).join("");this._jres.__palette={id:"__palette",data:e,dataEncoding:"hex",mimeType:"application/x-palette"}}return this._jres}updateJRes(){this._jres&&this.parseJRes(this._jres)}resolveBannedCategories(){if(void 0===this._resolvedBannedCategories){let t=[];u.appTarget&&u.appTarget.runtime&&u.appTarget.runtime.bannedCategories&&u.appTarget.runtime.bannedCategories.length&&(t=u.appTarget.runtime.bannedCategories.slice(),Object.keys(this.deps).map(e=>this.deps[e]).filter(e=>!!e).map(e=>u.Util.jsonTryParse(e.readFile(u.CONFIG_NAME))).filter(e=>e&&e.requiredCategories).forEach(e=>e.requiredCategories.forEach(e=>{e=t.indexOf(e);-1<e&&t.splice(e,1)})),this._resolvedBannedCategories=t),this._resolvedBannedCategories=t,this._resolvedBannedCategories.length||(this._resolvedBannedCategories=null)}return this._resolvedBannedCategories}async getCompileOptionsAsync(a=this.getTargetOptions()){var e,t,n={sourceFiles:[],fileSystem:{},target:a,name:this.config?this.config.name:""};const s=(e,t)=>{this.config.files.indexOf(e)<0&&u.U.userError(lf("please add '{0}' to \"files\" in {1}",e,u.CONFIG_NAME)),t="// Auto-generated. Do not edit.\n"+t+"\n// Auto-generated. Do not edit. Really.\n",this.host().readFile(this,e,!0)!==t&&(u.debug(`updating ${e} (size=${t.length})...`),this.host().writeFile(this,e,t,!0))};let o=!1;const r=async e=>{var t={extinfo:null,target:null},n=u.appTargetVariant;e&&u.setAppTargetVariant(e,{temporary:!0});try{var r=u.cpp.getExtensionInfo(this),i=(o||!r.shimsDTS&&!r.enumsDTS||(o=!0,r.shimsDTS&&s("shims.d.ts",r.shimsDTS),r.enumsDTS&&s("enums.d.ts",r.enumsDTS)),a.isNative?await this.host().getHexInfoAsync(r):null),r=u.U.flatClone(r);a.keepCppFiles||(delete r.compileData,delete r.generatedFiles,delete r.extensionFiles),r.hexinfo=i,t.extinfo=r,t.target=u.appTarget.compile}finally{e&&u.setAppTargetVariant(n,{temporary:!0})}return t};await this.loadAsync(),n.bannedCategories=this.resolveBannedCategories(),n.target.preferredEditor=this.getPreferredEditor(),u.debug("building: "+this.sortedDeps().map(e=>e.config.name).join(", "));let i=null;for(t of e=u.appTarget.multiVariants?u.appTargetVariant?[u.appTargetVariant]:u.appTarget.alwaysMultiVariant||u.appTarget.compile.switches.multiVariant?u.appTarget.multiVariants:[u.appTarget.multiVariants[0]]:[null]){i&&u.debug("building for "+t);const s=await r(t),o=s.extinfo;o.appVariant=t,o.outputPrefix=1!=e.length&&t?t+"-":"",i?n.otherMultiVariants.push(s):(i=o,n.otherMultiVariants=[])}if(n.extinfo=i,!u.appTarget.compile.shortPointers&&"vm"!=u.appTarget.compile.nativeType&&!this.config.binaryonly&&n.target.isNative){const a=await this.filesToBePublishedAsync(!0),s=JSON.stringify({name:this.config.name,comment:this.config.description,status:"unpublished",scriptId:this.installedVersion,cloudId:u.CLOUD_ID+u.appTarget.id,editor:this.getPreferredEditor(),targetVersions:u.appTarget.versions}),o=JSON.stringify(a),r=await u.lzmaCompressAsync(s+o);r&&(n.embedMeta=JSON.stringify({compression:"LZMA",headerSize:s.length,textSize:o.length,name:this.config.name,eURL:u.appTarget.appTheme.embedUrl,eVER:u.appTarget.versions?u.appTarget.versions.target:"",pxtTarget:u.appTarget.id}),n.embedBlob=ts.pxtc.encodeBase64(u.U.uint8ArrayToString(r)))}for(const u of this.sortedDeps())for(const a of u.getFiles())if(/\.(ts|asm|py)$/.test(a)){let e=a;0<u.level&&(e="pxt_modules/"+u.id+"/"+a),n.sourceFiles.push(e),n.fileSystem[e]=u.readFile(a)}n.jres=this.getJRes();var c=u.appTarget.runtime&&u.appTarget.runtime.functionsOptions;return n.allowedArgumentTypes=c&&c.extraFunctionEditorTypes&&c.extraFunctionEditorTypes.map(e=>e.typeName).concat("number","boolean","string"),n}prepareConfigToBePublished(){const r=u.U.clone(this.config);return delete r.installedVersion,delete r.additionalFilePath,delete r.additionalFilePaths,r.targetVersions||(r.targetVersions=u.Util.clone(u.appTarget.versions)),u.U.iterMap(r.dependencies,(e,t)=>{if(!t||/^(file|workspace):/.test(t)){t="*";try{const r=this.resolveDep(e).readGitJson();var n;r&&r.repo&&((n=u.github.parseRepoId(r.repo)).tag=r.commit.tag||r.commit.sha,t=u.github.stringifyRepo(n))}catch(e){}r.dependencies[e]=t}}),r}filesToBePublishedAsync(r=!1){const i={};return this.loadAsync().then(()=>{r||this.config.public||u.U.userError('Only packages with "public":true can be published');var e,t,n=this.prepareConfigToBePublished();i[u.CONFIG_NAME]=u.Package.stringifyConfig(n);for(e of this.getFiles())e!=u.CONFIG_NAME&&(null==(t=this.readFile(e))&&u.U.userError("referenced file missing: "+e),i[e]=t);return u.U.sortObjectFields(i)})}saveToJsonAsync(){return this.filesToBePublishedAsync(!0).then(e=>({meta:{cloudId:u.CLOUD_ID+u.appTarget.id,targetVersions:u.appTarget.versions,editor:this.getPreferredEditor(),name:this.config.name},source:JSON.stringify(e,null,2)}))}compressToFileAsync(){return this.saveToJsonAsync().then(e=>u.lzmaCompressAsync(JSON.stringify(e,null,2)))}computePartDefinitions(r){if(!r||!r.length)return{};let i={};return this.sortedDeps().forEach(n=>{var t=n.readFile("pxtparts.json");if(t)try{let e=JSON.parse(t);Object.keys(e).forEach(t=>{if(0<=r.indexOf(t)){t=i[t]=e[t];if("string"==typeof t.visual.image&&/\.svg$/i.test(t.visual.image)){let e=n.readFile(t.visual.image);e||u.reportError("parts","invalid part definition",{error:"missing visual "+t.visual.image}),/^data:image\/svg\+xml/.test(e)||(e="data:image/svg+xml,"+encodeURIComponent(e)),t.visual.image=e}}})}catch(e){u.reportError("parts","invalid pxtparts.json file")}}),i}},u.inflateJRes=n,u.allPkgFiles=function(e){return[u.CONFIG_NAME].concat(e.files||[]).concat(e.testFiles||[])},u.isPkgBeta=function(e){return e&&/\bbeta\b/.test(e.description)}}(pxt=pxt||{}),function(c){{var l=c.packetio||(c.packetio={});let r,n,i,a,s,o=()=>{};function u(){if(s)return s;let e=Promise.resolve();if(r){c.debug("packetio: disconnect");const t=r;e=e.then(()=>t.disconnectAsync()).then(()=>t.io.disposeAsync()).catch(e=>{c.reportException(e)}).finally(()=>{n=void 0,r=void 0,s=void 0}),o&&(e=e.then(()=>o())),s=e}return e}l.isActive=function(){return!!r},l.isConnected=function(){return!!r&&r.io.isConnected()},l.isConnecting=function(){return!!r&&r.io.isConnecting()},l.icon=function(){var e;return!!r&&(r.icon||(null==(e=c.appTarget.appTheme.downloadDialogTheme)?void 0:e.deviceIcon)||"usb")},l.unsupportedParts=function(){return null!=r&&r.unsupportedParts?r.unsupportedParts():[]},l.disconnectAsync=u,l.configureEvents=function(e,t,n){o=e,i=t,a=n,r&&(r.io.onConnectionChanged=o,r.onSerial=i,r.onCustomEvent=n)},l.sendCustomEventAsync=function(e,t){return r?r.sendCustomEventAsync(e,t):Promise.resolve()},l.initAsync=function(t=!1){if(c.debug("packetio: init "+(t?"(force)":"")),!n){let e=Promise.resolve();t&&(e=e.then(()=>u())),n=e.then(()=>r?Promise.resolve(r):l.mkPacketIOAsync?(c.debug("packetio: new wrapper"),l.mkPacketIOAsync().then(e=>(e.onConnectionChanged=o,r=l.mkPacketIOWrapper(e),i&&(r.onSerial=i),a&&(r.onCustomEvent=a),o&&o(),r))):(c.debug("packetio: not defined, skipping"),Promise.resolve(void 0))).finally(()=>{n=void 0})}return n}}}(pxt=pxt||{}),function(a){var e;(e=a.patching||(a.patching={})).computePatches=function(e,n){const r=a.appTarget.compile?a.appTarget.compile.patches:void 0;if(r){const i=a.semver.tryParse(e||"0.0.0")||a.semver.tryParse("0.0.0");let t=[];return Object.keys(r).filter(e=>a.semver.inRange(e,i)).forEach(e=>t=t.concat(r[e])),(t=n?t.filter(e=>e.type==n):t).length?t:void 0}},e.upgradePackageReference=function(e,t,n){if("*"!=n)return t;n=a.patching.computePatches(e,"package");let r=t;return n&&n.forEach(t=>{Object.keys(t.map).forEach(e=>{r==e&&(r=t.map[e])})}),r},e.patchJavaScript=function(e,t){e=a.patching.computePatches(e);let r=t;return e&&(e.filter(e=>"api"===e.type).forEach(n=>{Object.keys(n.map).forEach(e=>{var t=new RegExp(e,"g");r=r.replace(t,n.map[e])})}),e.filter(e=>"userenum"===e.type).forEach(n=>{Object.keys(n.map).forEach(e=>{var t=new RegExp("enum\\s+"+e+"\\s*{","gm"),t=(r=r.replace(t,`enum ${n.map[e]} {`),new RegExp(`(^|[^_a-zA-Z0-9])${e}(\\s*\\.)`,"g"));r=r.replace(t,`$1${n.map[e]}$2`)})})),r}}(pxt=pxt||{}),function(e){e.react||(e.react={})}(pxt=pxt||{}),function(s){function a(n,r){if(n){if(r){let t=n.major-r.major||n.minor-r.minor||n.patch-r.patch;if(t)return t;if(0==n.pre.length&&0<r.pre.length)return 1;if(0<n.pre.length&&0==r.pre.length)return-1;for(let e=0;e<n.pre.length+1;++e){var i=n.pre[e],a=r.pre[e];if(!i)return a?-1:0;if(!a)return 1;if(/^\d+$/.test(i)){if(!/^\d+$/.test(a))return-1;if(t=parseInt(i)-parseInt(a))return t}else{if(/^\d+$/.test(a))return 1;if(t=s.U.strcmp(i,a))return t}}return 0}return-1}return r?1:0}function o(e,t){t=c(e)||c(t);return t||s.U.userError(s.U.lf("'{0}' doesn't look like a semantic version number",e)),t}function c(e){if(!e)return null;if("*"===e)return{major:Number.MAX_SAFE_INTEGER,minor:Number.MAX_SAFE_INTEGER,patch:Number.MAX_SAFE_INTEGER,pre:[],build:[]};/^v\d/i.test(e)&&(e=e.slice(1));e=/^(\d+)\.(\d+)\.(\d+)(-([0-9a-zA-Z\-\.]+))?(\+([0-9a-zA-Z\-\.]+))?$/.exec(e);return e?{major:parseInt(e[1]),minor:parseInt(e[2]),patch:parseInt(e[3]),pre:e[5]?e[5].split("."):[],build:e[7]?e[7].split("."):[]}:null}function l(e){let t=e.major+"."+e.minor+"."+e.patch;return e.pre.length&&(t+="-"+e.pre.join(".")),e.build.length&&(t+="+"+e.build.join(".")),t}function t(e,t){var n=c(e),r=c(t);return n||r?a(n,r):s.U.strcmp(e,t)}function u(e,t){var n,e=e.split(" - ");return 2==e.length&&(n=c(e[0]),e=c(e[1]),!(!n||!e))&&(!t||(n=a(n,t),t=a(t,e),n<=0&&t<0))}var n;(n=s.semver||(s.semver={})).cmp=a,n.parse=o,n.tryParse=c,n.normalize=function(e){return l(o(e))},n.stringify=l,n.majorCmp=function(e,t){e=c(e),t=c(t);return e.major-t.major},n.strcmp=t,n.inRange=u,n.sortLatestTags=function(e){e=e.filter(e=>!!n.tryParse(e));return e.sort(t),e.reverse(),e},n.test=function(){console.log("Test semver");var n=["0.9.0","1.0.0-0.3.7","1.0.0-alpha","1.0.0-alpha.1","1.0.0-alpha.beta","1.0.0-beta","1.0.0-beta.2","1.0.0-beta.11","1.0.0-rc.1","1.0.0-x.7.z.92","1.0.0","1.0.1","1.9.0","1.10.0","1.11.0"];for(let t=0;t<n.length;++t){var r=o(n[t]);console.log(n[t],r),s.U.assert(l(r)==n[t]);for(let e=0;e<n.length;++e){var i=a(r,o(n[e]));console.log(n[t],n[e],i),t<e?s.U.assert(i<0):t>e?s.U.assert(0<i):s.U.assert(0==i)}}var e=c("1.2.3");s.U.assert(u("0.1.2 - 2.2.3",e)),s.U.assert(u("1.2.3 - 2.2.3",e)),s.U.assert(!u("0.0.0 - 1.2.3",e)),s.U.assert(!u("1.2.4 - 4.2.3",e)),s.U.assert(!u("0.0.0 - 0.0.1",e))}}(pxt=pxt||{}),function(e){{var y=e.pxtc||(e.pxtc={}),u;function t(e){return y.Util.values(e.byQName).filter(e=>e.attributes.block&&/^{[^:]+:[^}]+}/.test(e.attributes.block)).forEach(e=>{e.attributes.block=e.attributes.block.replace(/^{[^:]+:[^}]+}/,"")}),e}y.assert=y.Util.assert,y.oops=y.Util.oops,y.U=y.Util,y.ON_START_TYPE="pxt-on-start",y.ON_START_COMMENT="on start",y.HANDLER_COMMENT="code goes here",y.TS_STATEMENT_TYPE="typescript_statement",y.TS_DEBUGGER_TYPE="debugger_keyword",y.TS_BREAK_TYPE="break_keyword",y.TS_CONTINUE_TYPE="continue_keyword",y.TS_OUTPUT_TYPE="typescript_expression",y.TS_RETURN_STATEMENT_TYPE="function_return",y.PAUSE_UNTIL_TYPE="pxt_pause_until",y.COLLAPSED_BLOCK="pxt_collapsed_block",y.FUNCTION_DEFINITION_TYPE="function_definition",y.BINARY_JS="binary.js",y.BINARY_ASM="binary.asm",y.BINARY_HEX="binary.hex",y.BINARY_UF2="binary.uf2",y.BINARY_ELF="binary.elf",y.BINARY_PXT64="binary.pxt64",y.BINARY_ESP="binary.bin",y.NATIVE_TYPE_THUMB="thumb",y.NATIVE_TYPE_VM="vm",y.BuildSourceMapHelpers=function(i,t,n){const e=e=>{const t=e.split("\n").map(e=>e.length),n=t.reduce(({lens:e,sum:t},n)=>({lens:[...e,t+n+1],sum:t+n+1}),{lens:[],sum:0}).lens;return{posToLineCol:r=>{var e=n.reduce((e,t,n)=>r<t?e:n+1,0);return[e,t[e]-(n[e]-r)+1]},lineColToPos:(e,t)=>(n[e-1]||0)+t}},a={ts:e(t),py:e(n)},s=e=>e.endPos-e.startPos,r=(e,t)=>{const{startPos:n,endPos:r}=e;return i.filter(e=>e[t].startPos<=n&&r<=e[t].endPos)},o=(e,n)=>{e=r(e,n);return e.reduce((e,t)=>s(t[n])<s(e[n])?t:e,e[0])},c={allOverlaps:e=>r(e,"ts"),smallestOverlap:e=>o(e,"ts")},l={allOverlaps:e=>r(e,"py"),smallestOverlap:e=>o(e,"py")},u=(r,i)=>e=>{e=e;var t,[e,n]=[a[r].lineColToPos(e.line,e.column),e.length],e=o({startPos:e,endPos:e+n},r);if(e)return[n,t]=a[i].posToLineCol(e[i].startPos),{fileName:"main."+i,start:e[i].startPos,length:s(e[i]),line:n,column:t}},d=u("ts","py"),p=u("py","ts");return{ts:Object.assign(Object.assign(Object.assign({},a.ts),c),{locToLoc:d,getText:e=>t.substring(e.startPos,e.endPos)}),py:Object.assign(Object.assign(Object.assign({},a.py),l),{locToLoc:p,getText:e=>n.substring(e.startPos,e.endPos)})}},y.computeUsedParts=function(t,e){if(!t.usedSymbols||!pxt.appTarget.simulator||!pxt.appTarget.simulator.parts)return[];let n=[];if(Object.keys(t.usedSymbols).forEach(e=>{var e=t.usedSymbols[e];e&&e.attributes.parts&&(e=e.attributes.parts)&&e.split(/[ ,]+/).forEach(e=>{0<e.length&&n.indexOf(e)<0&&n.push(e)})}),e){const t=pxt.appTarget.simulator.boardDefinition.onboardComponents;t&&("ignorebuiltin"===e?n=n.filter(e=>-1===t.indexOf(e)):"onlybuiltin"===e&&(n=n.filter(e=>0<=t.indexOf(e))))}return n.sort(),n=n.reverse()},y.buildSimJsInfo=function(e){return{js:e.outfiles[y.BINARY_JS],targetVersion:pxt.appTarget.versions.target,fnArgs:e.usedArguments,parts:y.computeUsedParts(e,"ignorebuiltin"),usedBuiltinParts:y.computeUsedParts(e,"onlybuiltin")}},y.blocksCategory=function(e){e=e?e.attributes.blockNamespace||e.namespace:void 0;return e?y.Util.capitalize(e.split(".")[0]):void 0},y.getBlocksInfo=function(t,e){var n,r,i,a;let p=[];const f={},_={},m={},s={},o={};function c(n,r){const i="get"==n,a="set"==n,s="number"==r.retType,o=i?_:a?f:m,c=r.namespace+"."+r.retType;let l=y.U.lookup(o,c);if(!l){const f=`@${n}@`;let e,t;if(r.attributes.blockCombineShadow){const n=r.attributes.blockCombineShadow,i=n.match(/^([^,.]*),?([^,.]*)$/);i&&3==i.length&&(e=i[1].trim(),0!=(t=i[2].trim()).length||y.Util.endsWith(n,",")||(t=e,e=""))}var u=`${r.attributes.blockSetVariable||r.namespace.toLocaleLowerCase()}=`+(e||""),d="value="+(t||"");(l=o[c]={attributes:{blockId:`${s?r.namespace:c}_blockCombine_`+n,callingConvention:0,group:r.attributes.group,paramDefl:{},jsDoc:i?y.U.lf("Read value of a property on an object"):y.U.lf("Update value of property on an object")},name:f,namespace:r.namespace,fileName:r.fileName,qName:c+"."+f,pkg:r.pkg,kind:2,parameters:[{name:"property",description:i?y.U.lf("the name of the property to read"):y.U.lf("the name of the property to change"),isEnum:!0,type:"@combined@"},{name:"value",description:a?y.U.lf("the new value of the property"):y.U.lf("the amount by which to change the property"),type:r.retType}].slice(0,i?1:2),retType:i?r.retType:"void",combinedProperties:[]}).attributes.block=i?y.U.lf("%{0} %property",u):a?y.U.lf("set %{0} %property to %{1}",u,d):y.U.lf("change %{0} %property by %{1}",u,d),b(l.attributes),pxt.Util.isTranslationMode()&&(l.attributes.translationId=l.attributes.block,l.attributes.block=i?`%${u} %property`:a?`set %${u} %property to %`+d:`change %${u} %property by %`+d,b(l.attributes),pxt.crowdin.inContextLoadAsync(l.attributes.translationId).then(e=>{l.attributes.block=e,b(l.attributes)})),p.push(l)}l.combinedProperties.push(r.qName)}for(r of y.Util.values(t.byQName)){if("ENUM_GET"===r.attributes.shim&&r.attributes.enumName&&r.attributes.blockId){let e=!1;if(s[r.attributes.enumName]&&(console.warn(`Enum block ${r.attributes.blockId} trying to overwrite enum `+r.attributes.enumName),e=!0),r.attributes.enumMemberName||(console.warn(`Enum block ${r.attributes.blockId} should specify enumMemberName`),e=!0),r.attributes.enumPromptHint||(console.warn(`Enum block ${r.attributes.blockId} should specify enumPromptHint`),e=!0),r.attributes.enumInitialMembers&&r.attributes.enumInitialMembers.length||(console.warn(`Enum block ${r.attributes.blockId} should specify enumInitialMembers`),e=!0),e)continue;const t=parseInt(r.attributes.enumStartValue);s[r.attributes.enumName]={blockId:r.attributes.blockId,name:r.attributes.enumName,memberName:r.attributes.enumMemberName,firstValue:isNaN(t)?void 0:t,isBitMask:r.attributes.enumIsBitMask,isHash:r.attributes.enumIsHash,initialMembers:r.attributes.enumInitialMembers,promptHint:r.attributes.enumPromptHint}}if("KIND_GET"===r.attributes.shim&&r.attributes.blockId){const n=r.attributes.kindNamespace||r.attributes.blockNamespace||r.namespace;if(o[n]){console.warn("More than one block defined for kind "+n);continue}const v=[];if(t.byQName[n])for(const e of y.Util.values(t.byQName))e.namespace===n&&e.attributes.isKind&&v.push(e.name);o[n]={blockId:r.attributes.blockId,name:n,memberName:r.attributes.kindMemberName||n,initialMembers:v,promptHint:r.attributes.enumPromptHint||y.Util.lf("Create a new kind..."),createFunctionName:r.attributes.kindCreateFunction||"create"}}if(r.attributes.blockCombine)/@set/.test(r.name)||c("get",r),r.isReadOnly||("number"==r.retType&&c("change",r),c("set",r));else if(r.attributes.block&&!r.attributes.fixedInstance&&7!=r.kind&&5!=r.kind&&9!=r.kind&&8!=r.kind){if(r.attributes.blockId||(r.attributes.blockId=r.qName.replace(/\./g,"_")),"true"==r.attributes.block){let e=y.U.uncapitalize(r.name);1!=r.kind&&2!=r.kind||(e+=" %"+r.namespace.toLowerCase());const p=null!=(n=null==(n=r.parameters)?void 0:n.filter(e=>!v(e)))?n:[];for(var l of p)e+=" %"+l.name;r.attributes.block=e,b(r.attributes)}p.push(r)}}for(i of p){var u=y.U.lookup(t.byQName,i.namespace);if(u){var d,g=u.attributes,h=i.attributes;for(d of["blockNamespace","color","blockGap"])void 0===h[d]&&g[d]&&(h[d]=g[d])}}return{apis:t,blocks:p=e&&(a=e).length?p.filter(e=>{e=(e.attributes.blockNamespace||e.namespace).split(".")[0];return-1===a.indexOf(e)}):p,blocksById:pxt.Util.toDictionary(p,e=>e.attributes.blockId),enumsByName:s,kindsByName:o}},y.tsSnippetToPySnippet=function(e,t){const n={true:"True",false:"False",null:"None"}[e];if(n)return n;if(t&&6==t.kind||!t&&e.includes(".")){const t=e.lastIndexOf("."),n=e.substr(0,t);var r=e.substr(t+1);return n+"."+y.U.snakify(r).toUpperCase()}return e},y.apiLocalizationStrings={},y.localizeApisAsync=async function(c,e){const l=y.Util.userLanguage();if("en"==l)return Promise.resolve(t(c));const u=l.toLowerCase(),d=u+"|jsdoc",p=u+"|block",f=await e.localizationStringsAsync(l);y.apiLocalizationStrings&&y.Util.jsonMergeFrom(f,y.apiLocalizationStrings);e=y.Util.values(c.byQName).filter(e=>e.attributes._translatedLanguageCode!==l);return await y.Util.promiseMapAll(e,async r=>{var e;const t=r.attributes.useLoc||r.attributes.blockAliasFor,i=t&&c.byQName[t],n=(r.attributes._untranslatedJsDoc&&(r.attributes.jsDoc=r.attributes._untranslatedJsDoc),r.attributes._untranslatedBlock&&(r.attributes.jsDoc=r.attributes._untranslatedBlock),(e,t)=>{var n;return f[r.qName+e]||(null==(n=r.attributes.locs)?void 0:n[t])||i&&(f[i.qName+e]||(null==(n=i.attributes.locs)?void 0:n[t]))}),a=n("",d);a&&(r.attributes._untranslatedJsDoc||(r.attributes._untranslatedJsDoc=r.attributes.jsDoc),r.attributes.jsDoc=a),null!=(s=r.parameters)&&s.forEach(e=>{var t="|param|"+e.name,t=n(t,u+t);t&&(e.description=t)});var s=f["{id:category}"+y.Util.capitalize(r.qName)];let o=f[r.qName+"|block"]||(null==(e=r.attributes.locs)?void 0:e[p]);if(!o&&i){const y=f[i.qName+"|block"]||(null==(e=i.attributes.locs)?void 0:e[p]);r.attributes.block===(i.attributes._untranslatedBlock||i.attributes.block)&&y&&(o=y)}if(o&&pxt.Util.isTranslationMode()&&(r.attributes.translationId=o,o=await pxt.crowdin.inContextLoadAsync(o)),s)r.attributes.block?r.attributes.block=o||r.attributes.block:r.attributes.block=s,b(r.attributes);else if(r.attributes.block&&o){const y=pxt.blocks.compileInfo(r),c=r.attributes.block;r.attributes.block=pxt.blocks.normalizeBlock(o,e=>{pxt.tickEvent("loc.normalized",{block:r.attributes.block,lang:l,error:e})}),r.attributes._untranslatedBlock||(r.attributes._untranslatedBlock=c),c!=r.attributes.block&&(b(r.attributes),function(e,t){if(e.parameters.length!=t.parameters.length)return pxt.debug("Localized block has extra or missing parameters"),0;for(const n of e.parameters){const e=t.actualNameToParam[n.actualName];if(!e||n.type!=e.type||n.shadowBlockId!=e.shadowBlockId)return pxt.debug(`Parameter ${n.actualName} type or shadow block does not match after localization`),0}return 1}(y,pxt.blocks.compileInfo(r))||(pxt.log(`block has non matching arguments: ${c} vs `+r.attributes.block),pxt.reportError("loc.errors","invalid translations",{block:r.attributes.blockId,lang:l}),r.attributes.block=c,b(r.attributes)))}else b(r.attributes);r.attributes._translatedLanguageCode=l}),t(c)},y.emptyExtInfo=function(){let e=pxt.appTarget.compileService;var t=!!(e=e||{}).platformioIni,n="dockermake"==e.buildEngine||"dockercross"==e.buildEngine||"dockerespidf"==e.buildEngine,r={functions:[],generatedFiles:{},extensionFiles:{},sha:"",compileData:"",shimsDTS:"",enumsDTS:"",onlyPublic:!0};return t?r.platformio={dependencies:{}}:n?r.npmDependencies={}:r.yotta={config:{},dependencies:{}},r};const o=["weight","imageLiteral","topblockWeight"],_=["advanced","handlerStatement","afterOnStart","optionalVariableArgs","blockHidden","constantShim","blockCombine","enumIsBitMask","enumIsHash","decompileIndirectFixedInstances","topblock","callInDebugger","duplicateShadowOnDrag","argsNullable"];function v(e){return"Action"===e.type||/^\([^\)]*\)\s*=>/.test(e.type)}function b(n){var e;function t(e){return n._shadowOverrides&&e.parameters.forEach(e=>{var t=n._shadowOverrides[e.name];"unset"===t?delete e.shadowBlockId:null!=t&&(e.shadowBlockId=t)}),e}n.block&&(e=n.block.split("||"),n._def=t(r(e[0])),n._def||pxt.debug("Unable to parse block def for id: "+n.blockId),e[1]&&(n._expandedDef=t(r(e[1]))),e[1])&&!n._expandedDef&&pxt.debug("Unable to parse expanded block def for id: "+n.blockId)}function r(r){const n=[];let i,a=0;for(;a<r.length;a++){const s=r[a],o=a;let t;switch(s){case"*":case"_":const n=p(e=>e==s),i="_"===s?2:0;1===n.length?t={kind:1<<i,content:n}:2===n.length?t={kind:2<<i,content:n}:3===n.length?t={kind:3<<i,content:n}:a=o;break;case"`":const e=f("`");void 0===e?a=o:t={kind:256,content:e};break;case"|":t={kind:32};break;case"\\":a<r.length-1&&(t={kind:16,content:r[1+a++]});break;case"[":const l=f("]");if(void 0!==l&&"("===r[1+a++]){const r=f(")");if(void 0!==r){t={kind:512,content:l,type:r};break}}a=o;break;case"$":case"%":const u=p(e=>/[a-zA-Z0-9_=]/.test(e),!0).split("=");if(2<u.length)a=o;else{let e;if("("===r[a+1]){const r=a;++a,(e=f(")"))||(a=r)}t={kind:"$"===s?1024:64,content:u[0],type:u[1],name:e}}}t?(i&&n.push({kind:128,content:i}),i=void 0,n.push(t)):i?i+=s:i=s}i&&n.push({kind:128,content:i});const s=[],o=[];let c=[],l=0,u="",d=[];for(let e=0;e<n.length;e++){const i=n[e].kind,a=c[c.length-1];if(15&i)if(m(n[e].content),i&l)if(a&i){c.pop();const r=a&(l^=i)|i&l;r&&c.push(r)}else _();else l|=i,c.push(i);else 144&i?u+=n[e].content:1120&i&&t();if(64==i){const i={kind:"param",name:n[e].content,shadowBlockId:n[e].type,ref:!1};n[e].name&&(i.varName=n[e].name),s.push(i),o.push(i)}else if(1024==i){const i={kind:"param",name:n[e].content,shadowBlockId:n[e].type,ref:!0};n[e].name&&(i.varName=n[e].name),s.push(i),o.push(i)}else 256==i?(m(),d.push({kind:"image",uri:n[e].content})):512==i?(m(),d.push({kind:"label",text:n[e].content,cssClass:n[e].type})):32==i&&s.push({kind:"break"})}return t(),{parts:s,parameters:o};function p(e,t=!1){let n="";for(t&&a++;a<r.length&&e(r[a]);)n+=r[a],++a;return n&&a--,n}function f(t){var e=p(e=>e!==t,!0);if(r[a+1]===t)return++a,e}function _(){let e="",t=[];for(const n of d)n.kind?(t.push({content:e,styles:0}),t.push(n),e=""):(e+=n.content,n.endingToken&&(e+=n.endingToken));d=t,e&&d.push({content:e,styles:0}),c=[],l=0}function t(){for(m(),l&&_();d.length;){var e,t=d.shift();t.kind?s.push(t):t.content&&(e=[],10&t.styles&&e.push("bold"),5&t.styles&&e.push("italics"),s.push({kind:"label",text:t.content,style:e}))}}function m(e){d.push({content:u,styles:l,endingToken:e}),u=""}}function f(n){var r=e=>n[e]+(n[e+1]<<8)+(n[e+2]<<16)+(n[e+3]<<24)>>>0;if(!n||512!=n.length||r(0)!=u.UF2_MAGIC_START0||r(4)!=u.UF2_MAGIC_START1||r(n.length-4)!=u.UF2_MAGIC_END)return null;let e=r(8),i=r(16),a=(476<i&&(i=256),null),t=0,s=0;if(e&u.UF2_FLAG_FILE){let e=n.slice(32+i),t=e.indexOf(0);0<=t&&(e=e.slice(0,t)),a=y.U.fromUTF8Array(e),s=r(28)}return e&u.UF2_FLAG_FAMILY_ID_PRESENT&&(t=r(28)),{flags:e,targetAddr:r(12),payloadSize:i,blockNo:r(20),numBlocks:r(24),fileSize:s,familyId:t,data:n.slice(32,32+i),filename:a}}function s(e,t){return!!e&&e.targetAddr<=t&&t<e.targetAddr+e.payloadSize}function d(e,t,n){e[t]=255&n,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255}function i(e){return{currBlock:null,currPtr:-1,blocks:[],ptrs:[],filesize:0,familyId:(e="string"==typeof e?parseInt(e):e)||0}}function a(t){for(let e=0;e<t.blocks.length;++e)d(t.blocks[e],20,e),d(t.blocks[e],24,t.blocks.length),t.filename&&d(t.blocks[e],28,t.filesize)}function p(t,e,n,r=0){let i=t.currBlock,a=e>>8,s=256-(255&e);if(n.length>s){var o=new Uint8Array(n);for(p(t,e,o.slice(0,s));s<n.length;){var c=Math.min(s+256,n.length);p(t,e+s,o.slice(s,c)),s=c}}else{if(a!=t.currPtr){i=null;for(let e=0;e<t.ptrs.length;++e)if(t.ptrs[e]==a){i=t.blocks[e];break}if(!i){i=new Uint8Array(512),t.filename?r|=u.UF2_FLAG_FILE:t.familyId&&(r|=u.UF2_FLAG_FAMILY_ID_PRESENT),d(i,0,u.UF2_MAGIC_START0),d(i,4,u.UF2_MAGIC_START1),d(i,8,r),d(i,12,a<<8),d(i,16,256),d(i,20,t.blocks.length),d(i,28,t.familyId),d(i,508,u.UF2_MAGIC_END);for(let e=32;e<288;++e)i[e]=255;t.filename&&y.U.memcpy(i,288,y.U.toUTF8Array(t.filename)),t.blocks.push(i),t.ptrs.push(a)}t.currPtr=a,t.currBlock=i}var l=32+(255&e);for(let e=0;e<n.length;++e)i[l+e]=n[e];t.filesize=Math.max(t.filesize,n.length+e)}}y.parseCommentString=function(e){let c={paramDefl:{},callingConvention:0,_source:e},l=!0;for(;l;)l=!1,e=e.replace(/\/\/%[ \t]*([\w\.-]+)(=(("[^"\n]*")|'([^'\n]*)'|([^\s]*)))?/,(e,t,n,r,i,a,s)=>{let o=i?JSON.parse(i):n?i||a||s:"true";if(o=o||"",y.U.startsWith(t,"block.loc."))c.locs||(c.locs={}),c.locs[t.slice("block.loc.".length).toLowerCase()+"|block"]=o;else if(y.U.startsWith(t,"jsdoc.loc."))c.locs||(c.locs={}),c.locs[t.slice("jsdoc.loc.".length).toLowerCase()+"|jsdoc"]=o;else if(y.U.contains(t,".loc.")){c.locs||(c.locs={});const y=t.slice(0,t.indexOf(".loc.")),e=t.slice(t.indexOf(".loc.")+".loc.".length);c.locs[e+"|param|"+y]=o}else if(y.U.endsWith(t,".defl"))-1<o.indexOf(" ")?c.paramDefl[t.slice(0,t.length-5)]=`"${o}"`:c.paramDefl[t.slice(0,t.length-5)]=o,c.explicitDefaults||(c.explicitDefaults=[]),c.explicitDefaults.push(t.slice(0,t.length-5));else if(y.U.endsWith(t,".shadow"))c._shadowOverrides||(c._shadowOverrides={}),c._shadowOverrides[t.slice(0,t.length-7)]=o;else if(y.U.endsWith(t,".fieldEditor"))c.paramFieldEditor||(c.paramFieldEditor={}),c.paramFieldEditor[t.slice(0,t.length-12)]=o;else if(y.U.contains(t,".fieldOptions.")){c.paramFieldEditorOptions||(c.paramFieldEditorOptions={});const y=t.slice(0,t.indexOf(".fieldOptions.")),e=t.slice(t.indexOf(".fieldOptions.")+14,t.length);c.paramFieldEditorOptions[y]||(c.paramFieldEditorOptions[y]={}),c.paramFieldEditorOptions[y][e]=o}else if(y.U.contains(t,".shadowOptions.")){c.paramShadowOptions||(c.paramShadowOptions={});const y=t.slice(0,t.indexOf(".shadowOptions.")),e=t.slice(t.indexOf(".shadowOptions.")+15,t.length);c.paramShadowOptions[y]||(c.paramShadowOptions[y]={}),c.paramShadowOptions[y][e]=o}else y.U.endsWith(t,".min")?(c.paramMin||(c.paramMin={}),c.paramMin[t.slice(0,t.length-4)]=o):y.U.endsWith(t,".max")?(c.paramMax||(c.paramMax={}),c.paramMax[t.slice(0,t.length-4)]=o):c[t]=o;return l=!0,"//% "});for(var t of o)"string"==typeof c[t]&&(c[t]=parseInt(c[t]));for(var n of _)"string"==typeof c[n]&&(c[n]="true"==c[n]||"1"==c[n]);if(c.trackArgs&&(c.trackArgs=c.trackArgs.split(/[ ,]+/).map(e=>parseInt(e)||0)),c.enumInitialMembers&&(c.enumInitialMembers=c.enumInitialMembers.split(/[ ,]+/)),c.blockExternalInputs&&!c.inlineInputMode&&(c.inlineInputMode="external"),c.paramHelp={},c.jsDoc="",e=e.replace(/\/\*\*([^]*?)\*\//g,(e,t)=>(t=(t=t.replace(/\n\s*(\*\s*)?/g,"\n")).replace(/^\s*@param\s+(\w+)\s+(.*)$/gm,(e,t,n)=>{if(c.paramHelp[t]=n,!c.paramDefl[t]){n=/\beg\.?:\s*(.+)/.exec(n);if(n&&n[1]){n=/(?:"([^"]*)")|(?:'([^']*)')|(?:([^\s,]+))/g.exec(n[1]);if(n){let e=n[1]||n[2]||n[3];-1<(e=e||"").indexOf(" ")?c.paramDefl[t]=`"${e}"`:c.paramDefl[t]=e}}}return""}),c.jsDoc+=t,"")),c.jsDoc=c.jsDoc.trim(),c.async&&(c.callingConvention=1),c.promise&&(c.callingConvention=2),c.jres&&(c.whenUsed=!0),c.subcategories)try{c.subcategories=JSON.parse(c.subcategories)}catch(e){c.subcategories=void 0}if(c.groups)try{c.groups=JSON.parse(c.groups)}catch(e){c.groups=void 0}if(c.groupIcons)try{c.groupIcons=JSON.parse(c.groupIcons)}catch(e){c.groupIcons=void 0}if(c.groupHelp)try{c.groupHelp=JSON.parse(c.groupHelp)}catch(e){c.groupHelp=void 0}return b(c),c},y.parameterTypeIsArrowFunction=v,y.updateBlockDef=b,y.parseBlockDefinition=r,y.parseChecksumBlock=function(t,n=0){var e=pxt.HF2.read32(t,n);if(133083260!=(2147483647&e))return pxt.log("no checksum block magic"),null;var r=pxt.HF2.read32(t,n+4),i=pxt.HF2.read32(t,n+8);if(3&r)return pxt.log("invalid end marker position"),null;var a=1<<(255&i);if(a!=pxt.appTarget.compile.flashCodeAlign)return pxt.log("invalid page size: "+a),null;var s={magic:e,endMarkerPos:r,endMarker:i,regions:[]};for(let e=n+12;e<t.length-7;e+=8){var o={start:a*pxt.HF2.read16(t,e),length:a*pxt.HF2.read16(t,e+2),checksum:pxt.HF2.read32(t,e+4)};if(!o.length||!o.checksum)break;s.regions.push(o)}return s},(u=y.UF2||(y.UF2={})).UF2_MAGIC_START0=171066965,u.UF2_MAGIC_START1=2656915799,u.UF2_MAGIC_END=179400496,u.UF2_FLAG_NONE=0,u.UF2_FLAG_NOFLASH=1,u.UF2_FLAG_FILE=4096,u.UF2_FLAG_FAMILY_ID_PRESENT=8192,u.parseBlock=f,u.parseFile=function(t){var n=[];for(let e=0;e<t.length;e+=512){var r=f(t.slice(e,e+512));r&&n.push(r)}return n},u.toBin=function(t,n){if(t.length<512)return null;let r=-1,i=-1,a=[];for(let e=0;e<t.length;++e){var s=512*e,o=f(t.slice(s,512+s));if(o){if(n&&o.targetAddr+256>n)break;-1==r&&(r=o.targetAddr,i=r);var c=o.targetAddr-r;c<0||c%4||1048576<c||(0<c&&a.push(new Uint8Array(c)),a.push(t.slice(32+s,32+s+o.payloadSize)),r=o.targetAddr+o.payloadSize)}}let e=0;for(var l of a)e+=l.length;if(0==e)return null;let u=new Uint8Array(e),d=0;for(var p of a)for(let e=0;e<p.length;++e)u[d++]=p[e];return{buf:u,start:i}},u.readBytes=function(t,n,r){let i,a=new Uint8Array(r);for(let e=0;e<r;++e,++n)(i=s(i,n)?i:t.filter(e=>s(e,n))[0])&&(a[e]=i.data[n-i.targetAddr]);return a},u.newBlockFile=i,u.finalizeFile=a,u.concatFiles=function(e){for(var t of e)a(t),t.filename=null;var n,r=i();r.blocks=y.U.concat(e.map(e=>e.blocks));for(n of e)n.blocks=[];return r},u.serializeFile=function(e){a(e);let t="";for(var n of e.blocks)t+=y.Util.uint8ArrayToString(n);return t},u.readBytesFromFile=function e(t,n,r){let i,a=n>>8;if(a==t.currPtr)i=t.currBlock;else{for(let e=0;e<t.ptrs.length;++e)if(t.ptrs[e]==a){i=t.blocks[e];break}i&&(t.currPtr=a,t.currBlock=i)}var s,o;return i?(s=new Uint8Array(r),o=Math.min(r,256-(255&n)),y.U.memcpy(s,0,i,32+(255&n),o),0<(r=r-o)&&(n=e(t,n+o,r),y.U.memcpy(s,o,n)),s):null},u.writeBytes=p,u.writeHex=function(t,n){let r="0000";for(let e=0;e<n.length;++e){var i=/:02000004(....)/.exec(n[e]);if(i&&(r=i[1]),i=/^:..(....)00(.*)[0-9A-F][0-9A-F]$/.exec(n[e])){var a=parseInt(r+i[1],16),s=i[2],o=[];for(let e=0;e<s.length;e+=2)o.push(parseInt(s[e]+s[e+1],16));p(t,a,o)}}}}}(ts=ts||{}),function(l){{var e=l.shell||(l.shell={}),t;let a,s,o=((t=a=e.EditorLayoutType||(e.EditorLayoutType={}))[t.IDE=0]="IDE",t[t.Sandbox=1]="Sandbox",t[t.Widget=2]="Widget",!(t[t.Controller=3]="Controller")),c=!1;function n(){if(void 0===s){if(l.BrowserUtils.hasWindow()){const e=/sandbox=1|#sandbox|#sandboxproject/i.test(window.location.href)||l.BrowserUtils.isIFrame(),t=/nosandbox=1/i.test(window.location.href),n=/controller=1/i.test(window.location.href)&&l.BrowserUtils.isIFrame(),u=/readonly=1/i.test(window.location.href),r=/editorlayout=(widget|sandbox|ide)/i.exec(window.location.href),i=/noproject=1/i.test(window.location.href);if(s=a.IDE,t?s=a.Widget:n?s=a.Controller:e&&(s=a.Sandbox),n&&u&&(o=!0),n&&i&&(c=!0),r)switch(r[1].toLowerCase()){case"widget":s=a.Widget;break;case"sandbox":s=a.Sandbox;break;case"ide":s=a.IDE}}else s=a.Sandbox;l.debug(`shell: layout type ${a[s]}, readonly `+u())}}function r(){return n(),s==a.Sandbox}function u(){return!l.BrowserUtils.hasWindow()||r()&&!/[?&]edit=1/i.test(window.location.href)||i()&&o}function i(){return n(),s==a.Controller}e.layoutTypeClass=function(){return n(),l.shell.EditorLayoutType[s].toLowerCase()},e.isSandboxMode=r,e.isReadOnly=u,e.isNoProject=function(){return c},e.isControllerMode=i,e.isPyLangPref=function(){return"py"==l.storage.getLocal("editorlangpref")},e.getEditorLanguagePref=function(){return l.storage.getLocal("editorlangpref")},e.setEditorLanguagePref=function(e){e.match(/prj$/)&&(e=e.replace(/prj$/,"")),l.storage.setLocal("editorlangpref",e)},e.getToolboxAnimation=function(){return l.storage.getLocal("toolboxanimation")},e.setToolboxAnimation=function(){l.storage.setLocal("toolboxanimation","1")}}}(pxt=pxt||{}),function(e){{var t=e.skillmap||(e.skillmap={});t.USER_VERSION="0.0.1";class n{constructor(){this.db=new e.BrowserUtils.IDBWrapper(n.databaseName,n.version,(e,t)=>{t=t.result;e.oldVersion<1&&(t.createObjectStore(n.projectTable,{keyPath:n.projectKey}),t.createObjectStore(n.userTable,{keyPath:n.userKey}))})}initAsync(){return this.db.openAsync()}getAllProjectsAsync(){return this.db.getAllAsync(n.projectTable).then(e=>e.map(e=>e.project).filter(e=>!e.deleted))}deleteProjectAsync(e){return this.getProjectAsync(e).then(e=>{e.deleted=!0,this.saveProjectAsync(e)})}getProjectAsync(e){return this.db.getAsync(n.projectTable,e).then(e=>{return null==(e=e)?void 0:e.project})}saveProjectAsync(e){return this.db.setAsync(n.projectTable,{id:e.header.id,project:e})}getUserStateAsync(){return this.db.getAsync(n.userTable,"local-user").then(e=>{return null==(e=e)?void 0:e.user})}saveUserStateAsync(e){return this.db.setAsync(n.userTable,{id:"local-user",user:e})}}n.version=6,n.databaseName="local-skill-map",n.projectTable="projects",n.projectKey="id",n.userTable="users",n.userKey="id",t.IndexedDBWorkspace=n}}(pxt=pxt||{}),function(n){var e;(e=n.streams||(n.streams={})).createStreamAsync=function(e,t){return n.Cloud.privatePostAsync("streams",{target:e,name:t||"data"}).then(e=>e)},e.postPayloadAsync=function(e,t){return n.Util.assert(!!e.privatekey),n.Cloud.privatePostAsync(e.id+"/data?privatekey="+e.privatekey,t)}}(pxt=pxt||{}),function(n){{var i=n.svgUtil||(n.svgUtil={}),e;let t,r;(e=t=i.PatternUnits||(i.PatternUnits={}))[e.userSpaceOnUse=0]="userSpaceOnUse",e[e.objectBoundingBox=1]="objectBoundingBox",(e=r=i.LengthUnit||(i.LengthUnit={}))[e.em=0]="em",e[e.ex=1]="ex",e[e.px=2]="px",e[e.in=3]="in",e[e.cm=4]="cm",e[e.mm=5]="mm",e[e.pt=6]="pt",e[e.pc=7]="pc",e[e.percent=8]="percent";class o{constructor(e){this.el=a(e)}attr(t){return Object.keys(t).forEach(e=>{this.setAttribute(e,t[e])}),this}setAttribute(e,t){return this.el.setAttribute(e,t.toString()),this}setAttributeNS(e,t,n){return this.el.setAttributeNS(e,t,n.toString()),this}id(e){return this.setAttribute("id",e)}setClass(...e){return this.setAttribute("class",e.join(" "))}appendClass(e){return n.BrowserUtils.addClass(this.el,e),this}removeClass(e){n.BrowserUtils.removeClass(this.el,e)}title(e){this.titleElement||(this.titleElement=a("title"),this.el.firstChild?this.el.insertBefore(this.titleElement,this.el.firstChild):this.el.appendChild(this.titleElement)),this.titleElement.textContent=e}setVisible(e){return this.setAttribute("visibility",e?"visible":"hidden")}}class c extends(i.BaseElement=o){draw(e){e=function(e){switch(e){case"text":return new _;case"circle":return new g;case"rect":return new m;case"line":return new h;case"polygon":return new b;case"polyline":return new v;case"path":return new x;default:return new f(e)}}(e);return this.el.appendChild(e.el),e}element(e,t){return t(this.draw(e)),this}group(){var e=new l;return this.el.appendChild(e.el),e}appendChild(e){this.el.appendChild(e.el)}onDown(e){return i.events.down(this.el,e),this}onUp(e){return i.events.up(this.el,e),this}onMove(e){return i.events.move(this.el,e),this}onEnter(e){return i.events.enter(this.el,e),this}onLeave(e){return i.events.leave(this.el,e),this}onClick(e){return i.events.click(this.el,e),this}}i.DrawContext=c,i.SVG=class extends c{constructor(e){super("svg"),e&&e.appendChild(this.el)}define(e){return this.defs||(this.defs=new d(this.el)),e(this.defs),this}};class l extends c{constructor(e){super("g"),e&&e.appendChild(this.el)}translate(e,t){return this.left=e,this.top=t,this.updateTransform()}scale(e){return this.scaleFactor=e,this.updateTransform()}def(){return new d(this.el)}style(){return new p(this.el)}updateTransform(){let e="";return null!=this.left&&(e+=`translate(${this.left} ${this.top})`),null!=this.scaleFactor&&(e+=` scale(${this.scaleFactor})`),this.setAttribute("transform",e),this}}i.Group=l;class u extends c{constructor(){super("pattern")}units(e){return this.setAttribute("patternUnits",e===t.objectBoundingBox?"objectBoundingBox":"userSpaceOnUse")}contentUnits(e){return this.setAttribute("patternContentUnits",e===t.objectBoundingBox?"objectBoundingBox":"userSpaceOnUse")}size(e,t){return this.setAttribute("width",e),this.setAttribute("height",t),this}}i.Pattern=u;class d extends o{constructor(e){super("defs"),e.appendChild(this.el)}create(e,t){let n;switch(e){case"path":n=new x;break;case"pattern":n=new u;break;case"radialGradient":n=new T;break;case"linearGradient":n=new S;break;case"clipPath":n=new C;break;default:n=new o(e)}return n.id(t),this.el.appendChild(n.el),n}}i.DefsElement=d;class p extends o{constructor(e){super("style"),e.appendChild(this.el)}content(e){this.el.textContent=e}}i.StyleElement=p;class f extends c{at(e,t){return this.setAttribute("x",e),this.setAttribute("y",t),this}moveTo(e,t){return this.at(e,t)}fill(e,t){return this.setAttribute("fill",e),null!=t&&this.opacity(t),this}opacity(e){return this.setAttribute("fill-opacity",e)}stroke(e,t){return this.setAttribute("stroke",e),null!=t&&this.strokeWidth(t),this}strokeWidth(e){return this.setAttribute("stroke-width",e)}strokeOpacity(e){return this.setAttribute("stroke-opacity",e)}clipPath(e){return this.setAttribute("clip-path",e)}}class _ extends(i.Drawable=f){constructor(e){super("text"),null!=e&&this.text(e)}text(e){return this.el.textContent=e,this}fontFamily(e){return this.setAttribute("font-family",e)}fontSize(e,t){return this.setAttribute("font-size",s(e,t))}offset(e,t,n){return 0!==e&&this.setAttribute("dx",s(e,n)),0!==t&&this.setAttribute("dy",s(t,n)),this}anchor(e){return this.setAttribute("text-anchor",e)}}i.Text=_;class m extends f{constructor(){super("rect")}width(e,t=r.px){return this.setAttribute("width",s(e,t))}height(e,t=r.px){return this.setAttribute("height",s(e,t))}corner(e){return this.corners(e,e)}corners(e,t){return this.setAttribute("rx",e),this.setAttribute("ry",t),this}size(e,t,n=r.px){return this.width(e,n),this.height(t,n),this}}i.Rect=m;class g extends f{constructor(){super("circle")}at(e,t){return this.setAttribute("cx",e),this.setAttribute("cy",t),this}radius(e){return this.setAttribute("r",e)}}i.Circle=g;class h extends f{constructor(){super("line")}at(e,t,n,r){return this.from(e,t),null!=n&&null!=r&&this.to(n,r),this}from(e,t){return this.setAttribute("x1",e),this.setAttribute("y1",t),this}to(e,t){return this.setAttribute("x2",e),this.setAttribute("y2",t),this}}i.Line=h;class y extends f{points(e){return this.setAttribute("points",e)}with(e){return this.points(e.map(({x:e,y:t})=>e+" "+t).join(","))}}class v extends(i.PolyElement=y){constructor(){super("polyline")}}i.Polyline=v;class b extends y{constructor(){super("polygon")}}i.Polygon=b;class x extends f{constructor(){super("path"),this.d=new E}update(){return this.setAttribute("d",this.d.toAttribute())}path(e){return e(this.d),this.update()}}i.Path=x,i.Image=class extends f{constructor(){super("image")}src(e){return this.setAttributeNS("http://www.w3.org/1999/xlink","href",e)}width(e,t=r.px){return this.setAttribute("width",s(e,t))}height(e,t=r.px){return this.setAttribute("height",s(e,t))}size(e,t,n=r.px){return this.width(e,n),this.height(t,n),this}};class k extends o{units(e){return this.setAttribute("gradientUnits",e===t.objectBoundingBox?"objectBoundingBox":"userSpaceOnUse")}stop(e,t,n){var r=a("stop");return r.setAttribute("offset",e+"%"),null!=t&&r.setAttribute("stop-color",t),null!=n&&r.setAttribute("stop-opacity",n),this.el.appendChild(r),this}}class S extends(i.Gradient=k){constructor(){super("linearGradient")}start(e,t){return this.setAttribute("x1",e),this.setAttribute("y1",t),this}end(e,t){return this.setAttribute("x2",e),this.setAttribute("y2",t),this}}i.LinearGradient=S;class T extends k{constructor(){super("radialGradient")}center(e,t){return this.setAttribute("cx",e),this.setAttribute("cy",t),this}focus(e,t,n){return this.setAttribute("fx",e),this.setAttribute("fy",t),this.setAttribute("fr",n),this}radius(e){return this.setAttribute("r",e)}}i.RadialGradient=T;class C extends c{constructor(){super("clipPath")}clipPathUnits(e){return e?this.setAttribute("clipPathUnits","objectBoundingBox"):this.setAttribute("clipPathUnits","userSpaceOnUse")}}function a(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}i.ClipPath=C;class E{constructor(){this.ops=[]}clear(){this.ops=[]}moveTo(e,t){return this.op("M",e,t)}moveBy(e,t){return this.op("m",e,t)}lineTo(e,t){return this.op("L",e,t)}lineBy(e,t){return this.op("l",e,t)}cCurveTo(e,t,n,r,i,a){return this.op("C",e,t,n,r,i,a)}cCurveBy(e,t,n,r,i,a){return this.op("c",e,t,n,r,i,a)}qCurveTo(e,t,n,r){return this.op("Q",e,t,n,r)}qCurveBy(e,t,n,r){return this.op("q",e,t,n,r)}sCurveTo(e,t,n,r){return this.op("S",e,t,n,r)}sCurveBy(e,t,n,r){return this.op("s",e,t,n,r)}tCurveTo(e,t){return this.op("T",e,t)}tCurveBy(e,t){return this.op("t",e,t)}arcTo(e,t,n,r,i,a,s){return this.op("A",e,t,n,r?1:0,i?1:0,a,s)}arcBy(e,t,n,r,i,a,s){return this.op("a",e,t,n,r?1:0,i?1:0,a,s)}close(){return this.op("z")}toAttribute(){return this.ops.map(e=>e.op+" "+e.args.join(" ")).join(" ")}op(e,...t){return this.ops.push({op:e,args:t}),this}}function s(e,t){switch(t){case r.em:return e+"em";case r.ex:return e+"ex";case r.px:return e+"px";case r.in:return e+"in";case r.cm:return e+"cm";case r.mm:return e+"mm";case r.pt:return e+"pt";case r.pc:return e+"pc";case r.percent:return e+"%";default:return e.toString()}}i.PathContext=E}}(pxt=pxt||{}),function(e){function n(){return"undefined"!=typeof window&&("ontouchstart"in window||navigator&&0<navigator.maxTouchPoints)}function r(){return"undefined"!=typeof window&&!!window.PointerEvent}(e=(e=e.svgUtil||(e.svgUtil={})).events||(e.events={})).isTouchEnabled=n,e.hasPointerEvents=r,e.down=function(e,t){r()?e.addEventListener("pointerdown",t):n()?(e.addEventListener("mousedown",t),e.addEventListener("touchstart",t)):e.addEventListener("mousedown",t)},e.up=function(e,t){r()?e.addEventListener("pointerup",t):(n(),e.addEventListener("mouseup",t))},e.enter=function(e,t){r()?e.addEventListener("pointerover",e=>{t(!!(1&e.buttons))}):n()?e.addEventListener("touchstart",e=>{t(!0)}):e.addEventListener("mouseover",e=>{t(!!(1&e.buttons))})},e.leave=function(e,t){r()?e.addEventListener("pointerleave",t):n()?e.addEventListener("touchend",t):e.addEventListener("mouseleave",t)},e.move=function(e,t){r()?e.addEventListener("pointermove",t):n()?e.addEventListener("touchmove",t):e.addEventListener("mousemove",t)},e.click=function(e,t){e.addEventListener("click",t)}}(pxt=pxt||{}),function(e){e=e.svgUtil||(e.svgUtil={});{var t=e.helpers||(e.helpers={});class n extends e.Text{at(e,t){return this.cx=e,this.cy=t,this.rePosition(),this}text(e,t=12){return super.text(e),this.fontSizePixels=t,this.setAttribute("font-size",t+"px"),this.rePosition(),this}rePosition(){null!=this.cx&&null!=this.cy&&null!=this.fontSizePixels&&(this.setAttribute("x",this.cx),this.setAttribute("y",this.cy),this.setAttribute("text-anchor","middle"),this.setAttribute("alignment-baseline","middle"))}}t.CenteredText=n}}(pxt=pxt||{}),function(d){d.IMAGE_MIME_TYPE="image/x-mkcd-f4",d.TILEMAP_MIME_TYPE="application/mkcd-tilemap",d.ANIMATION_MIME_TYPE="application/mkcd-animation";class t{constructor(){this.assets=[],this.takenNames={},this.listeners=[]}add(e){return this.takenNames[e.id]?this.update(e.id,e):(e=a(e),this.takenNames[e.id]=!0,this.takenNames[p(e)]=!0,e.meta.displayName&&e.meta.displayName!==e.id&&(this.takenNames[e.meta.displayName]&&(e.meta.displayName=this.generateNewDisplayName(e.meta.displayName)),this.takenNames[e.meta.displayName]=!0),this.assets.push(e),a(e))}getSnapshot(t){return(t?this.assets.filter(e=>t(e)):this.assets).map(a)}update(e,t){let n;return this.takenNames[e]?c(this.lookupByID(e),t)?n=t:(this.removeByID(e),n=this.add(t),this.notifyListener(t.internalID)):n=this.add(t),n}removeByID(t){var e=this.lookupByID(t);this.assets=this.assets.filter(e=>e.id!==t),delete this.takenNames[t],e&&delete this.takenNames[p(e)],null!=e&&e.meta.displayName&&delete this.takenNames[null==e?void 0:e.meta.displayName]}getByID(e){e=this.lookupByID(e);return e&&a(e)}getByDisplayName(e){if(this.takenNames[e])for(const t of this.assets)if(t.meta.displayName===e||p(t)===e)return a(t)}isIDTaken(e){return!!this.takenNames[e]}clone(){var e=new t;return e.assets=this.getSnapshot(),e.takenNames=Object.assign({},this.takenNames),e}serializeToJRes(e={}){for(const a of this.assets){t=void 0;n=void 0;r=void 0;i=void 0;var t=a;var n=e;var r=t.id.substr(t.id.lastIndexOf(".")+1);switch(t.type){case"image":n[r]=t.jresData,t.meta.displayName&&(n[r]={data:t.jresData,mimeType:d.IMAGE_MIME_TYPE,displayName:t.meta.displayName});break;case"tile":n[r]={data:t.jresData,mimeType:d.IMAGE_MIME_TYPE,tilemapTile:!0,displayName:t.meta.displayName};break;case"tilemap":var i=function(e,t,n){var r=e.tilemap.data(),i=new Uint8ClampedArray(5+r.data.length+e.layers.data.length);return i[0]=e.tileset.tileWidth,i[1]=255&r.width,i[2]=r.width>>8&255,i[3]=255&r.height,i[4]=r.height>>8&255,i.set(r.data,5),i.set(e.layers.data,5+r.data.length),{id:t,mimeType:d.TILEMAP_MIME_TYPE,data:btoa(d.sprite.uint8ArrayToHex(i)),tileset:e.tileset.tiles.map(e=>e.id),displayName:n}}(t.data,t.id,t.meta.displayName);n[i.id]=i;break;case"animation":n[r]=function(e){return{namespace:e.id.substr(0,e.id.lastIndexOf(".")),id:e.id.substr(e.id.lastIndexOf(".")+1),mimeType:d.ANIMATION_MIME_TYPE,data:d.sprite.encodeAnimationString(e.frames,e.interval),displayName:e.meta.displayName}}(t)}}return e}addListener(e,t){this.listeners.push({internalID:e,callback:t})}removeListener(t){this.listeners=this.listeners.filter(e=>e.callback!==t)}diff(e){let t={before:[],after:[]},n={};for(const r of e.assets){n[r.internalID]=!0;const e=this.lookupByInternalID(r.internalID);e&&c(r,e)||(t.before.push(r),t.after.push(e))}for(const e of this.assets.filter(e=>!n[e.internalID]))t.before.push(null),t.after.push(e);return t}applyDiff(e,t=!1){var n=t?e.after:e.before,r=t?e.before:e.after;d.Util.assert(n.length===r.length);for(let e=0;e<n.length;e++)n[e]?(this.removeByInternalID(n[e].internalID),r[e]&&this.assets.push(r[e]),this.notifyListener(n[e].internalID)):(this.assets.push(r[e]),this.notifyListener(r[e].internalID));this.takenNames={};for(const e of this.assets)d.Util.assert(!this.takenNames[e.id]),this.takenNames[e.id]=!0,this.takenNames[p(e)]=!0,e.meta.displayName&&(e.meta.displayName!==e.id&&d.Util.assert(!this.takenNames[e.meta.displayName]),this.takenNames[e.meta.displayName]=!0)}lookupByID(e){for(const t of this.assets)if(t.id===e)return t;return null}lookupByInternalID(e){for(const t of this.assets)if(t.internalID===e)return t;return null}removeByInternalID(t){this.assets=this.assets.filter(e=>e.internalID!==t)}notifyListener(e){for(const t of this.listeners)t.internalID===e&&t.callback()}generateNewDisplayName(e){e=e.replace(/\d+$/,"");let t=0;for(;this.takenNames[e+t];)++t;return e+t}}function i(e){var t=[];for(const r of Object.keys(e)){var n=e[r];n.mimeType===d.TILEMAP_MIME_TYPE&&t.push(n)}return t}function s(e,t){return`
    helpers._registerFactory("${e}", function(name: string) {
        switch(helpers.stringTrim(name)) {
`+t.map(e=>e.keys.filter(e=>!!e).map(e=>`            case "${e}":`).join("\n")+`return ${e.expression};`).join("\n")+"\n        }\n        return null;\n    })\n"}function n(e){return d.sprite.Bitmap.fromData(e).copy().data()}function o(e,t){var n=atob(e.data),n=d.U.fromHex(n),r=n[1]|n[2]<<8,i=n[3]|n[4]<<8,e={tileWidth:n[0],tiles:e.tileset.map(e=>t&&t(e)||{id:e})},a=n.slice(5,5+r*i),s=new d.sprite.Tilemap(r,i,0,0,new Uint8ClampedArray(a)),n=n.slice(5+a.length),a=new d.sprite.Bitmap(r,i,0,0,new Uint8ClampedArray(n)).data();return new d.sprite.TilemapData(s,e,a)}function a(e){switch(e.meta=Object.assign({},e.meta),e.type){case"tile":case"image":return Object.assign(Object.assign({},e),{bitmap:n(e.bitmap)});case"animation":return Object.assign(Object.assign({},e),{frames:e.frames.map(e=>n(e))});case"tilemap":return Object.assign(Object.assign({},e),{data:e.data.cloneData()})}}function c(e,t){if(e==t)return!0;if(e.id!==t.id||e.type!==t.type||!r(e.meta.tags,t.meta.tags)||!r(e.meta.blockIDs,t.meta.blockIDs)||e.meta.displayName!==t.meta.displayName)return!1;switch(e.type){case"image":case"tile":return d.sprite.bitmapEquals(e.bitmap,t.bitmap);case"animation":return e.interval===t.interval&&r(e.frames,t.frames,d.sprite.bitmapEquals);case"tilemap":return e.data.equals(t.data)}}function l(e){e=/^\s*(?:(?:assets\s*\.\s*(image|tile|animation|tilemap))|(tilemap))\s*(?:`|\(""")([^`"]+)(?:`|"""\))\s*$/m.exec(e);if(e)return{type:e[1]||e[2],name:e[3].trim()}}function p(e){return u(e.type,e.id)}function u(e,t,n=!1){let r;switch(e){case"image":r=d.sprite.IMAGES_NAMESPACE+".";break;case"tile":r=d.sprite.TILE_NAMESPACE+".";break;case"tilemap":r="";break;case"animation":r=d.sprite.ANIMATION_NAMESPACE+"."}if(r)if(t.startsWith(r)){const d=t.substr(r.length);if(-1===d.indexOf("."))return d}else if(!n)return null;return t}function r(t,n,r=(e,t)=>e===t){if(t!=n){if(!t&&n||!n&&t||t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(!r(t[e],n[e]))return!1}return!0}function f(e){var t=atob(e.data),n=new Uint8ClampedArray(d.U.fromHex(t)),t=_(n,0),r=_(n,2),i=_(n,4),a=_(n,6),s=Math.ceil(r*i/2);let o=8;var c=[];for(let e=0;e<a;e++){const d=n.slice(o,o+s);c.push({x0:0,y0:0,width:r,height:i,data:d}),o+=s}let l=e.id;return{type:"animation",internalID:0,id:l=l.startsWith(e.namespace)?l:(l=e.namespace+"."+l).replace(/\.\./g,"."),interval:t,frames:c,meta:{displayName:e.displayName}}}function _(e,t){return e[t]|e[t+1]<<8}d.TilemapProject=class{constructor(){this.needsRebuild=!0,this.nextID=0,this.nextInternalID=0,this.committedState={revision:0,tilemaps:new t,tiles:new t,animations:new t,images:new t},this.state={revision:this.nextID++,tilemaps:new t,tiles:new t,animations:new t,images:new t},this.gallery={revision:0,tilemaps:new t,tiles:new t,animations:new t,images:new t},this.undoStack=[],this.redoStack=[]}getNewInternalId(){return this.nextInternalID++}createNewImage(e=16,t=16){var n=this.generateNewID("image"),e=new d.sprite.Bitmap(e,t).data(),t={internalID:this.getNewInternalId(),id:n,type:"image",bitmap:e,meta:{},jresData:d.sprite.base64EncodeBitmap(e)};return this.state.images.add(t)}createNewAnimation(e=16,t=16){var n=this.generateNewID("animation"),e=new d.sprite.Bitmap(e,t).data(),t={internalID:this.getNewInternalId(),id:n,type:"animation",frames:[e],interval:500,meta:{}};return this.state.animations.add(t)}createNewAnimationFromData(e,t=500,n){var r=this.generateNewID("animation"),r={internalID:this.getNewInternalId(),id:r,type:"animation",frames:e,interval:t,meta:{displayName:n}};return this.state.animations.add(r)}getGalleryTiles(t){return this.extensionTileSets?this.extensionTileSets.map(e=>e.tileSets.find(e=>e.tileWidth===t)).filter(e=>null==e?void 0:e.tiles.length):null}getProjectImages(){return this.state.images.getSnapshot()}getProjectTiles(t,e){var n=this.state.tiles.getSnapshot(e=>e.bitmap.width===t);return 0===n.length?e?(this.createNewTile(new d.sprite.Bitmap(t,t).data()),this.getProjectTiles(t,!1)):null:{tileWidth:t,tiles:n}}createNewTile(e,t,n){this.onChange(),t&&!this.isNameTaken("tile",t)||(t=this.generateNewID("tile"));t={internalID:this.getNewInternalId(),id:t,type:"tile",jresData:d.sprite.base64EncodeBitmap(e),bitmap:e,meta:{displayName:n},isProjectTile:!0};return this.state.tiles.add(t)}createNewProjectImage(e,t){this.onChange();t={internalID:this.getNewInternalId(),id:this.generateNewID("image"),type:"image",jresData:d.sprite.base64EncodeBitmap(e),meta:{displayName:t},bitmap:e};return this.state.images.add(t)}updateTile(t){this.onChange();var e=this.resolveProjectTileByInternalID(t.internalID);if(e){if(this.state.tiles.update(e.id,t),e.id!==t.id||!d.sprite.bitmapEquals(e.bitmap,t.bitmap))for(const d of this.getAssets("tilemap"))d.data.tileset.tiles.some(e=>e.internalID===t.internalID)&&(d.data.tileset.tiles=d.data.tileset.tiles.map(e=>e.internalID===t.internalID?t:e),this.updateTilemap(d.id,d.data));return t}return null}deleteTile(e){this.onChange(),this.state.tiles.removeByID(e)}getProjectTilesetJRes(){var e={};return this.state.tiles.serializeToJRes(e),this.state.tilemaps.serializeToJRes(e),e["*"]={mimeType:"image/x-mkcd-f4",dataEncoding:"base64",namespace:d.sprite.TILE_NAMESPACE},e}getProjectAssetsJRes(){var e={};return this.state.images.serializeToJRes(e),this.state.animations.serializeToJRes(e),e["*"]={mimeType:"image/x-mkcd-f4",dataEncoding:"base64",namespace:d.sprite.IMAGES_NAMESPACE},e}getTilemap(e){return this.state.tilemaps.getByID(e)}updateTilemap(e,t){var n=this.state.tilemaps.getByID(e);return n?(this.onChange(),n=Object.assign(Object.assign({},n),{data:t}),this.state.tilemaps.update(e,n),n):null}createNewTilemap(e,t,n=16,r=16){return this.createNewTilemapFromData(this.blankTilemap(t,n,r),e)}blankTilemap(e,t=16,n=16){var r=new d.sprite.Tilemap(t,n),t=new d.sprite.Bitmap(t,n),n={tileWidth:e,tiles:[this.getTransparency(e)]};return new d.sprite.TilemapData(r,n,t.data())}resolveTile(e){return this.lookupAsset("tile",e)}resolveProjectTileByInternalID(t){return this.state.tiles.getSnapshot(e=>e.internalID===t)[0]}resolveTileByBitmap(e){const t=d.sprite.base64EncodeBitmap(e);return this.state.tiles.getSnapshot(e=>e.jresData===t)[0]}getTransparency(e){var t=d.sprite.TILE_NAMESPACE+".transparency"+e;let n=this.state.tiles.getByID(t);return n||(e=new d.sprite.Bitmap(e,e).data(),n={internalID:this.getNewInternalId(),id:t,type:"tile",bitmap:e,jresData:d.sprite.base64EncodeBitmap(e),meta:{},isProjectTile:!0},this.state.tiles.add(n))}createNewTilemapFromData(e,t){this.onChange();t=this.generateNewIDInternal("tilemap",t||lf("level"));return this.state.tilemaps.add({internalID:this.getNewInternalId(),id:t,type:"tilemap",meta:{displayName:t},data:e}),[t,e]}cloneState(){return{revision:this.state.revision,images:this.state.images.clone(),tilemaps:this.state.tilemaps.clone(),animations:this.state.animations.clone(),tiles:this.state.tiles.clone()}}undo(){var e;this.state.revision!==this.committedState.revision&&this.pushUndo(),this.undoStack.length&&(e=this.undoStack.pop(),this.state.tiles.applyDiff(e.tiles,!0),this.state.images.applyDiff(e.images,!0),this.state.tilemaps.applyDiff(e.tilemaps,!0),this.state.animations.applyDiff(e.animations,!0),this.state.revision=e.beforeRevision,this.redoStack.push(e),this.committedState=this.cloneState(),this.needsRebuild=!0)}redo(){var e;this.redoStack.length&&(e=this.redoStack.pop(),this.state.tiles.applyDiff(e.tiles),this.state.images.applyDiff(e.images),this.state.tilemaps.applyDiff(e.tilemaps),this.state.animations.applyDiff(e.animations),this.state.revision=e.afterRevision,this.undoStack.push(e),this.committedState=this.cloneState(),this.needsRebuild=!0)}pushUndo(){this.undoStack.length&&this.committedState.revision===this.state.revision||(this.redoStack=[],this.undoStack.push({beforeRevision:this.committedState.revision,afterRevision:this.state.revision,tiles:this.state.tiles.diff(this.committedState.tiles),images:this.state.images.diff(this.committedState.images),tilemaps:this.state.tilemaps.diff(this.committedState.tilemaps),animations:this.state.animations.diff(this.committedState.animations)}),this.committedState=this.cloneState(),this.cleanupTemporaryAssets())}revision(){return this.state.revision}encodeTilemap(e,t){var n=e.tilemap.data(),r=new Uint8ClampedArray(5+n.data.length+e.layers.data.length);return r[0]=e.tileset.tileWidth,r[1]=255&n.width,r[2]=n.width>>8&255,r[3]=255&n.height,r[4]=n.height>>8&255,r.set(n.data,5),r.set(e.layers.data,5+n.data.length),{id:t,mimeType:d.TILEMAP_MIME_TYPE,data:btoa(d.sprite.uint8ArrayToHex(r)),tileset:e.tileset.tiles.map(e=>e.id)}}forceUpdate(){this.onChange()}isNameTaken(t,e){var n=e=>{switch(t){case"image":return this.state.images.isIDTaken(e)||this.gallery.images.isIDTaken(e);case"tile":return this.state.tiles.isIDTaken(e)||this.gallery.tiles.isIDTaken(e);case"tilemap":return this.state.tilemaps.isIDTaken(e)||this.gallery.tilemaps.isIDTaken(e);case"animation":return this.state.animations.isIDTaken(e)||this.gallery.animations.isIDTaken(e)}},r=u(t,e),i=r&&r!==e;return n(e)||i&&n(r)}isAssetUsed(n,r,i){var a,s,o;if(0<((null==(s=null==(a=n.meta)?void 0:a.blockIDs)?void 0:s.filter(e=>!i||(null==i?void 0:i.indexOf(e))<0))||[]).length)return!0;if("tile"==n.type)for(const d of this.getAssets("tilemap"))if(!(0<=(null==i?void 0:i.indexOf(d.id)))&&d.data.tileset.tiles.some(e=>e.id===n.id))return!0;if(r){const a=d.Util.escapeForRegex(p(n)),s=d.Util.escapeForRegex(null==(o=n.meta)?void 0:o.displayName)||"";let e;switch(n.type){case"tile":e=`myTiles.${a}|assets.tile\`${a}\``,s&&(e+=`|assets.tile\`${s}\``);break;case"tilemap":e=`tilemap\`${a}\``;break;case"animation":e=`assets.animation\`${a}\``,s&&(e+=`|assets.animation\`${s}\``);break;default:e=`assets.image\`${a}\``,s&&(e+=`|assets.image\`${s}\``)}var c=new RegExp(e,"gm");let t;switch(n.type){case"tile":t=`myTiles.${a}|assets.tile("""${a}""")`,s&&(t+=`|assets.tile("""${s}""")`);break;case"tilemap":t=`assets.tilemap("""${a}""")`;break;case"animation":t=`assets.animation("""${a}""")`,s&&(t+=`|assets.animation("""${s}""")`);break;default:t=`assets.image("""${a}""")`,s&&(t+=`|assets.image("""${s}""")`)}var l,u=new RegExp(t,"gm");for(l of Object.keys(r))if(!(0<=(null==i?void 0:i.indexOf(l)))){const n=r[l];if(l.match(/((?!\.g).{2}|^.{0,1})\.ts$/i)){if(n.content.match(c))return!0}else if(l.endsWith(".py")&&n.content.match(u))return!0}}return!1}lookupAsset(e,t){switch(e){case"image":return this.state.images.getByID(t)||this.gallery.images.getByID(t);case"tile":return this.state.tiles.getByID(t)||this.gallery.tiles.getByID(t);case"tilemap":return this.state.tilemaps.getByID(t)||this.gallery.tilemaps.getByID(t);case"animation":return this.state.animations.getByID(t)||this.gallery.animations.getByID(t)}}lookupAssetByName(e,t){switch(e){case"image":return this.state.images.getByDisplayName(t);case"tile":return this.state.tiles.getByDisplayName(t);case"tilemap":return this.state.tilemaps.getByDisplayName(t);case"animation":return this.state.animations.getByDisplayName(t)}}getAssets(e){switch(e){case"image":return this.state.images.getSnapshot();case"tile":return this.state.tiles.getSnapshot();case"tilemap":return this.state.tilemaps.getSnapshot();case"animation":return this.state.animations.getSnapshot()}}getGalleryAssets(e){switch(e){case"image":return this.gallery.images.getSnapshot();case"tile":return this.gallery.tiles.getSnapshot();case"tilemap":return this.gallery.tilemaps.getSnapshot();case"animation":return this.gallery.animations.getSnapshot()}}lookupBlockAsset(e,t){var n=e=>{return-1!==(null==(e=null==(e=e.meta)?void 0:e.blockIDs)?void 0:e.indexOf(t))};switch(e){case"image":return this.state.images.getSnapshot(n)[0];case"tile":return this.state.tiles.getSnapshot(n)[0];case"tilemap":return this.state.tilemaps.getSnapshot(n)[0];case"animation":return this.state.animations.getSnapshot(n)[0]}}updateAsset(e){switch(this.onChange(),e.type){case"image":return this.state.images.update(e.id,e);case"tile":return this.updateTile(e);case"tilemap":return this.state.tilemaps.update(e.id,e);case"animation":return this.state.animations.update(e.id,e)}}duplicateAsset(e,t){this.onChange();var n=a(e),r=t||(null==(t=n.meta)?void 0:t.displayName);let i;switch(e.type){case"image":i=this.createNewProjectImage(n.bitmap,r);break;case"tile":i=this.createNewTile(n.bitmap,null,r);break;case"tilemap":const[e,t]=this.createNewTilemapFromData(n.data,r);i=this.getTilemap(e);break;case"animation":i=this.createNewAnimationFromData(n.frames,n.interval,r)}return i}removeAsset(e){switch(this.onChange(),e.type){case"image":return this.state.images.removeByID(e.id);case"tile":return this.state.tiles.removeByID(e.id);case"tilemap":return this.state.tilemaps.removeByID(e.id);case"animation":return this.state.animations.removeByID(e.id)}}addChangeListener(e,t){switch(e.type){case"image":this.state.images.addListener(e.internalID,t);break;case"tile":this.state.tiles.addListener(e.internalID,t);break;case"tilemap":this.state.tilemaps.addListener(e.internalID,t);break;case"animation":this.state.animations.addListener(e.internalID,t)}}removeChangeListener(e,t){switch(e){case"image":this.state.images.removeListener(t);break;case"tile":this.state.tiles.removeListener(t);break;case"tilemap":this.state.tilemaps.removeListener(t);break;case"animation":this.state.animations.removeListener(t)}}loadPackage(e){const t=e.sortedDeps();this.extensionTileSets=[];for(const e of t){const t="this"===e.id,i=this.readImages(e.parseJRes(),t);for(const e of i)("tile"===e.type?(t?this.state:this.gallery).tiles:"image"===e.type?(t?this.state:this.gallery).images:(t?this.state:this.gallery).animations).add(e)}for(const t of i(e.parseJRes()))this.state.tilemaps.add({internalID:this.getNewInternalId(),type:"tilemap",id:t.id,meta:{displayName:t.displayName||t.id},data:o(t,e=>this.resolveTile(e))});this.committedState=this.cloneState(),this.undoStack=[],this.redoStack=[]}loadTilemapJRes(e,t=!1){e=d.inflateJRes(e);var n=this.readImages(e,!0).filter(e=>"tile"===e.type);let r={};for(const d of n){if(t){const e=this.resolveTileByBitmap(d.bitmap);if(e){r[d.id]=e.id;continue}}const e=this.createNewTile(d.bitmap,d.id,d.meta.displayName);e.id!==d.id&&(r[d.id]=e.id)}for(const d of i(e))this.state.tilemaps.add({internalID:this.getNewInternalId(),type:"tilemap",id:d.id,meta:{displayName:d.displayName||d.id},data:o(d,e=>(r[e]&&(e=r[e]),this.resolveTile(e)))})}loadAssetsJRes(e){e=d.inflateJRes(e);var t=[];for(const r of Object.keys(e)){var n=e[r];if(n.tilemapTile)this.state.tiles.add(this.generateImage(n,"tile"));else if(n.mimeType===d.IMAGE_MIME_TYPE)this.state.images.add(this.generateImage(n,"image"));else if(n.mimeType===d.ANIMATION_MIME_TYPE){const[d,e]=this.generateAnimation(n);e?t.push(d):this.state.animations.add(d)}}for(const d of t)this.state.animations.add(this.inflateAnimation(d,this.state.images.getSnapshot()))}removeInactiveBlockAssets(r){function e(e){var t=e.getSnapshot(e=>{return!e.meta.displayName&&(null==(e=e.meta.blockIDs)?void 0:e.some(e=>-1===r.indexOf(e)))}),n=[];for(const e of t)1!==e.meta.blockIDs.length&&(e.meta.blockIDs=e.meta.blockIDs.filter(e=>-1!==r.indexOf(e)),0!==e.meta.blockIDs.length)||n.push(e);for(const r of n)e.removeByID(r.id)}e(this.state.images),e(this.state.tiles),e(this.state.tilemaps),e(this.state.animations)}generateImage(e,t){return{internalID:this.getNewInternalId(),type:t,id:e.id,meta:{displayName:e.displayName},jresData:e.data,bitmap:d.sprite.getBitmapFromJResURL(`data:${d.IMAGE_MIME_TYPE};base64,`+e.data).data()}}generateAnimation(t){if("json"!==t.dataEncoding)return[Object.assign(Object.assign({},f(t)),{internalID:this.getNewInternalId()}),!1];{let e;try{e=JSON.parse(t.data)}catch(e){console.warn("could not parse json data of '"+t.id+"'")}return[{internalID:this.getNewInternalId(),type:"animation",meta:{displayName:t.displayName},id:t.id,frames:[],frameIds:e.frames,interval:100,flippedHorizontal:e.flippedHorizontal},!0]}}inflateAnimation(e,n){return e.frames=e.frameIds.map(t=>n.find(e=>e.id===t).bitmap),e.flippedHorizontal&&(e.frames=e.frames.map(e=>{var n=d.sprite.Bitmap.fromData(e),r=new d.sprite.Bitmap(e.width,e.height);for(let t=0;t<r.width;t++)for(let e=0;e<r.height;e++)r.set(t,e,n.get(n.width-t-1,e));return r.data()})),e}generateNewID(e){switch(e){case"animation":return this.generateNewIDInternal("animation",d.sprite.ANIMATION_PREFIX,d.sprite.ANIMATION_NAMESPACE);case"image":return this.generateNewIDInternal("image",d.sprite.IMAGE_PREFIX,d.sprite.IMAGES_NAMESPACE);case"tile":return this.generateNewIDInternal("tile",d.sprite.TILE_PREFIX,d.sprite.TILE_NAMESPACE);case"tilemap":return this.generateNewIDInternal("tilemap",lf("level"))}}generateNewIDInternal(e,t,n){t=t.replace(/\d+$/,"");var r=n?n+"."+t:t;let i=1;for(;this.isNameTaken(e,r+i);)++i;return r+i}onChange(){this.needsRebuild=!0,this.state.revision=this.nextID++}readImages(e,t=!1){var n=[],r=[];for(const a of Object.keys(e)){var i=e[a];if(i.tilemapTile){const d=this.generateImage(i,"tile");d.isProjectTile=t,n.push(d)}else if(i.mimeType===d.IMAGE_MIME_TYPE)n.push(this.generateImage(i,"image"));else if(i.mimeType===d.ANIMATION_MIME_TYPE){const[d,e]=this.generateAnimation(i);(e?r:n).push(d)}}for(const d of r)n.push(this.inflateAnimation(d,n));return n}cleanupTemporaryAssets(){for(const e of this.state.images.getSnapshot(e=>{return!(e.meta.displayName||null!=(e=e.meta.blockIDs)&&e.length)}))this.state.images.removeByID(e.id)}},d.emitTilemapsFromJRes=function(e){const t=Object.keys(e);let n="";var r=[],i=[];for(const s of t)if("*"!==s){const t=e[s];if(t.tilemapTile&&(n=(n+="    //% fixedInstance jres blockIdentity=images._tile\n")+`    export const ${s} = image.ofBuffer(hex\`\`);
`,i.push({keys:[t.displayName,u("tile",s,!0)],expression:s})),t.mimeType===d.TILEMAP_MIME_TYPE){const e=o(t);r.push({keys:[t.displayName,u("tilemap",t.id)],expression:d.sprite.encodeTilemap(e,"typescript")})}}r.length&&(n+=s("tilemap",r)),i.length&&(n+=s("tile",i));var a=lf("Auto-generated code. Do not edit.");return`// ${a}
namespace ${d.sprite.TILE_NAMESPACE} {
${n}
}
// ${a}
`},d.emitProjectImages=function(e){const n=Object.keys(e);var t="",r=[],i=[];for(const s of n)if("*"!==s){const n=e[s];if("string"==typeof n||n.mimeType===d.IMAGE_MIME_TYPE){let e,t=[u("image",s,!0)];"string"==typeof n?e=d.sprite.bitmapToImageLiteral(d.sprite.getBitmapFromJResURL(n),"typescript"):(e=d.sprite.bitmapToImageLiteral(d.sprite.getBitmapFromJResURL(n.data),"typescript"),t.push(n.displayName)),r.push({keys:t,expression:e})}else if(n.mimeType===d.ANIMATION_MIME_TYPE){const e=f(n);i.push({keys:[n.displayName,u("animation",s,!0)],expression:`[${e.frames.map(e=>d.sprite.bitmapToImageLiteral(d.sprite.Bitmap.fromData(e),"typescript")).join(", ")}]`})}}var a=lf("Auto-generated code. Do not edit."),t=(t+=s("image",r))+s("animation",i);return`// ${a}
namespace ${d.sprite.IMAGES_NAMESPACE} {
${t}
}
// ${a}
`},d.cloneAsset=a,d.assetEquals=c,d.validateAssetName=function(e){return!!e&&!/[\u0000-\u001f\u0021-\u002c\u002e\u002f\u003a-\u0040\u005b-\u005e\u0060\u007b-\u007f]/.test(e)},d.getTSReferenceForAsset=function(e,t=!1){var n,r=null!=(n=e.meta)&&n.displayName?e.meta.displayName:p(e);if(!r)return"image"===e.type||"tile"===e.type?e.id:void 0;var i=t?'("""':"`",a=t?'""")':"`";switch(e.type){case"tile":return"assets.tile"+i+r+a;case"image":return"assets.image"+i+r+a;case"animation":return"assets.animation"+i+r+a;case"tilemap":return"tilemap"+i+r+a}},d.parseAssetTSReference=l,d.lookupProjectAssetByTSReference=function(e,t){var n=l(e);if(n){const{type:e,name:r}=n;switch(e){case"tile":return t.lookupAssetByName("tile",r);case"image":return t.lookupAssetByName("image",r);case"tilemap":return t.lookupAssetByName("tilemap",r)||t.lookupAsset("tilemap",r);case"animation":return t.lookupAssetByName("animation",r)}}},d.getDefaultAssetDisplayName=function(e){switch(e){case"image":return lf("myImage");case"tile":return lf("myTile");case"tilemap":return lf("level");case"animation":return lf("myAnim");default:return lf("asset")}},d.getShortIDForAsset=p}(pxt=pxt||{}),function(i){{var e=i.toolbox||(i.toolbox={});e.blockColors={loops:"#107c10",logic:"#006970",math:"#712672",variables:"#A80000",functions:"#005a9e",text:"#996600",arrays:"#A94400",advanced:"#3c3c3c",addpackage:"#717171",search:"#000",debug:"#e03030",default:"#dddddd",topblocks:"#aa8f00",recipes:"#717171"},e.blockIcons={loops:"",logic:"",math:"",variables:"",functions:"",text:"",arrays:"",advancedcollapsed:"",advancedexpanded:"",more:"",addpackage:"",search:"",debug:"",default:"",topblocks:"",recipes:""};let r="";function n(e){e=function(e,t){let n=0,r=0,i=0;var a=Math.floor(e/60),e=e/60-a,s=.55*t,o=t*(1-.45*e),c=t*(1-.45*(1-e));switch(a){case 1:n=o,r=t,i=s;break;case 2:n=s,r=t,i=c;break;case 3:n=s,r=o,i=t;break;case 4:n=c,r=s,i=t;break;case 5:n=t,r=s,i=o;break;case 6:case 0:n=t,r=c,i=s}return[Math.floor(n),Math.floor(r),Math.floor(i)]}(e,165.75);return"#"+t(e[0])+t(e[1])+t(e[2])}function t(e){e=e.toString(16);return 1==e.length?"0"+e:e}e.appendToolboxIconCss=function(e,t){var n;-1<r.indexOf(e)||(1===t.length?(n=i.Util.unicodeToChar(t),r+=`
                .blocklyTreeIcon.${e}::before {
                    content: "${n}";
                }
            `):r+=`
                .blocklyTreeIcon.${e} {
                    background-image: url("${i.Util.pathJoin(i.webConfig.commitCdnUrl,encodeURI(t))}")!important;
                    width: 30px;
                    height: 100%;
                    background-size: 20px !important;
                    background-repeat: no-repeat !important;
                    background-position: 50% 50% !important;
                }
            `)},e.getNamespaceColor=function(e){return e=e.toLowerCase(),i.appTarget.appTheme.blockColors&&i.appTarget.appTheme.blockColors[e]?i.appTarget.appTheme.blockColors[e]:i.toolbox.blockColors[e]||""},e.getNamespaceIcon=function(e){return e=e.toLowerCase(),i.appTarget.appTheme.blockIcons&&i.appTarget.appTheme.blockIcons[e]?i.appTarget.appTheme.blockIcons[e]:i.toolbox.blockIcons[e]||""},e.advancedTitle=function(){return i.Util.lf("{id:category}Advanced")},e.addPackageTitle=function(){return i.Util.lf("{id:category}Extensions")},e.recipesTitle=function(){return i.Util.lf("{id:category}Tutorials")},e.convertColor=function(e){e=(t=e)?"0x"==t.substring(0,2)?"#"+t.substring(2):t:"#000000";var t=parseInt(e);return isNaN(t)?e:n(t)},e.hueToRgb=n,e.fadeColor=function(t,n,r){(t=t.replace(/[^0-9a-f]/gi,"")).length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);let i="#";for(let e=0;e<3;e++){var a=parseInt(t.substr(2*e,2),16),a=(a=Math.round(Math.min(Math.max(0,r?a+a*n:a-a*n),255))).toString(16);i+=("00"+a).substr(a.length)}return i}}}(pxt=pxt||{}),function(x){{var e=x.tutorial||(x.tutorial={});const C=/^##[^#](.*)$([\s\S]*?)(?=^##[^#]|$(?![\r\n]))/gim,E=/^###[^#](.*)$([\s\S]*?)(?=^###[^#]|$(?![\r\n]))/gim;function k(e,t,s){let n=t||C,o=[];if(e.replace(n,function(e,t,n){var{header:r,hint:i,requiredBlocks:a}=function(t,e,n){let r,i,a=t=S(t);if(e){const e=/#+ ~ tutorialhint([\s\S]*)/i;a=t.replace(e,function(e,t){return r=t,""})}else{const e=/(^[\s\S]*?\S)\s*((```|\[?\!\[[\s\S]+?\]\(\S+?\)\]?)[\s\S]*)/im;t=t.match(e);if(t&&2<t.length&&(a=t[1].trim(),r=t[2].trim(),n)){let e=t[2].trim();e=e.replace(/``` *(requiredTutorialBlock)\s*\n([\s\S]*?)\n```/gim,function(e,t,n){return i=`{
${n}
}`,""}),r=e}}return{header:a,hint:r,requiredBlocks:i}}(n=n.trim(),s&&s.explicitHints,s.tutorialCodeValidation),n={title:t.match(/^\{.*\}$/)?void 0:t.replace(/@(fullscreen|unplugged|showdialog|showhint|tutorialCompleted|resetDiff)/gi,"").trim(),contentMd:n,headerContentMd:r};return/@(fullscreen|unplugged|showdialog|showhint)/i.test(t)&&(n.showHint=!0),/@(unplugged|showdialog)/i.test(t)&&(n.showDialog=!0),/@tutorialCompleted/.test(t)&&(n.tutorialCompleted=!0),/@resetDiff/.test(t)&&(n.resetDiff=!0),i&&(n.hintContentMd=i),s.tutorialCodeValidation&&a&&(n.requiredBlockMd=a),o.push(n),""}),0!=e.indexOf("# Not found"))return o;x.debug("tutorial not found")}function S(e){return e&&e.replace(/```(filterblocks|package|ghost|config|template|jres|assetjson|customts)\s*\n([\s\S]*?)\n```/gim,"").trim()}function T(e){if(e)return e=JSON.parse(e),{[x.TILEMAP_JRES]:e[x.TILEMAP_JRES],[x.TILEMAP_CODE]:e[x.TILEMAP_CODE],[x.IMAGES_JRES]:e[x.IMAGES_JRES],[x.IMAGES_CODE]:e[x.IMAGES_CODE]}}e.parseTutorial=function(n){const{metadata:t,body:r}=function(){const r={},e=n.replace(/### @(\S+) ([ \S]+)/gi,function(e,t,n){try{r[t]=JSON.parse(n)}catch(e){r[t]=n}return""}),t=r;return void 0!==t.explicitHints&&x.appTarget.appTheme&&x.appTarget.appTheme.tutorialExplicitHints&&(t.explicitHints=!0),{metadata:t,body:e}}(),{steps:i,activities:a}=function(t,n){if(n&&n.activities){var o=n;let a=[],s=[];return t.replace(C,function(e,t,n){let r=s.length,i=(s.push({name:t||lf("Activity {0}",r),step:a.length}),k(n,E,o));return i=i.map(e=>(e.activity=r,e)),a=a.concat(i),""}),{steps:a,activities:s}}{let e=k(t,null,n);return{steps:e=!e||e.length<1?k(t,E,n):e,activities:null}}}(r,t),s=(o=r.match(/^#[^#](.*)$/im))&&1<o.length?o[1].trim():null;if(i){var{code:o,templateCode:c,editor:l,language:u,jres:d,assetJson:p,customTs:f,tutorialValidationRulesStr:_}=function(e){let t;let r,i,a,s,o,c,l=[];return e.replace(/((?!.)\s)+/g,"\n").replace(/``` *(sim|block|blocks|filterblocks|spy|ghost|typescript|ts|js|javascript|template|python|jres|assetjson|customts|tutorialValidationRules|requiredTutorialBlock)\s*\n([\s\S]*?)\n```/gim,function(e,t,n){switch(t){case"block":case"blocks":case"requiredTutorialBlock":case"filterblocks":if(u(x.BLOCKS_PROJECT_NAME))break;return;case"spy":case"python":if(!u(x.PYTHON_PROJECT_NAME))return;"python"==t&&(a=t);break;case"typescript":case"ts":case"javascript":case"js":if(u(x.JAVASCRIPT_PROJECT_NAME))break;return;case"template":i=n;break;case"jres":r=n;break;case"assetjson":s=n;break;case"customts":o=n,n="";break;case"tutorialValidationRules":c=n}return l.push("python"==t?`
${n}
`:`{
${n}
}`),""}),t=t||x.BLOCKS_PROJECT_NAME,{code:l,templateCode:i,editor:t,language:a,jres:r,assetJson:s,customTs:o,tutorialValidationRulesStr:c};function u(e){return t&&t!=e?(x.debug("tutorial ambiguous: contains snippets of different types"),0):(t=e,1)}}(r);let e;if(t.tutorialCodeValidation){e=x.Util.jsonTryParse(_);{var m=e;var g=s;var h=Object.keys(m);for(let e=0;e<h.length;e++){var y={ruleName:h[e],enabled:m[h[e]]?"true":"false",tutorial:g};x.tickEvent("tutorial.validation.setValidationRules",y)}}}if(!0===t.diffs||!1!==t.diffs&&!0!==t.noDiffs&&(l==x.BLOCKS_PROJECT_NAME&&x.appTarget.appTheme.tutorialBlocksDiff||l!=x.BLOCKS_PROJECT_NAME&&x.appTarget.appTheme.tutorialTextDiff)){_=i;var v=a;let c;function b(e){const s={typescript:"diff",spy:"diffspy",blocks:"diffblocks",python:"diff"},o=/\s*(\/\/|#)\s*@highlight/gm;return e&&e.replace(/```(typescript|spy|python|blocks|ghost|template)((?:.|[\r\n])+)```/,function(e,t,n){var r=c,i=/^(template|ghost)$/.test(t),a=o.test(n);return n=n.replace(/^\n+/,"").replace(/\n+$/,""),a&&(n=n.replace(o,"")),c=n,!r||a||i?e:`\`\`\`${s[t]}
${r}
----------
${n}
\`\`\``})}_.forEach((e,t)=>{if((e.resetDiff||v&&v.find(e=>e.step==t))&&(c=void 0),e.hintContentMd){const v=b(e.hintContentMd);if(v&&v!=e.hintContentMd)return void(e.hintContentMd=v)}if(e.headerContentMd){const v=b(e.headerContentMd);v&&v!=e.headerContentMd&&(e.headerContentMd=v)}})}_=T(p);return i.forEach(e=>{e.contentMd=S(e.contentMd),e.headerContentMd=S(e.headerContentMd),e.hintContentMd=S(e.hintContentMd),e.requiredBlockMd=S(e.requiredBlockMd)}),{editor:l,title:s,steps:i,activities:a,code:o,templateCode:c,metadata:t,language:u,jres:d,assetFiles:_,customTs:f,tutorialValidationRules:e}}},e.getMetadataRegex=function(){return/``` *(sim|block|blocks|filterblocks|spy|ghost|typescript|ts|js|javascript|template|python|jres|assetjson|customts|tutorialValidationRules|requiredTutorialBlock)\s*\n([\s\S]*?)\n```/gim},e.highlight=function(n){let r=n.textContent;if(r=(r=r.replace(/img\s*\(\s*"{3}[\s\da-f.#tngrpoyw]*"{3}\s*\)/g,'img(""" """)')).replace(/img\s*`[\s\da-f.#tngrpoyw]*`\s*/g,"img` `"),/@highlight/.test(r)){n.textContent="";var i=r.split("\n");for(let t=0;t<i.length;++t){0<t&&t<i.length&&n.appendChild(document.createTextNode("\n"));let e=i[t];if(/@highlight/.test(e)){if(void 0!==(e=i[++t])){const r=document.createElement("span");r.className="highlight-line",r.textContent=e,n.appendChild(r)}}else n.appendChild(document.createTextNode(e))}}else n.textContent=r},e.getTutorialOptions=function(e,t,n,r,i){var a=x.tutorial.parseTutorial(e);if(a)return{options:{tutorial:t,tutorialName:a.title||n,tutorialReportId:r,tutorialStep:0,tutorialReady:!0,tutorialHintCounter:0,tutorialStepInfo:a.steps,tutorialActivityInfo:a.activities,tutorialMd:e,tutorialCode:a.code,tutorialRecipe:!!i,templateCode:a.templateCode,autoexpandStep:!(null!=(t=a.metadata)&&t.autoexpandOff),metadata:a.metadata,language:a.language,jres:a.jres,assetFiles:a.assetFiles,customTs:a.customTs,tutorialValidationRules:a.tutorialValidationRules},editor:a.editor};throw new Error(lf("Invalid tutorial format"))},e.parseCachedTutorialInfo=function(e,r){let i=x.Util.jsonTryParse(e);return i?x.BrowserUtils.tutorialInfoDbAsync().then(e=>{if(r&&i[r]){var t=i[r];t.usedBlocks&&t.hash&&e.setWithHashAsync(r,t.snippetBlocks,t.hash)}else for(var n of Object.keys(i)){const r=i[n];r.usedBlocks&&r.hash&&e.setWithHashAsync(n,r.snippetBlocks,r.hash)}}).catch(e=>{}):Promise.resolve()},e.resolveLocalizedMarkdown=function(e,t,n){var n=(n||e.fileName||"README")+".md",[e,r,i]=x.Util.normalizeLanguageCode(x.Util.userLanguage()),i=e&&r&&i?t[`_locales/${e}/`+n]||t[`_locales/${i}/`+n]||t[`_locales/${r}/`+n]:t[`_locales/${e}/`+n];return i||t[n]},e.parseAssetJson=T}}(pxt=pxt||{}),function(u){(u.tutorial||(u.tutorial={})).validate=async function(n,e,r){var t,i=function(t){var n=[];if(null!=t){var r=Object.keys(t);for(let e=0;e<r.length;e++){var i=r[e],i={ruleName:i,ruleTurnOn:t[i]};n.push(i)}}return n}(n.tutorialValidationRules);if(0<i.length&&0<e.length){const r=function(t){var n={};for(let e=0;e<t.length;e++)n[t[e]]||(n[t[e]]=0),n[t[e]]=n[t[e]]+1;return n}(e.map(e=>e.type)),{tutorialStepInfo:s,tutorialStep:o}=n,c=(s[o],t=n,await u.BrowserUtils.tutorialInfoDbAsync().then(e=>e.getAsync(t.tutorial,t.tutorialCode).then(e=>null!=e&&e.snippets?Promise.resolve(e.snippets):Promise.resolve(void 0)))),l=function(e,t){var n=e["tutorialStep"],e=e.tutorialStepInfo[n].hintContentMd;let r="";null!=e&&e.replace(/((?!.)\s)+/g,"\n").replace(/``` *(block|blocks)\s*\n([\s\S]*?)\n```/gim,function(e,t,n){return r=`{
${n}
}`,""});n=u.BrowserUtils.getTutorialCodeHash([r]);let i={};return i=null!=t?t[n]:i}(n,c);for(let t=0;t<i.length;t++){let e=i[t];var a=i[t].ruleName;if(i[t].ruleTurnOn)switch(a){case"exact":e=function(t,n,e){e.isStrict=!0;var r=Object.keys(t);let i=[],a=[],s=(null!=n&&(i=Object.keys(n)),r.length>=i.length);r=lf("These are the blocks you seem to be missing:");for(let e=0;e<i.length;e++){var o=i[e];(!t[o]||t[o]<n[o])&&(a.push(o),s=!1)}return e.ruleMessage=r,e.ruleStatus=s,e.blockIds=a,e}(r,l,e);break;case"atleast":e=function(t,e,n){var r=Object.keys(t),i=Object.keys(null!=e?e:{});let a=r.length>=i.length;for(let e=0;e<i.length;e++)if(!t[i[e]]){a=!1;break}return n.ruleStatus=a,n}(r,l,e);break;case"required":e=function(t,e,n){n.isStrict=!0,Object.keys(t);let r=[],i=[],a=(null!=e&&(r=Object.keys(e)),!0);e=lf("You are required to have the following block:");for(let e=0;e<r.length;e++){var s=r[e];t[s]||(i.push(s),a=!1)}return n.ruleMessage=e,n.ruleStatus=a,n.blockIds=i,n}(r,function(e,t){var n=e["tutorialStep"],e=e.tutorialStepInfo[n].requiredBlockMd,n=u.BrowserUtils.getTutorialCodeHash([e]);let r={};return r=null!=t?t[n]:r}(n,c),e)}}}return i}}(pxt=pxt||{}),function(r){{var i=r.pxtc||(r.pxtc={}),e;let n;i.flattenDiagnosticMessageText=function(r,i){if("string"==typeof r)return r;{let e=r,t="",n=0;for(;e;){if(n){t+=i;for(let e=0;e<n;e++)t+="  "}t+=e.messageText,n++,e=e.next}return t}},(e=n=i.ScriptTarget||(i.ScriptTarget={}))[e.ES3=0]="ES3",e[e.ES5=1]="ES5",e[e.ES6=2]="ES6",e[e.ES2015=2]="ES2015",e[e.Latest=2]="Latest",i.isIdentifierStart=function(e,t){return 65<=e&&e<=90||97<=e&&e<=122||36===e||95===e||127<e&&a(e,t)},i.isIdentifierPart=function(e,t){return 65<=e&&e<=90||97<=e&&e<=122||48<=e&&e<=57||36===e||95===e||127<e&&(e=e,t>=n.ES5?s(e,c):s(e,u))},i.reservedWords=["abstract","any","as","break","case","catch","class","continue","const","constructor","debugger","declare","default","delete","do","else","enum","export","extends","false","finally","for","from","function","get","if","implements","import","in","instanceof","interface","is","let","module","namespace","new","null","package","private","protected","public","require","global","return","set","static","super","switch","symbol","this","throw","true","try","type","typeof","var","void","while","with","yield","async","await","of","Math"],i.keywordTypes=["boolean","number","string"],i.escapeIdentifier=function(e){if(!e)return"_";let t=e.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_$]/g,e=>r.pxtc.isIdentifierPart(e.charCodeAt(0),r.pxtc.ScriptTarget.ES5)?e:"");return t=t&&r.pxtc.isIdentifierStart(t.charCodeAt(0),r.pxtc.ScriptTarget.ES5)&&-1===i.reservedWords.indexOf(t)?t:"_"+t};const o=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2208,2208,2210,2220,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],c=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1319,1329,1366,1369,1369,1377,1415,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1520,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2048,2093,2112,2139,2208,2208,2210,2220,2276,2302,2304,2403,2406,2415,2417,2423,2425,2431,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3140,3142,3144,3146,3149,3157,3158,3160,3161,3168,3171,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3299,3302,3311,3313,3314,3330,3331,3333,3340,3342,3344,3346,3386,3389,3396,3398,3400,3402,3406,3415,3415,3424,3427,3430,3439,3450,3455,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5908,5920,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6160,6169,6176,6263,6272,6314,6320,6389,6400,6428,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6617,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6912,6987,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7376,7378,7380,7414,7424,7654,7676,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8204,8205,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,11823,11823,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12442,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42647,42655,42737,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43047,43072,43123,43136,43204,43216,43225,43232,43255,43259,43259,43264,43309,43312,43347,43360,43388,43392,43456,43471,43481,43520,43574,43584,43597,43600,43609,43616,43638,43642,43643,43648,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65062,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],l=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1569,1594,1600,1610,1649,1747,1749,1749,1765,1766,1786,1788,1808,1808,1810,1836,1920,1957,2309,2361,2365,2365,2384,2384,2392,2401,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2784,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2877,2877,2908,2909,2911,2913,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3294,3294,3296,3297,3333,3340,3342,3344,3346,3368,3370,3385,3424,3425,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3805,3840,3840,3904,3911,3913,3946,3976,3979,4096,4129,4131,4135,4137,4138,4176,4181,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6067,6176,6263,6272,6312,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8319,8319,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12329,12337,12341,12344,12346,12353,12436,12445,12446,12449,12538,12540,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65138,65140,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],u=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,768,846,864,866,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1155,1158,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1425,1441,1443,1465,1467,1469,1471,1471,1473,1474,1476,1476,1488,1514,1520,1522,1569,1594,1600,1621,1632,1641,1648,1747,1749,1756,1759,1768,1770,1773,1776,1788,1808,1836,1840,1866,1920,1968,2305,2307,2309,2361,2364,2381,2384,2388,2392,2403,2406,2415,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2492,2494,2500,2503,2504,2507,2509,2519,2519,2524,2525,2527,2531,2534,2545,2562,2562,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2649,2652,2654,2654,2662,2676,2689,2691,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2784,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2876,2883,2887,2888,2891,2893,2902,2903,2908,2909,2911,2913,2918,2927,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3006,3010,3014,3016,3018,3021,3031,3031,3047,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3134,3140,3142,3144,3146,3149,3157,3158,3168,3169,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3262,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3297,3302,3311,3330,3331,3333,3340,3342,3344,3346,3368,3370,3385,3390,3395,3398,3400,3402,3405,3415,3415,3424,3425,3430,3439,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3805,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3946,3953,3972,3974,3979,3984,3991,3993,4028,4038,4038,4096,4129,4131,4135,4137,4138,4140,4146,4150,4153,4160,4169,4176,4185,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,4969,4977,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6099,6112,6121,6160,6169,6176,6263,6272,6313,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8255,8256,8319,8319,8400,8412,8417,8417,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12335,12337,12341,12344,12346,12353,12436,12441,12442,12445,12446,12449,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65056,65059,65075,65076,65101,65103,65136,65138,65140,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65381,65470,65474,65479,65482,65487,65490,65495,65498,65500];function a(e,t){return t>=n.ES5?s(e,o):s(e,l)}function s(r,i){if(!(r<i[0])){let e,t=0,n=i.length;for(;t+1<n;){if(e=t+(n-t)/2,i[e-=e%2]<=r&&r<=i[1+e])return!0;r<i[e]?n=e:t=2+e}}return!1}i.isUnicodeIdentifierStart=a,(e=i.DiagnosticCategory||(i.DiagnosticCategory={}))[e.Warning=0]="Warning",e[e.Error=1]="Error",e[e.Message=2]="Message"}}(ts=ts||{}),function(a){{var r=a.webBluetooth||(a.webBluetooth={}),e;function t(){return!!navigator&&!!navigator.bluetooth&&"TextDecoder"in window&&a.appTarget.appTheme.bluetoothUartConsole&&a.appTarget.appTheme.bluetoothUartFilters&&0<a.appTarget.appTheme.bluetoothUartFilters.length}function n(){return!!navigator&&!!navigator.bluetooth&&!!a.appTarget.appTheme.bluetoothPartialFlashing}r.isAvailable=function(){return t()||n()},r.hasConsole=t,r.hasPartialFlash=n,r.isValidUUID=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/.test(e)};class o{constructor(e,t){this.connectionTimeout=2e4,this.connectPromise=void 0,this.id=e,this.aliveToken=t}debug(e){a.debug(this.id+": "+e)}alivePromise(e){return new Promise((t,n)=>{this.aliveToken.isCancelled()&&n(new Error),e.then(e=>t(e),e=>n(e))})}cancelConnect(){this.connectPromise=void 0}createConnectPromise(){return Promise.resolve()}connectAsync(){return this.connectPromise||(this.connectPromise=this.alivePromise(this.createConnectPromise())),a.Util.promiseTimeout(this.connectionTimeout,this.connectPromise,"connection timeout").then(()=>this.aliveToken.throwIfCancelled()).catch(e=>{throw this.connectPromise=void 0,e})}disconnect(){this.cancelConnect()}kill(){this.disconnect(),this.aliveToken.cancel()}}class c extends(r.BLERemote=o){constructor(e,t,n){super(e,t.aliveToken),this.device=t,this.autoReconnect=n,this.autoReconnectDelay=1e3,this.disconnectOnAutoReconnect=!1,this.reconnectPromise=void 0,this.failedConnectionServicesVersion=-1,this.handleDisconnected=this.handleDisconnected.bind(this),this.device.device.addEventListener("gattserverdisconnected",this.handleDisconnected)}handleDisconnected(e){this.aliveToken.isCancelled()||(this.disconnect(),this.autoReconnect&&!this.reconnectPromise&&(this.reconnectPromise=a.U.delay(this.autoReconnectDelay).then(()=>this.exponentialBackoffConnectAsync(8,500)).finally(()=>this.reconnectPromise=void 0)))}exponentialBackoffConnectAsync(t,n){return this.debug("retry connect"),this.aliveToken.throwIfCancelled(),this.connectAsync().then(()=>{this.aliveToken.throwIfCancelled(),this.debug("reconnect success"),this.reconnectPromise=void 0}).catch(e=>(this.debug("reconnect error "+e.message),this.aliveToken.throwIfCancelled(),this.device.isPaired?this.autoReconnect?0==t?(this.debug("give up, max tries"),void(this.reconnectPromise=void 0)):this.failedConnectionServicesVersion==this.device.servicesVersion?(this.debug("services haven't changed, giving up"),void(this.reconnectPromise=void 0)):(this.debug(`retry connect ${n}ms... (${t} tries left)`),this.device.connected&&(this.failedConnectionServicesVersion=this.device.servicesVersion),this.disconnectOnAutoReconnect&&this.device.disconnect(),a.U.delay(n).then(()=>this.exponentialBackoffConnectAsync(--t,1.8*n))):(this.debug("autoreconnect disabled"),void(this.reconnectPromise=void 0)):(this.debug("give up, device unpaired"),void(this.reconnectPromise=void 0))))}}class l extends(r.BLEService=c){constructor(e,t,n,r){super(e,t,!0),this.device=t,this.serviceUUID=n,this.txCharacteristicUUID=r,this.handleValueChanged=this.handleValueChanged.bind(this)}createConnectPromise(){return this.debug("connecting"),this.device.connectAsync().then(()=>this.alivePromise(this.device.gatt.getPrimaryService(this.serviceUUID))).then(e=>(this.debug("service connected"),this.service=e,this.alivePromise(this.service.getCharacteristic(this.txCharacteristicUUID)))).then(e=>(this.debug("tx characteristic connected"),this.txCharacteristic=e,this.txCharacteristic.addEventListener("characteristicvaluechanged",this.handleValueChanged),this.txCharacteristic.startNotifications())).then(()=>{a.tickEvent("webble.connected",{id:this.id})})}handlePacket(e){}handleValueChanged(e){e=e.target.value;this.handlePacket(e)}disconnect(){if(super.disconnect(),this.txCharacteristic&&this.device&&this.device.connected)try{this.txCharacteristic.stopNotifications(),this.txCharacteristic.removeEventListener("characteristicvaluechanged",this.handleValueChanged)}catch(e){a.log(this.id+": error "+e.message)}this.service=void 0,this.txCharacteristic=void 0}}class u extends(r.BLETXService=l){constructor(e){super("hf2",e,u.SERVICE_UUID,u.CHARACTERISTIC_TX_UUID),this.device=e}handlePacket(n){var e=n.getUint8(0);switch(192&e){case u.BLEHF2_FLAG_SERIAL_OUT:case u.BLEHF2_FLAG_SERIAL_ERR:var r=Math.min(n.byteLength-1,-193&e);let t="";for(let e=0;e<r;++e)t+=String.fromCharCode(n.getUint8(e+1));t&&window.postMessage({type:"serial",id:this.device.name||"hf2",data:t},"*")}}}u.SERVICE_UUID="b112f5e6-2679-30da-a26e-0273b6043849",u.CHARACTERISTIC_TX_UUID="b112f5e6-2679-30da-a26e-0273b604384a",u.BLEHF2_FLAG_SERIAL_OUT=128,u.BLEHF2_FLAG_SERIAL_ERR=192,r.HF2Service=u;class d extends l{constructor(e){super("uart",e,d.SERVICE_UUID,d.CHARACTERISTIC_TX_UUID),this.device=e}handlePacket(e){e=(new window.TextDecoder).decode(e);e&&window.postMessage({type:"serial",id:this.device.name||"uart",data:e},"*")}}let i;d.SERVICE_UUID="6e400001-b5a3-f393-e0a9-e50e24dcca9e",d.CHARACTERISTIC_TX_UUID="6e400002-b5a3-f393-e0a9-e50e24dcca9e",r.UARTService=d,(e=i=i||{})[e.Idle=1]="Idle",e[e.StatusRequested=2]="StatusRequested",e[e.PairingModeRequested=4]="PairingModeRequested",e[e.RegionDALRequested=8]="RegionDALRequested",e[e.RegionMakeCodeRequested=16]="RegionMakeCodeRequested",e[e.Flash=32]="Flash",e[e.EndOfTransmision=64]="EndOfTransmision",e[e.USBFlashRequired=128]="USBFlashRequired";class p extends c{constructor(e){super("partial flashing",e,!1),this.device=e,this.state=i.Idle,this.disconnectOnAutoReconnect=!0,this.handleCharacteristic=this.handleCharacteristic.bind(this)}clearFlashData(){this.version=0,this.mode=0,this.regions=[],this.chunkDelay=p.CHUNK_MIN_DELAY,this.hex=void 0,this.bin=void 0,this.magicOffset=void 0,this.dalHash=void 0,this.makeCodeHash=void 0,this.flashReject=void 0,this.flashResolve=void 0,this.flashOffset=void 0}createConnectPromise(){return this.debug("connecting to partial flash service"),this.device.connectAsync().then(()=>this.alivePromise(this.device.gatt.getPrimaryService(p.SERVICE_UUID))).then(e=>(this.debug("connecting to characteristic"),this.alivePromise(e.getCharacteristic(p.CHARACTERISTIC_UUID)))).then(e=>(this.debug("starting notifications"),this.pfCharacteristic=e,this.pfCharacteristic.startNotifications(),this.pfCharacteristic.addEventListener("characteristicvaluechanged",this.handleCharacteristic),this.state==i.PairingModeRequested?(this.debug("checking pairing mode"),this.autoReconnect=!1,this.pfCharacteristic.writeValue(new Uint8Array([p.STATUS]))):Promise.resolve()))}disconnect(){if(super.disconnect(),this.flashPacketToken&&this.flashPacketToken.cancel(),this.pfCharacteristic&&this.device.connected)try{this.pfCharacteristic.stopNotifications(),this.pfCharacteristic.removeEventListener("characteristicvaluechanged",this.handleCharacteristic)}catch(e){a.log("ble: partial flash disconnect error "+e.message)}this.pfCharacteristic=void 0}findMarker(n,r){if(this.bin)for(;n+r.length<this.bin.length;n+=16){let t=!0;for(let e=0;e<r.length;++e)if(r[e]!=this.bin[n+e]){t=!1;break}if(t)return n}return-1}flashAsync(e){return this.hex?(this.debug("flashing already in progress"),Promise.resolve()):(this.device.pauseLog(),this.createFlashPromise(e).finally(()=>this.device.resumeLogOnDisconnection()))}createFlashPromise(e){if(this.hex)return this.debug("flashing already in progress"),Promise.resolve();this.clearFlashData(),this.hex=e;var e=ts.pxtc.UF2.newBlockFile(),t=(ts.pxtc.UF2.writeHex(e,this.hex.split(/\r?\n/)),a.appTarget.compile.flashUsableEnd),e=(this.bin=ts.pxtc.UF2.toBin(a.U.stringToUint8Array(ts.pxtc.UF2.serializeFile(e)),t).buf,this.debug("bin bytes "+this.bin.length),this.magicOffset=this.findMarker(0,p.MAGIC_MARKER),this.debug("magic block "+this.magicOffset.toString(16)),this.magicOffset<0&&(this.debug("magic block not found, not a valid HEX file"),a.U.userError(lf("Invalid file"))),this.debug("bytes to flash "+(this.bin.length-this.magicOffset)),this.magicOffset+p.MAGIC_MARKER.length);return this.dalHash=a.Util.toHex(this.bin.slice(e,e+8)),this.makeCodeHash=a.Util.toHex(this.bin.slice(e+8,e+16)),this.debug("DAL hash "+this.dalHash),this.debug("MakeCode hash "+this.makeCodeHash),this.connectAsync().then(()=>new Promise((e,t)=>(this.flashResolve=e,this.flashReject=t,this.debug("check service version"),this.state=i.StatusRequested,this.pfCharacteristic.writeValue(new Uint8Array([p.STATUS]))))).then(()=>{},e=>{a.log("pf: error "+e.message),this.clearFlashData()})}checkStateTransition(e,t){return!!(this.state&t)||(this.debug(`flash cmd ${e} in state ${this.state.toString(16)} `),this.flashReject(new Error),this.clearFlashData(),!1)}handleCharacteristic(e){this.aliveToken.isCancelled()&&(this.flashReject(new Error),this.clearFlashData());var t=event.target.value,n=new Uint8Array(t.buffer),r=n[0];if(this.state!=i.Idle)switch(r){case p.STATUS:this.checkStateTransition(r,i.StatusRequested|i.PairingModeRequested)&&(this.version=n[1],this.mode=n[2],this.debug(`flash service version ${this.version} mode `+this.mode),this.debug("reading DAL region"),this.state=i.RegionDALRequested,this.pfCharacteristic.writeValue(new Uint8Array([p.REGION_INFO,p.REGION_DAL])).then(()=>{}));break;case p.REGION_INFO:if(this.checkStateTransition(r,i.RegionDALRequested|i.RegionMakeCodeRequested)){const e=this.regions[n[1]]={start:n[2]<<24|n[3]<<16|n[4]<<8|n[5],end:n[6]<<24|n[7]<<16|n[8]<<8|n[9],hash:a.Util.toHex(n.slice(10))};if(this.debug(`read region ${n[1]} start ${e.start.toString(16)} end ${e.end.toString(16)} hash `+e.hash),n[1]==p.REGION_DAL){if(e.hash!=this.dalHash)return a.tickEvent("webble.flash.DALrequired"),this.debug("DAL hash does not match, partial flashing not possible"),this.state=i.USBFlashRequired,this.flashReject(new Error("USB flashing required")),void this.clearFlashData();this.debug("DAL hash match, reading makecode region"),this.state=i.RegionMakeCodeRequested,this.pfCharacteristic.writeValue(new Uint8Array([p.REGION_INFO,p.REGION_MAKECODE])).then(()=>{})}else if(n[1]==p.REGION_MAKECODE)if(e.start!=this.magicOffset&&(this.debug("magic offset and MakeCode region.start not matching"),a.U.userError(lf("Invalid file"))),e.hash==this.makeCodeHash)a.tickEvent("webble.flash.noop"),this.debug("MakeCode hash matches, same code!"),this.debug("restart application mode"),this.pfCharacteristic.writeValue(new Uint8Array([p.RESET,p.MODE_APPLICATION])).then(()=>{this.state=i.Idle,this.flashResolve(),this.clearFlashData()});else{if(this.mode!=p.MODE_PAIRING)return this.debug("application mode, reset into pairing mode"),this.state=i.PairingModeRequested,this.autoReconnect=!0,void this.pfCharacteristic.writeValue(new Uint8Array([p.RESET,p.MODE_PAIRING])).then(()=>{});this.flashOffset=e.start,this.flashPacketNumber=0,this.debug("starting to flash from address "+this.flashOffset.toString(16)),this.flashNextPacket()}}break;case p.FLASH_DATA:if(this.checkStateTransition(r,i.Flash))switch(n[1]){case p.PACKET_OUT_OF_ORDER:this.debug("packet out of order"),this.flashPacketToken.cancel(),this.flashPacketNumber+=4,this.chunkDelay=Math.min(this.chunkDelay+10,p.CHUNK_MAX_DELAY),this.flashNextPacket();break;case p.PACKET_WRITTEN:this.chunkDelay=Math.max(this.chunkDelay-1,p.CHUNK_MIN_DELAY),this.flashOffset+=64,this.flashPacketNumber+=4,this.flashOffset>=this.bin.length?(this.debug("end transmission"),this.state=i.EndOfTransmision,this.pfCharacteristic.writeValue(new Uint8Array([p.END_OF_TRANSMISSION])).finally(()=>{this.flashResolve&&this.flashResolve(),this.clearFlashData()})):this.flashNextPacket()}break;default:this.debug("unknown message "+a.Util.toHex(n)),this.disconnect()}}flashNextPacket(){this.state=i.Flash,this.flashPacketToken=new a.Util.CancellationToken,this.flashPacketToken.startOperation();const t=this.bin.slice(this.flashOffset,this.flashOffset+64);this.debug(`flashing ${this.flashOffset.toString(16)} / ${this.bin.length.toString(16)} ${(this.flashOffset-this.magicOffset)/(this.bin.length-this.magicOffset)*100>>0}%`);let n=new Uint8Array(20);a.U.delay(this.chunkDelay).then(()=>{this.flashPacketToken.throwIfCancelled(),n[0]=p.FLASH_DATA,n[1]=this.flashOffset>>8&255,n[2]=this.flashOffset>>0&255,n[3]=this.flashPacketNumber;for(let e=0;e<16;e++)n[4+e]=t[e];return this.pfCharacteristic.writeValue(n)}).then(()=>a.U.delay(this.chunkDelay)).then(()=>{this.flashPacketToken.throwIfCancelled(),n[0]=p.FLASH_DATA,n[1]=this.flashOffset>>24&255,n[2]=this.flashOffset>>16&255,n[3]=this.flashPacketNumber+1;for(let e=0;e<16;e++)n[4+e]=t[16+e]||0;return this.pfCharacteristic.writeValue(n)}).then(()=>a.U.delay(this.chunkDelay)).then(()=>{this.flashPacketToken.throwIfCancelled(),n[0]=p.FLASH_DATA,n[1]=0,n[2]=0,n[3]=this.flashPacketNumber+2;for(let e=0;e<16;e++)n[4+e]=t[32+e]||0;return this.pfCharacteristic.writeValue(n)}).then(()=>a.U.delay(this.chunkDelay)).then(()=>{this.flashPacketToken.throwIfCancelled(),n[0]=p.FLASH_DATA,n[1]=0,n[2]=0,n[3]=this.flashPacketNumber+3;for(let e=0;e<16;e++)n[4+e]=t[48+e]||0;return this.pfCharacteristic.writeValue(n)}).then(()=>{const e=this.flashOffset,t=()=>a.U.delay(500).then(()=>{if(e!=this.flashOffset||this.flashPacketToken.isCancelled()||this.aliveToken.isCancelled()||this.state!=i.Flash)return Promise.resolve();this.debug("packet transfer deadlock, force restart"),n[0]=p.FLASH_DATA,n[1]=0,n[2]=0,n[3]=-1;for(let e=0;e<16;e++)n[4+e]=0;return this.pfCharacteristic.writeValue(n).then(()=>t())});t().catch(e=>{this.flashReject&&(this.flashReject(new Error("failed packet transfer")),this.clearFlashData())})}).catch(()=>{this.flashPacketToken.resolveCancel()})}}p.SERVICE_UUID="e97dd91d-251d-470a-a062-fa1922dfa9a8",p.CHARACTERISTIC_UUID="e97d3b10-251d-470a-a062-fa1922dfa9a8",p.REGION_INFO=0,p.FLASH_DATA=1,p.PACKET_OUT_OF_ORDER=170,p.PACKET_WRITTEN=255,p.END_OF_TRANSMISSION=2,p.STATUS=238,p.RESET=255,p.MODE_PAIRING=0,p.MODE_APPLICATION=1,p.REGION_SOFTDEVICE=0,p.REGION_DAL=1,p.REGION_MAKECODE=2,p.MAGIC_MARKER=a.Util.fromHex("708E3B92C615A841C49866C975EE5197"),p.CHUNK_MIN_DELAY=0,p.CHUNK_MAX_DELAY=75,r.PartialFlashingService=p;class f extends o{constructor(e){super("ble",new a.Util.CancellationToken),this.device=void 0,this.services=[],this.pendingResumeLogOnDisconnection=!1,this.servicesVersion=0,this.device=e,this.handleDisconnected=this.handleDisconnected.bind(this),this.handleServiceAdded=this.handleServiceAdded.bind(this),this.handleServiceChanged=this.handleServiceChanged.bind(this),this.handleServiceRemoved=this.handleServiceRemoved.bind(this),this.device.addEventListener("gattserverdisconnected",this.handleDisconnected),this.device.addEventListener("serviceadded",this.handleServiceAdded),this.device.addEventListener("servicechanged",this.handleServiceChanged),this.device.addEventListener("serviceremoved",this.handleServiceRemoved),t()&&(this.services.push(this.uartService=new d(this)),this.services.push(this.hf2Service=new u(this))),n()&&this.services.push(this.partialFlashingService=new p(this)),this.aliveToken.startOperation()}startServices(){this.services.filter(e=>e.autoReconnect).forEach(e=>e.connectAsync().catch(()=>{}))}pauseLog(){this.uartService&&(this.uartService.autoReconnect=!1,this.uartService.disconnect()),this.hf2Service&&(this.hf2Service.autoReconnect=!1,this.hf2Service.disconnect())}resumeLogOnDisconnection(){this.pendingResumeLogOnDisconnection=!0}resumeLog(){this.uartService&&(this.uartService.autoReconnect=!0,this.uartService.connectAsync().catch(()=>{})),this.hf2Service&&(this.hf2Service.autoReconnect=!0,this.hf2Service.connectAsync().catch(()=>{}))}get isPaired(){return this===r.bleDevice}get name(){return this.device.name||"?"}get connected(){return this.device&&this.device.gatt&&this.device.gatt.connected}get gatt(){return this.device.gatt}createConnectPromise(){return this.debug("connecting gatt server"),this.alivePromise(this.device.gatt.connect().then(()=>this.debug("gatt server connected")))}handleServiceAdded(e){this.debug("service added"),this.servicesVersion++}handleServiceRemoved(e){this.debug("service removed"),this.servicesVersion++}handleServiceChanged(e){this.debug("service changed"),this.servicesVersion++}handleDisconnected(e){this.debug("disconnected"),this.disconnect(),this.pendingResumeLogOnDisconnection&&(this.pendingResumeLogOnDisconnection=!1,a.U.delay(500).then(()=>this.resumeLog()))}disconnect(){if(super.disconnect(),this.services.forEach(e=>e.disconnect()),this.connected){this.debug("disconnect");try{this.device.gatt&&this.device.gatt.connected&&this.device.gatt.disconnect()}catch(e){this.debug("gatt disconnect error "+e.message)}}}}function s(){if(r.bleDevice)return Promise.resolve();a.log("ble: requesting device");var e=[];return t()&&(e.push(d.SERVICE_UUID),e.push(u.SERVICE_UUID)),n()&&e.push(p.SERVICE_UUID),navigator.bluetooth.requestDevice({filters:a.appTarget.appTheme.bluetoothUartFilters,optionalServices:e}).then(e=>(a.log("ble: received device "+e.name),r.bleDevice=new f(e),r.bleDevice.startServices(),r.bleDevice.connectAsync()))}r.BLEDevice=f,r.bleDevice=void 0,r.isPaired=function(){return!!r.bleDevice},r.pairAsync=function(){return r.bleDevice&&(r.bleDevice.kill(),r.bleDevice=void 0),s().catch(e=>{r.bleDevice&&r.bleDevice.aliveToken&&r.bleDevice.aliveToken.resolveCancel(),a.log("ble: error "+e.message)})},r.flashAsync=function(e,t){a.tickEvent("webble.flash");const n=e.outfiles[ts.pxtc.BINARY_HEX];return s().then(()=>r.bleDevice.partialFlashingService.flashAsync(n)).then(()=>a.tickEvent("webble.flash.success")).catch(e=>{throw a.tickEvent("webble.fail.fail",{message:e.message}),e})}}}(pxt=pxt||{}),function(i){{var a=i.usb||(i.usb={});class c extends Error{constructor(e){super(e),this.message=e}}a.USBError=c,a.filters=[{classCode:255,subclassCode:42}];let e,r,t=!0;a.setFilters=function(e){t=!1,a.filters=e};class l{constructor(){this.ready=!1,this.connecting=!1,this.readLoopStarted=!1,this.onDeviceConnectionChanged=e=>{},this.onConnectionChanged=()=>{},this.onData=e=>{},this.onError=e=>{},this.onEvent=e=>{},this.enabled=!1,this.handleUSBConnected=this.handleUSBConnected.bind(this),this.handleUSBDisconnected=this.handleUSBDisconnected.bind(this)}enable(){this.enabled||(this.enabled=!0,this.log("registering webusb events"),navigator.usb.addEventListener("disconnect",this.handleUSBDisconnected,!1),navigator.usb.addEventListener("connect",this.handleUSBConnected,!1))}disable(){this.enabled&&(this.enabled=!1,this.log("unregistering webusb events"),navigator.usb.removeEventListener("disconnect",this.handleUSBDisconnected),navigator.usb.removeEventListener("connect",this.handleUSBConnected))}disposeAsync(){return this.disable(),Promise.resolve()}handleUSBDisconnected(e){this.log("device disconnected"),e.device==this.dev&&(this.log("clear device"),this.clearDev(),this.onDeviceConnectionChanged)&&this.onDeviceConnectionChanged(!1)}handleUSBConnected(e){e=e.device;this.log("device connected "+e.serialNumber),this.dev||this.connecting||(this.log("attach device"),this.onDeviceConnectionChanged&&this.onDeviceConnectionChanged(!0))}clearDev(){this.dev&&(this.dev=null,this.epIn=null,this.epOut=null,this.onConnectionChanged)&&this.onConnectionChanged()}error(e){throw new c(i.U.lf("USB error on device {0} ({1})",this.dev.productName,e))}log(e){i.debug("webusb: "+e)}disconnectAsync(){return this.ready=!1,this.dev?(this.log("close device"),this.dev.close().catch(e=>{}).then(()=>(this.clearDev(),i.U.delay(500)))):Promise.resolve()}reconnectAsync(){return this.log("reconnect"),this.setConnecting(!0),this.disconnectAsync().then(n).then(e=>this.connectAsync(e)).finally(()=>this.setConnecting(!1))}setConnecting(e){e!=this.connecting&&(this.connecting=e,this.onConnectionChanged)&&this.onConnectionChanged()}isConnecting(){return this.connecting}isConnected(){return!!this.dev&&this.ready}async connectAsync(t){if(this.log(`trying to connect (${t.length} devices)`),0==t.length){const i=new Error("Device not found.");throw i.type="devicenotfound",i}this.setConnecting(!0);try{var e;this.lastKnownDeviceSerialNumber&&((e=t.find(e=>e.serialNumber===this.lastKnownDeviceSerialNumber))?(this.log("last known device spotted"),t.splice(t.indexOf(e),1),t.unshift(e)):(this.log("delay for last known device"),await i.U.delay(2e3)));for(let e=0;e<t.length;++e){var n=t[e];this.dev=n,this.log(`connect device: ${n.manufacturerName} `+n.productName),this.log(`serial number: ${n.serialNumber} ${this.lastKnownDeviceSerialNumber===n.serialNumber?"(last known device)":""} `);try{return void await this.initAsync()}catch(e){this.dev=void 0,this.log("connection failed, "+e.message)}}var r=new Error(i.U.lf("Device in use or not found."));throw r.type="devicelocked",r}finally{this.setConnecting(!1)}}sendPacketAsync(e){return this.dev?(i.Util.assert(e.length<=64),this.epOut?this.dev.transferOut(this.epOut.endpointNumber,e).then(e=>{"ok"!=e.status&&this.error("USB OUT transfer failed")}):this.dev.controlTransferOut({requestType:"class",recipient:"interface",request:9,value:512,index:this.iface.interfaceNumber},e).then(e=>{"ok"!=e.status&&this.error("USB CTRL OUT transfer failed")})):Promise.reject(new Error("Disconnected"))}readLoop(){if(!this.readLoopStarted){this.readLoopStarted=!0,this.log("start read loop");let t=()=>{this.ready?this.recvPacketAsync().then(e=>{e[0]?(this.onData(e),t()):i.U.delay(500).then(t)},e=>{this.dev&&this.onError(e),i.U.delay(300).then(t)}):i.U.delay(300).then(t)};t()}}recvPacketAsync(){var e=e=>{"ok"!=e.status&&this.error("USB IN transfer failed");e=new Uint8Array(e.data.buffer);return 0==e.length?this.recvPacketAsync():e};return this.dev?(this.epIn?this.dev.transferIn(this.epIn.endpointNumber,64):this.dev.controlTransferIn({requestType:"class",recipient:"interface",request:1,value:256,index:this.iface.interfaceNumber},64)).then(e):Promise.reject(new Error("Disconnected"))}initAsync(){if(!this.dev)return Promise.reject(new Error("Disconnected"));let n=this.dev;return this.log("open device"),n.open().then(()=>(this.log("select configuration"),n.selectConfiguration(1))).then(()=>{this.log("got "+n.configurations[0].interfaces.length+" interfaces");var e=n.configurations[0].interfaces.filter(e=>{var t,n=e.alternates[0];for(t of a.filters)if((null==t.classCode||n.interfaceClass===t.classCode)&&!(null!=t.subclassCode&&n.interfaceSubclass!==t.subclassCode||null!=t.protocolCode&&n.interfaceProtocol!==t.protocolCode)){if(0==n.endpoints.length)return!0;if(2==n.endpoints.length&&n.endpoints.every(e=>64==e.packetSize))return!0}return!1}),t=e[e.length-1];return this.log(e.length+" matching interfaces; picking "+(t?"#"+t.interfaceNumber:"n/a")),t||this.error("cannot find supported USB interface"),this.altIface=t.alternates[0],this.iface=t,this.altIface.endpoints.length?(this.log("using dedicated endpoints"),this.epIn=this.altIface.endpoints.filter(e=>"in"==e.direction)[0],this.epOut=this.altIface.endpoints.filter(e=>"out"==e.direction)[0],i.Util.assert(64==this.epIn.packetSize),i.Util.assert(64==this.epOut.packetSize)):this.log("using ctrl pipe"),this.log("claim interface"),n.claimInterface(t.interfaceNumber)}).then(()=>{this.log("device ready"),this.lastKnownDeviceSerialNumber=this.dev.serialNumber,this.ready=!0,t&&this.readLoop(),this.onConnectionChanged&&this.onConnectionChanged()})}}async function n(){i.log("webusb: get devices");try{return await navigator.usb.getDevices()||[]}catch(e){return i.reportException(e),[]}}async function s(){var e;if(void 0===r)if(i.debug("webusb: checking availability"),null!=(t=null==(e=i.appTarget)?void 0:e.compile)&&t.webUSB)if(i.BrowserUtils.isElectron()||i.BrowserUtils.isWinRT())i.debug("webusb: off, electron or winrt"),i.tickEvent("webusb.off",{reason:"electronwinrt"}),r=!1;else{var t=navigator.usb;if(t){var n=/Windows NT (\d+\.\d+)/.exec(navigator.userAgent);if(n&&parseFloat(n[1])<6.3)i.debug("webusb: off, older windows version"),i.tickEvent("webusb.off",{reason:"oldwindows"}),r=!1;else{try{await t.getDevices()}catch(e){return i.debug("webusb: off, security exception"),i.tickEvent("webusb.off",{reason:"security"}),void(r=!1)}r=!0}}else i.debug("webusb: off, not impl"),i.tickEvent("webusb.off",{reason:"notimpl"}),r=!1}else r=!1}function o(){return void 0===r&&(console.error("checkAvailableAsync not called"),s()),!!r}a.pairAsync=function(){return navigator.usb.requestDevice({filters:a.filters}).then(e=>!!e).catch(e=>{if("NotFoundError"!=e.name)throw e})},a.mkWebUSBHIDPacketIOAsync=function(){return i.debug("packetio: mk webusb io"),(e=e||new l).enable(),Promise.resolve(e)},a.isEnabled=!1,a.setEnabled=function(e){o()||(e=!1),a.isEnabled=e},a.checkAvailableAsync=s,a.isAvailable=o}}(pxt=pxt||{}),function(a){{var e=a.worker||(a.worker={}),r=a.Util;let n={};function s(a){let s={},o=0,e=new r.PromiseQueue,t=new Promise((e,t)=>{s.ready=e});return e.enqueue("main",()=>t),{opAsync:function(r,i){return e.enqueue("main",()=>new Promise((t,n)=>{var e=""+o++;s[e]=e=>{e?e.errorMessage?n(new Error(e.errorMessage)):t(e):n(new Error("no response"))},a({id:e,op:r,arg:i})}))},recvHandler:e=>{var t;s.hasOwnProperty(e.id)&&(t=s[e.id],delete s[e.id],t(e.result))}}}function i(e){let t=new Worker(e),n=s(e=>t.postMessage(e));return t.onmessage=e=>{a.perf.measureStart("webworker recvHandler"),n.recvHandler(e.data),a.perf.measureEnd("webworker recvHandler")},n}e.getWorker=function(e){let t=n[e];return t=t||(n[e]=i(e))},e.wrap=s,e.makeWebWorker=i,e.makeWebSocket=function(e,t=null){let n=new WebSocket(e),r=[],i=s(e=>{e=JSON.stringify(e);r?r.push(e):n.send(e)});return n.onmessage=e=>{e=JSON.parse(e.data);t&&null==e.id?t(e):i.recvHandler(e)},n.onopen=e=>{a.debug("socket opened");for(var t of r)n.send(t);r=null},n.onclose=e=>{a.debug("socket closed")},n.onerror=e=>{a.debug("socket errored")},i}}}(pxt=pxt||{}),function(a){function s(){o.apiKey||a.U.userError("YouTube API key missing")}var o;(o=a.youtube||(a.youtube={})).apiKey=void 0,o.playlistItemToCodeCard=function(e){return{name:e.snippet.title.replace(/[^-]*-/,"").trim(),description:e.snippet.description.split(/\n\s+/,1)[0].trim(),youTubeId:e.snippet.resourceId.videoId,youTubePlaylistId:e.snippet.playlistId,imageUrl:(e=e.snippet.thumbnails)&&(null==(e=e.medium||e.high||e.standard||e.default)?void 0:e.url)||""}},o.playlistInfoAsync=function(e){s();e=`https://www.googleapis.com/youtube/v3/playlists?part=snippet&id=${e}&key=`+o.apiKey;return a.Util.httpGetJsonAsync(e).then(e=>e.items[0])},o.listPlaylistVideosAsync=async function(t){s();let n,r=[];do{let e=`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=50&playlistId=${t}&key=`+o.apiKey;n&&(e+="&pageToken="+n);var i=await a.Util.httpGetJsonAsync(e);r=r.concat(i.items),n=i.nextPageToken}while(n);return a.options.debug&&a.debug(JSON.stringify(r,null,2)),r},o.watchUrl=function(e,t){let n;return e?(n="https://www.youtube.com/watch?v="+e,t&&(n+="&list="+t)):t&&(n="https://www.youtube.com/playlist?list="+t),n}}(pxt=pxt||{}),function(e){var m=e.pxtc||(e.pxtc={});{var g=m.assembler||(m.assembler={});function h(e,...n){return e.replace(/{(\d+)}/g,(e,t)=>n[+t])}g.debug=!1,g.lf=h;let e=_("opcode name doesn't match","<name>");class i{constructor(e,t,n,r,i){this.opcode=n,this.mask=r,this.is32bit=i,this.canBeShared=!1,m.assert((n&r)==n),this.ei=e,this.code=t.replace(/\s+/g," "),this.friendlyFmt=t.replace(/\$\w+/g,e=>this.ei.encoders[e]?this.ei.encoders[e].pretty:e);i=o(t);this.name=i[0],this.args=i.slice(1)}emit(i){var a=i.words;if(a[0]!=this.name)return e;let s=this.opcode,o=1,c=0,l=[],u=null,d=null,p=null;for(let e=0;e<this.args.length;++e){let n=this.args[e],r=a[o++];if("$"==n[0]){let e=this.ei.encoders[n],t=null;if(e.isRegister){if(null==(t=this.ei.registerNo(r)))return _("expecting register name",r);this.ei.isPush(this.opcode)?c++:this.ei.isPop(this.opcode)&&c--}else if(e.isImmediate){if(r=r.replace(/^#/,""),null==(t=i.bin.parseOneInt(r)))return _("expecting number",r);this.ei.isAddSP(this.opcode)?c=-t/this.ei.wordSize():this.ei.isSubSP(this.opcode)&&(c=t/this.ei.wordSize())}else if(e.isRegList){if("{"!=r)return _("expecting {",r);for(t=0;"}"!=a[o];){if(!(r=a[o++]))return _("expecting }",a[o-2]);var f=this.ei.registerNo(r);if(null==f)return _("expecting register name",r);if(t&1<<f)return _("duplicate register name",r);t|=1<<f,this.ei.isPush(this.opcode)?c++:this.ei.isPop(this.opcode)&&c--,","==a[o]&&o++}r=a[o++]}else if(e.isLabel){if(r=r.replace(/^#/,""),/^[+-]?\d+$/.test(r))t=parseInt(r,10),u="rel"+t;else if(/^0x[0-9a-fA-F]+$/.test(r))t=parseInt(r,16),u="abs"+t;else if(u=r,null==(t=this.ei.getAddressFromLabel(i.bin,this,r,e.isWordAligned))){if(i.bin.finalEmit)return _("unknown label",r);t=8}if(this.ei.is32bit(this)){d=t,p=r;continue}}else m.oops();if(null==t)return _("didn't understand it",r);if(l.push(t),null==(t=e.encode(t)))return _("argument out of range or mis-aligned",r);m.assert(0==(s&t)),s|=t}else if(n!=r)return _("expecting "+n,r)}return a[o]?_("trailing tokens",a[o]):this.ei.is32bit(this)?this.ei.emit32(s,d,i.bin.normalizeExternalLabel(p)):{stack:c,opcode:s,numArgs:l,labelName:i.bin.normalizeExternalLabel(u)}}toString(){return this.friendlyFmt}}g.Instruction=i;class c{constructor(e,t){this.bin=e,this.text=t}getOpExt(){return this.instruction?this.instruction.code:""}getOp(){return this.instruction?this.instruction.name:""}update(e){this.bin.peepOps++,(e=e.replace(/^\s*/,""))||this.bin.peepDel++,e&&(e+="      "),this.text=(e="    "+e)+"; WAS: "+this.text.trim(),this.instruction=null,this.numArgs=null,this.words=o(e)||[],0==this.words.length?this.type="empty":"@"==this.words[0][0]&&(this.type="directive")}}g.Line=c;class s{constructor(e){this.baseOffset=0,this.checkStack=!0,this.inlineMode=!1,this.normalizeExternalLabel=e=>e,this.currLineNo=0,this.scope="",this.scopeId=0,this.errors=[],this.labels={},this.equs={},this.stackpointers={},this.stack=0,this.commPtr=0,this.peepOps=0,this.peepDel=0,this.peepCounts={},this.stats="",this.throwOnError=!1,this.disablePeepHole=!1,this.stackAtLabel={},this.currLine=new c(this,"<start>"),this.currLine.lineNo=0,this.ei=e,this.ei.file=this}emitShort(e){m.assert(0<=e&&e<=65535),this.buf.push(e)}emitOpCode(e){this.emitShort(e)}location(){return 2*this.buf.length}pc(){return this.location()+this.baseOffset}parseOneInt(e){if(!e)return null;if(/^\d+$/.test(e))return parseInt(e,10);var t=e.indexOf("-");if(0<t)return this.parseOneInt(e.slice(0,t))-this.parseOneInt(e.slice(t+1));let n=1;if(0<=e.indexOf("*"))for(var r;r=/^([^\*]*)\*(.*)$/.exec(e);){var i=this.parseOneInt(r[1]);if(null==i)return null;n*=i,e=r[2]}if("-"==e[0]?(n*=-1,e=e.slice(1)):"+"==e[0]&&(e=e.slice(1)),/^\d+$/.test(e))return n*parseInt(e,10);if(m.U.endsWith(e,"|1"))return 1|this.parseOneInt(e.slice(0,e.length-2));if(m.U.endsWith(e,"-1"))return this.parseOneInt(e.slice(0,e.length-2))-1;if(m.U.endsWith(e,"+1"))return this.parseOneInt(e.slice(0,e.length-2))+1;var a,t=/(.*)>>(\d+)$/.exec(e);if(t)return a=this.parseOneInt(t[1]),(a&=~(-16777216&this.baseOffset))>>parseInt(t[2]);let s=null;return"0"==e[0]&&("x"==e[1]||"X"==e[1]?(a=/^0x([a-f0-9]+)$/i.exec(e))&&(s=parseInt(a[1],16)):"b"!=e[1]&&"B"!=e[1]||(t=/^0b([01]+)$/i.exec(e))&&(s=parseInt(t[1],2))),0<=e.indexOf("@")&&((a=/^(\w+)@(-?\d+)$/.exec(e))&&(1!=n&&this.directiveError(h("multiplication not supported with saved stacks")),this.stackpointers.hasOwnProperty(a[1])?s=this.ei.wordSize()*this.ei.computeStackOffset(a[1],this.stack-this.stackpointers[a[1]]+parseInt(a[2])):this.directiveError(h("saved stack not found"))),a=/^(.*)@(hi|lo|fn)$/.exec(e))&&this.looksLikeLabel(a[1])&&null!=(s=this.lookupLabel(a[1],!0))&&("fn"==a[2]?s=this.ei.toFnPtr(s,this.baseOffset,a[1]):0<=(s>>=1)&&s<=65535?"hi"==a[2]?s=s>>8&255:"lo"==a[2]?s&=255:m.oops():(this.directiveError(h("@hi/lo out of range")),s=null)),null==s&&this.looksLikeLabel(e)&&null!=(s=this.lookupLabel(e,!0))&&1==this.ei.postProcessRelAddress(this,1)&&(s+=this.baseOffset),null==s||isNaN(s)?null:s*n}looksLikeLabel(e){return!/^(r\d|pc|sp|lr)$/i.test(e)&&/^[\.a-zA-Z_][\.:\w+]*$/.test(e)}scopedName(e){return"."==e[0]&&this.scope?this.scope+"$"+e:e}lookupLabel(e,t=!1){let n=null,r=this.scopedName(e);return this.labels.hasOwnProperty(r)?(n=this.labels[r],n=this.ei.postProcessRelAddress(this,n)):this.lookupExternalLabel&&null!=(n=this.lookupExternalLabel(e))&&(n=this.ei.postProcessAbsAddress(this,n)),null==(n=null==n&&this.equs.hasOwnProperty(r)?this.equs[r]:n)&&t&&(this.finalEmit?this.directiveError(h("unknown label: {0}",e)):n=11111),n}align(e){for(m.assert(2==e||4==e||8==e||16==e);this.location()%e!=0;)this.emitOpCode(0)}pushError(e,t=""){e={scope:this.scope,message:h("  -> Line {2} ('{1}'), error: {0}\n{3}",e,this.currLine.text,this.currLine.lineNo,t),lineNo:this.currLine.lineNo,line:this.currLine.text,coremsg:e,hints:t};if(this.errors.push(e),this.throwOnError)throw new Error(e.message)}directiveError(e){this.pushError(e)}emitString(e,t=!1){function n(e,t){return 255&(e.charCodeAt(t)||0)}let r,i=/^\s*([\w\.]+\s*:\s*)?.\w+\s+(".*")\s*$/.exec(e);if(i&&null!=(r=function(e){e=e.replace(/\\\\/g,"\\B").replace(/\\(['\?])/g,(e,t)=>t).replace(/\\[z0]/g,"\0").replace(/\\x([0-9a-f][0-9a-f])/gi,(e,t)=>"\\u00"+t).replace(/\\B/g,"\\\\");try{return JSON.parse(e)}catch(e){return null}}(i[2])))if(this.align(2),t)for(let e=0;e<r.length;e++)this.emitShort(r.charCodeAt(e));else for(let e=0;e<r.length+1;e+=2)this.emitShort(n(r,e+1)<<8|n(r,e));else this.directiveError(h("expecting string"))}parseNumber(e){e=this.parseOneInt(e.shift());return null==e?null:e}parseNumbers(e){e=e.slice(1);for(var t=[];;){var n=this.parseNumber(e);if(null==n){this.directiveError(h("cannot parse number at '{0}'",e[0]));break}if(t.push(n),","!=e[0]){if(null==e[0])break;this.directiveError(h("expecting number, got '{0}'",e[0]));break}if(e.shift(),null==e[0])break}return t}emitSpace(e){var t=this.parseNumbers(e);if(1==t.length&&t.push(0),2!=t.length)this.directiveError(h("expecting one or two numbers"));else if(t[0]%2!=0)this.directiveError(h("only even space supported"));else{var n=255&t[1];n|=n<<8;for(let e=0;e<t[0];e+=2)this.emitShort(n)}}emitBytes(e){var t=this.parseNumbers(e);t.length%2!=0&&(this.directiveError(".bytes needs an even number of arguments"),t.push(0));for(let e=0;e<t.length;e+=2){var n=t[e],r=t[e+1];0<=n&&r<=255&&0<=r&&n<=255?this.emitShort(255&n|(255&r)<<8):this.directiveError(h("expecting uint8"))}}emitHex(e){e.slice(1).forEach(t=>{if(","!=t)if(t.length%4!=0)this.directiveError(".hex needs an even number of bytes");else if(/^[a-f0-9]+$/i.test(t))for(let e=0;e<t.length;e+=4){var n=parseInt(t.slice(e,e+4),16);this.emitShort((255&n)<<8|n>>8&255)}else this.directiveError(".hex needs a hex number")})}handleDirective(e){let t,n=e.words,r=()=>{2!=n.length&&this.directiveError(h("expecting one argument"))};switch(n[0]){case".ascii":case".asciz":case".string":this.emitString(e.text);break;case".utf16":this.emitString(e.text,!0);break;case".align":if(r(),null!=(t=this.parseOneInt(n[1]))){if(0==t)return;t<=4?this.align(1<<t):this.directiveError(h("expecting 1, 2, 3 or 4 (for 2, 4, 8, or 16 byte alignment)"))}else this.directiveError(h("expecting number"));break;case".balign":if(r(),null!=(t=this.parseOneInt(n[1]))){if(1==t)return;2==t||4==t||8==t||16==t?this.align(t):this.directiveError(h("expecting 2, 4, 8, or 16"))}else this.directiveError(h("expecting number"));break;case".p2align":r(),null!=(t=this.parseOneInt(n[1]))?this.align(1<<t):this.directiveError(h("expecting number"));break;case".byte":this.emitBytes(n);break;case".hex":this.emitHex(n);break;case".hword":case".short":case".2bytes":this.parseNumbers(n).forEach(e=>{-32768<=e&&e<=65535?this.emitShort(65535&e):this.directiveError(h("expecting int16"))});break;case".word":case".4bytes":case".long":this.parseNumbers(n).forEach(e=>{-2147483648<=e&&e<=4294967295?(this.emitShort(65535&e),this.emitShort(e>>16&65535)):this.directiveError(h("expecting int32"))});break;case".skip":case".space":this.emitSpace(n);break;case".set":case".equ":/^\w+$/.test(n[1])||this.directiveError(h("expecting name"));var i=this.parseNumbers(n.slice(","==n[2]||"="==n[2]?2:1));1!=i.length&&this.directiveError(h("expecting one value")),void 0!==this.equs[n[1]]&&this.equs[n[1]]!=i[0]&&this.directiveError(h("redefinition of {0}",n[1])),this.equs[n[1]]=i[0];break;case".startaddr":this.location()&&this.directiveError(h(".startaddr can be only be specified at the beginning of the file")),r(),this.baseOffset=this.parseOneInt(n[1]);break;case"@stackmark":r(),this.stackpointers[n[1]]=this.stack;break;case"@stackempty":this.checkStack&&(null==this.stackpointers[n[1]]?this.directiveError(h("no such saved stack")):this.stackpointers[n[1]]!=this.stack&&this.directiveError(h("stack mismatch")));break;case"@scope":this.scope=n[1]||"",this.currLineNo=this.scope?0:this.realCurrLineNo;break;case".syntax":case"@nostackcheck":this.checkStack=!1;break;case"@dummystack":r(),this.stack+=this.parseOneInt(n[1]);break;case".section":case".global":this.stackpointers={},this.stack=0,this.scope="$S"+this.scopeId++;break;case".comm":(n=n.filter(e=>","!=e)).shift();var i=this.parseOneInt(n[1]),a=n[2]?this.parseOneInt(n[2]):4;if(null==this.lookupLabel(n[0])){for(this.commPtr||(this.commPtr=this.lookupExternalLabel("_pxt_comm_base")||0,this.commPtr)||this.directiveError(h("PXT_COMM_BASE not defined"));this.commPtr&a-1;)this.commPtr++;this.labels[this.scopedName(n[0])]=this.commPtr-this.baseOffset,this.commPtr+=i}break;case".file":case".text":case".cpu":case".fpu":case".eabi_attribute":case".code":case".thumb_func":case".type":case".fnstart":case".save":case".size":case".fnend":case".pad":case".globl":case".local":case"@":break;default:/^\.cfi_/.test(n[0])||this.directiveError(h("unknown directive"))}}handleOneInstruction(e,t){var n=t.emit(e);return!n.error&&(this.stack+=n.stack,this.checkStack&&this.stack<0&&this.pushError(h("stack underflow")),e.location=this.location(),e.opcode=n.opcode,e.stack=n.stack,this.emitOpCode(n.opcode),null!=n.opcode2&&this.emitOpCode(n.opcode2),null!=n.opcode3&&this.emitOpCode(n.opcode3),e.instruction=t,e.numArgs=n.numArgs,!0)}handleInstruction(r){if(!r.instruction||!this.handleOneInstruction(r,r.instruction)){var i=e=>this.ei.instructions.hasOwnProperty(e)?this.ei.instructions[e]:[];if(!r.instruction){var a=i(r.words[0]);for(let e=0;e<a.length;++e)if(this.handleOneInstruction(r,a[e]))return}let e=r.words[0].toLowerCase().replace(/s$/,"").replace(/[^a-z]/g,""),n="",t=i(e).concat(i(e+"s"));0<t.length&&t.forEach(e=>{var t=e.emit(r);n+=h("   Maybe: {0} ({1} at '{2}')\n",e.toString(),t.error,t.errorAt)}),this.pushError(h("assembly error"),n)}}buildLine(e,t){let n=e=>{e=new c(this,e);return e.scope=this.scope,e.lineNo=this.currLineNo,t.push(e),e},r=n(e),i=o(r.text)||[],a=(r.words=i)[0]||"";if(":"==a.charAt(a.length-1)){var s=/^([\.\w]+):$/.exec(i[0]);if(s){if(r.type="label",r.text=s[1]+":",r.words=[s[1]],!(1<i.length))return;i.shift(),(r=n(e.replace(/^[^:]*:/,""))).words=i,a=i[0]||""}}s=a.charAt(0);"."==s||"@"==s?(r.type="directive","@scope"==r.words[0]&&this.handleDirective(r)):0==r.words.length?r.type="empty":r.type="instruction"}prepLines(e){this.currLineNo=0,this.realCurrLineNo=0,this.lines=[],e.split(/\r?\n/).forEach(e=>{10<this.errors.length||(this.currLineNo++,this.realCurrLineNo++,this.buildLine(e,this.lines))})}iterLines(){this.stack=0,this.buf=[],this.scopeId=0,this.lines.forEach(e=>{var t,n;10<this.errors.length||0==(this.currLine=e).words.length||("label"==e.type?(t=this.scopedName(e.words[0]),this.prevLabel=t,this.finalEmit?(null!=this.equs[t]&&this.directiveError(h(".equ redefined as label")),null==(n=this.labels[t])&&m.oops(),0==this.errors.length&&n!=this.location()&&m.oops(`invalid location: ${this.location()} != ${n} at `+t),m.assert(0<this.errors.length||n==this.location()),this.reallyFinalEmit&&(this.stackAtLabel[t]=this.stack)):this.labels.hasOwnProperty(t)?this.directiveError(h("label redefinition")):this.inlineMode&&/^_/.test(t)?this.directiveError(h("labels starting with '_' are reserved for the compiler")):this.labels[t]=this.location(),e.location=this.location()):"directive"==e.type?this.handleDirective(e):"instruction"==e.type?this.handleInstruction(e):"empty"!=e.type&&m.oops())})}getSource(r,e=1,t=0){let n=0,i=e=>{var e=this.labels[e]||n,t=e-n;return n=e,t},a=this.buf?this.location():0,s=i("_code_end"),o=i("_helpers_end"),c=i("_vtables_end"),l=i("_literals_end"),u=n,d=a+this.baseOffset&16777215,p=(t&&t<d&&m.U.userError(h("program too big by {0} bytes!",d-t)),h("; total bytes: {0} ({1}% of {2}k flash with {3} free)",d,(100*d/(t=t||131072)).toFixed(1),(t/1024).toFixed(1),t-d)),f=h("; generated code sizes (bytes): {0} (incl. {1} user, {2} helpers, {3} vtables, {4} lits); src size {5}\n",u,s,o,c,l,a-u)+h("; assembly: {0} lines; density: {1} bytes/stmt; ({2} stmts)\n",this.lines.length,Math.round(100*s/e)/100,e)+p+"\n"+this.stats+"\n\n",_=!1;return this.lines.forEach((t,n)=>{if("_stored_program"==t.words[0])f+='_stored_program: .string "..."\n',_=!0;else if(_)_=!1;else{let e=t.text;if(r){if("@stackempty"==t.words[0]&&this.lines[n-1].text==t.text)return;if(!(e=e.replace(/; WAS: .*/,"")).trim())return}!g.debug||"label"!=t.type&&"instruction"!=t.type||(e+=` 	; 0x`+(t.location+this.baseOffset).toString(16)),f+=e+"\n"}}),f}peepHole(){var t=this.lines.filter(e=>"empty"!=e.type);for(let e=0;e<t.length;++e){var n,r,i=t[e];/^user/.test(i.scope)||(n=t[e+1])&&(r=t[e+2],"instruction"==i.type)&&this.ei.peephole(i,n,r)}}clearLabels(){this.labels={},this.commPtr=0}peepPass(e){this.disablePeepHole||(this.peepOps=0,this.peepDel=0,this.peepCounts={},this.peepHole(),this.throwOnError=!0,this.finalEmit=!1,this.clearLabels(),this.iterLines(),m.assert(!this.checkStack||0==this.stack),this.finalEmit=!0,this.reallyFinalEmit=e||0==this.peepOps,this.iterLines(),this.stats+=h("; peep hole pass: {0} instructions removed and {1} updated\n",this.peepDel,this.peepOps-this.peepDel))}getLabels(){return this.userLabelsCache||(this.userLabelsCache=m.U.mapMap(this.labels,(e,t)=>t+this.baseOffset)),this.userLabelsCache}emit(e){if(m.assert(null==this.buf),this.prepLines(e),!(0<this.errors.length||(this.clearLabels(),this.iterLines(),this.checkStack&&0!=this.stack&&this.directiveError(h("stack misaligned at the end of the file")),0<this.errors.length)||(this.ei.expandLdlit(this),this.clearLabels(),this.iterLines(),this.finalEmit=!0,this.reallyFinalEmit=this.disablePeepHole,this.iterLines(),0<this.errors.length))){for(let e=0;e<5&&(pxt.debug("Peephole OPT, pass "+e),this.peepPass(5==e),0!=this.peepOps);++e);pxt.debug("emit done")}}}function o(t){let n=[],r="";e:for(let e=0;e<t.length;++e)switch(t[e]){case"[":case"]":case"!":case"{":case"}":case",":r&&(n.push(r),r=""),n.push(t[e]);break;case" ":case"\t":case"\r":case"\n":r&&(n.push(r),r="");break;case";":break e;default:r+=t[e]}return r&&(n.push(r),r=""),n[0]?n:null}function _(e,t){return{stack:null,opcode:null,error:e,errorAt:t}}function a(e){return(e<0||65535<e?"0x"+e.toString(16):"0x"+("000"+e.toString(16)).slice(-4)).toLowerCase()}g.File=s,g.VMFile=class extends s{constructor(e){super(e)}},g.AbstractProcessor=class{constructor(){this.file=null,this.addEnc=(e,t,n)=>{t={name:e,pretty:t,encode:n,isRegister:/^\$r\d/.test(e),isImmediate:/^\$i\d/.test(e),isRegList:/^\$rl\d/.test(e),isLabel:/^\$l[a-z]/.test(e)};return this.encoders[e]=t},this.inrange=(e,t,n)=>Math.floor(t)!=t||t<0||e<t?null:n,this.inminmax=(e,t,n,r)=>Math.floor(n)!=n||n<e||t<n?null:r,this.inseq=(e,t)=>{e=e.indexOf(t);return e<0?null:e},this.inrangeSigned=(e,t,n)=>Math.floor(t)!=t||(t<-(e+1)||e<t)?null:n&(e<<1|1),this.addInst=(e,t,n,r)=>{e=new i(this,e,t,n,r);return this.instructions.hasOwnProperty(e.name)||(this.instructions[e.name]=[]),this.instructions[e.name].push(e),e},this.encoders={},this.instructions={}}toFnPtr(e,t,n){return e}wordSize(){return-1}computeStackOffset(e,t){return t}is32bit(e){return!1}emit32(e,t,n){return null}postProcessRelAddress(e,t){return t}postProcessAbsAddress(e,t){return t}peephole(e,t,n){}registerNo(e){return null}getAddressFromLabel(e,t,n,r=0){return null}isPop(e){return!1}isPush(e){return!1}isAddSP(e){return!1}isSubSP(e){return!1}testAssembler(){m.assert(!1)}expandLdlit(e){}},g.emitErr=_,g.expectError=function(e,t){e=new s(e);e.emit(t),0==e.errors.length&&m.oops("ASMTEST: expecting error for: "+t)},g.tohex=a,g.expect=function(e,t){let n=[],r=t.replace(/^([0-9a-fA-F]{4,8})\s/gm,(e,t)=>(n.push(parseInt(t.slice(0,4),16)),8==t.length&&n.push(parseInt(t.slice(4,8),16)),"")),i=new s(e);i.throwOnError=!0,i.disablePeepHole=!0,i.emit(r),0<i.errors.length&&(console.debug(i.errors[0].message),m.oops("ASMTEST: not expecting errors")),i.buf.length!=n.length&&m.oops("ASMTEST: wrong buf len");for(let e=0;e<n.length;++e)i.buf[e]!=n[e]&&m.oops("ASMTEST: wrong buf content at "+e+" , exp:"+a(n[e])+", got: "+a(i.buf[e]))}}}(ts=ts||{}),function(o){{var r=o.Cloud||(o.Cloud={}),i=pxtc.Util;r.apiRoot=o.BrowserUtils.isLocalHost()||i.isNodeJS?"https://www.makecode.com/api/":"/api/",r.accessToken="";let n=!(r.localToken="");function a(e){let t=new Error(i.lf("Cannot access {0} while offline",e));return t.isOffline=!0,o.U.delay(1e3).then(()=>Promise.reject(t))}function c(e,t){return o.U.requestAsync({url:"/api/"+e,headers:{Authorization:r.localToken},method:t?"POST":"GET",data:t||void 0,allowHttpErrors:!0})}function l(){return o.webConfig&&!o.webConfig.isStatic&&!o.BrowserUtils.isLocalHost()&&!!o.webConfig.cdnUrl}function e(e){var t;return e=e.replace(/^\//,""),l()?(t=(t=new Date).getUTCFullYear()+("0"+(t.getUTCMonth()+1)).slice(-2)+("0"+t.getUTCDate()).slice(-2),e.indexOf("?")<0?e+="?":e+="&",o.webConfig.cdnUrl+"/api/"+(e+="cdn="+t)):r.apiRoot+e}function u(t){return l()?(t.url=e(t.url),i.requestAsync(t).catch(e=>s(t,e))):d(t)}function s(e,t){return 0==t.statusCode?(n&&(n=!1,r.onOffline()),a(e.url)):Promise.reject(t)}function d(t){var e;return t.url=null!=(e=o.webConfig)&&e.isStatic&&!t.forceLiveEndpoint?o.webConfig.relprefix+t.url:r.apiRoot+t.url,t.allowGzipPost=!0,r.isOnline()||o.BrowserUtils.isPxtElectron()?(t.headers||(t.headers={}),o.BrowserUtils.isLocalHost()?r.localToken&&(t.headers.Authorization=r.localToken):r.accessToken&&(t.headers["x-td-access-token"]=r.accessToken),i.requestAsync(t).catch(e=>s(t,e))):a(t.url)}function t(){return navigator&&navigator.onLine}r.onOffline=()=>{},r.hasAccessToken=function(){return!!r.accessToken},r.localRequestAsync=c,r.useCdnApi=l,r.cdnApiUrl=e,r.apiRequestWithCdnAsync=u,r.privateRequestAsync=d,r.privateGetTextAsync=function(e,t){return d({url:e,headers:t}).then(e=>e.text)},r.privateGetAsync=function(e,t=!1){return d({url:e,forceLiveEndpoint:t}).then(e=>e.json)},r.downloadTargetConfigAsync=function(){var e;return r.isOnline()?(e=o.appTarget.versions&&o.appTarget.versions.target,e=o.webConfig&&o.webConfig.isStatic?"targetconfig.json":`config/${o.appTarget.id}/targetconfig`+(e?"/v"+e:""),o.BrowserUtils.isLocalHost()?c(e).then(e=>e?e.json:void 0):u({url:e}).then(e=>e.json)):Promise.resolve(void 0)},r.downloadScriptFilesAsync=function(e){return d({url:e+"/text",forceLiveEndpoint:!0}).then(e=>JSON.parse(e.text))},r.markdownAsync=async function(t,n){var e=o.BrowserUtils.isLocalHostDev()?0:36e5,r=24*e*7;n=n||o.Util.userLanguage();const i=await o.BrowserUtils.translationDbAsync(),a=await i.getAsync(n,t,""),s=async()=>{try{var e=await function(e,t,n){var r=null==(r=o.webConfig)?void 0:r.isStatic,i=o.appTarget.versions&&o.appTarget.versions.target||"?";let a;if(r){a=e;const o=/\/?docs\//.test(a),t=/\.\w+$/.test(a);if(!o){const o="/"===a[0];a="docs"+(o?"":"/")+a}t||(a+=".md")}else a=`md/${o.appTarget.id}/${e.replace(/^\//,"")}?targetVersion=`+encodeURIComponent(i);if("en"!=t&&(a+=`${r?"?":"&"}lang=`+encodeURIComponent(t)),o.BrowserUtils.isLocalHost()&&!o.Util.liveLocalizationEnabled())return c(a).then(e=>404==e.statusCode?d({url:a,method:"GET"}).then(e=>({md:e.text,etag:e.headers.etag})):{md:e.text,etag:void 0});{const o=n&&!l()?{"If-None-Match":n}:void 0;return u({url:a,method:"GET",headers:o}).then(e=>({md:e.text,etag:e.headers.etag}))}}(t,n,null==a?void 0:a.etag);return(!a||e.md&&a.md!==e.md?(await i.setAsync(n,t,"",e.etag,void 0,e.md),e):a).md}catch(e){return""}};if(a){const t=Date.now()-a.time,n=t>e;if(t>r)o.tickEvent("markdown.update.wait");else if(n&&(o.tickEvent("markdown.update.background"),s()),a.md)return a.md}return s()},r.privateDeleteAsync=function(e){return d({url:e,method:"DELETE"}).then(e=>e.json)},r.privatePostAsync=function(e,t,n=!1){return d({url:e,data:t||{},forceLiveEndpoint:n}).then(e=>e.json)},r.isLoggedIn=function(){return!!r.accessToken},r.isNavigatorOnline=t,r.isOnline=function(){return n="undefined"!=typeof navigator&&t()?!0:n},r.getServiceUrl=function(){return r.apiRoot.replace(/\/api\/$/,"")},r.getUserId=function(){var e=/^0(\w+)\./.exec(r.accessToken);return e?e[1]:null},r.parseScriptId=function(t){var n=o.appTarget;if(t&&n.appTheme&&n.cloud&&n.cloud.sharing){let e=["makecode.com"];n.appTheme.embedUrl&&e.push(n.appTheme.embedUrl),n.appTheme.shareUrl&&e.push(n.appTheme.shareUrl);n=`^((https://)?(?:${(e=i.unique(e,e=>e).map(e=>i.escapeForRegex(i.stripUrlProtocol(e).replace(/\/$/,"")).toLowerCase())).join("|")})/)?(?:v[0-9]+/)?(api/oembed?url=.*%2F([^&]*)&.*?|([a-z0-9-_]+))$`,n=new RegExp(n,"i").exec(t.trim()),t=n&&(!n[1]||0<=e.indexOf(i.escapeForRegex(n[1].replace(/https:\/\//,"").replace(/\/$/,"")).toLowerCase()))&&(n[3]||n[4])?n[3]||n[4]:null;return t&&("_"==t[0]&&13==t.length||23==t.length&&/^[0-9\-]+$/.test(t))?t:void 0}}}}(pxt=pxt||{}),function(e){(e.pxtc||(e.pxtc={})).f4EncodeImg=function(e,n,r,i){let t=[135,r,255&e,e>>8,255&n,n>>8,0,0].map(l).join(""),a=4,s=0,o=0,c=e=>{s|=e<<o,o==8-r?(t+=l(s),a++,s=0,o=0):o+=r};for(let t=0;t<e;++t){for(let e=0;e<n;++e)c(i(t,e));for(;0!=o;)c(0);if(1<r)for(;3&a;)c(0)}return t;function l(e){return("0"+e.toString(16)).slice(-2)}}}(ts=ts||{}),function(e){function a(e){let t="";switch(e){case 0:t="C5";break;case 1:t="B";break;case 2:t="A";break;case 3:t="G";break;case 4:t="F";break;case 5:t="E";break;case 6:t="D";break;case 7:t="C"}return t}function r(e){let t=-1;switch(e){case"C5":t=0;break;case"B":t=1;break;case"A":t=2;break;case"G":t=3;break;case"F":t=4;break;case"E":t=5;break;case"D":t=6;break;case"C":t=7}return t}e.MelodyArray=class{constructor(e){this.numCols=8,this.numRows=8,this.polyphonic=!1,e&&(this.tempo=e),this.resetMelody()}setTempo(e){this.tempo=e}getArray(){return this.melody}setArray(e){this.melody=e}getColor(e){return 0}getValue(e,t){return this.melody[e][t]}getWidth(){return this.numCols}getHeight(){return this.numRows}updateMelody(e,t){var n=!this.melody[e][t];if(n&&!this.polyphonic)for(let e=0;e<this.numRows;e++)this.melody[e][t]=!1;this.melody[e][t]=n}getStringRepresentation(){let t="",r=new Array(this.numCols),i=0;for(let n=0;n<this.numRows;n++){let t=0;r[n]=[];for(let e=0;e<this.numCols;e++)this.melody[e][n]&&(r[n].push(a(e)),t++);t>i&&(i=t)}if(0==i)return"- - - - - - - - ";for(let e=0;e<i;e++)for(let e=0;e<this.numCols;e++)r[e]&&0<r[e].length?t+=r[e].shift()+" ":t+="- ";return t}parseNotes(e){var n=(e=e.trim()).split(" ");for(let t=0;t<n.length;t++){for(let e=0;e<this.numRows;e++)this.melody[e][t]=!1;"-"!=n[t]&&(this.melody[r(n[t])][t]=!0)}}setPolyphonic(e){this.polyphonic=e}isPolyphonic(){return this.polyphonic}resetMelody(){this.melody=new Array(this.numCols);for(let e=0;e<this.numCols;e++)this.melody[e]=new Array(this.numRows).fill(!1)}},e.rowToNote=a,e.noteToRow=r,e.getColorClass=function(e){let t="melody-default";switch(e){case 0:t="melody-red";break;case 1:t="melody-orange";break;case 2:t="melody-yellow";break;case 3:t="melody-green";break;case 4:t="melody-teal";break;case 5:t="melody-blue";break;case 6:t="melody-purple";break;case 7:t="melody-violet"}return t}}(pxtmelody=pxtmelody||{}),function(a){function l(e,t,n){var r=document.createElement(e),i=t,a=n;if(i)for(const a of Object.keys(i))"className"===a?r.setAttribute("class",i[a]+""):r.setAttribute(a,i[a]+"");return a&&r.addEventListener("click",a),r}a.MelodyGallery=class{constructor(){this.value=null,this.visible=!1,this.timeouts=[],this.numSamples=a.SampleMelodies.length,this.containerDiv=document.createElement("div"),this.containerDiv.setAttribute("id","melody-editor-gallery-outer"),this.contentDiv=document.createElement("div"),this.contentDiv.setAttribute("id","melody-editor-gallery"),this.itemBackgroundColor="#DCDCDC",this.itemBorderColor="white",this.initStyles(),this.containerDiv.appendChild(this.contentDiv),this.containerDiv.style.display="none",this.contentDiv.addEventListener("animationend",()=>{this.visible||(this.containerDiv.style.display="none")}),this.contentDiv.addEventListener("wheel",e=>{e.stopPropagation()},!0)}getElement(){return this.containerDiv}getValue(){return this.value}show(e){this.pending=e,this.containerDiv.style.display="block",this.buildDom(),this.visible=!0,pxt.BrowserUtils.removeClass(this.contentDiv,"hidden-above"),pxt.BrowserUtils.addClass(this.contentDiv,"shown")}hide(){this.visible=!1,pxt.BrowserUtils.removeClass(this.contentDiv,"shown"),pxt.BrowserUtils.addClass(this.contentDiv,"hidden-above"),this.value=null,this.stopMelody()}clearDomReferences(){this.contentDiv=null,this.containerDiv=null}layout(e,t,n){this.containerDiv.style.left=e+"px",this.containerDiv.style.top=t+"px",this.containerDiv.style.height=n+"px"}buildDom(){for(;this.contentDiv.firstChild;)this.contentDiv.removeChild(this.contentDiv.firstChild);var t=a.SampleMelodies;this.buttons=[];for(let e=0;e<t.length;e++)this.mkButton(t[e],e,"255px","45px")}initStyles(){var e=document.createElement("style");e.textContent="\n            #melody-editor-gallery {\n                margin-top: -100%;\n            }\n\n            #melody-editor-gallery.hidden-above {\n                margin-top: -100%;\n                animation: slide-up 0.2s 0s ease;\n            }\n\n            #melody-editor-gallery.shown {\n                margin-top: 0px;\n                animation: slide-down 0.2s 0s ease;\n            }\n\n            @keyframes slide-down {\n                0% {\n                    margin-top: -100%;\n                }\n                100% {\n                    margin-top: 0px;\n                }\n            }\n\n            @keyframes slide-up {\n                0% {\n                    margin-top: 0px;\n                }\n                100% {\n                    margin-top: -100%;\n                }\n            }\n            ",this.containerDiv.appendChild(e)}mkButton(e,t,n,r){var i=l("div",{className:"melody-gallery-button melody-editor-card",role:"menuitem",id:":"+t}),a=l("i",{className:"music icon melody-icon"}),s=l("div",{className:"melody-editor-text"}),o=(s.innerText=e.name,this.createColorBlock(e)),c=l("div",{className:"melody-editor-button left-button",role:"button",title:e.name},()=>this.handleSelection(e)),a=(c.appendChild(a),c.appendChild(s),c.appendChild(o),i.appendChild(c),l("div",{className:"melody-editor-button right-button",role:"button",title:lf("Preview {0}",e.name)},()=>this.togglePlay(e,t))),s=l("i",{className:"play icon"});this.buttons[t]=s,a.appendChild(s),i.appendChild(a),this.contentDiv.appendChild(i)}handleSelection(e){var t;this.pending&&(t=this.pending,this.pending=void 0,t(e.notes))}playNote(e,t,n){let r=0;switch(e){case"C5":r=523;break;case"B":r=494;break;case"A":r=440;break;case"G":r=392;break;case"F":r=349;break;case"E":r=330;break;case"D":r=294;break;case"C":r=262}this.timeouts.push(setTimeout(()=>{pxt.AudioContextManager.tone(r)},t*this.getDuration(n))),this.timeouts.push(setTimeout(()=>{pxt.AudioContextManager.stop()},(t+1)*this.getDuration(n)))}getDuration(e){return 6e4/e}previewMelody(t){this.stopMelody();var n=t.notes.split(" ");for(let e=0;e<n.length;e++)this.playNote(n[e],e,t.tempo)}togglePlay(e,t){let n=this.buttons[t];pxt.BrowserUtils.containsClass(n,"play icon")?(this.resetPlayIcons(),pxt.BrowserUtils.removeClass(n,"play icon"),pxt.BrowserUtils.addClass(n,"stop icon"),this.previewMelody(e),this.timeouts.push(setTimeout(()=>{pxt.BrowserUtils.removeClass(n,"stop icon"),pxt.BrowserUtils.addClass(n,"play icon")},e.notes.split(" ").length*this.getDuration(e.tempo)))):(pxt.BrowserUtils.removeClass(n,"stop icon"),pxt.BrowserUtils.addClass(n,"play icon"),this.stopMelody())}stopMelody(){for(;this.timeouts.length;)clearTimeout(this.timeouts.shift());pxt.AudioContextManager.stop()}resetPlayIcons(){for(let e=0;e<this.numSamples;e++){var t=this.buttons[e];if(pxt.BrowserUtils.containsClass(t,"stop icon")){pxt.BrowserUtils.removeClass(t,"stop icon"),pxt.BrowserUtils.addClass(t,"play icon");break}}}createColorBlock(e){var t=document.createElement("div"),n=(pxt.BrowserUtils.addClass(t,"melody-color-block"),e.notes.split(" "));for(let e=0;e<n.length;e++){var r=a.getColorClass(a.noteToRow(n[e])),i=document.createElement("div");0==e?pxt.BrowserUtils.addClass(i,"left-edge sliver "+r):e==n.length-1?pxt.BrowserUtils.addClass(i,"right-edge sliver "+r):pxt.BrowserUtils.addClass(i,"sliver "+r),t.appendChild(i)}return t}}}(pxtmelody=pxtmelody||{}),function(e){class t{constructor(e,t,n){this.name=e,this.notes=t,this.tempo=n}}e.MelodyInfo=t,e.SampleMelodies=[new t(lf("Scale"),"C5 B A G F E D C",120),new t(lf("Reverse"),"C D E F G A B C5",120),new t(lf("Mystery"),"E B C5 A B G A F",120),new t(lf("Gilroy"),"A F E F D G E F",120),new t(lf("Falling"),"C5 A B G A F G E",120),new t(lf("Hopeful"),"G B A G C5 B A B",120),new t(lf("Tokyo"),"B A G A G F A C5",120),new t(lf("Paris"),"G F G A - F E D",120),new t(lf("Rising"),"E D G F B A C5 B",120),new t(lf("Sitka"),"C5 G B A F A C5 B",120)]}(pxtmelody=pxtmelody||{}),function(a){let s,r=!1;class t{constructor(e){this.db=e}loadAsync(t,n,e,r){if(!/^v\d+\.\d+\.\d+$/.test(n))return r(t,n);const i=`gh-${e}-${t}#`+n;return s.cacheGet(i).then(e=>{if(e){const s=a.Util.jsonTryParse(e);if(s)return a.debug("cache hit "+i),Promise.resolve(s)}return r(t,n).then(e=>e&&(a.debug("cached "+i),s.cacheSet(i,JSON.stringify(e)).then(()=>e)))})}loadConfigAsync(e,t){return this.loadAsync(e,t,"pxt",(e,t)=>this.db.loadConfigAsync(e,t))}loadPackageAsync(e,t){return this.loadAsync(e,t,"pkg",(e,t)=>this.db.loadPackageAsync(e,t))}}class i{constructor(e){this.packageFiles=e}resolve(e,t){return""}readFile(e,t){var n="this"==e.id?t:"pxt_modules/"+e.id+"/"+t;return void 0!==this.packageFiles[n]?this.packageFiles[n]:a.appTarget.bundledpkgs[e.id]?a.appTarget.bundledpkgs[e.id][t]:null}writeFile(e,t,n){e="this"==e.id?"":"pxt_modules/"+e.id+"/";a.debug("write file "+e+t),this.packageFiles[e+t]=n}getHexInfoAsync(e){return Promise.resolve({hex:["SKIP"]})}cacheStoreAsync(e,t){return null!=s&&s.cacheSet?s.cacheSet(e,t):Promise.resolve()}cacheGetAsync(e){return null!=s&&s.cacheGet?s.cacheGet(e):Promise.resolve("")}downloadPackageAsync(n){return r?(t=n,((e=null==s?void 0:s.pkgOverrideAsync)?e(t.id):Promise.resolve(void 0)).then(e=>e||t.commonDownloadAsync()).then(e=>{e&&a.U.iterMap(e,(e,t)=>{this.writeFile(n,e,t)})})):Promise.resolve();var t,e}resolveVersionAsync(e){return Promise.resolve("*")}}function o(e){if(e.target.preferredEditor==a.PYTHON_PROJECT_NAME){var t,n=a.U.clone(e);n.ast=!0,n.target.preferredEditor=a.JAVASCRIPT_PROJECT_NAME;for(t of n.sourceFiles)a.U.endsWith(t,".py")&&(n.fileSystem[t.slice(0,-3)+".ts"]=" ");var r=pxtc.compile(n);e.apisInfo=pxtc.getApiInfo(r.ast,n.jres)}}function n(e,t){const n=new i(e),r=new a.MainPackage(n);return r.loadAsync().then(()=>{var e=r.getTargetOptions();return e.hasHex&&(e.isNative=t.native),r.getCompileOptionsAsync(e)}).then(e=>(c(r.targetVersion(),e),o(e),e))}function c(e,t){if(e){a.debug("applying TS patches relative to "+e);for(var n of Object.keys(t.fileSystem)){var r;-1==n.indexOf("/")&&a.U.endsWith(n,".ts")&&(r=t.fileSystem[n])!=(r=a.patching.patchJavaScript(e,r))&&(a.debug("applying TS patch to "+n),t.fileSystem[n]=r)}}}a.SimpleHost=i,a.prepPythonOptions=o,a.simpleInstallPackagesAsync=function(e){e=new i(e);return new a.MainPackage(e).loadAsync(!0)},a.simpleGetCompileOptionsAsync=n,a.simpleCompileAsync=function(e,t){return n(e,"boolean"==typeof t?{native:t}:t||{}).then(e=>pxtc.compile(e)).then(e=>(e.success||(e.errors=e.diagnostics.map(ts.pxtc.getDiagnosticString).join("")||"Unknown error."),e))},a.patchTS=c,a.setupSimpleCompile=function(e){"undefined"==typeof global||global.btoa||(global.btoa=function(e){return Buffer.from(e,"binary").toString("base64")},global.atob=function(e){return Buffer.from(e,"base64").toString("binary")}),"undefined"!=typeof pxtTargetBundle&&(a.debug("setup app bundle"),a.setAppTarget(pxtTargetBundle)),e&&(s=e,r=!0,e.httpRequestAsync&&(a.Util.httpRequestCoreAsync=e.httpRequestAsync),a.github.forceProxy=!0,a.github.db=new t(new a.github.MemoryGithubDb)),a.debug("simple setup done")}}(pxt=pxt||{}),function(x){x.simshim=function(e,t){let n,m=ts.SyntaxKind,g=e.getTypeChecker(),h=x.cpp.nsWriter("declare namespace"),y="";for(var r of e.getSourceFiles()){if(t){var i=t(r.fileName);if(x.debug("SimShim[1]: "+i.dir),!x.U.endsWith(i.dir,"/sim")&&!x.U.startsWith(r.fileName,"sim/"))continue}else if(!x.U.startsWith(r.fileName,"sim/"))continue;x.debug("SimShim[2]: "+r.fileName);for(var a of r.statements){var s=a;a.kind==m.ModuleDeclaration&&"pxsim"==s.name.text&&d((n=s).body)}}e={};return e[x.appTarget.corepkg]=h.finish(),e;function v(e){let t;return t=(t=ts.isExpression(e)?g.getContextualType(e):t)||g.getTypeAtLocation(e)}function b(e){let t=g.typeToString(e,n,ts.TypeFormatFlags.UseFullyQualifiedType);switch(t=t.replace(/^pxsim\./,"")){case"RefAction":return"() => void";case"RefBuffer":return"Buffer";default:return t}}function l(e){e=pxtc.getComments(e);return/^\s*\/\/%/m.test(e)?e:null}function u(d,p=!1){var f,_=l(d);if(_){let e=d.name.getText(),t=d.kind==m.MethodDeclaration||d.kind==m.GetAccessor||d.kind==m.SetAccessor,n="//% shim="+(t?"."+e:y+"::"+e),r=g.getSignatureFromDeclaration(d),i=g.getReturnTypeOfSignature(r),a=/Async$/.test(e),s=(f=i,pxtc.isObjectType(f)&&f.objectFlags&ts.ObjectFlags.Reference&&"Promise"==f.symbol.name?f.typeArguments[0]:null);s?(n+=" promise",i=s,a||x.U.userError(y+`::${e} should be called ${e}Async`)):a&&x.U.userError(y+`::${e} doesn't return a promise`),x.debug("emitFun: "+e);let o=d.parameters.map(e=>`${e.name.getText()}${e.questionToken?"?":""}: `+b(v(e))),c=e.replace(/Async$/,""),l=t?"public":"function",u=`(${o.join(", ")})`;d.kind==m.GetAccessor&&(l=p?"public":"readonly",u="",n+=" property"),t||h.setNs(y),h.write(_),h.write(n),h.write(`${l} ${c}${u}: ${b(i)};`),h.write("")}}function d(e){switch(e.kind){case m.ModuleDeclaration:return s=e,(t=y)&&(y+="."),y+=s.name.text,d(s.body),void(y=t);case m.ModuleBlock:return e.statements.forEach(d);case m.FunctionDeclaration:return u(e);case m.ClassDeclaration:var n=e;if(s=l(n)){h.setNs(y),h.write(s);var r,i,a,s=y;y&&(y+="."),y+=n.name.text;let e=s?"":"declare",t="";if(n.heritageClauses)for(var o of n.heritageClauses)o.token==m.ExtendsKeyword&&(t=" extends "+b(v(o.types[0])));h.write(e+` class ${n.name.text}${t} {`),h.incrIndent();for(let t of n.members)switch(t.kind){case m.MethodDeclaration:u(t);break;case m.PropertyDeclaration:r=t,a=i=c=void 0,(a=l(r))&&(i="//% shim=."+(c=r.name.getText()),r=g.getTypeAtLocation(r),h.write(a),h.write(i),h.write(`public ${c}: ${b(r)};`),h.write(""));break;case m.Constructor:a=t,i=void 0,(i=l(a))&&(g.getTypeAtLocation(a),a=a.parameters.map(e=>e.name.getText()+": "+b(v(e))),h.write(i),h.write(`//% shim="new ${y}"`),h.write(`constructor(${a.join(", ")});`),h.write(""));break;case m.GetAccessor:var c=n.members.some(e=>e.kind==m.SetAccessor&&e.name.getText()==t.name.getText());u(t,c)}y=s,h.decrIndent(),h.write("}")}return}var s,t}}}(pxt=pxt||{}),function(d){var p;(p=d.pxtc||(d.pxtc={})).annotate=function(e,t,n){var r=p.target;p.target=n;let i=e.getSourceFiles().filter(e=>e.fileName===t)[0],o=e.getTypeChecker();function c(t,n,e=!1,r=null){var e=e||!(u(t).flags&d.TypeFlags.Void),i=r||l(t);if(t.expression&&i){let e=!1;switch(i.kind){case p.SK.PropertySignature:case p.SK.PropertyAssignment:case p.SK.PropertyDeclaration:p.isStatic(i)||(e=!0);break;case p.SK.Parameter:p.isCtorField(i)&&(e=!0);break;case p.SK.GetAccessor:case p.SK.SetAccessor:case p.SK.MethodDeclaration:case p.SK.MethodSignature:e=!0}if(e){const d=t.expression;d.kind===p.SK.PropertyAccessExpression?n.unshift(d.expression):n.unshift(t.expression)}}r={decl:i,qName:i?p.getNodeFullName(o,i):"?",args:n,isExpression:e};p.pxtInfo(t).callInfo=r}function l(e){if(!e)return null;let t,n=o.getSymbolAtLocation(e);var r;if(!(t=n&&!(t=n.valueDeclaration)&&n.declarations&&(r=n.declarations[0])&&r.kind==d.SyntaxKind.ImportEqualsDeclaration&&(n=o.getSymbolAtLocation(r.moduleReference))?n.valueDeclaration:t)&&e.kind==p.SK.PropertyAccessExpression){const d=e;t={kind:p.SK.PropertySignature,symbol:{isBogusSymbol:!0,name:d.name.getText()},name:d.name},p.pxtInfo(t).flags|=2}return t}function u(e){let t;var n=p.pxtInfo(e);return n.typeCache||(t=(t=d.isExpression(e)?o.getContextualType(e):t)||o.getTypeAtLocation(e))&&(d.isStringLiteral(e)?t:p.checkType(t))}!function s(e){d.forEachChild(e,e=>{switch(e.kind){case d.SyntaxKind.CallExpression:c(e,e.arguments.slice(0),null,l(e.expression));break;case d.SyntaxKind.PropertyAccessExpression:c(e,[]);break;case d.SyntaxKind.TaggedTemplateExpression:c(e,[e.template],!0,l(e.tag));break;case d.SyntaxKind.BinaryExpression:var t=e,n=t.left,r=t.right,i=u(t.left),a=u(t.right);switch(t.operatorToken.kind!=p.SK.PlusToken&&t.operatorToken.kind!=p.SK.PlusEqualsToken||(p.isStringType(i)||p.isStringType(a)&&t.operatorToken.kind==p.SK.PlusToken)&&(p.pxtInfo(t).exprInfo={leftType:o.typeToString(i),rightType:o.typeToString(a)}),t.operatorToken.kind){case d.SyntaxKind.EqualsToken:case d.SyntaxKind.PlusEqualsToken:case d.SyntaxKind.MinusEqualsToken:if(n.kind==p.SK.PropertyAccessExpression){let e=l(n);e&&e.kind==p.SK.GetAccessor?c(n,[r],!1,e=d.getDeclarationOfKind(e.symbol,p.SK.SetAccessor)):e&&(e.kind==p.SK.PropertySignature||e.kind==p.SK.PropertyAssignment||p.target&&p.target.switches.slowFields)&&c(n,[r])}}break;case d.SyntaxKind.Identifier:const s=l(e);if(s&&s.getSourceFile().fileName!==pxt.MAIN_TS&&s.kind==d.SyntaxKind.VariableDeclaration){const d=p.pxtInfo(e);d.flags|=4,d.commentAttrs||(d.commentAttrs=p.parseComments(s))}}s(e)})}(i),p.target=r}}(ts=ts||{}),function(e){function s(t){let n='"';for(let e=0;e<t.length;++e){var r=255&t.charCodeAt(e),i=String.fromCharCode(r);n+="\\"==i||'"'==i?"\\"+i:"\n"==i?"\\n":r<=15?"\\x0"+r.toString(16):r<32||127<r?"\\x"+r.toString(16):i}return n+'"'}function n(r){let e="pxt::string_inline_ascii_vt",i=v.target.utf8?v.U.toUTF8(r,!0):r,a="";if(i!==r)if(16<r.length){e="pxt::string_skiplist16_packed_vt";let t=[],n=0;for(let e=0;e+16<=r.length;e+=16)n+=v.U.toUTF8(r.slice(e,e+16),!0).length,t.push(n);a=`
    .short ${i.length}, ${r.length}
    .short ${t.map(e=>e.toString()).join(", ")}
    .string ${s(i)}
`}else e="pxt::string_inline_utf8_vt";return a=a||`
    .short ${i.length}
    .string ${s(i)}
`,{vt:e,asm:a}}function r(e,t=""){return`
                .word ${e.length>>1}${t}
                .hex ${e}${e.length%4==0?"":"00"}
        `}var v;(v=e.pxtc||(e.pxtc={})).asmStringLiteral=s,v.AssemblerSnippets=class{nop(){return"TBD(nop)"}reg_gets_imm(e,t){return"TBD(reg_gets_imm)"}proc_setup(e,t){return"TBD(proc_setup)"}push_fixed(e){return"TBD(push_fixed)"}push_local(e){return"TBD(push_local)"}push_locals(e){return"TBD(push_locals)"}pop_fixed(e){return"TBD(pop_fixed)"}pop_locals(e){return"TBD(pop_locals)"}proc_return(){return"TBD(proc_return)"}debugger_stmt(e){return""}debugger_bkpt(e){return""}debugger_proc(e){return""}unconditional_branch(e){return"TBD(unconditional_branch)"}beq(e){return"TBD(beq)"}bne(e){return"TBD(bne)"}cmp(e,t){return"TBD(cmp)"}cmp_zero(e){return"TBD(cmp_zero)"}arithmetic(){return""}load_reg_src_off(e,t,n,r,i,a){return"TBD(load_reg_src_off)"}rt_call(e,t,n){return"TBD(rt_call)"}call_lbl(e,t){return"TBD(call_lbl)"}call_reg(e){return"TBD(call_reg)"}helper_prologue(){return"TBD(lambda_prologue)"}helper_epilogue(){return"TBD(lambda_epilogue)"}pop_clean(e){return"TBD"}load_ptr_full(e,t){return"TBD(load_ptr_full)"}emit_int(e,t){return"TBD(emit_int)"}obj_header(e){return".word "+e}string_literal(e,t){t=n(t);return`
            .balign 4
            ${e}: ${this.obj_header(t.vt)}
            ${t.asm}
`}hex_literal(e,t){return`
.balign ${/f{16}/i.test(t)?8:4}
${e}: ${this.obj_header("pxt::buffer_vt")}
${r(t)}
`}},v.utf8AsmStringLiteral=n,v.hexLiteralAsm=r,v.numBytes=function(t){let n=0;for(let e=t;0<e;e>>>=8)n++;return n||1},v.ProctoAssembler=class{constructor(e,t,n){this.resText="",this.exprStack=[],this.calls=[],this.proc=null,this.baseStackSize=0,this.labelledHelpers={},this.write=e=>{this.resText+=v.asmline(e)},this.t=e,this.bin=t,this.proc=n,this.proc&&this.work()}emitHelpers(){this.emitLambdaTrampoline(),this.emitArrayMethods(),this.emitFieldMethods(),this.emitBindHelper()}redirectOutput(e){let t=this.write,n="";this.write=e=>n+=v.asmline(e);try{e()}finally{this.write=t}return n}stackSize(){return this.baseStackSize+this.exprStack.length}stackAlignmentNeeded(e=0){return!v.target.stackAlign||(e=v.target.stackAlign-(this.stackSize()+e&v.target.stackAlign-1))==v.target.stackAlign?0:e}getAssembly(){return this.resText}work(){this.write(`
;
; Function ${this.proc.getFullName()}
;
`);let e=this.proc.label(),a=e+"_pre",s=e+"_bkpt",o=e+"_locals",c=e+"_end";this.write(a+":"),this.emitLambdaWrapper(this.proc.isRoot),this.write(".section code"),this.write(e+":"),this.proc.classInfo&&this.proc.info.thisParameter&&!v.target.switches.skipClassCheck&&!v.target.switches.noThisCheckOpt&&(this.write("mov r7, lr"),this.write("ldr r0, [sp, #0]"),this.emitInstanceOf(this.proc.classInfo,"validate"),this.write("mov lr, r7")),this.write(`
${e}_nochk:
    @stackmark func
    @stackmark args
`),this.proc.fillDebugInfo=t=>{var e,n=t.getLabels();this.proc.debugInfo={locals:(1==this.proc.seqNo?this.bin.globals:this.proc.locals).map(e=>e.getDebugInfo()),args:this.proc.args.map(e=>e.getDebugInfo()),name:this.proc.getName(),codeStartLoc:v.U.lookup(n,o),codeEndLoc:v.U.lookup(n,c),bkptLoc:v.U.lookup(n,s),localsMark:v.U.lookup(t.stackAtLabel,o),idx:this.proc.seqNo,calls:this.calls,size:v.U.lookup(n,c)+2-v.U.lookup(n,a)};for(e of this.calls)e.addr=v.U.lookup(n,e.callLabel),e.stack=v.U.lookup(t.stackAtLabel,e.callLabel),e.callLabel=void 0;for(let e=0;e<this.proc.body.length;++e){var r,i=this.proc.body[e].breakpointInfo;i&&(r=v.U.lookup(t.stackAtLabel,"__brkp_"+i.id))!==this.proc.debugInfo.localsMark&&(console.log(i),console.log(t.stackAtLabel),v.U.oops(`offset doesn't match: ${r} != `+this.proc.debugInfo.localsMark))}},this.bin.options.breakpoints&&this.write(this.t.debugger_proc(s)),this.baseStackSize=1;var t=this.proc.locals.length;this.write("push {lr}"),this.write(".locals:\n"),this.proc.perfCounterNo&&(this.write(this.t.emit_int(this.proc.perfCounterNo,"r0")),this.write("bl pxt::startPerfCounter")),this.write(this.t.proc_setup(t)),this.baseStackSize+=t,this.write("@stackmark locals"),this.write(o+":");for(let e=0;e<this.proc.body.length;++e){var n,r=this.proc.body[e];switch(r.stmtKind){case v.ir.SK.Expr:this.emitExpr(r.expr);break;case v.ir.SK.StackEmpty:if(0<this.exprStack.length){for(var i of this.proc.body.slice(e-4,e+1))console.log("PREVSTMT "+i.toString().trim());for(var l of this.exprStack)console.log(`EXPRSTACK ${l.currUses}/${l.totalUses} E: `+l.toString());v.oops("stack should be empty")}this.write("@stackempty locals");break;case v.ir.SK.Jmp:this.emitJmp(r);break;case v.ir.SK.Label:this.write(r.lblName+":"),this.validateJmpStack(r);break;case v.ir.SK.Comment:this.write("; "+r.expr.data);break;case v.ir.SK.Breakpoint:this.bin.options.breakpoints&&(n="__brkp_"+r.breakpointInfo.id,r.breakpointInfo.isDebuggerStmt?this.write(this.t.debugger_stmt(n)):this.write(this.t.debugger_bkpt(n)));break;default:v.oops()}}v.assert(0<=t&&t<127),0<t&&this.write(this.t.pop_locals(t)),this.proc.perfCounterNo&&(this.write("mov r4, r0"),this.write(this.t.emit_int(this.proc.perfCounterNo,"r0")),this.write("bl pxt::stopPerfCounter"),this.write("mov r0, r4")),this.write(c+":"),this.write(this.t.proc_return()),this.write("@stackempty func"),this.write("@stackempty args"),this.write("; endfun")}mkLbl(e){let t=e+this.bin.lblNo++;return t="_"!=t[0]?"."+t:t}dumpStack(){let e="[";for(var t of this.exprStack)e+=t.sharingInfo()+": "+t.toString()+"; ";return e+="]"}terminate(e){v.assert(e.exprKind==v.ir.EK.SharedRef);e=e.args[0];v.U.assert(e.currUses!=e.totalUses),v.U.assert(this.exprStack[0]===e,"term at top");let t=1;for(;t<this.exprStack.length;){var n=this.exprStack[t];if(n.currUses!=n.totalUses)break;t++}return this.write("@dummystack "+t),this.write(this.t.pop_locals(t)),t}validateJmpStack(e,t=0){t=this.exprStack.length-t;null==e.lblStackSize?e.lblStackSize=t:e.lblStackSize!=t&&(console.log(e.lblStackSize,t),console.log(this.dumpStack()),v.U.oops("stack misaligned at: "+e.lblName))}emitJmp(e){let t=0;var n;e.jmpMode==v.ir.JmpMode.Always?(e.expr&&this.emitExpr(e.expr),e.terminateExpr&&(t=this.terminate(e.terminateExpr)),this.write(this.t.unconditional_branch(e.lblName)+" ; with expression")):(n=this.mkLbl("jmpz"),this.emitExpr(e.expr),e.expr.exprKind==v.ir.EK.RuntimeCall&&("thumb::subs"===e.expr.data||v.U.startsWith(e.expr.data,"_cmp_"))||this.write(this.t.cmp_zero("r0")),e.jmpMode==v.ir.JmpMode.IfNotZero?this.write(this.t.beq(n)):this.write(this.t.bne(n)),e.terminateExpr&&(t=this.terminate(e.terminateExpr)),this.write(this.t.unconditional_branch(e.lblName)),this.write(n+":")),this.validateJmpStack(e.lbl,t)}clearStack(e=!1){let t=0;for(;0<this.exprStack.length&&this.exprStack[0].currUses==this.exprStack[0].totalUses;)t++,this.exprStack.shift();if(t&&this.write(this.t.pop_locals(t)),!e){e=this.exprStack.filter(e=>e.currUses==e.totalUses&&-1!=e.irCurrUses);if(0<e.length){this.write(this.t.reg_gets_imm("r7",0));for(var n of e)n.irCurrUses=-1,this.write(this.loadFromExprStack("r7",n,0,!0))}}}emitExprInto(e,n){switch(e.exprKind){case v.ir.EK.NumberLiteral:"number"==typeof e.data?this.write(this.t.emit_int(e.data,n)):v.oops();break;case v.ir.EK.PointerLiteral:this.write(this.t.load_ptr_full(e.data,n));break;case v.ir.EK.SharedRef:var r=e.args[0],t=(v.U.assert(!!r.currUses),v.U.assert(r.currUses<r.totalUses),r.currUses++,this.exprStack.indexOf(r));v.U.assert(0<=t),0==t&&r.totalUses==r.currUses?(this.write(this.t.pop_fixed([n])+(" ; tmpref @"+this.exprStack.length)),this.exprStack.shift(),this.clearStack()):(r=t.toString()+":"+this.exprStack.length,this.write(this.t.load_reg_src_off(n,"sp",r,!0)+" ; tmpref @"+(this.exprStack.length-t)));break;case v.ir.EK.CellRef:r=e.data;if(r.isGlobal()){let e=this.bitSizeInfo(r.bitSize),t="#"+r.index;(e.needsSignExt||r.index>=e.immLimit)&&(this.write(this.t.emit_int(r.index,n)),t=n),this.write(this.t.load_reg_src_off("r7","r6","#0")),this.write(this.t.load_reg_src_off(n,"r7",t,!1,!1,e))}else{var[t,r,i]=this.cellref(r);this.write(this.t.load_reg_src_off(n,t,r,i))}break;default:v.oops()}}bitSizeInfo(e){var t={size:v.sizeOfBitSize(e),immLimit:128};return 1==t.size?t.immLimit=32:2==t.size&&(t.immLimit=64),1!=e&&3!=e||(t.needsSignExt=!0),t}emitExpr(e){switch(e.exprKind){case v.ir.EK.JmpValue:this.write("; jmp value (already in r0)");break;case v.ir.EK.Nop:this.write(this.t.nop());break;case v.ir.EK.FieldAccess:return this.emitExpr(e.args[0]),this.emitFieldAccess(e);case v.ir.EK.Store:return this.emitStore(e.args[0],e.args[1]);case v.ir.EK.RuntimeCall:return this.emitRtCall(e);case v.ir.EK.ProcCall:return this.emitProcCall(e);case v.ir.EK.SharedDef:return this.emitSharedDef(e);case v.ir.EK.Sequence:return e.args.forEach(e=>this.emitExpr(e)),this.clearStack();case v.ir.EK.InstanceOf:return this.emitExpr(e.args[0]),this.emitInstanceOf(e.data,e.jsInfo);default:return this.emitExprInto(e,"r0")}}emitFieldAccess(e,t=!1){e=e.data;e.classInfo.id,e.name;e.needsCheck&&!v.target.switches.skipClassCheck&&this.emitInstanceOf(e.classInfo,"validate");let n=4*e.idx+4,r="#"+n;124<n&&(this.write(this.t.emit_int(n,"r3")),r="r3"),t?this.write(`str r1, [r0, ${r}]`):this.write(`ldr r0, [r0, ${r}]`)}writeFailBranch(){this.write(".fail:"),this.write("mov r1, lr"),this.write(this.t.callCPP("pxt::failedCast"))}emitClassCall(e){var t=e.virtualIndex+v.firstMethodOffset();this.write(this.t.emit_int(4*t,"r1"));let n=e.classInfo,r="";e.isThis&&(r+="_this"),this.emitLabelledHelper("classCall_"+n.id+r,()=>{this.write("ldr r0, [sp, #0] ; ld-this"),this.loadVTable(),v.target.switches.skipClassCheck||e.isThis||this.checkSubtype(n),this.write("ldr r1, [r3, r1] ; ld-method"),this.write("bx r1 ; keep lr from caller"),this.writeFailBranch()})}emitBindHelper(){this.write(`
                .section code
                _pxt_bind_helper:
                    push {r0, r2}
                    movs r0, #2
                    ldlit r1, _pxt_bind_lit
                    ${this.t.callCPP("pxt::mkAction")}
                    pop {r1, r2}
                    str r1, [r0, #12]
                    str r2, [r0, #16]
                    bx r4 ; return

                _pxt_bind_lit:
                    ${this.t.obj_header("pxt::RefAction_vtable")}
                    .short 0, 0 ; no captured vars
                    .word .bindCode@fn
                .bindCode:
                    ; r0-bind object, r4-#args
                    cmp r4, #12
                    bge .fail
                    lsls r3, r4, #2
                    ldlit r2, _pxt_copy_list
                    ldr r1, [r2, r3]

                    ldr r3, [r0, #12]
                    ldr r2, [r0, #16]
                    adds r4, r4, #1
                    bx r1
            `),this.writeFailBranch(),this.write("_pxt_copy_list:"),this.write(v.U.range(12).map(e=>`.word _pxt_bind_${e}@fn`).join("\n"));for(let t=0;t<12;t++){this.write(`
                _pxt_bind_${t}:
                    sub sp, #4
                `);for(let e=0;e<t;++e)this.write(`ldr r1, [sp, #4*${e+1}]`),this.write(`str r1, [sp, #4*${e}]`);this.write(`
                    push {r3} ; this-ptr
                    mov r1, lr
                    str r1, [sp, #4*${t+1}] ; store LR
                    blx r2
                    ldr r1, [sp, #4*${t+1}]
                    add sp, #8
                    bx r1
                `)}}ifaceCallCore(t,e,n=!1){this.write("\n                ldr r2, [r3, #12] ; load mult\n                movs r7, r2\n                beq .objlit ; built-in types have mult=0\n                muls r7, r1\n                lsrs r7, r2\n                lsls r7, r7, #1 ; r7 - hash offset\n                ldr r3, [r3, #4] ; iface table\n                adds r3, r3, r7\n                ; r0-this, r1-method idx, r2-free, r3-hash entry, r4-num args, r7-free\n                ");for(let e=0;e<v.vtLookups;++e)0<e&&this.write("    adds r3, #2"),this.write("\n                ldrh r2, [r3, #0] ; r2-offset of descriptor\n                ldrh r7, [r2, r3] ; r7-method idx\n                cmp r7, r1\n                beq .hit\n                ");"get"==e?(this.write("movs r0, #0 ; undefined"),this.write("bx lr")):this.write("b .fail2"),this.write("\n            .hit:\n                adds r3, r3, r2 ; r3-descriptor\n                ldr r2, [r3, #4]\n                lsls r7, r2, #31\n                beq .field\n            ");var r=this.t.emit_int(t,"r4")+"\n     bx r2";if("set"==e?this.write(`
                    ; check for next descriptor
                    ldrh r7, [r3, #8]
                    cmp r7, r1
                    bne .fail2 ; no setter!
                    ldr r2, [r3, #12]
                    ${r}
                `):(this.write("\n                    ; check if it's getter\n                    ldrh r7, [r3, #2]\n                    cmp r7, #1\n                "),"get"==e?this.write(`
                        bne .bind
                        ${r}
                    .bind:
                        mov r4, lr
                        bl _pxt_bind_helper
                    `):this.write(`
                        beq .doublecall
                        ${r}
                    .doublecall:
                        ; call getter
                        movs r4, #1
                        push {r0, lr}
                        blx r2
                        pop {r1, r2}
                        mov lr, r2
                        b .moveArgs
                    `)),n||(this.write(`
                .objlit:
                    ldrh r2, [r3, #8]
                    cmp r2, #${pxt.BuiltInType.RefMap}
                    bne .fail
                    mov r4, lr
                `),"set"==e&&this.write("ldr r2, [sp, #4] ; ld-val"),this.write(this.t.callCPP("set"==e?"pxtrt::mapSet":"pxtrt::mapGet")),e?this.write("bx r4"):(this.write("mov lr, r4"),this.write("b .moveArgs"))),this.write(".field:"),"set"==e?this.write("\n                        ldr r3, [sp, #4] ; ld-val\n                        str r3, [r0, r2] ; store field\n                        bx lr\n                    "):"get"==e?this.write("\n                        ldr r0, [r0, r2] ; load field\n                        bx lr\n                    "):this.write("\n                        ldr r0, [r0, r2] ; load field\n                    "),!e){this.write(".moveArgs:");for(let e=0;e<t;++e)e==t-1?this.write("movs r1, r0"):this.write(`ldr r1, [sp, #4*${e+1}]`),this.write(`str r1, [sp, #4*${e}]`);this.lambdaCall(t-1)}n&&this.write(".objlit:"),this.writeFailBranch(),this.write(`
            .fail2:
                ${this.t.callCPP("pxt::missingProperty")}
            `)}emitIfaceCall(e,t,n=""){v.U.assert(0<e.ifaceIndex),this.write(this.t.emit_int(e.ifaceIndex,"r1")),this.emitLabelledHelper("ifacecall"+t+"_"+n,()=>{this.write("ldr r0, [sp, #0] ; ld-this"),this.loadVTable(),this.ifaceCallCore(t,n)})}checkSubtype(e,t=".fail",n="r2"){e.classNo?(this.write(`ldrh ${n}, [r3, #8]`),this.write(`cmp ${n}, #`+e.classNo),e.classNo==e.lastSubtypeNo?this.write("bne "+t):(this.write("blt "+t),this.write(`cmp ${n}, #`+e.lastSubtypeNo),this.write("bgt "+t))):this.write(`b ${t} ; always fails; class never instantiated`)}loadVTable(e="r2",t=".fail",n=".fail"){this.write(`lsls ${e}, r0, #30`),this.write("bne "+t),this.write("cmp r0, #0"),this.write("beq "+n),this.write("ldr r3, [r0, #0]"),this.write("; vtable in R3")}emitInstanceOf(e,t){var n="inst_"+e.id+"_"+t;this.emitLabelledHelper(n,()=>{"validateNullable"==t?this.loadVTable("r2",".tagged",".undefined"):this.loadVTable("r2",".fail",".fail"),this.checkSubtype(e),"bool"==t?(this.write("movs r0, #"+v.taggedTrue),this.write("bx lr"),this.write(".fail:"),this.write("movs r0, #"+v.taggedFalse),this.write("bx lr")):"validate"==t?(this.write("bx lr"),this.writeFailBranch()):"validateNullable"==t?(this.write(".undefined:"),this.write("bx lr"),this.write(".tagged:"),this.write(`cmp r0, #${v.taggedNull} ; check for null`),this.write("bne .fail"),this.write("movs r0, #0"),this.write("bx lr"),this.writeFailBranch()):v.U.oops()})}emitSharedDef(e){e=e.args[0];if(v.U.assert(1<=e.totalUses),v.U.assert(0===e.currUses),(e.currUses=1)==e.totalUses)return this.emitExpr(e);this.emitExpr(e),this.exprStack.unshift(e),this.write(this.t.push_local("r0")+"; tmpstore @"+this.exprStack.length)}clearArgs(e,t){e.length,t.length;var n,r=e.concat(t);for(n of r)0==n.currUses&&1==n.totalUses||(console.log(n.toString()),console.log(r.map(e=>e.toString())),v.U.oops(`wrong uses: ${n.currUses} `+n.totalUses)),n.currUses=1;this.clearStack()}builtInClassNo(e){return{id:"builtin"+e,classNo:e,lastSubtypeNo:e}}emitBeginTry(e){this.emitExprInto(e.args[0],"r0"),this.write("bl _pxt_save_exception_state")}emitRtCall(e,t=null){var n,r,i,a=e.data;if("pxt::beginTry"==a)return this.emitBeginTry(e);let s=e.mask||{refMask:0},o=s.conversions||[],c=e.args.map((e,t)=>({idx:t,expr:e,isSimple:e.isLiteral(),isRef:0!=(s.refMask&1<<t),conv:o.find(e=>e.argIdx==t)})),l=(v.U.assert(c.length<=4),!1);for(n of v.U.reversed(c))n.expr.isPure()?n.isSimple||n.isRef||l&&!n.expr.isStateless()||(n.isSimple=!0):l=!0;for(r of c)r.conv&&(r.isSimple=!1);let u=c.filter(e=>!e.isSimple);if(u.every(e=>e.expr.isPure()&&!e.isRef&&!e.conv)){for(var d of u)d.isSimple=!0;u=[]}let p=u[0],f=!0;if(1!=u.length||p.conv||p.isRef){for(var _ of u)this.pushArg(_.expr);this.alignExprStack(0);let a=u.filter(e=>!!e.conv);if(a.length){const t=this.redirectOutput(()=>{let e=0;v.target.switches.inlineConversions||(this.t.stackAligned()?e+=2:e+=1);for(var t of a){var n;v.isThumb()&&"pxt::toInt"==t.conv.method?(this.write(this.loadFromExprStack("r0",t.expr,e)),this.write("asrs r0, r0, #1"),n=v.target.switches.inlineConversions?t.expr.getId():e,this.write("bcs .isint"+n),this.write("lsls r0, r0, #1"),this.alignedCall(t.conv.method,"",e),this.write(".isint"+n+":")):(this.write(this.loadFromExprStack("r0",t.expr,e)),t.conv.refTag?v.target.switches.skipClassCheck||this.emitInstanceOf(this.builtInClassNo(t.conv.refTag),t.conv.refTagNullable?"validateNullable":"validate"):(this.alignedCall(t.conv.method,"",e),t.conv.returnsRef&&this.write(this.loadFromExprStack("r0",t.expr,e,!0)))),this.write(this.t.push_fixed(["r0"])),e++}for(var r of v.U.reversed(a))e--,this.write(this.t.pop_fixed(["r"+r.idx]));for(var i of u)i.conv||this.write(this.loadFromExprStack("r"+i.idx,i.expr,e))});v.target.switches.inlineConversions?this.write(t):this.emitHelper(this.t.helper_prologue()+t+this.t.helper_epilogue(),"conv")}else for(var m of u)this.write(this.loadFromExprStack("r"+m.idx,m.expr))}else this.emitExpr(p.expr),0!=p.idx&&this.write(this.t.mov("r"+p.idx,"r0")),f=!1;for(i of c)i.isSimple&&this.emitExprInto(i.expr,"r"+i.idx);t?t():"langsupp::ignore"!=a&&this.alignedCall(a,"",0,!0),f&&this.clearArgs(u.filter(e=>!e.isRef).map(e=>e.expr),u.filter(e=>e.isRef).map(e=>e.expr))}alignedCall(e,t="",n=0,r=!1){(v.U.startsWith(e,"_cmp_")||v.U.startsWith(e,"_pxt_"))&&(r=!1),this.write(this.t.call_lbl(e,r,this.stackAlignmentNeeded(n))+t)}emitLabelledHelper(e,t){this.labelledHelpers[e]?this.write(this.t.call_lbl(this.labelledHelpers[e])):(t=this.redirectOutput(t),this.emitHelper(t,e),this.labelledHelpers[e]=this.bin.codeHelpers[t])}emitHelper(e,t="hlp"){var n;this.bin.codeHelpers[e]||(n=Object.keys(this.bin.codeHelpers).length,this.bin.codeHelpers[e]=`_${t}_`+n),this.write(this.t.call_lbl(this.bin.codeHelpers[e]))}pushToExprStack(e){e.totalUses=1,e.currUses=0,this.exprStack.unshift(e)}pushArg(e){this.clearStack(!0),this.exprStack.length,this.emitExpr(e),this.clearStack(!0),this.write(this.t.push_local("r0")+" ; proc-arg"),this.pushToExprStack(e)}loadFromExprStack(e,t,n=0,r=!1){t=this.exprStack.indexOf(t);return v.assert(0<=t),this.t.load_reg_src_off(e,"sp",(t+n).toString(),!0,r)+" ; estack\n"}pushDummy(){var e=v.ir.numlit(0);e.totalUses=1,e.currUses=1,this.exprStack.unshift(e)}alignExprStack(e){var t=this.stackAlignmentNeeded(e);if(t)for(let e=0;e<t;++e)this.write("push {r5} ; align"),this.pushDummy()}emitFieldMethods(){for(var n of["get","set"]){this.write(`
                .section code
                _pxt_map_${n}:
                `),this.loadVTable("r4"),this.checkSubtype(this.builtInClassNo(pxt.BuiltInType.RefMap),".notmap","r4"),this.write(this.t.callCPPPush("set"==n?"pxtrt::mapSetByString":"pxtrt::mapGetByString")),this.write(".notmap:");let e="set"==n?2:1,t=!1;this.write("mov r4, r3 ; save VT"),"set"==n?(v.target.stackAlign&&(t=!0,this.write("push {lr} ; align")),this.write("\n                            push {r0, r2, lr}\n                            mov r0, r1\n                        ")):this.write("\n                            push {r0, lr}\n                            mov r0, r1\n                        "),this.write("\n                    bl pxtrt::lookupMapKey\n                    mov r1, r0 ; put key index in r1\n                    ldr r0, [sp, #0] ; restore obj pointer\n                    mov r3, r4 ; restore vt\n                    bl .dowork\n                "),this.write(this.t.pop_locals(e+(t?1:0))),this.write("pop {pc}"),this.write(".dowork:"),this.ifaceCallCore(e,n,!0)}}emitArrayMethod(e,t){this.write(`
            .section code
            _pxt_${t?"buffer":"array"}_${e}:
            `),this.loadVTable("r4");var n=this.builtInClassNo(t?pxt.BuiltInType.BoxedBuffer:pxt.BuiltInType.RefCollection),n=(v.target.switches.skipClassCheck||this.checkSubtype(n,".fail","r4"),v.isStackMachine()||v.target.runtimeIsARM||t?"ldr":"ldrh");this.write(`
                asrs r1, r1, #1
                bcc .notint
                ${n} r4, [r0, #${t?4:8}]
                cmp r1, r4
                bhs .oob
            `);let r="r1";t?(r="#8",this.write("\n                    adds r4, r0, r1\n                ")):this.write("\n                    lsls r1, r1, #2\n                    ldr r4, [r0, #4]\n                ");var n=t?"b":"",i=t&&"get"==e?"lsls r0, r0, #1\nadds r0, #1":"";"set"==e?this.write(`
                        str${n} r2, [r4, ${r}]
                        bx lr
                    `):this.write(`
                        ldr${n} r0, [r4, ${r}]
                        ${i}
                        bx lr
                    `),this.write(`
            .notint:
                lsls r1, r1, #1
                ${this.t.pushLR()}
                push {r0, r2}
                mov r0, r1
                ${this.t.callCPP("pxt::toInt")}
                mov r1, r0
                pop {r0, r2}
            .doop:
                ${this.t.callCPP(`Array_::${e}At`)}
                ${i}
                ${this.t.popPC()}
            `),this.writeFailBranch(),"get"==e?this.write(`
                    .oob:
                        movs r0, #${t?1:0} ; 0 or undefined
                        bx lr
                `):this.write(`
                    .oob:
                        ${this.t.pushLR()}
                        b .doop
                `)}emitArrayMethods(){for(var e of["get","set"])this.emitArrayMethod(e,!0),this.emitArrayMethod(e,!1)}emitLambdaTrampoline(){var e=v.target.stackAlign?"r3,":"";this.write(`
            .section code
            _pxt_lambda_trampoline:
                push {${e} r4, r5, r6, r7, lr}
                mov r4, r8
                mov r5, r9
                mov r6, r10
                mov r7, r11
                push {r4, r5, r6, r7} ; save high registers
                mov r4, r1
                mov r5, r2
                mov r6, r3
                mov r7, r0
                `),this.emitInstanceOf(this.builtInClassNo(pxt.BuiltInType.RefAction),"validate"),this.write(`
                mov r0, sp
                push {r4, r5, r6, r7} ; push args and the lambda
                mov r1, sp
                bl pxt::pushThreadContext
                mov r6, r0          ; save ctx or globals
                mov r5, r7          ; save lambda for closure
                mov r0, r5          ; also save lambda pointer in r0 - needed by pxt::bindMethod
                ldr r1, [r5, #8]    ; ld fnptr
                movs r4, #3         ; 3 args
                blx r1              ; execute the actual lambda
                mov r7, r0          ; save result
                @dummystack 4
                add sp, #4*4        ; remove arguments and lambda
                mov r0, r6   ; or pop the thread context
                bl pxt::popThreadContext
                mov r0, r7 ; restore result
                pop {r4, r5, r6, r7} ; restore high registers
                mov r8, r4
                mov r9, r5
                mov r10, r6
                mov r11, r7
                pop {${e} r4, r5, r6, r7, pc}`),this.write(`
            .section code
            ; r0 - try frame
            ; r1 - handler PC
            _pxt_save_exception_state:
                push {r0, lr}
                ${this.t.callCPP("pxt::beginTry")}
                pop {r1, r4}
                str r1, [r0, #1*4] ; PC
                mov r1, sp
                str r1, [r0, #2*4] ; SP
                str r5, [r0, #3*4] ; lambda ptr
                bx r4
                `),this.write("\n            .section code\n            ; r0 - try frame\n            ; r1 - thread context\n            _pxt_restore_exception_state:\n                mov r6, r1\n                ldr r1, [r0, #2*4] ; SP\n                mov sp, r1\n                ldr r5, [r0, #3*4] ; lambda ptr\n                ldr r1, [r0, #1*4] ; PC\n                movs r0, #1\n                orrs r1, r0\n                bx r1\n                "),this.write("\n            .section code\n            _pxt_stringConv:\n            "),this.loadVTable(),this.checkSubtype(this.builtInClassNo(pxt.BuiltInType.BoxedString),".notstring"),this.write(`
                bx lr

            .notstring: ; no string, but vtable in r3
                ldr r7, [r3, #4*${v.firstMethodOffset()-1}]
                cmp r7, #0
                beq .fail
                push {r0, lr}
                movs r4, #1
                blx r7
                str r0, [sp, #0]
                b .numops

            .fail: ; not an object or no toString
                push {r0, lr}
            .numops:
                ${this.t.callCPP("numops::toString")}
                pop {r1}
                pop {pc}
            `)}emitProcCall(t){let n=[],e=null,r="",i=t.data;if(i.proc&&i.proc.inlineBody)return this.emitExpr(i.proc.inlineSelf(t.args));let a=-1==i.virtualIndex,s=!1;for(var o of v.U.reversed(t.args)){if(o.isPure()){if(!s||o.isStateless())continue}else s=!0;n.push(o)}if(n.reverse(),n.length<=1){var c=n[0];c&&(e=c,this.clearStack(!0),this.emitExpr(c),c==t.args[t.args.length-1]?r="r0":(r="r3",this.write(this.t.mov("r3","r0")))),n=[]}else for(var l of n)this.pushArg(l);this.alignExprStack(t.args.length);let u=["r1","r2","r3","r4"],d=[];if(n.length){let t=-1;for(var p of n)t=Math.max(this.exprStack.indexOf(p),t);if(++t<=u.length){u=u.slice(0,t),this.write(this.t.pop_fixed(u)),d=this.exprStack.splice(0,t);var f=[];for(let e=t-1;0<=e;--e)n.indexOf(d[e])<0&&(f.push(u[e]),this.exprStack.unshift(d[e]));f.length&&this.write(this.t.push_fixed(f))}else u=null,this.write(this.t.reg_gets_imm("r7",0))}var _,m,g,c=v.U.reversed(t.args);a&&c.unshift(c.pop());for(_ of c)0<=n.indexOf(_)?(u?this.write(this.t.push_fixed([u[d.indexOf(_)]])):(this.write(this.loadFromExprStack("r0",_)),this.write(this.t.push_local("r0")+" ; re-push"),this.write(this.loadFromExprStack("r7",_,1,!0)),m=this.exprStack.indexOf(_),(g=v.ir.numlit(0)).currUses=1,g.totalUses=1,this.exprStack[m]=g),this.exprStack.unshift(_)):_===e?(this.write(this.t.push_local(r)+" ; the one arg"),this.pushToExprStack(_)):this.pushArg(_);let h=this.mkLbl("_proccall"),y=-1;if(a){let e=t.args.length-1;this.write(this.loadFromExprStack("r0",t.args[0])),this.emitLabelledHelper("lambda_call"+e,()=>{this.lambdaCall(e),this.writeFailBranch()})}else null!=i.virtualIndex||null!=i.ifaceIndex?null!=i.ifaceIndex?i.isSet?(v.assert(2==t.args.length),this.emitIfaceCall(i,t.args.length,"set")):this.emitIfaceCall(i,t.args.length,i.noArgs?"get":""):this.emitClassCall(i):(c=i.proc,y=c.seqNo,this.write(this.t.call_lbl(c.label()+(i.isThis?"_nochk":"")))),this.write(h+":");this.calls.push({procIndex:y,stack:0,addr:0,callLabel:h}),a&&t.args[0].isStateless()?this.clearArgs([t.args[0]],t.args.slice(1)):this.clearArgs([],t.args)}lambdaCall(t){this.write("; lambda call"),this.loadVTable(),v.target.switches.skipClassCheck||this.checkSubtype(this.builtInClassNo(pxt.BuiltInType.RefAction)),this.write(`
                movs r4, #${t}
                ldrh r1, [r0, #4]
                cmp r1, #0
                bne .pushR5
                ldr r1, [r0, #8]
                bx r1 ; keep lr from the caller
            .pushR5:
                sub sp, #8
            `);for(let e=0;e<t;++e)this.write(`ldr r1, [sp, #4*${e+2}]`),this.write(`str r1, [sp, #4*${e}]`);this.write(`
                str r5, [sp, #4*${t}]
                mov r1, lr
                str r1, [sp, #4*${t+1}]
                mov r5, r0
                ldr r7, [r5, #8]
                blx r7 ; exec actual lambda
                ldr r4, [sp, #4*${t+1}] ; restore what was in LR
                ldr r5, [sp, #4*${t}] ; restore lambda ctx
            `);for(let e=0;e<t;++e)this.write(`ldr r1, [sp, #4*${e}]`),this.write(`str r1, [sp, #4*${e+2}]`);this.write("\n                add sp, #8\n                bx r4\n            "),this.write("; end lambda call")}emitStore(e,t){switch(e.exprKind){case v.ir.EK.CellRef:var n=e.data;if(this.emitExpr(t),n.isGlobal()){let e=this.bitSizeInfo(n.bitSize),t="#"+n.index;n.index>=e.immLimit&&(this.write(this.t.emit_int(n.index,"r1")),t="r1"),this.write(this.t.load_reg_src_off("r7","r6","#0")),this.write(this.t.load_reg_src_off("r0","r7",t,!1,!0,e))}else{var[n,r,i]=this.cellref(n);this.write(this.t.load_reg_src_off("r0",n,r,i,!0))}break;case v.ir.EK.FieldAccess:this.emitRtCall(v.ir.rtcall("dummy",[e.args[0],t]),()=>this.emitFieldAccess(e,!0));break;default:v.oops()}}cellref(e){if(e.isGlobal())throw v.oops();var t;return e.iscap?(t=e.index+3,v.assert(0<=t&&t<32),["r5",t.toString(),!0]):e.isarg?["sp","args@"+e.index.toString()+":"+this.baseStackSize,!1]:["sp","locals@"+e.index,!1]}emitLambdaWrapper(r){if(this.write(""),this.write(".section code"),this.write(".balign 4"),r&&(this.proc.info.usedAsValue=!0),this.proc.info.usedAsValue||this.proc.info.usedAsIface){this.proc.info.usedAsValue&&(this.write(this.proc.label()+"_Lit:"),this.write(this.t.obj_header("pxt::RefAction_vtable")),this.write(".short 0, 0 ; no captured vars"),this.write(`.word ${this.proc.label()}_args@fn`)),this.write(this.proc.label()+"_args:");let n=this.proc.args.length;if(0!=n){this.write("cmp r4, #"+n),this.write(`bge ${this.proc.label()}_nochk`);let e=this.stackAlignmentNeeded(n+1),t=e?n+2:n+1;this.write("push {lr}"),this.emitLabelledHelper("expand_args_"+n,()=>{this.write("movs r0, #0"),this.write("movs r1, #0"),e&&this.write("push {r0}");for(let e=n;0<e;e--)e!=n&&(this.write("cmp r4, #"+e),this.write("blt .zero"+e),this.write(`ldr r0, [sp, #${t-1}*4]`),this.write(`str r1, [sp, #${t-1}*4] ; clear existing`),this.write(`.zero${e}:`)),this.write("push {r0}");this.write("bx lr")}),this.write(`bl ${this.proc.label()}_nochk`);r=n+(e?1:0);this.write("@dummystack "+r),this.write("add sp, #4*"+r),this.write("pop {pc}")}}}emitCallRaw(e){var t=v.hexfile.lookupFunc(e);v.assert(!!t,"unimplemented raw function: "+e),this.alignedCall(e)}}}(ts=ts||{}),function(e){{var I=e.pxtc||(e.pxtc={});const O={"numops::adds":"+","numops::subs":"-","numops::div":"/","numops::mod":"%","numops::muls":"*","numops::ands":"&","numops::orrs":"|","numops::eors":"^","numops::bnot":"~","numops::lsls":"<<","numops::asrs":">>","numops::lsrs":">>>","numops::le":"<=","numops::lt":"<","numops::lt_bool":"<","numops::ge":">=","numops::gt":">","numops::eq":"==","pxt::eq_bool":"==","pxt::eqq_bool":"===","numops::eqq":"===","numops::neqq":"!==","numops::neq":"!="},f={"pxsim.Boolean_":"","pxsim.pxtcore":"","pxsim.String_":"","pxsim.ImageMethods":"","pxsim.Array_":"","pxsim.pxtrt":"","pxsim.numops":""},_={"pxsim.Array_.getAt":"","pxsim.Array_.length":"","pxsim.Array_.mk":"","pxsim.Array_.push":"","pxsim.Boolean_.bang":"","pxsim.String_.concat":"","pxsim.String_.stringConv":"","pxsim.numops.toBool":"","pxsim.numops.toBoolDecr":"","pxsim.pxtcore.mkAction":"","pxsim.pxtcore.mkClassInstance":"","pxsim.pxtrt.ldlocRef":"","pxsim.pxtrt.mapGetByString":"","pxsim.pxtrt.stclo":"","pxsim.pxtrt.stlocRef":""};function p(e){let t="";for(var n of Object.keys(e)){var r=n.replace(/\./g,"_");e[n]=r,t+=`const ${r} = ${n};
`}return t}function P(e){var t="pxsim."+(e="pxt."==(e=e.replace(/::/g,".")).slice(0,4)?"pxtcore."+e.slice(4):e);if(_.hasOwnProperty(t))return _[t];var n=t.lastIndexOf(".");if(0<n){const e=t.slice(0,n);if(f.hasOwnProperty(e))return f[e]+t.slice(n)}return t}I.isBuiltinSimOp=function(e){return!!I.U.lookup(O,e.replace(/\./g,"::"))},I.shimToJs=P;const m=["runtime","oops","doNothing","pxsim","globals","maybeYield","setupDebugger","isBreakFrame","breakpoint","trace","checkStack","leave","checkResumeConsumed","setupResume","setupLambda","checkSubtype","failedCast","buildResume","mkVTable","bind","leaveAccessor"];I.jsEmit=function(n){let r="(function (ectx) {\n'use strict';\n";for(var e of m)r+=`const ${e} = ectx.${e};
`;r=(r=(r+="const __this = runtime;\nconst pxtrt = pxsim.pxtrt;\n")+"let yieldSteps = 1;\nectx.setupYield(function() { yieldSteps = 100; })\n")+"pxsim.setTitle("+JSON.stringify(n.getTitle())+");\n";var t,i={},a={};for(t of n.res.configData||[])i[t.key+""]=t.value,a[t.name]=t.key;r=(r+="pxsim.setConfigData("+JSON.stringify(i,null,1)+", "+JSON.stringify(a,null,1)+");\n")+"pxtrt.mapKeyNames = "+JSON.stringify(n.ifaceMembers,null,1)+";\n";var s=n.setPerfCounters(["SysScreen"]);r=(r=(r+="__this.setupPerfCounters("+JSON.stringify(s,null,1)+");\n")+p(_))+p(f);let o=0,c=0;n.procs.forEach(e=>{let t;e.cachedJS?(t=e.cachedJS,o+=t.length):(t=function(h,y){if(y.cachedJS)return y.cachedJS;let t="",v=e=>{t+=e+"\n"},b=e=>{t+="    "+e+"\n"},x=I.ir.EK,k=[],n=0,r={},i="",S=(v(`
function ${y.label()}(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;
`),y.perfCounterNo&&v(`if (step == 0) __this.startPerfCounter(${y.perfCounterNo});
`),v("\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;\nswitch (step) {\n  case 0:\n"),y.locals.forEach(e=>{b(E(e)+" = undefined;")}),y.args.length&&(b("if (s.lambdaArgs) {"),y.args.forEach((e,t)=>{b(`  ${E(e)} = (s.lambdaArgs[${t}]);`)}),b("  s.lambdaArgs = null;"),b("}")),y.classInfo&&y.info.thisParameter&&(b("r0 = s.arg0;"),w(y.classInfo,"validate")),0),T=[];for(var e of y.body)e.stmtKind==I.ir.SK.Label&&0<e.lblNumUses&&(e.lblId=++S);let a=0;for(var s of y.body){switch(s.stmtKind){case I.ir.SK.Expr:N(s.expr);break;case I.ir.SK.StackEmpty:d();break;case I.ir.SK.Jmp:let t=!1;for(let e=a+1;e<y.body.length&&y.body[e].stmtKind==I.ir.SK.Label;++e)if(s.lbl==y.body[e]){t=!0;break}o=s,c=t,o.lbl.lblNumUses==I.ir.lblNumUsesJmpNext||c?(I.assert(o.jmpMode==I.ir.JmpMode.Always),o.expr&&N(o.expr)):(I.assert(0<o.lbl.lblNumUses),c=`{ step = ${o.lbl.lblId}; continue; }`,o.jmpMode==I.ir.JmpMode.Always?(o.expr&&N(o.expr),b(c)):(N(o.expr),o.jmpMode==I.ir.JmpMode.IfNotZero?b("if (r0) "+c):b("if (!r0) "+c)));break;case I.ir.SK.Label:0<s.lblNumUses&&v(`  case ${s.lblId}:`);break;case I.ir.SK.Comment:v("// "+s.expr.data);break;case I.ir.SK.Breakpoint:!function(e){let t,n=e.breakpointInfo.id;if(b(`s.lastBrkId = ${n};`),h.options.breakpoints){var r=`return breakpoint(s, ${t=++S}, ${n}, r0);`;e.breakpointInfo.isDebuggerStmt?b(r):(b(`if ((breakpoints[0] && isBreakFrame(s)) || breakpoints[${n}]) `+r),h.options.trace&&b(`else return trace(${n}, s, ${t}, ${y.label()}.info);`))}else{if(!h.options.trace)return;t=++S,b(`return trace(${n}, s, ${t}, ${y.label()}.info);`)}v(`  case ${t}:`)}(s);break;default:I.oops()}a++}d(),y.perfCounterNo&&v(`__this.stopPerfCounter(${y.perfCounterNo});
`),y.isGetter()?b("return leaveAccessor(s, r0)"):b("return leave(s, r0)"),v("  default: oops()"),v("} } }");var o,c,l=I.nodeLocationInfo(y.action);return l.functionName=y.getName(),l.argumentNames=y.args&&y.args.map(e=>e.getName()),v(y.label()+".info = "+JSON.stringify(l)),y.isGetter()&&v(y.label()+".isGetter = true;"),y.isRoot&&v(`${y.label()}.continuations = [ ${T.join(",")} ]`),v(C(y.label()+"_mk",y.label(),n,Object.keys(r))),v(i),y.cachedJS=t;function C(e,t,n,r){let i="";i+=`
function ${e}(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ${t}, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
`;for(let e=0;e<n;++e)i+=`  tmp_${e}: undefined,
`;for(var a of r)i+=`  ${a}: undefined,
`;return i+="} }\n"}function E(e){return e.isGlobal()?"globals."+e.uniqueName():e.iscap?`s.caps[${e.index}]`:(e=e.uniqueName(),r[e]=!0,"s."+e)}function D(e){return function(e){switch(e.exprKind){case x.NumberLiteral:case x.PointerLiteral:case x.SharedRef:case x.CellRef:return 1;default:return}}(e)?A(e):(N(e),"r0")}function A(e){switch(e.exprKind){case x.NumberLiteral:if(!0===e.data)return"true";if(!1===e.data)return"false";if(null===e.data)return"null";if(void 0===e.data)return"undefined";if("number"==typeof e.data)return e.data+"";throw I.oops("invalid data: "+typeof e.data);case x.PointerLiteral:if(e.ptrlabel())return e.ptrlabel().lblId+"";if(null!=e.hexlit())return i+=`const ${e.data} = pxsim.BufferMethods.createBufferFromHex("${e.hexlit()}")
`,e.data;if("string"==typeof e.jsInfo)return e.jsInfo;I.U.oops();case x.SharedRef:var t=e.args[0],t=(I.U.assert(!!t.currUses),I.U.assert(t.currUses<t.totalUses),t.currUses++,k.indexOf(t));return I.U.assert(0<=t),"s.tmp_"+t;case x.CellRef:return E(e.data);default:throw I.oops()}}function N(t){switch(t.exprKind){case x.JmpValue:b("// jmp value (already in r0)");break;case x.Nop:b("// nop");break;case x.FieldAccess:var e=t.data,n=e.shimName,r=D(t.args[0]);return n?void b(`r0 = ${r}${n};`):void b(`r0 = ${r}.fields["${e.name}"];`);case x.Store:var i=t.args[0],a=t.args[1];switch(i.exprKind){case x.CellRef:var s=i.data,o=D(a);b(`${E(s)} = ${function(e){switch(e){case 0:return"";case 1:return"pxtrt.toInt8";case 3:return"pxtrt.toInt16";case 5:return"pxtrt.toInt32";case 2:return"pxtrt.toUInt8";case 4:return"pxtrt.toUInt16";case 6:return"pxtrt.toUInt32";default:throw I.oops()}}(s.bitSize)}(${o});`);break;case x.FieldAccess:let e=i.data,t=e.shimName;t=t||`.fields["${e.name}"]`,N(I.ir.rtcall("="+t,[i.args[0],a]));break;default:I.oops()}return;case x.RuntimeCall:return n=t,(r=I.ir.flattenArgs(n.args)).precomp.forEach(N),e=n.data,r=r.flattened.map(A),void("langsupp::ignore"!=e&&(u="",u="."==e[0]?""+r[0]+e+`(${r.slice(1).join(", ")})`:"="==e[0]?`(${r[0]})${e.slice(1)} = (${r[1]})`:I.U.startsWith(e,"new ")?`new ${P(e.slice(4))}(${r.join(", ")})`:I.U.lookup(O,e)?2==r.length?`(${r[0]} ${I.U.lookup(O,e)} ${r[1]})`:`(${I.U.lookup(O,e)} ${r[0]})`:`${P(e)}(${r.join(", ")})`,0==n.callingConvention?b(`r0 = ${u};`):(d=++S,T.push(d),"String_::stringConv"==e&&b(`if ((${r[0]}) && (${r[0]}).vtable) {`),2==n.callingConvention?b(`(function(cb) { ${u}.then(cb) })(buildResume(s, ${d}));`):(b(`setupResume(s, ${d});`),b(u+";")),b("checkResumeConsumed();"),b("return;"),"String_::stringConv"==e&&b(`} else { s.retval = (${r[0]}) + ""; }`),v(`  case ${d}:`),b("r0 = s.retval;"))));case x.ProcCall:{var c=t;u=c.data,d=u.proc;if(d&&d.inlineBody)return N(d.inlineSelf(c.args));const p=I.ir.rtcall("<frame>",[]),f=(p.totalUses=1,p.currUses=0,k.length),_=(k.push(p),"s.tmp_"+f),m=++S,g=-1==u.virtualIndex;if(d)b(_+` = ${d.label()}_mk(s);`);else{let t="generic";null!=u.ifaceIndex?t="if_"+h.ifaceMembers[u.ifaceIndex]:g?t="lambda":null!=u.virtualIndex?t=u.classInfo.id+"_v"+u.virtualIndex:I.U.oops();const v=c.args.length;t+="_"+v+"_mk",h.recordHelper(y.usingCtx,t,()=>{var e=I.U.range(v).map(e=>"arg"+e);return C(t,"null",5,e)}),b(_+` = ${t}(s);`)}c.args.forEach((e,t)=>{let n="arg"+t;g&&(n=0==t?"argL":"arg"+(t-1)),b(_+`.${n} = ${D(e)};`)});let e=`s.pc = ${m}; return ${_};`;if(null!=u.callLocationIndex&&(e=`s.callLocIdx = ${u.callLocationIndex}; `+e),null!=u.ifaceIndex){I.U.assert(null==d);const y=h.ifaceMembers[u.ifaceIndex];I.U.assert(!!y,"no name for "+u.ifaceIndex),b(`if (!${_}.arg0.vtable.iface) {`);var l=c.args.map((e,t)=>_+".arg"+t);l.splice(1,0,JSON.stringify(y));const p=`pxsim_pxtrt.map${u.isSet?"Set":"Get"}ByString`;u.noArgs?b(`  s.retval = ${p}(${l.join(", ")});`):(I.U.assert(!u.isSet),b(`  setupLambda(${_}, ${p}(${l.slice(0,2).join(", ")}), ${c.args.length});`),b("  "+e)),b("} else {"),b(`  ${_}.fn = ${_}.arg0.vtable.iface["${u.isSet?"set/":""}${y}"];`);l=_+`.arg0.fields["${y}"]`;u.isSet?(b(`  if (${_}.fn === null) { ${l} = ${_}.arg1; }`),b(`  else if (${_}.fn === undefined) { failedCast(${_}.arg0) } `)):u.noArgs?(b(`  if (${_}.fn == null) { s.retval = ${l}; }`),b(`  else if (!${_}.fn.isGetter) { s.retval = bind(${_}); }`)):(b(`  if (${_}.fn == null) { setupLambda(${_}, ${l}, ${c.args.length}); ${e} }`),b(`  else if (${_}.fn.isGetter) { ${_}.stage2Call = true; ${e}; }`)),b(` else { ${e} }`),b("}"),e=""}else if(-1==u.virtualIndex)I.U.assert(null==d),b(`setupLambda(${_}, ${_}.argL);`);else if(null!=u.virtualIndex){I.U.assert(null==d),I.assert(0<=u.virtualIndex),w(u.classInfo,"validate",_+".arg0");const c=u.classInfo.vtable[u.virtualIndex];b(_+`.fn = ${_}.arg0.vtable.methods.${c.getName()};`)}else I.U.assert(null!=d);e&&b(e),v(`  case ${m}:`),b("r0 = s.retval;"),p.currUses=1;return}case x.SharedDef:l=t;if(l=l.args[0],I.U.assert(1<=l.totalUses),I.U.assert(0===l.currUses),(l.currUses=1)==l.totalUses)return N(l);{const I=k.length;k.push(l);let e=D(l);"r0"!=e&&(e="r0 = "+e),b(`s.tmp_${I} = ${e};`)}return;case x.Sequence:return t.args.forEach(N);case x.InstanceOf:return N(t.args[0]),void w(t.data,t.jsInfo);default:b(`r0 = ${A(t)};`)}var u,d}function u(e,t="r0"){return`checkSubtype(${t}, ${e.id+"_VT"})`}function w(e,t,n="r0"){"bool"==t?b(`r0 = ${u(e)};`):"validate"==t?b(`if (!${u(e,n)}) failedCast(${n});`):I.U.oops()}function d(){for(var e of k)e.totalUses!==e.currUses&&I.oops();n=Math.max(k.length,n),k=[]}}(n,e),c+=t.length),r+="\n"+t+"\n"}),r+=I.U.values(n.codeHelpers).join("\n")+"\n",n.usedClassInfos.forEach(e=>{r+=function(e){I.U.assert(void 0!==e.classNo),I.U.assert(void 0!==e.lastSubtypeNo);let t=parseInt(e.attrs.maxBgInstances),n=(t=t||null,`const ${e.id}_VT = mkVTable({
  name: ${JSON.stringify(I.getName(e.decl))},
  numFields: ${e.allfields.length},
  classNo: ${e.classNo},
  lastSubtypeNo: ${e.lastSubtypeNo},
  maxBgInstances: ${t},
  methods: {
`);for(var r of e.vtable)n+=`    "${r.getName()}": ${r.label()},
`;n+="  },\n  iface: {\n";for(var i of e.itable)n+=`    "${i.name}": ${i.proc?i.proc.label():"null"},
`,i.setProc?n+=`    "set/${i.name}": ${i.setProc.label()},
`:i.proc||(n+=`    "set/${i.name}": null,
`);return n+="  },\n",e.toStringMethod&&(n+="  toStringMethod: "+e.toStringMethod.label()+",\n"),n+="});\n"}(e)}),n.res.breakpoints&&(r+=`
const breakpoints = setupDebugger(${n.res.breakpoints.length}, [${n.globals.filter(e=>e.isUserVariable).map(e=>`"${e.uniqueName()}"`).join(",")}])
`);const l=(r+=`
return ${n.procs[0]?n.procs[0].label():"null"}
})
`).length,u=e=>(100*e/l).toFixed(2)+"%",d=`// total=${r.length} new=${u(c)} cached=${u(o)} other=${u(l-c-o)}
`;n.writeFile(I.BINARY_JS,d+r)}}}(ts=ts||{}),function(e){{var l=e.pxtc||(e.pxtc={});l.thumbCmpMap={"numops::lt":"_cmp_lt","numops::gt":"_cmp_gt","numops::le":"_cmp_le","numops::ge":"_cmp_ge","numops::eq":"_cmp_eq","numops::eqq":"_cmp_eqq","numops::neq":"_cmp_neq","numops::neqq":"_cmp_neqq"};const i={"numops::adds":"_numops_adds","numops::subs":"_numops_subs","numops::orrs":"_numops_orrs","numops::eors":"_numops_eors","numops::ands":"_numops_ands","numops::lsls":"_numops_lsls","numops::asrs":"_numops_asrs","numops::lsrs":"_numops_lsrs","pxt::toInt":"_numops_toInt","pxt::fromInt":"_numops_fromInt"};class t extends l.AssemblerSnippets{stackAligned(){return l.target.stackAlign&&1<l.target.stackAlign}pushLR(){return this.stackAligned()?"push {lr, r5}  ; r5 for align":"push {lr}"}popPC(){return this.stackAligned()?"pop {pc, r5}  ; r5 for align":"pop {pc}"}nop(){return"nop"}mov(e,t){return`mov ${e}, `+t}helper_ret(){return"bx r4"}reg_gets_imm(e,t){return`movs ${e}, #`+t}push_fixed(e){return"push {"+e.join(", ")+"}"}pop_fixed(e){return"pop {"+e.join(", ")+"}"}proc_setup(t,e){let n="";if(0<t){n+="    movs r0, #0\n";for(let e=0;e<t;++e)n+="    push {r0} ;loc\n"}return n}proc_return(){return"pop {pc}"}debugger_stmt(e){return l.oops(),`
    @stackempty locals
    ldr r0, [r6, #0] ; debugger
    subs r0, r0, #4  ; debugger
${e}:
    ldr r0, [r0, #0] ; debugger
`}debugger_bkpt(e){return l.oops(),`
    @stackempty locals
    ldr r0, [r6, #0] ; brk
${e}:
    ldr r0, [r0, #0] ; brk
`}debugger_proc(e){return l.oops(),`
    ldr r0, [r6, #0]  ; brk-entry
    ldr r0, [r0, #4]  ; brk-entry
${e}:`}push_local(e){return`push {${e}}`}push_locals(e){return`sub sp, #4*${e} ; push locals ${e} (align)`}pop_locals(e){return`add sp, #4*${e} ; pop locals `+e}unconditional_branch(e){return"bb "+e}beq(e){return"beq "+e}bne(e){return"bne "+e}cmp(e,t){return"cmp "+e+", "+t}cmp_zero(e){return"cmp "+e+", #0"}load_reg_src_off(e,t,n,r,i,a){n=n.replace(/:\d+$/,""),r&&(n="#4*"+n);let s="str",o="ldr";return a&&(32==a.immLimit?s="strb":64==a.immLimit&&(s="strh"),o=a.needsSignExt?s.replace("str","ldrs"):s.replace("str","ldr")),i?s+` ${e}, [${t}, ${n}]`:o+` ${e}, [${t}, ${n}]`}rt_call(e,t,n){return e+" "+t+", "+n}alignedCall(e,t){return t?this.push_locals(t)+`
bl ${e}
`+this.pop_locals(t):"bl "+e}call_lbl(e,t,n){var r=l.U.lookup(i,e);return r&&(e=r,t=!1),(t=!t&&0<e.indexOf("::")?!0:t)?this.callCPP(e,n):this.alignedCall(e,n)}call_reg(e){return"blx "+e}helper_prologue(){return`
    @stackmark args
    ${this.pushLR()}
`}helper_epilogue(){return`
    ${this.popPC()}
    @stackempty args
`}load_ptr_full(e,t){return l.assert(!!e),`
    ldlit ${t}, ${e}
`}load_vtable(e,t){return`ldr ${e}, [${t}, #0]`}lambda_init(){return"\n    mov r5, r0\n    mov r4, lr\n    bl pxtrt::getGlobalsPtr\n    mov r6, r0\n    bx r4\n"}saveThreadStack(){return"mov r7, sp\n    str r7, [r6, #4]\n"}restoreThreadStack(){return l.target.switches.gcDebug?"movs r7, #0\n    str r7, [r6, #4]\n":""}callCPPPush(e){return this.pushLR()+"\n"+this.callCPP(e)+"\n"+this.popPC()+"\n"}callCPP(e,t){return this.saveThreadStack()+this.alignedCall(e,t)+"\n"+this.restoreThreadStack()}inline_decr(e){return`
    lsls r1, r0, #30
    bne .tag${e}
    bl _pxt_decr
.tag${e}:
`}arithmetic(){let t="";const n=e=>{var t=".boxed:\n";return t+=`
                    ${this.pushLR()}
                    push {r0, r1}
                    ${this.saveThreadStack()}
                    ${e}
                    ${this.restoreThreadStack()}
                    add sp, #8
                    ${this.popPC()}
                `},e=e=>{t+=`
_numops_${e}:
    @scope _numops_${e}
    lsls r2, r0, #31
    beq .boxed
    lsls r2, r1, #31
    beq .boxed
`},r=e=>{t=(t+="    blx lr\n")+n("bl numops::"+e)};for(var i of["adds","subs"])e(i),t+=`
    subs r2, r1, #1
    ${i} r2, r0, r2
    bvs .boxed
    movs r0, r2
`,r(i);for(var a of["ands","orrs","eors"])e(a),t+=`    ${a} r0, r1
`,"eors"==a&&(t+="    adds r0, r0, #1\n"),r(a);for(var s of["lsls","lsrs","asrs"])e(s),t+="\n    ; r3 := (r1 >> 1) & 0x1f\n    lsls r3, r1, #26\n    lsrs r3, r3, #27\n","asrs"==s?t+="\n    asrs r0, r3\n    movs r2, #1\n    orrs r0, r2\n":(t+="lsrs"==s?"\n    asrs r2, r0, #1\n    lsrs r2, r3\n    lsrs r3, r2, #30\n    bne .boxed\n":"\n    asrs r2, r0, #1\n    lsls r2, r3\n    lsrs r3, r2, #30\n    beq .ok\n    cmp r3, #3\n    bne .boxed\n.ok:\n",t+="\n    lsls r0, r2, #1\n    adds r0, r0, #1\n"),r(s);t+=`
@scope _numops_toInt
_numops_toInt:
    asrs r0, r0, #1
    bcc .over
    blx lr
.over:
    lsls r0, r0, #1
    ${this.callCPPPush("pxt::toInt")}

_numops_fromInt:
    lsls r2, r0, #1
    asrs r1, r2, #1
    cmp r0, r1
    bne .over2
    adds r0, r2, #1
    blx lr
.over2:
    ${this.callCPPPush("pxt::fromInt")}
`;for(var o of Object.keys(l.thumbCmpMap))o=o.replace(/.*::/,""),t+=`
.section code
_cmp_${o}:
    lsls r2, r0, #31
    beq .boxed
    lsls r2, r1, #31
    beq .boxed
    subs r0, r1
    b${o.replace("qq","q").replace("neq","ne")} .true
.false:
    movs r0, #0
    bx lr
.true:
    movs r0, #1
    bx lr
`,t+=n(`
                        bl numops::${o}
                        bl numops::toBoolDecr
                        cmp r0, #0`);return t}emit_int(e,n){let r=!1;function t(e){l.assert(0<=e&&e<=255);let t="";return r?e&&(t=`adds ${n}, #${e}
`):t=`movs ${n}, #${e}
`,r=!0,t}function i(e=8){return`lsls ${n}, ${n}, #${e}
`}l.assert(null!=e);let a=Math.floor(e),s=!1,o=(a<0&&(s=!0,a=-a),0);if(255<a){let e=a;for(;0==(1&e);)e>>>=1,o++;l.numBytes(e)<l.numBytes(a)?a=e:o=0}let c="";switch(l.numBytes(a)){case 4:c=(c+=t(a>>>24&255))+i();case 3:c=(c+=t(a>>>16&255))+i();case 2:c=(c+=t(a>>>8&255))+i();case 1:c+=t(255&a);break;default:l.oops()}return o&&(c+=i(o)),s&&(c+=`negs ${n}, ${n}
`),4<c.split("\n").length?`ldlit ${n}, ${Math.floor(e)}
`:c}}l.ThumbSnippets=t}}(ts=ts||{}),function(y){{var T=y.pxtc||(y.pxtc={}),e;const A={"pxtrt::mapSetGeneric":"mapset","pxtrt::mapGetGeneric":"mapget"},N={};function v(e,t,n){for(var r,i=T.computeHashMultiplier(e.itable.map(e=>e.idx)),a=T.U.toArray(i.mapping);3&a.length;)a.push(0);let s=`
${C(e)}_start:
        .short ${8*e.allfields.length+8}  ; size in bytes
        .byte ${pxt.ValTypeObject}, ${pxt.VTABLE_MAGIC} ; magic
        .short ${a.length} ; entries in iface hashmap
        .short ${e.lastSubtypeNo||e.classNo} ; last sub class-id
        .short ${e.classNo} ; class-id
        .short 0 ; reserved
        .word ${i.mult} ; hash-mult
`;E()?s+="\n            .word pxt::RefRecord_destroy\n            .word pxt::RefRecord_print\n            .word pxt::RefRecord_scan\n            .word pxt::RefRecord_gcsize\n            .word 0,0,0,0 ; keep in sync with VM_NUM_CPP_METHODS\n":s+="\n            .word 0,0, 0,0, 0,0, 0,0 ; space for 4 (VM_NUM_CPP_METHODS) native methods\n",s+=`
        .balign 4
${e.id}_IfaceVT:
`;const o=a.length>>2;let c="",l=o,u={};for(r of e.itable){u[r.idx+""]=l;const e=r.proc?r.proc.isGetter()?1:2:0;c=(c+=`  .short ${r.idx}, ${e} ; ${r.name}
`)+`  .word ${r.proc?r.proc.vtLabel()+"@fn":r.info}
`,l+=1,r.setProc&&(c=(c+=`  .short ${r.idx}, 2 ; set ${r.name}
`)+`  .word ${r.setProc.vtLabel()}@fn
`,l+=1)}c+="  .word 0, 0, 0, 0 ; the end\n",l+=1;for(let e=0;e<a.length;++e)n.itEntries++,a[e]&&n.itFullEntries++;return s=(s+="  .short "+T.U.toArray(a).map((e,t)=>u[e+""]||o).join(", ")+"\n")+c+"\n"}let g;function b(e){e=e.getTime()/1e3;return`${e>>>0}, `+(e/4294967296|0)}(e=g=g||{})[e.Invalid=0]="Invalid",e[e.InfoHeader=1]="InfoHeader",e[e.OpCodeMap=2]="OpCodeMap",e[e.NumberLiterals=3]="NumberLiterals",e[e.ConfigData=4]="ConfigData",e[e.IfaceMemberNames=5]="IfaceMemberNames",e[e.NumberBoxes=6]="NumberBoxes",e[e.Function=32]="Function",e[e.Literal=33]="Literal",e[e.VTable=34]="VTable";let h={};function C(e){return e.classNo||(h[e.id]=e),e.id+"_VT"}function E(){return T.target.useESP}function D(e){return E()?"0xffffffff, "+e:"0xffffffff, 0xffffffff ; -> "+e}T.vmEmit=function(o,t){let s=`; VM start
_img_start:
${T.hexfile.hexPrelude()}
`;h={};const l={dblText:[],dblBoxText:[],dbls:{},opcodeMap:{},opcodes:T.vm.opcodes.map(e=>"pxt::op_"+e.replace(/ .*/,""))};for(l.opcodes.unshift(null);l.opcodes.length<128;)l.opcodes.push(null);let c=0;function i(e,t,n,r,i=0){if(s+=`
; --- ${e}
.section code
    .set ${e} = ${c}
`,r)for(var a of r)s+=`    .set ${a} = ${c}
`;s=(s+=`
_start_${e}:
    .byte ${t}, 0x00
    .short ${i}
    .word _end_${e}-_start_${e}
`)+n()+`
.balign 8
_end_${e}:
`,c++}const e=new Date;let n=T.U.toUTF8(t.name,!0),r=(n=100<n.length?n.slice(0,100):n).length+1;1&r&&r++;const a=128-r;i("_info",g.InfoHeader,()=>`
                ; magic - \\0 added by assembler
                .string "\\nPXT64\\n"
                .hex 5471fe2b5e213768 ; magic
                .hex ${T.hexfile.hexTemplateHash()} ; hex template hash
                .hex 0000000000000000 ; @SRCHASH@
                .word ${o.globalsWords}   ; num. globals
                .word ${o.nonPtrGlobals} ; non-ptr globals
                .word 0, 0 ; last usage time
                .word ${b(e)} ; installation time
                .word ${b(e)} ; publication time - TODO
                .word _img_end-_img_start ; total image size
                .space 60 ; reserved
                .string ${JSON.stringify(n)}
                .space ${a} ; pad to 128 bytes
`),o.procs.forEach(r=>{i(r.label(),g.Function,()=>{{var m=l,g=o,a=r,e;let t="";const s=e=>{t+=e+"\n"},k=e=>{t+="    "+e+"\n"},S=T.ir.EK;let d=[],p=[],f=!1,i=0,_=0;const c=8388607;pxt.options.debug&&console.log("EMIT",a.toString()),n(),t="";for(e of d)e.reset();return f=!0,T.U.assert(0==_),n(),t;function n(){s(`;
; Proc: ${a.getFullName()}
;`),k(".section code"),g.procs[0]==a&&s("; main"),k(".word "+D("pxt::RefAction_vtable")),k(`.short 0, ${a.args.length} ; #args`),k(`.short ${a.captured.length}, 0 ; #cap`),k(".word .fnstart-_img_start, 0  ; func+possible padding"),i=a.locals.length+p.length,k(".fnstart:"),k(`pushmany ${i} ; incl. ${p.length} tmps`);for(var e of a.body)switch(e.stmtKind){case T.ir.SK.Expr:v(e.expr);break;case T.ir.SK.StackEmpty:x();for(var t of p)t&&T.oops(`uses: ${t.currUses}/${t.totalUses} `+t.toString());break;case T.ir.SK.Jmp:n=e,r=void 0,r=n.lbl.lblName,n.jmpMode==T.ir.JmpMode.Always?(n.expr&&v(n.expr),k("jmp "+r)):(v(n.expr),n.jmpMode==T.ir.JmpMode.IfNotZero?k("jmpnz "+r):n.jmpMode==T.ir.JmpMode.IfZero?k("jmpz "+r):T.oops());break;case T.ir.SK.Label:s(e.lblName+":");break;case T.ir.SK.Comment:s("; "+e.expr.data);break;case T.ir.SK.Breakpoint:break;default:T.oops()}var n,r;k(`ret ${a.args.length}, `+i)}function h(e){var t;return e.isGlobal()?(T.U.assert(0==(3&e.index)),"glb "+(e.index>>2)+" ; "+e.getName()):e.iscap?"cap "+e.index+" ; "+e.getName():e.isarg?(t=a.args.length-e.index-1,T.assert(0<=t,"arg#"+t),`loc ${_+i+2+t} ; `+e.getName()):(t=e.index+p.length,T.assert(!f||t<i,"cell#"+t),T.assert(0<=t,"cell#"+t),"loc "+(_+t))}function y(a){switch(a.exprKind){case S.NumberLiteral:var s=T.taggedSpecial(a.data);if(null!=s)k(`ldspecial ${s} ; `+a.data);else{let e=a.data,t=0,n=0;s=e<<1>>1!=e;if((0|e)==e){if(Math.abs(e)<=c)return void k(e<0?"ldintneg "+-e:"ldint "+e);t=(e<<1|1)>>>0,n=e<0?1:0}else{var o=new Float64Array(1),o=(o[0]=e,new Uint32Array(o.buffer));o[1]+=65536,t=o[0],n=o[1]}let r=t+","+n,i=T.U.lookup(m.dbls,r);if(null==i){if(i=m.dblText.length,m.dblText.push(`.word ${t}, ${n}  ; ${i}: `+a.data),s){const T="pxt::number_vt";m.dblBoxText.push(`.word ${E()?T:"0xffffffff ; "+T}
`);o=new Float64Array(1),s=(o[0]=e,new Uint32Array(o.buffer));m.dblBoxText.push(`.word ${s[0]}, ${s[1]} ; ${e}
`)}m.dbls[r]=i}k(`ldnumber ${i} ; `+a.data)}return;case S.PointerLiteral:return void k("ldlit "+a.data);case S.SharedRef:o=a.args[0],s=((!o.currUses||o.currUses>=o.totalUses)&&(console.log(o.sharingInfo()),T.U.assert(!1)),o.currUses++,p.indexOf(o));return s<0&&(console.log(p,o),T.assert(!1)),k("ldloc "+(s+_)+(o.currUses==o.totalUses?" ; LAST":"")),void x();case S.CellRef:return void k("ld"+h(a.data));case S.InstanceOf:v(a.args[0]),s=a.data,"bool"==a.jsInfo?k("checkinst "+C(s)):T.U.oops();break;default:throw T.oops("kind: "+a.exprKind)}}function v(t){switch(t.exprKind){case S.JmpValue:k("; jmp value (already in r0)");break;case S.Nop:k("; nop");break;case S.FieldAccess:var r=t.data;v(t.args[0]),k(`ldfld ${r.idx}, `+C(r.classInfo));break;case S.Store:var e=t.args[0],n=t.args[1];switch(e.exprKind){case S.CellRef:v(n);var i=e.data,a="st"+h(i);if(i.isGlobal()&&0!=i.bitSize){const e=T.sizeOfBitSize(i.bitSize)|(T.isBitSizeSigned(i.bitSize)?16:0);k("bitconv "+e)}k(a);break;case S.FieldAccess:i=e.data;v(e.args[0]),b(),v(n),k(`stfld ${i.idx}, `+C(i.classInfo)),_--;break;default:T.oops()}return;case S.RuntimeCall:var r=t,s=r.data;if("pxt::beginTry"==s)k("try "+r.args[0].data);else{s=T.U.lookup(N,s)||s,x();let e=T.U.lookup(A,s),t=r.args,n=0;if("pxt::mkClassInstance"!=s){for(let e=0;e<t.length;++e)v(t[e]),e<t.length-1&&(b(),n++);"langsupp::ignore"==s?n&&k(`popmany ${n} ; ignore`):e?k(e):function(e){var t=T.hexfile.lookupFunc(e),n=(t||T.U.oops("missing function: "+e),m.opcodeMap[t.name]);null==n&&(n=m.opcodes.length,m.opcodes.push(t.name),m.opcodeMap[t.name]=n,t.value=n),k("callrt "+e)}(s),_-=n}else k("newobj "+t[0].data)}return;case S.ProcCall:{s=t;var o=s.data,c=o.proc;if(c&&c.inlineBody){const T=c.inlineSelf(s.args);return pxt.options.debug&&console.log("INLINE",s.toString(),"->",T.toString()),v(T)}let e=0;var s=s.args.slice(),l=-1==o.virtualIndex?s.shift():null;for(var u of s)v(u),b(),e++;s=s.length;l?(v(l),k("callind "+s)):null!=o.ifaceIndex?(l=o.ifaceIndex+" ; ."+g.ifaceMembers[o.ifaceIndex],o.isSet?(k("callset "+l),T.U.assert(2==s)):o.noArgs?(k("callget "+l),T.U.assert(1==s)):k(`calliface ${s}, `+l)):null!=o.virtualIndex?T.U.oops():k("callproc "+c.label());_-=e;return}case S.SharedDef:l=t;if(l=l.args[0],T.U.assert(1<=l.totalUses),T.U.assert(0===l.currUses),l.currUses=1,d.push(l),1==l.totalUses)return v(l);{v(l);let t=-1;for(let e=0;e<p.length;++e)if(null==p[e]){t=e;break}t<0?(f&&(console.log(l,p),T.assert(!1,"missed tmp")),t=p.length,p.push(l)):p[t]=l,k("stloc "+(t+_))}return;case S.Sequence:return t.args.forEach(v);default:return y(t)}}function b(){k("push"),_++}function x(){for(let e=0;e<p.length;++e){var t=p[e];t&&t.currUses==t.totalUses&&(f||d.push(t),p[e]=null)}}}},[r.label()+"_Lit"])}),s+="_code_end:\n\n_helpers_end:\n\n",o.usedClassInfos.forEach(e=>{i(C(e),g.VTable,()=>v(e,0,o))}),T.U.values(h).forEach(e=>{e.itable=[],e.classNo=65520,i(C(e),g.VTable,()=>v(e,0,o))}),h={};let u=0;i("ifaceMemberNames",g.IfaceMemberNames,()=>`    .word ${o.ifaceMembers.length} ; num. entries
`+o.ifaceMembers.map(e=>`    .word ${o.emitString(e)}  ; ${u++} .`+e).join("\n")),s+="_vtables_end:\n\n",T.U.iterMap(o.hexlits,(e,t)=>{i(t,g.Literal,()=>`.word ${D("pxt::buffer_vt")}
`+T.hexLiteralAsm(e),[],pxt.BuiltInType.BoxedBuffer)}),T.U.unique(o.ifaceMembers.concat(Object.keys(o.strings)),e=>e).forEach(e=>{var t=T.utf8AsmStringLiteral(e);let n=pxt.BuiltInType.BoxedString;"pxt::string_inline_ascii_vt"==t.vt?n=pxt.BuiltInType.BoxedString_ASCII:"pxt::string_skiplist16_packed_vt"==t.vt?n=pxt.BuiltInType.BoxedString_SkipList:"pxt::string_inline_utf8_vt"==t.vt?n=pxt.BuiltInType.BoxedString:T.oops("invalid vt");const r=`.word ${D(t.vt)}
`+t.asm;i(o.strings[e],g.Literal,()=>r,[],n)}),i("numberBoxes",g.NumberBoxes,()=>l.dblBoxText.join("\n")+"\n.word 0, 0, 0 ; dummy entry to make sure not empty"),i("numberLiterals",g.NumberLiterals,()=>l.dblText.join("\n")+"\n.word 0, 0 ; dummy entry to make sure not empty");const d=o.res.configData||[];i("configData",g.ConfigData,()=>d.map(e=>`    .word ${e.key}, ${e.value}  ; ${e.name}=`+e.value).join("\n")+"\n    .word 0, 0");let p=l.opcodes.map(e=>null==e?"":e).join("\0")+"\0",f="";for(;p;){let e=p.slice(0,64);p=p.slice(64),1&e.length&&(e+="\0"),f+=".hex "+T.U.toHex(T.U.stringToUint8Array(e))+"\n"}i("opcodeMap",g.OpCodeMap,()=>f),s=(s+="_literals_end:\n")+"_img_end:\n\n; The end.\n",o.writeFile(T.BINARY_ASM,s);t=T.assemble(t.target,o,s);if(t.src&&o.writeFile(T.BINARY_ASM,t.src),pxt.options.debug){let n=t.thumbFile.peepCounts,e=Object.keys(n);e.sort((e,t)=>n[t]-n[e]);for(var _ of e.slice(0,50))console.log(_+"  "+n[_])}if(t.buf){let e="";for(var m of t.buf)e+=String.fromCharCode(255&m,m>>8);if(e=y.pxtc.encodeBase64(e),E()){o.writeFile(T.BINARY_PXT64,e);const N=T.hexfile.patchHex(o,t.buf,!1,!!T.target.useUF2)[0];o.writeFile(pxt.outputName(T.target),y.pxtc.encodeBase64(N))}else o.writeFile(pxt.outputName(T.target),e)}}}}(ts=ts||{}),function(pe){var fe=pe.pxtc||(pe.pxtc={});{var e,_e=fe.decompiler||(fe.decompiler={});let le,ue;(e=le=_e.DecompileParamKeys||(_e.DecompileParamKeys={})).DecompileLiterals="decompileLiterals",e.TaggedTemplate="taggedTemplate",e.DecompileIndirectFixedInstances="decompileIndirectFixedInstances",e.DecompileArgumentAsString="decompileArgumentAsString",(e=ue=_e.CommentKind||(_e.CommentKind={}))[e.SingleLine=0]="SingleLine",e[e.MultiLine=1]="MultiLine",_e.FILE_TOO_LARGE_CODE=9266,_e.DECOMPILER_ERROR=9267;const Le=pe.SyntaxKind,l=/^[^\f\n\r\t\v\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*$/,N=/^(?:Array<(.+)>)|(?:(.+)\[\])$/,Re="math_number",Me="math_number_minmax",Ue="math_integer",Be="math_whole_number",je="logic_boolean",Ke={"+":{type:"math_arithmetic",op:"ADD"},"-":{type:"math_arithmetic",op:"MINUS"},"/":{type:"math_arithmetic",op:"DIVIDE"},"*":{type:"math_arithmetic",op:"MULTIPLY"},"**":{type:"math_arithmetic",op:"POWER"},"%":{type:"math_modulo",leftName:"DIVIDEND",rightName:"DIVISOR"},"<":{type:"logic_compare",op:"LT"},"<=":{type:"logic_compare",op:"LTE"},">":{type:"logic_compare",op:"GT"},">=":{type:"logic_compare",op:"GTE"},"==":{type:"logic_compare",op:"EQ"},"===":{type:"logic_compare",op:"EQ"},"!=":{type:"logic_compare",op:"NEQ"},"!==":{type:"logic_compare",op:"NEQ"},"&&":{type:"logic_operation",op:"AND"},"||":{type:"logic_operation",op:"OR"}},u=/^\s*\/\/\s*(.*)$/,d=/^\s*(?:(?:(?:\/\*\*?)|(?:\*))(?!\/))?\s*(.*?)(?:\*?\*\/)?$/;class t{constructor(e){this.renames=e,this.renames.sort((e,t)=>e.span.start-t.span.start)}getRenamesInSpan(e,t){var n=[];for(const r of this.renames){if(r.span.start>t)break;r.span.start>=e&&n.push(r)}return n}getRenameForPosition(e){for(const t of this.renames){if(t.span.start>e)return;if(t.span.start===e)return t}}}function o(t,n,r=!0){if(1===t.length&&"x"!==t&&"y"!==t&&"z"!==t){var e=t.charCodeAt(0);if(97<=e&&e<=122){const t=e-97;for(let e=1;e<26;e++){var i=String.fromCharCode(97+(t+e)%26);if("x"!==i&&"y"!==i&&"z"!==i&&!n[i])return r&&(n[i]=!0),i}}}for(let e=2;;e++){var a=t+e;if(!n[a])return r&&(n[a]=!0),a}}let de;function me(n,r,t=!1,i=!1){switch(n.kind){case Le.WhileStatement:case Le.IfStatement:case Le.Block:return;case Le.ExpressionStatement:return me(n.expression,r,t,i);case Le.VariableStatement:var a=n,e=r;for(const S of a.declarationList.declarations){const a=k(S,e);if(a)return a}return;case Le.CallExpression:{var[a,s,o=!1,c=!1]=[n,r,t,i];const T=fe.pxtInfo(a).callInfo;if(!T)return fe.Util.lf("Function call not supported in the blocks");const C=s.attrs(T);let e;if(pe.isIdentifier(a.expression)&&(e=s.declaredFunctions[a.expression.text]),!o&&T.isExpression&&!e){if(!s.aliasBlocks[T.qName])return fe.Util.lf("No output expressions as statements");T.decompilerBlockAlias=s.aliasBlocks[T.qName]}if(!("Math.pow"==T.qName||pxt.Util.startsWith(T.qName,"Math.")&&Ne(T.qName.substring(5)))){if(C.blockId===fe.PAUSE_UNTIL_TYPE){const pe=a.arguments[0];return 1===a.arguments.length&&function(e){if(e.kind===Le.FunctionExpression||e.kind===Le.ArrowFunction){if(function(e){switch(e.kind){case Le.BinaryExpression:var t=e.operatorToken.kind;return t!=Le.PlusEqualsToken&&t!=Le.MinusEqualsToken&&t!=Le.EqualsToken;case Le.PrefixUnaryExpression:t=e.operator;return t!=Le.PlusPlusToken&&t!=Le.MinusMinusToken;case Le.PostfixUnaryExpression:t=e.operator;return t!=Le.PlusPlusToken&&t!=Le.MinusMinusToken;case Le.CallExpression:t=fe.pxtInfo(e).callInfo;return fe.assert(!!t),t.isExpression;case Le.ParenthesizedExpression:case Le.NumericLiteral:case Le.StringLiteral:case Le.NoSubstitutionTemplateLiteral:case Le.TrueKeyword:case Le.FalseKeyword:case Le.NullKeyword:case Le.TaggedTemplateExpression:return 1;default:return}}(e.body))return 1;e=e.body;if(1===e.statements.length&&ke(e.statements[0]).kind===Le.ReturnStatement)return 1}return}(pe)?void 0:fe.Util.lf("Predicates must be inline expressions that return a value")}o=Ce(T,C);if(o&&!C.handlerStatement&&!c)return fe.Util.lf("Events must be top level");if(!C.blockId||!C.block){const pe=pxt.blocks.builtinFunctionInfo[T.qName];if(!pe)return e?e.parameters.length!==T.args.length?fe.Util.lf("Function calls in blocks must have the same number of arguments as the function definition"):void 0:fe.Util.lf("Call statements must have a valid declared function");C.blockId=pe.blockId}var c=De(T,s.blocks),l=s.blocks.apis.byQName[T.qName],u=pxt.blocks.compileInfo(l),d=u.parameters.length+(u.thisParameter?1:0);if(C.imageLiteral){if(1<T.args.length-d)return fe.Util.lf("Function call has more arguments than are supported by its block");a=a.arguments[0];if(a.kind!=Le.StringLiteral&&a.kind!=Le.NoSubstitutionTemplateLiteral)return fe.Util.lf("Only string literals supported for image literals");const le=(a.text||"").replace(/\s+/g,""),s=C.imageLiteralRows||5,o=(C.imageLiteralColumns||5)*C.imageLiteral,c=o*s;return o*s!=le.length?fe.Util.lf("Invalid image pattern ({0} expected vs {1} actual)",c,le.length):void 0}const E=T.args.length-d;if(0<E&&!function(){if(C.mutatePropertyEnum&&2===E&&2<=T.args.length){var e=T.args[T.args.length-2],t=T.args[T.args.length-1];if(e.kind===Le.ArrayLiteralExpression&&D(t)){const n=[];if(!e.elements.some(e=>e.kind!==Le.PropertyAccessExpression||e.expression.kind!==Le.Identifier||(n.push(e.name.text),e.expression.text!==C.mutatePropertyEnum))){e=ve(t);if(e){const r=e[0];return r.length===n.length&&!n.some(e=>-1===r.indexOf(e))}}}}return}()){let e=E;if(o&&e--,C.defaultInstance&&e--,0<e)return fe.Util.lf("Function call has more arguments than are supported by its block")}if(u.parameters.length||o){let n;const fe=C.defaultInstance||!!u.thisParameter;if(c.forEach((e,t)=>{n||fe&&0===t||(fe&&t--,n=p(e))}),n)return n}if(l){const pe=s.blocks.apis.byQName[l.namespace];if(pe&&pe.attributes.fixedInstances&&!pe.attributes.decompileIndirectFixedInstances&&T.args.length){const pe=fe.pxtInfo(T.args[0]).callInfo;if(!pe||!s.attrs(pe).fixedInstance)return fe.Util.lf("Fixed instance APIs can only be called directly from the fixed instance")}}function p(e){const t=ke(e.value),r=e.info,n=e.param;if(r.isEnum){if(i(t))return;if(t.kind===Le.CallExpression){const e=fe.pxtInfo(t).callInfo,le=s.attrs(e);if(e&&"TD_ID"===le.shim&&e.args&&1===e.args.length&&i(ke(e.args[0])))return}else if(t.kind===Le.Identifier){const e=fe.pxtInfo(t).commentAttrs;if(e&&e.enumIdentity)return}return fe.Util.lf("Enum arguments may only be literal property access expressions")}if(Ee(t)&&(n.fieldEditor||n.shadowBlockId)){let e=!(!n.fieldOptions||!n.fieldOptions[le.DecompileLiterals]);if(!e&&n.shadowBlockId){const fe=s.blocks.blocksById[n.shadowBlockId];if(fe&&fe.parameters&&fe.parameters.length){const t=fe.parameters[0].name;e=!fe.attributes.paramFieldEditorOptions||!fe.attributes.paramFieldEditorOptions[t]||!!fe.attributes.paramFieldEditorOptions[t][le.DecompileLiterals]}else e=!0}if(!e)return fe.Util.lf("Field editor does not support literal arguments")}else if(t.kind===Le.TaggedTemplateExpression&&n.fieldEditor){e=n.fieldOptions&&n.fieldOptions[le.TaggedTemplate];if(!e)return fe.Util.lf("Tagged templates only supported in custom fields with param.fieldOptions.taggedTemplate set");const s=ke(t.tag);if(s.kind!==Le.Identifier)return fe.Util.lf("Tagged template literals must use an identifier as the tag");if(s.getText().trim()!=e.trim())return fe.Util.lf("Function only supports template literals with tag '{0}'",e);if(t.template.kind!==Le.NoSubstitutionTemplateLiteral)return fe.Util.lf("Tagged template literals cannot have substitutions")}else if(t.kind===Le.ArrowFunction){const e=t;if(e.parameters.length)if("objectdestructuring"===C.mutate){const t=ke(e.parameters[0]);if(t.kind===Le.Parameter&&t.name.kind!==Le.ObjectBindingPattern)return fe.Util.lf("Object destructuring mutation callbacks can only have destructuring patters as arguments")}else for(const t of e.parameters)if(t.name.kind!==Le.Identifier)return fe.Util.lf("Only identifiers allowed as function arguments")}else if(s.blocks.apis.byQName[r.type]&&s.blocks.apis.byQName[r.type].attributes.fixedInstances){if(A(n))return;if(n.shadowBlockId){const e=s.blocks.blocksById[n.shadowBlockId];if(e){const fe=pxt.blocks.compileInfo(e);if(fe.parameters&&A(fe.parameters[0]))return}}const e=fe.pxtInfo(t).callInfo;return e&&s.attrs(e).fixedInstance?void 0:fe.Util.lf("Arguments of a fixed instance type must be a reference to a fixed instance declaration")}function i(e){for(var t=r.type.split("."),n=[];e.kind===Le.PropertyAccessExpression;)n.unshift(e.name.text),e=e.expression;if(e.kind===Le.Identifier){n.unshift(e.text);for(let e=0;e<t.length;e++)if(t[e]!==n[e])return;return 1}}}}return}case Le.VariableDeclaration:return k(n,r);case Le.PostfixUnaryExpression:case Le.PrefixUnaryExpression:return(d=n).operand.kind!=Le.Identifier?fe.Util.lf("-- and ++ may only be used on an identifier"):d.operator!==Le.PlusPlusToken&&d.operator!==Le.MinusMinusToken?fe.Util.lf("Only ++ and -- supported as prefix or postfix unary operators in a statement"):void 0;case Le.FunctionExpression:case Le.ArrowFunction:{o=n;u=r;let e=!1;if(o.parameters.length&&(c=xe(o)[0])&&fe.pxtInfo(c).callInfo&&(c=fe.pxtInfo(c).callInfo,e="objectdestructuring"===u.attrs(c).mutate?o.parameters[0].name.kind!==Le.ObjectBindingPattern:o.parameters.some(e=>e.name.kind!==Le.Identifier)),e)return fe.Util.lf("Unsupported parameters in error function");return}case Le.BinaryExpression:var f=n,_=r;if(f.left.kind===Le.ElementAccessExpression){if(f.operatorToken.kind!==Le.EqualsToken)return fe.Util.lf("Element access expressions may only be assigned to using the equals operator")}else{if(f.left.kind===Le.PropertyAccessExpression)return f.operatorToken.kind!==Le.EqualsToken&&f.operatorToken.kind!==Le.PlusEqualsToken?fe.Util.lf("Property access expressions may only be assigned to using the = and += operators"):be(f.left,_);if(f.left.kind!==Le.Identifier)return fe.Util.lf("This expression cannot be assigned to");switch(f.operatorToken.kind){case Le.EqualsToken:return be(f.right,_);case Le.PlusEqualsToken:case Le.MinusEqualsToken:return;default:return fe.Util.lf("Unsupported operator token in statement {0}",Le[f.operatorToken.kind])}}return;case Le.ForStatement:return(b=n).initializer&&b.incrementor&&b.condition?b.initializer.kind!==Le.VariableDeclarationList?fe.Util.lf("only variable declarations are permitted in for loop initializers"):(l=b.initializer).declarations?1!=l.declarations.length?fe.Util.lf("for loop with multiple variables not supported"):(l=l.declarations[0]).initializer.kind!==Le.NumericLiteral||"0"!==l.initializer.text?fe.Util.lf("for loop initializers must be initialized to 0"):function(e){if(b.incrementor.kind===Le.PostfixUnaryExpression||b.incrementor.kind===Le.PrefixUnaryExpression){var t=b.incrementor;if(t.operator===Le.PlusPlusToken&&t.operand.kind===Le.Identifier)return t.operand.text===e}return}(l=l.name.text)?b.condition.kind!==Le.BinaryExpression?fe.Util.lf("for loop conditionals must be binary comparison operations"):(x=b.condition).left.kind!==Le.Identifier||x.left.text!==l?fe.Util.lf("left side of for loop conditional must be the variable declared in the initializer"):x.operatorToken.kind!==Le.LessThanToken&&x.operatorToken.kind!==Le.LessThanEqualsToken?fe.Util.lf("for loop conditional operator must be either < or <="):void 0:fe.Util.lf("for loop incrementors may only increment the variable declared in the initializer"):fe.Util.lf("for loop with out-of-scope variables not supported"):fe.Util.lf("for loops must have an initializer, incrementor, and condition");case Le.ForOfStatement:return n.initializer.kind!==Le.VariableDeclarationList?fe.Util.lf("only variable declarations are permitted in for of loop initializers"):void 0;case Le.FunctionDeclaration:var m,g,h=n,y=i;if(!y)return fe.Util.lf("Function declarations must be top level");if(0<h.parameters.length&&r.opts.allowedArgumentTypes)for(const y of h.parameters){if(y.initializer||y.questionToken)return fe.Util.lf("Function parameters cannot be optional");const h=y.type?y.type.getText():void 0;if(!h)return fe.Util.lf("Function parameters must declare a type");if(-1===r.opts.allowedArgumentTypes.indexOf((m=h,g=void 0,(g=N.exec(m))?`${g[1]||g[2]}[]`:m)))return fe.Util.lf("Only types that can be added in blocks can be used for function arguments")}return;case Le.EnumDeclaration:{x=n;if(!i)return fe.Util.lf("Enum declarations must be top level");y=x.name.text;if(!r.blocks.enumsByName[y])return fe.Util.lf("Enum declarations in user code must have a block");let t=!1;return x.members.forEach(e=>{if(!(t=e.name.kind!==Le.Identifier?!0:t)&&e.initializer&&e.initializer.kind!==Le.NumericLiteral){if(e.initializer.kind===Le.BinaryExpression){e=e.initializer;if(e.operatorToken.kind===Le.LessThanLessThanToken&&e.left.kind===Le.NumericLiteral&&e.right.kind===Le.NumericLiteral&&"1"==e.left.text)return}t=!0}}),t?fe.Util.lf("Invalid initializer for enum member"):void 0;return}case Le.ModuleDeclaration:return(v=ge(h=n,r))&&he(h)?v:void 0;case Le.ReturnStatement:return function e(t){const n=pe.getEnclosingBlockScopeContainer(t);if(n)switch(n.kind){case Le.SourceFile:case Le.ArrowFunction:case Le.FunctionExpression:return!1;case Le.FunctionDeclaration:return n.parent&&n.parent.kind===Le.SourceFile&&!me(n,r,!1,!0);default:return e(n)}return!1}(n)?void 0:fe.Util.lf("Return statements can only be used within top-level function declarations");case Le.BreakStatement:case Le.ContinueStatement:case Le.DebuggerStatement:case Le.EmptyStatement:return}var v,b,x;return fe.Util.lf("Unsupported statement in block: {0}",Le[n.kind]);function k(e,t){let n;return e.name.kind!==Le.Identifier?n=fe.Util.lf("Variable declarations may not use binding patterns"):e.initializer?ye(e)||(n=be(e.initializer,t)):n=fe.Util.lf("Variable declarations must have an initializer"),n}}function ge(e,t){if(!pe.isModuleBlock(e.body))return fe.Util.lf("Namespaces cannot be nested.");var n=t.blocks.kindsByName[e.name.text];if(!n)return fe.Util.lf("Only namespaces with 'kind' blocks can be decompiled");var r=fe.Util.lf("Namespaces may only contain valid 'kind' exports");for(const fe of e.body.statements){if(function(e){e=pe.getLeadingCommentRangesOfNode(e,e.getSourceFile());return e&&e.length}(fe))return r;if(!pe.isVariableStatement(fe)||!fe.declarationList.declarations)return r;{const e=1===fe.declarationList.declarations.length,t=fe.modifiers&&1===fe.modifiers.length&&fe.modifiers[0].kind===Le.ExportKeyword,i=fe.declarationList.flags&pe.NodeFlags.Const;if(!(e&&t&&i))return r;{const e=fe.declarationList.declarations[0];if(!e.initializer||!pe.isCallExpression(e.initializer)||!pe.isIdentifier(e.name))return r;const t=e.initializer;if(t.arguments.length)return r;if(pe.isPropertyAccessExpression(t.expression)&&pe.isIdentifier(t.expression.expression)){if(t.expression.expression.text!==n.name||t.expression.name.text!==n.createFunctionName)return r}else{if(!pe.isIdentifier(t.expression))return r;if(t.expression.text!==n.createFunctionName)return r}}}}}function he(e){if(!pe.isModuleBlock(e.body))return fe.Util.lf("Namespaces cannot be nested.");if(e.name.text!==pxt.sprite.TILE_NAMESPACE)return fe.Util.lf("Tileset namespace must be named myTiles");const t=fe.Util.lf("The myTiles namespace can only export tile variables with image literal initializers and no duplicate ids"),n=fe.Util.lf("Tileset members must have a blockIdentity comment and no other annotations"),r=new RegExp(pxt.sprite.TILE_PREFIX+"(\\d+)"),i=[],a=/^\s*\/\/%\s*blockIdentity=[^\s]+\s*$/;for(const fe of e.body.statements){const e=pe.getLeadingCommentRangesOfNode(fe,fe.getSourceFile());if(!e||!e.length)return n;{const pe=e.map(e=>fe.getSourceFile().text.substr(e.pos,e.end-e.pos)).filter(e=>!!e);if(1!==pe.length||!a.test(pe[0]))return n}if(!pe.isVariableStatement(fe)||!fe.declarationList.declarations)return t;{const e=1===fe.declarationList.declarations.length,n=fe.modifiers&&1===fe.modifiers.length&&fe.modifiers[0].kind===Le.ExportKeyword,a=fe.declarationList.flags&pe.NodeFlags.Const;if(!(e&&n&&a))return t;{const e=fe.declarationList.declarations[0];if(!e.initializer||!pe.isTaggedTemplateExpression(e.initializer)||!pe.isIdentifier(e.name))return t;const n=e.initializer;if(!pe.isIdentifier(n.tag)||"img"!==n.tag.text)return t;const Le=r.exec(e.name.text);if(!Le||-1!==i.indexOf(Le[1]))return t;i.push(Le[1])}}}}function ye(e){if(e.initializer){if(e.initializer.kind===pe.SyntaxKind.NullKeyword||e.initializer.kind===pe.SyntaxKind.FalseKeyword||(t=e.initializer).kind===Le.ArrayLiteralExpression&&0===t.elements.length)return 1;if(pe.isStringOrNumericLiteral(e.initializer)){const pe=e.initializer.getText();return"0"===pe||Se(pe)}{const pe=fe.pxtInfo(e.initializer).callInfo;if(pe&&pe.isAutoCreate)return 1}}var t}function ve(e){if(1===e.parameters.length&&e.parameters[0].name.kind===Le.ObjectBindingPattern){const n=e.parameters[0].name.elements,r={};return[n.map(e=>{if(t(e.propertyName)&&t(e.name)){const t=e.name.text;return e.propertyName?(e=e.propertyName.text,r[e]=t,e):t}return""}),r]}function t(e){return!e||e.kind===Le.Identifier}}function be(e,t){switch(e.kind){case Le.NumericLiteral:case Le.TrueKeyword:case Le.FalseKeyword:case Le.ExpressionStatement:case Le.ArrayLiteralExpression:case Le.ElementAccessExpression:return;case Le.ParenthesizedExpression:return be(e.expression,t);case Le.StringLiteral:case Le.FirstTemplateToken:case Le.NoSubstitutionTemplateLiteral:return a=e.text,l.test(a)?void 0:fe.Util.lf("Only whitespace character allowed in string literals is space");case Le.Identifier:a=fe.pxtInfo(e);return(s=e)&&s.kind===Le.Identifier&&"undefined"===s.text?fe.Util.lf("Undefined is not supported in blocks"):!Te(e)||a.commentAttrs&&a.commentAttrs.blockIdentity&&a.commentAttrs.enumIdentity?void 0:fe.Util.lf("Variable is declared in another file");case Le.BinaryExpression:s=e.operatorToken.getText();return Ke[s]?void 0:fe.Util.lf("Could not find operator {0}",s);case Le.PrefixUnaryExpression:s=e.operator;return s===Le.MinusToken||s===Le.PlusToken||s===Le.ExclamationToken?void 0:fe.Util.lf("Unsupported prefix unary operator{0}",s);case Le.PropertyAccessExpression:{var r=e;s=t;const o=fe.pxtInfo(r).callInfo;if(o){var n=s.attrs(o),i=s.compInfo(o);if(n.blockIdentity||"lists_length"===n.blockId||"text_length"===n.blockId)return;if(o.decl.kind===Le.EnumMember){if(r.expression.kind===Le.Identifier){const pe=r.expression.text;if(s.declaredEnums[pe])return}const[pe,o]=xe(r);let n=!0;if(pe){const r=fe.pxtInfo(pe).callInfo;if(r&&r.args){const pe=s.blocks.apis.byQName[r.qName],fe=1==pe.kind||2==pe.kind;pe&&r.args.forEach((e,t)=>{e===o&&pe.parameters[fe?t-1:t].isEnum&&(n=!1)})}}return n?fe.Util.lf("Enum value without a corresponding block"):void 0}if(n.fixedInstance&&r.parent){if(r.parent.parent&&r.parent.kind===Le.PropertyAccessExpression&&r.parent.parent.kind===Le.CallExpression){if(r.parent.parent.expression===r.parent)return}else if(r.parent.kind===Le.CallExpression&&r.parent.expression!==r)return}else{if(n.blockCombine||n.blockId&&i&&i.thisParameter)return be(r.expression,s);if(pe.isIdentifier(r.expression)&&s.declaredKinds[r.expression.text]){const pe=r.name.text,fe=s.declaredKinds[r.expression.text];if(fe&&(-1!==fe.kindInfo.initialMembers.indexOf(pe)||-1!==fe.declaredNames.indexOf(pe)))return}}}return fe.Util.lf("No call info found");return}case Le.CallExpression:return me(e,t,!0,void 0);case Le.TaggedTemplateExpression:return n=t,(i=fe.pxtInfo(e).callInfo)?(i=n.attrs(i)).blockIdentity?(n=n.blocks.apis.byQName[i.blockIdentity])?1!==pxt.blocks.compileInfo(n).parameters.length?fe.Util.lf("Tagged template functions must have 1 argument"):void 0:fe.Util.lf("Could not find blockIdentity for tagged template"):fe.Util.lf("Tagged template does not have blockIdentity set"):fe.Util.lf("Invalid tagged template")}var a,s;return fe.Util.lf("Unsupported syntax kind for output expression block: {0}",Le[e.kind])}function xe(e){return e.parent?e.parent.kind===Le.ParenthesizedExpression?xe(e.parent):[e.parent,e]:[void 0,e]}function ke(e){for(;e.kind===Le.ParenthesizedExpression;)e=e.expression;return e}function Se(e){return'""'===e||"''"===e||"``"===e}function Te(e){return 4&fe.pxtInfo(e).flags}function Ce(e,t){return t.blockId!==fe.PAUSE_UNTIL_TYPE&&(e.decl.parameters,e.args.some((e,t)=>e&&D(e)))}function Ee(e){if(!e)return!1;switch(e.kind){case Le.ParenthesizedExpression:return Ee(e.expression);case Le.ArrayLiteralExpression:var t=e;for(const e of t.elements)if(!Ee(e)&&e.kind!==Le.TaggedTemplateExpression)return!1;return!0;case Le.NumericLiteral:case Le.StringLiteral:case Le.NoSubstitutionTemplateLiteral:case Le.TrueKeyword:case Le.FalseKeyword:return!0;case Le.PrefixUnaryExpression:t=e;return(t.operator===Le.PlusToken||t.operator===Le.MinusToken)&&Ee(t.operand);default:return!1}}function D(e){return e.kind===Le.ArrowFunction||e.kind===Le.FunctionExpression}function De(n,e){var r=[],i=e.apis.byQName[n.qName];if(i){var e=e.apis.byQName[n.qName].attributes,a=pxt.blocks.compileInfo(i);pxt.blocks.builtinFunctionInfo[n.qName];let t=e.imageLiteral?1:0;a.thisParameter?r.push({value:ke(n.args[0]),info:null,param:a.thisParameter}):e.defaultInstance&&r.push({value:ke(n.args[0]),info:i.parameters[0],param:{definitionName:"__instance__",actualName:"this"}});var s=!(!a.thisParameter&&!e.defaultInstance);s&&t++;for(let e=t;e<n.args.length;e++)r.push({value:ke(n.args[e]),info:i.parameters[s?e-1:e],param:a.parameters[e-t]})}return r}function Ae(e){return e.body.statements.map(e=>{e=e.declarationList.declarations[0];return{name:e.name.text,initializer:e.initializer.getText()}})}function A(e){return e&&e.fieldOptions&&e.fieldOptions[le.DecompileIndirectFixedInstances]}function Ne(e){return we(e)||Ie(e)||Pe(e)||-1!==pxt.blocks.MATH_FUNCTIONS.binary.indexOf(e)}function we(e){return-1!==pxt.blocks.MATH_FUNCTIONS.unary.indexOf(e)}function Ie(e){return-1!==pxt.blocks.MATH_FUNCTIONS.infix.indexOf(e)}function Pe(e){return-1!==pxt.blocks.ROUNDING_FUNCTIONS.indexOf(e)}function c(t,n,r=!1){var i=[],a=t.getFullText();if(n&&n.length)for(const s of n){const n=pe.getLineOfLocalPosition(t,s.end),o=pe.getStartPositionOfLine(n+1,t)||a.length,c=pe.getStartPositionOfLine(n+2,t)||a.length,l=!r&&!a.substr(o,c-o).trim();let e=a.substr(s.pos,s.end-s.pos);if(e=e&&e.replace(/\r\n/g,"\n"),s.kind===pe.SyntaxKind.SingleLineCommentTrivia){const pe=u.exec(e);pe?i.push({kind:ue.SingleLine,text:pe[1],start:s.pos,end:s.end,hasTrailingNewline:!!s.hasTrailingNewLine,followedByEmptyLine:l,isTrailingComment:r}):i.push({kind:ue.SingleLine,text:"",start:s.pos,end:s.end,hasTrailingNewline:!!s.hasTrailingNewLine,followedByEmptyLine:l,isTrailingComment:r})}else{const pe=e.split("\n").map(e=>{e=d.exec(e);return e?e[1]:""});i.push({kind:ue.MultiLine,lines:pe,start:s.pos,end:s.end,hasTrailingNewline:!!s.hasTrailingNewLine,followedByEmptyLine:l,isTrailingComment:r})}}return i}function Oe(e){let t="";for(const n of e)if(n.kind===ue.SingleLine){if(n.text===fe.ON_START_COMMENT||n.text===fe.HANDLER_COMMENT)continue;t+=n.text.trim()+"\n"}else for(const e of n.lines)t+=e.trim()+"\n";return t.trim()}function ze(e){var t=e.getFullText(),n=pe.createScanner(e.languageVersion,!1,e.languageVariant,t,void 0,e.getFullStart());let r,i,a=[];for(;n.getTextPos()<e.end;){var s=n.scan();if(s===Le.SingleLineCommentTrivia||s===Le.MultiLineCommentTrivia){r=pe.getLeadingCommentRanges(t,n.getTokenPos())||[],i=(i=pe.getTrailingCommentRanges(t,n.getTokenPos())||[]).filter(t=>!r.some(e=>e.pos===t.pos)),a.push(...c(e,r,!1)),a.push(...c(e,i,!0));for(const pe of a)pe.end>n.getTextPos()&&n.setTextPos(pe.end)}}return a.sort((e,t)=>e.start-t.start),a}function Fe(t,n){var r;for(let e=0;e<n.length;e++)!(r=n[e]).owner&&r.start>=t.pos&&r.end<=t.end&&(r.owner=t)}_e.RenameMap=t,_e.buildRenameMap=function(e,n,{declarations:r,takenNames:i}={declarations:"variables",takenNames:{}}){let a=pe.createLanguageService(new fe.LSHost(e));const s=[];(function t(e){pe.forEachChild(e,e=>{if(pe.isDeclarationName(e)&&("all"===r||pe.isVariableDeclaration(e.parent))){const pe=e.getText();if(i[pe]){const t=o(pe,i),r=a.findRenameLocations(n.fileName,e.pos+1,!1,!1);r&&r.forEach(e=>{s.push({name:t,diff:t.length-pe.length,span:e.textSpan})})}else i[pe]=!0}t(e)})})(n);e=i;return[new t(s),e]},_e.getNewName=o,(e=de=de||{})[e.None=0]="None",e[e.InBlocksOnly=1]="InBlocksOnly",e[e.InTextBlocks=2]="InTextBlocks",_e.decompileToBlocks=function(x,g,s,n){let p=0,e=g.statements;const r={blocksInfo:x,outfiles:{},diagnostics:[],success:!0,times:{}},k=(s.generateSourceMap&&(r.blockSourceMap=[]),{blocks:x,declaredFunctions:{},declaredEnums:{},declaredKinds:{},functionParamIds:{},attrs:T,compInfo:function(e){e=x.apis.byQName[e.qName];if(e)return pxt.blocks.compileInfo(e)},localReporters:[],tileset:[],opts:s||{},aliasBlocks:{}});g.getFullText();let _="";const i=[],o={},h=[],B=[],j=(()=>{let e=0;return()=>""+e++})(),t=x.apis.byQName,y=(Object.keys(t).forEach(e=>{e=t[e];e.attributes.blockAliasFor&&t[e.attributes.blockAliasFor]&&(k.aliasBlocks[e.attributes.blockAliasFor]=e.qName)}),ze(g)),m=e=>{if(e.kind!==Le.FunctionDeclaration||me(e,k,!1,!0))if(e.kind!==Le.EnumDeclaration||me(e,k,!1,!0))if(pe.isModuleDeclaration(e))if(ge(e,k))he(e)||(k.tileset=Ae(e).map(({name:e,initializer:t})=>({projectId:parseInt(e.substr(pxt.sprite.TILE_PREFIX.length)),data:pxt.sprite.imageLiteralToBitmap(t).data()})));else{const pe=e.name.text,fe=Ae(e);k.declaredKinds[pe]&&k.declaredKinds[pe].declaredNames.push(...fe.map(({name:e})=>e))}else e.kind===Le.Block&&pe.forEachChild(e,m);else{const pe=e.name.text;k.declaredEnums[pe]=!0,function(){const r=[];return e.members.forEach(e=>{fe.U.assert(e.name.kind===Le.Identifier);var t=e.name.text;let n;if(e.initializer)if(e.initializer.kind===Le.NumericLiteral)n=parseInt(e.initializer.text);else{const r=e.initializer;fe.U.assert(r.left.kind===Le.NumericLiteral),fe.U.assert("1"===r.left.text),fe.U.assert(r.operatorToken.kind===Le.LessThanLessThanToken),fe.U.assert(r.right.kind===Le.NumericLiteral),n=1<<parseInt(r.right.text)}else n=0===r.length?0:r[r.length-1][1]+1;r.push([t,n])}),r}().forEach(([e,t])=>{i.push({name:t+e,type:pe})})}else k.declaredFunctions[U(e.name)]=e},K=(Object.keys(x.kindsByName).forEach(e=>{var t=x.kindsByName[e];k.declaredKinds[e]={kindInfo:t,declaredNames:[]}}),pe.forEachChild(g,m),()=>(Math.PI*Math.random()).toString(36).slice(2));let a;Object.keys(k.declaredFunctions).forEach(t=>{k.functionParamIds[t]={},k.declaredFunctions[t].parameters.forEach(e=>{k.functionParamIds[t][e.name.getText()]=K()+K()})}),Object.keys(k.declaredKinds).forEach(e=>{const t="KIND_"+e;k.declaredKinds[e].declaredNames.forEach(e=>i.push({name:e,type:t}))}),(i.length||k.tileset.length)&&(c("<variables>"),i.forEach(e=>{c(`<variable type="${fe.U.htmlEscape(e.type)}">${fe.U.htmlEscape(e.name)}</variable>`)}),k.tileset.forEach(e=>{c(`<variable type="${pxt.sprite.BLOCKLY_TILESET_TYPE}">${pxt.sprite.legacy.tileToBlocklyVariable(e)}</variable>`)}),c("</variables>"));try{a=se(e,void 0,!0,void 0,!s.snippetMode);for(const pe of y)pe.owner||h.push({refId:j(),comment:[pe]})}catch(e){if(!e.programTooLarge)return pxt.reportException(e),r.success=!1,r.diagnostics=fe.patchUpDiagnostics([{file:g,start:g.getFullStart(),length:g.getFullWidth(),messageText:e.message,category:pe.DiagnosticCategory.Error,code:_e.DECOMPILER_ERROR}]),r;r.success=!1,r.diagnostics=fe.patchUpDiagnostics([{file:g,start:g.getFullStart(),length:g.getFullWidth(),messageText:e.message,category:pe.DiagnosticCategory.Error,code:_e.FILE_TOO_LARGE_CODE}])}return a?l(a):s.snippetMode||e.length||(u(pe.pxtc.ON_START_TYPE,C(pe.pxtc.ON_START_TYPE,e[0])),d()),h.forEach(e=>{{let t=0;var n,r,i=Oe(e.comment);i.trim()&&((n=i.split("\n")).forEach(e=>t=Math.max(t,e.length)),r=Math.max(Math.min(10*t,480),160),c(`<comment h="${Math.max(Math.min(40*n.length,360),120)}" w="${r}" data="${fe.U.htmlEscape(e.refId)}">`),c(fe.U.htmlEscape(i)),c("</comment>"))}}),r.outfiles[g.fileName.replace(/(\.blocks)?\.\w*$/i,"")+".blocks"]=`<xml xmlns="http://www.w3.org/1999/xhtml">
${_}</xml>`,r;function c(e,t="\n"){_+=e+t}function S(e,t){t=t||`Language feature "${e.getFullText().trim()}"" not supported in blocks`,e=fe.patchUpDiagnostics([{file:g,start:e.getFullStart(),length:e.getFullWidth(),messageText:t,category:pe.DiagnosticCategory.Error,code:1001}]);pxt.debug("decompilation error: "+t),fe.U.pushRange(r.diagnostics,e),r.success=!1}function T(e){const t=x.apis.byQName[e.decompilerBlockAlias||e.qName];if(t){const e=t.attributes;if(!e.blockId||x.blocksById[e.blockId]||e.blockId===fe.PAUSE_UNTIL_TYPE)return t.attributes}else if(e.decl){const t=fe.parseComments(e.decl);if(t)return t}return{paramDefl:{},callingConvention:0}}function z(){var e;if(1500<++p)throw(e=new Error(fe.Util.lf("Could not decompile because the script is too large"))).programTooLarge=!0,e}function C(e,t){var n={kind:"statement",type:e};return r.blockSourceMap&&(n.id=function(e,t){if(e==pe.pxtc.ON_START_TYPE)return"xRRgvHNlG#rZ^u`HECiY";if(e=function(){var t="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length,r=[];for(let e=0;e<20;e++)r[e]=t.charAt(Math.random()*n);return r.join("")}(),t){const pe=t.getFullStart();r.blockSourceMap.push({id:e,startPos:pe,endPos:pe+t.getFullWidth()})}return e}(e,t)),n}function E(e){return{kind:"expr",type:e}}function D(e,t,n,r){return{kind:"value",name:e,value:t,shadowType:n=(!n||n===Re)&&r&&r.min&&r.max?Me:n,shadowMutation:r}}function l(e){e&&(u(e.type,e),J(e),void 0!==e.data&&c(`<data>${fe.U.htmlEscape(e.data)}</data>`),e.handlers&&e.handlers.forEach(H),e.next&&(c("<next>"),l(e.next),c("</next>")),void 0!==e.comment&&c(`<comment pinned="false">${fe.U.htmlEscape(Oe(e.comment))}</comment>`),d())}function $(t,e){c("<mutation ",""),Object.keys(t).forEach(e=>{void 0!==t[e]&&c(`${e}="${t[e]}" `,"")}),e?(c(">"),e.forEach(t=>{c(`<${t.nodeName} `,""),Object.keys(t.attributes).forEach(e=>{c(`${e}="${t.attributes[e]}" `,"")}),c("/>")}),c("</mutation>")):c("/>")}function J(e){e.mutation&&$(e.mutation,e.mutationChildren),e.fields&&e.fields.forEach(V),e.inputs&&e.inputs.forEach(q)}function q(e){c(`<value name="${e.name}">`);let t=!1;if("expr"===e.value.kind){var n=e.value;if(n.type===Re&&e.shadowType===Me&&(n.type=Me,n.fields[0].name="SLIDER",n.mutation=e.shadowMutation),!(t=n.type===e.shadowType))switch(n.type){case"math_number":case"math_number_minmax":case"math_integer":case"math_whole_number":case"logic_boolean":case"text":t=!e.shadowType}}if(t)G(e.value,!0);else{if(void 0!==e.shadowType)switch(e.shadowType){case Re:case Ue:case Be:c(`<shadow type="${e.shadowType}"><field name="NUM">0</field></shadow>`);break;case Me:c('<shadow type="math_number_minmax">'),e.shadowMutation&&$(e.shadowMutation),c('<field name="SLIDER">0</field></shadow>');break;case je:c('<shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow>');break;case"text":c('<shadow type="text"><field name="TEXT"></field></shadow>');break;default:c(`<shadow type="${e.shadowType}"/>`)}G(e.value)}c("</value>")}function V(e){c(`<field name="${fe.U.htmlEscape(e.name)}">${fe.U.htmlEscape(e.value.toString())}</field>`)}function H(e){c(`<statement name="${fe.U.htmlEscape(e.name)}">`),l(e.statement),c("</statement>")}function G(e,t=!1){var n;"text"===e.kind?c(e.value):(e=e,n=(t=t||e.isShadow)?"shadow":"block",t||z(),c(`<${n} ${e.id?`id="${e.id}" `:""}type="${fe.U.htmlEscape(e.type)}">`),J(e),c(`</${n}>`))}function u(e,t){z(),c(`<block ${t&&t.id?`id="${t.id}" `:""}type="${fe.U.htmlEscape(e)}">`)}function d(){c("</block>")}function A(r){if(be(r,k))return Q(r);switch(r.kind){case Le.ExpressionStatement:case Le.ParenthesizedExpression:return A(r.expression);case Le.Identifier:{var i=r;if(Te(i)){const d=fe.pxtInfo(i);return te(x.apis.byQName[d.commentAttrs.blockIdentity],d.commentAttrs.enumIdentity)}const d=U(i),p=i.text;let n=null;return k.localReporters.some(t=>{for(let e=0;e<t.length;++e)if(t[e].name===p)return n=t[e],!0;return!1}),n?Z(d,n.type,!1):(M(d,de.InBlocksOnly),I("variables_get","VAR",d));return}case Le.StringLiteral:case Le.FirstTemplateToken:case Le.NoSubstitutionTemplateLiteral:return X(r.text);case Le.NumericLiteral:return w(r.text);case Le.TrueKeyword:return f(!0);case Le.FalseKeyword:return f(!1);case Le.BinaryExpression:{i=r;var n=i.operatorToken.getText(),a=Ke[n];if(v(i))return Y(i);var s=a.leftName||"A",o=a.rightName||"B";let e,t;t="&&"===n||"||"===n?(e=b(s,i.left),b(o,i.right)):(e=N(s,i.left,Re),N(o,i.right,Re));n=E(a.type);return n.fields=[],a.op&&n.fields.push(O("OP",a.op)),n.inputs=[e,t],n;return}case Le.PrefixUnaryExpression:var e=r;switch(e.operator){case Le.ExclamationToken:var t=E("logic_negate");return t.inputs=[b("BOOL",e.operand)],t;case Le.PlusToken:return A(e.operand);case Le.MinusToken:return e.operand.kind==Le.NumericLiteral?w("-"+e.operand.text):ee(e.operand);default:S(e)}return;case Le.PropertyAccessExpression:return F(r);case Le.ArrayLiteralExpression:return s=r,(o=E("lists_create_with")).inputs=s.elements.map((e,t)=>N("ADD"+t,e)),o.mutation={items:s.elements.length.toString()},o;case Le.ElementAccessExpression:return a=r,(n=E("lists_index_get")).inputs=[N("LIST",a.expression),N("INDEX",a.argumentExpression,Re)],n;case Le.TaggedTemplateExpression:{var c=r;var l=fe.pxtInfo(c).callInfo;let e;var u=function(e){if(e.parent&&e.parent.kind===Le.CallExpression){var t=e.parent,n=fe.pxtInfo(t).callInfo,t=t.arguments.indexOf(e);if(n&&-1!==t){const e=x.apis.byQName[n.qName];if(e){const fe=pxt.blocks.compileInfo(e);return fe&&fe.parameters[t]}}}}(c);if(u&&u.shadowBlockId){const c=k.blocks.blocksById[u.shadowBlockId];c&&"TD_ID"===c.attributes.shim&&(e=c)}e=e||k.blocks.apis.byQName[T(l).blockIdentity];u=pxt.blocks.compileInfo(e),l=E(e.attributes.blockId),u=u.parameters[0],c=u.fieldOptions&&u.fieldOptions[le.DecompileArgumentAsString]?c.getText():c.template.text;return l.fields=[O(u.actualName,c)],l;return}case Le.CallExpression:return L(r,void 0,void 0,!0);default:S(r,fe.Util.lf("Unsupported syntax kind for output expression block: {0}",Le[r.kind]))}}function W(i,a,e){if(n){e=n.getRenamesInSpan(a,e);if(e.length){let r=0;e.forEach(e=>{var t=e.span.start+r-a,n=t+e.span.length;r+=e.diff,i=i.slice(0,t)+e.name+i.slice(n)})}}return i}function Q(e){var t=W(e.getFullText(),e.getFullStart(),e.getEnd()).trim();return ce(e),Fe(e,y),I(fe.TS_OUTPUT_TYPE,"EXPRESSION",t)}function v(e){if(e.kind===Le.BinaryExpression){var t=e;if("+"===t.operatorToken.getText()||t.operatorToken.kind==Le.PlusEqualsToken)return fe.pxtInfo(e).exprInfo}}function Y(e){var t=[],n=(!function e(t,n){v(t)?(e(t.left,n),e(t.right,n)):n.push(t)}(e,t),[]);for(let e=0;e<t.length;e++)(0<e||!Se(t[e].getText()))&&n.push(N("ADD"+n.length,t[e],"text"));e=E("text_join");return e.inputs=n,e.mutation={items:n.length.toString()},e}function N(e,t,n,r){t="number"==typeof t?w(t.toString()):("boolean"==typeof t?f:"string"==typeof t?X:A)(t);if("expr"==t.kind&&"math_number"==t.type){const e=t.fields[0].value;"math_integer"==n&&e%1==0&&(t.type="math_integer"),"math_whole_number"==n&&e%1==0&&0<e&&(t.type="math_whole_number")}return D(e,t,n,r)}function w(e){return I("math_number","NUM",e)}function X(e){return I("text","TEXT",e)}function f(e){return I("logic_boolean","BOOL",e?"TRUE":"FALSE")}function I(e,t,n,r){e=E(e);return e.fields=[O(t,n)],e.isShadow=r,e}function P(e,t){return D(e,I("variables_get_reporter","VAR",t,!0),"variables_get_reporter")}function Z(e,t,n){var r=pxt.blocks.reporterTypeForArgType(t),e=I(r,"VALUE",e,n);return"argument_reporter_custom"===r&&(e.mutation={typename:t}),e}function O(e,t){return{kind:"field",name:e,value:t}}function ee(e){var t=E("math_arithmetic");return t.inputs=[N("A",0,Re),N("B",e,Re)],t.fields=[O("OP","MINUS")],t}function F(t,n=!1,r){var i=fe.pxtInfo(t).callInfo;if(i){if(t.expression.kind===Le.Identifier){const fe=t.expression.text;if(k.declaredEnums[fe]){const n=x.enumsByName[fe];if(n&&n.blockId)return I(n.blockId,"MEMBER",t.name.text)}else if(k.declaredKinds[fe])return I(k.declaredKinds[fe].kindInfo.blockId,"MEMBER",t.name.text)}var a=T(i);if(r=a.blockId||r,a.blockCombine)return ie(t,t,null,"@get@");if("lists_length"===a.blockId||"text_length"===a.blockId){const n=E(fe.U.htmlEscape(a.blockId));return n.inputs=[N("VALUE",t.expression)],n}let e=fe.U.htmlEscape(a.blockId||i.qName);var[s]=xe(t),s=s&&fe.pxtInfo(s).callInfo;if(n||!r&&!a.blockIdentity||s&&s.qName===a.blockIdentity)return{kind:"text",value:e};a.enumval&&s&&a.useEnumVal&&(e=a.enumval);s=k.compInfo(i);if(r&&s&&s.thisParameter){const n=E(r);return n.inputs=[N(fe.U.htmlEscape(s.thisParameter.definitionName),t.expression,s.thisParameter.shadowBlockId)],n}return te(a.blockIdentity?x.apis.byQName[a.blockIdentity]:x.blocksById[r],e)}S(t)}function te(e,t){var n=/(?:%|\$)([a-zA-Z0-9_]+)/.exec(e.attributes.block),e=E(fe.U.htmlEscape(e.attributes.blockId));return e.fields=[{kind:"field",name:fe.U.htmlEscape(n[1]),value:t}],e}function L(e,t,n,r=!1,i=!1){var s=e;let o,a=!1;var c,l,u,d,p,e=me(s,k,r,i);if(e)o=ne(s,void 0,e);else switch(s.kind){case Le.Block:return se(s.statements,t,i);case Le.ExpressionStatement:return L(s.expression,t,n||s,r,i);case Le.VariableStatement:if(!(o=se(s.declarationList.declarations,void 0,!1,n||s)))return _();a=!0;break;case Le.FunctionExpression:case Le.ArrowFunction:return L(s.body,t);case Le.BinaryExpression:o=function(e){switch(e.left.text,e.operatorToken.kind){case Le.EqualsToken:return e.left.kind===Le.Identifier?R(e,e.left,e.right):e.left.kind==Le.PropertyAccessExpression?re(e,e.left,e.right,"@set@"):(t=e.left,n=e.right,(r=C("lists_index_set",e)).inputs=[N("LIST",t.expression),N("INDEX",t.argumentExpression,Re),N("VALUE",n)],r);case Le.PlusEqualsToken:if(v(e)){const fe=C("variables_set",e),i=U(e.left);return M(i,de.InBlocksOnly),fe.inputs=[D("VALUE",Y(e),Re)],fe.fields=[O("VAR",i)],fe}return e.left.kind==Le.PropertyAccessExpression?re(e,e.left,e.right,"@change@"):R(e,e.left,e.right,!0);case Le.MinusEqualsToken:t=C("variables_change",e);return t.inputs=[D("VALUE",ee(e.right),Re)],t.fields=[O("VAR",U(e.left))],t;default:return void S(e,fe.Util.lf("Unsupported operator token in statement {0}",Le[e.operatorToken.kind]))}var t,n,r}(s);break;case Le.PostfixUnaryExpression:case Le.PrefixUnaryExpression:o=(p=(d=s).operator===Le.PlusPlusToken)||d.operator===Le.MinusMinusToken?R(d,d.operand,p?1:-1,!0):void S(d);break;case Le.VariableDeclaration:const e=s;if(ye(e))return p=e,B.push([U(p.name),p]),_();o=function(e){if((t=e).name.kind!==Le.Identifier?(S(t,fe.Util.lf("Variable declarations may not use binding patterns")),0):t.initializer||(S(t,fe.Util.lf("Variable declarations must have an initializer")),0))return R(e,e.name,e.initializer);var t}(s);break;case Le.WhileStatement:o=((u=C("device_while",d=s)).inputs=[b("COND",d.expression)],u.handlers=[{name:"DO",statement:L(d.statement)}],u);break;case Le.IfStatement:o=function(e){var t=function t(n){let r={ifStatements:[{expression:n.expression,thenStatement:n.thenStatement}],elseStatement:n.elseStatement};if(n.elseStatement&&n.elseStatement.kind==Le.IfStatement){let e=t(n.elseStatement);r.ifStatements=r.ifStatements.concat(e.ifStatements),r.elseStatement=e.elseStatement}return r}(e);const r=C("controls_if",e);return r.mutation={elseif:(t.ifStatements.length-1).toString(),else:t.elseStatement?"1":"0"},r.inputs=[],r.handlers=[],t.ifStatements.forEach((e,t)=>{var n=L(e.thenStatement);r.inputs.push(b("IF"+t,e.expression)),r.handlers.push({name:"DO"+t,statement:n})}),t.elseStatement&&(e=L(t.elseStatement),r.handlers.push({name:"ELSE",statement:e})),r}(s);break;case Le.ForStatement:o=function(e){const t=e.initializer,n=(t.declarations[0].name.text,e.condition),r=U(t.declarations[0].name);let i;if(n.operatorToken.kind!==Le.LessThanToken||function e(t){return t.kind===Le.Identifier&&U(t)===r||pe.forEachChild(t,e)}(e.statement))if((i=C("pxt_controls_for",e)).fields=[],i.inputs=[],i.handlers=[],i.inputs=[P("VAR",r)],n.operatorToken.kind===Le.LessThanToken){const pe=ke(n.right);if(pe.kind===Le.NumericLiteral){const e=w(parseFloat(pe.text)-1+"");i.inputs.push(D("TO",e,Be))}else{const e=E("math_arithmetic");e.fields=[O("OP","MINUS")],e.inputs=[N("A",pe,Re),N("B",1,Re)],i.inputs.push(D("TO",e,Be))}}else n.operatorToken.kind===Le.LessThanEqualsToken&&i.inputs.push(N("TO",n.right,Be));else(i=C("controls_repeat_ext",e)).fields=[],i.inputs=[N("TIMES",n.right,Be)],i.handlers=[];e=L(e.statement);return i.handlers=[{name:"DO",statement:e}],i}(s);break;case Le.ForOfStatement:o=(c=U((u=s).initializer.declarations[0].name),(l=C("pxt_controls_for_of",u)).inputs=[N("LIST",u.expression),P("VAR",c)],c=L(u.statement),l.handlers=[{name:"DO",statement:c}],l);break;case Le.FunctionDeclaration:o=function(e){const n=U(e.name);k.localReporters.push(e.parameters.map(e=>({name:e.name.getText(),type:e.type.getText()})));var t=L(e.body);let r;return k.localReporters.pop(),(r=C("function_definition",e)).mutation={name:n},e.parameters&&(r.mutationChildren=[],e.parameters.forEach(e=>{var t=e.name.getText();r.mutationChildren.push({nodeName:"arg",attributes:{name:t,type:e.type.getText(),id:k.functionParamIds[n][t]}})})),r.handlers=[{name:"STACK",statement:t}],r}(s);break;case Le.CallExpression:o=function(t,n){const m=fe.pxtInfo(t).callInfo,g=T(m);if("Math.pow"==m.qName){const pe=E("math_arithmetic");return pe.inputs=[D("A",A(t.arguments[0]),Re),D("B",A(t.arguments[1]),Re)],pe.fields=[O("OP","POWER")],pe}if(pxt.Util.startsWith(m.qName,"Math.")){const pe=m.qName.substring(5);if(Ne(pe)){let e;return Pe(pe)?e=E("math_js_round"):(e=E("math_js_op"),r=we(pe)?"unary":Ie(pe)?"infix":"binary",e.mutation={"op-type":r}),e.inputs=m.args.map((e,t)=>D("ARG"+t,A(e),"math_number")),e.fields=[O("OP",pe)],e}}if(g.blockId===fe.PAUSE_UNTIL_TYPE){const pe=C(fe.PAUSE_UNTIL_TYPE,t),le=t.arguments[0];var r=le.body.kind===Le.Block?le.body.statements[0].expression:le.body;return pe.inputs=[D("PREDICATE",A(r),"logic_boolean")],pe}if(!g.blockId||!g.block){const pe=pxt.blocks.builtinFunctionInfo[m.qName];if(!pe){const pe=U(t.expression);if(k.declaredFunctions[pe]){let i,e=!0;if(m.isExpression){const[pe]=xe(t);e=pe&&pe.kind===Le.ExpressionStatement}return i=C(e?"function_call":"function_call_output",t),m.args.length&&(i.mutationChildren=[],i.inputs=[],k.declaredFunctions[pe].parameters.forEach((e,t)=>{var n=e.name.getText(),r=k.functionParamIds[pe][n],n=(i.mutationChildren.push({nodeName:"arg",attributes:{name:n,type:e.type.getText(),id:r}}),D(r,A(m.args[t])));i.inputs.push(n)})),i.mutation={name:pe},i}return ne(t)}g.blockId=pe.blockId}if(!g.imageLiteral){pe.isFunctionLike(m.decl);const o=De(m,k.blocks),c=k.blocks.apis.byQName[m.decompilerBlockAlias||m.qName],h=pxt.blocks.compileInfo(c),y=n?E(g.blockId):C(g.blockId,t),v=e=>(y.inputs||(y.inputs=[])).push(e),b=e=>(y.fields||(y.fields=[])).push(e);"Math.max"==m.qName&&b({kind:"field",name:"op",value:"max"});let e=0;return o.forEach((i,a)=>{let s,o=i.value;const c=i.param,l=i.info,u=h.parameters[h.thisParameter?a-1:a],d=u&&u.range;if(d){const i=d.min,fe=d.max;s={min:i.toString(),max:fe.toString()}}if(0===a&&g.defaultInstance){if(o.getText()===g.defaultInstance)return;y.mutation={showing:"true"}}if(!g.mutatePropertyEnum||a!==m.args.length-2){let r;if(c&&c.isOptional&&++e,c&&c.shadowBlockId&&(r=x.blocksById[c.shadowBlockId]),o.kind===Le.CallExpression){const i=fe.pxtInfo(o).callInfo,a=i&&T(i);a&&"TD_ID"===a.shim&&l.isEnum&&(o=ke(i.args[0]))}if(c&&l&&l.isEnum&&o.kind===Le.Identifier)b(O(fe.U.htmlEscape(c.definitionName),fe.pxtInfo(o).commentAttrs.enumIdentity));else if(c&&c.fieldOptions&&c.fieldOptions[le.DecompileArgumentAsString])b(O(fe.U.htmlEscape(c.definitionName),fe.Util.htmlEscape(o.getText())));else switch(o.kind){case Le.FunctionExpression:case Le.ArrowFunction:o.body;const i=function(){var e=ve(o);if(e)return{callbackproperties:e[0].join(","),renamemap:fe.Util.htmlEscape(JSON.stringify(e[1]))}}();let e=!1;if(i)y.mutation=i;else{var p=o;const fe=x.blocksById[g.blockId].parameters[h.thisParameter?a-1:a],le=(e,t)=>{var n,r,i,a;"reporter"===g.draggableParameters?v((n="HANDLER_DRAG_PARAM_"+e.name,r=t,i=e.type,a=pxt.blocks.reporterTypeForArgType(i),D(n,Z(r,i,!0),a))):v(P("HANDLER_DRAG_PARAM_"+e.name,t))};if(p.parameters.length&&(g.optionalVariableArgs?(y.mutation={numargs:p.parameters.length.toString()},p.parameters.forEach((e,t)=>{y.mutation["arg"+t]=e.name.text})):p.parameters.forEach((e,t)=>{t=fe.handlerParameters[t];g.draggableParameters?le(t,e.name.text):b(O("HANDLER_"+t.name,e.name.text))})),g.draggableParameters){if(p.parameters.length<fe.handlerParameters.length)for(let e=p.parameters.length;e<fe.handlerParameters.length;e++){const i=fe.handlerParameters[e];le(i,i.name)}"reporter"===g.draggableParameters&&(k.localReporters.push(fe.handlerParameters),e=!0)}}const u=L(o);(y.handlers||(y.handlers=[])).push({name:"HANDLER",statement:u}),e&&k.localReporters.pop();break;case Le.PropertyAccessExpression:const d=fe.pxtInfo(o).callInfo,ke=fe.U.htmlEscape(c.definitionName),_=T(d);r&&"TD_ID"===r.attributes.shim?v(D(ke,F(o,!1,c.shadowBlockId),c.shadowBlockId,s)):l&&l.isEnum||d&&(_.fixedInstance||_.blockIdentity===m.qName)?b(O(ke,F(o,!0).value)):v(N(ke,o,c.shadowBlockId,s));break;case Le.BinaryExpression:if(c&&c.shadowOptions&&c.shadowOptions.toString){const i=o;if(i.operatorToken.kind===Le.PlusToken&&((p=i.left).kind===Le.StringLiteral||p.kind===Le.NoSubstitutionTemplateLiteral)&&""===p.text){v(N(fe.U.htmlEscape(c.definitionName),i.right,c.shadowBlockId||"text"));break}}v(N(fe.U.htmlEscape(c.definitionName),o,c.shadowBlockId,s));break;default:let t;var f=fe.U.htmlEscape(c.definitionName);let n=!0;if("Math.random"==m.qName)t=D(f,function(e){switch(e.kind){case Le.NumericLiteral:return w((parseInt(e.text)-1).toString());case Le.BinaryExpression:var t=e;if(t.operatorToken.kind==Le.PlusToken&&"1"==t.right.text)return A(t.left);default:return A(e)}}(o),Re,s),n=!1;else if(Ee(o)){const i="text"==c.fieldEditor?o.text:o.getText(),a=c.shadowBlockId&&!function(){switch(c.shadowBlockId){case Re:case Me:case Ue:case Be:case"text":case je:return 1;default:return}}();if(ae(c)&&c.fieldOptions.onParentBlock)return void b(O(f,i));if(a){const a=function(e){if(x.blocksById[e]){e=pxt.blocks.compileInfo(x.blocksById[e]);if(!e.thisParameter&&1===e.parameters.length)return e.parameters[0]}}(c.shadowBlockId);if(a&&ae(a)){const le=I(c.shadowBlockId,a.definitionName,i,!0);c.shadowOptions&&(le.mutation={customfield:fe.Util.htmlEscape(JSON.stringify(c.shadowOptions))}),t=D(f,le,c.shadowBlockId,s),n=!1}}}else if(o.kind===Le.TaggedTemplateExpression&&c.fieldOptions&&c.fieldOptions[le.TaggedTemplate])return void b(O(f,fe.Util.htmlEscape(o.getText())));n&&(t=N(f,o,c.shadowBlockId,s)),v(t)}}}),e&&(y.mutation||(y.mutation={}),y.mutation._expanded=e.toString()),y}r=t,n=m;if((t=r.arguments[0]).kind!=Le.StringLiteral&&t.kind!=Le.NoSubstitutionTemplateLiteral)S(r);else{var n=T(n),e=C(n.blockId,r),i=(e.fields=[],(t.text||"").replace(/\s+/g,"")),a=(n.imageLiteralColumns||5)*n.imageLiteral,s=n.imageLiteralRows||5,t=a*s;if(t==i.length){let n="";for(let t=0;t<s;++t){for(let e=0;e<a;++e)n+=/[#*1]/.test(i[t*a+e])?"#":".";n+="\n"}return e.fields.push(O("LEDS",`\`${n}\``)),e}S(r,fe.Util.lf("Invalid image pattern ({0} expected vs {1} actual)",t,i.length))}}(s,r);break;case Le.DebuggerStatement:o=C(fe.TS_DEBUGGER_TYPE,s);break;case Le.BreakStatement:o=C(fe.TS_BREAK_TYPE,s);break;case Le.ContinueStatement:o=C(fe.TS_CONTINUE_TYPE,s);break;case Le.EmptyStatement:o=void 0;break;case Le.EnumDeclaration:case Le.ModuleDeclaration:return Fe(s,y),_();case Le.ReturnStatement:o=(c=s,l=C(fe.TS_RETURN_STATEMENT_TYPE,c),c.expression?l.inputs=[D("RETURN_VALUE",A(c.expression),Re)]:l.mutation={no_return_value:"true"},l);break;default:return void S(s,t?fe.Util.lf("Unsupported statement in block: {0}",Le[s.kind]):fe.Util.lf("Statement kind unsupported in blocks: {0}",Le[s.kind]))}if(o){let e=o;for(;e.next;)e=e.next;e.next=_(),e.next&&(e.next.prev=e)}if(!a){var f=n||s;let t,a=[];for(let e=0;e<y.length&&(!(t=y[e]).owner&&t.start>=f.pos&&t.end<=f.end&&(t.owner=f,t.ownerStatement=o,a.push(t)),!(t.start>f.end));e++);if(t&&t.isTrailingComment){const ue=pe.getLineAndCharacterOfPosition(g,f.end),m=pe.getLineAndCharacterOfPosition(g,t.start);if(ue.line===m.line){if(t.ownerStatement){t.ownerStatement.comment.splice(t.ownerStatement.comment.indexOf(t),1);for(const pe of h)pe.comment.splice(pe.comment.indexOf(t),1)}t.owner=f,t.ownerStatement=o,a.push(t)}}if(a.length){const pe=[];if(function e(t){var[t]=xe(t);return!t||t.kind==Le.SourceFile||(t.kind==Le.ExpressionStatement?e(t):t.kind==Le.VariableDeclarationList&&e(t.parent))}(f)){let r=[];const i=[];a.forEach((e,t)=>{var n=e.owner&&e.start<e.owner.getStart();e.kind===ue.MultiLine&&n&&(r.length&&(i.push(r),r=[]),t!=a.length-1)?i.push([e]):(r.push(e),e.followedByEmptyLine&&n&&(i.push(r),r=[]))}),a=r,i.forEach(e=>{var t=j();pe.push(t),h.push({comment:e,refId:t})})}o&&(pe.length&&(o.data?o.data+=";"+pe.join(";"):o.data=pe.join(";")),a)&&a.length&&(o.comment?o.comment=o.comment.concat(a):o.comment=a)}}return o;function _(){if(t&&t.length)return L(t.shift(),t,void 0,!1,i)}}function ne(e,t,n){s.errorOnGreyBlocks&&S(e);const r=C(fe.TS_STATEMENT_TYPE,e);r.mutation={},ce(e);let i=e.getText();i=W(i,e.getStart(),e.getEnd()),Fe(e,y),t&&(i=t+i);var a=[];if(e.kind===Le.VariableStatement)for(const fe of e.declarationList.declarations)a.push(U(fe.name));else e.kind===Le.VariableDeclaration&&a.push(U(e.name));a.length&&(r.mutation.declaredvars=a.join(","));t=i.split("\n");return r.mutation.numlines=t.length.toString(),n&&s.includeGreyBlockMessages&&(r.mutation.error=fe.U.htmlEscape(n)),t.forEach((e,t)=>{r.mutation["line"+t]=fe.U.htmlEscape(e)}),r}function b(e,r){return function(){var e=ke(r);switch(e.kind){case Le.TrueKeyword:case Le.FalseKeyword:case Le.Identifier:case Le.ElementAccessExpression:return;case Le.BinaryExpression:switch(e.operatorToken.kind){case Le.EqualsEqualsToken:case Le.EqualsEqualsEqualsToken:case Le.ExclamationEqualsToken:case Le.ExclamationEqualsEqualsToken:case Le.LessThanToken:case Le.LessThanEqualsToken:case Le.GreaterThanToken:case Le.GreaterThanEqualsToken:case Le.AmpersandAmpersandToken:case Le.BarBarToken:return;default:return fe.Util.lf("Binary expressions in conditionals must evaluate to booleans")}return;case Le.CallExpression:var t=e,n=fe.pxtInfo(t).callInfo;if(n){const fe=k.blocks.apis.byQName[n.qName];if(fe&&"boolean"==fe.retType)return;if(pe.isIdentifier(t.expression)&&k.declaredFunctions[t.expression.text])return}return fe.Util.lf("Only functions that return booleans are allowed as conditions");case Le.PrefixUnaryExpression:if(e.operator===Le.ExclamationToken)return;default:return fe.Util.lf("Conditions must evaluate to booleans or identifiers")}}()?D(e,Q(r),je):N(e,r,je)}function R(e,t,n,r=!1){t=U(t),M(t,de.InBlocksOnly),r=C(r?"variables_change":"variables_set",e.parent||e);return r.inputs=[N("VALUE",n,Re)],r.fields=[O("VAR",t)],r}function re(e,t,n,r){return ie(e,t,n,r)}function ie(e,n,r,i){const a=fe.pxtInfo(n).callInfo,s=k.blocks.apis.byQName[a?a.qName:""];if(s&&s.attributes.blockCombine){const o=`${s.namespace}.${s.retType}.`+i,c=k.blocks.blocks.find(e=>e.qName==o),l=r?C(c.attributes.blockId,e):E(c.attributes.blockId),u=c.attributes._def.parameters;let t=a.qName;return c.combinedProperties&&c.combinedProperties.forEach(e=>{0===e.indexOf(a.qName)&&"@"===e.charAt(a.qName.length)&&(t=e)}),l.inputs=[N(u[0].name,n.expression)],l.fields=[O(u[1].name,t)],r&&l.inputs.push(N(u[2].name,r)),l}S(n)}function ae(e){return e&&e.fieldOptions&&e.fieldOptions[le.DecompileLiterals]}function se(i,t,n=!1,e,r=!1){var a=[],s=t||[];for(let e=i.length-1;0<=e;e--){const t=i[e];((t.kind===Le.FunctionDeclaration||t.kind==Le.ExpressionStatement&&function(e){var t,n;if(e.expression.kind==Le.CallExpression)return t=e.expression,(t=fe.pxtInfo(t).callInfo)?(n=T(t)).blockId&&!n.handlerStatement&&!t.isExpression&&Ce(t,n):(S(e),0)}(t))&&!me(t,k,!1,n)?a:s).unshift(t)}if(a.map(e=>L(e,void 0,void 0,!1,n)).forEach(l),s.length){const i=s.shift(),t=L(i,s,e,!1,n);if(r){let n=t,r=i;if(B.forEach(([e,t])=>{o[e]!==de.InBlocksOnly&&(t.initializer,(e=o[e]===de.InTextBlocks?ne(t,"let "):R(i,t.name,t.initializer,!1)).next=n,n=e,r=t)}),n){const i=C(pe.pxtc.ON_START_TYPE,r);return i.handlers=[{name:"HANDLER",statement:n}],i}oe(t)}return t}r&&oe(void 0)}function oe(e){s.alwaysEmitOnStart&&(u(pe.pxtc.ON_START_TYPE,e),d())}function M(e,t){o[e]!==de.InTextBlocks&&(o[e]=t)}function ce(e){pe.forEachChild(e,e=>{e.kind===Le.Identifier&&M(U(e),de.InTextBlocks),ce(e)})}function U(e){if(n){var t=n.getRenameForPosition(e.getStart());if(t)return t.name}return e.text}},_e.getLeadingComments=function(e,t,n){return c(t,n||pe.getLeadingCommentRangesOfNode(e,t))},_e.getTrailingComments=function(e,t){return c(t,pe.getTrailingCommentRanges(t.getFullText(),e.end))},_e.getCommentsForStatement=function(t,n){var r,i=[];for(let e=0;e<n.length&&(!(r=n[e]).owner&&r.start>=t.pos&&r.end<=t.end&&(r.owner=t,i.push(r)),!(r.start>t.end));e++);return i},_e.buildCommentMap=ze}}(ts=ts||{}),function(e){function l(e,t){var n;switch(e){case"void":return"None";case"boolean":return"bool";case"string":return"str"}return null!=(n=t.byQName[e])&&n.pyQName?t.byQName[e].pyQName:(n=/^(?:Array<(.+)>)|(?:(.+)\[\])|(?:\[.+\])$/.exec(e))?`List[${l(n[1]||n[2],t)}]`:e}function u(e,t){return`\`\`\`${t?"python":"ts"}
${e}
\`\`\``}(e=(e=e.pxtc||(e.pxtc={})).service||(e.service={})).displayStringForSymbol=function(r,i,a){if(r){switch(r.kind){case 3:case 1:{var s=r;var o=i;var c=a;let e="",t=(3===s.kind?e+=o?"def ":"function ":e+="(method) ",e+=o?s.pyQName:s.qName,""),n=(s.parameters&&s.parameters.length&&(t=s.parameters.map(e=>e.name+": "+(o?e.pyTypeString:e.type)).join(", ")),s.retType||"void");return o&&(n=l(n,c)),u(`${e}(${t}): `+n,o);return}case 6:case 7:{s=i?r.pyQName:r.qName;if(6===r.kind)return u("enum "+s,i);let e="(enum member) "+s;return r.attributes.enumval&&(e+=" = "+r.attributes.enumval),u(e,!1);return}case 5:return u("namespace "+(i?r.pyQName:r.qName),!1);case 9:return u("interface "+(i?r.pyQName:r.qName),!1);case 8:return u("class "+(i?r.pyQName:r.qName),i);case 4:var c=i,t=c?r.pyQName:"let "+r.qName;if(r.retType){let e=r.retType;return u(t+": "+(e=c?l(e,a):e),c)}return u(t,c);case 2:t="(property) "+(i?r.pyQName:r.qName);if(r.retType){let e=r.retType;return u(t+": "+(e=i?l(e,a):e),!1)}return u(t,!1)}return`**${r.qName}**`}},e.displayStringForKeyword=function(e,t){return`\`\`\`${t?"py":"ts"}
(keyword) ${e}
\`\`\``}}(ts=ts||{}),function(e){var m=e.pxtc||(e.pxtc={});{e=m.thumb||(m.thumb={});const t={r0:0,r1:1,r2:2,r3:3,r4:4,r5:5,r6:6,r7:7,r8:8,r9:9,r10:10,r11:10,r12:12,sp:13,r13:13,lr:14,r14:14,pc:15,r15:15};class n extends m.assembler.AbstractProcessor{constructor(){super(),this.addEnc("$r0","R0-7",e=>this.inrange(7,e,e)),this.addEnc("$r1","R0-7",e=>this.inrange(7,e,e<<3)),this.addEnc("$r2","R0-15",e=>this.inrange(15,e,7&e|(8&e)<<4)),this.addEnc("$r3","R0-15",e=>this.inrange(15,e,e<<3)),this.addEnc("$r4","R0-7",e=>this.inrange(7,e,e<<6)),this.addEnc("$r5","R0-7",e=>this.inrange(7,e,e<<8)),this.addEnc("$r01","R0-7",e=>this.inrange(7,e,e|e<<3)),this.addEnc("$i0","#0-255",e=>this.inrange(255,e,e)),this.addEnc("$i1","#0-1020",e=>this.inrange(255,e/4,e>>2)),this.addEnc("$i2","#0-510",e=>this.inrange(127,e/4,e>>2)),this.addEnc("$i3","#0-7",e=>this.inrange(7,e,e<<6)),this.addEnc("$i4","#0-31",e=>this.inrange(31,e,e<<6)),this.addEnc("$i5","#0-124",e=>this.inrange(31,e/4,e>>2<<6)),this.addEnc("$i6","#1-32",e=>0==e?null:32==e?0:this.inrange(31,e,e<<6)),this.addEnc("$i7","#0-62",e=>this.inrange(31,e/2,e>>1<<6)),this.addEnc("$i32","#0-2^32",e=>1),this.addEnc("$rl0","{R0-7,...}",e=>this.inrange(255,e,e)),this.addEnc("$rl1","{LR,R0-7,...}",e=>16384&e?this.inrange(255,-16385&e,256|255&e):this.inrange(255,e,e)),this.addEnc("$rl2","{PC,R0-7,...}",e=>32768&e?this.inrange(255,-32769&e,256|255&e):this.inrange(255,e,e)),this.addEnc("$la","LABEL",e=>this.inrange(255,e/4,e>>2)).isWordAligned=!0,this.addEnc("$lb","LABEL",e=>this.inrangeSigned(127,e/2,e>>1)),this.addEnc("$lb11","LABEL",e=>this.inrangeSigned(1023,e/2,e>>1)),this.addInst("adcs  $r0, $r1",16704,65472),this.addInst("add   $r2, $r3",17408,65280),this.addInst("add   $r5, pc, $i1",40960,63488),this.addInst("add   $r5, sp, $i1",43008,63488),this.addInst("add   sp, $i2",45056,65408).canBeShared=!0,this.addInst("adds  $r0, $r1, $i3",7168,65024),this.addInst("adds  $r0, $r1, $r4",6144,65024),this.addInst("adds  $r01, $r4",6144,65024),this.addInst("adds  $r5, $i0",12288,63488),this.addInst("adr   $r5, $la",40960,63488),this.addInst("ands  $r0, $r1",16384,65472),this.addInst("asrs  $r0, $r1",16640,65472),this.addInst("asrs  $r0, $r1, $i6",4096,63488),this.addInst("bics  $r0, $r1",17280,65472),this.addInst("bkpt  $i0",48640,65280),this.addInst("blx   $r3",18304,65415),this.addInst("bx    $r3",18176,65408),this.addInst("cmn   $r0, $r1",17088,65472),this.addInst("cmp   $r0, $r1",17024,65472),this.addInst("cmp   $r2, $r3",17664,65280),this.addInst("cmp   $r5, $i0",10240,63488),this.addInst("eors  $r0, $r1",16448,65472),this.addInst("ldmia $r5!, $rl0",51200,63488),this.addInst("ldmia $r5, $rl0",51200,63488),this.addInst("ldr   $r0, [$r1, $i5]",26624,63488),this.addInst("ldr   $r0, [$r1, $r4]",22528,65024),this.addInst("ldr   $r5, [pc, $i1]",18432,63488),this.addInst("ldr   $r5, $la",18432,63488),this.addInst("ldr   $r5, [sp, $i1]",38912,63488).canBeShared=!0,this.addInst("ldr   $r5, [sp]",38912,63488).canBeShared=!0,this.addInst("ldrb  $r0, [$r1, $i4]",30720,63488),this.addInst("ldrb  $r0, [$r1, $r4]",23552,65024),this.addInst("ldrh  $r0, [$r1, $i7]",34816,63488),this.addInst("ldrh  $r0, [$r1, $r4]",23040,65024),this.addInst("ldrsb $r0, [$r1, $r4]",22016,65024),this.addInst("ldrsh $r0, [$r1, $r4]",24064,65024),this.addInst("lsls  $r0, $r1",16512,65472),this.addInst("lsls  $r0, $r1, $i4",0,63488),this.addInst("lsrs  $r0, $r1",16576,65472),this.addInst("lsrs  $r0, $r1, $i6",2048,63488),this.addInst("mov   $r2, $r3",17920,65280),this.addInst("movs  $r0, $r1",0,65472),this.addInst("movs  $r5, $i0",8192,63488),this.addInst("muls  $r0, $r1",17216,65472),this.addInst("mvns  $r0, $r1",17344,65472),this.addInst("negs  $r0, $r1",16960,65472),this.addInst("nop",18112,65535),this.addInst("orrs  $r0, $r1",17152,65472),this.addInst("pop   $rl2",48128,65024),this.addInst("push  $rl1",46080,65024),this.addInst("rev   $r0, $r1",47616,65472),this.addInst("rev16 $r0, $r1",47680,65472),this.addInst("revsh $r0, $r1",47808,65472),this.addInst("rors  $r0, $r1",16832,65472),this.addInst("sbcs  $r0, $r1",16768,65472),this.addInst("sev",48960,65535),this.addInst("stm   $r5!, $rl0",49152,63488),this.addInst("stmia $r5!, $rl0",49152,63488),this.addInst("stmea $r5!, $rl0",49152,63488),this.addInst("str   $r0, [$r1, $i5]",24576,63488).canBeShared=!0,this.addInst("str   $r0, [$r1]",24576,63488).canBeShared=!0,this.addInst("str   $r0, [$r1, $r4]",20480,65024),this.addInst("str   $r5, [sp, $i1]",36864,63488).canBeShared=!0,this.addInst("str   $r5, [sp]",36864,63488).canBeShared=!0,this.addInst("strb  $r0, [$r1, $i4]",28672,63488),this.addInst("strb  $r0, [$r1, $r4]",21504,65024),this.addInst("strh  $r0, [$r1, $i7]",32768,63488),this.addInst("strh  $r0, [$r1, $r4]",20992,65024),this.addInst("sub   sp, $i2",45184,65408),this.addInst("subs  $r0, $r1, $i3",7680,65024),this.addInst("subs  $r0, $r1, $r4",6656,65024),this.addInst("subs  $r01, $r4",6656,65024),this.addInst("subs  $r5, $i0",14336,63488),this.addInst("svc   $i0",57088,65280),this.addInst("sxtb  $r0, $r1",45632,65472),this.addInst("sxth  $r0, $r1",45568,65472),this.addInst("tst   $r0, $r1",16896,65472),this.addInst("udf   $i0",56832,65280),this.addInst("uxtb  $r0, $r1",45760,65472),this.addInst("uxth  $r0, $r1",45696,65472),this.addInst("wfe",48928,65535),this.addInst("wfi",48944,65535),this.addInst("yield",48912,65535),this.addInst("cpsid i",46706,65535),this.addInst("cpsie i",46690,65535),this.addInst("beq   $lb",53248,65280),this.addInst("bne   $lb",53504,65280),this.addInst("bcs   $lb",53760,65280),this.addInst("bcc   $lb",54016,65280),this.addInst("bmi   $lb",54272,65280),this.addInst("bpl   $lb",54528,65280),this.addInst("bvs   $lb",54784,65280),this.addInst("bvc   $lb",55040,65280),this.addInst("bhi   $lb",55296,65280),this.addInst("bls   $lb",55552,65280),this.addInst("bge   $lb",55808,65280),this.addInst("blt   $lb",56064,65280),this.addInst("bgt   $lb",56320,65280),this.addInst("ble   $lb",56576,65280),this.addInst("bhs   $lb",53760,65280),this.addInst("blo   $lb",54016,65280),this.addInst("b     $lb11",57344,63488),this.addInst("bal   $lb11",57344,63488),this.addInst("bl    $lb",61440,63488,!0),this.addInst("bb    $lb",57344,63488,!0),this.addInst("ldlit   $r5, $i32",18432,63488)}toFnPtr(e,t,n){return m.target.runtimeIsARM&&/::/.test(n)?e+t&-2:e+t|1}wordSize(){return 4}is32bit(e){return"bl"==e.name||"bb"==e.name}postProcessAbsAddress(e,t){return(t^=1)-e.baseOffset}emit32(e,t,n){var r,i,a=!!(t%2),s=(t=a?t+1&-4:t)>>1;return m.assert(null!=s),(0|s)==s&&-2097152<s&&s<2097152?(r=2047&s,i=s>>11&1023,{opcode:4026531840&s?62464|i:61440|i,opcode2:a?59392|r:63488|r,stack:0,numArgs:[t],labelName:n}):m.assembler.emitErr("jump out of range",n)}expandLdlit(i){let a,s=!1,e=[],o={},c=1;for(let r=0;r<i.lines.length;++r){var l=i.lines[r];if(e.push(l),"instruction"==l.type&&l.instruction&&"ldlit"==l.instruction.name){if(!a){let e=l.location+900,t=r+1;for(;t<i.lines.length&&!(i.lines[t].location>e);++t){var u=i.lines[t].getOp();("b"==u||"bb"==u||"pop"==u&&"pc"==i.lines[t].words[2])&&(a=i.lines[t])}if(a)s=!1;else for(s=!0;--t>r;)if("instruction"==i.lines[t].type){a=i.lines[t];break}}let e=l.words[1],t="#"+l.words[3],n=m.U.lookup(o,t);n||(n="_ldlit_"+ ++c,o[t]=n),l.update(`ldr ${e}, `+n)}if(l===a){a=null;var t,n,d=[],p="_jmpwords_"+ ++c;s&&d.push("bb "+p),d.push(".balign 4");for(t of Object.keys(o)){var f=o[t];d.push(f+": .word "+t.slice(1))}s&&d.push(p+":");for(n of d){i.buildLine(n,e);var _=e[e.length-1];_.scope=l.scope,_.lineNo=l.lineNo}o={}}}i.lines=e}getAddressFromLabel(e,t,n,r=!1){n=e.lookupLabel(n);if(null==n)return null;let i=e.location()+4;return r&&(i&=4294967292),n-i}isPop(e){return 48128==e}isPush(e){return 46080==e}isAddSP(e){return 45056==e}isSubSP(e){return 45184==e}peephole(e,t,n){var r=this.encoders.$lb11,i=this.encoders.$lb;function a(e,t){return null!=e.encode(t.numArgs[0]+8)&&null!=e.encode(t.numArgs[0]-8)&&null!=e.encode(t.numArgs[0])}let s=e.getOp(),o=!1;"bne"!=s&&"beq"!=s||("b"==t.getOp()&&0==e.numArgs[0]&&(o=!0),"bb"==t.getOp()&&2==e.numArgs[0]&&(o=!0)),"bb"==s&&a(r,e)?e.update("b "+e.words[1]):"b"==s&&-2==e.numArgs[0]?e.update(""):"bne"==s&&o&&a(i,t)?(e.update("beq "+t.words[1]),t.update("")):"beq"==s&&o&&a(i,t)?(e.update("bne "+t.words[1]),t.update("")):"push"!=s||16384!=e.numArgs[0]||"push"!=t.getOp()||16384&t.numArgs[0]?"pop"==s&&"pop"==t.getOp()&&32768==t.numArgs[0]?(e.update(e.text.replace("}",", pc}")),t.update("")):"push"==s&&"pop"==t.getOp()&&e.numArgs[0]==t.numArgs[0]?(m.assert(0<e.numArgs[0]),e.update(""),t.update("")):"push"==s&&"pop"==t.getOp()&&4==e.words.length&&4==t.words.length?(m.assert("{"==e.words[1]),e.update("mov "+t.words[2]+", "+e.words[2]),t.update("")):n&&"movs $r5, $i0"==e.getOpExt()&&"mov $r0, $r1"==t.getOpExt()&&e.numArgs[0]==t.numArgs[1]&&(r=n,i=e.numArgs[0],"pop"==r.getOp())&&r.numArgs[0]&1<<i?(e.update("movs r"+t.numArgs[0]+", #"+e.numArgs[1]),t.update("")):"pop"==s&&0<=c(e)&&"push"==t.getOp()&&c(e)==c(t)?(e.update("ldr r"+c(e)+", [sp, #0]"),t.update("")):"push"==s&&"ldr $r5, [sp, $i1]"==t.getOpExt()&&c(e)==t.numArgs[0]&&0==t.numArgs[1]?t.update(""):n&&"push"==s&&0<=c(e)&&(r=t,i=c(e),"movs $r5, $i0"==r.getOpExt())&&r.numArgs[0]!=i&&"pop"==n.getOp()&&c(e)==c(n)&&(e.update(""),n.update("")):(e.update(t.text.replace("{","{lr, ")),t.update(""))}registerNo(e){if(!e)return null;e=e.toLowerCase();e=t[e];return void 0===e?null:e}testAssembler(){m.assembler.expectError(this,"lsl r0, r0, #8"),m.assembler.expectError(this,"push {pc,lr}"),m.assembler.expectError(this,"push {r17}"),m.assembler.expectError(this,"mov r0, r1 foo"),m.assembler.expectError(this,"movs r14, #100"),m.assembler.expectError(this,"push {r0"),m.assembler.expectError(this,"push lr,r0}"),m.assembler.expectError(this,"pop {lr,r0}"),m.assembler.expectError(this,"b #+11"),m.assembler.expectError(this,"b #+102400"),m.assembler.expectError(this,"bne undefined_label"),m.assembler.expectError(this,".foobar"),m.assembler.expect(this,"0200      lsls    r0, r0, #8\nb500      push    {lr}\n2064      movs    r0, #100        ; 0x64\nb401      push    {r0}\nbc08      pop     {r3}\nb501      push    {r0, lr}\nbd20      pop {r5, pc}\nbc01      pop {r0}\n4770      bx      lr\n0000      .balign 4\ne6c0      .word   -72000\nfffe\n"),m.assembler.expect(this,"4291      cmp     r1, r2\nd100      bne     l6\ne000      b       l8\n1840  l6: adds    r0, r0, r1\n4718  l8: bx      r3\n"),m.assembler.expect(this,"          @stackmark base\nb403      push    {r0, r1}\n          @stackmark locals\n9801      ldr     r0, [sp, locals@1]\nb401      push    {r0}\n9802      ldr     r0, [sp, locals@1]\nbc01      pop     {r0}\n          @stackempty locals\n9901      ldr     r1, [sp, locals@1]\n9102      str     r1, [sp, base@0]\n          @stackempty locals\nb002      add     sp, #8\n          @stackempty base\n"),m.assembler.expect(this,"b090      sub sp, #4*16\nb010      add sp, #4*16\n"),m.assembler.expect(this,'6261      .string "abc"\n0063      \n'),m.assembler.expect(this,'6261      .string "abcde"\n6463      \n0065      \n'),m.assembler.expect(this,"3042      adds r0, 0x42\n1c0d      adds r5, r1, #0\nd100      bne #0\n2800      cmp r0, #0\n6b28      ldr r0, [r5, #48]\n0200      lsls r0, r0, #8\n2063      movs r0, 0x63\n4240      negs r0, r0\n46c0      nop\nb500      push {lr}\nb401      push {r0}\nb402      push {r1}\nb404      push {r2}\nb408      push {r3}\nb520      push {r5, lr}\nbd00      pop {pc}\nbc01      pop {r0}\nbc02      pop {r1}\nbc04      pop {r2}\nbc08      pop {r3}\nbd20      pop {r5, pc}\n9003      str r0, [sp, #4*3]\n")}}function c(e){m.assert("push"==e.getOp()||"pop"==e.getOp());let t=0,n=-1,r=e.numArgs[0];for(;0<r;)1&r&&(n=-1==n?t:-2),r>>=1,t++;return 0<=n?n:-1}e.ThumbProcessor=n}}(ts=ts||{}),function(n){var f=n.pxtc||(n.pxtc={});{var t,_=f.ir||(f.ir={});let d,p=f.Util;p.assert,(t=d=_.EK||(_.EK={}))[t.None=0]="None",t[t.NumberLiteral=1]="NumberLiteral",t[t.PointerLiteral=2]="PointerLiteral",t[t.RuntimeCall=3]="RuntimeCall",t[t.ProcCall=4]="ProcCall",t[t.SharedRef=5]="SharedRef",t[t.SharedDef=6]="SharedDef",t[t.FieldAccess=7]="FieldAccess",t[t.Store=8]="Store",t[t.CellRef=9]="CellRef",t[t.Sequence=10]="Sequence",t[t.JmpValue=11]="JmpValue",t[t.Nop=12]="Nop",t[t.InstanceOf=13]="InstanceOf";let i,c,e=0;class m{isExpr(){return!1}isStmt(){return!1}getId(){return this._id||(this._id=++e),this._id}}class g extends(_.Node=m){constructor(e,t,n){super(),this.exprKind=e,this.args=t,this.data=n,this.callingConvention=0}static clone(e){var t=new g(e.exprKind,e.args?e.args.slice(0):null,e.data);return e.jsInfo&&(t.jsInfo=e.jsInfo),e.totalUses&&(t.totalUses=e.totalUses,t.currUses=e.currUses),t.callingConvention=e.callingConvention,t.mask=e.mask,t.isStringLiteral=e.isStringLiteral,t}reset(){this.currUses=0,this.prevTotalUses&&(this.totalUses=this.prevTotalUses)}ptrlabel(){return this.jsInfo instanceof h?this.jsInfo:null}hexlit(){var e=this.jsInfo;return null!=e.hexlit?e.hexlit:null}isExpr(){return!0}isPure(){return this.isStateless()||this.exprKind==d.CellRef}isLiteral(){switch(this.exprKind){case d.NumberLiteral:case d.PointerLiteral:return!0;default:return!1}}isStateless(){switch(this.exprKind){case d.NumberLiteral:case d.PointerLiteral:case d.SharedRef:return!0;default:return!1}}sharingInfo(){let e=this,t=this.getId();return this.exprKind!=d.SharedRef&&this.exprKind!=d.SharedDef||((e=this.args[0])?t=e.getId():e={currUses:"",totalUses:""}),`${e.currUses}/${e.totalUses} #`+t}toString(){return r(this)}canUpdateCells(){switch(this.exprKind){case d.NumberLiteral:case d.PointerLiteral:case d.CellRef:case d.JmpValue:case d.SharedRef:case d.Nop:return!1;case d.SharedDef:case d.FieldAccess:case d.InstanceOf:return this.args[0].canUpdateCells();case d.RuntimeCall:case d.ProcCall:case d.Sequence:case d.Store:return!0;default:throw f.oops()}}}_.Expr=g,(t=i=_.SK||(_.SK={}))[t.None=0]="None",t[t.Expr=1]="Expr",t[t.Label=2]="Label",t[t.Jmp=3]="Jmp",t[t.StackEmpty=4]="StackEmpty",t[t.Breakpoint=5]="Breakpoint",t[t.Comment=6]="Comment",(t=c=_.JmpMode||(_.JmpMode={}))[t.Always=1]="Always",t[t.IfZero=2]="IfZero",t[t.IfNotZero=3]="IfNotZero",_.lblNumUsesJmpNext=-101;class h extends m{constructor(e,t){super(),this.stmtKind=e,this.expr=t}isStmt(){return!0}toString(){return r(this)}}function r(e){return function e(t){if(t.isExpr()){var n=t,r=n.args?n.args[0]:null;switch(n.exprKind){case d.NumberLiteral:case d.PointerLiteral:return n.data+"";case d.CellRef:return n.data.toString();case d.JmpValue:return"JMPVALUE";case d.Nop:return"NOP";case d.SharedRef:return`SHARED_REF(#${r.getId()})`;case d.SharedDef:return`SHARED_DEF(#${r.getId()} u(${r.totalUses}): ${e(r)})`;case d.FieldAccess:return e(r)+"."+n.data.name;case d.RuntimeCall:return n.data+"("+n.args.map(e).join(", ")+")";case d.ProcCall:var i=n.data;return(null!=i.ifaceIndex?"IFACE@"+i.ifaceIndex:null!=i.virtualIndex?"VTABLE@"+i.virtualIndex:f.getDeclName(i.proc.action))+"("+n.args.map(e).join(", ")+")";case d.Sequence:return"("+n.args.map(e).join("; ")+")";case d.InstanceOf:return"("+e(n.args[0])+" instanceof "+n.data.id+")";case d.Store:return`{ ${e(n.args[0])} := ${e(n.args[1])} }`;default:throw f.oops()}}else{var a=t,s=a.expr?e(a.expr):"{null}";switch(a.stmtKind){case _.SK.Expr:return"    "+s+"\n";case _.SK.Jmp:var o=`goto ${a.lblName}
`;switch(a.jmpMode){case c.Always:return a.expr?`    { JMPVALUE := ${s} } `+o:"    "+o;case c.IfZero:return`    if (! ${s}) `+o;case c.IfNotZero:return`    if (${s}) `+o;default:throw f.oops()}case _.SK.StackEmpty:return"    ;\n";case _.SK.Breakpoint:return"    // brk "+a.breakpointInfo.id+"\n";case _.SK.Comment:return"    // "+a.expr.data+"\n";case _.SK.Label:return a.lblName+":\n";default:throw f.oops()}}}(e)}_.Stmt=h;class y{constructor(e,t,n){this.index=e,this.def=t,this.info=n,this.isarg=!1,this.iscap=!1,this._isLocal=!1,this._isGlobal=!1,this._debugType="?",this.isUserVariable=!1,this.bitSize=0,t&&(f.isInPxtModules(t)||(this.isUserVariable=!0),n)&&f.setCellProps(this)}getName(){return f.getDeclName(this.def)}getDebugInfo(){return{name:this.getName(),type:this._debugType,index:this.index}}toString(){let e="";return this.def&&(e+=this.getName()||"?"),"["+(e=this.isarg?"ARG "+e:e)+"]"}uniqueName(){return this.isarg?"arg"+this.index:this.getName().replace(/[^\w]/g,"_")+"___"+f.getNodeId(this.def)}isLocal(){return this._isLocal}isGlobal(){return this._isGlobal}loadCore(){return s(d.CellRef,null,this)}load(){var e=this.loadCore();return f.target.isNative&&!f.isStackMachine()&&0!=this.bitSize?6==this.bitSize?l("pxt::fromUInt",[e]):l("pxt::fromInt",[e]):this.isByRefLocal()?l("pxtrt::ldlocRef",[e]):e}isByRefLocal(){return this.isLocal()&&this.info.captured&&this.info.written}storeDirect(e){return s(d.Store,[this.loadCore(),e])}storeByRef(e){var t;return this.isByRefLocal()?l("pxtrt::stlocRef",[this.loadCore(),e]):f.target.isNative&&!f.isStackMachine()&&0!=this.bitSize?(t=6==this.bitSize?"pxt::toUInt":"pxt::toInt",this.storeDirect(l(t,[e],1))):this.storeDirect(e)}get isTemporary(){return!1}}class v extends(_.Cell=y){constructor(e,t){super(e,null,null),this.index=e,this.owningProc=t,this.uid=v.unnamedCellCounter++}getName(){return"unnamed"+this.uid}uniqueName(){return this.getName()+"___U"+this.index}isByRefLocal(){return!1}get isTemporary(){return!0}}function a(e,t){return new h(e,t)}function s(e,t,n){return new g(e,t,n)}function o(e,t){e=s(d.PointerLiteral,null,e);return e.jsInfo=t,e}function l(e,t,n=0){t=s(d.RuntimeCall,t,e);return n&&(t.mask={refMask:n}),t}function u(e,t=!1,n=!1){let r=!!t&&e.some(e=>e.canUpdateCells()),i=[];for(var a of p.reversed(e))a.isStateless()||a.exprKind==d.CellRef&&!r||(a.canUpdateCells()&&(r=!0),i.push(a));i.reverse(),f.isStackMachine()&&!n&&(i=[]);let s=[],o=e.map(n=>{if(0<=i.indexOf(n)){let e=n,t=n;return n.exprKind==d.SharedDef?(n.args[0].totalUses++,e=_.op(d.SharedRef,[n.args[0]])):(e=_.op(d.SharedRef,[n]),t=_.op(d.SharedDef,[n]),n.totalUses=2,n.currUses=0),s.push(t),e}return n});return{precomp:s,flattened:o}}v.unnamedCellCounter=0,_.UnnamedCell=v,_.Procedure=class extends m{constructor(){super(...arguments),this.numArgs=0,this.info=null,this.seqNo=-1,this.isRoot=!1,this.locals=[],this.captured=[],this.args=[],this.parent=null,this.debugInfo=null,this.fillDebugInfo=null,this.classInfo=null,this.perfCounterName=null,this.perfCounterNo=0,this.body=[],this.lblNo=0,this.action=null,this.cachedJS=null,this.usingCtx=null}reset(){this.body=[],this.lblNo=0,this.locals=[],this.captured=[],this.args=[]}isGetter(){return this.action&&this.action.kind==n.SyntaxKind.GetAccessor}vtLabel(){return this.label()+(f.isStackMachine()?"":"_args")}label(){return f.getFunctionLabel(this.action)}toString(){return`
PROC ${f.getDeclName(this.action)}
${this.body.map(e=>e.toString()).join("")}
`}emit(e){this.body.push(e)}emitExpr(e){this.emit(a(i.Expr,e))}mkLabel(e){var t=a(i.Label,null);return t.lblName="."+e+"_"+this.lblNo+++"_"+this.seqNo,t.lbl=t}emitLbl(e){this.emit(e)}emitLblDirect(e){var t=a(i.Label,null);t.lblName=e,t.lbl=t,this.emit(t)}getFullName(){let e=f.getDeclName(this.action);var t;return this.action&&(t=n.pxtc.nodeLocationInfo(this.action),e+=" "+t.fileName.replace("pxt_modules/","")+":"+(t.line+1)),e}getName(){return(this.action&&this.action.name?this.action.name.text:null)||"inline"}mkLocal(e,t){e=new y(this.locals.length,e,t);return this.locals.push(e),e}mkLocalUnnamed(){var e=new v(this.locals.length,this);return this.locals.push(e),e}localIndex(t,e=!1){return this.captured.filter(e=>e.def==t)[0]||this.locals.filter(e=>e.def==t)[0]||(e?null:this.args.filter(e=>e.def==t)[0])}stackEmpty(){this.emit(a(i.StackEmpty,null))}emitJmpZ(e,t){this.emitJmp(e,t,c.IfZero)}emitJmp(e,t,n=c.Always,r=null){t=a(i.Jmp,t);t.jmpMode=n,r&&r.exprKind==d.NumberLiteral&&(r=null),t.terminateExpr=r,"string"==typeof e?t.lblName=e:(t.lbl=e,t.lblName=t.lbl.lblName),this.emit(t)}inlineSelf(e){const{precomp:t,flattened:n}=u(e,!1,!0);p.assert(n.length==this.args.length),this.args.map((e,t)=>{e.repl=n[t],e.replUses=0});e=function t(n){switch((n=g.clone(n)).exprKind){case d.PointerLiteral:case d.NumberLiteral:return n;case d.RuntimeCall:for(let e=0;e<n.args.length;++e)n.args[e]=t(n.args[e]);return n;case d.CellRef:var e=n.data;return e.repl?(e.replUses++,e.repl):n;case d.FieldAccess:return n.args[0]=t(n.args[0]),n;default:throw p.oops()}}(this.inlineBody);return this.args.forEach((e,t)=>{e.repl.exprKind==d.SharedRef&&(e.repl.args[0].prevTotalUses||(e.repl.args[0].prevTotalUses=e.repl.args[0].totalUses),e.repl.args[0].totalUses+=e.replUses-1),e.repl=null,e.replUses=0}),t.length?(t.push(e),s(d.Sequence,t)):e}resolve(){let r=(t,n)=>{if(t.args)for(let e=0;e<t.args.length;++e)t.args[e]=n(t.args[e])},n=e=>{switch(e.exprKind){case d.SharedDef:throw p.oops();case d.SharedRef:var t=e.args[0];if(t.totalUses)return t.totalUses--,e;t.totalUses=-1,t.currUses=0,t.irCurrUses=0;t=g.clone(e);return t.exprKind=d.SharedDef,t.args[0]=n(t.args[0]),t}return r(e,n),e},t=n=>(n.exprKind!=d.SharedRef&&(r(n,t),n.exprKind===d.Sequence)&&(n.args=n.args.filter((e,t)=>t==n.args.length-1||!e.isPure()||(e.exprKind==d.SharedRef&&0<e.args[0].totalUses&&e.args[0].totalUses--,!1))),n),i=e=>{switch(e.exprKind){case d.SharedDef:var t=e.args[0];if(p.assert(t.totalUses<0,"arg.totalUses < 0"),p.assert(0===t.currUses,"arg.currUses === 0"),-1==t.totalUses)return i(t);t.totalUses=1;break;case d.SharedRef:return p.assert(0<e.args[0].totalUses,"e.args[0].totalUses > 0"),e.args[0].totalUses++,e;case d.PointerLiteral:t=e.ptrlabel();t&&(t.lblNumUses||(t.lblNumUses=0),t.lblNumUses++)}return r(e,i),e},a=e=>{switch(e.exprKind){case d.SharedDef:r(e,a);case d.SharedRef:var t=e.args[0];return p.assert(0<t.totalUses,"arg.totalUses > 0"),1==t.totalUses?(p.assert(e.exprKind==d.SharedDef),t):(t.irCurrUses++,e);default:return r(e,a),e}};this.body=this.body.filter(e=>!e.expr||(e.expr=t(n(e.expr)),e.stmtKind!=_.SK.Expr)||!e.expr.isPure());var e,s,o=p.toDictionary(this.body.filter(e=>e.stmtKind==_.SK.Label),e=>e.lblName);for(let e=0;e<this.body.length;++e)this.body[e].stmtNo=e;for(e of this.body)switch(e.expr&&(e.expr=i(e.expr)),e.stmtKind){case _.SK.Expr:break;case _.SK.Jmp:e.lbl=p.lookup(o,e.lblName),e.lbl||f.oops("missing label: "+e.lblName),e.lbl.lblNumUses?e.lbl.lblNumUses++:e.lbl.lblNumUses=1;break;case _.SK.StackEmpty:case _.SK.Label:case _.SK.Breakpoint:case _.SK.Comment:break;default:f.oops()}let c=null,l=!f.target.debugMode,u=null;for(s of this.body)s.expr&&(s.expr=t(a(s.expr))),c&&c.lbl==s&&c.stmtKind==_.SK.Jmp&&s.stmtKind==_.SK.Label&&c.jmpMode==_.JmpMode.Always&&1==s.lblNumUses&&(s.lblNumUses=_.lblNumUsesJmpNext),c=s,s.stmtKind==_.SK.Breakpoint?(s.breakpointInfo.id,s.breakpointInfo):l&&(s.stmtKind==_.SK.Jmp?s.expr&&(u?l=!1:u=s.expr):s.stmtKind==_.SK.StackEmpty||s.stmtKind==_.SK.Label&&s.lblNumUses==_.lblNumUsesJmpNext||(l=!1));l&&u&&function n(r){var e=()=>{if(!r.args)return 0;let e=0;for(var t of r.args)e+=n(t);return r.mask&&r.mask.conversions&&(e+=4*r.mask.conversions.length),e};switch(r.exprKind){case d.NumberLiteral:return 2;case d.PointerLiteral:return 6;case d.RuntimeCall:return e()+2+2+4;case d.CellRef:return 2;case d.FieldAccess:return e()+(r.data.needsCheck?4:0)+2;case d.ProcCall:case d.SharedRef:case d.SharedDef:case d.Store:case d.Sequence:case d.JmpValue:case d.Nop:case d.InstanceOf:return 1e6;default:throw p.oops()}}(u)<=4*this.args.length+4+2+(f.target.isNative?4:30)&&(this.inlineBody=u),pxt.options.debug&&pxt.debug(this.toString())}},_.iterExpr=function e(t,n){if(n(t),t.args)for(var r of t.args)e(r,n)},_.stmt=a,_.comment=function(e){return a(i.Comment,o(e,e))},_.op=s,_.numlit=function(e){return s(d.NumberLiteral,null,e)},_.shared=function(e){switch(e.exprKind){case d.SharedRef:e=e.args[0];break;case d.NumberLiteral:return e}return s(d.SharedRef,[e])},_.ptrlit=o,_.rtcall=l,_.rtcallMask=function(e,t,n,r){p.startsWith(e,"@nomask@")&&(e=e.slice(8),t=0);e=l(e,r,t);return e.callingConvention=n,e},_.flattenArgs=u}}(ts=ts||{}),function(wt){{var It=wt.pxtc||(wt.pxtc={}),e;class n{constructor(e,t){this.wave=e,this.id=t,this.flags=0,this.resetAll()}refresh(){this.flags&=-9,this.proc&&!this.usedActions&&!qt(this.proc.action)||this.proc&&!this.proc.cachedJS?this.resetEmit():this.usedNodes&&(this.flags|=32),this.classInfo&&this.classInfo.reset()}resetEmit(){this.flags&=-41,this.proc&&this.proc.classInfo&&this.proc.classInfo.ctor==this.proc&&(this.proc.classInfo.ctor=null),this.functionInfo=null,this.variableInfo=null,this.classInfo=null,this.callInfo=null,this.proc=null,this.cell=null,this.exprInfo=null,this.usedNodes=null,this.usedActions=null}resetTSC(){this.flags&=16,this.typeCache=null,this.symbolCache=null,this.commentAttrs=null,this.valueOverride=null,this.declCache=void 0,this.fullName=null,this.constantFolded=void 0}resetAll(){this.resetTSC(),this.resetEmit()}}let r;It.PxtNode=n,(e=r=r||{})[e.Enum=0]="Enum",e[e.Number=1]="Number",e[e.String=2]="String",e[e.Boolean=3]="Boolean",e[e.Unsupported=4]="Unsupported",It.taggedUndefined=0,It.taggedNull=6,It.taggedFalse=10,It.taggedNaN=14,It.taggedTrue=66,It.thumbArithmeticInstr={adds:!0,subs:!0,muls:!0,ands:!0,orrs:!0,eors:!0,lsls:!0,asrs:!0,lsrs:!0},It.numberArithmeticInstr={div:!0,mod:!0,le:!0,lt:!0,ge:!0,gt:!0,eq:!0,neq:!0};const bn={"Array_::getAt":{name:"_pxt_array_get",argsFmt:["T","T","T"],value:0},"Array_::setAt":{name:"_pxt_array_set",argsFmt:["T","T","T","T"],value:0},"BufferMethods::getByte":{name:"_pxt_buffer_get",argsFmt:["T","T","T"],value:0},"BufferMethods::setByte":{name:"_pxt_buffer_set",argsFmt:["T","T","T","I"],value:0},"pxtrt::mapGetGeneric":{name:"_pxt_map_get",argsFmt:["T","T","S"],value:0},"pxtrt::mapSetGeneric":{name:"_pxt_map_set",argsFmt:["T","T","S","T"],value:0}};let kt=It.ir.EK,t=(It.SK=wt.SyntaxKind,It.numReservedGlobals=1,0),St=1;function Pt(e){return e.pxt?!!(16&e.pxt.flags):!!(e=wt.getSourceFileOfNode(e))&&It.isPxtModulesFilename(e.fileName)}function Ot(e){if(e.pxt){const n=e.pxt;return n.wave!=St&&(n.wave=St,It.compileOptions&&It.compileOptions.skipPxtModulesTSC&&16&n.flags?It.compileOptions.skipPxtModulesEmit?n.refresh():n.resetEmit():n.resetAll()),n}{const It=new n(St,++t);return Pt(e)&&(It.flags|=16),e.pxt=It}}function Ft(e){return Ot(e).id}function Lt(e){return e?wt.SyntaxKind[e.kind]:"<null>"}function Rt(e,t,n=!1){var r=new Error(t);if(r.ksEmitterUserError=!0,r.ksErrorCode=e,n&&Nt)return Et||(Et=t,At=e),r;throw r}function Mt(){return It.target.isNative&&It.target.nativeType==It.NATIVE_TYPE_VM}function Ut(){return It.target.isNative&&It.target.nativeType!=It.NATIVE_TYPE_VM}function Bt(){return It.target.isNative&&It.target.nativeType==It.NATIVE_TYPE_THUMB}function un(e){return Ut()?It.ir.rtcall("pxt::fromInt",[e]):e}function dn(e){return Ut()?It.ir.rtcall("pxt::fromBool",[e]):e}function jt(e){switch(e){case 0:return It.target.shortPointers?2:4;case 1:return 1;case 3:return 2;case 5:return 4;case 2:return 1;case 4:return 2;case 6:return 4;default:throw It.oops()}}function a(e){switch(e){case 1:case 3:case 5:return!0;case 2:case 4:case 6:return!1;default:throw It.oops()}}function Kt(e){switch(e.kind){case It.SK.TemplateHead:case It.SK.TemplateMiddle:case It.SK.TemplateTail:case It.SK.StringLiteral:case It.SK.NoSubstitutionTemplateLiteral:return!0;default:return!1}}function zt(e){return e&&e.modifiers&&e.modifiers.some(e=>e.kind==It.SK.StaticKeyword)}function pn(e){return e.modifiers&&e.modifiers.some(e=>e.kind==It.SK.ReadonlyKeyword)}function fn(e,t){return!e.explicitDefaults||e.explicitDefaults.indexOf(t)<0?null:e.paramDefl[t]}function s(e){if(!e)return null;switch(e.kind){case It.SK.MethodDeclaration:return"";case It.SK.Constructor:return"new/";case It.SK.GetAccessor:return"get/";case It.SK.SetAccessor:return"set/";default:return null}}function $t(e){return s(e)+Xt(e)}function Jt(e){return null!=s(e)}function qt(e){let t=e,n=!1;for(;;)switch(t=t.parent,t||Rt(9229,Dt("cannot determine parent of {0}",Lt(e))),t.kind){case It.SK.MethodDeclaration:case It.SK.Constructor:case It.SK.GetAccessor:case It.SK.SetAccessor:case It.SK.FunctionDeclaration:case It.SK.ArrowFunction:case It.SK.FunctionExpression:return t;case It.SK.WhileStatement:case It.SK.DoStatement:case It.SK.ForInStatement:case It.SK.ForOfStatement:case It.SK.ForStatement:n=!0;break;case It.SK.SourceFile:return n?Ct:null}}function Vt(e){return"objectFlags"in e}function Ht(e){return!!e&&(e.kind==It.SK.VariableDeclaration||e.kind==It.SK.BindingElement&&Ht(e.parent.parent))}function Gt(e){return!!e&&(Ht(e)&&!qt(e)||e.kind==It.SK.PropertyDeclaration&&zt(e))}function Wt(e){return!!e&&(e.kind==It.SK.Parameter||e.kind==It.SK.BindingElement&&Wt(e.parent.parent))}It.isInPxtModules=Pt,It.pxtInfo=Ot,It.getNodeId=Ft,It.stringKind=Lt,It.isStackMachine=Mt,It.needsNumberConversions=Ut,It.isThumb=Bt,It.sizeOfBitSize=jt,It.isBitSizeSigned=a,It.setCellProps=function(e){var t;e._isLocal=Ht(t=e.def)&&!Gt(t)||Wt(e.def),e._isGlobal=Gt(e.def),e.def.isThisParameter||((t=nn(e.def)).flags&wt.TypeFlags.Void&&It.oops("void-typed variable, "+e.toString()),e.bitSize=function(e){if(!e||!e.type)return 0;if(!vn(nn(e)))return 0;if(e.type.kind!=It.SK.TypeReference)return 0;switch(e.type.typeName.getText()){case"int8":return 1;case"int16":return 3;case"int32":return 5;case"uint8":return 2;case"uint16":return 4;case"uint32":return 6;default:return 0}}(e.def),0!=e.bitSize?e._debugType=(a(e.bitSize)?"int":"uint")+8*jt(e.bitSize):sn(t)?e._debugType="string":t.flags&wt.TypeFlags.NumberLike&&(e._debugType="number")),e.isLocal()&&0!=e.bitSize&&(e.bitSize=0,Rt(9256,Dt("bit sizes are not supported for locals and parameters")))},It.isStatic=zt,It.isReadOnly=pn,It.getExplicitDefault=fn,It.isObjectType=Vt;class ln{constructor(e,t){this.id=e,this.decl=t,this.baseClassInfo=null,this.allfields=[],this.methods={},this.attrs=Yt(t),this.reset()}reset(){this.vtable=null,this.itable=null}get isUsed(){return!!(8&Ot(this.decl).flags)}allMethods(){var e,t=[];for(e of Object.keys(this.methods))for(var n of this.methods[e])t.push(n);return t}usedMethods(){var e,t=[];for(e of Object.keys(this.methods))for(var n of this.methods[e])8&Ot(n).flags&&t.push(n);return t}}It.ClassInfo=ln;let Tt,Ct,Et,Dt=It.assembler.lf,At=0,Nt=0;function Qt(e,t){var n=Ot(t);return null==n.fullName&&(n.fullName=It.getFullName(e,t.symbol)),n.fullName}function i(e){var t=e=>{const t=wt.getSourceFileOfNode(e);return t&&(e=wt.getLeadingCommentRangesOfNode(e,t))?e.map(e=>t.text.slice(e.pos,e.end)).join("\n"):""};return(e=e.kind==It.SK.VariableDeclaration?e.parent.parent:e).symbol&&e.symbol.declarations&&1<e.symbol.declarations.length?e.symbol.declarations.map(t).join("\n"):t(e)}function _n(e){let t="";for(var n of e.declarations)t+=i(n);return It.parseCommentString(t)}function Yt(e){var t,n=e?Ot(e):null;return!n||2&n.flags?It.parseCommentString(""):n.commentAttrs||((t=It.parseCommentString(i(e)))._name=Xt(e),n.commentAttrs=t)}function Xt(e){return e.name&&e.name.kind==It.SK.Identifier?e.name.text:"???"}function Zt(e){return Vt(e)&&e.objectFlags&wt.ObjectFlags.Reference&&e.symbol&&"Array"==e.symbol.name}function en(e){return!!e.isThisType||!!Vt(e)&&!!(e.objectFlags&wt.ObjectFlags.Class||e.symbol&&e.symbol.flags&wt.SymbolFlags.Class)}function tn(e){var t=Vt(t=e)&&t.objectFlags&wt.ObjectFlags.Reference&&t.typeArguments&&t.typeArguments.length?t.target:null;return en(t||e)}function mn(e){return Zt(e)?e.typeArguments[0]:Tt.getIndexTypeOfType(e,wt.IndexKind.Number)}function gn(e){return null===e?It.taggedNull:void 0===e?It.taggedUndefined:!1===e?It.taggedFalse:!0===e?It.taggedTrue:isNaN(e)?It.taggedNaN:null}function nn(e){let t;var n=Ot(e);if(n.typeCache)return n.typeCache;if(!(t=wt.isExpression(e)?Tt.getContextualType(e):t))try{t=Tt.getTypeAtLocation(e)}catch(e){Rt(9203,Dt("Unknown type for expression"))}return t&&(n.typeCache=t)}function rn(e){e=Tt.getSignatureFromDeclaration(e);return!(Tt.getReturnTypeOfSignature(e).flags&wt.TypeFlags.Void)}function o(e){return e&&e.name}function an(t){let e=o(t)?t.name.text:null;if(!e){if(t.kind!=It.SK.Constructor){for(let e=t.parent;e;e=e.parent)if(o(e))return an(e)+".inline";return"inline"}e="constructor"}return function e(t){if(!t)return"";switch(t.kind){case It.SK.ModuleBlock:return e(t.parent);case It.SK.ClassDeclaration:case It.SK.ModuleDeclaration:return e(t.parent)+t.name.text+".";default:return""}}(t.parent)+e}function hn(e){return an(e).replace(/[^\w]+/g,"_")}function yn(e){return hn(e)+"__P"+Ft(e)}It.getNodeFullName=Qt,It.getComments=i,It.parseCommentsOnSymbol=_n,It.parseComments=Yt,It.getName=Xt,It.checkType=function(e){return e},It.taggedSpecial=gn,It.getDeclName=an,It.getFunctionLabel=yn;class xn{constructor(e){this.decl=e,this.capturedVars=[]}get isUsed(){return!!(8&Ot(this.decl).flags)}}function c(e,t,n){return!!(e.flags&t)||function(e){if(!(e.flags&wt.TypeFlags.Union))return r.Unsupported;let t,n=!0;return e.types.forEach(e=>{if(void 0===t)e.flags&wt.TypeFlags.NumberLike?t=r.Number:e.flags&wt.TypeFlags.BooleanLike?t=r.Boolean:e.flags&wt.TypeFlags.StringLike?t=r.String:e.flags&wt.TypeFlags.EnumLike&&(t=r.Enum);else switch(t){case r.Number:n=n&&!!(e.flags&wt.TypeFlags.NumberLike);break;case r.Boolean:n=n&&!!(e.flags&wt.TypeFlags.BooleanLike);break;case r.String:n=n&&!!(e.flags&wt.TypeFlags.StringLike);break;case r.Enum:n=n&&!!(e.flags&wt.TypeFlags.EnumLike)}}),n?t:r.Unsupported}(e)===n}function sn(e){return c(e,wt.TypeFlags.String|wt.TypeFlags.StringLiteral,r.String)}function vn(e){return c(e,wt.TypeFlags.Number|wt.TypeFlags.NumberLiteral,r.Number)}It.FunctionAddInfo=xn,It.compileBinary=function(n,U,y,i){It.compilerHooks.preBinary&&It.compilerHooks.preBinary(n,U,y),It.target=U.target,It.compileOptions=U,It.target.debugMode=!!U.breakpoints;const o=wt.createDiagnosticCollection();Tt=n.getTypeChecker();let s=It.U.cpuUs(),g=[],r=[],A={},T={},ae=null,h=null,a=!1,c=[];if(St++,U.target.isNative){if(!U.extinfo||!U.extinfo.hexinfo)return{diagnostics:[{file:n.getSourceFiles()[0],start:0,length:0,category:It.DiagnosticCategory.Error,code:9043,messageText:Dt("The hex file is not available, please connect to internet and try again.")}],emittedFiles:[],emitSkipped:!0};let e=U.extinfo,t=U.target;if(e&&e.disabledDeps){const It=(U.otherMultiVariants||[]).find(e=>e.extinfo&&!e.extinfo.disabledDeps);It&&(pxt.debug(`using alternative extinfo (due to ${e.disabledDeps})`),e=It.extinfo,t=It.target)}It.hexfile.setupFor(t,e||It.emptyExtInfo()),It.hexfile.setupInlineAssembly(U)}let B,j=new kn;function l(){j.reset(),B=null,y.breakpoints=[{id:0,isDebuggerStmt:!1,fileName:"bogus",start:0,length:0,line:0,column:0}],y.procCallLocations=[]}j.res=y,j.options=U,j.target=U.target,U.computeUsedSymbols&&(y.usedSymbols={},y.usedArguments={});let u=[];if(!U.forceEmit||0==y.diagnostics.length){let e=n.getSourceFiles().slice();const It=e.find(e=>e.fileName===pxt.MAIN_TS),U=(It&&(e=e.filter(e=>e.fileName!==pxt.MAIN_TS)).push(It),e.find(e=>e.fileName===pxt.TUTORIAL_CODE_STOP));U&&(e=e.filter(e=>e.fileName!==pxt.TUTORIAL_CODE_STOP)).push(U),e.forEach(e=>{e.statements.forEach(e=>{u.push(e)})})}let d=n.getSourceFiles().filter(e=>It.Util.endsWith(e.fileName,i))[0],e={kind:It.SK.FunctionDeclaration,parameters:[],name:{text:"<main>",pos:0,end:0},body:{kind:It.SK.Block,statements:u},parent:d,pos:0,end:0};const p=Ot(Ct=e);for(p.flags|=3,V(e),g=[],l(),a=!0,ht(e);function(){for(B=x(e);0<g.length;)ht(g.pop())}(),!function(){a=!1;const e=j.usedClassInfos.length;for(var t of j.usedClassInfos){for(var n of t.allMethods()){const e=Ot(n),i=v(n);8&e.flags?i.virtualParent&&H(i.virtualParent.decl):(i.virtualParent&&i.virtualParent.isUsed||ue(n)||(r=Xt(n),null!=It.U.lookup(j.explicitlyUsedIfaceMembers,r)))&&H(n)}t=Oe(t.decl);t&&H(t)}var r;return a=!0,0==g.length&&e==j.usedClassInfos.length}(););{let e=j.globals.slice(0);e.forEach((e,t)=>e.index=t);const bt=e=>0==e?10:jt(e);e.sort((e,t)=>bt(e.bitSize)-bt(t.bitSize)||e.index-t.index);let t=4*It.numReservedGlobals,n=0;for(var f of e){const e=Mt()?0:f.bitSize;for(var _=jt(e);t&_-1;)t++;n||0!=e||(n=t),f.index=t,t+=_}j.globalsWords=t+3>>2,j.nonPtrGlobals=n?n>>2:j.globalsWords}a=!1;{for(var m of j.usedClassInfos)!function e(n){if(It.assert(n.isUsed,"inf.isUsed"),n.vtable)return n.vtable;let a=n.baseClassInfo?e(n.baseClassInfo).slice(0):[];n.derivedClasses=[],n.baseClassInfo&&n.baseClassInfo.derivedClasses.push(n);for(var s of n.usedMethods()){j.numMethods++;let i=v(s);const o=Yt(s);if(ue(s)&&!o.shim&&(n.toStringMethod=x(s),n.toStringMethod.info.usedAsIface=!0),i.virtualParent){j.numVirtMethods++;let t=$t(s),n=!1,r=x(s);It.U.assert(!!r);for(let e=0;e<a.length;++e)$t(a[e].action)==t&&(a[e]=r,i.virtualIndex=e,n=!0);n||(i.virtualIndex=a.length,a.push(r))}}n.vtable=a,n.itable=[];const r={};for(var i of n.allfields){let e=Xt(i),t=He(n,i,!1);r[e]=!0,n.itable.push({name:e,info:(t.idx+1)*(Mt()?1:4),idx:z(e),proc:null})}for(let e=n;e;e=e.baseClassInfo)for(var t of e.usedMethods()){const a=Xt(t);if(!Yt(t).shim){const c=x(t),l=n.itable.find(e=>e.name==a),u=t.kind==It.SK.SetAccessor,d=t.kind==It.SK.GetAccessor;l?(u&&!l.setProc?l.setProc=c:d&&!l.proc&&(l.proc=c),l.info=0):n.itable.push({name:a,info:0,idx:z(a),proc:u?null:c,setProc:u?c:null}),c.info.usedAsIface=!0}}return n.vtable}(m);var k,S,N,w,t;(t=Object.keys(j.ifaceMemberMap)).sort(It.U.strcmp),t.unshift(""),j.emitString(""),j.ifaceMembers=t,j.ifaceMemberMap={};let e=0;for(k of t)j.ifaceMemberMap[k]=e++;for(S of j.usedClassInfos)for(var I of S.itable)I.idx=z(I.name);for(N of j.usedClassInfos)N.lastSubtypeNo=void 0,N.classNo=void 0;let n=pxt.BuiltInType.User0;const xt=e=>{It.U.assert(!e.classNo),e.classNo=n++;for(var t of e.derivedClasses)t.isUsed&&xt(t);e.lastSubtypeNo=n-1};for(w of j.usedClassInfos){let e=w;for(;e.baseClassInfo;)e=e.baseClassInfo;e.classNo||xt(e)}}var P,t=It.U.cpuUs();y.times.pass0=t-s;let O=o.getDiagnostics();l(),a=!1,j.finalPass=!0,D(e),It.U.assert(0==g.length),y.configData=[];for(P of Object.keys(T))T["!"+P]||y.configData.push({name:P.replace(/^\!/,""),key:T[P].key,value:T[P].value});y.configData.sort((e,t)=>e.key-t.key);var F=It.U.cpuUs();return y.times.pass1=F-t,mt(e,function(){if(!U.noEmit){j.writeFile=(e,t)=>{y.outfiles[e]=t};for(var e of j.procs)e.cachedJS&&!e.inlineBody||e.resolve();It.target.isNative&&(j.procs=j.procs.filter(e=>!(e.inlineBody&&!e.info.usedAsIface&&!e.info.usedAsValue))),U.target.isNative?(U.extinfo.yotta&&j.writeFile("yotta.json",JSON.stringify(U.extinfo.yotta,null,2)),U.extinfo.platformio&&j.writeFile("platformio.json",JSON.stringify(U.extinfo.platformio,null,2)),U.target.nativeType==It.NATIVE_TYPE_VM?It.vmEmit(j,U):It.processorEmit(j,U,y)):It.jsEmit(j)}}),y.times.passFinal=It.U.cpuUs()-F,U.ast&&(t=It.U.cpuUs(),It.annotate(n,i,It.target),y.times.passAnnotate=It.U.cpuUs()-t),It.compileOptions=null,0==O.length&&(O=o.getDiagnostics()),It.compilerHooks.postBinary&&It.compilerHooks.postBinary(n,U,y),{diagnostics:O,emittedFiles:void 0,emitSkipped:!!U.noEmit};function L(e,t,n,r,i,a){var s;s=It.DiagnosticCategory.Error,e=e,t=t,n=n,r=r,i=i,a=a,o.add(wt.createDiagnosticForNode(e,{code:t,message:n,key:n.replace(/^[a-zA-Z]+/g,"_"),category:s},r,i,a))}function K(e,t,n=9202){if(t)return Rt(n,t);e||Rt(n,Dt("Sorry, this language feature is not supported"));let r=Lt(e),i=!1,a=null;switch(e.kind){case wt.SyntaxKind.ForInStatement:r=Dt("for in loops");break;case wt.SyntaxKind.ForOfStatement:r=Dt("for of loops"),i=!0;break;case wt.SyntaxKind.PropertyAccessExpression:r=Dt("property access");break;case wt.SyntaxKind.DeleteExpression:r=Dt("delete");break;case wt.SyntaxKind.GetAccessor:r=Dt("get accessor method"),i=!0;break;case wt.SyntaxKind.SetAccessor:r=Dt("set accessor method"),i=!0;break;case wt.SyntaxKind.TaggedTemplateExpression:r=Dt("tagged templates");break;case wt.SyntaxKind.SpreadElement:r=Dt("spread");break;case wt.SyntaxKind.TryStatement:case wt.SyntaxKind.CatchClause:case wt.SyntaxKind.FinallyKeyword:case wt.SyntaxKind.ThrowStatement:r=Dt("throwing and catching exceptions");break;case wt.SyntaxKind.ClassExpression:r=Dt("class expressions"),a=Dt("declare a class as class C {} not let C = class {}")}let s="";return s=i?Dt("{0} not currently supported",r):Dt("{0} not supported",wt.SyntaxKind[e.kind]),a&&(s+=" - "+a),Rt(n,s)}function se(e){return Ft(e)+""}function v(e){var t=Ot(e);return t.functionInfo||(t.functionInfo=new xn(e)),t.functionInfo}function b(e){e=Ot(e);return e.variableInfo||(e.variableInfo={}),e.variableInfo}function R(t,e=!1){var n=b(t),r=(e&&(n.written=!0),qt(t));if(null!=r&&r!=B.action){let e=B.action;for(;e&&e!=r;){var i=v(e);i.capturedVars.indexOf(t)<0&&i.capturedVars.push(t),e=qt(e)}n.captured=!0}}function M(e){var t=e(j);return a&&j.recordAction(h,e),t}function z(n,r=!1){return M(e=>{r&&!It.U.lookup(e.explicitlyUsedIfaceMembers,n)&&(It.U.assert(!e.finalPass),e.explicitlyUsedIfaceMembers[n]=!0);let t=It.U.lookup(e.ifaceMemberMap,n);return null==t&&(It.U.assert(!e.finalPass),t=e.ifaceMemberMap[n]=-1,e.emitString(n)),t})}function oe(e){e.flags&wt.TypeFlags.Void&&Rt(9203,Dt("void-typed variables not supported"))}function ce(e){var t=Ot(e);oe(nn(e)),t.cell||(t.cell=new It.ir.Cell(null,e,b(e))),j.globals.indexOf(t.cell)<0&&j.globals.push(t.cell)}function le(t){var e;if(Gt(t))return V(t),(e=Ot(t)).cell||ce(t),e.cell;{let e=B.localIndex(t);return e||(j.finalPass?Rt(9204,Dt("cannot locate identifer")):e=B.mkLocal(t,b(t))),e}}function ue(e){return e.kind==It.SK.MethodDeclaration&&0==e.parameters.length&&"toString"==Xt(e)}function de(e){if(32&e.flags||16&e.flags&&It.compileOptions.skipPxtModulesEmit)throw y.needsFullRecompile=!0,Rt(9200,Dt("full recompile required"))}function $(e,t=null){const n=Ot(t=t||e.symbol.valueDeclaration);if(!n.classInfo){const e=hn(t)+"__C"+Ft(t),f=new ln(e,t),_=((n.classInfo=f).attrs.autoCreate&&(A[f.attrs.autoCreate]=!0),f.baseClassInfo=function(e){if(e.heritageClauses)for(var t of e.heritageClauses)switch(t.token){case It.SK.ExtendsKeyword:if(!t.types||1!=t.types.length)throw Rt(9228,Dt("invalid extends clause"));var n=nn(t.types[0]);if(n&&en(n))return Tt.getTypeAtLocation(e),$(n);throw Rt(9228,Dt("cannot inherit from this type"));case It.SK.ImplementsKeyword:break;default:throw Rt(9228,Dt("invalid heritage clause"))}return null}(t),f.baseClassInfo?It.U.toDictionary(f.baseClassInfo.allfields,e=>Xt(e)):{}),m=(e,t=f.baseClassInfo)=>t?t.methods[e]||m(e,t.baseClassInfo):null;for(var r of t.members)if(r.kind==It.SK.PropertyDeclaration){var i=r;zt(i)||f.allfields.push(i);const n=Xt(i);(m(n)||It.U.lookup(_,n))&&L(i,9279,Dt("redefinition of '{0}' as field",n))}else if(r.kind==It.SK.Constructor)for(var a of r.parameters)on(a)&&f.allfields.push(a);else if(Jt(r)){i=v(r);i.parentClassInfo=f,i.isUsed&&Q(f);const n=Xt(r);f.methods.hasOwnProperty(n)||(f.methods[n]=[]),f.methods[n].push(r);r=It.U.lookup(_,n);if(r){const e=Ot(r);64&e.flags||(e.flags|=64,8&e.flags&&z(n,!0),de(e))}}if(f.baseClassInfo){f.allfields=f.baseClassInfo.allfields.concat(f.allfields);{var s=f;for(var o of s.allMethods()){let t=null;var c,l,u=$t(o),d=Xt(o);for(let e=s.baseClassInfo;e;e=e.baseClassInfo)if(e.methods.hasOwnProperty(d))for(var p of e.methods[d])$t(p)==u&&(t=p);t&&(c=v(o),l=v(t),t.parameters.length!=o.parameters.length&&L(o,9255,Dt("the overriding method is currently required to have the same number of arguments as the base one")),(c.virtualParent=l).virtualParent||(de(Ot(t)),l.virtualParent=l),It.assert(l.virtualParent==l,"pinf.virtualParent == pinf"))}}}}return n.classInfo}function pe(e){return!!e&&!Kt(e)&&(e.kind!==It.SK.ArrayLiteralExpression?null==Z(e):e.elements.some(pe))}function J(e){var t=X(e);return t?ee(t.val):Gt(e)&&Yt(e).shim?Ae(e,e,[]):(t=le(e),R(e),t.load())}function fe(e){Yt(e).shim&&Rt(9207,Dt("built-in functions cannot be yet used as values; did you forget ()?"));var t=v(e);return _e(t),t.location?t.location.load():(It.assert(!j.finalPass||0==t.capturedVars.length,"!bin.finalPass || info.capturedVars.length == 0"),t.usedAsValue=!0,H(e),Le(e))}function _e(e){void 0===e.usedBeforeDecl?e.usedBeforeDecl=!0:j.finalPass&&e.usedBeforeDecl&&e.capturedVars.length&&qt(e.decl)&&!e.alreadyEmitted&&Rt(9278,Dt("function referenced before all variables it uses are defined"))}function me(e){var t=G(e),n=X(t);if(n)return ee(n.val);if(t&&(Ht(t)||Wt(t)))return J(t);if(t&&t.kind==It.SK.FunctionDeclaration)return fe(t);if("undefined"==e.text)return ee(void 0);throw K(e,Dt("Unknown or undeclared identifier"),9235)}function ge(e){e=function e(t){return t?Jt(t)?t:e(t.parent):null}(e),e||Rt(9208,Dt("'this' used outside of a method")),e=v(e);return e.thisParameter||It.oops("no this"),J(e.thisParameter)}function he(e){let t;var n,r;return(t=""==e?It.ir.rtcall("String_::mkEmpty",[]):(r=e,n=M(e=>e.emitString(r)),It.ir.ptrlit(n,JSON.stringify(e)))).isStringLiteral=!0,t}function q(e){var t=Ee(e),n=ie(e);return It.target.isNative||Kt(e)?Y(n,t):Y(It.ir.rtcallMask("String_::stringConv",1,1,[n]),!0)}function ye(e){let r=0,t=(e,t)=>{return Kt(n=t)&&""==n.text?e:(r++,ne("String_::concat",[Y(e,!0),q(t)],null));var n},n=Ot(q(e.head)).valueOverride;for(var i of e.templateSpans)n=t(n,i.expression),n=t(n,i.literal);return 0==r?ne("String_::concat",[Y(n,!0),Y(It.ir.rtcall("String_::mkEmpty",[]),!1)],null):n}function ve(e){e=wt.getDeclarationOfKind(e.symbol,It.SK.GetAccessor);if(null==e)throw Rt(9281,Dt("setter currently requires a corresponding getter"));return e}function be(e){if(e.kind==It.SK.Parameter||e.kind==It.SK.PropertyDeclaration)return e=Ot(e),It.target.switches.slowFields||64&e.flags}function xe(e,t=null){let n=nn(e.expression),r={callingConvention:0,paramDefl:{}},i=null,a=!1;if(!t&&sn(n)?i="String_::charAt":Zt(n)?i=t?"Array_::setAt":"Array_::getAt":Vt(s=n)&&(s.objectFlags&wt.ObjectFlags.Interface||s.objectFlags&wt.ObjectFlags.Anonymous)&&(r=_n(n.symbol),i=t?r.indexerSet:r.indexerGet),!i&&n.flags&(wt.TypeFlags.Any|wt.TypeFlags.StructuredOrTypeVariable)&&(i=t?"pxtrt::mapSetGeneric":"pxtrt::mapGetGeneric",a=!0),i){if(a||rt(e.argumentExpression))return ne(i,[e.expression,e.argumentExpression],r,t?[t]:[]);throw K(e,Dt("non-numeric indexer on {0}",i),9238)}var s;throw K(e,Dt("unsupported indexer"),9239)}function ke(e){var t=!(!Gt(t=e)||pe(t.initializer)&&!Yt(t).whenUsed)||(t=e).kind==It.SK.FunctionDeclaration&&!qt(t)||Jt(t)||wt.isClassDeclaration(e);return!It.target.switches.noTreeShake&&(!U.testMode||!t||Pt(e))&&t}function Se(e){return!ke(e)||(e=Ot(e),j.finalPass?8&e.flags:e==h)}function V(e){var t;e&&((t=Ot(e)).classInfo?Q(t.classInfo):(U.computeUsedSymbols&&e.symbol&&(y.usedSymbols[Qt(Tt,e)]=null),Mt()&&Jt(e)&&z(Xt(e),!0),Te(e),8&t.flags||(t.flags|=8,ke(e)&&g.push(e))))}function H(e){V(e)}function Te(e){a&&(h?h.usedNodes[se(e)]=e:It.U.oops("no using ctx for: "+Xt(e)))}function Ce(e){if(!e)return null;var t=Ot(e);if(void 0!==t.declCache)return t.declCache;let n,r=Tt.getSymbolAtLocation(e);return n=r&&!(n=r.valueDeclaration)&&r.declarations&&(t=r.declarations[0])&&t.kind==wt.SyntaxKind.ImportEqualsDeclaration&&(r=Tt.getSymbolAtLocation(t.moduleReference))?r.valueDeclaration:n}function G(e){let t=Ce(e);return V(t),!t&&e&&e.kind==It.SK.PropertyAccessExpression&&(e=e,Ot(t={kind:It.SK.PropertySignature,symbol:{isBogusSymbol:!0,name:e.name.getText()},name:e.name}).flags|=2),p.declCache=t||null,t}function Ee(e){return e.kind==It.SK.NullKeyword||e.kind==It.SK.NumericLiteral?!!e.isRefOverride:!Kt(e)}function De(e){It.assert(e.length<=8,"args.length <= 8");let n=0;return e.forEach((e,t)=>{Ee(e)&&(n|=1<<t)}),n}function Ae(e,t,n){let r=Yt(e),i=!(nn(t).flags&wt.TypeFlags.Void),a=r.shim;if(0<=a.indexOf("(")){var s=/(.*)\((.*)\)$/.exec(a);if(s){n.length&&It.U.userError("no arguments expected");var o=[];if(s[2].replace(/\s/g,"")){for(var c of s[2].split(/,/)){let e=parseInt(c);isNaN(e)&&null==(e=null==(e=tt(t,c))?function(e,t){let n=et(e,t,"userconfig");return n=null==n?et(e,t,"config"):n}(t,c):e)&&It.U.userError("invalid argument: "+c+" in "+a),o.push(It.ir.numlit(e))}4<o.length&&It.U.userError("too many args")}return a=s[1],U.target.isNative&&It.hexfile.validateShim(an(e),a,r,!0,o.map(e=>!0)),It.ir.rtcallMask(a,0,r.callingConvention,o)}}return"TD_NOOP"==a?(It.assert(!i,"!hasRet"),It.target.switches.profile&&"perfCounter"==r.shimArgument&&(n[0]&&n[0].kind==It.SK.StringLiteral&&(B.perfCounterName=n[0].text),B.perfCounterName||(B.perfCounterName=B.getFullName())),ee(void 0)):"TD_ID"==a||"ENUM_GET"===a?(It.assert(1==n.length,"args.length == 1"),ie(n[0])):(U.target.shimRenames&&It.U.lookup(U.target.shimRenames,a)&&(a=U.target.shimRenames[a]),U.target.isNative&&It.hexfile.validateShim(an(e),a,r,i,n.map(rt)),ne(a,n,r))}function Ne(e,r,i){if(e){var t=e.getParameters(),n=r.length;t.length>r.length&&t.slice(r.length).forEach(n=>{if(n.valueDeclaration&&n.valueDeclaration.kind==It.SK.Parameter){n=n.valueDeclaration;if(n.initializer)!function(e){switch(e.kind){case It.SK.UndefinedKeyword:case It.SK.NullKeyword:case It.SK.TrueKeyword:case It.SK.FalseKeyword:case It.SK.NumericLiteral:return 1;case It.SK.PropertyAccessExpression:return ie(e).exprKind==kt.NumberLiteral;default:return}}(n.initializer)&&Rt(9212,Dt("only numbers, null, true and false supported as default arguments")),r.push(n.initializer);else{let e=fn(i,Xt(n)),t=e?ee(parseInt(e)):null;null==t&&(t=ee(void 0)),r.push(Y(t))}}else Rt(9213,Dt("unsupported default argument (shouldn't happen)"))});for(let e=0;e<n;e++){var a=t[e];a&&a.valueDeclaration&&a.valueDeclaration.kind==It.SK.Parameter&&(r[e],a.valueDeclaration)}i.imageLiteral&&(Kt(r[0])||Rt(9214,Dt("Only image literals (string literals) supported here; {0}",Lt(r[0]))),r[0]=function(t){t=t||"0 0 0 0 0\n0 0 0 0 0\n0 0 0 0 0\n0 0 0 0 0\n0 0 0 0 0\n";let n=0,r=0,i=0,a="",s=0;t+="\n";for(let e=0;e<t.length;++e)switch(t[e]){case".":case"_":case"0":a+="0,",n++,s++;break;case"#":case"*":case"1":a+="255,",n++,s++;break;case"\t":case"\r":case" ":break;case"\n":n&&(0==r?r=n:n!=r&&Rt(9205,Dt("lines in image literal have to have the same width (got {0} and then {1} pixels)",r,n)),n=0,i++);break;default:Rt(9206,Dt("Only 0 . _ (off) and 1 # * (on) are allowed in image literals"))}var e="_img"+j.lblNo++,o=(s%2!=0&&(a+="0"),j.otherLiterals.push(`
.balign 4
${e}: .short 0xffff
        .short ${r}, ${i}
        .byte ${a}
`),"new pxsim.Image("+r+", ["+a+"])");return{kind:It.SK.NumericLiteral,imageLiteral:e,jsLit:o}}(r[0].text))}}function W(n,e,r,t,i=null,a=null){var s;i=i||G(e);let o=!1,c=!1,l=!1;var u=n===e;if(i)switch(i.kind){case It.SK.PropertySignature:case It.SK.PropertyAssignment:case It.SK.PropertyDeclaration:case It.SK.MethodSignature:o=!0;break;case It.SK.Parameter:on(i)&&(o=!0);break;case It.SK.GetAccessor:case It.SK.SetAccessor:case It.SK.MethodDeclaration:o=!0,c=!0,l=zt(i);break;case It.SK.FunctionDeclaration:l=!0;break;case It.SK.ModuleDeclaration:break;default:i=null}else e.kind==It.SK.PropertyAccessExpression&&(o=!0);It.target.switches.slowMethods&&(c=!1);var d=Yt(i);let p=r.slice(0);if((o=o&&zt(i)?!1:o)&&!a&&e.kind==It.SK.PropertyAccessExpression&&(a=e.expression),y.usedArguments&&d.trackArgs){let t=a?[a].concat(p):p,e=d.trackArgs.map(e=>t[e]).map(e=>{var t=G(e);return!t||t.kind!=It.SK.EnumMember&&t.kind!=It.SK.VariableDeclaration?e&&e.kind==It.SK.StringLiteral?e.text:"*":Qt(Tt,t)}).join(","),n=Qt(Tt,i),r=y.usedArguments[n];(r=r||(y.usedArguments[n]=[])).indexOf(e)<0&&r.push(e)}function f(){var e=Pe(i,n,p.map(e=>ie(e))),t=e.data;return p[0]&&t.proc&&t.proc.classInfo&&(t.isThis=p[0].kind==It.SK.ThisKeyword),e}if(Ne(t,p,d),l&&!v(i).location)return d.shim&&!Ke(i)?Ae(i,n,p):(H(i),f());if(e.kind==It.SK.SuperKeyword){let t=B.classInfo.baseClassInfo.ctor;for(let e=B.classInfo.baseClassInfo;e&&!t;e=e.baseClassInfo)t=e.ctor;if(!t&&j.finalPass)throw Rt(9280,Dt("super() call requires an explicit constructor in base class"));r=p.map(e=>ie(e));return r.unshift(ge(e)),we(t,n,r)}if(o){if(It.U.assert(!zt(i)),a?p.unshift(a):K(n,Dt("strange method call"),9241),!i){It.U.assert(e.kind==It.SK.PropertyAccessExpression);const wt=e.name.text;return Ie(p.map(e=>ie(e)),{ifaceIndex:z(wt,!0),callLocationIndex:vt(n),noArgs:u})}var _=v(i);if(_.parentClassInfo&&Q(_.parentClassInfo),H(i),a.kind==It.SK.SuperKeyword)return f();const r=!!_.virtualParent,t=!!Mt()||!!It.target.switches.slowMethods;if(r&&!t)return i.kind==It.SK.MethodDeclaration?It.U.assert(!u):i.kind==It.SK.GetAccessor||i.kind==It.SK.SetAccessor?It.U.assert(u):It.U.assert(!1),It.U.assert(!j.finalPass||null!=_.virtualIndex,"!bin.finalPass || info.virtualIndex != null"),Ie(p.map(e=>ie(e)),{classInfo:_.parentClassInfo,virtualIndex:_.virtualIndex,noArgs:u,isThis:p[0].kind==It.SK.ThisKeyword});if(d.shim&&!Ke(i))return Ae(i,n,p);if(d.helper){let e,t=Tt.getSymbolsInScope(n,wt.SymbolFlags.Module);for(var m of t)if("helpers"==m.name)for(var g of m.declarations||[m.valueDeclaration])if(g.kind==It.SK.ModuleDeclaration)for(var h of g.body.statements)(null==(s=h.symbol)?void 0:s.name)==d.helper&&(e=h);return e||Rt(9215,Dt("helpers.{0} not found",d.helper)),e.kind!=It.SK.FunctionDeclaration&&Rt(9216,Dt("helpers.{0} isn't a function",d.helper)),H(i=e),f()}return r||It.target.switches.slowMethods||!c?Ie(p.map(e=>ie(e)),{ifaceIndex:z(Xt(i),!0),isSet:u&&2==p.length,callLocationIndex:vt(n),noArgs:u}):(It.U.assert(i.kind!=It.SK.MethodSignature),f())}return i&&i.kind==It.SK.ModuleDeclaration&&("String"==Xt(i)?Rt(9219,Dt('to convert X to string use: X + ""')):Rt(9220,Dt("namespaces cannot be called directly"))),p.unshift(e),It.U.assert(!u),Ie(p.map(e=>ie(e)),{virtualIndex:-1,callLocationIndex:vt(n),noArgs:u})}function we(e,t,n){It.U.assert(!j.finalPass||!!e);e={proc:e,callLocationIndex:vt(t),virtualIndex:null,ifaceIndex:null};return It.ir.op(kt.ProcCall,n,e)}function Ie(e,t){return It.ir.op(kt.ProcCall,e,t)}function x(e){return Ot(e).proc}function Pe(e,t,n){var r=x(e);return e.kind==It.SK.FunctionDeclaration&&_e(v(e)),It.assert(!!r||!j.finalPass,"!!proc || !bin.finalPass"),we(r,t,n)}function Oe(e){return e.members.filter(e=>e.kind==It.SK.Constructor)[0]}function Q(e){Te(e.decl),e.isUsed||(Ot(e.decl).flags|=8,e.baseClassInfo&&Q(e.baseClassInfo),j.usedClassInfos.push(e))}function Fe(e){var t,n=e.parameters.slice(0);return!zt(e)&&Jt(e)&&((t=v(e)).thisParameter||(t.thisParameter={kind:It.SK.Parameter,name:{text:"this"},isThisParameter:!0,parent:e}),n.unshift(t.thisParameter)),n}function Le(e){e=yn(e);return It.ir.ptrlit(e+"_Lit",e)}function Re(){const e=c;if(0<e.length){c=[];for(var t of e){const e=B;try{Ue(t)}finally{B=e}}}}function Me(e){j.finalPass&&e.functionsToDefine&&It.U.pushRange(c,e.functionsToDefine)}function Ue(n){const e=v(n);let r=null;if(j.finalPass){if(e.alreadyEmitted)return It.U.assert(e.usedBeforeDecl),null;e.alreadyEmitted=!0}let t=n.kind==It.SK.ArrowFunction||n.kind==It.SK.FunctionExpression,i=e.capturedVars.slice(0),a=i.map((e,t)=>{t=new It.ir.Cell(t,e,b(e));return t.iscap=!0,t});void 0===e.usedBeforeDecl&&(e.usedBeforeDecl=!1),0<i.length?(It.assert(null!=qt(n),"getEnclosingFunction(node) != null)"),r=It.ir.shared(It.ir.rtcall("pxt::mkAction",[It.ir.numlit(i.length),Le(n)])),e.usedAsValue=!0,i.forEach((e,t)=>{var n=B.localIndex(e),e=(n||Rt(9223,Dt("cannot find captured value: {0}",Tt.symbolToString(e.symbol))),n.loadCore());B.emitExpr(It.ir.rtcall("pxtrt::stclo",[r,It.ir.numlit(t),e]))}),n.kind==It.SK.FunctionDeclaration&&(e.location=B.mkLocal(n,b(n)),B.emitExpr(e.location.storeDirect(r)),r=null)):t&&(r=Le(n),e.usedAsValue=!0),It.assert(!!r==t,"!!lit == isExpression");var s=x(n);if(s)(B=s).reset();else{It.assert(!j.finalPass,"!bin.finalPass");const r=Ot(n),t=new It.ir.Procedure;t.isRoot=!!(1&r.flags),t.action=n,t.info=e,(r.proc=t).usingCtx=h,B=t,M(e=>e.addProc(t))}B.captured=a;var o,c,l=[];if(n.parent.kind==It.SK.ClassDeclaration){s=$(null,n.parent);if(B.classInfo?It.assert(B.classInfo==s,"proc.classInfo == classInfo"):B.classInfo=s,n.kind==It.SK.Constructor){if(s.baseClassInfo)for(var u of s.baseClassInfo.decl.members)u.kind==It.SK.Constructor&&H(u);s.ctor?It.assert(s.ctor==B,"classInfo.ctor == proc"):s.ctor=B;for(var d of s.allfields)d.kind!=It.SK.PropertyDeclaration||zt(d)||(d=d).initializer&&l.push(d)}}const p=[],f=[];B.args=Fe(n).map((e,t)=>{e.name.kind===It.SK.ObjectBindingPattern&&p.push(e),n.kind==It.SK.Constructor&&on(e)&&f.push(e);t=new It.ir.Cell(t,e,b(e));return Me(t.info),t.isarg=!0,t}),B.args.forEach(e=>{var t;e.isByRefLocal()&&(t=It.ir.shared(It.ir.rtcall("pxtrt::mklocRef",[])),B.emitExpr(It.ir.rtcall("pxtrt::stlocRef",[t,e.loadCore()],1)),B.emitExpr(e.storeDirect(t)))}),p.forEach(e=>_t(e));for(o of f){var _=He(B.classInfo,Ge(B.classInfo,Xt(o)),!1),_=It.ir.op(kt.FieldAccess,[J(e.thisParameter)],_);B.emitExpr(It.ir.op(kt.Store,[_,J(o)]))}for(c of l){var m=He(B.classInfo,Ge(B.classInfo,Xt(c)),!1),m=It.ir.op(kt.FieldAccess,[J(e.thisParameter)],m);B.emitExpr(It.ir.op(kt.Store,[m,ie(c.initializer)]))}if(Re(),n.body.kind==It.SK.Block){if(D(n.body),rn(B.action)){const e=B.body[B.body.length-1];e&&e.stmtKind==It.ir.SK.Jmp&&e.jmpMode==It.ir.JmpMode.Always||B.emitJmp(E(n).ret,ee(void 0),It.ir.JmpMode.Always)}}else{s=ie(n.body);B.emitJmp(E(n).ret,s,It.ir.JmpMode.Always)}B.emitLblDirect(E(n).ret),B.stackEmpty();s=B.mkLabel("final");if(rn(B.action)?B.emitJmp(s):B.emitJmp(s,ee(void 0)),B.emitLbl(s),e.capturedVars.length&&e.usedBeforeDecl&&n.kind==It.SK.FunctionDeclaration&&!j.finalPass){e.capturedVars.sort((e,t)=>t.pos-e.pos);const It=b(e.capturedVars[0]);It.functionsToDefine||(It.functionsToDefine=[]),It.functionsToDefine.push(n)}return It.assert(!j.finalPass||0==g.length,"!bin.finalPass || usedWorkList.length == 0"),r}function Be(e){e=It.ir.shared(e);return B.emitExpr(e),e}function je(){return Be(It.ir.op(kt.JmpValue,[]))}function Ke(e){return!U.target.isNative&&e.body&&(e.body.kind!=It.SK.Block||0<e.body.statements.length)}function ze(n){if(Se(n)&&!(32&Ot(n).flags)){var e=Yt(n);if(null!=e.shim){if("@"==e.shim[0])return;if(U.target.isNative&&It.hexfile.validateShim(an(n),e.shim,e,rn(n),Fe(n).map(e=>cn(nn(e)))),!Ke(n))return}if(!wt.isInAmbientContext(n)&&n.body){let e=null,t=B;try{e=Ue(n)}finally{B=t}return e}}}function $e(){}function Je(e){e.needsIRCache=!0,r.push(e)}function qe(e,t=null){let n=r.length;return e.kind!=It.SK.PropertyAccessExpression&&e.kind!=It.SK.ElementAccessExpression||Je(e.expression),t&&Je(t),r.length==n?$e:()=>{for(let e=n;e<r.length;++e)r[e].cachedIR=null,r[e].needsIRCache=!1;r.splice(n,r.length-n)}}function Y(e,t=!1){t={kind:It.SK.NullKeyword,isRefOverride:t};return Ot(t).valueOverride=e,t}function Ve(e,t,n,r=null){var i=qe(e),r=r?ie(r):ee(1),a=It.ir.shared(ie(e)),t=It.ir.shared(Ye(t,a,r));return We(e,Y(t,!0)),i(),n?a:t}function He(e,t,n=!0){zt(t)&&It.U.oops("fieldIndex on static field: "+Xt(t));var r=Yt(t),i=e.allfields.indexOf(t);return i<0&&j.finalPass&&It.U.oops("missing field"),{idx:i,name:Xt(t),isRef:!0,shimName:r.shim,classInfo:e,needsCheck:n}}function Ge(e,t){e=e.allfields.filter(e=>e.name.text==t)[0];return e||Rt(9224,Dt("field {0} not found",t)),e}function We(e,t){var n=G(e),r=Gt(n);if(e.kind==It.SK.Identifier||r)n&&(r||Ht(n)||Wt(n))?(r=le(n),R(n,!0),B.emitExpr(r.storeByRef(ie(t)))):K(e,Dt("bad target identifier"),9248);else if(e.kind==It.SK.PropertyAccessExpression){n=G(e);!n||n.kind!=It.SK.GetAccessor&&n.kind!=It.SK.SetAccessor?n&&(n.kind==It.SK.PropertySignature||n.kind==It.SK.PropertyAssignment||be(n))?B.emitExpr(W(e,e,[t],null,n)):(r=ie(e),B.emitExpr(It.ir.op(kt.Store,[r,ie(t)]))):(ve(n),(n=wt.getDeclarationOfKind(n.symbol,It.SK.SetAccessor))||K(e,Dt("setter not available"),9253),B.emitExpr(W(e,e,[t],null,n)))}else if(e.kind==It.SK.ElementAccessExpression)B.emitExpr(xe(e,t));else if(e.kind==It.SK.ArrayLiteralExpression)if(t.kind==It.SK.ArrayLiteralExpression){const wt=t.elements.map(e=>{e=It.ir.shared(ie(e));return B.emitExpr(e),e});e.elements.forEach((e,t)=>{We(e,Y(wt[t]))})}else{const wt=It.ir.shared(ie(t));e.elements.forEach((e,t)=>{We(e,Y(te("Array_::getAt",[wt,It.ir.numlit(t)])))})}else K(e,Dt("bad assignment target"),9249)}function Qe(e){if(Bt())switch(e){case"numops::adds":case"numops::subs":case"numops::eors":case"numops::ands":case"numops::orrs":return"@nomask@"+e}return Mt()&&"pxt::switch_eq"===e?"numops::eq":e}function Ye(e,t,n){return te(Qe(e),[t,n])}function Xe(e,t){if(t){var n=t.val;switch(function e(t){if(t.kind==It.SK.Identifier)return t.text;if(t.kind==It.SK.PropertyAccessExpression){const It=t,n=e(It.expression);if(n)return n+"."+It.name.text}return null}(e)){case"Math.floor":return{val:Math.floor(n)};case"Math.ceil":return{val:Math.ceil(n)};case"Math.round":return{val:Math.round(n)}}}return null}function X(e){if(!e)return null;var t=Ot(e);if(void 0===t.constantFolded)if(Ht(e)&&e.parent.flags&wt.NodeFlags.Const){const wt=e;wt.initializer&&(t.constantFolded=Z(wt.initializer))}else if(e.kind==It.SK.EnumMember){const wt=e,n=function(e){let t=Yt(e).enumval;if(!t){e=Tt.getConstantValue(e);if(null==e)return null;t=e+""}return/^[+-]?\d+$/.test(t)||/^0x[A-Fa-f\d]{2,8}$/.test(t)?t:(It.U.userError("enumval only support number literals"),"0")}(wt);if(null==n)t.constantFolded=Z(wt.initializer);else{const wt=parseInt(n);isNaN(wt)||(t.constantFolded={val:wt})}}else if(e.kind==It.SK.PropertyDeclaration&&zt(e)&&pn(e)){const wt=e;t.constantFolded=Z(wt.initializer)}return t.constantFolded}function Z(e){var t;return e?(void 0===(t=Ot(e)).constantFolded&&(t.constantFolded=null,e=function(e){if(!e)return null;switch(e.kind){case It.SK.PrefixUnaryExpression:var t=e,n=Z(t.operand),t=t.operator;if(!n)return null;var r=n.val;switch(t){case It.SK.PlusToken:return{val:+r};case It.SK.MinusToken:return{val:-r};case It.SK.TildeToken:return{val:~r};case It.SK.ExclamationToken:return{val:!r};default:return null}return;case It.SK.BinaryExpression:n=e,t=Z(n.left);if(t){var i=Z(n.right);if(i){var a=n.operatorToken.kind;if(!t||!i)return null;var s=t.val,o=i.val;switch(a){case It.SK.PlusToken:return{val:s+o};case It.SK.MinusToken:return{val:s-o};case It.SK.SlashToken:return{val:s/o};case It.SK.PercentToken:return{val:s%o};case It.SK.AsteriskToken:return{val:s*o};case It.SK.AsteriskAsteriskToken:return{val:s**o};case It.SK.AmpersandToken:return{val:s&o};case It.SK.BarToken:return{val:s|o};case It.SK.CaretToken:return{val:s^o};case It.SK.LessThanLessThanToken:return{val:s<<o};case It.SK.GreaterThanGreaterThanToken:return{val:s>>o};case It.SK.GreaterThanGreaterThanGreaterThanToken:return{val:s>>>o};case It.SK.LessThanEqualsToken:return{val:s<=o};case It.SK.LessThanToken:return{val:s<o};case It.SK.GreaterThanEqualsToken:return{val:o<=s};case It.SK.GreaterThanToken:return{val:o<s};case It.SK.EqualsEqualsToken:return{val:s==o};case It.SK.EqualsEqualsEqualsToken:return{val:s===o};case It.SK.ExclamationEqualsEqualsToken:return{val:s!==o};case It.SK.ExclamationEqualsToken:return{val:s!=o};case It.SK.BarBarToken:return{val:s||o};case It.SK.AmpersandAmpersandToken:return{val:s&&o};default:return null}return}else;}return null;case It.SK.NumericLiteral:{const It=parseFloat(e.text);return isNaN(It)?null:{val:It}}case It.SK.NullKeyword:return{val:null};case It.SK.TrueKeyword:return{val:!0};case It.SK.FalseKeyword:return{val:!1};case It.SK.UndefinedKeyword:return{val:void 0};case It.SK.CallExpression:{const It=e;return 1==It.arguments.length?Xe(It.expression,Z(It.arguments[0])):null}case It.SK.PropertyAccessExpression:case It.SK.Identifier:return X(Ce(e));case It.SK.AsExpression:return Z(e.expression);default:return null}}(e),t.constantFolded=e),t.constantFolded):null}function Ze(e){let t=It.target.switches.boxDebug,n=null;if(t)try{It.target.switches.boxDebug=!1,n=ie(e)}finally{It.target.switches.boxDebug=t}else n=ie(e);e=nt(n);if(void 0===e)throw Rt(9267,Dt("a constant number-like expression is required here"));return e}function et(e,t,n){var r,e=Tt.getSymbolsInScope(e,wt.SymbolFlags.Module).filter(e=>e.name==n&&!!e.valueDeclaration)[0];if(e)for(var i of e.valueDeclaration.body.statements)if(i.kind==It.SK.VariableStatement)for(r of i.declarationList.declarations)if(r.symbol.name==t)return Ze(r.initializer);return null}function tt(e,t){var e=Tt.getSymbolsInScope(e,wt.SymbolFlags.Enum).filter(e=>"DAL"==e.name&&!!e.valueDeclaration)[0];return(e=e&&e.valueDeclaration.members.filter(e=>e.symbol.name==t)[0])?Tt.getConstantValue(e):null}function nt(e){var t;if(e.exprKind==It.ir.EK.NumberLiteral)return t=e.data,U.target.isNative&&!Mt()?t==It.taggedNull||t==It.taggedUndefined||t==It.taggedFalse?0:t==It.taggedTrue?1:"number"==typeof t?t>>1:void 0:"number"==typeof t?t:void 0;if(e.exprKind==It.ir.EK.RuntimeCall&&2==e.args.length){var n=nt(e.args[0]),r=nt(e.args[1]);if(void 0!==n&&void 0!==r)switch(e.data){case"numops::orrs":return n|r;case"numops::adds":return n+r;default:return void console.log(e)}}}function ee(e){if(!U.target.isNative||Mt())return It.ir.numlit(e);{const U=gn(e);if(null!=U)return It.ir.numlit(U);var t;if("number"==typeof e)return!It.target.switches.boxDebug&&(0|e)==e&&-1073741824<=e&&e<=1073741823?It.ir.numlit(e<<1|1):(t=j.emitDouble(e),It.ir.ptrlit(t,JSON.stringify(e)));throw It.U.oops("bad literal: "+e)}}function rt(e){if(e.kind==It.SK.NullKeyword){var t=Ot(e).valueOverride;if(null!=t)return t.exprKind==kt.NumberLiteral?!U.target.isNative||!!(1&t.data):t.exprKind==kt.RuntimeCall&&"pxt::ptrOfLiteral"==t.data?t.args[0].exprKind==kt.PointerLiteral&&!isNaN(parseFloat(t.args[0].jsInfo)):t.exprKind==kt.PointerLiteral&&!isNaN(parseFloat(t.jsInfo))}return e.kind==It.SK.NumericLiteral||cn(nn(e))}function te(e,t){return It.ir.rtcallMask(e,(1<<t.length)-1,0,t)}function ne(s,e,o,t=null){let c=[],n=It.hexfile.lookupFunc(s);var r;Bt()&&(r=It.U.lookup(bn,s))&&(n=r,s=r.name),n&&(c=n.argsFmt);let l=De(e=t?e.concat(t):e),u=[],i=e.map((e,t)=>{var n,r=ie(e);if(!Ut())return r;let i=c[t+1],a=rt(e);if(i=!i&&s.indexOf("::")<0?a?"I":"_":i){if("_"==i[0]||"T"==i||"N"==i)return(n=function(){switch(i){case"_Buffer":return pxt.BuiltInType.BoxedBuffer;case"_Image":return It.target.imageRefTag||pxt.BuiltInType.RefImage;case"_Action":return pxt.BuiltInType.RefAction;case"_RefCollection":return pxt.BuiltInType.RefCollection;default:return null}}())&&u.push({argIdx:t,method:"_validate",refTag:n,refTagNullable:!!o.argsNullable}),r;if("I"==i)return r.exprKind==kt.NumberLiteral&&"number"==typeof r.data?It.ir.numlit(r.data>>1):(u.push({argIdx:t,method:"pxt::toInt"}),r);if("B"==i)return l&=~(1<<t),re(e,r);if("S"==i)return r.isStringLiteral||(u.push({argIdx:t,method:"_pxt_stringConv",returnsRef:!0}),l|=1<<t),r;if("F"==i||"D"==i)return"D"==i&&It.U.oops("double arguments not yet supported"),a||It.U.userError("argsFmt=...F/D... but argument not a number in "+s),u.push({argIdx:t,method:"D"==i?"pxt::toDouble":"pxt::toFloat"}),r;throw It.U.oops("invalid format specifier: "+i)}throw It.U.userError("not enough args for "+s)}),a=It.ir.rtcallMask(s,l,o?o.callingConvention:0,i);return a.mask||(a.mask={refMask:0}),a.mask.conversions=u,U.target.isNative&&("I"==(r=c[0])?a=un(a):"B"==r?a=dn(a):"F"==r?a=(t=a,Ut()?It.ir.rtcall("pxt::fromFloat",[t]):t):"D"==r&&(It.U.oops("double returns not yet supported"),a=(e=a,Ut()?It.ir.rtcall("pxt::fromDouble",[e]):e))),a}function C(n){j.numStmts++;var e=It.assembler.debug||It.target.switches.size;let r=!!U.breakpoints;if(e||r){var i=wt.getSourceFileOfNode(n);if(U.justMyCode&&Pt(i)&&(r=!1),e||r){let t=n.pos;for(;/^\s$/.exec(i.text[t]);)t++;for(;"/"==i.text[t]&&"/"==i.text[t+1];){for(;i.text[t]&&"\n"!=i.text[t];)t++;t++}var a=wt.getLineAndCharacterOfPosition(i,t);if(e){let e=n.end;80<e-t&&(e=t+80);const U=i.text.slice(t,e).trim().replace(/\n[^]*/,"...");B.emit(It.ir.comment(`${i.fileName.replace(/pxt_modules\//,"")}(${a.line+1},${a.character+1}): `+U))}r&&(e=wt.getLineAndCharacterOfPosition(i,n.end),n={id:y.breakpoints.length,isDebuggerStmt:n.kind==It.SK.DebuggerStatement,fileName:i.fileName,start:t,length:n.end-t,line:a.line,endLine:e.line,column:a.character,endColumn:e.character},y.breakpoints.push(n),(a=It.ir.stmt(It.ir.SK.Breakpoint,null)).breakpointInfo=n,B.emit(a))}}}function it(e,t){switch(t){case It.SK.PlusToken:return"numops::adds";case It.SK.MinusToken:return"numops::subs";case It.SK.SlashToken:return"numops::div";case It.SK.PercentToken:return"numops::mod";case It.SK.AsteriskToken:return"numops::muls";case It.SK.AsteriskAsteriskToken:return"Math_::pow";case It.SK.AmpersandToken:return"numops::ands";case It.SK.BarToken:return"numops::orrs";case It.SK.CaretToken:return"numops::eors";case It.SK.LessThanLessThanToken:return"numops::lsls";case It.SK.GreaterThanGreaterThanToken:return"numops::asrs";case It.SK.GreaterThanGreaterThanGreaterThanToken:return"numops::lsrs";case It.SK.LessThanEqualsToken:return"numops::le";case It.SK.LessThanToken:return"numops::lt";case It.SK.GreaterThanEqualsToken:return"numops::ge";case It.SK.GreaterThanToken:return"numops::gt";case It.SK.EqualsEqualsToken:return"numops::eq";case It.SK.EqualsEqualsEqualsToken:return"numops::eqq";case It.SK.ExclamationEqualsEqualsToken:return"numops::neqq";case It.SK.ExclamationEqualsToken:return"numops::neq";default:return null}}function at(e){e.statements.forEach(D)}function st(e){if(!(e.flags&wt.NodeFlags.Let||e.flags&wt.NodeFlags.Const))throw Rt(9260,Dt("variable needs to be defined using 'let' instead of 'var'"))}function re(e,t=null){if(!t&&Bt()&&e.kind==It.SK.BinaryExpression){var n=e,r=It.U.lookup(It.thumbCmpMap,it(0,n.operatorToken.kind));if(r)return It.ir.rtcall(r,[ie(n.left),ie(n.right)])}return t=t||ie(e),Mt()?t:It.ir.rtcall("numops::toBoolDecr",[t])}function E(e){e=Ft(e);return{fortop:".fortop."+e,cont:".cont."+e,brk:".brk."+e,ret:".ret."+e}}function ot(e){if(!e)return 1;switch(e.kind){case It.SK.Identifier:case It.SK.StringLiteral:case It.SK.NumericLiteral:case It.SK.NullKeyword:return 1}}function ct(e){return ie(e)}function lt(e){ot(e)||(C(e),e=ct(e),B.emitExpr(e),B.stackEmpty())}function ut(e=1){for(;e--;)B.emitExpr(te("pxt::endTry",[]))}function dt(){Rt(9282,Dt("jumps (return, break, continue) through finally blocks not supported yet"))}function pt(e){let t=0;if(e.kind==wt.SyntaxKind.Block&&e.parent)if(e.parent.kind==wt.SyntaxKind.CatchClause)e.parent.parent.finallyBlock&&(t++,dt());else if(e.parent.kind==wt.SyntaxKind.TryStatement){const wt=e.parent;wt.tryBlock==e&&(wt.catchClause&&t++,wt.finallyBlock)&&(t++,dt())}return t}function ft(t,n,r){if(t.name.kind===It.SK.ObjectBindingPattern||t.name.kind==It.SK.ArrayBindingPattern)return n||(n=t.initializer?It.ir.shared(ie(t.initializer)):J(t),r=t.initializer?nn(t.initializer):nn(t)),t.name.elements.forEach(e=>ft(e,n,r)),B.stackEmpty(),null;if(!Se(t))return null;if(X(t))return null;let e;if(Me((e=Gt(t)?(ce(t),le(t)):B.mkLocal(t,b(t))).info),e.isByRefLocal()&&B.emitExpr(e.storeDirect(It.ir.rtcall("pxtrt::mklocRef",[]))),oe(nn(t)),t.kind===It.SK.BindingElement){C(t);var[i,,]=function e(t,n,r){const i=t.parent.parent;if(i.kind===It.SK.BindingElement){const t=e(i,n,r);n=t[0],r=t[1]}if(t.parent.kind==It.SK.ArrayBindingPattern){const i=t.parent.elements.indexOf(t),a=(t.dotDotDotToken&&Rt(9203,Dt("spread operator not supported yet")),mn(r,i));return[te("Array_::getAt",[n,It.ir.numlit(i)]),a]}return function(e,t,n,r){const i=Tt.getPropertyOfType(n,r),a=(It.U.assert(!!i,"field sym"),Tt.getTypeOfSymbolAtLocation(i,e));let s;if(tn(n)){const e=$(n);s=It.ir.op(kt.FieldAccess,[t],He(e,Ge(e,r)))}else s=Ie([t],{ifaceIndex:z(r,!0),callLocationIndex:vt(e),noArgs:!0});return[s,a]}(t,n,r,(t.propertyName||t.name).text)}(t,n,r);B.emitExpr(e.storeByRef(i))}else if(t.initializer){if(C(t),Gt(t)){let e=Yt(t).jres;e&&("true"==e&&(e=Qt(Tt,t)),(i=It.U.lookup(U.jres||{},e))?ae=i:Rt(9270,Dt("resource '{0}' not found in any .jres file",e)))}t.initializer,B.emitExpr(e.storeByRef(ie(t.initializer))),ae=null,B.stackEmpty()}else!function(e){for(;e;){if(function(e){switch(e.kind){case It.SK.WhileStatement:case It.SK.ForInStatement:case It.SK.ForOfStatement:case It.SK.ForStatement:case It.SK.DoStatement:return 1;default:return}}(e))return 1;e=e.parent}}(t)||(C(t),B.emitExpr(e.storeByRef(ee(void 0))),B.stackEmpty());return e}function _t(e){return ft(e,null,null)}function mt(e,t){var n=Et;Nt++;try{Et=null;var r=t(e);return Et&&Rt(At,Et),Et=n,Nt--,r}catch(t){return Nt--,Et=null,L(e,t.ksErrorCode||9200,t.message),pxt.debug(t.stack),null}}function ie(e,t=!0){var n;return t&&e.cachedIR?e.cachedIR:(n=mt(e,gt)||ee(void 0),t&&e.needsIRCache?(e.cachedIR=It.ir.shared(n),e.cachedIR):n)}function gt(e){e=function(n){switch(n.kind){case It.SK.NullKeyword:return Ot(n).valueOverride||ee(null);case It.SK.TrueKeyword:return ee(!0);case It.SK.FalseKeyword:return ee(!1);case It.SK.TemplateHead:case It.SK.TemplateMiddle:case It.SK.TemplateTail:case It.SK.NumericLiteral:case It.SK.StringLiteral:case It.SK.NoSubstitutionTemplateLiteral:var r=n;if(r.kind==It.SK.NumericLiteral)return r.imageLiteral?It.ir.ptrlit(r.imageLiteral,r.jsLit):ee(parseFloat(r.text));if(Kt(r))return he(r.text);throw It.oops();case It.SK.TaggedTemplateExpression:{var c=n;function i(e){return/^[0-9a-f]$/i.test(e)}var a,s,r=G(c.tag);if(!r)throw K(c,Dt("invalid tagged template"),9265);let t,o=Yt(r),e={decl:r,qName:r?Qt(Tt,r):"?",args:[c.template],isExpression:!0};function l(e){t=function(t,s){let e=ae;if("_"==s[0]&&"_"==s[1]&&U.jres[s]&&(e=U.jres[s],s=""),""==s&&e){var o=/font\/x-mkcd-b(\d+)/.exec(e.mimeType);if(o)if(j.finalPass){let t=parseInt(o[1]),n=atob(e.data),r=j.usedChars,i="",a="";for(let e=0;e<n.length;e+=t){var c=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8);(c<128||r[c>>5]&1<<(31&c))&&(i+=n.slice(e,e+t),a+=c+", ")}s=It.U.toHex(It.U.stringToUint8Array(i))}else s="aabbccdd";else e.dataEncoding&&"base64"!=e.dataEncoding?"hex"==e.dataEncoding?s=e.data:Rt(9271,Dt("invalid jres encoding '{0}' on '{1}'",e.dataEncoding,e.id)):s=It.U.toHex(It.U.stringToUint8Array(wt.pxtc.decodeBase64(e.data)))}if(/^e[14]/i.test(s)&&t.parent&&t.parent.kind==It.SK.CallExpression&&"image.ofBuffer"==t.parent.expression.getText()){const wt=/^e([14])(..)(..)..(.*)/i.exec(s);s=`870${wt[1]}${wt[2]}00${wt[3]}000000`+wt[4]}let n="";for(let e=0;e<s.length;++e){var r=s[e];if(!i(r)){if(/^[\s\.]$/.test(r))continue;throw K(t,Dt("invalid character in hex literal '{0}'",r),9265)}i(s[e+1])&&(n+=r+s[e+1],e++)}if(It.target.isNative){const wt=j.emitHexLiteral(n.toLowerCase());return It.ir.ptrlit(wt,wt)}{const wt="_hex"+se(t);return It.ir.ptrlit(wt,{hexlit:n.toLowerCase()})}}(c,e(c.template.text))}if(Ot(c).callInfo=e,c.template.kind!=It.SK.NoSubstitutionTemplateLiteral)throw K(c,Dt("substitution not supported in hex literal",o.shim),9265);switch(o.shim){case"@hex":l(e=>e);break;case"@f4":l(function(t){if(!Array.isArray(o.groups))throw K(c,Dt("missing groups in @f4 literal"),9272);let n=[],r=[],i={},a=0;o.groups.forEach((e,t)=>{for(var n of e)i[n]=t}),t+="\n";for(let e=0;e<t.length;++e){var s=t[e];switch(s){case" ":case"\t":break;case"\n":0<r.length&&(n.push(r),a=Math.max(r.length,a),r=[]);break;default:let e=It.U.lookup(i,s);if(null==e){if(2!=o.groups.length)throw K(c,Dt("invalid character in image literal: '{0}'",e),9273);e=1}r.push(e)}}let e=8;return o.groups.length<=2?e=1:o.groups.length<=16&&(e=4),It.f4EncodeImg(a,n.length,e,(e,t)=>n[t][e]||0)});break;default:if(void 0===o.shim&&o.helper){var u=c.template;var d=o;let e,t=Tt.getSymbolsInScope(u,wt.SymbolFlags.Module);for(s of t)if("helpers"==s.name)for(var p of s.declarations||[s.valueDeclaration])if(p.kind==It.SK.ModuleDeclaration)for(var f of p.body.statements)(null==(a=f.symbol)?void 0:a.name)==d.helper&&(e=f);e||Rt(9215,Dt("helpers.{0} not found",d.helper)),e.kind!=It.SK.FunctionDeclaration&&Rt(9216,Dt("helpers.{0} isn't a function",d.helper));var _=e;return H(_),Pe(_,u,[he(u.text)]);return}throw K(c,Dt("invalid shim '{0}' on tagged template",o.shim),9265)}return t=o.helper?It.ir.rtcall(o.helper,[t]):t;return}case It.SK.PropertyAccessExpression:{var t=n;let e=G(t);var o=X(e);if(o)return ee(o.val);if((e=e.kind==It.SK.SetAccessor?ve(e):e).kind==It.SK.GetAccessor)return W(t,t,[],null,e);if(e.kind==It.SK.EnumMember)throw Rt(9210,Dt("Cannot compute enum value"));if(e.kind==It.SK.PropertySignature||e.kind==It.SK.PropertyAssignment)return W(t,t,[],null,e,t.expression);if(e.kind==It.SK.PropertyDeclaration||e.kind==It.SK.Parameter)return zt(e)?J(e):be(e)?W(t,t,[],null,e,t.expression):(o=function(t){var n=nn(t.expression);if(tn(n)){n=$(n);let e=t.expression.kind==It.SK.ThisKeyword;return It.target.switches.noThisCheckOpt&&(e=!1),He(n,Ge(n,t.name.text),!e)}throw K(t,Dt("bad field access"),9247)}(t),It.ir.op(kt.FieldAccess,[ie(t.expression)],o));if(Jt(e)||e.kind==It.SK.MethodSignature)throw Rt(9211,Dt("cannot use method as lambda; did you forget '()' ?"));if(e.kind==It.SK.FunctionDeclaration)return fe(e);if(Ht(e))return J(e);throw K(t,Dt("Unknown property access for {0}",Lt(e)),9237);return}case It.SK.BinaryExpression:var m=n;if(m.operatorToken.kind==It.SK.EqualsToken){let e=(h=m).right;h.parent.kind==It.SK.ExpressionStatement&&(e=null);var g=qe(h.left,e),h=(We(h.left,h.right),e?ie(e):ee(void 0));return g(),h}{var y,v,b,x,k,S,T,C,g=Z(m);if(g)return ee(g.val);let e=null,t=null;if((m.operatorToken.kind==It.SK.PlusToken||m.operatorToken.kind==It.SK.PlusEqualsToken)&&(e=nn(m.left),t=nn(m.right),sn(e)||sn(t)&&m.operatorToken.kind==It.SK.PlusToken)&&(Ot(m).exprInfo={leftType:Tt.typeToString(e),rightType:Tt.typeToString(t)}),m.operatorToken.kind==It.SK.CommaToken)return ot(m.left)?ie(m.right):(h=ct(m.left),It.ir.op(kt.Sequence,[h,ie(m.right)]));switch(m.operatorToken.kind){case It.SK.BarBarToken:case It.SK.AmpersandAmpersandToken:return v=ie((y=m).left),sn(nn(y.left)),b=B.mkLabel("lazy"),v=It.ir.shared(v),x=It.ir.rtcall("numops::toBool",[v]),k=B.mkLabel("lazySkip"),S=y.operatorToken.kind==It.SK.BarBarToken?It.ir.JmpMode.IfZero:y.operatorToken.kind==It.SK.AmpersandAmpersandToken?It.ir.JmpMode.IfNotZero:It.U.oops(),B.emitJmp(k,x,S),B.emitJmp(b,v,It.ir.JmpMode.Always,v),B.emitLbl(k),B.emitExpr(te("langsupp::ignore",[v])),B.emitJmp(b,ie(y.right),It.ir.JmpMode.Always),B.emitLbl(b),je();case It.SK.InstanceOfKeyword:return S=nn((x=m).right),(k=tn(S)?G(x.right):null)&&k.kind==It.SK.ClassDeclaration||Rt(9275,Dt("unsupported instanceof expression")),Q(S=$(S,k)),(k=It.ir.op(It.ir.EK.InstanceOf,[ie(x.left)],S)).jsInfo="bool",k}return m.operatorToken.kind==It.SK.PlusToken&&(sn(e)||sn(t))?ne("String_::concat",[q(m.left),q(m.right)],null):m.operatorToken.kind==It.SK.PlusEqualsToken&&sn(e)?(C=qe(m.left),T=It.ir.shared(ne("String_::concat",[q(m.left),q(m.right)],null)),We(m.left,Y(T)),C(),T):(C=function(){switch(m.operatorToken.kind){case It.SK.PlusEqualsToken:return It.SK.PlusToken;case It.SK.MinusEqualsToken:return It.SK.MinusToken;case It.SK.AsteriskEqualsToken:return It.SK.AsteriskToken;case It.SK.AsteriskAsteriskEqualsToken:return It.SK.AsteriskAsteriskToken;case It.SK.SlashEqualsToken:return It.SK.SlashToken;case It.SK.PercentEqualsToken:return It.SK.PercentToken;case It.SK.LessThanLessThanEqualsToken:return It.SK.LessThanLessThanToken;case It.SK.GreaterThanGreaterThanEqualsToken:return It.SK.GreaterThanGreaterThanToken;case It.SK.GreaterThanGreaterThanGreaterThanEqualsToken:return It.SK.GreaterThanGreaterThanGreaterThanToken;case It.SK.AmpersandEqualsToken:return It.SK.AmpersandToken;case It.SK.BarEqualsToken:return It.SK.BarToken;case It.SK.CaretEqualsToken:return It.SK.CaretToken;default:return It.SK.Unknown}}(),(T=it(0,C||m.operatorToken.kind))||K(m.operatorToken,Dt("unsupported operator"),9250),C?Ve(m.left,T,!1,m.right):(C=Qe(T),o=[m.left,m.right],It.ir.rtcallMask(C,De(o),0,o.map(e=>ie(e)))))}case It.SK.PrefixUnaryExpression:var e=n,t=Z(e);if(t)return ee(t.val);switch(e.operator){case It.SK.ExclamationToken:return dn(It.ir.rtcall("Boolean_::bang",[re(e.operand)]));case It.SK.PlusPlusToken:return Ve(e.operand,"numops::adds",!1);case It.SK.MinusMinusToken:return Ve(e.operand,"numops::subs",!1);case It.SK.PlusToken:case It.SK.MinusToken:var E=ie(e.operand),D=nt(E);return null!=D?ee(-D):e.operator==It.SK.MinusToken?Ye("numops::subs",ee(0),E):Ye("numops::subs",E,ee(0));case It.SK.TildeToken:D=ie(e.operand),E=nt(D);return null!=E?ee(~E):te(Qe("numops::bnot"),[D]);default:throw K(e,Dt("unsupported prefix unary operation"),9245)}return;case It.SK.PostfixUnaryExpression:var A=n;if(vn(nn(A.operand)))switch(A.operator){case It.SK.PlusPlusToken:return Ve(A.operand,"numops::adds",!0);case It.SK.MinusMinusToken:return Ve(A.operand,"numops::subs",!0)}throw K(A,Dt("unsupported postfix unary operation"),9246);case It.SK.ElementAccessExpression:return xe(n);case It.SK.ParenthesizedExpression:return ie(n.expression);case It.SK.TypeAssertionExpression:return n.expression,ie(n.expression);case It.SK.ArrayLiteralExpression:var N=n;mn(nn(N));var w,R=It.ir.shared(It.ir.rtcall("Array_::mk",[]));for(w of N.elements){var M=Ee(w)?2:0;B.emitExpr(It.ir.rtcall("Array_::push",[R,ie(w)],M))}return R;case It.SK.NewExpression:N=n;if((I=Tt.getTypeAtLocation(N))&&Zt(I))throw It.oops();if(I&&tn(I)){let t,e=G(N.expression);e.kind!=It.SK.ClassDeclaration&&Rt(9221,Dt("new expression only supported on class types"));var I=$(nn(N),e);for(let e=I;e&&!(t=Oe(e.decl));e=e.baseClassInfo);Q(I);let n=I.id+"_VT",r=It.ir.rtcall("pxt::mkClassInstance",[It.ir.ptrlit(n,n)]);return t?(r=Be(r),V(t),I=(N.arguments||[]).slice(0),L=Yt(t),Ne(Tt.getResolvedSignature(N),I,L),I=I.map(e=>ie(e)),L.shim?It.ir.rtcall(L.shim,I):(I.unshift(r),B.emitExpr(Pe(t,N,I)),r)):(N.arguments&&N.arguments.length&&Rt(9222,Dt("constructor with arguments not found")),r)}throw K(N,Dt("unknown type for new"),9243);case It.SK.SuperKeyword:case It.SK.ThisKeyword:return ge(n);case It.SK.CallExpression:return L=n,I=Tt.getResolvedSignature(L),W(L,L.expression,L.arguments,I);case It.SK.FunctionExpression:case It.SK.ArrowFunction:return ze(n);case It.SK.Identifier:return me(n);case It.SK.ConditionalExpression:return P=n,O=B.mkLabel("condexprz"),F=B.mkLabel("condexprfin"),B.emitJmp(O,re(P.condition),It.ir.JmpMode.IfZero),B.emitJmp(F,ie(P.whenTrue),It.ir.JmpMode.Always),B.emitLbl(O),B.emitJmp(F,ie(P.whenFalse),It.ir.JmpMode.Always),B.emitLbl(F),je();case It.SK.AsExpression:return n.expression,ie(n.expression);case It.SK.TemplateExpression:return ye(n);case It.SK.ObjectLiteralExpression:{O=n;let a=It.ir.shared(It.ir.rtcall("pxtrt::mkMap",[]));return O.properties.forEach(e=>{let t,n;if(It.assert(!e.questionToken),e.kind==It.SK.ShorthandPropertyAssignment){const a=e,r=(It.assert(!a.equalsToken&&!a.objectAssignmentInitializer),t=e.name.text,Tt.getShorthandAssignmentValueSymbol(e)),i=r&&r.valueDeclaration&&r.valueDeclaration.name;if(!i||i.kind!=It.SK.Identifier)throw K(e);n=me(i)}else{if(e.name.kind==It.SK.ComputedPropertyName){const It=e.name.expression;return void B.emitExpr(ne("pxtrt::mapSetByString",[Y(a,!0),It,e.initializer],null))}t=e.name.kind==It.SK.StringLiteral?e.name.text:e.name.getText(),n=ie(e.initializer)}const r=It.target.isNative?It.ir.numlit(z(t)):It.ir.ptrlit(null,JSON.stringify(t)),i=[a,r,n];B.emitExpr(It.ir.rtcall(It.target.isNative?"pxtrt::mapSet":"pxtrt::mapSetByString",i))}),a;return}case It.SK.TypeOfExpression:return ne("pxt::typeOf",[n.expression],null);case wt.SyntaxKind.DeleteExpression:{P=n;let e,t;if(P.expression.kind==It.SK.PropertyAccessExpression){const It=P.expression;e=It.expression,t=Y(he(It.name.text))}else{if(P.expression.kind!=It.SK.ElementAccessExpression)throw Rt(9276,Dt("expression not supported as argument to 'delete'"));{const It=P.expression;e=It.expression,t=It.argumentExpression}}P=nn(e);if(en(P))throw Rt(9277,Dt("'delete' not supported on class types"));if(Zt(P))throw Rt(9277,Dt("'delete' not supported on array"));return ne("pxtrt::mapDeleteByString",[e,t],null);return}default:return K(n),null}var P,O,F,L}(e);if(e.isExpr())return e;throw new Error("expecting expression")}function ht(e){var t=Ot(e);if(t.usedNodes){a=!1;for(var n of It.U.values(t.usedNodes))V(n);for(var r of t.usedActions)r(j);a=!0}else Gt(e)||wt.isClassDeclaration(e)?(a=!1,(h=t).usedNodes=null,h.usedActions=null,Gt(e)&&!X(e)&&ce(e),D(e),a=!0):((h=t).usedNodes={},h.usedActions=[],D(e),h=null)}function D(e){mt(e,yt)}function yt(s){switch(s.kind){case It.SK.SourceFile:return void s.statements.forEach(D);case It.SK.InterfaceDeclaration:var e=s,t=e,n=e=>{e&&e.kind==It.SK.ClassDeclaration&&Rt(9261,Dt("Interface with same name as a class not supported"))};if(n(t.symbol.valueDeclaration),t.symbol.declarations&&t.symbol.declarations.forEach(n),t.heritageClauses)for(var r of t.heritageClauses)r.token===It.SK.ExtendsKeyword&&en(nn(r.types[0]))&&Rt(9262,Dt("Extending a class by an interface not supported."));return void((n=Yt(e)).autoCreate&&(A[n.autoCreate]=!0));case It.SK.VariableStatement:var i=s;if(i.declarationList.flags&wt.NodeFlags.Const){var a=i.parent&&i.parent.kind==It.SK.ModuleBlock?Xt(i.parent.parent):"?";if("config"==a||"userconfig"==a)for(var o of i.declarationList.declarations){let t=an(o);if(o.initializer){var o=Ze(o.initializer),c=tt(i,"CFG_"+t);if(null==c||0==c)throw Rt(9268,Dt("can't find DAL.CFG_{0}",t));"userconfig"==a&&(t="!"+t);{l=void 0;var l={name:t,key:c,value:o};let e=It.U.lookup(T,l.name);if(e||(e=l,T[l.name]=e),e.value!=l.value)throw Rt(9269,Dt("conflicting values for config.{0}",l.name))}}}}return void(wt.isInAmbientContext(i)||(st(i.declarationList),i.declarationList.declarations.forEach(D)));case It.SK.ModuleDeclaration:return void D(s.body);case It.SK.EnumDeclaration:return;case It.SK.FunctionDeclaration:case It.SK.Constructor:case It.SK.MethodDeclaration:return void ze(s);case It.SK.ExpressionStatement:return void lt(s.expression);case It.SK.Block:case It.SK.ModuleBlock:return at(s);case It.SK.VariableDeclaration:return _t(s),void Re();case It.SK.IfStatement:return C(t=s),e=B.mkLabel("else"),B.emitJmpZ(e,re(t.expression)),D(t.thenStatement),n=B.mkLabel("afterif"),B.emitJmp(n),B.emitLbl(e),t.elseStatement&&D(t.elseStatement),void B.emitLbl(n);case It.SK.WhileStatement:return C(x=s),k=E(x),B.emitLblDirect(k.cont),C(x.expression),B.emitJmpZ(k.brk,re(x.expression)),D(x.statement),B.emitJmp(k.cont),void B.emitLblDirect(k.brk);case It.SK.DoStatement:return C(x=s),k=E(x),B.emitLblDirect(k.cont),D(x.statement),C(x.expression),B.emitJmpZ(k.brk,re(x.expression)),B.emitJmp(k.cont),void B.emitLblDirect(k.brk);case It.SK.ForStatement:return(b=s).initializer&&b.initializer.kind==It.SK.VariableDeclarationList?(st(b.initializer),b.initializer.declarations.forEach(D)):lt(b.initializer),C(b),u=E(b),B.emitLblDirect(u.fortop),b.condition&&(C(b.condition),B.emitJmpZ(u.brk,re(b.condition))),D(b.statement),B.emitLblDirect(u.cont),lt(b.incrementor),B.emitJmp(u.fortop),void B.emitLblDirect(u.brk);case It.SK.ForOfStatement:b=s;if(b.initializer&&b.initializer.kind==It.SK.VariableDeclarationList){u=b.initializer;if(1!=u.declarations.length)K(b,"only a single variable may be used to iterate a collection");else{st(u);let e=nn(b.expression),t="",n="";if(sn(e))t="String_::charAt",n="String_::length";else{if(!Zt(e))return void K(b.expression,"cannot use for...of with this expression");t="Array_::getAt",n="Array_::length"}V(u.declarations[0]);var u=_t(u.declarations[0]),d=(It.U.assert(!!u||!j.finalPass),B.stackEmpty(),B.mkLocalUnnamed()),p=(B.emitExpr(d.storeByRef(ie(b.expression))),B.mkLocalUnnamed()),f=(B.emitExpr(p.storeByRef(ee(0))),B.stackEmpty(),C(b),E(b)),_=(B.emitLblDirect(f.fortop),It.ir.rtcall(n,[d.loadCore()])),_=Ye("numops::lt_bool",p.load(),un(_));B.emitJmpZ(f.brk,_),u&&B.emitExpr(u.storeByRef(It.ir.rtcall(t,[d.loadCore(),(_=p.loadCore(),Ut()?It.ir.rtcall("pxt::toInt",[_]):_)]))),Re(),D(b.statement),B.emitLblDirect(f.cont),B.emitExpr(p.storeByRef(Ye("numops::adds",p.load(),ee(1)))),B.emitJmp(f.fortop),B.emitLblDirect(f.brk),B.emitExpr(d.storeByRef(ee(void 0)))}}else K(b,"only a single variable may be used to iterate a collection");return;case It.SK.ContinueStatement:case It.SK.BreakStatement:{_=s;C(_);let n=_.label?_.label.text:null,r=_.kind==It.SK.BreakStatement,i=0,e=function e(t){return t?n&&t.kind==It.SK.LabeledStatement&&t.label.text==n?t.statement:t.kind==It.SK.SwitchStatement&&!n&&r||!n&&wt.isIterationStatement(t,!1)?t:(i+=pt(t),e(t.parent)):null}(_);e?(p=E(e),ut(i),_.kind==It.SK.ContinueStatement?wt.isIterationStatement(e,!1)?B.emitJmp(p.cont):L(_,9231,Dt("continue on non-loop")):_.kind==It.SK.BreakStatement?B.emitJmp(p.brk):It.oops()):L(_,9230,Dt("cannot find outer loop"));return}case It.SK.LabeledStatement:return d=E((f=s).statement),D(f.statement),void B.emitLblDirect(d.brk);case It.SK.ReturnStatement:{var m=s;C(m);let e=null,t=(m.expression?e=ie(m.expression):rn(B.action)&&(e=ee(void 0)),0);for(let e=m;e&&e!=B.action;e=e.parent)t+=pt(e);ut(t),B.emitJmp(E(B.action).ret,e,It.ir.JmpMode.Always);return}case It.SK.ClassDeclaration:return(v=$(null,m=s)).isUsed&&j.usedClassInfos.indexOf(v)<0&&j.usedClassInfos.push(v),void m.members.forEach(D);case It.SK.PropertyDeclaration:case It.SK.PropertyAssignment:return void(zt(v=s)?_t(v):v.initializer&&(v=$(nn(v.parent)),j.finalPass)&&v.isUsed&&!v.ctor&&Rt(9209,Dt("class field initializers currently require an explicit constructor")));case It.SK.SwitchStatement:{var g=s;C(g);let i,e=E(g),a=It.ir.shared(ie(g.expression)),n=g.caseBlock.clauses.map(e=>{var t,n,r=B.mkLabel("switch");return e.kind==It.SK.CaseClause?(t=ie((n=e).expression),n=Ee(n.expression)?1:0,n=It.ir.rtcallMask(Qe("pxt::switch_eq"),n,0,[t,a]),B.emitJmp(r,n,It.ir.JmpMode.IfNotZero,a)):e.kind==It.SK.DefaultClause?(It.assert(!i,"!defaultLabel"),i=r):It.oops(),r});i?B.emitJmp(i,a):B.emitJmp(e.brk,a),g.caseBlock.clauses.forEach((e,t)=>{B.emitLbl(n[t]),e.statements.forEach(D)}),B.emitLblDirect(e.brk);return}case It.SK.TypeAliasDeclaration:return;case wt.SyntaxKind.TryStatement:{var h=s;const S=e=>te("pxt::beginTry",[It.ir.ptrlit(e.lblName,e)]);C(h);var g=B.mkLabel("catch"),y=(g.lblName="_catch_"+Ft(h),B.mkLabel("finally"));if(y.lblName="_finally_"+Ft(h),h.finallyBlock&&B.emitExpr(S(y)),h.catchClause&&B.emitExpr(S(g)),B.stackEmpty(),at(h.tryBlock),B.stackEmpty(),h.catchClause){const It=B.mkLabel("catchend"),S=(ut(),B.emitJmp(It),B.emitLbl(g),h.catchClause.variableDeclaration);if(S){_t(S);const h=le(S);B.emitExpr(h.storeByRef(te("pxt::getThrownValue",[])))}Re(),at(h.catchClause.block),B.emitLbl(It)}h.finallyBlock&&(ut(),B.emitLbl(y),at(h.finallyBlock),B.emitExpr(te("pxt::endFinally",[])));return}case wt.SyntaxKind.ThrowStatement:return C(y=s),void B.emitExpr(te("pxt::throwValue",[ie(y.expression)]));case It.SK.DebuggerStatement:return void C(s);case It.SK.GetAccessor:case It.SK.SetAccessor:return void ze(s);case It.SK.ImportEqualsDeclaration:case It.SK.EmptyStatement:case It.SK.SemicolonClassElement:return;default:K(s)}var v,b,u,x,k}function vt(e){return y.procCallLocations.push(It.nodeLocationInfo(e))-1}},It.isStringType=sn;class kn{constructor(){this.procs=[],this.globals=[],this.finalPass=!1,this.writeFile=(e,t)=>{},this.usedClassInfos=[],this.numStmts=1,this.commSize=0,this.itEntries=0,this.itFullEntries=0,this.numMethods=0,this.numVirtMethods=0,this.usedChars=new Uint32Array(2048),this.explicitlyUsedIfaceMembers={},this.ifaceMemberMap={},this.strings={},this.hexlits={},this.doubles={},this.otherLiterals=[],this.codeHelpers={},this.lblNo=0}reset(){this.lblNo=0,this.otherLiterals=[],this.strings={},this.hexlits={},this.doubles={},this.numStmts=0}getTitle(){var e=this.options.name||It.U.lf("Untitled");return 90<=e.length?e.slice(0,87)+"...":e}addProc(e){It.assert(!this.finalPass,"!this.finalPass"),this.procs.push(e),e.seqNo=this.procs.length}recordHelper(e,t,n){var r=e=>{e.codeHelpers[t]||(e.codeHelpers[t]=n(e))};r(this),this.recordAction(e,r)}recordAction(e,t){e?e.usedActions&&e.usedActions.push(t):It.U.oops("no using ctx!")}emitLabelled(e,t,n){var r=It.U.lookup(t,e);return null!=r?r:(r=n+this.lblNo++,t[e]=r)}emitDouble(e){return this.emitLabelled(It.target.switches.numFloat?(t=e,(n=new Float32Array(1))[0]=t,It.U.toHex(new Uint8Array(n.buffer))):(t=e,(n=new Float64Array(1))[0]=t,It.U.toHex(new Uint8Array(n.buffer))),this.doubles,"_dbl");var t,n}emitString(t){if(!this.finalPass)for(let e=0;e<t.length;++e){var n=t.charCodeAt(e);128<=n&&(this.usedChars[n>>5]|=1<<(31&n))}return this.emitLabelled(t,this.strings,"_str")}emitHexLiteral(e){return this.emitLabelled(e,this.hexlits,"_hexlit")}setPerfCounters(e){if(!It.target.switches.profile)return[];const t=e.slice();return this.procs.forEach(e=>{e.perfCounterName&&(It.U.assert(It.target.switches.profile),e.perfCounterNo=t.length,t.push(e.perfCounterName))}),t}}function on(e){if(e.modifiers&&e.parent.kind==It.SK.Constructor)for(var t of e.modifiers)if(t.kind==It.SK.PrivateKeyword||t.kind==It.SK.PublicKeyword||t.kind==It.SK.ProtectedKeyword)return!0;return!1}function cn(e){return e.flags&wt.TypeFlags.Union?e.types.every(e=>cn(e)):!!(e.flags&(wt.TypeFlags.NumberLike|wt.TypeFlags.EnumLike|wt.TypeFlags.BooleanLike))}It.Binary=kn,It.isCtorField=on}}(ts=ts||{}),function(ts){var pxtc;!function(pxtc){function getTsCompilerOptions(e){var t=ts.getDefaultCompilerOptions();return t.target=ts.ScriptTarget.ES5,t.module=ts.ModuleKind.None,t.noImplicitAny=!0,t.noImplicitReturns=!0,t.allowUnreachableCode=!0,t}function nodeLocationInfo(e){var t=ts.getSourceFileOfNode(e),n=e.getStart?e.getStart():e.pos,{line:r,character:i}=ts.getLineAndCharacterOfPosition(t,n),{line:a,character:s}=ts.getLineAndCharacterOfPosition(t,e.end);return{start:n,length:e.end-n,line:r,column:i,endLine:a,endColumn:s,fileName:t.fileName}}function patchUpDiagnostics(e,t=!1){t=(e=t?e.filter(e=>5012!==e.code):e).filter(e=>1148==e.code);return(e=0<t.length?t:e).map(e=>{var t;return e.file?(t=ts.getLineAndCharacterOfPosition(e.file,e.start),1148==(t={code:e.code,start:e.start,length:e.length,line:t.line,column:t.character,messageText:ts.flattenDiagnosticMessageText(e.messageText,"\n"),category:e.category,fileName:e.file.fileName}).code&&(t.messageText=pxtc.Util.lf("all symbols in top-level scope are always exported; please use a namespace if you want to export only some")),t):{code:e.code,start:e.start,length:e.length,line:0,column:0,messageText:ts.flattenDiagnosticMessageText(e.messageText,"\n"),category:e.category,fileName:"?"}})}function py2tsIfNecessary(e){if(e.target.preferredEditor==pxt.PYTHON_PROJECT_NAME)return pxtc.transpile.pyToTs(e)}function mkCompileResult(){return{outfiles:{},diagnostics:[],success:!1,times:{}}}function storeGeneratedFiles(e,t){for(var n of e.generatedFiles||[])t.outfiles[n]=e.fileSystem[n]}function runConversionsAndStoreResults(e,t){var n=pxtc.U.cpuUs(),r=(t=t||mkCompileResult(),py2tsIfNecessary(e)),r=(storeGeneratedFiles(e,t=r?Object.assign(Object.assign({},t),{diagnostics:r.diagnostics,sourceMap:r.sourceMap,globalNames:r.globalNames}):t),e.sourceFiles||(e.sourceFiles=Object.keys(e.fileSystem)),e.sourceFiles.indexOf(pxt.MAIN_TS)),r=(0<=r&&(e.sourceFiles.splice(r,1),e.sourceFiles.push(pxt.MAIN_TS)),e.sourceFiles.indexOf(pxt.TUTORIAL_CODE_STOP));return 0<=r&&(e.sourceFiles.splice(r,1),e.sourceFiles.push(pxt.TUTORIAL_CODE_STOP)),t.times.conversions=pxtc.U.cpuUs()-n,t}function timesToMs(e){for(var t of Object.keys(e.times))e.times[t]=Math.round(e.times[t])/1e3}function buildProgram(e,i){let a={};for(var t in e.fileSystem)a[normalizePath(t)]=e.fileSystem[t];var n=getTsCompilerOptions(e),r={getSourceFile:(e,t,n)=>{e=normalizePath(e);let r="";return a.hasOwnProperty(e)?r=a[e]:n&&n("File not found: "+e),null==r&&(n("File not found: "+e),r=""),ts.createSourceFile(e,r,t,!0)},fileExists:e=>(e=normalizePath(e),a.hasOwnProperty(e)),getCanonicalFileName:e=>e,getDefaultLibFileName:()=>"no-default-lib.d.ts",writeFile:(e,t,n,r)=>{i.outfiles[e]=t},getCurrentDirectory:()=>".",useCaseSensitiveFileNames:()=>!0,getNewLine:()=>"\n",readFile:e=>(e=normalizePath(e),a[e]||""),directoryExists:e=>!0,getDirectories:()=>[]},s=e.sourceFiles.filter(e=>pxtc.U.endsWith(e,".ts"));return ts.createProgram(s,n,r)}function isPxtModulesFilename(e){return pxtc.U.startsWith(e,"pxt_modules/")}function compile(opts,service){pxtc.compilerHooks||(pxtc.compilerHooks={},opts.target.compilerExtension&&eval(opts.target.compilerExtension)),pxtc.compilerHooks.init&&pxtc.compilerHooks.init(opts,service);let startTime=pxtc.U.cpuUs(),res=mkCompileResult(),program;if(service)storeGeneratedFiles(opts,res),program=service.getProgram();else{if(runConversionsAndStoreResults(opts,res),0<res.diagnostics.length)return res;program=buildProgram(opts,res)}const entryPoint=opts.sourceFiles.filter(e=>pxtc.U.endsWith(e,".ts")).pop().replace(/.*\//,"");if(res.diagnostics=patchUpDiagnostics(program.getSyntacticDiagnostics(),opts.ignoreFileResolutionErrors),0<res.diagnostics.length)opts.forceEmit&&(pxt.debug("syntactic errors, forcing emit"),pxtc.compileBinary(program,opts,res,entryPoint));else{res.diagnostics=patchUpDiagnostics(program.getOptionsDiagnostics().concat(pxtc.Util.toArray(program.getGlobalDiagnostics())),opts.ignoreFileResolutionErrors);const semStart=pxtc.U.cpuUs(),emitStart=(0==res.diagnostics.length&&(res.diagnostics=patchUpDiagnostics(program.getSemanticDiagnostics(),opts.ignoreFileResolutionErrors)),pxtc.U.cpuUs());if(res.times["typescript-syn"]=semStart-startTime,res.times["typescript-sem"]=emitStart-semStart,res.times.typescript=emitStart-startTime,opts.ast&&(res.ast=program),opts.ast||opts.forceEmit||0==res.diagnostics.length){const e=pxtc.compileBinary(program,opts,res,entryPoint);res.times.compilebinary=pxtc.U.cpuUs()-emitStart,res.diagnostics=res.diagnostics.concat(patchUpDiagnostics(e.diagnostics))}0==res.diagnostics.length&&(res.success=!0);for(var e of opts.sourceFiles)pxtc.Util.startsWith(e,"built/")&&(res.outfiles[e.slice(6)]=opts.fileSystem[e]);res.times.all=pxtc.U.cpuUs()-startTime,pxt.tickEvent("compile",res.times)}return res}function decompile(e,t,n,r=!1){var i=e.getSourceFile(n),n=(pxtc.annotate(e,n,pxtc.target||pxt.appTarget&&pxt.appTarget.compile),pxtc.getApiInfo(e,t.jres)),n=pxtc.getBlocksInfo(n,t.bannedCategories),r={snippetMode:t.snippetMode||!1,alwaysEmitOnStart:t.alwaysDecompileOnStart,includeGreyBlockMessages:r,generateSourceMap:!!t.ast,allowedArgumentTypes:t.allowedArgumentTypes||["number","boolean","string"],errorOnGreyBlocks:!!t.errorOnGreyBlocks},[t,,]=pxtc.decompiler.buildRenameMap(e,i,{declarations:"variables",takenNames:{}});return pxtc.decompiler.decompileToBlocks(n,i,r,t)}function decompileSnippets(e,t,n=!1){const r=pxtc.getApiInfo(e,t.jres),i=pxtc.getBlocksInfo(r,t.bannedCategories),a=new pxtc.decompiler.RenameMap([]),s={snippetMode:t.snippetMode||!1,alwaysEmitOnStart:t.alwaysDecompileOnStart,includeGreyBlockMessages:n,generateSourceMap:!!t.ast,allowedArgumentTypes:t.allowedArgumentTypes||["number","boolean","string"],errorOnGreyBlocks:!!t.errorOnGreyBlocks};let o;var c=[];if(t.sourceTexts)for(let e=0;e<t.sourceTexts.length;e++){t.fileSystem[pxt.MAIN_TS]=t.sourceTexts[e],t.fileSystem[pxt.MAIN_BLOCKS]="";var l=getTSProgram(t,o);const r=l.getSourceFile(pxt.MAIN_TS),u=pxtc.decompiler.decompileToBlocks(i,r,s,a);c.push(u.outfiles[pxt.MAIN_BLOCKS]),o=l}return c}function getTSProgram(e,t){let i={},a={};for(var n in e.fileSystem)a[normalizePath(n)]=e.fileSystem[n];var r=getTsCompilerOptions(e),s={getSourceFile:(e,t,n)=>{e=normalizePath(e);let r="";return a.hasOwnProperty(e)?r=a[e]:n&&n("File not found: "+e),null==r&&(n("File not found: "+e),r=""),ts.createSourceFile(e,r,t,!0)},fileExists:e=>(e=normalizePath(e),a.hasOwnProperty(e)),getCanonicalFileName:e=>e,getDefaultLibFileName:()=>"no-default-lib.d.ts",writeFile:(e,t,n,r)=>{i[e]=t},getCurrentDirectory:()=>".",useCaseSensitiveFileNames:()=>!0,getNewLine:()=>"\n",readFile:e=>(e=normalizePath(e),a[e]||""),directoryExists:e=>!0,getDirectories:()=>[]};e.sourceFiles||(e.sourceFiles=Object.keys(e.fileSystem));let o=e.sourceFiles.filter(e=>pxtc.U.endsWith(e,".ts")),c=o.filter(e=>e!=pxt.MAIN_TS);o.length>c.length&&(o=c).push(pxt.MAIN_TS);var l=o.indexOf(pxt.TUTORIAL_CODE_STOP),l=(0<=l&&(o.splice(l,1),o.push(pxt.TUTORIAL_CODE_STOP)),ts.createProgram(o,r,s,t));return pxtc.annotate(l,pxt.MAIN_TS,pxtc.target||pxt.appTarget&&pxt.appTarget.compile),l}function normalizePath(e){e=e.replace(/\\/g,"/");const t=[];return e.split("/").forEach(e=>{".."===e&&t.length?t.pop():"."!==e&&t.push(e)}),t.join("/")}pxtc.getTsCompilerOptions=getTsCompilerOptions,pxtc.nodeLocationInfo=nodeLocationInfo,pxtc.patchUpDiagnostics=patchUpDiagnostics,pxtc.py2tsIfNecessary=py2tsIfNecessary,pxtc.storeGeneratedFiles=storeGeneratedFiles,pxtc.runConversionsAndStoreResults=runConversionsAndStoreResults,pxtc.timesToMs=timesToMs,pxtc.isPxtModulesFilename=isPxtModulesFilename,pxtc.compile=compile,pxtc.decompile=decompile,pxtc.decompileSnippets=decompileSnippets,pxtc.getTSProgram=getTSProgram}(pxtc=ts.pxtc||(ts.pxtc={}))}(ts=ts||{}),function(d){{var e=d.elf||(d.elf={});const p=["type","offset","vaddr","paddr","filesz","memsz","flags","align"],f=d.HF2.read32,_=d.HF2.read16;e.parse=function(a){1179403647!=f(a,0)&&d.U.userError("no magic"),1!=a[4]&&d.U.userError("not 32 bit"),1!=a[5]&&d.U.userError("not little endian"),1!=a[6]&&d.U.userError("bad version"),2!=_(a,16)&&d.U.userError("wrong object type"),40!=_(a,18)&&d.U.userError("not ARM");let s=f(a,28),o=(f(a,32),0==s&&d.U.userError("expecting program headers"),_(a,42)),e=_(a,44),t=d.U.range(e).map(e=>{var t,n=s+e*o,r={},e=n;for(t of p)r[t]=f(a,n),n+=4;var i=r;return i._filepos=e,i}),n=a.length+1;for(;15&n;)n++;let r=0;for(var i of t)1==i.type&&(r=Math.max(r,i.vaddr+i.memsz));let c=(r+4096-1&-4096)+(4095&n),l=-1;for(var u of t)4==u.type&&(l=u._filepos);return{imageMemStart:c,imageFileStart:n,phOffset:l,template:a}},e.patch=function(t,n){var r=new Uint8Array(t.imageFileStart+n.length);r.fill(0),d.U.memcpy(r,0,t.template),d.U.memcpy(r,t.imageFileStart,n);{var i=r,a={_filepos:t.phOffset,type:1,offset:t.imageFileStart,vaddr:t.imageMemStart,paddr:t.imageMemStart,filesz:n.length,memsz:n.length,flags:5,align:4096},s;let e=a._filepos;for(s of p)d.HF2.write32(i,e,a[s]||0),e+=4}return r}}}(pxt=pxt||{}),function(c){{var e=c.esp||(c.esp={});const u=c.HF2.read32,d=c.HF2.read16,p=[{name:"esp32",chipId:0,memmap:[{from:0,to:65536,id:"PADDING"},{from:1061158912,to:1065353216,id:"DROM"},{from:1065353216,to:1069547520,id:"EXTRAM_DATA"},{from:1073217536,to:1073225728,id:"RTC_DRAM"},{from:1073283072,to:1073741824,id:"BYTE_ACCESSIBLE"},{from:1073405952,to:1073741824,id:"DRAM"},{from:1073610752,to:1073741820,id:"DIRAM_DRAM"},{from:1073741824,to:1074200576,id:"IROM"},{from:1074200576,to:1074233344,id:"CACHE_PRO"},{from:1074233344,to:1074266112,id:"CACHE_APP"},{from:1074266112,to:1074397184,id:"IRAM"},{from:1074397184,to:1074528252,id:"DIRAM_IRAM"},{from:1074528256,to:1074536448,id:"RTC_IRAM"},{from:1074593792,to:1077936128,id:"IROM"},{from:1342177280,to:1342185472,id:"RTC_DATA"}]},{name:"esp32-s2",chipId:2,memmap:[{from:0,to:65536,id:"PADDING"},{from:1056964608,to:1073217536,id:"DROM"},{from:1062207488,to:1073217536,id:"EXTRAM_DATA"},{from:1073340416,to:1073348608,id:"RTC_DRAM"},{from:1073340416,to:1073741824,id:"BYTE_ACCESSIBLE"},{from:1073340416,to:1074208768,id:"MEM_INTERNAL"},{from:1073414144,to:1073741824,id:"DRAM"},{from:1073741824,to:1073848576,id:"IROM_MASK"},{from:1073872896,to:1074200576,id:"IRAM"},{from:1074200576,to:1074208768,id:"RTC_IRAM"},{from:1074266112,to:1082130432,id:"IROM"},{from:1342177280,to:1342185472,id:"RTC_DATA"}]},{name:"esp32-s3",chipId:4,memmap:[{from:0,to:65536,id:"PADDING"},{from:1006632960,to:1023410176,id:"DROM"},{from:1023410176,to:1040187392,id:"EXTRAM_DATA"},{from:1611653120,to:1611661312,id:"RTC_DRAM"},{from:1070104576,to:1070596096,id:"BYTE_ACCESSIBLE"},{from:1070104576,to:1077813248,id:"MEM_INTERNAL"},{from:1070104576,to:1070596096,id:"DRAM"},{from:1073741824,to:1073848576,id:"IROM_MASK"},{from:1077346304,to:1077805056,id:"IRAM"},{from:1611653120,to:1611661312,id:"RTC_IRAM"},{from:1107296256,to:1115684864,id:"IROM"},{from:1342177280,to:1342185472,id:"RTC_DATA"}]},{name:"esp32-c3",chipId:5,memmap:[{from:0,to:65536,id:"PADDING"},{from:1006632960,to:1015021568,id:"DROM"},{from:1070071808,to:1070465024,id:"DRAM"},{from:1070104576,to:1070596096,id:"BYTE_ACCESSIBLE"},{from:1072693248,to:1072824320,id:"DROM_MASK"},{from:1073741824,to:1074135040,id:"IROM_MASK"},{from:1107296256,to:1115684864,id:"IROM"},{from:1077395456,to:1077805056,id:"IRAM"},{from:1342177280,to:1342185472,id:"RTC_IRAM"},{from:1342177280,to:1342185472,id:"RTC_DRAM"},{from:1611653120,to:1611661312,id:"MEM_INTERNAL2"}]}];function o(e){return`0x${e.addr.toString(16)} 0x${e.data.length.toString(16)} bytes; ${e.isDROM?"drom ":""}${e.isMapped?"mapped ":""}${c.U.toHex(e.data.slice(0,20))}...`}function t(t){if(233!=t[0])throw new Error("ESP: invalid magic: "+t[0]);let n=24;const r=d(t,12),i=p.find(e=>e.chipId==r);if(!i)throw new Error("ESP: unknown chipid: "+r);var a={header:t.slice(0,n),chipName:i.name,segments:[]},s=t[1];for(let e=0;e<s;++e){const d=u(t,n),p=u(t,n+4),r=(n+=8,t.slice(n,n+p));if(r.length!=p)throw new Error("too short file");if(n+=p,!o(d,"PADDING")){const i=a.segments.filter(e=>e.addr+e.data.length==d)[0];i?i.data=c.U.uint8ArrayConcat([i.data,r]):a.segments.push({addr:d,isMapped:o(d,"DROM")||o(d,"IROM"),isDROM:o(d,"DROM"),data:r})}}return a;function o(t,n){return i.memmap.some(e=>e.id==n&&e.from<=t&&t<=e.to)}}function l(e){e=c.U.flatClone(e);return e.segments=e.segments.map(c.U.flatClone),e}e.toBuffer=function(e,t=!0){let n=(e=function(t){const n=65535,r=((t=l(t)).segments.sort((e,t)=>e.addr-t.addr),c.debug("esp padding:\n"+t.segments.map(o).join("\n")+"\n"),t.segments.filter(e=>e.isMapped)),i=t.segments.filter(e=>!e.isMapped);t.segments=[];let a=t.header.length;for(const t of r){const r=t.addr+t.data.length&n;if(r<36){const n=new Uint8Array(36-r);t.data=c.U.uint8ArrayConcat([t.data,n])}}for(;0<r.length;){let e=r[0];const i=function(e){let t=(e.addr-8&n)-a&n;return 0==t?0:((t-=8)<0&&(t+=65536),t)}(e);if(0<i)e=s(i);else{if((a+8&n)!=(e.addr&n))throw new Error(`pad oops 0 ${a}+8 != ${e.addr} (mod mask)`);r.shift()}if(t.segments.push(e),3&(a+=8+e.data.length))throw new Error("pad oops 1")}return t.segments=t.segments.concat(i),c.debug("esp padded:\n"+t.segments.map(o).join("\n")+"\n"),t;function s(e){var t,n;return!i.length||e<=8?{addr:0,isMapped:!1,isDROM:!1,data:new Uint8Array(e)}:(n={addr:(t=i[0]).addr,isMapped:t.isMapped,isDROM:t.isDROM,data:t.data.slice(0,e)},t.data=t.data.slice(e),t.addr+=n.data.length,0==t.data.length&&i.shift(),n)}}(e)).header.length;for(const c of e.segments)n+=8+c.data.length;n=n+16&-16;let r=new Uint8Array(n),i=(r.set(e.header),r[1]=e.segments.length,e.header.length),a=239;for(const t of e.segments){c.HF2.write32(r,i,t.addr),c.HF2.write32(r,i+4,t.data.length),r.set(t.data,i+8),i+=8+t.data.length;for(let e=0;e<t.data.length;++e)a^=t.data[e]}if(r[r.length-1]=a,t){r[23]=1;const e=ts.pxtc.BrowserImpl.sha256buffer(r);r=c.U.uint8ArrayConcat([r,c.U.fromHex(e)])}else r[23]=0;return r},e.parseBuffer=t,e.parseB64=function(e){return t(c.U.stringToUint8Array(atob(e.join(""))))},e.cloneStruct=l}}(pxt=pxt||{}),function(p){{var y=p.pxtc||(p.pxtc={}),e;let g;(e=g=g||{})[e.None=0]="None",e[e.Whitespace=1]="Whitespace",e[e.Identifier=2]="Identifier",e[e.Keyword=3]="Keyword",e[e.Operator=4]="Operator",e[e.CommentLine=5]="CommentLine",e[e.CommentBlock=6]="CommentBlock",e[e.NewLine=7]="NewLine",e[e.Literal=8]="Literal",e[e.Tree=9]="Tree",e[e.Block=10]="Block",e[e.EOF=11]="EOF";let d,h=p.SyntaxKind;function v(e){switch(e){case h.CommaToken:return 1;case h.EqualsToken:case h.PlusEqualsToken:case h.MinusEqualsToken:case h.AsteriskEqualsToken:case h.AsteriskAsteriskEqualsToken:case h.SlashEqualsToken:case h.PercentEqualsToken:case h.LessThanLessThanEqualsToken:case h.GreaterThanGreaterThanEqualsToken:case h.GreaterThanGreaterThanGreaterThanEqualsToken:case h.AmpersandEqualsToken:case h.BarEqualsToken:case h.CaretEqualsToken:return 1;case h.QuestionToken:case h.ColonToken:case h.BarBarToken:case h.AmpersandAmpersandToken:case h.BarToken:case h.CaretToken:case h.AmpersandToken:return 1;case h.EqualsEqualsToken:case h.ExclamationEqualsToken:case h.EqualsEqualsEqualsToken:case h.ExclamationEqualsEqualsToken:return 1;case h.LessThanToken:case h.GreaterThanToken:case h.LessThanEqualsToken:case h.GreaterThanEqualsToken:case h.InstanceOfKeyword:case h.InKeyword:case h.AsKeyword:return 1;case h.LessThanLessThanToken:case h.GreaterThanGreaterThanToken:case h.GreaterThanGreaterThanGreaterThanToken:return 1;case h.PlusToken:case h.MinusToken:return 1;case h.AsteriskToken:case h.SlashToken:case h.PercentToken:case h.AsteriskAsteriskToken:case h.DotToken:return 1;default:return}}function f(e,t){for(;e[t]&&e[t].kind==g.Whitespace;)t++;return t}function b(){return{kind:g.EOF,synKind:h.EndOfFileToken,pos:0,lineNo:0,text:""}}function x(e,t){return{kind:g.Whitespace,synKind:h.WhitespaceTrivia,pos:e.pos-t.length,lineNo:e.lineNo,text:t}}function k(e){return{kind:g.Block,synKind:h.OpenBraceToken,pos:e[0].pos,lineNo:e[0].lineNo,stmts:[{tokens:e}],text:"{",endToken:null}}function S(r,i,a=null){let s,o=[],c=0,l=!1;for(r=r.concat([b()]);r[c].kind!=g.EOF;){var e=c;m(),y.Util.assert(c>e,"Error at "+r[c].text),function(e){if(0!=(e=i?T(e):e).length){if(e.forEach(u),e=function n(r){let i=[],a=0;for(;a<r.length;)if(r[a].blockSpanLength){let e=r.slice(a,a+r[a].blockSpanLength),t=!!e[0].blockSpanIsVirtual;delete e[0].blockSpanLength,delete e[0].blockSpanIsVirtual,a+=e.length,e=n(e),t?i.push((s=e,{kind:g.Tree,synKind:h.WhitespaceTrivia,pos:s[0].pos,lineNo:s[0].lineNo,children:s,endToken:null,text:""})):(i.push(x(e[0]," ")),i.push(k(T(e))))}else i.push(r[a++]);var s;return i}(e),i&&0<o.length){var t=o[o.length-1].tokens[0].synKind,n=e[0].synKind;if(t==h.IfKeyword&&n==h.ElseKeyword||t==h.TryKeyword&&n==h.CatchKeyword||t==h.TryKeyword&&n==h.FinallyKeyword||t==h.CatchKeyword&&n==h.FinallyKeyword)return e.unshift(x(e[0]," ")),y.Util.pushRange(o[o.length-1].tokens,e)}o.push({tokens:e})}}(r.slice(e,c))}return o;function u(e){e.kind==g.Tree&&(e.children=y.Util.concat(S(e.children,!1,e).map(e=>e.tokens)))}function d(){for(;;)switch(c++,r[c].kind){case g.Whitespace:case g.CommentBlock:case g.CommentLine:case g.NewLine:break;default:return}}function p(){for(;r[c].kind==g.Whitespace;)c++;r[c].kind==g.NewLine&&c++}function f(){y.Util.assert(r[c].synKind==h.OpenBraceToken);var e=r[c],t=(y.Util.assert(e.kind==g.Tree),r[c]);t.stmts=S(e.children,!0,s),delete e.children,t.kind=g.Block,c++,l=!0}function _(){var e=c+1;d(),r[c].synKind==h.OpenBraceToken?(f(),p()):(m(),r[e].blockSpanLength=c-e)}function m(){for(;;){let e=r[c],t=c;if(s=e,l=!1,e.kind==g.EOF)return;if(i&&e.synKind==h.SemicolonToken)return c++,p();if(e.synKind==h.EqualsGreaterThanToken){if(d(),r[c].synKind==h.OpenBraceToken){f();continue}{var n=c;m();let e=c;for(;r[e].kind==g.NewLine;)e--;return r[n].blockSpanLength=e-n,r[n].blockSpanIsVirtual=!0}}if(i&&v(e.synKind)){n=c;if(d(),!function(e){if(e)switch(e.synKind){case h.IfKeyword:case h.ElseKeyword:case h.LetKeyword:case h.ConstKeyword:case h.VarKeyword:case h.DoKeyword:case h.WhileKeyword:case h.SwitchKeyword:case h.CaseKeyword:case h.DefaultKeyword:case h.ForKeyword:case h.ReturnKeyword:case h.BreakKeyword:case h.ContinueKeyword:case h.TryKeyword:case h.CatchKeyword:case h.FinallyKeyword:case h.DeleteKeyword:case h.FunctionKeyword:case h.ClassKeyword:case h.YieldKeyword:case h.DebuggerKeyword:return 1;default:return}}(r[c]))continue;c=n}if(i&&e.kind==g.NewLine){if(d(),v((e=r[c]).synKind)&&e.synKind!=h.PlusToken&&e.synKind!=h.MinusToken)continue;return c=t+1}if(e.synKind==h.OpenBraceToken&&a&&a.synKind==h.ClassKeyword){let e=c-1;for(;0<=e&&r[e].kind==g.Whitespace;)e--;if(e<0||r[e].synKind!=h.EqualsToken)return c--,_()}switch(y.Util.assert(t==c),e.synKind){case h.ForKeyword:case h.WhileKeyword:case h.IfKeyword:case h.CatchKeyword:if(d(),r[c].synKind!=h.OpenParenToken)continue;return _();case h.DoKeyword:if(_(),c--,d(),r[c].synKind!=h.WhileKeyword)return;c++;continue;case h.ElseKeyword:if(d(),r[c].synKind==h.IfKeyword)continue;return c=t,_();case h.TryKeyword:case h.FinallyKeyword:return _();case h.ClassKeyword:case h.NamespaceKeyword:case h.ModuleKeyword:case h.InterfaceKeyword:case h.FunctionKeyword:for(;;)switch(c++,r[c].kind){case g.EOF:return;case g.Tree:if(r[c].synKind==h.OpenBraceToken)return c--,void _()}return}y.Util.assert(!l,"forgot continue/return after expectBlock"),c++}}}function t(e){return e&&(e.kind==g.Whitespace||e.kind==g.NewLine)}function _(t){let n=[],r=!1;for(let e=0;e<t.length;++e)t[e=r?f(t,e):e]&&(n.push(t[e]),r=t[e].kind==g.NewLine);return n}function T(e){for(e=e.slice(0);t(e[0]);)e.shift();for(;t(e[e.length-1]);)e.pop();return e}function m(i,e){if(e.synKind==h.NoSubstitutionTemplateLiteral&&/^`[\s\.#01]*`$/.test(e.text)){var a=e.text.slice(1,e.text.length-1).split("\n").map(e=>e.replace(/\s/g,"")).filter(e=>!!e);if(!(a.length<4||5<a.length)){let n=Math.floor((Math.max(...a.map(e=>e.length))+2)/5),r=(n<=0&&(n=1),"`\n");for(let t=0;t<5;++t){let e=a[t]||"";for(;e.length<5*n;)e+=".";e=(e=(e=e.replace(/0/g,".")).replace(/1/g,"#")).replace(/...../g,e=>"/"+e),r+=i+e.replace(/./g,e=>" "+e).replace(/\//g," ").slice(3)+"\n"}r+=i+"`",e.text=r}}}y.toStr=function e(t){return Array.isArray(t)?"[[ "+t.map(e).join("  ")+" ]]":"string"==typeof t.text?JSON.stringify(t.text):t+""},y.format=function(e,t){let n=S(function(r){let i=[];i.push({synKind:h.EndOfFileToken,token:{children:[]}});var a,s;for(let n=0;n<r.length;++n){let e=r[n],t=i[i.length-1];if(t.token.children.push(e),e.kind===g.Operator)switch(e.synKind){case h.OpenBraceToken:case h.OpenParenToken:case h.OpenBracketToken:s=(a=e).synKind+1,a.children=[],a.kind=g.Tree,i.push({synKind:s,token:a});break;case h.CloseBraceToken:case h.CloseParenToken:case h.CloseBracketToken:for(t.token.children.pop();;){if((t=i.pop()).synKind==e.synKind){t.token.endToken=e;break}if(0==i.length||t.synKind==h.CloseBraceToken){i.push(t);break}}}}return i[0].token.children}(function(n,r){let i=[],e=!0,a=1;for(let t=0;t<n.length;++t){if(e){var s=t;if(n[t=f(n,t)].kind==g.NewLine){let e=!1;0<=r&&n[t].pos>=r&&(r=-1,e=!0),i.push({text:"",kind:g.CommentLine,pos:n[t].pos,lineNo:a,synKind:h.SingleLineCommentTrivia,isCursor:e})}else t=s}i.push(n[t]),n[t].lineNo=a,n[t].kind==g.NewLine?(e=!0,a++):e=!1,0<=r&&n[t].pos>=r&&(r=-1)}return i}(function(e){d=e;let n=p.createScanner(p.ScriptTarget.Latest,!1,p.LanguageVariant.Standard,e,e=>{var t=n.getTextPos();console.log("scanner error",t,e.message)}),t=[],r=0,i=-1;for(;;){let e=n.scan();e==h.CloseBraceToken&&r==i&&(i=-1,e=n.reScanTemplateToken());var a={kind:function(e){switch(e){case h.EndOfFileToken:return g.EOF;case h.SingleLineCommentTrivia:return g.CommentLine;case h.MultiLineCommentTrivia:return g.CommentBlock;case h.NewLineTrivia:return g.NewLine;case h.WhitespaceTrivia:return g.Whitespace;case h.ShebangTrivia:case h.ConflictMarkerTrivia:return g.CommentBlock;case h.NumericLiteral:case h.StringLiteral:case h.RegularExpressionLiteral:case h.NoSubstitutionTemplateLiteral:case h.TemplateHead:case h.TemplateMiddle:case h.TemplateTail:return g.Literal;case h.Identifier:return g.Identifier;default:return e<h.Identifier?g.Operator:g.Keyword}}(e=(e=e==h.SlashEqualsToken&&(a=n.reScanSlashToken())==h.RegularExpressionLiteral?a:e)==h.GreaterThanToken?n.reScanGreaterToken():e),synKind:e,lineNo:0,pos:n.getTokenPos(),text:n.getTokenText()};if(e==h.OpenBraceToken&&r++,e==h.CloseBraceToken&&--r<0&&(r=-1e7),t.push(a),e!=h.TemplateHead&&e!=h.TemplateMiddle||(i=r),a.kind==g.EOF)break}return{tokens:t,braceBalance:r}}(e).tokens,t)),!0),s="",o="",r=-1,i=0;return n.forEach(l),n.forEach(e=>e.tokens.forEach(a)),-1==r&&(r=o.length),{formatted:o,pos:r};function a(e){var t;e.kind==g.Tree?((t=e).synKind,h.OpenBraceToken,t.children.forEach(a)):e.kind==g.Block&&e.stmts.forEach(e=>e.tokens.forEach(a))}function c(e,t){i==e.lineNo?t():(i=e.lineNo,e=s,s+="    ",t(),s=e)}function l(e){let t=_(e.tokens);(1!=t.length||t[0].isCursor||""!=t[0].text)&&(o+=s,c(t[0],()=>{!function i(a){a=function(t){let r=[],i=0,a=b();for(t=t.concat([b()]);i<t.length;){i=f(t,i);let n=t[i];if(n.kind==g.EOF)break;let e=f(t,i+1);if(n.kind==g.NewLine&&t[e].synKind==h.OpenBraceToken)i=e;else{let e=!0,t=0==r.length?(s=n,{kind:g.NewLine,synKind:h.NewLineTrivia,pos:s.pos,lineNo:s.lineNo,text:"\n"}):r[r.length-1];switch(t.synKind){case h.ExclamationToken:case h.TildeToken:case h.DotToken:e=!1;break;case h.PlusToken:case h.MinusToken:case h.PlusPlusToken:case h.MinusMinusToken:t.isPrefix&&(e=!1)}switch(n.synKind){case h.DotToken:case h.CommaToken:case h.NewLineTrivia:case h.ColonToken:case h.SemicolonToken:case h.OpenBracketToken:e=!1;break;case h.PlusPlusToken:case h.MinusMinusToken:t.kind!=g.Tree&&t.kind!=g.Identifier&&t.kind!=g.Keyword||(e=!1);case h.PlusToken:case h.MinusToken:a.kind!=g.EOF&&!v(a.synKind)&&a.synKind!=h.SemicolonToken||(n.isPrefix=!0);break;case h.OpenParenToken:if(t.kind==g.Identifier&&(e=!1),t.kind==g.Keyword)switch(t.synKind){case h.IfKeyword:case h.ForKeyword:case h.WhileKeyword:case h.SwitchKeyword:case h.ReturnKeyword:case h.ThrowKeyword:case h.CatchKeyword:break;default:e=!1}}(e=t.kind==g.NewLine?!1:e)&&r.push(x(n," ")),r.push(n),n.kind!=g.NewLine&&(a=n),i++}}var s;return r}(a);for(let r=0;r<a.length;++r){let n=a[r];switch(m(s,n),u(n),n.kind){case g.Tree:let e=n;c(n,()=>{i(_(e.children))}),e.endToken&&u(e.endToken);break;case g.Block:let t=n;0==t.stmts.length?o+=" ":(o+="\n",t.stmts.forEach(l),o+=s.slice(4)),t.endToken?u(t.endToken):o+="}";break;case g.NewLine:a[r+1]&&a[r+1].kind==g.CommentLine&&""==a[r+1].text&&!a[r+1].isCursor||(r==a.length-1?o+=s.slice(4):o+=s);break;case g.Whitespace:}}}(t)}),"\n"==o[o.length-1])||(o+="\n")}function u(e){-1==r&&e.pos+e.text.length>=t&&(r=o.length+(t-e.pos)),o+=e.text}}}}(ts=ts||{}),function(_){{var b=_.pxtc||(_.pxtc={});let h;function x(r,i){if(i.packedSource){let e=r.currPtr+4096&-256,n=new Uint8Array(256);for(let t=0;t<i.packedSource.length;t+=256){for(let e=0;e<256;++e)n[e]=i.packedSource.charCodeAt(t+e);b.UF2.writeBytes(r,e,n,b.UF2.UF2_FLAG_NOFLASH),e+=256}}}{var s=h=b.hexfile||(b.hexfile={});s.asmTotalSource="";let o={},a=[],v={commBase:0,funcInfo:{},codeStartIdx:-1,codePaddingSize:0,sha:null,codeStartAddrPadded:void 0,hexlines:void 0,jmpStartAddr:void 0,jmpStartIdx:void 0,codeStartAddr:void 0,elfInfo:void 0,espInfo:void 0};function k(e){let t="",n=0;for(;n<e.length;n+=2)t=e[n]+e[n+1]+t;return b.assert(n==e.length),t}function m(e){if(!(e=e.replace(/^[\s:]/,"")))return[];let t=[];if(e.replace(/([a-f0-9][a-f0-9])/gi,e=>(t.push(parseInt(e,16)),"")))throw b.oops("bad bytes "+e);return t}function g(e){return e.flashCodeAlign||1024}s.getCommBase=function(){return v.commBase},s.getStartAddress=function(){return v.codeStartAddrPadded},s.setupInlineAssembly=function(e){o={};var t,n=e.sourceFiles.filter(e=>b.U.endsWith(e,".asm"));s.asmTotalSource="";let r=0;for(t of n){var i=e.fileSystem[t],i=(i.replace(/^\s*(\w+):/gm,(e,t)=>(o[t]=!0,"")),".section code\n@stackmark func\n@scope user"+r+++"\n"+i+"\n@stackempty func\n@scope\n");s.asmTotalSource+=i}},s.parseHexBytes=m,s.parseHexRecord=function(e){e=m(e);return{len:e[0],addr:e[1]<<8|e[2],type:e[3],data:e.slice(4,e.length-1),checksum:e[e.length-1]}},s.flashCodeAlign=g;const D="0108010842424242010801083ed8e98d";function c(e){return v.funcInfo[e]}function S(){let e=v.sha?v.sha.slice(0,16):"";for(;e.length<16;)e+="0";return e.toUpperCase()}function T(e){let t=0,n=":";return e.forEach(e=>t+=e),e.push(255&-t),e.forEach(e=>n+=("0"+e.toString(16)).slice(-2)),n.toUpperCase()}s.setupFor=function(o,n){if(!(v=a.find(e=>e.sha==n.sha))){v={commBase:0,funcInfo:{},codeStartIdx:-1,codePaddingSize:0,sha:null,codeStartAddrPadded:void 0,hexlines:void 0,jmpStartAddr:void 0,jmpStartIdx:void 0,codeStartAddr:void 0,elfInfo:void 0,espInfo:void 0},(a=10<a.length?[]:a).push(v);let s=n.functions;v.commBase=n.commBase||0,v.sha=n.sha;const _=n.hexinfo.hex;if(v.hexlines=_,b.target.nativeType==b.NATIVE_TYPE_VM){v.codeStartAddr=0,v.codeStartAddrPadded=0,v.jmpStartAddr=-1,v.jmpStartIdx=-1;for(var e of s)v.funcInfo[e.name]=e,e.value=16777215;if(b.target.useESP){const o=pxt.esp.parseB64(_),r=b.U.fromHex(D),a=(t,n)=>{for(let e=0;e<r.length;++e)if(t[n+e]!=r[e])return!1;return!0},k=o.segments.filter(e=>e.isDROM);b.U.assert(1==k.length);let t=!1;const g=k[0];v.codeStartAddr=g.addr+g.data.length,v.codeStartAddrPadded=v.codeStartAddr+255&-256,v.codePaddingSize=v.codeStartAddrPadded-v.codeStartAddr,pxt.debug(`user code start: 0x${v.codeStartAddrPadded.toString(16)}; dromlen=${g.data.length} pad=`+v.codePaddingSize);for(let e=0;e<g.data.length;e+=32)if(a(g.data,e)){t=!0;const b=e+=r.length;for(var i of n.vmPointers||[])"0"!=i&&(i=i.replace(/^&/,""),v.funcInfo[i]={name:i,argsFmt:[],value:pxt.HF2.read32(g.data,e)},e+=4);pxt.HF2.write32(g.data,b,v.codeStartAddrPadded);break}b.U.assert(t||0==(n.vmPointers||[]).length),v.espInfo=o,v.codeStartAddrPadded=0}}else if(_.length<=2){const o=b.U.fromHex(_[0]);if(o[2]<=2&&96==o[3]){const b=1610612736,n=4096,e=o.length+4096-1&-4096;v.elfInfo={template:o,imageMemStart:1610612736+e,imageFileStart:e,phOffset:-1e3}}else v.elfInfo=pxt.elf.parse(o);v.codeStartAddr=v.elfInfo.imageMemStart,v.codeStartAddrPadded=v.elfInfo.imageMemStart;var t=_[0].indexOf(D);t<0&&b.oops("no jmp table in elf"),v.jmpStartAddr=t/2,v.jmpStartIdx=-1,p(_[0].slice(t+32,t+32+8*s.length+16)),void f()}else{var r,c=_;for(let e=0;e<c.length;++e)"2"==c[e][8]&&(r=/^:02....02(....)..$/.exec(c[e]),b.U.assert(!!r),r=16*parseInt(r[1],16),b.U.assert(0==(65535&r)),c[e]=T([2,0,0,4,0,r>>16]));let e=0,t="0000",i=0,a=0;v.codeStartAddr=0;for(var l=()=>{if(!v.codeStartAddr){var e=m(_[a]),t=16-(i+e[0]&15)&15;if(t)if(15&e[2]){var n=i+e[0],r=[t,n>>8,255&n,0];for(let e=0;e<t;++e)r.push(0);a++,_.splice(a,0,T(r)),v.codeStartAddr=n+t}else{if(16!=e[0]){for(e.pop(),e[0]=16;e.length<20;)e.push(0);_[a]=T(e)}v.codeStartAddr=i+16}else v.codeStartAddr=i+e[0];v.codeStartIdx=a+1;n=g(o),n=(v.codeStartAddrPadded=(v.codeStartAddr&~(n-1))+n,v.codeStartAddrPadded-v.codeStartAddr);b.assert(0==(15&n)),v.codePaddingSize=n}};e<_.length;++e){var u=/:02000004(....)/.exec(_[e]);u&&(t=u[1]),(u=/^:..(....)00/.exec(_[e]))&&(u=parseInt(t+u[1],16),!o.flashUsableEnd&&i&&65536<u-i&&l(),o.flashUsableEnd&&u>=o.flashUsableEnd&&l(),a=e,i=u),/^:00000001/.test(_[e])&&l(),/^:10....000108010842424242010801083ED8E98D/.exec(_[e])&&(v.jmpStartAddr=i,v.jmpStartIdx=e)}pxt.debug(`code start: ${v.codeStartAddrPadded}, jmptbl: `+v.jmpStartAddr),v.jmpStartAddr||b.oops("No hex start"),v.codeStartAddr||b.oops("No hex end"),v.funcInfo={};for(let e=v.jmpStartIdx+1;e<_.length;++e){var d=/^:..(....)00(.{4,})/.exec(_[e]);if(d&&(p(d[2]),0==s.length))break}function p(n){for(var r=o.shortPointers?4:8;n.length>=r;){let e=n.slice(0,r),t=parseInt(k(e),16);n=n.slice(r);var i=s.shift();if(!i)break;v.funcInfo[i.name]=i,t||b.U.oops("No value for "+i.name+" / "+e),0==i.argsFmt.length?t^=1:o.runtimeIsARM||o.nativeType!=b.NATIVE_TYPE_THUMB||1&t||b.U.oops("Non-thumb addr for "+i.name+" / "+e),i.value=t}}function f(){s.length&&b.oops("premature EOF in hex file; missing: "+s.map(e=>e.name).join(", "))}f()}}},s.validateShim=function(e,t,n,r,i){if("TD_ID"!=t&&"TD_NOOP"!=t&&"ENUM_GET"!=t&&!b.U.lookup(o,t)){var a=e+`(...) (shim=${t})`,s=c(t);if(s){r?"V"==s.argsFmt[0]&&b.U.userError("expecting function for "+a):"V"!=s.argsFmt[0]&&b.U.userError("expecting procedure for "+a);for(let e=0;e<i.length;++e)s.argsFmt[e+1]||b.U.userError("excessive parameters passed to "+a);i.length!=s.argsFmt.length-1&&b.U.userError(`not enough arguments for ${a} (got ${i.length}; fmt=${s.argsFmt.join(",")})`)}else b.U.userError("function not found: "+a)}},s.lookupFunc=c,s.lookupFunctionAddr=function(e){return"_pxt_comm_base"==e?v.commBase:(e=c(e))?e.value:null},s.hexTemplateHash=S,s.hexPrelude=function(){return`    .startaddr 0x${v.codeStartAddrPadded.toString(16)}
`},s.hexBytes=T,s.patchHex=function(n,r,e,t){let i=v.hexlines.slice(0,v.codeStartIdx);n.target.useESP||(u=2*r.length+7>>3,b.assert(u<64e3,"program too large, bytes: "+2*r.length),r[17]=u,r[20]=n.commSize);let a=[];for(let e=0;e<v.codePaddingSize>>1;++e)a.push(0);r=a.concat(r);let s=0;function o(t,e){var n=[16,e>>8&255,255&e,0];for(let e=0;e<8;++e)n.push(255&(t[s]||0)),n.push((t[s]||0)>>>8),s++;return n}var c=[16912,0,65535&v.codeStartAddrPadded,v.codeStartAddrPadded>>>16],l=S();for(let e=0;e<4;++e)c.push(parseInt(k(l.slice(4*e,4*e+4)),16));var u,d=t?b.UF2.newBlockFile(b.target.uf2Family):null;if(v.elfInfo){var p=new Uint8Array(2*r.length);for(let e=0;e<r.length;++e)pxt.HF2.write16(p,2*e,r[e]);var f=pxt.elf.patch(v.elfInfo,p);for(let e=0;e<c.length;++e)pxt.HF2.write16(f,2*e+v.jmpStartAddr,c[e]);if(!d||n.target.switches.rawELF)return[b.U.uint8ArrayToString(f)];{let e=n.options.name||"pxt";return e=e.replace(/[^a-zA-Z0-9\-\.]+/g,"_"),d.filename="Projects/"+e+".elf",b.UF2.writeBytes(d,0,f),[b.UF2.serializeFile(d)]}}if(v.espInfo){const e=pxt.esp.cloneStruct(v.espInfo),k=e.segments.find(e=>e.isDROM);let t=k.data.length;const i=new Uint8Array(t+2*r.length+255&-256);i.set(k.data);for(let e=0;e<r.length;++e)pxt.HF2.write16(i,t,r[e]),t+=2;k.data=i;const a=pxt.esp.toBuffer(e);return d?(b.UF2.writeBytes(d,0,a),x(d,n),[b.UF2.serializeFile(d)]):[b.U.uint8ArrayToString(a)]}if(d){if(b.UF2.writeHex(d,i),b.UF2.writeBytes(d,v.jmpStartAddr,o(c,v.jmpStartIdx).slice(4)),n.checksumBlock){var _,m=[];for(_ of n.checksumBlock)m.push(255&_,_>>8);b.UF2.writeBytes(d,n.target.flashChecksumAddr,m)}}else i[v.jmpStartIdx]=T(o(c,v.jmpStartAddr)),n.checksumBlock&&b.U.oops("checksum block in HEX not implemented yet");s=0,e&&(i=[]);let g=v.codeStartAddr,h=g-16>>16;for(;s<r.length;)d?b.UF2.writeBytes(d,g,o(r,g).slice(4)):(g>>16!=h&&(h=g>>16,i.push(T([2,0,0,4,h>>8,255&h]))),i.push(T(o(r,g)))),g+=16;if(e||(u=v.hexlines.slice(v.codeStartIdx),d?b.UF2.writeHex(d,u):b.Util.pushRange(i,u)),!d&&n.target.moveHexEof){for(;!i[i.length-1];)i.pop();":00000001FF"==i[i.length-1]&&i.pop()}if(n.packedSource)if(d)x(d,n);else{let e=0;for(let t=0;t<n.packedSource.length;t+=16){var y=[16,e>>8&255,255&e,14];for(let e=0;e<16;++e)y.push(255&(n.packedSource.charCodeAt(t+e)||0));i.push(T(y)),e+=16}}return!d&&n.target.moveHexEof&&i.push(":00000001FF"),d?[b.UF2.serializeFile(d)]:i}}b.hexDump=function(r,e=0){function i(e,t=8){let n=e.toString(16);for(;n.length<t;)n="0"+n;return n}let a="";for(let n=0;n<r.length;n+=16){a+=i(e+n)+": ";let t="";for(let e=0;e<16;e++){0==(3&e)&&(a+=" ");var s=r[n+e];null!=s?(a+=i(s,2)+" ",t+=32<=s&&s<127?String.fromCharCode(s):"."):a+="   "}a+=" "+t+"\n"}return a},b.asmline=function(e){return 0<=e.indexOf("\n")?e.replace(/^\s*/gm,"").replace(/^(.*)$/gm,(e,t)=>";"==t[0]&&" "==t[1]||/:\*$/.test(t)?t:"    "+t)+"\n":(e=/(^[\s;])|(:$)/.test(e)?e:"    "+e)+"\n"},b.firstMethodOffset=function(){return 9};const e=[21078089,22513679,15655169,18636881,19658081,21486649,21919277,20041213,20548751,16180187,18361627,19338023,19772677,16506547,23530697,22998697,21225203,19815283,23679599,19822889,21136133,19540043,21837031,18095489,23924267,23434627,22582379,21584111,22615171,23403001,19640683,19998031,18460439,20105387,17595791,16482043,23199959,18881641,21578371,22765747,20170273,16547639,16434589,21435019,20226751,19506731,21454393,23224541,23431973,23745511];function y(s){let o=32;b.U.assert(b.U.unique(s,e=>""+e).length==s.length,"non unique");for(let a=2;;a<<=1)if(o--,!(a<s.length)){let t,r=-1,i=-1;for(var c of e){var l,u=c<<8|o,d=new Uint16Array(a+b.vtLookups+1);b.U.assert(0==(1&d.length));let n=0,e=[];for(l of s){b.U.assert(0<l);var p=Math.imul(l,u)>>>o;e.push(p);let t=!1;for(let e=0;e<b.vtLookups;e++){if(!d[p+e]){t=!0,d[p+e]=l;break}n++}if(!t){n=-1;break}}(-1==r||r>n)&&(r=n,i=u,t=d)}if(0<=r)return{mult:i,mapping:t,size:a}}}function v(e,t,n){var r=y(e.itable.map(e=>e.idx));let i=b.target.shortPointers?".short":".word",a=`
        .balign 4
${e.id}_VT:
        .short ${4*e.allfields.length+4}  ; size in bytes
        .byte ${pxt.ValTypeObject}, ${pxt.VTABLE_MAGIC} ; magic
        ${i} ${e.id}_IfaceVT
        .short ${e.classNo} ; class-id
        .short 0 ; reserved
        .word ${r.mult} ; hash-mult
`,s=e=>{"0"!=e&&(e+="@fn"),a+=`        ${i} ${e}
`};s("pxt::RefRecord_destroy"),s("pxt::RefRecord_print"),s("pxt::RefRecord_scan"),s("pxt::RefRecord_gcsize");var o,c,l=e.toStringMethod;s(l?l.vtLabel():"0");for(o of e.vtable)s(o.label()+"_nochk");a+=`
        .balign ${b.target.shortPointers?2:4}
${e.id}_IfaceVT:
`;const u=2*r.mapping.length;let d="",p=u,f={};for(c of e.itable){f[c.idx+""]=p;const e=c.proc?c.proc.isGetter()?1:2:0;d=(d+=`  .short ${c.idx}, ${e} ; ${c.name}
`)+`  .word ${c.proc?c.proc.vtLabel()+"@fn":c.info}
`,p+=8,c.setProc&&(d=(d+=`  .short ${c.idx}, 0 ; set ${c.name}
`)+`  .word ${c.setProc.vtLabel()}@fn
`,p+=8)}d+="  .word 0, 0 ; the end\n",p+=8;var _=r.mapping;for(let e=0;e<_.length;++e)n.itEntries++,_[e]&&n.itFullEntries++;return a=(a+="  .short "+b.U.toArray(_).map((e,t)=>(f[e+""]||u)-2*t).join(", ")+"\n")+d+"\n"}b.vtLookups=3,b.computeHashMultiplier=y,b.vtableToAsm=v;const E=["GC"];function i(e){var t=e.nativeType==b.NATIVE_TYPE_VM?new b.assembler.VMFile(new b.vm.VmProcessor(e)):new b.assembler.File(new b.thumb.ThumbProcessor);return t.ei.testAssembler(),e.switches.noPeepHole&&(t.disablePeepHole=!0),t.lookupExternalLabel=h.lookupFunctionAddr,t.normalizeExternalLabel=e=>{var t=h.lookupFunc(e);return t?t.name:e},t}function a(e){if(0<e.errors.length){let n="";throw e.errors.forEach(e=>{var t=/^user(\d+)/.exec(e.scope);t&&(parseInt(t[1]),n=(n+=b.U.lf("At inline assembly:\n"))+e.message)}),n&&(console.log(b.U.lf("errors in inline assembly")),console.log(n)),new Error(e.errors[0].message)}}function C(e,t,n){var r=i(e);return r.emit(n),n=`; Interface tables: ${t.itFullEntries}/${t.itEntries} (${Math.round(100*t.itFullEntries/t.itEntries)}%)
; Virtual methods: ${t.numVirtMethods} / ${t.numMethods}
`+r.getSource(!0,t.numStmts,e.flashEnd),a(r),{src:n,buf:r.buf,thumbFile:r}}function o(r,i,a,n){var e=a.extinfo.disabledDeps,s=(r=e?""+h.hexPrelude()+`
; compilation disabled on this variant due to ${a.extinfo.disabledDeps}
.hex 718E3B92C615A841C49866C975EE5197
.string "${a.extinfo.disabledDeps}"`:`; start
${h.hexPrelude()}
    .hex 708E3B92C615A841C49866C975EE5197 ; magic number
    .hex ${h.hexTemplateHash()} ; hex template hash
    .hex 873266330af9dbdb ; replaced in binary by program hash
`+r,a.embedBlob&&(i.packedSource=function(e,t){let n=b.Util.toUTF8(e),r=(n.length,t.length,"A/¸/¢»");return(r=(r+=b.U.uint8ArrayToString([255&n.length,n.length>>8,255&t.length,t.length>>8,0,0,0,0]))+n+t).length%2&&(r+="\0"),r}(a.embedMeta,_.pxtc.decodeBase64(a.embedBlob)),!i.target.noSourceInFlash)&&i.packedSource.length<4e4&&(r+=function(t){let n="";for(let e=0;e<t.length;++e){var r=255&t.charCodeAt(e);n+=r<=15?"0"+r.toString(16):r.toString(16)}return`
    .balign 16
_stored_program: .hex ${n}
`}(i.packedSource),i.packedSource=null),h.flashCodeAlign(a.target));if(!e&&a.target.flashChecksumAddr){let e=0;for(;s>1<<e;)e++;var o=parseInt(h.hexTemplateHash().slice(8,16),16);const i=h.getStartAddress()/s;o=4294967040&o|e;let t=0,n=i;a.target.flashChecksumAddr<h.getStartAddress()&&(t=Math.ceil((a.target.flashChecksumAddr+32)/s),n-=t),r+=`
    .balign 4
__end_marker:
    .word ${o}

; ------- this will get removed from the final binary ------
__flash_checksums:
    .word 0x87eeb07c ; magic
    .word __end_marker ; end marker position
    .word ${o} ; end marker
    ; template region
    .short ${t}, ${n}
    .word 0x${h.hexTemplateHash().slice(0,8)}
    ; user region
    .short ${i}, 0xffff
    .hex 87326633 ; replaced later
    .word 0x0 ; terminator
`}const t=a.extinfo.outputPrefix||"",c=(i.writeFile(t+b.BINARY_ASM,r),C(a.target,i,r));if(c.thumbFile.commPtr&&(i.commSize=c.thumbFile.commPtr-h.getCommBase()),c.src&&i.writeFile(t+b.BINARY_ASM,c.src),e)return f();var o=n.configData||[];if(o.some(e=>"BOOTLOADER_BOARD_ID"==e.name)){let e="const uint32_t configData[] = {\n";e=(e+="    0x1e9e10f1, 0x20227a79, // magic\n")+`    ${o.length}, 0, // num. entries; reserved
`;for(var l of o)e+=`    ${l.key}, 0x${l.value.toString(16)}, // ${l.name}
`;e+="    0, 0\n};\n",i.writeFile(t+"config.c",e)}if(c.buf){const _=c.buf;let t="";for(let e=0;e<_.length;++e)t+=String.fromCharCode(255&_[e],_[e]>>8);const r=b.U.sha256(t).slice(0,16),n=b.U.range(4).map(e=>parseInt(r.slice(2*e,2*e+2),16));b.U.assert(12935==_[12]);for(let e=0;e<n.length;++e)_[12+e]=n[e];a.target.flashChecksumAddr&&(e=c.thumbFile.lookupLabel("__flash_checksums")/2,b.U.assert(e==_.length-16),o=_.slice(_.length-16),_.splice(_.length-16,16),a=Math.ceil(2*_.length/s),b.U.assert(12935==o[o.length-4]),o[o.length-4]=n[0],o[o.length-3]=n[1],o[o.length-5]=a,i.checksumBlock=o),f()}if(!n.procDebugInfo){for(var u of n.breakpoints){var d=b.U.lookup(c.thumbFile.getLabels(),"__brkp_"+u.id);null!=d&&(u.binAddr=d)}for(var p of i.procs)p.fillDebugInfo(c.thumbFile);if(n.procDebugInfo=i.procs.map(e=>e.debugInfo),i.target.switches.size){const h=[];for(const r of i.procs){const i=_.pxtc.nodeLocationInfo(r.action),a=[i.fileName.replace("pxt_modules/",""),b.getDeclName(r.action),r.debugInfo.size,"function",i.line+1];h.push(a.map(e=>`"${e}"`).join(","))}h.sort(),h.unshift("filename,name,size,type,line"),i.writeFile(t+"size.csv",h.join("\n"))}}function f(){if(pxt.isOutputText(b.target)){const _=h.patchHex(i,c.buf,!1,!1).join("\r\n")+"\r\n";i.writeFile(t+pxt.outputName(b.target),_)}else{var e=_.pxtc.encodeBase64(h.patchHex(i,c.buf,!1,!!b.target.useUF2)[0]);i.writeFile(t+pxt.outputName(b.target),e)}}}b.processorInlineAssemble=function(e,t){var n=i(e),r=(n.disablePeepHole=!0,n.emit(t),a(n),[]);for(let e=0;e<n.buf.length;e+=2)r.push(((n.buf[e+1]||0)<<16|n.buf[e])>>>0);return r},b.assemble=C,b.processorEmit=function(e,t,n){var r=function(t){let n=`
    .short ${t.globalsWords}   ; num. globals
    .short 0 ; patched with number of 64 bit words resulting from assembly
    .word _pxt_config_data
    .short 0 ; patched with comm section size
    .short ${t.nonPtrGlobals} ; number of globals that are not pointers (they come first)
    .word _pxt_iface_member_names
    .word _pxt_lambda_trampoline@fn
    .word _pxt_perf_counters
    .word _pxt_restore_exception_state@fn
    .word ${t.emitString(t.getTitle())} ; name
`,r=null;r=new b.ThumbSnippets;var e,i,a,s,o,c=t.setPerfCounters(E),l=(t.procs.forEach(e=>{e=new b.ProctoAssembler(r,t,e);n+="\n"+e.getAssembly()+"\n"}),new b.ProctoAssembler(r,t,null));l.emitHelpers(),n=(n+="\n"+l.getAssembly()+"\n")+h.asmTotalSource+"_code_end:\n\n",b.U.iterMap(t.codeHelpers,(e,t)=>{n+=`    .section code
${t}:
${e}
`}),n=n+r.arithmetic()+"_helpers_end:\n\n",t.usedClassInfos.forEach(e=>{n+=v(e,0,t)}),n=(n+="\n.balign 4\n_pxt_iface_member_names:\n")+`    .word ${t.ifaceMembers.length}
`;let u=0;for(e of t.ifaceMembers){var d=t.emitString(e);n+=`    .word ${d}  ; ${u++} .${e}
`}n=(n+="    .word 0\n")+"_vtables_end:\n\n\n.balign 4\n_pxt_config_data:\n";for(i of t.res.configData||[])n+=`    .word ${i.key}, ${i.value}  ; ${i.name}=${i.value}
`;n+="    .word 0\n\n";var p=r,f=t;for(a of b.U.unique(f.ifaceMembers.concat(Object.keys(f.strings)),e=>e))f.otherLiterals.push(p.string_literal(f.strings[a],a));for(s of Object.keys(f.doubles)){var _=f.doubles[s];f.otherLiterals.push(`
.balign 4
${_}: ${p.obj_header("pxt::number_vt")}
        .hex ${s}
`)}for(o of Object.keys(f.hexlits))f.otherLiterals.push(p.hex_literal(f.hexlits[o],o)),f.otherLiterals.push();n=(n=n+t.otherLiterals.join("")+"\n.balign 4\n.section code\n_pxt_perf_counters:\n")+`    .word ${c.length}
`;let m="";for(let e=0;e<c.length;++e){var g=".perf"+e;n+=`    .word ${g}
`,m+=g+`: .string ${JSON.stringify(c[e])}
`}return n=n+m+"_literals_end:\n"}(e),i=b.U.flatClone(t);h.setupFor(t.target,t.extinfo||b.emptyExtInfo()),o(r,e,t,n);const a=i.otherMultiVariants||[];if(a.length)try{for(var s of a){const a=b.U.flatClone(i);a.extinfo=s.extinfo,s.target.isNative=!0,a.target=s.target,h.setupFor(a.target,a.extinfo),o(r,e,a,n)}}finally{h.setupFor(i.target,i.extinfo)}},b.validateShim=h.validateShim}}(ts=ts||{}),function(e){(e.pxtc||(e.pxtc={})).getHelpForKeyword=function(e,t){var n={abstract:null,any:null,as:null,break:null,case:null,catch:null,class:null,continue:null,const:null,constructor:null,debugger:null,declare:null,delete:null,do:null,else:null,enum:null,export:null,extends:null,false:lf("Represents the negative outcome of a logical expression"),finally:null,for:null,from:null,function:null,get:null,if:null,implements:null,in:null,instanceof:null,interface:null,is:null,let:null,namespace:null,new:null,null:null,private:null,protected:null,public:null,return:null,set:null,static:null,super:null,switch:null,this:null,throw:null,true:lf("Represents the positive outcome of a logical expression"),try:null,type:null,typeof:null,undefined:null,void:null,while:null,with:null,of:null};return(t?{True:n.true,False:n.false,None:null,abs:null,all:null,any:null,ascii:null,bin:null,bool:null,bytearray:null,bytes:null,callable:null,chr:null,classmethod:null,compile:null,complex:null,copyright:null,credits:null,delattr:null,dict:null,dir:null,divmod:null,enumerate:null,eval:null,exec:null,exit:null,filter:null,float:null,format:null,frozenset:null,getattr:null,globals:null,hasattr:null,hash:null,help:null,hex:null,id:null,input:null,int:null,isinstance:null,issubclass:null,iter:null,len:null,license:null,list:null,locals:null,map:null,max:null,memoryview:null,min:null,next:null,object:null,oct:null,open:null,ord:null,pow:null,print:null,property:null,quit:null,range:null,repr:null,reversed:null,round:null,set:null,setattr:null,slice:null,sorted:null,staticmethod:null,str:null,sum:null,super:null,tuple:null,type:null,vars:null}:n)[e]}}(ts=ts||{}),function(e){(e.pxtc||(e.pxtc={})).LSHost=class{constructor(e){this.p=e}getCompilationSettings(){var e=this.p.getCompilerOptions();return e.noLib=!0,e}getNewLine(){return"\n"}getScriptFileNames(){return this.p.getSourceFiles().map(e=>e.fileName)}getScriptVersion(e){return"0"}getScriptSnapshot(e){const t=this.p.getSourceFile(e);return{getLength:()=>t.getFullText().length,getText:()=>t.getFullText(),getChangeRange:()=>{}}}getCurrentDirectory(){return"."}getDefaultLibFileName(e){return""}useCaseSensitiveFileNames(){return!0}}}(ts=ts||{}),function(D){function A(e){e=null==(e=null==(e=null==e?void 0:e.pxt)?void 0:e.callInfo)?void 0:e.qName;return j.lastApiInfo.apis.byQName[e]}function N(t,n,r){if(t&&!(n<0)){let e=t.parameters[n];if(t.attributes._def){var i=t.attributes._def.parameters[n].shadowBlockId;if(i){const t=r.blocksById[i],n=j.lastApiInfo.apis.byQName[t.qName];"TD_ID"===n.attributes.shim&&1===n.parameters.length&&(e=n.parameters[0])}}return e}}function w(e,t,n,r,i=!1){const a={};r.forEach(e=>{var t;let n=e.symbol.retType;i&&(7==e.symbol.kind?n=e.symbol.namespace:4==e.symbol.kind&&1<(null==(t=null==(t=null==(t=e.symbol.attributes)?void 0:t.enumIdentity)?void 0:t.split("."))?void 0:t.length)&&(n=t[0])),a[n]=[...a[n]||[],e]});var s,r=a[e]||[];let o=[];for(s of r){const r=c(s.symbol,t,D.SymbolFlags.Enum);if(r){const D=n.getTypeOfSymbolAtLocation(r,t),e=B.getEnumMembers(n,D).map(e=>B.enumMemberToQName(n,e)).map(e=>j.lastApiInfo.apis.byQName[e]);o=[...o,...e]}}return[...r,...R(o,1)]}function a(e){return e.flags&D.SymbolFlags.Variable?4:e.flags&D.SymbolFlags.Class?8:e.flags&D.SymbolFlags.Enum?6:e.flags&D.SymbolFlags.EnumMember?7:e.flags&D.SymbolFlags.Method?1:e.flags&D.SymbolFlags.Module?5:e.flags&D.SymbolFlags.Property?2:0}function I(e){return{kind:0,name:e,pyName:e,qName:e,pyQName:e,namespace:"",attributes:{callingConvention:0,paramDefl:{}},fileName:pxt.MAIN_TS,parameters:[],retType:"any"}}function P(e,t){var n=e.getName(),r=/(.*)\.(.*)/.exec(n),i=r?r[2]:n,r=r?r[1]:"",t=null!=(t=null==(t=t.getSymbol())?void 0:t.getName())?t:"any";return{kind:a(e),name:i,pyName:i,qName:n,pyQName:n,namespace:r,attributes:{callingConvention:0,paramDefl:{}},fileName:pxt.MAIN_TS,parameters:[],retType:t}}function O(e,t,n){if(e)return t.byQName[n.getFullyQualifiedName(e)]}function F(e,t){return e.weight!==t.weight?t.weight-e.weight:B.compareSymbols(e.symbol,t.symbol)}function L(e,t){return{symbol:e,weight:t}}function R(e,t){return e.map(e=>L(e,t))}function M(e,t){return e.flags&D.TypeFlags.NumberLiteral?"Number":e.flags&D.TypeFlags.StringLiteral?"String":e.flags&D.TypeFlags.BooleanLiteral?"Boolean":null!=(e={number:"Number",string:"String",boolean:"Boolean"}[t=t.typeToString(e)])?e:t}function n(e,t){return"."===t.charAt(0)&&(t=t.substr(1)),e.substr(0,e.lastIndexOf(".")+1)+t}function c(e,t,n){var r,i=j.service&&j.service.getProgram().getTypeChecker();if(i)for(r of i.getSymbolsInScope(t,n))if(r.escapedName.toString()===e.qName)return r;return null}function U({symbol:e}){return!(/^__/.test(e.name)||/^__/.test(e.namespace)||e.attributes.hidden||e.attributes.deprecated||"TD_ID"==e.attributes.shim||e.attributes.blockAliasFor)}var B,j;B=D.pxtc||(D.pxtc={}),(j=B.service||(B.service={})).getCallSymbol=A,j.getParameter=N,j.getApisForTsType=w,j.getBasicKindDefault=function(e,t){switch(e){case B.SK.StringKeyword:return'""';case B.SK.NumberKeyword:return"0";case B.SK.BooleanKeyword:return t?"False":"false";case B.SK.ArrayType:return"[]";case B.SK.NullKeyword:return t?"None":"null";default:return}},j.tsSymbolToPxtSymbolKind=a,j.makePxtSymbolFromKeyword=I,j.makePxtSymbolFromTsSymbol=P,j.getPxtSymbolFromTsSymbol=O,j.compareCompletionSymbols=F,j.completionSymbol=L,j.completionSymbols=R,j.getNodeAndSymbolAtLocation=function(e,t,n,r){var t=e.getSourceFile(t),i=e.getTypeChecker(),t=B.findInnerMostNodeAtPosition(t,n);if(t){const e=i.getSymbolAtLocation(t);if(e)return[t,O(e,r,i)]}return null},j.tsTypeToPxtTypeString=M,j.filenameWithExtension=n,j.getWordAtPosition=function(t,e){let n=e,r=e;for(;0<n&&i(n);)--n;for(;r<t.length-1&&i(r);)++r;return n!=r?{text:t.substring(n+1,r),start:n+1,end:r}:null;function i(e){e=t.charCodeAt(e);return 65<=e&&e<=90||97<=e&&e<=122}},j.getTsSymbolFromPxtSymbol=c,j.getDefaultEnumValue=function(e,t){const n=j.service&&j.service.getProgram().getTypeChecker(),r=B.getEnumMembers(n,e);for(const e of r)if(e.name.kind===B.SK.Identifier){const r=B.enumMemberToQName(n,e),i=j.lastApiInfo.apis.byQName[r];return i?i.attributes.alias?t&&i.attributes.pyAlias||i.attributes.alias:t?i.pyQName:i.qName:r}return"0"},j.getCompletions=function(s){const{fileName:e,fileContent:t,position:o,wordStartPos:c,wordEndPos:l,runtime:u}=s;let d=t;t&&j.host.setFile(e,t);const p=n(e,"ts"),f={startPos:c,endPos:l},_=/\.py$/.test(e),m={entries:[],isMemberCompletion:!1,isNewIdentifierLocation:!0,isTypeLocation:!1,namespace:[]};var g=d.lastIndexOf("\n",o-1),g=Math.max(0,g),g=d.substring(g+1,o),h=_?"#":"//";if(!g.trim().startsWith(h)){let t=-1,n=-1;for(let e=o-1;0<=e;--e){if("."==d[e]){t=e;break}if(!/\w/.test(d[e]))break;-1==n&&(n=e)}t==o-1?d=d.slice(0,o)+"_"+d.slice(o):-1==n&&(d=d.slice(0,o)+"_"+d.slice(o),n=o);const y=-1!==t,v=(m.isMemberCompletion=y)?d.slice(t+1,l):d.slice(c,l),b=(y&&(n=t),{});g=j.cloneCompileOpts(j.host.opts);g.fileSystem[e]=d,j.addApiInfo(g),g.syntaxInfo={position:n,type:m.isMemberCompletion?"memberCompletion":"identifierCompletion"};let r,i=[];if(_){const D=B.transpile.pyToTs(g);if(D.syntaxInfo&&D.syntaxInfo.symbols&&(i=R(D.syntaxInfo.symbols,1)),D.globalNames&&(j.lastGlobalNames=D.globalNames),!i.length&&D.globalNames&&(i=R(pxt.U.values(D.globalNames),1)),Object.keys(D.outfiles).forEach(e=>{e===p&&j.host.setFile(e,D.outfiles[e])}),D.sourceMap){const j=d,A=D.outfiles[p]||"",N=B.BuildSourceMapHelpers(D.sourceMap,A,j).py.smallestOverlap(f);N&&(r=N.ts.startPos)}!y&&50<i.length&&(i=i.filter(e=>0<=(_?e.symbol.pyQName:e.symbol.qName).toLowerCase().indexOf(v.toLowerCase()))),g.ast=!0,B.compile(g,j.service)}else r=o,g.ast=!0,j.host.setOpts(g),j.runConversionsAndCompileUsingService();const x=j.service.getProgram(),k=x.getSourceFile(p),S=x.getTypeChecker();let a=B.findInnerMostNodeAtPosition(k,r);if(!(B.decompiler.buildCommentMap(k).some(e=>e.start<=o&&o<=e.end)||a&&[B.SK.StringLiteral,B.SK.FirstTemplateToken,B.SK.NoSubstitutionTemplateLiteral].some(e=>a.kind===e))){m.namespace=B.getCurrentNamespaces(a);let e=!1;if(y){const D=B.findInnerMostNodeAtPosition(k,_?r:t-1);if(D){const A=S.getSymbolAtLocation(D);if(g=0<(null==(h=null==A?void 0:A.members)?void 0:h.size)?S.getDeclaredTypeOfSymbol(A):A?S.getTypeOfSymbolAtLocation(A,D):S.getTypeAtLocation(D)){const D=g.symbol?S.getFullyQualifiedName(g.symbol):M(g,S);D&&(i=g.getApparentProperties().map(e=>D+"."+e.getName()).map(e=>j.lastApiInfo.apis.byQName[e]).filter(e=>!!e).map(e=>L(e,1)),e=!0)}}}var h=pxt.U.values(j.lastApiInfo.apis.byQName);if(0===i.length&&(i=R(h.filter(e=>0<=(_?e.pyQName:e.qName).toLowerCase().indexOf(v.toLowerCase())),1)),!_&&!e){a=(a=B.findInnerMostNodeAtPosition(k,c))||k.getSourceFile();let e=D.SymbolFlags.Variable,t=S.getSymbolsInScope(a,e),n=a.getText();g=(t="_"!==n?t.filter(e=>0<=e.name.indexOf(n)):t).map(e=>{let t=O(e,j.lastApiInfo.apis,S);return t=t||P(e,S.getTypeOfSymbolAtLocation(e,a))}).filter(e=>!!e).map(e=>L(e,1));g.forEach(e=>e.weight+=5),i=[...i,...g]}h=B.getParentCallExpression(a);if(h){let e=B.findCurrentCallArgIdx(h,a,r);if(0<=e){const B=j.blocksInfoOp(j.lastApiInfo.apis,u.bannedCategories),s=A(h);if(s){const j=N(s,e=e>=s.parameters.length?s.parameters.length-1:e,B);j&&w(j.type,h,S,i,j.isEnum).forEach(e=>e.weight=10)}}}if(!y){let e;h=(e=_?(g=pxt.py.keywords,Object.keys(g)):[...ts.pxtc.reservedWords,...ts.pxtc.keywordTypes]).filter(e=>0<=e.indexOf(v)).map(I).map(e=>L(e,0));i=[...i,...h]}g=_&&j.lastGlobalNames?j.lastGlobalNames:j.lastApiInfo.apis.byQName;i.map(e=>!e.symbol.attributes.alias||y&&7===e.symbol.kind?e:L(j.lastApiInfo.apis.byQName[e.symbol.attributes.alias],e.weight)).filter(U).forEach(e=>{b[e.symbol.qName]=e}),(i=pxt.Util.values(b).filter(e=>!!e&&!!e.symbol)).sort(F),s.light&&100<i.length&&(i=i.splice(0,100));const{bannedCategories:T,screenSize:C}=s.runtime,E={takenNames:g,blocksInfo:j.blocksInfoOp(j.lastApiInfo.apis,T),screenSize:C,apis:j.lastApiInfo.apis,checker:null==(h=null===j.service||void 0===j.service?void 0:j.service.getProgram())?void 0:h.getTypeChecker()};i.forEach(e=>{var e=e.symbol,t=_,n=E,r=j.lastApiInfo.decls[e.qName];if(D.isFunctionLike(r)&&(e.snippetAddsDefinitions||t&&!e.pySnippet||!t&&!e.snippet)){const D=j.getSnippet(n,e,r,t),i=j.snippetStringify(D),a=j.snippetStringify(D,!0),s=j.snippetAddsDefinitions(D);t?(e.pySnippet=i,e.pySnippetWithMarkers=a):(e.snippet=i,e.snippetWithMarkers=a),e.snippetAddsDefinitions=s}}),m.entries=i.map(e=>e.symbol)}}return m}}(ts=ts||{}),function(s){function a(e){e=t(e),s.sys.write(e)}function o(e){for(const t of e)a(t)}function t(e){let t;var n;t=void 0!==e.file?({line:i,character:a}=s.getLineAndCharacterOfPosition((n=e).file,n.start),r=n.file.fileName,Object.assign({fileName:r,line:i,column:a},n)):Object.assign({fileName:void 0,line:void 0,column:void 0},e);{var r=t;let e="";r.fileName&&(e+=`${r.fileName}(${r.line+1},${r.column+1}): `);var i=s.sys?s.sys.newLine:"\n",a=u.DiagnosticCategory[r.category].toLowerCase();return e+=`${a} TS${r.code}: `+u.flattenDiagnosticMessageText(r.messageText,i)+i}}function c(e,t){var n=s.createCompilerHost(t);return n.getDefaultLibFileName=()=>"node_modules/pxt-core/pxtcompiler/ext-typescript/lib/lib.d.ts",s.createProgram(e,t,n)}function l(e){let t=e.getSyntacticDiagnostics();return(t=0===t.length&&0===(t=e.getOptionsDiagnostics().concat(u.Util.toArray(e.getGlobalDiagnostics()))).length?e.getSemanticDiagnostics():t).slice(0)}var u;(u=s.pxtc||(s.pxtc={})).getDiagnosticString=t,u.plainTscCompileDir=function(n){const r=s.parseCommandLine([]);let i=s.findConfigFile(n,s.sys.fileExists);var e=function(){var e=s.sys.readFile(i),e=s.parseConfigFileTextToJson(i,e),t=e.config;if(t){if(!(0<(t=s.parseJsonConfigFileContent(t,s.sys,n,r.options,i)).errors.length))return t;o(t.errors)}else o([e.error]);s.sys.exit(s.ExitStatus.DiagnosticsPresent_OutputsSkipped)}(),e=c(e.fileNames,e.options);return l(e).forEach(a),e},u.plainTscCompileFiles=c,u.getProgramDiagnostics=l}(ts=ts||{}),function(g){{var h=g.pxtc||(g.pxtc={});function y(e){if(!e||!e.kind)return null;switch(e.kind){case g.SyntaxKind.StringKeyword:return"str";case g.SyntaxKind.NumberKeyword:return"number";case g.SyntaxKind.BooleanKeyword:return"bool";case g.SyntaxKind.VoidKeyword:return"None";case g.SyntaxKind.FunctionType:return n=y((t=e).type),`(${t.parameters.map(e=>e.type).map(y).join(", ")}) -> `+n;case g.SyntaxKind.ArrayType:return`List[${y(e.elementType)}]`;case g.SyntaxKind.TypeReference:t=e;return t.typeName&&t.typeName.getText?t.typeName.getText():"";case g.SyntaxKind.AnyKeyword:return"any";default:return pxt.tickEvent("depython.todo.tstypenodetopytype",{kind:e.kind}),""}var t,n}function v(e){if(!e||!e.flags)return null;switch(e.flags){case g.TypeFlags.String:return"str";case g.TypeFlags.Number:return"number";case g.TypeFlags.Boolean:return"bool";case g.TypeFlags.Void:return"None";case g.TypeFlags.Any:return"any";default:return pxt.tickEvent("depython.todo.tstypetopytype",{kind:e.flags}),""}}function i(e){return!!e.attributes.block&&!!e.attributes.blockId}let r;function d(t,n){function e(e){return-e(t)+e(n)}return e(e=>i(e)?1:-1)||e(e=>e.namespace?-1:1)||(r||((r={})[4]=100,r[5]=101,r[3]=99,r[2]=98,r[1]=97,r[8]=89,r[6]=81,r[7]=80),e(e=>r[e.kind]||0))||e(e=>e.attributes.weight||50)||h.U.strcmp(t.name,n.name)}function a(e,t,n=!1){const a={byQName:{},jres:t},s={},o=e.getTypeChecker(),c=r=>{var i;if(r.kind!=h.SK.VariableStatement){if(h.isExported(r)){if(!r.symbol)return void console.warn("no symbol",r);let e=b(o,r.symbol),n=(r.kind==h.SK.SetAccessor&&(e+="@set"),s[e]=r,function(p,s,o){function f(e,t,n=!1){let r=p.getTypeAtLocation(t);if(!r)return"None";n&&(r=r.getCallSignatures()[0].getReturnType());t=p.typeToString(r,void 0,g.TypeFormatFlags.UseFullyQualifiedType);return/^\d/.test(t)?"number":"this"==t?b(p,r.symbol):t}var c,l=function(){switch(o.kind){case h.SK.MethodDeclaration:case h.SK.MethodSignature:return 1;case h.SK.PropertyDeclaration:case h.SK.PropertySignature:case h.SK.GetAccessor:case h.SK.SetAccessor:return 2;case h.SK.Constructor:case h.SK.FunctionDeclaration:return 3;case h.SK.VariableDeclaration:return 4;case h.SK.ModuleDeclaration:return 5;case h.SK.EnumDeclaration:return 6;case h.SK.EnumMember:return 7;case h.SK.ClassDeclaration:return 8;case h.SK.InterfaceDeclaration:return 9;default:return 0}}();if(0==l)return null;{let e=o,d=h.parseComments(e);if(d.weight<0)return null;let t,n=/^(.*)\.(.*)/.exec(s),r=3==l||1==l,i=null,a=g.getSourceFileOfNode(o);if(a&&(c=/^pxt_modules\/([^\/]+)/.exec(a.fileName))&&(i=c[1]),8==l||9==l)if(t=[],o.heritageClauses)for(var u of o.heritageClauses)if(u.types)for(var _ of u.types)t.push(f(0,_));6!=l&&7!==l||(t=t||[]).push("Number");var m={kind:l,qName:s,namespace:n?n[1]:"",name:n?n[2]:s,fileName:o.getSourceFile().fileName,attributes:d,pkg:i,pkgs:null,extendsTypes:t,retType:o.kind==g.SyntaxKind.Constructor?"void":5==l?"":f(e.type,e,r),parameters:r?h.Util.toArray(e.parameters).map((n,e)=>{let t,r,i=h.getName(n),a=d.paramHelp[i]||"",s=d.paramMin&&d.paramMin[i],o=d.paramMax&&d.paramMax[i];if(/\beg\.?:\s*(.+)/.exec(a),n.type&&n.type.kind===h.SK.FunctionType){const y=p.getSignatureFromDeclaration(n.type).getParameters();"objectdestructuring"===d.mutate?(h.assert(0<y.length),t=p.getTypeAtLocation(y[0].valueDeclaration).getProperties().map(e=>({name:e.getName(),type:p.typeToString(p.getTypeOfSymbolAtLocation(e,y[0].valueDeclaration))}))):r=y.map((e,t)=>({name:e.getName(),type:p.typeToString(p.getTypeOfSymbolAtLocation(e,n),void 0,g.TypeFormatFlags.UseFullyQualifiedType)}))}var c={},l=p.getTypeAtLocation(n),u=l&&!!(l.flags&(g.TypeFlags.Enum|g.TypeFlags.EnumLiteral));if(d.block&&d.paramShadowOptions){const g=[];d.block.replace(/%(\w+)/g,(e,t)=>(g.push(t),"")),d.paramShadowOptions[g[e]]&&(c.fieldEditorOptions={value:d.paramShadowOptions[g[e]]})}s&&(c.min={value:s}),o&&(c.max={value:o});e=n.type&&y(n.type)||l&&v(l)||"unknown",l=n.initializer?n.initializer.getText():h.getExplicitDefault(d,i)||(n.questionToken?"undefined":void 0);return{name:i,description:a,type:f(n.type,n),pyTypeString:e,initializer:l,default:d.paramDefl[i],properties:t,handlerParameters:r,options:c,isEnum:u}}):null,snippet:g.isFunctionLike(o)?null:void 0};switch(m.kind){case 7:m.pyName=h.U.snakify(m.name).toUpperCase();break;case 4:case 1:case 2:case 3:m.pyName=h.U.snakify(m.name);break;default:m.pyName=m.name}return o.kind!==h.SK.GetAccessor&&(o.kind!==h.SK.PropertyDeclaration&&o.kind!==h.SK.PropertySignature||!h.isReadonly(o))||(m.isReadOnly=!0),m}}(o,e,r));if(n){let t=h.U.lookup(a.byQName,e);if(t)if(9==t.kind&&9!=n.kind)a.byQName[e+"@type"]=t;else if(9!=t.kind&&9==n.kind)a.byQName[e+"@type"]=n,n=t;else{const r=null==(i=t.attributes._source)?void 0:i.trim(),a=null==(i=n.attributes._source)?void 0:i.trim();let e=r+"\n"+a;r&&0<=(null==a?void 0:a.indexOf(r))?e=a:a&&0<=(null==r?void 0:r.indexOf(a))&&(e=r),n.attributes=h.parseCommentString(e),5!==t.kind||(n.pkgs=t.pkgs||[],t.pkg===n.pkg)||n.pkgs.find(e=>e===t.pkg)||n.pkgs.push(t.pkg),t.extendsTypes&&(n.extendsTypes=n.extendsTypes||[],t.extendsTypes.forEach(e=>{-1===n.extendsTypes.indexOf(e)&&n.extendsTypes.push(e)}))}!r.parent||r.parent.kind!=h.SK.ClassDeclaration&&r.parent.kind!=h.SK.InterfaceDeclaration||h.isStatic(r)||(n.isInstance=!0),a.byQName[e]=n}}r.kind==h.SK.ModuleDeclaration?(i=r).body.kind==h.SK.ModuleBlock?i.body.statements.forEach(c):i.body.kind==h.SK.ModuleDeclaration&&c(i.body):r.kind!=h.SK.InterfaceDeclaration&&r.kind!=h.SK.ClassDeclaration&&r.kind!=h.SK.EnumDeclaration||r.members.forEach(c)}else r.declarationList.declarations.forEach(c)};for(var r of e.getSourceFiles())r.statements.forEach(c);var i,l=[];for(i in a.byQName){var u,d,p=a.byQName[i];p.qName=i,p.attributes._source=null,p.extendsTypes&&p.extendsTypes.length&&l.push(p);let e=p.attributes.jres;e&&("true"==e&&(e=i),(u=h.U.lookup(t||{},e))&&u.icon&&!p.attributes.iconURL&&(p.attributes.iconURL=u.icon),u)&&u.data&&!p.attributes.jresURL&&(p.attributes.jresURL="data:"+u.mimeType+";base64,"+u.data),p.pyName&&((u=h.U.lookup(h.ts2PyFunNameMap,p.qName))&&u.n?(p.pyQName=u.n,p.pySnippet=u.snippet,p.pySnippetName=u.n,p.pySnippetWithMarkers=void 0):p.namespace?(d=a.byQName[p.namespace])?p.pyQName=d.pyQName+"."+p.pyName:(pxt.log("namespace missing: "+p.namespace),p.pyQName=p.namespace+"."+p.pyName):p.pyQName=p.pyName)}let f={},_=e=>{if(!h.U.lookup(f,e.qName)){f[e.qName]=!0;var t,n={};n[e.qName]=!0;for(t of e.extendsTypes||[]){n[t]=!0;var r=a.byQName[t];if(r){_(r);for(var i of r.extendsTypes)n[i]=!0}}e.extendsTypes=Object.keys(n)}};return l.forEach(_),n&&delete a.byQName["Array.map"],{apis:a,decls:s}}function b(e,t){return t.isBogusSymbol?t.name:e.getFullyQualifiedName(t)}h.placeholderChar="◊",h.ts2PyFunNameMap={"Math.trunc":{n:"int",t:g.SyntaxKind.NumberKeyword,snippet:"int(0)"},"Math.min":{n:"min",t:g.SyntaxKind.NumberKeyword,snippet:"min(0, 0)"},"Math.max":{n:"max",t:g.SyntaxKind.NumberKeyword,snippet:"max(0, 0)"},"Math.abs":{n:"abs",t:g.SyntaxKind.NumberKeyword,snippet:"abs(0)"},"console.log":{n:"print",t:g.SyntaxKind.VoidKeyword,snippet:'print(":)")'},".length":{n:"len",t:g.SyntaxKind.NumberKeyword},".toLowerCase()":{n:"string.lower",t:g.SyntaxKind.StringKeyword},".toUpperCase()":{n:"string.upper",t:g.SyntaxKind.StringKeyword},".charCodeAt(0)":{n:"ord",t:g.SyntaxKind.NumberKeyword},"pins.createBuffer":{n:"bytearray",t:g.SyntaxKind.Unknown},"pins.createBufferFromArray":{n:"bytes",t:g.SyntaxKind.Unknown},"control.createBuffer":{n:"bytearray",t:g.SyntaxKind.Unknown},"control.createBufferFromArray":{n:"bytes",t:g.SyntaxKind.Unknown},"!!":{n:"bool",t:g.SyntaxKind.BooleanKeyword},"Array.indexOf":{n:"Array.index",t:g.SyntaxKind.Unknown},"Array.push":{n:"Array.append",t:g.SyntaxKind.Unknown},parseInt:{n:"int",t:g.SyntaxKind.NumberKeyword,snippet:'int("0")'},"_py.range":{n:"range",t:g.SyntaxKind.Unknown,snippet:"range(4)"}},h.emitPyTypeFromTypeNode=y,h.emitPyTypeFromTsType=v,h.genDocs=function(r,e,i={}){pxt.debug("generating docs for "+r),pxt.debug(JSON.stringify(Object.keys(e.byQName),null,2));const a={},t=h.Util.values(e.byQName),n=t.filter(e=>7==e.kind).sort(d),s={},o={},c={},l=t=>{var e;i.locs&&t.qName&&!/^__/.test(t.name)&&(pxt.debug("loc: "+t.qName),7!=t.kind&&(e=g.pxtc.blocksCategory(t))&&(o["{id:category}"+e]=e),t.attributes.jsDoc&&(c[t.qName]=t.attributes.jsDoc),t.attributes.block&&(o[t.qName+"|block"]=t.attributes.block),t.attributes.group&&(o["{id:group}"+t.attributes.group]=t.attributes.group),t.attributes.subcategory&&(o["{id:subcategory}"+t.attributes.subcategory]=t.attributes.subcategory),t.parameters)&&t.parameters.filter(e=>!!e.description).forEach(e=>{c[t.qName+"|param|"+e.name]=e.description})},u=(t,e)=>{if(i.locs){const n={};Object.keys(t).sort().forEach(e=>n[e]=t[e]),a[r+e+"-strings.json"]=JSON.stringify(n,null,2)}};for(const g of t){if(5==g.kind){if(!t.filter(e=>e.namespace==g.name&&!!e.attributes.jsDoc)[0])continue;g.attributes.block||(g.attributes.block=g.name)}l(g)}return i.locs&&n.forEach(e=>{e.attributes.block&&(o[e.qName+"|block"]=e.attributes.block),e.attributes.jsDoc&&(o[e.qName]=e.attributes.jsDoc)}),u(o,""),u(c,"-jsdoc"),i.pxtsnippet&&(i.pxtsnippet.forEach(e=>{{var n=s;const r=["label","title","hint","errorMessage"];n[e.label]=e.label,e.questions.forEach(t=>{r.forEach(e=>{t[e]&&(n[t[e]]=t[e])})})}}),u(s,"-snippet")),a},h.hasBlock=i,h.compareSymbols=d,h.getApiInfo=function(e,t,n=!1){return a(e,t,n).apis},h.internalGetApiInfo=a,h.getFullName=b}}(ts=ts||{}),function(o){var d=o.pxtc||(o.pxtc={});{var p=d.service||(d.service={});let c,n,e={fileSystem:{},sourceFiles:[],target:{isNative:!1,hasHex:!1,switches:{}}};class r{constructor(){this.opts=e,this.fileVersions={},this.projectVer=0,this.pxtModulesOK=null}getProjectVersion(){return this.projectVer+""}setFile(e,t){this.opts.fileSystem[e]!=t&&(this.fileVersions[e]=(this.fileVersions[e]||0)+1,this.opts.fileSystem[e]=t,this.projectVer++)}reset(){this.setOpts(e),this.pxtModulesOK=null}setOpts(e){d.Util.iterMap(e.fileSystem,(e,t)=>{this.opts.fileSystem[e]!=t&&(this.fileVersions[e]=(this.fileVersions[e]||0)+1)}),this.opts=Object.assign(Object.assign({},e),{fileSystem:Object.assign({},e.fileSystem)}),this.projectVer++}getCompilationSettings(){return d.getTsCompilerOptions(this.opts)}getScriptFileNames(){return this.opts.sourceFiles.filter(e=>d.U.endsWith(e,".ts"))}getScriptVersion(e){return(this.fileVersions[e]||0).toString()}getScriptSnapshot(e){e=this.opts.fileSystem[e];return null!=e?o.ScriptSnapshot.fromString(e):null}getNewLine(){return"\n"}getCurrentDirectory(){return"."}getDefaultLibFileName(e){return"no-default-lib.d.ts"}log(e){console.log("LOG",e)}trace(e){console.log("TRACE",e)}error(e){console.error("ERROR",e)}useCaseSensitiveFileNames(){return!0}}function l(e,t){return e?(p.lastLocBlocksInfo||(p.lastLocBlocksInfo=d.getBlocksInfo(e,t)),p.lastLocBlocksInfo):(p.lastBlocksInfo||(p.lastBlocksInfo=d.getBlocksInfo(p.lastApiInfo.apis,t)),p.lastBlocksInfo)}function f(e){return p.lastApiInfo||(p.lastApiInfo=d.internalGetApiInfo(p.service.getProgram(),e.jres)),p.lastApiInfo}function _(e){var t;e.apisInfo||(t=f(e),e.apisInfo=d.U.clone(t.apis))}function m(e){e=pxt.U.flatClone(e);return e.fileSystem=pxt.U.flatClone(e.fileSystem),e}p.blocksInfoOp=l,p.getLastApiInfo=f,p.addApiInfo=_,p.cloneCompileOpts=m,p.IsOpErr=function(e){return!!e.errorMessage};const i={reset:()=>{p.service=o.createLanguageService(p.host),p.lastApiInfo=void 0,p.lastGlobalNames=void 0,p.host.reset()},setOptions:e=>{p.host.setOpts(e.options)},syntaxInfo:t=>{var e,n,r;let i=t.fileContent;t.fileContent&&p.host.setFile(t.fileName,t.fileContent);var a=m(p.host.opts);a.fileSystem[t.fileName]=i,_(a),a.syntaxInfo={position:t.position,type:t.infoType};const s=a.target.preferredEditor==pxt.PYTHON_PROJECT_NAME,o="symbol"===a.syntaxInfo.type,c="signature"===a.syntaxInfo.type;if(s){var l=d.transpile.pyToTs(a);l.globalNames&&(p.lastGlobalNames=l.globalNames)}else{a.ast=!0,p.host.setOpts(a),g();const n=p.service.getProgram(),r=n.getSourceFile(t.fileName),i=n.getTypeChecker();if(o||c){var u,l=d.findInnerMostNodeAtPosition(r,t.position);if(l)if(o){const t=i.getSymbolAtLocation(l);t&&(u=p.getPxtSymbolFromTsSymbol(t,a.apisInfo,i),a.syntaxInfo.symbols=[u],a.syntaxInfo.beginPos=l.getStart(),a.syntaxInfo.endPos=l.getEnd())}else if(c){const p=null==(e=null==l?void 0:l.pxt)?void 0:e.callInfo;if(p){const e=a.apisInfo.byQName[p.qName],r=(a.syntaxInfo.symbols=[e],a.syntaxInfo.beginPos=l.getStart(),a.syntaxInfo.endPos=l.getEnd(),d.getParentCallExpression(l));if(r){const p=d.findCurrentCallArgIdx(r,l,t.position);a.syntaxInfo.auxResult=p}}}}}if(o&&(null==(n=a.syntaxInfo.symbols)||!n.length)){const e=p.getWordAtPosition(t.fileContent,t.position);if(e)if(s&&"range"===e.text){const t=f(a).apis;t.byQName["_py.range"]&&(a.syntaxInfo.symbols=[t.byQName["_py.range"]],a.syntaxInfo.beginPos=e.start,a.syntaxInfo.endPos=e.end)}else{const t=d.getHelpForKeyword(e.text,s);t&&(a.syntaxInfo.auxResult={documentation:t,displayString:p.displayStringForKeyword(e.text,s)},a.syntaxInfo.beginPos=e.start,a.syntaxInfo.endPos=e.end)}}if(null!=(r=a.syntaxInfo.symbols)&&r.length){const t=f(a).apis;s&&(a.syntaxInfo.symbols=a.syntaxInfo.symbols.map(e=>t.byQName[e.qName]||e)),o&&(a.syntaxInfo.auxResult=a.syntaxInfo.symbols.map(e=>p.displayStringForSymbol(e,s,t)))}return a.syntaxInfo},getCompletions:e=>p.getCompletions(e),compile:e=>{p.host.setOpts(e.options);e=g();return d.timesToMs(e),e},decompile:e=>(p.host.setOpts(e.options),d.decompile(p.service.getProgram(),e.options,e.fileName,!1)),pydecompile:e=>(p.host.setOpts(e.options),d.transpile.tsToPy(p.service.getProgram(),e.fileName)),decompileSnippets:e=>(p.host.setOpts(e.options),d.decompileSnippets(p.service.getProgram(),e.options,!1)),assemble:e=>({words:d.processorInlineAssemble(p.host.opts.target,e.fileContent)}),py2ts:e=>(_(e.options),d.transpile.pyToTs(e.options)),fileDiags:e=>d.patchUpDiagnostics(function(e){if(!/\.ts$/.test(e))return[];let t=p.service.getSyntacticDiagnostics(e);return t=(t=t&&t.length?t:p.service.getSemanticDiagnostics(e))||[]}(e.fileName)),allDiags:()=>{var e=g();return d.timesToMs(e),p.host.opts.target.switches.time&&console.log("DIAG-TIME",e.times),e},format:e=>{e=e.format;return d.format(e.input,e.pos)},apiInfo:()=>{if(p.lastBlocksInfo=void 0,c=void 0,p.host.opts!==e)return p.lastApiInfo=d.internalGetApiInfo(p.service.getProgram(),p.host.opts.jres),p.lastApiInfo.apis},snippet:e=>{var t=e.snippet;if(p.lastApiInfo){var n,r,i,a=p.lastApiInfo.apis.byQName[t.qName],s=p.lastApiInfo.decls[t.qName];if(a&&s&&o.isFunctionLike(s))return i={},i=(t=!!t.python)&&p.lastGlobalNames?p.lastGlobalNames:p.lastApiInfo.apis.byQName,{bannedCategories:e,screenSize:n}=e.runtime,r=p.lastApiInfo["apis"],r={apis:r,blocksInfo:l(r,e),takenNames:i,bannedCategories:e,screenSize:n,checker:p.service&&p.service.getProgram().getTypeChecker()},i=p.getSnippet(r,a,s,t),p.snippetStringify(i)}},blocksInfo:e=>l(e,e.blocks&&e.blocks.bannedCategories),apiSearch:a=>{const r=a.search,s=l(r.localizedApis,a.blocks&&a.blocks.bannedCategories),e=(r.localizedStrings&&pxt.Util.setLocalizedStrings(r.localizedStrings),(t,e,n)=>{if(t)return"string"==typeof t?t:e?t[e]:Object.keys(t).map(e=>t[e]).join(" ")});if(!p.builtinItems){p.builtinItems=[],p.blockDefinitions=pxt.blocks.blockDefinitions();for(const a in p.blockDefinitions){const r=p.blockDefinitions[a];if(r.operators)for(const c in r.operators)r.operators[c].forEach(e=>p.builtinItems.push({id:a,name:r.name,jsdoc:"string"==typeof r.tooltip?r.tooltip:r.tooltip[e],block:e,field:[c,e],builtinBlock:!0}));else p.builtinItems.push({id:a,name:r.name,jsdoc:e(r.tooltip,r.tooltipSearch),block:e(r.block,r.blockTextSearch),builtinBlock:!0})}}let o;if(!c||r.subset){const a={};let e=[],t=(r.subset&&(p.tbSubset=r.subset,e=p.builtinItems.filter(e=>!!p.tbSubset[e.id])),p.tbSubset?o=s.blocks.filter(e=>!!p.tbSubset[e.attributes.blockId]):(o=s.blocks,e=p.builtinItems),o.map(e=>({id:e.attributes.blockId,qName:e.qName,name:e.name,namespace:e.namespace,block:(e=>{if(null!=(r=e.attributes)&&r._def){var t,n=[],r=e.attributes._def,i=pxt.blocks.compileInfo(e);for(t of r.parts)switch(t.kind){case"label":n.push(t.text);break;case"param":var a=i.definitionNameToParam[t.name];n.push((null==a?void 0:a.defaultValue)||t.varName||(null==a?void 0:a.actualName)||t.name)}return n.join(" ")}return e.attributes.block})(e),params:(e=>{const t=null==(e=e.attributes)?void 0:e.paramHelp;return t&&Object.keys(t).map(e=>t[e]).join(" "),""})(e),jsdoc:e.attributes.jsDoc,localizedCategory:p.tbSubset&&"string"==typeof p.tbSubset[e.attributes.blockId]?p.tbSubset[e.attributes.blockId]:void 0}))),n={},i=(e.forEach(e=>n[e.id]=!0),t=t.filter(e=>!(e.id in n)),0);o.forEach(e=>{var t,n=a[e.qName]=(n=(e=e).attributes.weight||50,(1e3*((t=s.apis.byQName[e.namespace])&&t.attributes.weight||50)+n)*(t&&t.attributes.advanced||e.attributes.advanced?1:1e6));i=Math.max(i,n)}),t=t.concat(e),c=new Fuse(t,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:16,minMatchCharLength:2,findAllMatches:!1,caseSensitive:!1,keys:[{name:"name",weight:.3},{name:"namespace",weight:.1},{name:"localizedCategory",weight:.1},{name:"block",weight:.4375},{name:"params",weight:.0625},{name:"jsdoc",weight:.0625}],sortFn:function(e,t){var n=e.qName?1-a[e.item.qName]/i:1,r=t.qName?1-a[t.item.qName]/i:1;return e.score*(1+n/10)-t.score*(1+r/10)}})}return c.search(r.term).slice(0,7)},projectSearch:e=>{var e=e.projectSearch,t=e.headers;return(n=n||new Fuse(t,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:16,minMatchCharLength:2,findAllMatches:!1,caseSensitive:!1,keys:[{name:"name",weight:.3}]})).search(e.term)},projectSearchClear:()=>{n=void 0}};function g(){_(p.host.opts);const e=d.U.flatClone(p.host.opts.fileSystem);let t=d.runConversionsAndStoreResults(p.host.opts);null!=t&&t.globalNames&&(p.lastGlobalNames=t.globalNames);var n,r=p.host.opts.fileSystem;p.host.opts.fileSystem=e;for(n of Object.keys(r))p.host.setFile(n,r[n]);if(0==t.diagnostics.length){p.host.opts.skipPxtModulesEmit=!1,p.host.opts.skipPxtModulesTSC=!1;const e=p.host.opts.target.isNative?"native":"js";!p.host.opts.target.switches.noIncr&&p.host.pxtModulesOK&&(p.host.opts.skipPxtModulesTSC=!0,p.host.opts.noEmit?p.host.opts.skipPxtModulesEmit=!0:p.host.opts.target.isNative?p.host.opts.skipPxtModulesEmit=!1:"js"!=p.host.pxtModulesOK||p.host.opts.breakpoints&&!p.host.opts.justMyCode||(p.host.opts.skipPxtModulesEmit=!0));var i=d.compile(p.host.opts,p.service);((t=Object.assign({sourceMap:t.sourceMap},i)).needsFullRecompile||(!t.success||t.diagnostics.length)&&p.host.opts.clearIncrBuildAndRetryOnError)&&(pxt.debug("triggering full recompile"),pxt.tickEvent("compile.fullrecompile"),p.host.opts.skipPxtModulesEmit=!1,i=d.compile(p.host.opts,p.service),t=Object.assign({sourceMap:t.sourceMap},i)),t.diagnostics.every(e=>!d.isPxtModulesFilename(e.fileName))&&(p.host.pxtModulesOK=e),t.ast&&(i=d.internalGetApiInfo(t.ast))&&(p.lastApiInfo=i)}return t}p.runConversionsAndCompileUsingService=g,p.performOperation=function(e,t){p.service||(p.host=new r,p.service=o.createLanguageService(p.host));let n=null;if(i.hasOwnProperty(e))try{n=(0,i[e])(t)||{}}catch(e){n={errorMessage:e.stack}}else n={errorMessage:"No such operation: "+e};return n}}}(ts=ts||{}),function(L){function o(e){return"object"==typeof e&&void 0!==e.default}function c(e){return"object"==typeof e&&"number"==typeof e.length}function R(e,i=!1){const a={};let s=1;return function t(n){if(o(n)){if(i){if(l(n.default))return t(n.default);const i=R(n.default,!1);let e=a[i];var r;return(e&&!n.isLiteral||(e=s,s++,a[i]=e),0<=i.indexOf(".")&&i.indexOf(" ")<0)?((r=i.split("."))[r.length-1]="${"+e+":"+r[r.length-1]+"}",r.join(".")):"${"+e+":"+i+"}"}return t(n.default)}return c(n)?n.map(e=>t(e)).join(""):n}(e)}function l(e){return!!o(e)||!!c(e)&&e.map(l).reduce((e,t)=>e||t,!1)}function M(e){return e.attributes.shim&&"@"==e.attributes.shim[0]||e.attributes.pyConvertToTaggedTemplate}var U,B;U=L.pxtc||(L.pxtc={}),(B=U.service||(U.service={})).snippetStringify=R,B.snippetHasReplacementPoints=l,B.snippetAddsDefinitions=function e(t){return o(t)?t.isDefinition||e(t.default):!!c(t)&&t.map(e).reduce((e,t)=>e||t,!1)},B.getSnippet=function a(s,o,e,c,l=0){let{apis:u,takenNames:t,blocksInfo:n,screenSize:d,checker:p}=s;const f=pxt.py.INDENT,_=c?"python":"typescript";let r=o.namespace,i=!1,m=!1,g="",h=0,y=[];if(M(o))return c?o.name+'(""" """)':o.name+"``";let v="";v=e.kind==U.SK.Constructor?I(e.symbol)||e.parent.name.getText():I(e.symbol)||e.name.getText(),c&&(v=U.U.snakify(v));const b=o.attributes;if("TD_ID"===b.shim&&l&&e.parameters.length)return N(e.parameters[0]);const x=n.blocksById,k=e.parameters?e.parameters.filter(e=>!e.initializer&&!e.questionToken):[],S=k.map(N).map(e=>({default:e,isLiteral:!0})),T=o;if(T.attributes.block)if(T.attributes.defaultInstance)r=T.attributes.defaultInstance,c&&(r=r&&U.U.snakify(r));else if(T.namespace){const L=u.byQName[T.namespace];if(L.attributes.fixedInstances){let e,t=U.Util.values(u.byQName),n=t.filter(e=>4===e.kind&&e.attributes.fixedInstance);const o=n.filter(e=>e.retType==L.qName).sort((e,t)=>e.name.localeCompare(t.name));e=(o.length?o:n.filter(e=>{return-1!==(n=L.qName,t.filter(e=>e.extendsTypes).filter(e=>e.extendsTypes.reduce((e,t)=>e||-1!=t.indexOf(n),!1)).reduce((e,t)=>e.concat(t.extendsTypes),[]).indexOf(e.retType));var n}).sort((e,t)=>e.name.localeCompare(t.name)))[0],(g=(e?(r=""+P(e),e):L).namespace)&&(m=!0),i=!0}else if(1==T.kind||2==T.kind){const L=pxt.blocks.compileInfo(T);if(L.thisParameter){let e;L.thisParameter.definitionName&&(e="my"+(e=(e=L.thisParameter.definitionName)[0].toUpperCase()+e.substring(1))),r=L.thisParameter.defaultValue||e,c&&(r=r&&U.U.snakify(r))}i=!0}else if(8===L.kind)return}var C,e=b&&(c?b.pySnippet:b.snippet);let E;if(e)E=[e];else if(E=[v],null!=S&&S.length||1==T.kind||3==T.kind||8==T.kind){const L=S.reduce((e,t)=>[...e,e.length?", ":"",t],[]);E=E.concat(["(",...L,")"])}let D=r?[r,".",...E]:E;return D=m?[(e=g,(C=e.indexOf("."))<0?e:e.substring(0,C)),".",...D]:D,b&&b.blockSetVariable&&(D=c?[{default:A(U.U.snakify(b.blockSetVariable)),isDefinition:!0}," = ",...D]:["let ",{default:A(b.blockSetVariable),isDefinition:!0}," = ",...D]),[y,D];function A(e){return t[e]?L.pxtc.decompiler.getNewName(e,t,!1):e}function N(t){const n=t.type;if(n){var e=t.name.kind===U.SK.Identifier?t.name.text:void 0,r=null==(r=null==b?void 0:b.paramDefl)?void 0:r[e];if(r){let e;if(n.kind==U.SK.AnyKeyword){const B=r.toUpperCase();e=Number.isNaN(+B)?"FALSE"==B||"TRUE"==B?U.SK.BooleanKeyword:B.includes(".")?U.SK.EnumKeyword:U.SK.StringKeyword:U.SK.NumberKeyword}if(n.kind===U.SK.StringKeyword||e===U.SK.StringKeyword)return 0!=r.indexOf('"')?`"${r}"`:r;const a=null==p?void 0:p.getTypeAtLocation(t),s=B.getPxtSymbolFromTsSymbol(null==a?void 0:a.symbol,u,p);return null!=s&&s.attributes.fixedInstances&&c?pxt.Util.snakify(r):c?U.tsSnippetToPySnippet(r,s):r}r=function(t){var e=null==(e=pxt.blocks.compileInfo(o).parameters)?void 0:e.find(e=>e.actualName===t);if(null!=e&&e.shadowBlockId){e=x[e.shadowBlockId];if(e){var n=null==(n=e.attributes)?void 0:n.paramFieldEditor;if(n){n=n[t];if(n){e=e.attributes.paramFieldEditorOptions||{};if("sprite"===n){n=e[t];const i={initColor:0,initWidth:16,initHeight:16};if(null!=n&&n.sizes){const r=n.sizes.split(";"),a=[];for(let e=0;e<r.length;e++){const i=r[e].split(",");if(2===i.length){let e=parseInt(i[0]),t=parseInt(i[1]);isNaN(e)||isNaN(t)||(e<0&&d&&(e=d.width),t<0&&d&&(t=d.height),a.push([e,t]))}}0<a.length&&(i.initWidth=a[0][0],i.initHeight=a[0][1])}return i.initColor=r(null==n?void 0:n.initColor,i.initColor),i.initWidth=r(null==n?void 0:n.initWidth,i.initWidth),i.initHeight=r(null==n?void 0:n.initHeight,i.initHeight),pxt.sprite.imageLiteralFromDimensions(i.initWidth,i.initHeight,i.initColor,_);function r(e,t){e=parseInt(e);return isNaN(e)?t:e}}}}}}return null}(e);if(r)return r;r=function(e){let t=(b._shadowOverrides||{})[e];if(!t){const n=pxt.blocks.compileInfo(o);for(const i of n.parameters)if(i.actualName===e){t=i.shadowBlockId;break}}if(!t)return null;let n=x[t];var r;return n?("TD_ID"===n.attributes.shim&&n.parameters.length&&(r=n.parameters[0].type,n=u.byQName[r]||n),n):null}(e);if(r){var i=B.getTsSymbolFromPxtSymbol(r,t,L.SymbolFlags.Enum);if(i){i=p.getTypeOfSymbolAtLocation(i,t);if(i){i=w(i);if(i)return i}}const n=r.attributes;if("KIND_GET"===n.shim&&n.blockId){const L=n.kindNamespace||o.namespace,B=U.Util.values(u.byQName).find(e=>e.namespace===L&&e.attributes.isKind);if(B)return c?B.pyQName:B.qName}if(l<3&&B.lastApiInfo.decls[r.qName]){i=a(s,r,B.lastApiInfo.decls[r.qName],c,l+1);if(i)return i}}if(n.kind===U.SK.StringKeyword&&"leds"===e)return c?'"""\n. . . . .\n. . . . .\n. . # . .\n. . . . .\n. . . . .\n"""':"`\n. . . . .\n. . . . .\n. . # . .\n. . . . .\n. . . . .\n`";if(n.kind===U.SK.FunctionType){const L=n;r=p?p.getSignatureFromDeclaration(L):void 0;return r?O(r,!0):F(e)}i=B.getBasicKindDefault(n.kind,c);if(void 0!==i)return i;r=p&&p.getTypeAtLocation(t);if(r){e=w(r);if(e)return e}}return c?"None":"null"}function w(e){if(e.symbol&&e.symbol.flags&L.SymbolFlags.Enum)return B.getDefaultEnumValue(e,c);var r,t=B.getPxtSymbolFromTsSymbol(e.symbol,u,p);if(U.isObjectType(e)){const U=t&&t.attributes&&(c?t.attributes.pySnippet:t.attributes.snippet);if(U)return U;if(e.objectFlags&L.ObjectFlags.Anonymous){const U=p.getSignaturesOfType(e,L.SignatureKind.Call);return U&&U.length?O(U[0],!1):F()}}if(e.flags&L.TypeFlags.NumberLike)return"0";if(t&&t.attributes.fixedInstances){r=t;const L=pxt.Util.values(u.byQName).filter(e=>{return 4===e.kind&&e.attributes.fixedInstance&&(t=u,e=e.retType,n=r.qName,e==n||!(!(t=t.byQName[e])||!t.extendsTypes)&&0<=t.extendsTypes.indexOf(n));var t,n});if(L.length){const U=L[0];return c?U.pyQName:U.qName}}}function I(e){if(p){e=U.getFullName(p,e),e=u.byQName[e];if(e)return P(e)}}function P(e){return c?e.pyName:e.name}function O(t,n){let r="",e=p.getReturnTypeOfSignature(t);if(e.flags&L.TypeFlags.NumberLike?r="return 0":e.flags&L.TypeFlags.StringLike?r='return ""':e.flags&(L.TypeFlags.Boolean|L.TypeFlags.BooleanLiteral)&&(r=c?"return False":"return false"),c){var i=b.optionalVariableArgs?"()":`(${t.parameters.map(e=>e.name).join(", ")})`;let e=v||"fn";0<h++&&(e+=h),n&&!/^on/i.test(e)&&(e="on"+pxt.Util.capitalize(e));n=k.filter(e=>{e=p&&p.getTypeAtLocation(e);return!!(e&&e.symbol&&e.symbol.flags&L.SymbolFlags.Enum)}).map(e=>{var e=R(N(e)).toLowerCase(),t=e.lastIndexOf(".");return-1!==t?e.substr(t+1):e}).join("_");return n&&(e+="_"+n),e=A(e=U.U.snakify(e)),y=[...y,y.length?"\n":"","def ",{default:e,isDefinition:!0},i,`:
`+f,{default:r||"pass"},"\n"],{default:e}}{let e="()";return b.optionalVariableArgs||(n=L.mapToDisplayParts(e=>{p.getSymbolDisplayBuilder().buildSignatureDisplay(t,e,void 0,L.TypeFormatFlags.UseFullyQualifiedType)}),i=L.displayPartsToString(n),e=i.substr(0,i.lastIndexOf(":"))),["function",e,` {
`+f,{default:r},"\n}"]}}function F(e){return c?(e=A(e=U.U.snakify(e=e||"fn")),y=[...y,y.length?"\n":"","def ",{default:e,isDefinition:!0},`():
`+f,{default:"pass"},"\n"],{default:e}):"function () {}"}},B.isTaggedTemplate=M}(ts=ts||{}),function(e){(e=(e=e.pxtc||(e.pxtc={})).transpile||(e.transpile={})).pyToTs=function(e,t=0){return pxt.py.py2ts(e)},e.tsToPy=function(e,t="main.ts"){return pxt.py.decompileToPython(e,t)}}(ts=ts||{}),function(s){{var o=s.pxtc||(s.pxtc={}),e;let r;function i(e,t){var n;if(e)return(n=t(e))===r.Continue?i(e.parent,t):n!==r.Abort?n===r.Found?e:n:void 0}function a(e){return i(e,e=>s.isModuleDeclaration(e)?r.Found:r.Continue)}o.getParentCallExpression=function(e){return i(e,e=>s.isCallExpression(e)?r.Found:s.isBlock(e)?r.Abort:r.Continue)},o.findCurrentCallArgIdx=function(e,t,n){let r=e.arguments.map(e=>e===t).indexOf(!0);if(!(0<=r)){if(!(e.arguments.pos<=n&&n<e.end))return-1;if(0===e.arguments.length)return 0;r=0;for(var i of e.arguments){if(!(i.end<=n))break;r++}e.arguments.hasTrailingComma||(r=Math.max(0,r-1))}return r},(e=r=o.TraverseCheck||(o.TraverseCheck={}))[e.Found=0]="Found",e[e.Continue=1]="Continue",e[e.Abort=2]="Abort",o.traverseUp=i,o.enumMemberToQName=function(e,t){if(t.name.kind===o.SK.Identifier)return e.getFullyQualifiedName(e.getSymbolAtLocation(t.name))},o.findInnerMostNodeAtPosition=function e(t,n){for(var r of t.getChildren())if(!(r.kind>=s.SyntaxKind.FirstPunctuation&&r.kind<=s.SyntaxKind.LastPunctuation)){var i=r.getStart(),a=r.getEnd();if(i<=n&&n<a)return e(r,n)}return t&&t.kind===o.SK.SourceFile?null:t},o.getParentNamespace=a,o.getCurrentNamespaces=function e(t){var n;return(t=t&&a(t))?(n=t.name.getText(),[...e(t.parent),n]):[]},o.getEnumMembers=function(e,t){if(e&&t.symbol&&t.symbol.declarations&&t.symbol.declarations.length)for(let e=0;e<t.symbol.declarations.length;e++){var n=t.symbol.declarations[e];if(n.kind===o.SK.EnumDeclaration)return n.members}},o.isExported=function(e){if(e.modifiers&&e.modifiers.some(e=>e.kind==o.SK.PrivateKeyword||e.kind==o.SK.ProtectedKeyword))return!1;let t=e.symbol;if(!t)return!1;for(;;){var n=t.parent;if(!n)break;t=n}let r=t.valueDeclaration||t.declarations[0];return!(!(r=r.kind==o.SK.VariableDeclaration?r.parent.parent:r).parent||r.parent.kind!=o.SK.SourceFile)},o.isReadonly=function(e){return e.modifiers&&e.modifiers.some(e=>e.kind==o.SK.ReadonlyKeyword)}}}(ts=ts||{}),function(e){var u=e.pxtc||(e.pxtc={});{var o=u.vm||(u.vm={});const d=u.assembler.emitErr,n=d("opcode name doesn't match","<name>");class i extends u.assembler.Instruction{constructor(e,t,n){super(e,t,n,n,!1)}emit(i){var t=i.words;if(t[0]!=this.name)return n;let a=this.opcode,s=1,o=[],c=null,l=null;for(let e=0;e<this.args.length;++e){let n=this.args[e],r=t[s++];if("$"==n[0]){let e=this.ei.encoders[n],t=null;if(e.isImmediate||e.isLabel){if(!r)return d("expecting number",r);if(r=r.replace(/^#/,""),null==(t=i.bin.parseOneInt(r)))return d("expecting number",r)}else u.oops();if(null==t)return d("didn't understand it",r);u.U.assert(0<=t),11111!=t&&"$lbl"==n&&(t=t-(i.bin.location()+2)>>1),o.push(t);const s=t;if(null==(t=e.encode(t)))return d(`argument (${s}) out of range or mis-aligned`,r);"$i3"==n?t=l|t<<6:"$i5"==n&&(t=l|t<<8),"$i2"==n||"$i4"==n?l=t:"$rt"==n?(11111!=t&&4096<t&&u.U.oops("label: "+r+" v="+t),a=32768|t,"callrt.p"==this.name&&(a|=8192)):i.isLong||t<0||255<t?(i.isLong=!0,"$lbl"==n&&--t,a=t>>9&65535|49152,c=this.opcode+(t<<7)&65535):a=this.opcode+(t<<7)&65535}else if(n!=r)return d("expecting "+n,r)}return t[s]?d("trailing tokens",t[s]):{stack:0,opcode:a,opcode2:c,numArgs:o,labelName:i.bin.normalizeExternalLabel(null)}}}o.VmInstruction=i,o.withPush={},o.opcodes=["stloc     $i1","ldloc     $i1","stfld     $i4, $i5","ldfld     $i4, $i5","newobj    $i1","ldcap     $i1","bitconv   $i1","stglb     $i1","ldglb     $i1","ldint     $i1","ldintneg  $i1","ldspecial $i1","ldnumber  $i1","ldlit     $i1","checkinst $i1","mapget","mapset","ret       $i2, $i3","popmany   $i1","pushmany  $i1","callind   $i1","callproc  $i1","calliface $i2, $i3","callget   $i1","callset   $i1","jmp       $lbl","jmpnz     $lbl","jmpz      $lbl","try       $lbl","push","pop"];class t extends u.assembler.AbstractProcessor{constructor(e){super(),this.addEnc("$i1","#0-8388607",e=>this.inrange(8388607,e,e)),this.addEnc("$i2","#0-31",e=>this.inrange(31,e,e)),this.addEnc("$i3","#0-262143",e=>this.inrange(262143,e,e)),this.addEnc("$i4","#0-255",e=>this.inrange(255,e,e)),this.addEnc("$i5","#0-32767",e=>this.inrange(32767,e,e)),this.addEnc("$lbl","LABEL",e=>this.inminmax(-4194304,4194303,e,e)).isLabel=!0;let t=1,n=this.addEnc("$rt","SHIM",e=>this.inrange(8388607,e,e)).isLabel=!0;for(var r of o.opcodes.concat(["callrt $rt"])){let e=new i(this,r,t);this.instructions[e.name]=[e],!n&&"callrt"!=e.name||(o.withPush[e.name]=!0,e=new i(this,r.replace(/\w+/,e=>e+".p"),64|t),this.instructions[e.name]=[e]),"mapset.p"==e.name&&(n=!1),t++}}testAssembler(){}postProcessRelAddress(e,t){return t}postProcessAbsAddress(e,t){return t}getAddressFromLabel(e,t,n,r=0){n=e.lookupLabel(n);return null==n?null:t.is32bit?n:n-(e.pc()+2)}toFnPtr(e,t){return e}wordSize(){return 8}peephole(e,t,n){let r=e.getOp(),i="";var a,s;t&&(a=r+";"+(i=t.getOp()),(s=this.file.peepCounts)[a]=(s[a]||0)+1),"stloc"==r&&"ldloc"==i&&e.numArgs[0]==t.numArgs[0]?(/LAST/.test(t.text)&&e.update(""),t.update("")):o.withPush[r]&&"push"==i&&(e.update(e.text.replace(/\w+/,e=>e+".p")),t.update(""))}}o.VmProcessor=t}}(ts=ts||{}),function(e){var t;e=e.py||(e.py={}),(t=e.VarModifier||(e.VarModifier={}))[t.NonLocal=0]="NonLocal",t[t.Global=1]="Global",e.isIndex=function(e){return"Index"===e.kind},e.isSubscript=function(e){return"Subscript"===e.kind}}(pxt=pxt||{}),function(U){{var B=U.py||(U.py={}),j=U.blocks;let A,N,b,i,w,I,P,O,F,L,m=0,t=0,R=0,a="???";function _(e){return null==e}function ee(e){return null!=e}function d(e){return U.tickEvent("python.todo.statement",{kind:e.kind}),j.mkStmt(j.mkText("TODO: "+e.kind))}function r(e){return U.tickEvent("python.todo.expression",{kind:e.kind}),j.mkText(" {TODO: "+e.kind+"} ")}const Y=o({primType:"string"}),f=o({primType:"number"}),He=o({primType:"boolean"}),Ge=o({primType:"void"}),X=o({primType:"any"});let M;const We={str:Y,string:Y,number:f,bool:He,void:Ge,any:X};function te(e){e=U.U.flatClone(e);return delete e.pyAST,delete e.pyInstanceType,delete e.pyRetType,delete e.pySymbolType,delete e.moduleTypeMarker,delete e.declared,e.parameters&&(e.parameters=e.parameters.map(e=>(delete(e=U.U.flatClone(e)).pyType,e))),e}function K(e){if("("==e[0]&&U.U.endsWith(e,")"))return K(e.slice(1,-1));var t=e.indexOf(" => ");if(0<t){const U=e.slice(t+4);if(-1==U.indexOf(")[]")){const n=K(U),r=e.slice(1,t-1);return ne(n,(r?r.split(/, /):[]).map(e=>K(e.replace(/\w+\??: /,""))))}}if(U.U.endsWith(e,"[]"))return k(K(e.slice(0,-2)));if("_py.Array"===e)return k(X);const n=U.U.lookup(We,e);if(n)return n;if(e&&!isNaN(e))return f;if("T"==e||"U"==e)return o({primType:"'"+e});if(0<=e.indexOf("|"))return o({primType:"@union",typeArgs:e.split("|").map(e=>e.trim()).map(K)});let r=s(e+"@type")||s(e);return r?7==r.kind?f:8==r.kind||9==r.kind?r.pyInstanceType||o({classType:r}):6==r.kind?f:(z(null,9502,U.U.lf("'{0}' is not a type near '{1}'",e,a||"???")),o({primType:e})):(z(null,9501,U.U.lf("unknown type '{0}' near '{1}'",e,a||"???")),o({primType:e}))}function g(e){if(!e.pySymbolType){if(a=e.pyQName,e.parameters){pxtc.service.isTaggedTemplate(e)&&(e.parameters=[{name:"literal",description:"",type:"string",options:{}}]);for(var t of e.parameters)t.pyType||(t.pyType=K(t.type))}var n=e.pyRetType;if(Se(e)?e.pyRetType=o({moduleType:e}):e.retType?e.pyRetType=K(e.retType):e.pyRetType||(U.U.oops("no type for: "+e.pyQName),e.pyRetType=o({})),n&&$(e.pyAST,n,e.pyRetType),3==e.kind||1==e.kind){n=e.parameters.map(e=>e.pyType);if(n.some(_))return z(null,9526,U.U.lf("function symbol is missing parameter types near '{1}'",a||"???")),o({});e.pySymbolType=ne(e.pyRetType,n.filter(ee))}else e.pySymbolType=e.pyRetType;8!=e.kind&&9!=e.kind||(e.pyInstanceType=o({classType:e})),a=void 0}return e.pySymbolType}function s(e){return U.U.lookup(N,e)||U.U.lookup(A,e)}function x(e){if(e)return(e=s(e))&&g(e),e}function o(e={}){e=U.U.flatClone(e);return e.tid=++t,e}function k(e){return o({primType:"@array",typeArgs:[e]})}function ne(e,t){return o({primType:"@fn"+t.length,typeArgs:[e].concat(t)})}function re(e){return U.U.startsWith(e.primType||"","@fn")}function ie(e){return e.primType&&!U.U.startsWith(e.primType,"@")}function ae(e){return U.U.startsWith(e.primType||"","@union")}function S(){return b.currFun||b.currClass||b.currModule}function se(){let e=S();for(;e&&e.parent;)e=e.parent;return e}function oe(){return"main"==b.currModule.name&&!b.currFun&&!b.currClass}function h(t,e,n,r){let i=(r=r||S()).vars[t],a=null==i?void 0:i.symbol;if(!a){let e=y(r);e&&(e+=".");var s=e+t;a=!me(r)||n!==B.VarModifier.Global&&n!==B.VarModifier.NonLocal?me(r)?_e(4,t):c(4,s):c(4,t),i={symbol:a,modifier:n},r.vars[t]=i}for(var o of Object.keys(e))a[o]=e[o];return i}function T(e){return e.unifyWith?(e.unifyWith=T(e.unifyWith),e.unifyWith):e}function y(e){let t=e,n="";return t.parent&&"FunctionDef"!==t.parent.kind&&"AsyncFunctionDef"!==t.parent.kind&&((n=y(t.parent))?n+=".":n=""),"Module"==e.kind&&"main"==e.name?"":e.name?n+e.name:n+"?"+e.kind}function ce(e){var t,n=U.U.lookup(Ze,e);if(n)return n;for(t of U.U.values(b.currModule.vars)){var r=t.symbol;if(r.isImport){if(r.expandsTo==e)return r.pyName||z(null,9553,lf("missing pyName")),r.pyName;if(r.isImport&&U.U.startsWith(e,(r.expandsTo||"")+"."))return r.pyName+e.slice(r.expandsTo.length)}}return e}function C(e){return(e=T(e)).primType?e.typeArgs&&"@array"==e.primType?C(e.typeArgs[0])+"[]":re(e)&&e.typeArgs?"("+e.typeArgs.slice(1).map(e=>"_: "+C(e)).join(", ")+") => "+C(e.typeArgs[0]):ae(e)&&e.typeArgs?e.typeArgs.map(C).join(" | "):e.primType+"":e.classType&&e.classType.pyQName?ce(e.classType.pyQName)+"":e.moduleType&&e.moduleType.pyQName?ce(e.moduleType.pyQName)+"":"any"}function z(e,t,n){var r;I.push((e=e,r=pxtc.DiagnosticCategory.Error,t=t,n=n,(e=e||i)&&b&&b.currModule?{fileName:w,start:e.startPos,length:e.endPos-e.startPos,line:void 0,column:void 0,code:t,category:r,messageText:n}:{fileName:w,start:0,length:0,line:void 0,column:void 0,code:t,category:r,messageText:n}))}function E(e){return e.primType||e.classType||(e.moduleType?(e.moduleType.moduleTypeMarker||(e.moduleType.moduleTypeMarker={}),e.moduleType.moduleTypeMarker):null)}function le(e){return!E(T(e))}function ue(e,t,n){(t=T(t)).classType!=n&&(le(t)?t.classType=n:$(e,t,(g(e=n),e.pyInstanceType||z(null,9527,U.U.lf("Instance type symbol '{0}' is missing pyInstanceType",e)),e.pyInstanceType)))}function D(e,t){$(e,J(e),t)}function $(t,n,r){if(n!==r&&(n=T(n))!==(r=T(r))&&!fe(n)&&!fe(r)){if("any"===n.primType)return n.unifyWith=r;var e,i,a=E(n),s=E(r);if(a&&s)if(a===s){if(n.unifyWith=r,n.typeArgs&&r.typeArgs)for(let e=0;e<Math.min(n.typeArgs.length,r.typeArgs.length);++e)$(t,n.typeArgs[e],r.typeArgs[e]);n.unifyWith=r}else e=n,i=r,z(t,9500,U.U.lf("types not compatible: {0} and {1}",C(e),C(i)));else a&&!s?$(t,r,n):(R++,n.unifyWith=r)}}function de(e,t){var n=T(J(e)),t=T(t);!function e(t,n){var r=T(t),t=T(n);if(r===t)return 1;const i=E(r),a=E(t);if(i===a)return 1;if(i&&a){if(pe(i)&&pe(a)&&i.extendsTypes&&i.extendsTypes.length&&i.extendsTypes.some(e=>e===a.qName))return 1;if(ae(t))for(var s of t.typeArgs||[])if(e(r,s))return 1}}(n,t)&&(re(n)||re(t)||ie(n)||ie(t))&&$(e,n,t)}function pe(e){return!(null==(e=e)||!e.name)}function fe(e){return null!=(e=null==e?void 0:e.primType)&&e.startsWith("'")}function _e(e,t){var n=/(.*)\.(.*)/.exec(t),r=n?n[2]:t;return{kind:e,name:r,pyName:r,qName:t,pyQName:t,namespace:n?n[1]:"",attributes:{},pyRetType:o()}}function c(e,t){let n=N[t];return n?n.kind=e:((n=_e(e,t)).pyQName||z(null,9527,U.U.lf("Symbol '{0}' is missing pyQName",t)),N[n.pyQName]=n),n}function me(e){let t=e;for(;t;){if("FunctionDef"==t.kind)return 1;t=t.parent}}function ge(t,n,r){if(!n.symInfo){let e=y(n);U.U.endsWith(e,".__init__")&&(e=e.slice(0,-9)+".__constructor"),me(r=r||S())?n.symInfo=_e(t,e):n.symInfo=c(t,e);t=n.symInfo;t.pyAST=n,t.pyName||z(null,9528,U.U.lf("Symbol '{0}' is missing pyName",t.qName||t.name)),r.vars[t.pyName]={symbol:t}}return n.symInfo}function he(e){let t=e.symInfo.qName;return U.U.values(N).filter(e=>e.namespace==t&&2==e.kind)}function v(e,t,n=!1,r=!1){var i=e.pyQName+"."+t,a=x(i);if(a)return a;if(!r)for(var s of e.extendsTypes||[]){s=x(s);if(s){s==e&&U.U.userError("field lookup loop on: "+s.qName+" / "+t);s=v(s,t,!0);if(s)return s}}return!n&&e.pyAST&&"ClassDef"==e.pyAST.kind?((a=c(2,i)).isInstance=!0,a):null}function ye(e,t,n=!1){const r=J(e),i=[(a=T(r)).classType,...ve(a.primType),a.moduleType].filter(ee);var a,s,o;for(s of i){var c=v(s,t,n);if(c)return r.moduleType?c.isInstance&&z(null,9505,U.U.lf("the field '{0}' of '{1}' is not static",t,s.pyQName)):(c.isInstance||z(null,9504,U.U.lf("the field '{0}' of '{1}' is static",t,s.pyQName)),(G(o=e,"super")&&0==o.args.length||"Name"==(o=e).kind&&"self"==o.id&&(b.currClass||z(null,9529,U.U.lf("no class context found for {0}",c.pyQName)),c.namespace!=b.currClass.symInfo.qName))&&(c.isProtected=!0)),c}return null}function ve(e){let t=[];return"@array"==e?t=[s("_py.Array"),s("Array")]:"string"==e&&(t=[s("_py.String"),s("String")]),t.filter(e=>!!e)}function be(e){let t=S(),n=U.U.lookup(t.vars,e);if(n)return n;for(;t;){var r=U.U.lookup(t.vars,e);if(r)return r;for(;(t=t.parent)&&"ClassDef"==t.kind;);}return null}function xe(e){if(!e)return null;const t=e.indexOf(".");if(0<t){const n=be(e.slice(0,t)),r=null==n?void 0:n.symbol;r&&r.pyQName!=r.pyName&&(e=r.pyQName+e.slice(t))}else{const t=be(e);if(t)return t}let n=x(e);return n?{symbol:n}:void 0}function ke(e){return null==(e=xe(e))?void 0:e.symbol}function J(e){return e.tsType?T(e.tsType):(e.tsType=o(),e.tsType)}function Se(e){if(e)switch(e.kind){case 5:case 9:case 8:case 6:return 1;default:return}}function Te(e){var t=U.U.flatClone(b);let n;try{n=e()}finally{b=t}return n}function Ce(e,t){return 0==t.length?j.mkText(""):j.mkGroup([j.mkText("/* TODO: "+e+" "),j.mkGroup(t),j.mkText(" */"),j.mkNewLine()])}function Ee(e){var t=W(e.value);return e.arg?j.mkInfix(j.mkText(e.arg),"=",t):j.mkGroup([j.mkText("**"),t])}function De(e){if(!e)return o();var t=V(e);if(t){var n=s(t+"@type")||s(t);if(n){if(g(n),6==n.kind)return f;if(n.pyInstanceType)return n.pyInstanceType}else if(We[t])return We[t];z(e,9506,U.U.lf("cannot find type '{0}'",t))}else if(B.isSubscript(e)&&"List"===V(e.value)&&B.isIndex(e.slice))return k(De(e.slice.value));return z(e,9507,U.U.lf("invalid type syntax")),o({})}const Qe={Sub:1,Div:1,Pow:1,LShift:1,RShift:1,BitOr:1,BitXor:1,BitAnd:1,FloorDiv:1,Mult:1},Ye={Add:"+",Sub:"-",Mult:"*",MatMult:"Math.matrixMult",Div:"/",Mod:"%",Pow:"**",LShift:"<<",RShift:">>",BitOr:"|",BitXor:"^",BitAnd:"&",FloorDiv:"Math.idiv",And:"&&",Or:"||",Eq:"==",NotEq:"!=",Lt:"<",LtE:"<=",Gt:">",GtE:">=",Is:"===",IsNot:"!==",In:"py.In",NotIn:"py.NotIn"},Xe={Invert:"~",Not:"!",UAdd:"P+",USub:"P-"},Ze={"adafruit_bus_device.i2c_device.I2CDevice":"pins.I2CDevice"};function l(e){b.blockDepth++;e=j.mkBlock(e.map(Q));return b.blockDepth--,e}function Ae(e){e.vars||(e.vars={},e.parent=S(),e.blockDepth=b.blockDepth)}function Ne(e,t=!1){return"any"===C(e)?t?j.mkText(": any"):j.mkText(""):j.mkText(": "+C(e))}function e(e,t){try{return Te(t)}catch(t){return console.log(t),j.mkStmt(Ce("conversion failed for "+(e.name||e.kind),[]))}}function we(e){if(e&&e.pyAST&&"FunctionDef"==e.pyAST.kind)return(e=e.pyAST).callers&&1==e.callers.length&&!e.callers[0].inCalledPosition}function Ie(f,_=!1){return e(f,()=>{var e=!!b.currClass&&!b.currFun,t=oe(),n=!!b.currFun,r=(Ae(f),ke(y(f))),i=ge(e?1:3,f);if(!_&&(r&&r.declared===m&&z(f,9520,lf("Duplicate function declaration")),i.declared=m,we(i)))return j.mkText("");e&&(i.isInstance=!0),b.currFun=f;let a="",s=f.name;var r=[Ce("decorators",f.decorator_list.filter(e=>"property"==V(e)?!(a="get"):"Attribute"!=e.kind||"setter"!=e.attr||"Name"!=e.value.kind||(s=e.value.id,!(a="set"))).map(W))],o=(1<=f.body.length&&"Raise"==f.body[0].kind&&(f.alwaysThrows=!0),e?(b.currClass||z(f,9531,lf("method '{0}' is missing current class context",i.pyQName)),i.pyRetType||z(f,9532,lf("method '{0}' is missing a return type",i.pyQName)),"__init__"==f.name?(r.push(j.mkText("constructor")),ue(f,i.pyRetType,b.currClass.symInfo)):("__get__"!=s&&"__set__"!=s||(o=null==(o=f.vars.value)?void 0:o.symbol,"__set__"==s&&o&&(d=v(b.currClass.symInfo,"__get__"))&&d.pyAST&&"FunctionDef"==d.pyAST.kind&&$(f,o.pyRetType,d.pyRetType),s=s.replace(/_/g,"")),a=a||("_"==s[0]?i.isProtected?"protected":"private":"public"),r.push(j.mkText(a+" "),H(s)))):(U.U.assert(!a),"_"==f.name[0]||t||_||n?r.push(j.mkText("function "),H(s)):r.push(j.mkText("export function "),H(s))),f.returns?De(f.returns):i.pyRetType),c=(r.push(function(i,e){const a=i.args;a.kwonlyargs.length&&z(i,9517,U.U.lf("keyword-only arguments not supported yet"));var t=a.args.slice();if(e?("self"!=t[0].arg&&z(i,9518,U.U.lf("first argument of method has to be called 'self'")),t.shift()):t.some(e=>"self"==e.arg)&&z(i,9519,U.U.lf("non-methods cannot have an argument called 'self'")),!i.symInfo.parameters){let r=a.defaults.length-t.length;i.symInfo.parameters=t.map(e=>{e.annotation||z(i,9519,U.U.lf("Arg '{0}' missing annotation",e.arg));let t=De(e.annotation),n="";return 0<=r&&(n=j.flattenNode([W(a.defaults[r])]).output,$(e,t,J(a.defaults[r]))),r++,{name:e.arg,description:"",type:"",initializer:n,default:n,pyType:t}})}e=i.symInfo.parameters.map(e=>{var t=h(e.name,{isParam:!0}),t=null==t?void 0:t.symbol,t=(e.pyType||z(i,9530,U.U.lf("parameter '{0}' missing pyType",e.name)),$(i,g(t),e.pyType),[H(e.name),Ne(e.pyType,!0)]);return e.default&&t.push(j.mkText(" = "+e.default)),j.mkGroup(t)});return a.vararg&&e.push(j.mkText("TODO *"+a.vararg.arg)),a.kwarg&&e.push(j.mkText("TODO **"+a.kwarg.arg)),j.H.mkParenthesizedExpression(j.mkCommaSep(e))}(f,e),o&&T(o)!=Ge?Ne(o):j.mkText("")),g(i),f.body.map(Q));if("__init__"==f.name){b.currClass||z(f,9533,lf("__init__ method '{0}' is missing current class context",i.pyQName));for(var l of he(b.currClass)){var u=l.pyAST;u&&u.value&&c.push(j.mkStmt(j.mkText(`this.${q(l.pyName)} = `),W(u.value)))}}var d=ze(f);r.push(j.mkBlock(d.concat(c)));let p=j.mkGroup(r);return _?r[r.length-1].noFinalNewline=!0:p=j.mkStmt(p),p})}const et={FunctionDef:e=>Ie(e),ClassDef:r=>e(r,()=>{Ae(r);var e=ge(8,r),t=(U.U.assert(!b.currClass),oe()),t=((b.currClass=r).isNamespace=r.decorator_list.some(e=>"Name"==e.kind&&"namespace"==e.id),r.isNamespace?[j.mkText("namespace "),H(r.name)]:[Ce("keywords",r.keywords.map(Ee)),Ce("decorators",r.decorator_list.map(W)),j.mkText(t?"class ":"export class "),H(r.name)]),e=(!r.isNamespace&&0<r.bases.length&&("Enum"==V(r.bases[0])?r.isEnum=!0:(t.push(j.mkText(" extends ")),t.push(j.mkCommaSep(r.bases.map(W))),(n=(n=ke(p(r.bases[0])))&&n.pyAST&&"ClassDef"==n.pyAST.kind?n.pyAST:null)&&(r.baseClass=n,e.extendsTypes=[n.symInfo.pyQName]))),l(r.body)),n=(t.push(e),he(r).filter(e=>2==e.kind&&e.isInstance).map(e=>(e.pyName&&e.pyRetType||z(r,9535,lf("field definition missing py name or ret type",e.qName)),e)).map(e=>j.mkStmt(e.pyName&&"_"==e.pyName[0]?e.isProtected?j.mkText("protected "):j.mkText("private "):j.mkText(""),H(e.pyName),Ne(e.pyRetType))));return e.children=n.concat(e.children),j.mkStmt(j.mkGroup(t))}),Return:e=>{var t;return e.value?((t=b.currFun)&&(t.symInfo.pyRetType||z(e,9536,lf("function '{0}' missing return type",t.symInfo.pyQName)),D(e.value,t.symInfo.pyRetType)),j.mkStmt(j.mkText("return "),W(e.value))):j.mkStmt(j.mkText("return"))},AugAssign:e=>{var t=Ye[e.op];return 3<t.length?j.mkStmt(j.mkInfix(W(e.target),"=",j.H.mkCall(t,[W(e.target),W(e.value)]))):j.mkStmt(W(e.target),j.mkText(" "+t+"= "),W(e.value))},Assign:e=>n(e),AnnAssign:e=>n(e),For:e=>{var t,n,r,i,a;if(U.U.assert(0==e.orelse.length),e.target.forTargetEndPos=e.endPos,G(e.iter,"range"))return t=e.iter,n=W(e.target),r=H(p(e.target)),D(e.target,f),i=1==t.args.length?j.mkText("0"):W(t.args[0]),a=W(t.args[1==t.args.length?0:1]),j.mkStmt(j.mkText("for ("),j.mkInfix(n,"=",i),j.mkText("; "),j.mkInfix(r,"<",a),j.mkText("; "),3<=t.args.length?j.mkInfix(r,"+=",W(t.args[2])):j.mkPostfix([r],"++"),j.mkText(")"),l(e.body));if(1<m){const U=J(e.target);D(e.iter,J(e.iter)==Y?U:k(U))}return j.mkStmt(j.mkText("for ("),W(e.target),j.mkText(" of "),W(e.iter),j.mkText(")"),l(e.body))},While:e=>(U.U.assert(0==e.orelse.length),j.mkStmt(j.mkText("while ("),W(e.test),j.mkText(")"),l(e.body))),If:e=>{let n=e=>{var t=[j.mkText("if ("),W(e.test),j.mkText(")"),l(e.body)];return e.orelse.length&&(t[t.length-1].noFinalNewline=!0,1==e.orelse.length&&"If"==e.orelse[0].kind?(t.push(j.mkText(" else ")),U.U.pushRange(t,n(e.orelse[0]))):t.push(j.mkText(" else"),l(e.orelse))),t};return j.mkStmt(j.mkGroup(n(e)))},With:r=>{if(1==r.items.length&&(i="pins.I2CDevice",(a=J(r.items[0].context_expr)).classType&&a.classType.pyQName==i||C(a)==i)){let e=r.items[0],t=[],n=W(e.context_expr);return e.optional_vars&&(a=V(e.optional_vars))&&(i=null==(i=h(a,{isLocal:!0}))?void 0:i.symbol,a=q(a),t.push(j.mkStmt(j.mkText("const "+a+" = "),n)),i.pyRetType||z(r,9537,lf("function '{0}' missing return type",i.pyQName)),D(e.context_expr,i.pyRetType),n=j.mkText(a)),t.push(j.mkStmt(j.mkInfix(n,".",j.mkText("begin()")))),U.U.pushRange(t,r.body.map(Q)),t.push(j.mkStmt(j.mkInfix(n,".",j.mkText("end()")))),j.mkGroup(t)}var i,a;let s=[],e=r.items.map((e,t)=>{let n="with"+t;return e.optional_vars&&(h(t=p(e.optional_vars),{isLocal:!0}),n=q(t)),s.push(j.mkStmt(j.mkText(n+".end()"))),j.mkStmt(j.mkText("const "+n+" = "),j.mkInfix(W(e.context_expr),".",j.mkText("begin()")))});return U.U.pushRange(e,r.body.map(Q)),U.U.pushRange(e,s),j.mkBlock(e)},Raise:e=>{let t,n=e.exc||e.cause;return n?(t=(t=n&&"Call"==n.kind&&1==n.args.length?W(n.args[0]):t)||j.mkGroup([j.mkText("`"),W(n),j.mkText("`")]),j.mkStmt(j.H.mkCall("control.fail",[t]))):j.mkStmt(j.mkText("throw"))},Assert:e=>(e.msg||z(e,9537,lf("assert missing message")),j.mkStmt(j.H.mkCall("control.assert",[e.test,e.msg].filter(e=>!!e).map(W)))),Import:e=>{for(var t of e.names)t.asname&&h(t.asname,{expandsTo:t.name}),n=e,t=t.name,r=void 0,r=x(t),r||z(n,9503,U.U.lf("No module named '{0}'",t));var n,r;return j.mkText("")},ImportFrom:e=>{var t,n,r,i,a=[];for(t of e.names)"*"==t.name?(e.module||z(e,9538,lf("import missing module name")),h(e.module,{isImportStar:!0})):(r=x(n=e.module+"."+t.name),i=t.asname||t.name,Se(r)?(h(i,{isImport:r,expandsTo:n}),a.push(j.mkStmt(j.mkText(`import ${q(i)} = `+n)))):h(i,{expandsTo:n}));return j.mkGroup(a)},ExprStmt:e=>{return"Str"==e.value.kind?((t=e.value.s).trim().split(/\n/).length<=1?t=t.trim():t+="\n",j.mkStmt(j.mkText("/** "+t+" */"))):j.mkStmt(W(e.value));var t},Pass:e=>j.mkStmt(j.mkText("")),Break:e=>j.mkStmt(j.mkText("break")),Continue:e=>j.mkStmt(j.mkText("continue")),Delete:e=>(z(e,9550,U.U.lf("delete statements are unsupported")),d(e)),Try:e=>{var t,n=[j.mkText("try"),l(e.body.concat(e.orelse))];for(t of e.handlers)n.push(j.mkText("catch ("),t.name?H(t.name):j.mkText("_")),t.type&&n.push(j.mkText("/* instanceof "),W(t.type),j.mkText(" */")),n.push(j.mkText(")"),l(t.body));return e.finalbody.length&&n.push(j.mkText("finally"),l(e.finalbody)),j.mkStmt(j.mkGroup(n))},AsyncFunctionDef:e=>(z(e,9551,U.U.lf("async function definitions are unsupported")),d(e)),AsyncFor:e=>(z(e,9552,U.U.lf("async for statements are unsupported")),d(e)),AsyncWith:e=>(z(e,9553,U.U.lf("async with statements are unsupported")),d(e)),Global:e=>{var t=se();S();for(const j of e.names)U.U.lookup(t.vars,j)||z(e,9521,U.U.lf("No binding found for global variable")),h(j,{},B.VarModifier.Global).firstRefPos<e.startPos&&z(e,9522,U.U.lf("Variable referenced before global declaration"));return j.mkStmt(j.mkText(""))},Nonlocal:e=>{var t=se(),n=S();for(const j of e.names){var r=Ke(j,n);r&&r!==t&&r.vars[j].modifier!==B.VarModifier.Global||z(e,9523,U.U.lf("No binding found for nonlocal variable")),h(j,{},B.VarModifier.NonLocal).firstRefPos<e.startPos&&z(e,9524,U.U.lf("Variable referenced before nonlocal declaration"))}return j.mkStmt(j.mkText(""))}};function n(e){let t,n,r,i;if("Assign"===e.kind){if(1!=e.targets.length)return z(e,9553,U.U.lf("multi-target assignment statements are unsupported")),d(e);i=e.targets[0],r=e.value,t=null,n=null}else{if("AnnAssign"!==e.kind)return e;i=e.target,r=e.value||null,t=e.annotation,n=De(t),D(i,n)}let a,s="",o=!!r&&G(r,"const"),c=V(i)||"";if(oe()||b.currClass||b.currFun||"_"==c[0]||(s="export "),c&&b.currClass&&!b.currFun){o=!(!r||!b.currClass.isNamespace);var l=v(b.currClass.symInfo,c);if(l||z(e,9544,lf("cannot get class field")),0==m)return j.mkText("/* skip for now */");l.pyRetType||z(e,9539,lf("function '{0}' missing return type",l.pyQName)),D(i,l.pyRetType),l.isInstance=!1,s=b.currClass.isNamespace?`export ${o?"const":"let"} `:"static "}if(!r)return z(e,9555,U.U.lf("unable to determine value of assignment")),d(e);if(D(i,J(r)),o)return h(p(i),{}),/^static /.test(s)||/const/.test(s)||(s+="const "),j.mkStmt(j.mkText(s),j.mkInfix(W(i),"=",W(r)));var u;if(!s&&"Tuple"==i.kind)return l=i,u=[j.mkText("let "),j.mkText("[")],l.elts.filter(e=>"Name"!==e.kind).length?(z(e,9556,U.U.lf("non-trivial tuple assignment unsupported")),d(e)):(e=l.elts.map(e=>e).map(function(e){return Fe(e,"identifierCompletion"),J(e),Re(e),Pe(e,!0)}),u.push(j.mkCommaSep(e)),u.push(j.mkText("]")),j.mkStmt(j.mkInfix(j.mkGroup(u),"=",W(r))));if("Name"===i.kind){const U=S().vars[c],e=null==U?void 0:U.symbol;e&&4===e.kind&&void 0===U.modifier&&(void 0===U.firstAssignPos||U.firstAssignPos>i.startPos)&&(U.firstAssignPos=i.startPos,U.firstAssignDepth=b.blockDepth)}if(t&&n&&("NameConstant"===r.kind&&null===r.value||"List"===r.kind&&0===r.elts.length)){const U=C(n);a=j.mkInfix(W(i),":",j.mkText(U))}return a=a||W(i),j.mkStmt(j.mkText(s),j.mkInfix(a,"=",W(r)))}function Pe(e,t=!1){let n=e.id,r=xe(n),i=null==r?void 0:r.symbol,a=S().vars[n],s=null==a?void 0:a.symbol;return void 0===e.isdef&&(!i||4===i.kind&&i!==s?(r=b.currClass&&!b.currFun?(e.isdef=!1,h(n,{})):h(n,{isLocal:e.isdef=!0}),i=r.symbol):e.isdef=!1,e.symbolInfo=i,e.tsType||z(e,9540,lf("definition missing ts type")),i.pyRetType||z(e,9568,lf("missing py return type")),$(e,e.tsType,i.pyRetType)),e.isdef&&$e(r,S())&&(e.isdef=!1),Me(r,e),e.isdef&&!t?j.mkGroup([j.mkText("let "),H(n)]):H(n)}function q(e){return j.isReservedWord(e)?e+"_":e}function V(e){var t;if("Name"==e.kind)return(n=null==(n=be(t=e.id))?void 0:n.symbol)&&n.expandsTo?n.expandsTo:t;if("Attribute"==e.kind){var n=V(e.value);if(n)return n+"."+e.attr}}function p(e){var t=V(e);return t||z(null,9542,lf("Cannot get name of unknown expression kind '{0}'",e.kind)),t}function H(e){return"self"==e?j.mkText("this"):j.mkText(q(e))}function G(e,t){return"Call"==e.kind&&V(e.func)===t}function u(e,t,n){t=Ye[t];return U.U.assert(!!t),3<t.length?j.H.mkCall(t,[e,n]):j.mkInfix(e,t,n)}const tt={memoryview:{n:"",t:M},const:{n:"",t:f},"micropython.const":{n:"",t:f}},Z=function(){let n={};return Object.keys(pxtc.ts2PyFunNameMap).forEach(e=>{var t=pxtc.ts2PyFunNameMap[e];t&&t.n&&(e={n:e,t:function(e){switch(e){case ts.SyntaxKind.StringKeyword:return Y;case ts.SyntaxKind.NumberKeyword:return f;case ts.SyntaxKind.BooleanKeyword:return He;case ts.SyntaxKind.VoidKeyword:return Ge;case ts.SyntaxKind.AnyKeyword:return X;default:return M}}(t.t),scale:t.scale},n[t.n]=e)}),Object.keys(tt).forEach(e=>{n[e]=tt[e]}),n}();function Oe(e){return O&&e.startPos<=O.position&&O.position<=e.endPos}function Fe(e,t){100<m&&O&&null==F&&(O.type==t||"symbol"==O.type)&&Oe(e)&&(F=e,L=S())}function Le(e,t){t&&t.pyAST&&"FunctionDef"==t.pyAST.kind&&((t=t.pyAST).callers||(t.callers=[]),t.callers.indexOf(e)<0)&&t.callers.push(e)}const nt={BoolOp:t=>{let n=W(t.values[0]);for(let e=1;e<t.values.length;++e)n=u(n,t.op,W(t.values[e]));return n},BinOp:t=>{var e,n,r=function(){if("Mod"!=t.op||"Str"!=t.left.kind||"Tuple"!=t.right.kind&&"List"!=t.right.kind)return null;{let e=t.left.s,i=t.right.elts,a=(i=i.slice(),[j.mkText("`")]);return e.replace(/([^%]+)|(%[\d\.]*([a-zA-Z%]))/g,(e,t,n,r)=>{return t?a.push(j.mkText(t.replace(/[`\\$]/g,e=>"\\"+e))):(t=(t=i.shift())?W(t):j.mkText("???"),a.push(j.mkText("${"),t,j.mkText("}"))),""}),a.push(j.mkText("`")),j.mkGroup(a)}}();return r||(e=W(t.left),n=W(t.right),Ve(t.left)&&Ve(t.right)&&"Add"===t.op?j.H.extensionCall("concat",[e,n],!1):(r=u(e,t.op,n),Qe[t.op]&&(D(t.left,f),D(t.right,f),t.tsType||z(t,9570,lf("binary op missing ts type")),$(t,t.tsType,f)),r))},UnaryOp:e=>{var t=Xe[e.op];return U.U.assert(!!t),j.mkInfix(null,t,W(e.operand))},Lambda:e=>(z(e,9574,U.U.lf("lambda expressions are not supported yet")),r(e)),IfExp:e=>j.mkInfix(j.mkInfix(W(e.test),"?",W(e.body)),":",W(e.orelse)),Dict:n=>{b.blockDepth++;var e=n.keys.map((e,t)=>{t=n.values[t];return void 0===e?r(n):j.mkStmt(j.mkInfix(W(e),":",W(t)),j.mkText(","))}),e=j.mkBlock(e);return b.blockDepth--,e},Set:e=>r(e),ListComp:e=>r(e),SetComp:e=>r(e),DictComp:e=>r(e),GeneratorExp:n=>{if(1==n.generators.length&&"Comprehension"==n.generators[0].kind){let t=n.generators[0];if(0==t.ifs.length)return Te(()=>{var e=p(t.target);return h(e,{isParam:!0}),j.mkInfix(W(t.iter),".",j.H.mkCall("map",[j.mkGroup([H(e),j.mkText(" => "),W(n.elt)])]))})}return r(n)},Await:e=>r(e),Yield:e=>r(e),YieldFrom:e=>r(e),Compare:t=>{var e;if(1==t.ops.length&&("In"==t.ops[0]||"NotIn"==t.ops[0]))return T(J(t.comparators[0]))==Y&&D(t.left,Y),e=j.mkInfix(W(t.comparators[0]),".",j.H.mkCall("indexOf",[W(t.left)])),j.mkInfix(e,"In"==t.ops[0]?">=":"<",j.mkText("0"));let n=u(W(t.left),t.ops[0],W(t.comparators[0]));for(let e=1;e<t.ops.length;++e)n=u(n,"And",u(W(t.comparators[e-1]),t.ops[e],W(t.comparators[e])));return n},Call:n=>{n.func.inCalledPosition=!0;let t,r,i=V(n.func),e=ke(i),a=e&&8==e.kind,s=e,o="";var c;a?s=ke(e.pyQName+".__constructor"):"Attribute"==n.func.kind&&(c=n.func,r=c.value,(t=J(r)).classType||t.primType)&&(o=c.attr,s=ye(r,o,!0))&&(o=s.name);let l=n.args.slice();if("super"==i&&0==l.length)return b.currClass&&b.currClass.baseClass&&(n.tsType||z(n,9543,lf("call expr missing ts type")),ue(n,n.tsType,b.currClass.baseClass.symInfo)),j.mkText("super");if(G(n,"int")&&1===l.length&&l[0]){const U=l[0],n=W(U),t=J(U);if("string"===t.primType)return j.mkGroup([j.mkText("parseInt"),j.mkText("("),n,j.mkText(")")]);if("number"===t.primType)return j.mkGroup([j.mkInfix(j.mkText("Math"),".",j.mkText("trunc")),j.mkText("("),n,j.mkText(")")])}if(!s){let e=U.U.lookup(Z,i);if((o=e?"":o)&&(i=C(t)+"."+o,(e=U.U.lookup(Z,i))||"@array"!=E(T(t))||(i="Array."+o,e=U.U.lookup(Z,i))),o="",e)if("."==e.n[0]&&l.length){if(r=l.shift(),t=J(r),o=e.n.slice(1),(s=ye(r,o))&&2==s.kind)return j.mkInfix(W(r),".",j.mkText(o))}else s=x(e.n)}if(G(n,"str"))return $(n,n.tsType,Y),j.mkInfix(j.mkText('""'),"+",W(n.args[0]));s||z(n,9508,U.U.lf("can't find called function '{0}'",i));let u=s?s.parameters:null,d=[];if(u){for(l.length>u.length&&z(n,9510,U.U.lf("too many arguments in call to '{0}'",s.pyQName));l.length<u.length;)l.push(null);l=l.slice(0,u.length);for(let t of n.keywords){var p=u.findIndex(e=>e.name==t.arg);p<0?z(t,9511,U.U.lf("'{0}' doesn't have argument named '{1}'",s.pyQName,t.arg)):null!=l[p]?z(t,9512,U.U.lf("argument '{0} already specified in call to '{1}'",t.arg,s.pyQName)):l[p]=t.value}for(let e=l.length-1;0<=e&&u[e].initializer&&null==l[e];e--)l.pop();for(let e=0;e<l.length;++e){var f=l[e];if(null!=f||u[e].initializer)if(f){u[e].pyType||z(n,9545,lf("formal arg missing py type"));const U=u[e].pyType;"any"!==U.primType&&de(f,U),"Name"==f.kind&&we(f.symbolInfo)?d.push(Ie(f.symbolInfo.pyAST,!0)):d.push(W(f))}else u[e].initializer||z(n,9547,lf("formal arg missing initializer")),d.push(j.mkText(u[e].initializer));else z(n,9513,U.U.lf("missing argument '{0}' in call to '{1}'",u[e].name,s.pyQName)),d.push(j.mkText("null"))}}else s&&z(n,9509,U.U.lf("calling non-function")),d=l.map(W);if(!F&&O&&"signature"==O.type&&Oe(n)){F=n,L=S();for(let e=O.auxResult=0;e<l.length;++e){O.auxResult=e;var _=l[e];if(!_)break;if(_.startPos<=O.position&&O.position<=_.endPos)break}}if(s){s.pyRetType||z(n,9549,lf("function missing pyRetType"));if(r&&Ve(r)&&t){var m=n;var g=s;var h=t;switch(g.qName){case"Array.pop":case"Array.removeAt":case"Array.shift":case"Array.find":case"Array.get":case"Array._pickRandom":D(m,h.typeArgs[0]);break;case"Array.concat":case"Array.slice":case"Array.filter":case"Array.fill":D(m,h);break;case"Array.reduce":if("Call"===m.kind&&1<m.args.length){const g=J(m.args[1]);g&&D(m,g)}break;case"Array.map":D(m,k(X));break;default:D(m,g.pyRetType)}}else D(n,s.pyRetType);n.symbolInfo=s;if(s.attributes.py2tsOverride){const U=function(e){var t=new RegExp(/([^\$]*\()?([^\$\(]*)\$(\d)(?:(?:(?:=(\d+|'[a-zA-Z0-9_]*'|false|true|null|undefined))|(\?)|))/,"y"),n=[];let r,i=0;for(;i=t.lastIndex,(r=t.exec(e))&&(r[1]&&n.push({kind:"text",text:r[1]}),n.push({kind:"arg",prefix:r[2],index:parseInt(r[3]),default:r[4],isOptional:!!r[5]})),r;);return null!=i?n.push({kind:"text",text:e.substr(i)}):n.push({kind:"text",text:e}),{parts:n}}(s.attributes.py2tsOverride);if(U)return o&&!r&&z(n,9550,lf("missing recv")),(c=function(e,t,n){var r=[];for(const n of e.parts)if("text"===n.kind)r.push(j.mkText(n.text));else if(t[n.index]||n.default)n.prefix&&r.push(j.mkText(n.prefix)),t[n.index]?r.push(t[n.index]):r.push(j.mkText(n.default));else if(!n.isOptional)return;return n?j.mkInfix(n,".",j.mkGroup(r)):j.mkGroup(r)}(U,d,o?W(r):void 0))||z(n,9555,lf("buildOverride failed unexpectedly")),c}else if(s.attributes.pyHelper)return j.mkGroup([j.mkInfix(j.mkText("_py"),".",j.mkText(s.attributes.pyHelper)),j.mkText("("),j.mkCommaSep(r?[W(r)].concat(d):d),j.mkText(")")])}let y=o?j.mkInfix(W(r),".",j.mkText(o)):W(n.func),v=[y,j.mkText("("),j.mkCommaSep(d),j.mkText(")")];return s&&1==d.length&&pxtc.service.isTaggedTemplate(s)&&(v=[y,(c=d[0]).type==j.NT.Prefix&&'"'==c.op[0]?j.mkText(j.backtickLit(JSON.parse(c.op))):c]),a&&(e&&e.pyQName||z(n,9551,lf("missing namedSymbol or pyQName")),v[0]=j.mkText(ce(e.pyQName)),v.unshift(j.mkText("new "))),j.mkGroup(v)},Num:e=>(e.tsType||z(e,9556,lf("tsType missing")),$(e,e.tsType,f),j.mkText(e.ns)),Str:e=>(e.tsType||z(e,9557,lf("tsType missing")),$(e,e.tsType,Y),j.mkText(j.stringLit(e.s))),FormattedValue:e=>r(e),JoinedStr:e=>r(e),Bytes:e=>j.mkText(`hex\`${U.U.toHex(new Uint8Array(e.s))}\``),NameConstant:e=>(null!==e.value&&(e.tsType||z(e,9558,lf("tsType missing")),$(e,e.tsType,He)),j.mkText(JSON.stringify(e.value))),Ellipsis:e=>r(e),Constant:e=>r(e),Attribute:e=>{let t=W(e.value),n=J(e.value),r=ye(e.value,e.attr),i=e.attr;var a;return Fe(e,"memberCompletion"),r?(e.symbolInfo=r,Le(e,r),e.tsType&&r.pyRetType||z(e,9559,lf("tsType or pyRetType missing")),$(e,e.tsType,r.pyRetType),i=r.name):n.moduleType?(a=x(n.moduleType.pyQName+"."+e.attr))?(e.symbolInfo=a,Le(e,a),D(e,g(a)),i=a.name):z(e,9514,U.U.lf("module '{0}' has no attribute '{1}'",n.moduleType.pyQName,e.attr)):2<m&&z(e,9515,U.U.lf("unknown object type; cannot lookup attribute '{0}'",e.attr)),j.mkInfix(t,".",j.mkText(q(i)))},Subscript:e=>{var t,n;return"Index"==e.slice.kind?(n=T(J(e.value)),Ve(e.value)?D(e,n.typeArgs[0]):"string"===n.primType?D(e,n):2<m&&le(J(e))&&D(e,X),n=e.slice.value,2<m&&le(J(n))&&D(n,f),j.mkGroup([W(e.value),j.mkText("["),W(n),j.mkText("]")])):"Slice"==e.slice.kind?(D(e,n=J(e.value)),(t=e.slice).step?(n="string"===(null==n?void 0:n.primType),j.H.mkCall(n?"_py.stringSlice":"_py.slice",[W(e.value),t.lower?W(t.lower):j.mkText("null"),t.upper?W(t.upper):j.mkText("null"),W(t.step)])):j.mkInfix(W(e.value),".",j.H.mkCall("slice",[t.lower?W(t.lower):j.mkText("0"),t.upper?W(t.upper):null].filter(ee)))):r(e)},Starred:e=>j.mkGroup([j.mkText("... "),W(e.value)]),Name:e=>{var t,n;return Fe(e,"identifierCompletion"),"self"==e.id&&b.currClass?(e.tsType||z(e,9560,lf("missing tsType")),ue(e,e.tsType,b.currClass.symInfo),j.mkText("this")):(n=null==(t=Re(e))?void 0:t.symbol)&&n.isImport?H(n.name):(Me(t,e),0<=e.ctx.indexOf("Load")?n?null!=n&&n.qName?H(n.qName.replace("@type","")):(z(e,9561,lf("missing qName")),H("unknown")):H(p(e)):Pe(e))},List:Ue,Tuple:Ue};function Re(e){let t=xe(e.id),n=null==t?void 0:t.symbol;var r;if(t||(r=U.U.lookup(Z,e.id))&&(t=xe(r.n)),t&&n){if(e.symbolInfo=n,e.tsType||z(e,9562,lf("missing tsType")),$(e,e.tsType,g(n)),n.isImport)return t;Le(e,n),e.forTargetEndPos&&t.forVariableEndPos!==e.forTargetEndPos&&(t.forVariableEndPos?t.lastRefPos=t.forVariableEndPos+1:t.forVariableEndPos=e.forTargetEndPos)}else 0<m&&z(e,9516,U.U.lf("name '{0}' is not defined",e.id));return t}function Me(e,t){if(e){if(e.modifier===B.VarModifier.Global){const B=se();B&&B.vars[e.symbol.name]&&(e=B.vars[e.symbol.name])}else if(e.modifier===B.VarModifier.NonLocal){const B=Ke(e.symbol.name,S());B&&(e=B.vars[e.symbol.name])}(void 0===e.firstRefPos||e.firstRefPos>t.startPos)&&(e.firstRefPos=t.startPos),(void 0===e.lastRefPos||e.lastRefPos<t.startPos)&&(e.lastRefPos=t.startPos)}}function Ue(e){return e.tsType||z(e,9563,lf("missing tsType")),$(e,e.tsType,k(e.elts[0]?J(e.elts[0]):o())),j.mkGroup([j.mkText("["),j.mkCommaSep(e.elts.map(W)),j.mkText("]")])}function Be(e){return e.startPos+":"+e.endPos}function W(e){i=e;var t=nt[e.kind],t=(t||U.U.oops(e.kind+" - unknown expr"),J(e),t(e));return t.id=Be(e),t}function Q(e){i=e;var t=et[e.kind];t||U.U.oops(e.kind+" - unknown stmt");let n=(e._comments||[]).map(e=>e.value),r=t(e);return(r=n.length?j.mkGroup(n.map(e=>j.mkStmt(j.H.mkComment(e))).concat(r)):r).id=Be(e),r}function je(e){return!e||(e.type==j.NT.Prefix&&""==e.op?e.children.every(je):e.type==j.NT.NewLine)}function Ke(e,t){var n;if(t)return(n=t.vars&&t.vars[e])&&n.modifier!=B.VarModifier.NonLocal?t:Ke(e,t.parent)}function ze(e){var t,n,r=[];for(const i of Object.keys(e.vars))t=e.vars[i],$e(t,e)&&r.push((t=null==t?void 0:t.symbol,n=void 0,n=H(t.name),t=C(g(t)),j.mkStmt(j.mkGroup([j.mkText("let "),n,j.mkText(": "+t+";")]))));return r}function $e(e,t){return 4===e.symbol.kind&&!e.symbol.isParam&&void 0===e.modifier&&(e.lastRefPos>e.forVariableEndPos||e.firstRefPos<e.firstAssignPos||e.firstAssignDepth>t.blockDepth)&&("Module"!==t.kind||"main"!==t.name||0!==e.firstAssignDepth)}function Je(e){var t;if(U.U.assert("Module"==e.kind),!e.tsBody)return b={currClass:void 0,currFun:void 0,currModule:t=e,blockDepth:0},w=t.tsFilename.replace(/\.ts$/,".py"),e.vars||(e.vars={}),(t=ze(e).concat(e.body.map(Q))).every(je)?void 0:"main"==e.name?t:[j.mkText("namespace "+e.name+" "),j.mkBlock(t)]}function qe(e){m=e,I=[],R=0,i=void 0}function Ve(e){e=T(J(e));return e&&"@array"===e.primType}B.py2ts=function(t){var n=[],e={},r=(I=[],U.U.assert(!!t.sourceFiles,"missing sourceFiles! Cannot convert py to ts"),t.sourceFiles.filter(e=>U.U.endsWith(e,".py")));if(0==r.length)return{outfiles:e,diagnostics:I,success:0===I.length,sourceMap:[]};let i=(e,t)=>e.substr(0,e.length-t.length),a=U.U.toDictionary(r,e=>i(e,".py")),s=t.sourceFiles.filter(e=>U.U.endsWith(e,".ts")).filter(e=>i(e,".ts")in a);U.U.assert(!!t.apisInfo,"missing apisInfo! Cannot convert py to ts"),w=r[0];var o=t.apisInfo,c=s;N={},A={};var l,u=U.U.toDictionary(c,e=>e);for(l of U.U.values(o.byQName))if(!u.hasOwnProperty(l.fileName)){let t=l;t.extendsTypes&&(t.extendsTypes=t.extendsTypes.filter(e=>e!=t.qName)),t.pyQName&&t.qName||z(null,9526,U.U.lf("Symbol '{0}' is missing qName for '{1}'",t.name,t.pyQName?"ts":"py")),A[t.pyQName]=t,A[t.qName]=t}M=K("Buffer"),P=t,O=void 0,t.generatedFiles||(t.generatedFiles=[]);for(const B of r){var d=B,p=B.replace(/\.py$/,"").replace(/.*\//,""),f=t.fileSystem[B];try{w=B;var _=U.py.lex(f),m=U.py.parse(f,d,_);U.U.pushRange(I,m.diagnostics),n.push({kind:"Module",body:m.stmts,blockDepth:0,name:p,source:f,tsFilename:d.replace(/\.py$/,".ts")})}catch(e){console.log("Parse error",e)}}var g,c=I;for(let e=0;e<5;++e){qe(e);for(var h of n)try{Je(h)}catch(e){console.log("Conv pass error",e)}if(0==R)break}qe(1e3),F=void 0,O=t.syntaxInfo||{position:0,type:"symbol"};let y=[];for(g of n)try{var v=Je(g);if(!v)continue;var b=j.flattenNode(v);function x(e){var t=e.id.split(":");if(2==t.length)return{py:{startPos:(t=t.map(e=>parseInt(e)))[0],endPos:t[1]},ts:{startPos:e.startPos,endPos:e.endPos}}}t.sourceFiles.push(g.tsFilename),t.generatedFiles.push(g.tsFilename),t.fileSystem[g.tsFilename]=b.output,e[g.tsFilename]=b.output,y=b.sourceMap.map(x).filter(e=>!!e)}catch(e){console.log("Conv error",e)}I=c.concat(I);let k={};o=U.U.values(A).concat(U.U.values(N));let S=[];var T=e=>{(e=>{switch(e.kind){case 6:case 7:case 4:case 3:case 5:return!0;case 2:case 1:return!e.isInstance;default:return!1}})(e)&&S.indexOf(e)<0&&(e=te(e),k[e.qName||e.name]=e)};for(let e=L;e;e=e.parent)e&&e.vars&&U.U.values(e.vars).map(e=>e.symbol).forEach(T);if(o.forEach(T),O&&F){if(F=F,O.beginPos=F.startPos,O.endPos=F.endPos,O.symbols||(O.symbols=[]),S=O.symbols.slice(),"memberCompletion"==O.type&&"Attribute"==F.kind){const U=J(F.value);if(U.moduleType)for(var C of o)C.isInstance||C.namespace!=U.moduleType.qName||O.symbols.push(C);else if(U.classType||U.primType){const B=U.classType||ve(U.primType).reduce((e,t)=>e||t,null);if(B){B.extendsTypes&&B.qName||z(null,9567,lf("missing extendsTypes or qName"));var E,D=B.extendsTypes.concat(B.qName);for(E of o)E.isInstance&&0<=D.indexOf(E.namespace)&&O.symbols.push(E)}}}else"identifierCompletion"==O.type?O.symbols=U.U.values(k):(r=F.symbolInfo)&&O.symbols.push(r);O.symbols=O.symbols.map(te)}c=function(){for(var e of I)B.patchPosition(e,t.fileSystem[e.fileName]);return I}();return{outfiles:e,success:0===c.length,diagnostics:c,syntaxInfo:O,globalNames:k,sourceMap:y}}}}(pxt=pxt||{}),function(N){{var w=N.py||(N.py={}),e;let x;(e=x=w.TokenType||(w.TokenType={}))[e.Id=0]="Id",e[e.Op=1]="Op",e[e.Keyword=2]="Keyword",e[e.Number=3]="Number",e[e.String=4]="String",e[e.NewLine=5]="NewLine",e[e.Comment=6]="Comment",e[e.Indent=7]="Indent",e[e.Dedent=8]="Dedent",e[e.EOF=9]="EOF",e[e.Error=10]="Error",w.keywords={False:!0,None:!0,True:!0,and:!0,as:!0,assert:!0,async:!0,await:!0,break:!0,class:!0,continue:!0,def:!0,del:!0,elif:!0,else:!0,except:!0,finally:!0,for:!0,from:!0,global:!0,if:!0,import:!0,in:!0,is:!0,lambda:!0,nonlocal:!0,not:!0,or:!0,pass:!0,raise:!0,return:!0,try:!0,while:!0,with:!0,yield:!0};let k,S,T=[];const I={"%":"Mod","&":"BitAnd","*":"Mult","**":"Pow","+":"Add","-":"Sub","/":"Div","//":"FloorDiv","<<":"LShift",">>":"RShift","@":"MatMult","^":"BitXor","|":"BitOr"},P={"!":"Bang","!=":"NotEq","(":"LParen",")":"RParen",",":"Comma","->":"Arrow",".":"Dot",":":"Colon",";":"Semicolon","<":"Lt","<=":"LtE","=":"Assign","==":"Eq",">":"Gt",">=":"GtE","[":"LSquare","]":"RSquare","{":"LBracket","}":"RBracket","~":"Invert"},O={b:/^[_0-1]$/,B:/^[_0-1]$/,o:/^[_0-7]$/,O:/^[_0-7]$/,x:/^[_0-9a-fA-F]$/,X:/^[_0-9a-fA-F]$/},F={b:2,B:2,o:8,O:8,x:16,X:16};let C,E,D=0,A=0;function r(t,n){let r=0,i=0;for(let e=0;e<t;++e)10==n.charCodeAt(e)&&(r++,i=e);return{line:r,column:t-i-1}}function a(e){switch(e.type){case x.Id:return`id(${e.value})`;case x.Op:return"'"+S[e.value]+"'";case x.Keyword:return e.value;case x.Number:return`num(${e.value})`;case x.String:return e.stringPrefix+JSON.stringify(e.value);case x.NewLine:return"<nl>";case x.Comment:return`/* ${e.value} */`;case x.Indent:return"indent"+e.value;case x.Dedent:return"dedent";case x.Error:return`[ERR: ${e.value}]`;case x.EOF:return"End of file";default:return"???"}}w.position=r,w.patchPosition=function(e,t){var n;e.start||e.length?(n=r(e.start,t),e.line=n.line,e.column=n.column,0<e.length&&(n=r(e.start+e.length-1,t),e.endLine=n.line,e.endColumn=n.column+2)):(e.start=0,e.length=0,e.line=0,e.column=0)},w.tokenToString=a,w.friendlyTokenToString=function(e,t){let n=e.endPos-e.startPos,r="";return r=(r=0==n?a(e):20<n?"`"+t.slice(e.startPos,e.startPos+20)+"`...":"`"+t.slice(e.startPos,e.endPos)+"`").replace(/\r/g,"").replace(/\n/g,"\\n").replace(/\t/g,"\\t")},w.tokensToString=function(e){let t="",n=0;for(var r of e){var i=a(r);70<n+i.length&&(n=0,t+="\n"),0!=n&&(t+=" "),t+=i,n+=i.length,r.type!=x.NewLine&&r.type!=x.Comment||(n=0,t+="\n")}return t},w.lex=function(e){if(0==T.length){var t,n,r={'"':p,"'":p,"#":g,"\\":m,".":y};k=N.U.clone(P);for(t of Object.keys(I))k[t]=I[t],k[t+"="]=I[t]+"Assign";S={};for(n of Object.keys(k))S[k[n]]=n;for(let t=0;t<128;++t)if(w.rx.isIdentifierStart(t))T[t]=s;else{var i=String.fromCharCode(t);if(r.hasOwnProperty(i))T[t]=r[i];else if(k.hasOwnProperty(i)){let e=!1,r=k[i];for(var a of Object.keys(k))a!=i&&a.startsWith(i)&&(e=!0);T[t]=e?()=>{var e,t=r,n=E.slice(A,D+1);2==n.length&&k.hasOwnProperty(n)&&(e=E.slice(A,D+2),t=3==e.length&&k.hasOwnProperty(e)?(D+=2,k[e]):(D++,k[n])),o(t)}:()=>o(r)}else w.rx.isSpace(t)?T[t]=()=>{}:13==t?T[t]=()=>{10==E.charCodeAt(D)&&D++,f()}:w.rx.isNewline(t)?T[t]=f:v(t)?T[t]=h:T[t]=b}}for(E=e,C=[],D=0,A=0,_();D<E.length;){A=D;const N=E.charCodeAt(D++);N<128?T[N]():w.rx.isIdentifierStart(N)?s():w.rx.isSpace(N)||(w.rx.isNewline(N)?f:b)()}return A=D,f(),l(x.EOF,""),C;function l(e,t,n){e={type:e,value:t,startPos:A,endPos:D,auxValue:n};return C.push(e),e}function u(e){l(x.Error,e)}function s(){for(;w.rx.isIdentifierChar(E.charCodeAt(D));)D++;var e=E.slice(A,D),t=E.charCodeAt(D);w.keywords.hasOwnProperty(e)?l(x.Keyword,e):34==t||39==t?c(e):l(x.Id,e)}function o(e){l(x.Op,e)}function d(e){switch(e){case 97:return 7;case 98:return 8;case 102:return 12;case 110:return 10;case 114:return 13;case 116:return 9;case 118:return 11;default:return 0}}function c(e){var t,n,r=E.charCodeAt(D++);let i=!1,a=(E.charCodeAt(D)==r&&E.charCodeAt(D+1)==r&&(D+=2,i=!0),0<=(e=e.toLowerCase()).indexOf("r")),s="",o="";for(;;){const x=E.charCodeAt(D++);if(x==r){if(!i)break;if(E.charCodeAt(D)==r&&E.charCodeAt(D+1)==r){D+=2;break}o+="\\"+String.fromCharCode(r),s+=String.fromCharCode(r)}else if(92==x){let e=E.charCodeAt(D++);13==e&&10==E.charCodeAt(D)&&(e=10,D++),34==e||39==e||92==e?(a&&(o+="\\",s+="\\"),o+="\\"+String.fromCharCode(e),s+=String.fromCharCode(e)):!a&&d(e)?(o+="\\"+String.fromCharCode(e),s+=String.fromCharCode(d(e))):w.rx.isNewline(e)?a&&(s+="\\"+String.fromCharCode(e),o=(o+="\\\\")+(10==e?"\\n":"\\u"+("0000"+e.toString(16)).slice(-4))):a||48!=e?a||117!=e&&120!=e?(o+="\\\\"+String.fromCharCode(e),s+="\\"+String.fromCharCode(e)):(n=117==e?4:2,t=E.slice(D,D+n),D+=n,n=parseInt(t,16),isNaN(n)&&u(N.U.lf("invalid unicode or hex escape")),o+="\\"+String.fromCharCode(e)+t,s+=String.fromCharCode(n)):(o+="\\\\x00",s+="\0")}else{if(isNaN(x)){u(N.U.lf("end of file in a string"));break}if(w.rx.isNewline(x)&&!i){u(N.U.lf("new line in a string"));break}s+=String.fromCharCode(x),o+=String.fromCharCode(x)}}var c=l(x.String,s);c.quoted=o,c.stringPrefix=e}function p(){D--,c("")}function f(){l(x.NewLine,""),_()}function _(){let e=0;for(;;){var t=E.charCodeAt(D);if(9!=t){if(32!=t)break;e++}else e=e+8&-8;D++}l(x.Indent,""+e)}function m(){var e=E.charCodeAt(D);w.rx.isNewline(e)?(D++,13==e&&10==E.charCodeAt(D)&&D++):u(N.U.lf("unexpected character after line continuation character"))}function g(){for(l(x.NewLine,"");D<E.length&&!w.rx.isNewline(E.charCodeAt(D));)D++;l(x.Comment,E.slice(A+1,D)),13==E.charCodeAt(D)&&10==E.charCodeAt(D+1)&&D++,D++,_()}function h(){let e=E[A],t="";if("0"==e){var n,r=E[D];const a=O[r];if(a){for(D++;;){const N=E[D];if(!a.test(N))break;t+=N,D++}return void(t?(n=parseInt(t,F[r]),isNaN(n)&&u(N.U.lf("invalid number")),l(x.Number,e+r+t,n)):u(N.U.lf("expecting numbers to follow 0b, 0o, 0x")))}}let i=!1,a=!1,s=!1;for(D=A;;){const N=E.charCodeAt(D);if((!s||43!=N&&45!=N)&&(s=!1,95!=N)&&!v(N))if(a||i||46!=N){if(a||69!=N&&101!=N)break;a=!0,s=!0}else i=!0;t+=String.fromCharCode(N),D++}!i&&!a&&"0"==e&&1<t.length&&!/^0+/.test(t)&&u(N.U.lf("unexpected leading zero"));r=parseFloat(t);isNaN(r)&&u(N.U.lf("invalid number")),l(x.Number,t,r)}function y(){v(E.charCodeAt(D))?h():l(x.Op,"Dot")}function v(e){return 48<=e&&e<=57}function b(){u(N.U.lf("invalid token"))}}}}(pxt=pxt||{}),function(f){{var _=f.py||(f.py={});let c,i,a,s,o,l,u,d,p;function m(){return i[o]}function g(){for(;i[o];o++){var t=i[o];if(t.type!=_.TokenType.Comment){if(0<=c&&t.type==_.TokenType.Op)switch(t.value){case"LParen":case"LSquare":case"LBracket":c++;break;case"RParen":case"RSquare":case"RBracket":c--}if(t.type!=_.TokenType.Error){if(0<c){if(t.type==_.TokenType.NewLine||t.type==_.TokenType.Indent)continue}else if(t.type==_.TokenType.Indent){if(i[o+1].type==_.TokenType.NewLine){o++;continue}var n=parseInt(t.value),e=u[u.length-1];if(n==e)continue;if(e<n)return u.push(n);{t.type=_.TokenType.Dedent;let e=0;for(;u.length;){var r=u[u.length-1];if(!(n<r)){for(r!=n&&y(9552,f.U.lf("inconsitent indentation"));1<e;)i.splice(o,0,t),e--;return}u.pop(),e++}}}return}y(9551,t.value)}else l.push(t)}}function h(){(d=m()).type!=_.TokenType.EOF&&(o++,g())}function y(e,t){t=t||f.U.lf("invalid syntax"),e=e||9550;var n=m(),t={code:e,category:pxtc.DiagnosticCategory.Error,messageText:f.U.lf("{0} near {1}",t,_.friendlyTokenToString(n,a)),fileName:s,start:n.startPos,length:n.endPos?n.endPos-n.startPos:0,line:0,column:0};_.patchPosition(t,a),p.push(t),9572!=e&&100<p.length&&f.U.userError(f.U.lf("too many parse errors"))}function t(e,t){var n=m();(n.type==e&&n.value==t||(y(9553,f.U.lf("expecting {0}",_.tokenToString({type:e,value:t,startPos:0,endPos:0}))),n.type!=_.TokenType.NewLine))&&h()}function v(){t(_.TokenType.NewLine,"")}function b(e){t(_.TokenType.Keyword,e)}function x(e){t(_.TokenType.Op,e)}function k(){var e=m();return e.type==_.TokenType.Keyword?e.value:""}function S(){var e=m();return e.type==_.TokenType.Op?e.value:""}const xe={if:function e(){var t=T("If");return h(),t.test=I(),t.body=r(),"elif"==k()?t.orelse=[e()]:t.orelse=E(),C(t)},while:function(){var e=T("While");return b("while"),e.test=I(),e.body=r(),e.orelse=E(),C(e)},for:function(){var e=T("For");return b("for"),e.target=X(),N(e.target),b("in"),e.iter=A(),e.body=r(),e.orelse=E(),C(e)},try:function(){var e=T("Try");b("try"),e.body=r();let t=!(e.handlers=[]);for(;"except"==k();){var n=T("ExceptHandler");e.handlers.push(n),h(),"Colon"!=S()?(t&&y(),n.type=I(),"as"==k()?(h(),n.name=j()):n.name=void 0):(t=!0,n.type=void 0,n.name=void 0),n.body=r()}return e.orelse=E(),0==e.handlers.length&&e.orelse.length&&y(),"finally"==k()?(h(),e.finalbody=r()):e.finalbody=[],C(e)},with:function(){var e=T("With");return b("with"),e.items=he(f.U.lf("with item"),q),e.body=r(),C(e)},def:function(){var e=T("FunctionDef");return b("def"),e.name=j(),x("LParen"),e.args=te(!0),x("RParen"),e.returns=void 0,"Arrow"==S()&&(h(),e.returns=I()),e.body=r(),C(e)},class:function(){var e,t=T("ClassDef");return b("class"),t.name=j(),"LParen"==S()?(e=ve(),t.bases=e.args,t.keywords=e.keywords):(t.bases=[],t.keywords=[]),t.body=r(),C(t)}},ke={del:function(){var e=T("Delete");return b("del"),e.targets=U(f.U.lf("expression"),F),C(e)},pass:function(){var e=T("Pass");return b("pass"),C(e)},break:function(){var e=T("Break");return h(),C(e)},continue:function(){var e=T("Continue");return h(),C(e)},return:function(){var e=T("Return");return h(),n()?e.value=void 0:e.value=A(),C(e)},raise:function(){var e=T("Raise");return b("raise"),e.exc=void 0,e.cause=void 0,n()||(e.exc=I(),"from"==k()&&(h(),e.cause=I())),C(e)},global:D,nonlocal:function(){var e=D();return e.kind="Nonlocal",e},import:function(){var e=T("Import");return h(),e.names=he(f.U.lf("import name"),G),C(e)},from:function(){var e,t=T("ImportFrom");return h(),t.level=function(){let e=0;for(;;){if("Dot"==S())e+=1;else{if("Ellipsis"!=S())return e;e+=3}h()}}(),m().type==_.TokenType.Id?t.module=H():t.module=void 0,t.level||t.module||y(),b("import"),"Mult"==S()?(h(),(e=T("Alias")).name="*",t.names=[e]):"LParen"==S()?(h(),t.names=U(f.U.lf("import name"),W),x("RParen")):t.names=U(f.U.lf("import name"),W),C(t)},assert:function(){var e=T("Assert");return h(),e.test=I(),"Comma"==S()?(h(),e.msg=I()):e.msg=void 0,C(e)},yield:function(){var e;return m(),h(),"from"==k()?(e=T("YieldFrom")).value=I():(e=T("Yield"),n()||(e.value=A())),V(C(e))}};function r(){if(x("Colon"),m().type!=_.TokenType.NewLine)return ee();{let e;if(h(),m().type!=_.TokenType.Indent)y(9554,f.U.lf("expected an indented block")),e=w();else{var t=parseInt(m().value);for(h(),e=w();;){if(m().type==_.TokenType.Dedent){const f=isNaN(t)||parseInt(m().value)<t;if(h(),f)break}if(f.U.pushRange(e,w()),m().type==_.TokenType.EOF)break}}return e}}function T(e,t){t=t||m();return{startPos:t.startPos,endPos:t.endPos,kind:e}}function C(e){return e.endPos=d.endPos,e}function E(){return"else"==k()?(h(),r()):[]}function q(){var e=T("WithItem");return e.context_expr=I(),e.optional_vars=void 0,"as"==k()&&(h(),e.optional_vars=F()),C(e)}function V(e){var t=T("ExprStmt");return t.startPos=e.startPos,t.endPos=e.endPos,t.value=e,t}function n(){var e=m();return e.type==_.TokenType.NewLine||e.type==_.TokenType.Op&&"Semicolon"==e.value}function D(){var e=T("Global");for(h(),e.names=[];e.names.push(j()),"Comma"==S();)h();return C(e)}function H(){let e="";for(;;){if(e+=j(),"Dot"!=S())return e;e+=".",h()}}function G(){var e=T("Alias");return e.name=H(),"as"==k()?(h(),e.asname=j()):e.asname=void 0,C(e)}function W(){var e=T("Alias");return e.name=j(),"as"==k()?(h(),e.asname=j()):e.asname=void 0,C(e)}function Q(e,t){e=T("Tuple",e);return e.elts=t,C(e)}function e(e){var t=m(),e=U(f.U.lf("expression"),e),n=e[0];return 1!=e.length?Q(t,e):n}function Y(){return e(L)}function A(){return e(I)}function X(){return e(F)}function N(e){"Tuple"==e.kind?e.elts.forEach(N):e.ctx="Store"}function Z(){var e=f.U.lookup(ke,k());return(e||function(){let e=m(),t=Y(),n=S();if("Assign"==n){var r=T("Assign");for(r.targets=[t];;){if(h(),t=Y(),"Assign"!=(n=S())){r.value=t;break}r.targets.push(t)}return r.targets.forEach(N),C(r)}var i;return"Colon"==n?((i=T("AnnAssign")).target=t,h(),i.annotation=I(),"Assign"==S()&&(h(),i.value=I()),i.simple=e.type==_.TokenType.Id&&"Name"==t.kind?1:0,N(i.target),C(i)):f.U.endsWith(n,"Assign")?((i=T("AugAssign")).target=t,i.op=n.replace("Assign",""),h(),i.value=A(),N(i.target),C(i)):"Semicolon"==n||m().type==_.TokenType.NewLine?((i=T("ExprStmt")).value=t,C(i)):(y(9555,f.U.lf("unexpected token")),h(),null)})()}function ee(){for(var e=[Z()];"Semicolon"==S()&&(h(),m().type!=_.TokenType.NewLine);)e.push(Z());return v(),e.filter(e=>!!e)}function w(){for(var e,t=p.length,n=m().type==_.TokenType.Indent,r=(n&&(h(),y(9573,f.U.lf("unexpected indent"))),[]);"MatMult"==S();)h(),r.push(be()),v();let i=k(),a=f.U.lookup(xe,k()),s=[],o=l;if(l=[],"class"==i||"def"==i?((e=a()).decorator_list=r,s=[e]):r.length?y(9556,f.U.lf("decorators not allowed here")):s=a?[a()]:ee(),o.length&&s.length&&(s[0]._comments=o),p.length>t){for(c=-1;d.type!=_.TokenType.Dedent&&d.type!=_.TokenType.NewLine&&(h(),m().type!=_.TokenType.EOF););n&&m().type===_.TokenType.Dedent&&h(),c=0}return s}function te(t){var n=T("Arguments");for(n.args=[],n.defaults=[],n.kwonlyargs=[],n.kw_defaults=[],n.vararg=void 0;;){var e=S();if("Colon"==e||"RParen"==e)break;if("Mult"==e)n.vararg&&y(9557,f.U.lf("multiple *arg")),h(),m().type==_.TokenType.Id?n.vararg=r():n.vararg=void 0;else if("Pow"==e)n.kwarg&&y(9558,f.U.lf("multiple **arg")),h(),n.kwarg=r();else{n.kwarg&&y(9559,f.U.lf("arguments after **"));let e,t=r();"Assign"==S()&&(h(),e=I()),void 0!==n.vararg&&e?(n.kwonlyargs.push(t),n.kw_defaults.push(e)):(n.args.push(t),e?n.defaults.push(e):n.defaults.length&&y(9560,f.U.lf("non-default argument follows default argument")))}if("Comma"!=S())break;h()}return n.kwarg||(n.kwarg=void 0),n.vararg||(n.vararg=void 0),C(n);function r(){var e=T("Arg");return e.arg=j(),e.annotation=void 0,t&&"Colon"==S()&&(h(),e.annotation=I()),e}}function ne(e){var t=T("Lambda");return h(),t.args=te(!1),x("Colon"),t.body=(e?fe:I)(),C(t)}function I(){var e,t;return"lambda"==k()?ne():(t=m(),e=P(),"if"==k()?((t=T("IfExp",t)).body=e,b("if"),t.test=P(),b("else"),t.orelse=I(),C(t)):e)}function re(e,t){var n=m(),r=t();if(k()!=e)return r;var i=T("BoolOp",n);for(i.op="or"==e?"Or":"And",i.values=[r];k()==e;)b(e),i.values.push(t());return C(i)}function ie(){return re("and",ae)}function P(){return re("or",ie)}function ae(){if("not"==k())return e=T("UnaryOp"),h(),e.op="Not",e.operand=ae(),C(e);var e=m(),t=F();if(!se())return t;var n=T("Compare",e);for(n.left=t,n.comparators=[],n.ops=[];;){let e=se();if(!e)break;h(),"NotIn"==e?b("in"):"Is"==e&&"not"==k()&&(h(),e="IsNot"),n.ops.push(e),n.comparators.push(F())}return C(n)}const z={Lt:"Lt",Gt:"Gt",Eq:"Eq",GtE:"GtE",LtE:"LtE",NotEq:"NotEq",in:"In",not:"NotIn",is:"Is"};function se(){return z[S()]||z[k()]||null}const $={Invert:"Invert",Sub:"USub",Add:"UAdd"};function O(e,t){let n=m(),r=e();for(;;){var i=S();if(!(i&&0<=t.indexOf(","+i+",")))return r;var a=T("BinOp",n);a.left=r,a.op=i,h(),a.right=e(),r=a}}function oe(){return O(K,",Mult,MatMult,Div,Mod,FloorDiv,")}function ce(){return O(oe,",Add,Sub,")}function le(){return O(ce,",LShift,RShift,")}function ue(){return O(le,",BitAnd,")}function de(){return O(ue,",BitXor,")}function F(){return O(de,",BitOr,")}function pe(){let e,t=m();var n;if("Colon"!=S()&&(e=I()),"Colon"==S())return(n=T("Slice",t)).lower=e,h(),r=S(),n.upper="Colon"!=r&&"Comma"!=r&&"RSquare"!=r?I():void 0,n.step=void 0,"Colon"==S()&&(h(),"Comma"!=(r=S()))&&"RSquare"!=r&&(n.step=I()),C(n);e||y(9570,f.U.lf("unable to parse lower subscript"));var r=T("Index");return r.value=e,C(r)}function L(){var e;return"Mult"==S()?((e=T("Starred")).value=F(),C(e)):I()}function fe(){return"lambda"==k()?ne(!0):P()}function R(){for(var e=[];;){var t=T("Comprehension");for(t.is_async=0,e.push(t),b("for"),t.target=X(),N(t.target),b("in"),t.iter=P(),t.ifs=[];"if"==k();)h(),t.ifs.push(fe());if("for"!=k())return e}}function _e(){var e,t,n=m();return"Mult"==S()?(e=T("Starred"),h(),e.value=I(),C(e)):"Pow"==S()?(e=T("Keyword"),h(),e.arg=void 0,e.value=I(),C(e)):(e=I(),"Assign"==S()?("Name"!=e.kind&&y(9561,f.U.lf("invalid keyword argument; did you mean ==?")),h(),(t=T("Keyword",n)).arg=e.id||"???",t.value=I(),C(t)):"for"==k()?((t=T("GeneratorExp",n)).elt=e,t.generators=R(),C(t)):e)}function M(){var e=T("NameConstant");return e.value=null,h(),C(e)}function me(){var t,n=m();if(n.type==_.TokenType.Id)return t=T("Name"),h(),t.id=n.value,t.ctx="Load",C(t);if(n.type==_.TokenType.Number)return t=T("Num"),h(),t.ns=n.value,t.n=n.auxValue,C(t);if(n.type!=_.TokenType.String)return n.type==_.TokenType.Keyword?"None"==n.value||"True"==n.value||"False"==n.value?(t=T("NameConstant"),h(),t.value="True"==n.value||"False"!=n.value&&null,C(t)):(y(9564,f.U.lf("expecting atom")),M()):n.type==_.TokenType.Op?"LParen"==(t=n.value)?ye("RParen","Tuple","GeneratorExp"):"LSquare"==t?ye("RSquare","List","ListComp"):("LBracket"==t?function(){let a=m();var e,t,n;return h(),"Pow"==S()?(h(),r(void 0,F())):"RBracket"==S()?(e=T("Dict",a),h(),e.keys=[],e.values=[],C(e)):"Starred"!=(e=L()).kind&&"Colon"==S()?(h(),r(e,I())):(e=e,"for"==k()?("Starred"==e.kind&&y(9562,f.U.lf("iterable unpacking cannot be used in comprehension")),(t=T("SetComp",a)).elt=e,t.generators=R()):((t=T("Set",a)).elts=[e],"Comma"==S()?(n=B("RBracket",f.U.lf("set element"),L),t.elts=[e].concat(n)):x("RBracket")),C(t));function s(){var e;return"Pow"==S()?(h(),[null,F()]):(e=I(),x("Colon"),[e,I()])}function r(e,t){var n;if("for"==k())return e||y(9563,f.U.lf("dict unpacking cannot be used in dict comprehension")),(n=T("DictComp",a)).key=e,n.value=t,n.generators=R(),C(n);var r,i=T("Dict",a);if(i.keys=[e],i.values=[t],"Comma"==S())for(r of B("RBracket",f.U.lf("dict element"),s))2<=r.length&&r[0]&&r[1]&&(i.keys.push(r[0]),i.values.push(r[1]));else x("RBracket");return C(i)}}:(y(9565,f.U.lf("unexpected operator")),M))():(y(9566,f.U.lf("unexpected token")),M());{h();let e=n.value;for(;m().type==_.TokenType.String;)e+=m().value,h();return"b"==n.stringPrefix?((t=T("Bytes",n)).s=f.U.toArray(f.U.stringToUint8Array(e)),C(t)):((t=T("Str",n)).s=e,C(t))}}function ge(){var e=S();return"RParen"==e||"RSquare"==e||"RBracket"==e||"Colon"==e||"Semicolon"==e||f.U.endsWith(e,"Assign")||"in"==k()||m().type==_.TokenType.NewLine}function U(e,t){var n=[];if(ge())return n;for(;;){n.push(t());var r="Comma"==S();if(r&&h(),ge())return n;if(!r)return y(9567,f.U.lf("expecting {0}",e)),n}}function he(e,t){for(var n=[];n.push(t()),"Comma"==S();)h();return n}function B(e,t,n){h();var r=[];if(S()!=e)for(;;){r.push(n());var i="Comma"==S();if(i&&h(),S()==e)break;if(!i){y(9568,f.U.lf("expecting {0}",t));break}}return x(e),r}function ye(e,t,n){var r,i=m();return h(),S()==e?(h(),(r=T(t,i)).elts=[],C(r)):(r=L(),"for"==k()?((n=T(n,i)).elt=r,n.generators=R(),x(e),C(n)):"Comma"==S()?(n=T(t,i),h(),n.elts=U(f.U.lf("expression"),L),n.elts.unshift(r),x(e),C(n)):(x(e),"List"==t?((n=T(t,i)).elts=[r],C(n)):r))}function j(){var e=m();return e.type!=_.TokenType.Id&&y(9569,f.U.lf("expecting identifier")),h(),e.value}function ve(){var e,t=[],n=[];for(e of B("RParen",f.U.lf("argument"),_e))("Keyword"==e.kind?n:(n.length&&y(9570,f.U.lf("positional argument follows keyword argument")),t)).push(e);return{args:t,keywords:n}}function be(){let e=m(),t=me();for(;;){n=e,r=t,c=o=s=a=i=void 0;a="LParen"==(c=S())?((i=T("Call",n)).func=r,o=ve(),i.args=o.args,i.keywords=o.keywords,C(i)):"LSquare"==c?(o=m(),(i=T("Subscript",n)).value=r,0==(a=B("RSquare",f.U.lf("subscript"),pe)).length?y(9571,f.U.lf("need non-empty index list")):1==a.length?i.slice=a[0]:a.every(e=>"Index"==e.kind)?((s=a[0]).value=Q(o,a.map(e=>e.value)),i.slice=s):((s=T("ExtSlice",o)).dims=a,i.slice=C(s)),C(i)):"Dot"==c?((o=T("Attribute",n)).value=r,h(),o.attr=j(),C(o)):r;if(a===t)return t;t=a}var n,r,i,a,s,o,c}function K(){var e,t;return $[S()]?((t=T("UnaryOp")).op=$[S()],h(),t.operand=K(),C(t)):(m(),t=be(),"Pow"==S()?(e=T("BinOp"),h(),e.left=t,e.op="Pow",e.right=K(),C(e)):t)}const J={kind:1,id:2,n:3,s:4,func:5,key:6,elt:7,elts:8,keys:9,left:10,ops:11,comparators:12,names:13,items:14,test:15,targets:16,dims:17,context_expr:18,name:19,bases:20,type:21,inClass:22,target:23,annotation:24,simple:25,op:26,operand:27,right:28,values:29,iter:30,ifs:31,is_async:32,value:33,slice:34,attr:35,generators:36,args:37,keywords:38,body:39,handlers:40,orelse:41,finalbody:42,decorator_list:43,kwonlyargs:44,kw_defaults:45,defaults:46,arg:47},Se={lineno:1,col_offset:1,startPos:1,endPos:1,kind:1},Te={body:1,orelse:1,finalbody:1},Ce={_comments:1,ctx:1,ns:1};_.dump=function(e,l=!1){const u=(n,r)=>{if(Array.isArray(r)){let t="";for(let e=0;e<r.length;++e)0<e&&(t+=", "),t+=u(n,r[e]);return"["+t+"]"}if(!r||!r.kind)return JSON.stringify(r);let e="",t=Object.keys(r);t.sort((e,t)=>(J[e]||100)-(J[t]||100)||f.U.strcmp(e,t));for(var i of t)if(!(f.U.lookup(Se,i)||l&&f.U.lookup(Ce,i)))if(e&&(e+=", "),e+=i+"=",Array.isArray(r[i])&&r[i].length&&f.U.lookup(Te,i)){e+="[\n";var a,s=n+"  ";for(a of r[i])e+=s+u(s,a)+"\n";e+=n+"]"}else if("_comments"==i){e+="[\n";var o,c=n+"  ";for(o of r[i])e+=c+JSON.stringify(o.value)+"\n";e+=n+"]"}else e+=u(n,r[i]);return r.kind+"("+e+")"};let t="";for(var n of e)t+=u("",n)+"\n";return t},_.parse=function(e,t,n){a=e,s=t,i=n,c=0,o=0,l=[],u=[0],p=[];let r=[];try{if(d=i[0],g(),m().type!=_.TokenType.EOF)for(r=w();m().type!=_.TokenType.EOF;)f.U.pushRange(r,w())}catch(e){y(9572,f.U.lf("exception: {0}",e.message))}return{stmts:r,diagnostics:p}}}}(pxt=pxt||{}),function(M){function U(e,t,n){e={fileName:e.getSourceFile().fileName,start:e.getStart(),length:e.getEnd()-e.getStart(),line:void 0,column:void 0,code:t,category:pxtc.DiagnosticCategory.Error,messageText:n},t=new Error(n);throw t.pyDiagnostic=e,t}function e(t){return e=>(e||"").split("\n").map(e=>""+B.INDENT.repeat(t)+e).join("\n")}var B;(B=M.py||(M.py={})).decompileToPython=function(e,t){var n={blocksInfo:void 0,outfiles:{},diagnostics:[],success:!0,times:{}};try{var r=function(e,n){const p=e.getTypeChecker(),r=(new ts.pxtc.LSHost(e),e.getSourceFile(n)),i=pxtc.decompiler.buildCommentMap(r),t=M.U.toSet(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EnvironmentError","Exception","False","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","NameError","None","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","True","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError","_","__build_class__","__debug__","__doc__","__import__","__loader__","__name__","__package__","__spec__","abs","all","any","ascii","bin","bool","bytearray","bytes","callable","chr","classmethod","compile","complex","copyright","credits","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","license","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","quit","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip",...Object.keys(M.py.keywords)],e=>e),[a,s]=ts.pxtc.decompiler.buildRenameMap(e,r,{takenNames:t,declarations:"all"}),o=pxtc.getApiInfo(e),u=M.U.mapMap(o.byQName,(e,t)=>t.fileName==n?void 0:t),l=B.computeScopeVariableLookup(r);{let t=(e=r).getChildren().map(y).reduce((e,t)=>e.concat(t),[]).reduce((e,t)=>t||e[e.length-1]?[...e,t]:e,[]);return i.filter(e=>!e.owner).forEach(e=>t.push(...d(e))),t.join("\n")}function b(e){if(!e.getSourceFile())return null;let t=e.getText();var n=p.getSymbolAtLocation(e),n=(n&&(t=p.getFullyQualifiedName(n)),u[t]);if(n&&n.attributes.alias)return n.attributes.alias;if(n&&n.pyQName){if(n.isInstance){if(ts.isPropertyAccessExpression(e))return null;const t=new RegExp(`(?:^|.)${n.namespace}.(.+)`).exec(n.pyQName);if(t)return t[1]}return n.pyQName}return t in pxtc.ts2PyFunNameMap?pxtc.ts2PyFunNameMap[t].n:null}function x(e){var t=b(e);if(t)return t;if(!ts.isIdentifier(e))return M.tickEvent("depython.todo.advancedname"),U(e,3001,"Unsupported advanced name format: "+e.getText());let n=e.text;if(e.getSourceFile()){const M=a.getRenameForPosition(e.getStart());M&&(n=M.name)}return n}function f(e,t){return 0!=(e.flags&t)}function c(e,t){return f(p.getTypeAtLocation(e),t)}function k(e){return c(e,ts.TypeFlags.StringLike)}function h(e){return c(e,ts.TypeFlags.NumberLike)}function y(e){switch(e.kind){case ts.SyntaxKind.SyntaxList:return e._children.map(y).reduce((e,t)=>e.concat(t),[]);case ts.SyntaxKind.EndOfFileToken:case ts.SyntaxKind.OpenBraceToken:case ts.SyntaxKind.CloseBraceToken:return[];default:return n=v(t=e),pxtc.decompiler.getCommentsForStatement(t,i).map(d).reduce((e,t)=>e.concat(t),[]).concat(n)}var t,n}function d(e){var t=[];if(e.kind===pxtc.decompiler.CommentKind.SingleLine)t.push("# "+e.text);else{t.push('"""');for(const n of e.lines)t.push(n);t.push('"""')}return t}function v(a){{if(ts.isVariableStatement(a))return a.declarationList.declarations.map(D).reduce((e,t)=>e.concat(t),[]);if(ts.isClassDeclaration(a))return g=a,M.tickEvent("depython.todo.classes"),U(g,3016,"Unsupported: classes are not supported in Python right now.");if(ts.isEnumDeclaration(a)){g=a;var t=[],n=(t.push(`class ${x(g.name)}(Enum):`),g.members.every(e=>!!e.initializer)),r=!g.members.every(e=>!!e.initializer),i;if(!n&&!r)return M.tickEvent("depython.todo.enummix"),U(g,3005,"Unsupported enum decleration: has mixture of explicit and implicit initialization");if(n)return M.tickEvent("depython.todo.enuminit"),U(g,3006,"Unsupported: explicit enum initialization");let e=0;for(i of g.members)t.push(B.indent1(x(i.name)+" = "+e++));return t}var n,r,s,s,o,c,l,u,d,e,p,f,e,p,e,p,f;if(ts.isExpressionStatement(a))return(n=T((r=a).expression))||([n,r]=R(r.expression),r.length?["",...r,...n,""]:[...r,...n]);if(ts.isFunctionDeclaration(a))return E(a);if(ts.isIfStatement(a))return{supportStmts:s,ifStmt:o,rest:c}=function i(a){let s=[],[e,t]=R(a.expression);s=s.concat(t);let n=`if ${N(e)}:`,o=[],r=S(a.thenStatement);if(o=o.concat(r),a.elseStatement)if(ts.isIfStatement(a.elseStatement)){let{supportStmts:e,ifStmt:t,rest:n}=i(a.elseStatement),r="el"+t;s=s.concat(e),o.push(r),o=o.concat(n)}else{o.push("else:");let e=S(a.elseStatement);o=o.concat(e)}return{supportStmts:s,ifStmt:n,rest:o}}(s=a),s.concat([o]).concat(c);if(ts.isForStatement(a)){if(o=function(e){if(!e.initializer)return null;if(e.initializer.kind!==ts.SyntaxKind.VariableDeclarationList)return null;var t=e.initializer;if(1!==t.declarations.length)return null;var t=t.declarations[0],n=x(t.name);if(!t.initializer||!function(e){return function t(e,n){let r=e=>t(e,n);return ts.isBinaryExpression(e)?r(e.left)&&r(e.right):ts.isPropertyAccessExpression(e)?r(e.expression):ts.isPrefixUnaryExpression(e)||ts.isPostfixUnaryExpression(e)?e.operator!==ts.SyntaxKind.PlusPlusToken&&e.operator!==ts.SyntaxKind.MinusMinusToken&&r(e.operand):ts.isParenthesizedExpression(e)?r(e.expression):ts.isArrayLiteralExpression(e)?e.elements.map(r).reduce((e,t)=>e&&t,!0):ts.isElementAccessExpression(e)?r(e.expression)&&(!e.argumentExpression||r(e.argumentExpression)):n(e)}(e,e=>{switch(e.kind){case ts.SyntaxKind.PropertyAccessExpression:case ts.SyntaxKind.BinaryExpression:case ts.SyntaxKind.ParenthesizedExpression:case ts.SyntaxKind.ArrayLiteralExpression:case ts.SyntaxKind.ElementAccessExpression:case ts.SyntaxKind.TrueKeyword:case ts.SyntaxKind.FalseKeyword:case ts.SyntaxKind.NullKeyword:case ts.SyntaxKind.UndefinedKeyword:case ts.SyntaxKind.NumericLiteral:case ts.SyntaxKind.StringLiteral:case ts.SyntaxKind.NoSubstitutionTemplateLiteral:return!0;case ts.SyntaxKind.CallExpression:case ts.SyntaxKind.NewExpression:case ts.SyntaxKind.FunctionExpression:case ts.SyntaxKind.ArrowFunction:case ts.SyntaxKind.Identifier:case ts.SyntaxKind.ThisKeyword:return!1;case ts.SyntaxKind.PrefixUnaryExpression:case ts.SyntaxKind.PostfixUnaryExpression:return e.operator!==ts.SyntaxKind.PlusPlusToken&&e.operator!==ts.SyntaxKind.MinusMinusToken}return!1})}(t.initializer)||!h(t.initializer))return null;var[t,r]=R(t.initializer);if(r.length)return null;r=N(t);if(!e.condition)return null;if(!ts.isBinaryExpression(e.condition))return null;if(!ts.isIdentifier(e.condition.left))return null;if(x(e.condition.left)!=n)return null;if(!h(e.condition.right))return null;var[t,i]=R(e.condition.right);if(i.length)return null;let a=N(t),s=a;if(e.condition.operatorToken.kind===ts.SyntaxKind.LessThanEqualsToken&&function(e){var t=Math.floor(Number(e));return t!==1/0&&String(t)===e}(a))s=""+(Number(a)+1);else if(e.condition.operatorToken.kind!==ts.SyntaxKind.LessThanToken)return null;return e.incrementor&&(ts.isPostfixUnaryExpression(e.incrementor)||ts.isPrefixUnaryExpression(e.incrementor))&&e.incrementor.operator===ts.SyntaxKind.PlusPlusToken&&r<s?{name:n,fromIncl:r,toExcl:s}:null}(s=a))return{name:o,fromIncl:u,toExcl:l}=o,o="0"===u?`for ${o} in range(${l}):`:`for ${o} in range(${u}, ${l}):`,u=S(s.statement),[o].concat(u);let e,t=[];s.initializer&&(t=ts.isVariableDeclarationList(s.initializer)?(l=s.initializer.declarations.map(D).reduce((e,t)=>e.concat(t),[]),t.concat(l)):([o,u]=R(s.initializer),t.concat(u).concat(o)));let n=`while ${e=s.condition?([o,d]=R(s.condition),t=t.concat(d),N(o)):"True"}:`,r=(t.push(n),v(s.statement).map(B.indent1));return 0!==r.length||s.incrementor||(r=[B.indent1("pass")]),t=t.concat(r),s.incrementor&&(d=T(s.incrementor),t=d?t.concat(d.map(B.indent1)):([o,s]=R(s.incrementor),t.concat(s).concat(o.map(B.indent1)))),t}if(ts.isForOfStatement(a)){if(c=a,!ts.isVariableDeclarationList(c.initializer))return M.tickEvent("depython.todo.forof.complexexp"),U(c,3003,"Unsupported expression in for..of initializer: "+c.initializer.getText());if(1!==(f=c.initializer.declarations.map(e=>x(e.name))).length)return M.tickEvent("depython.todo.forof.multidecl"),U(c,3004,"Unsupported multiple declerations in for..of: "+c.initializer.getText());let e=f[0],[t,n]=R(c.expression),r=n,i=(r=r.concat(w(`for ${e} in `,t,":")),S(c.statement));return r=r.concat(i)}return ts.isWhileStatement(a)?([e,p]=R((f=a).expression),f=S(f.statement),e=w("while ",e,":"),p.concat(e).concat(f)):ts.isReturnStatement(a)?(p=a).expression?([p,e]=R(p.expression),p=w("return ",p),e.concat(p)):["return"]:ts.isBlock(a)?C(a):ts.isTypeAliasDeclaration(a)?(_=a,m=pxtc.emitPyTypeFromTypeNode(_.type),[x(_.name)+" = "+m]):ts.isEmptyStatement(a)?[]:ts.isModuleDeclaration(a)?(m=x((_=a).name),_=_.body&&_.body.getChildren().map(y).reduce((e,t)=>e.concat(t),[]).map(e=>B.indent1(e)),["@namespace",`class ${m}:`].concat(_||[])):ts.isBreakStatement(a)?["break"]:ts.isContinueStatement(a)?["continue"]:(M.tickEvent("depython.todo.statement",{statement:a.kind}),U(a,3002,`Not supported in MakeCode Python: ${ts.SyntaxKind[a.kind]} (${a.kind})`))}var _,m,g}function S(e){let t=v(e).map(B.indent1);return t=t.length<1?[B.indent1("pass")]:t}function T(e){var t,n;return t=e,!ts.isPrefixUnaryExpression(t)&&!ts.isPostfixUnaryExpression(t)||t.operator!==ts.SyntaxKind.MinusMinusToken&&t.operator!==ts.SyntaxKind.PlusPlusToken?null:([t,n]=R(e.operand),e=e.operator===ts.SyntaxKind.MinusMinusToken?" -= 1":" += 1",(n=n).push(N(t)+e),n)}function C(e){return e.getChildren().map(y).reduce((e,t)=>e.concat(t),[])}function E(e,t,n,s){let r=[];e.kind!==ts.SyntaxKind.MethodDeclaration&&e.kind!==ts.SyntaxKind.Constructor||r.push("self");var n=(n?function(n,r){var i=[],a={};for(let t=0;t<Math.max(n.length,r.length);t++){let e;var s;n[t]?(e=n[t],a[x(e.name)]=!0):(s=x((e=r[t]).name),a[s]&&(s=pxtc.decompiler.getNewName(s,a),e=Object.assign({altName:s},r[t]))),i.push(e)}return ts.createNodeArray(i,!1)}(e.parameters,n):e.parameters).map(r=>{{var i=!s;let e=r.altName||x(r.name),t="",n=(r.type&&i&&(i=pxtc.emitPyTypeFromTypeNode(r.type))&&-1===i.indexOf("(TODO")&&(t=": "+i),"");if(r.initializer){var[i,a]=R(r.initializer);if(a.length)return M.tickEvent("depython.todo.complexinit"),U(r,3007,"Unsupported: complex expression in parameter default value not supported. Expression: "+r.initializer.getText());n=" = "+N(i)}return""+e+t+n}});let i,a=(r=r.concat(n)).join(", "),o=[];if(t)i=t;else{if(!e.name)return M.tickEvent("depython.todo.anonymousfunc"),U(e,3012,"Unsupported: anonymous function decleration");i=x(e.name)}if(o.push(`def ${i}(${a}):`),!e.body)return M.tickEvent("depython.todo.funcwithoutbody"),U(e,3013,"Unsupported: function decleration without body");let c=[];return ts.isBlock(e.body)?c=C(e.body):([n,t]=R(e.body),(c=c.concat(t)).concat(n)),c.length?((t=l.getExplicitGlobals(e).map(e=>x(e)))&&t.length&&c.unshift("global "+t.join(", ")),(n=l.getExplicitNonlocals(e).map(e=>x(e)))&&n.length&&c.unshift("nonlocal "+n.join(", ")),o=o.concat(c.map(B.indent1))):o.push(B.indent1("pass")),o}function D(r){let i=[],a=x(r.name);if(r.initializer){let e,[t,n]=R(r.initializer);i=i.concat(n),e=r.type?`${a}: ${pxtc.emitPyTypeFromTypeNode(r.type)} = `+N(t):a+" = "+N(t),i.push(e)}return i}function A(e,t){return[[e],t||[]]}function N(e,t="\n"){return e.join(t)}function w(e="",t,n=""){return t[0]=e+t[0],t[t.length-1]=t[t.length-1]+n,t}function I(e,t){switch(e){case ts.SyntaxKind.BarBarToken:return"or";case ts.SyntaxKind.AmpersandAmpersandToken:return"and";case ts.SyntaxKind.ExclamationToken:return"not";case ts.SyntaxKind.LessThanToken:return"<";case ts.SyntaxKind.LessThanEqualsToken:return"<=";case ts.SyntaxKind.GreaterThanToken:return">";case ts.SyntaxKind.GreaterThanEqualsToken:return">=";case ts.SyntaxKind.EqualsEqualsEqualsToken:case ts.SyntaxKind.EqualsEqualsToken:return"==";case ts.SyntaxKind.ExclamationEqualsEqualsToken:case ts.SyntaxKind.ExclamationEqualsToken:return"!=";case ts.SyntaxKind.EqualsToken:return"=";case ts.SyntaxKind.PlusToken:return"+";case ts.SyntaxKind.MinusToken:return"-";case ts.SyntaxKind.AsteriskToken:return"*";case ts.SyntaxKind.PlusEqualsToken:return"+=";case ts.SyntaxKind.MinusEqualsToken:return"-=";case ts.SyntaxKind.PercentToken:return"%";case ts.SyntaxKind.SlashToken:return"/";case ts.SyntaxKind.PlusPlusToken:case ts.SyntaxKind.MinusMinusToken:return M.tickEvent("depython.todo.unsupportedop",{op:e}),U(t,3008,"Unsupported ++ and -- in an expression (not a statement or for loop)");case ts.SyntaxKind.AmpersandToken:return"&";case ts.SyntaxKind.CaretToken:return"^";case ts.SyntaxKind.LessThanLessThanToken:return"<<";case ts.SyntaxKind.GreaterThanGreaterThanToken:return">>";case ts.SyntaxKind.GreaterThanGreaterThanGreaterThanToken:return M.tickEvent("depython.todo.unsupportedop",{op:e}),U(t,3009,"Unsupported operator: >>>");case ts.SyntaxKind.AsteriskAsteriskToken:return"**";case ts.SyntaxKind.AsteriskAsteriskEqualsToken:return"**=";case ts.SyntaxKind.PercentEqualsToken:return"%=";case ts.SyntaxKind.AsteriskEqualsToken:return"*=";case ts.SyntaxKind.SlashEqualsToken:return"/=";default:return M.tickEvent("depython.todo.unsupportedop",{op:e}),U(t,3008,`Unsupported Python operator (code: ${e})`)}}function _(e){var t;return ts.isPropertyAccessExpression(e)?(t=(t=x(e.name)).substr(t.lastIndexOf(".")+1),ts.isIdentifier(e.expression)?[t]:_(e.expression).concat([t])):ts.isIdentifier(e)?[x(e)]:[]}function m(e,t,n,r){let i="",a=(t&&(i=_(t).map(M.U.snakify).join("_")),[]);if(n&&1<n.length&&r&&1<r.length)for(let e=0;e<n.length&&e<r.length;e++){var s=r[e];f(p.getTypeAtLocation(s),ts.TypeFlags.EnumLike)&&(s=_(s).map(M.U.snakify),a=a.concat(s))}let o=a.join("_"),c="",l=(i||o||!e||(c=x(e.name)),([i,o,c].filter(e=>e).map(M.U.snakify).map(e=>e.toLowerCase()).join("_")||"my_callback").split("_"));4<l.length&&(l=function(e){var t={},n=[];for(var r of e)r in t||(t[r]=!0,n.push(r));return n}(l));for(var u=M.U.toDictionary(["any","on","event"],e=>e);2<l.length;){var d=function(e,t){let n=[],r=!1;for(var i of e)i in t&&!r?r=!0:n.push(i);return n}(l,u);if(d.length==l.length)break;l=d}return(l=["on",...l]).join("_")}function P(i){var e=i.join(", ");return 60<e.length&&1<i.length?i.map((e,t)=>{var n,r=","==e.charAt(e.length-1)?"":",";return 0==t?(e=1<(n=e.split("\n")).length?n.shift()+"\n"+B.indent1(n.join("\n")):e)+r:t==i.length-1?B.indent1(e):B.indent1(e+r)}):[e]}function O(a){let e=p.getTypeAtLocation(a.expression),t=p.typeToTypeNode(e),s=ts.createNodeArray([]);if(ts.isFunctionTypeNode(t)&&(s=t.parameters,a.arguments)&&s.length<a.arguments.length)return M.tickEvent("depython.todo.argparammismatch",{kind:a.kind}),U(a,3010,"TODO: Unsupported call site where caller the arguments outnumber the callee parameters: "+a.getText());var n=(n=a.expression).getSourceFile()&&(n=n.getText(),u[n])||null;if(a.arguments&&n&&"TD_ID"==n.attributes.shim)return R(a.arguments[0]);if(ts.isPropertyAccessExpression(a.expression)&&"toString"===a.expression.name.getText()){const[M,U]=R(a.expression.expression);return[w("str(",M,")"),U]}let[r,i]=R(a.expression),o=N(r),c=(a.arguments||ts.createNodeArray()).map((e,t,n)=>{return e=e,t=s[t],r=a.expression,i=s,n=n,(ts.isFunctionExpression(e)||ts.isArrowFunction(e))&&t&&t.type&&ts.isFunctionTypeNode(t.type)?F(e,m(t,r,i,n),void 0,!0):R(e);var r,i}),l=c.map(([,e])=>e).reduce((e,t)=>e.concat(t),i);return 0===o.indexOf("_py.py_")?c.length<=0?(M.tickEvent("depython.todo._pynoargs"),U(a,3014,"Unsupported: call expression has no arguments for _py.py_ fn")):(o=o.substr(7).split("_").filter((e,t)=>0!==t).join("_"),[w(`${c.shift()[0]}.${o}(`,P(c.map(([e])=>e).reduce((e,t)=>e.concat(t),[])),")"),l]):[w(o+"(",P(c.map(([e])=>e).reduce((e,t)=>e.concat(t),[])),")"),l]}function F(e,t,n,r){t=e.name?x(e.name):("string"!=typeof(t=t||"my_function")&&(t=x(t)),s[t]?pxtc.decompiler.getNewName(t,s):(s[t]=!0,t));return A(t,E(e,t,n,r))}function L(e){switch(e){case ts.SyntaxKind.ExclamationToken:return" ";case ts.SyntaxKind.PlusToken:case ts.SyntaxKind.MinusToken:return"";default:return" "}}function R(c){if(ts.isBinaryExpression(c)){var l=c;let e=k(l.left),t=k(l.right),n=l.operatorToken.kind===ts.SyntaxKind.PlusToken&&(e||t),[r,i]=R(l.left),a=(n&&!e&&(r=w("str(",r,")")),I(l.operatorToken.kind,l)),[s,o]=R(l.right);return n&&!t&&(s=w("str(",s,")")),l=i.concat(o),[w(N(r)+" "+a+" ",s),l]}if(ts.isPropertyAccessExpression(c))return(s=b(l=c))?A(s):([s,o]=R(l.expression),A("length"===(l=x(l.name))?`len(${N(s)})`:N(s)+"."+l,o));var e,t,n,r,i,a,s,o,u,d,p,f,_,m,g,h,y,v;if(ts.isCallExpression(c))return O(c);if(ts.isNewExpression(c))return O(c);if(ts.isFunctionExpression(c)||ts.isArrowFunction(c))return F(c);if(ts.isPrefixUnaryExpression(c))return o=I((s=c).operator,s),[d,u]=R(s.operand),A(""+o+L(s.operator)+N(d),u);if(ts.isPostfixUnaryExpression(c))return u=I((d=c).operator,d),[p,f]=R(d.operand),d=L(d.operator),A(""+N(p)+d+u,f);if(ts.isParenthesizedExpression(c))return[p,f]=R((p=c).expression),A(`(${N(p)})`,f);if(ts.isArrayLiteralExpression(c))return t=(e=(e=c).elements.map(R)).map(([,e])=>e).reduce((e,t)=>e.concat(t),[]),[w("[",P(e.map(([e])=>e).reduce((e,t)=>e.concat(t),[])),"]"),t];if(ts.isElementAccessExpression(c))return(e=c).argumentExpression?([t,i]=R(e.expression),[r,n]=R(e.argumentExpression),i=i.concat(n),A(`${N(t)}[${N(r)}]`,i)):(M.tickEvent("depython.todo.accesswithoutexp"),U(e,3015,"Unsupported: element access expression without an argument expression"));if(ts.isNoSubstitutionTemplateLiteral(c)||ts.isTaggedTemplateExpression(c))return n=c,ts.isNoSubstitutionTemplateLiteral(n)?A(`"""
${B.indent1(n.text.trim())}
"""`):([r,i]=R(n.tag),[n,a]=R(n.template),i=i.concat(a),A(`${N(r)}(${N(n)})`,i));switch(c.kind){case ts.SyntaxKind.TrueKeyword:return A("True");case ts.SyntaxKind.FalseKeyword:return A("False");case ts.SyntaxKind.ThisKeyword:return A("self");case ts.SyntaxKind.NullKeyword:case ts.SyntaxKind.UndefinedKeyword:return A("None")}return ts.isIdentifier(c)?"undefined"==(a=c).text?A("None"):A(x(a)):ts.isNumericLiteral(c)||ts.isStringLiteral(c)?A(c.getText()):ts.isConditionalExpression(c)?([_,v]=R((h=c).condition),[m,g]=R(h.whenTrue),[h,y]=R(h.whenFalse),v=v.concat(g).concat(y),A(`${m} if ${N(_)} else `+N(h),v)):(M.tickEvent("depython.todo.expression",{kind:c.kind}),U(c,3017,"Unsupported expression kind: "+c.kind))}}(e,t),i=t.replace(/(\.py)?\.\w*$/i,"")+".py";n.outfiles[i]=r}catch(e){e.pyDiagnostic?n.diagnostics=[e.pyDiagnostic]:M.reportException(e),n.success=!1}return n},B.INDENT="    ",B.indent=e,B.indent1=e(1)}(pxt=pxt||{}),function(e){e=e.py||(e.py={});{e=e.rx||(e.rx={});const t=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/;e.isIdentifierStart=function(e){return ts.pxtc.isIdentifierStart(e,ts.pxtc.ScriptTarget.ES5)},e.isIdentifierChar=function(e){return ts.pxtc.isIdentifierPart(e,ts.pxtc.ScriptTarget.ES5)},e.isSpace=function(e){return!!(32===e||9===e||11===e||12===e||160===e||5760<=e&&t.test(String.fromCharCode(e)))},e.isNewline=function(e){return 10===e||13===e||8232===e||8233===e}}}(pxt=pxt||{}),function(e){function s(e){const s={refs:[],children:[],owner:void 0};return function t(n){var r;if(!n)return s;if(ts.isPropertyAccessOrQualifiedName(n))return s;if(ts.isIdentifier(n))return{refs:[{kind:"read",node:n,varName:n.text}],children:[],owner:void 0};if(ts.isVariableDeclaration(n)||ts.isParameter(n)){const s=t(n.initializer);return{refs:[...s.refs,{kind:"decl",node:n,varName:n.name.getText()}],children:s.children,owner:void 0}}if(ts.isPrefixUnaryExpression(n)||ts.isPostfixUnaryExpression(n)){const s=t(n.operand),a=n.operand.getText();return o(s,{refs:[{kind:"assign",node:n,varName:a}],children:[],owner:void 0})}if(r=n,i=[ts.SyntaxKind.EqualsToken,ts.SyntaxKind.PlusEqualsToken,ts.SyntaxKind.MinusEqualsToken,ts.SyntaxKind.AsteriskEqualsToken,ts.SyntaxKind.AsteriskAsteriskEqualsToken,ts.SyntaxKind.SlashEqualsToken,ts.SyntaxKind.PercentEqualsToken,ts.SyntaxKind.LessThanLessThanEqualsToken,ts.SyntaxKind.GreaterThanGreaterThanEqualsToken,ts.SyntaxKind.GreaterThanGreaterThanGreaterThanEqualsToken,ts.SyntaxKind.AmpersandEqualsToken,ts.SyntaxKind.BarEqualsToken,ts.SyntaxKind.CaretEqualsToken],ts.isBinaryExpression(r)&&i.some(e=>r.operatorToken.kind===e)){const s=t(n.right);let e;n.operatorToken.kind!==ts.SyntaxKind.EqualsToken&&(e=t(n.left));var i=n.left.getText();return o(e,o(s,{refs:[{kind:"assign",node:n,varName:i}],children:[],owner:void 0}))}if(ts.isFunctionExpression(n)||ts.isArrowFunction(n)||ts.isFunctionDeclaration(n)||ts.isMethodDeclaration(n)){i=null==(a=n.name)?void 0:a.getText();let e;i&&(e={kind:"decl",node:n,varName:i});var a=o(n.parameters.map(e=>t(e)).reduce(o,s),t(n.body));return a.owner=n,{refs:e?[e]:[],children:[a],owner:void 0}}return n.getChildren().map(t).reduce(o,s)}(e);function o(e,t){return e&&t?{refs:[...e.refs,...t.refs],children:[...e.children,...t.children],owner:e.owner||t.owner}:e||t||s}}function u(e,t,n=[]){var r=[],i=[],a=[],s=[],o={};for(const u of e.refs)"read"===u.kind||"assign"===u.kind?(o[u.varName]?a:function(t){return n.map(e=>e[t.varName]).reduce((e,t)=>t||e,void 0)}(u)?i:t&&t[u.varName]?r:s).push(u):o[u.varName]=u;const c=t||o,l=t?[...n,o]:[];return{globalUsage:r,nonlocalUsage:i,localUsage:a,environmentUsage:s,children:e.children.map(e=>u(e,c,l)),owner:e.owner}}function o(e){return e.kind+":"+e.varName}var c;(c=e.py||(e.py={})).computeScopeVariableLookup=function(e){const t=u(s(e)),r=new Map,i=new Map;return function e(t){var n=a([...(n=t).globalUsage,...n.environmentUsage].filter(e=>"assign"===e.kind).map(e=>e)),n=(r.set(t.owner,n),a(t.nonlocalUsage.filter(e=>"assign"===e.kind).map(e=>e)));i.set(t.owner,n),t.children.forEach(e)}(t),{getExplicitGlobals:e=>r.get(e)||[],getExplicitNonlocals:e=>i.get(e)||[]};function n(e){e=e.node.operand||e.node.left;return ts.isIdentifier(e)?e:void 0}function a(e){return e.map(n).filter(e=>!!e).map(e=>e).reduce((e,t)=>e.find(e=>e.text===t.text)?e:[...e,t],[])}},c.toStringVariableScopes=function(e){var e=s(e),t=u(e);return function e(t){return[t.refs.map(o).join(", "),...t.children.map(e).map(e=>e.map(c.indent1)).map(e=>["{",...e,"}"]).reduce((e,t)=>[...e,...t],[])]}(e).join("\n")+"\n\n\n"+function e(t){var n=t.globalUsage.map(o).join(", "),r=t.nonlocalUsage.map(o).join(", "),i=t.localUsage.map(o).join(", "),a=t.environmentUsage.map(o).join(", ");return[n?"global "+n:"",r?"nonlocal "+r:"",i?"local "+i:"",a?"env "+a:"",...t.children.map(e).map(e=>e.map(c.indent1)).map(e=>["{",...e,"}"]).reduce((e,t)=>[...e,...t],[])].filter(e=>!!e)}(t).join("\n")}}(pxt=pxt||{});